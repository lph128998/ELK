/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
webpackJsonp([0],[,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function link(module){links.push(module),module.requires=_lodash2.default.union(module.requires,_lodash2.default.keys(existingModules))}function get(moduleName,requires){var module=existingModules[moduleName];return void 0===module&&(module=existingModules[moduleName]=_angular2.default.module(moduleName,[]),module.close=_lodash2.default.partial(close,moduleName),_lodash2.default.each(links,function(app){~app.requires.indexOf(moduleName)||app.requires.push(moduleName)})),requires&&(module.requires=_lodash2.default.union(module.requires,requires)),module}function close(moduleName){var module=existingModules[moduleName];if(module){var i=links.indexOf(module);i>-1&&links.splice(i,1),_lodash2.default.each(links,function(app){_lodash2.default.pull(app.requires,moduleName)}),delete existingModules[moduleName]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.uiModules=void 0,exports.link=link,exports.get=get,exports.close=close;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),existingModules={},links=[];exports.uiModules={link:link,get:get,close:close}},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _chrome=__webpack_require__(1577);exports.default=_chrome.chrome,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1686)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _notify=__webpack_require__(1728);Object.defineProperty(exports,"notify",{enumerable:!0,get:function(){return _notify.notify}});var _notifier=__webpack_require__(880);Object.defineProperty(exports,"Notifier",{enumerable:!0,get:function(){return _notifier.Notifier}});var _lib=__webpack_require__(429);Object.defineProperty(exports,"getPainlessError",{enumerable:!0,get:function(){return _lib.getPainlessError}});var _fatal_error=__webpack_require__(587);Object.defineProperty(exports,"fatalError",{enumerable:!0,get:function(){return _fatal_error.fatalError}}),Object.defineProperty(exports,"fatalErrorInternals",{enumerable:!0,get:function(){return _fatal_error.fatalErrorInternals}}),Object.defineProperty(exports,"addFatalErrorCallback",{enumerable:!0,get:function(){return _fatal_error.addFatalErrorCallback}});var _toasts=__webpack_require__(2451);Object.defineProperty(exports,"GlobalToastList",{enumerable:!0,get:function(){return _toasts.GlobalToastList}}),Object.defineProperty(exports,"toastNotifications",{enumerable:!0,get:function(){return _toasts.toastNotifications}});var _banners=__webpack_require__(891);Object.defineProperty(exports,"GlobalBannerList",{enumerable:!0,get:function(){return _banners.GlobalBannerList}}),Object.defineProperty(exports,"banners",{enumerable:!0,get:function(){return _banners.banners}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _routes=__webpack_require__(2466);exports.default=_routes.uiRoutes,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var $=window.jQuery=window.$=module.exports=__webpack_require__(1578);__webpack_require__(1579)($)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(1581),module.exports=window.angular,__webpack_require__(1582),__webpack_require__(2).get("kibana",["monospaced.elastic"])},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(handleChange){return function(name){return function(value){if(_lodash2.default.isFunction(handleChange))return handleChange(_defineProperty({},name,value&&value.value||null))}}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_detect_ie=__webpack_require__(1381);exports.default=function(handleChange){return function(name,defaultValue){return function(e){(0,_detect_ie.detectIE)()&&13!==e.keyCode||e.preventDefault();var value=_lodash2.default.get(e,"target.value",defaultValue);if(_lodash2.default.isFunction(handleChange))return handleChange(_defineProperty({},name,value))}}},module.exports=exports.default},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function describeConst(val){return{writable:!1,enumerable:!1,configurable:!1,value:val}}function createLegacyClass(ClassConstructor){return Object.defineProperties(ClassConstructor,props)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLegacyClass=createLegacyClass;var props={inherits:describeConst(function(SuperClass){var prototype=Object.create(SuperClass.prototype,{constructor:describeConst(this),superConstructor:describeConst(SuperClass)});return Object.defineProperties(this,{prototype:describeConst(prototype),Super:describeConst(SuperClass)}),this})}},function(module,exports,__webpack_require__){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoResults=exports.StackedBarChartConfig=exports.InvalidLogScaleValues=exports.PieContainsAllZeros=exports.InvalidWiggleSelection=exports.ContainerTooSmall=exports.VislibError=exports.PersistedStateError=exports.NoDefaultIndexPattern=exports.NoDefinedIndexPatterns=exports.IndexPatternMissingIndices=exports.SavedObjectNotFound=exports.IndexPatternAlreadyExists=exports.DuplicateField=exports.FieldNotFoundInCache=exports.CacheWriteFailure=exports.RestrictedMapping=exports.MappingConflict=exports.VersionConflict=exports.ShardFailure=exports.FetchFailure=exports.RequestFailure=exports.SearchTimeout=exports.KbnError=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_angular=__webpack_require__(13),_angular2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_angular),_legacy_class=__webpack_require__(55),canStack=function(){return!!(new Error).stack}(),KbnError=exports.KbnError=function(){function KbnError(msg,constructor){_classCallCheck(this,KbnError),this.message=msg,Error.captureStackTrace?Error.captureStackTrace(this,constructor||KbnError):this.stack=canStack?(new Error).stack:""}return _createClass(KbnError,[{key:"displayToScreen",value:function(){throw this}}]),KbnError}();(0,_legacy_class.createLegacyClass)(KbnError).inherits(Error);var VislibError=(exports.SearchTimeout=function(_KbnError){function SearchTimeout(){return _classCallCheck(this,SearchTimeout),_possibleConstructorReturn(this,(SearchTimeout.__proto__||Object.getPrototypeOf(SearchTimeout)).call(this,"All or part of your request has timed out. The data shown may be incomplete.",SearchTimeout))}return _inherits(SearchTimeout,_KbnError),SearchTimeout}(KbnError),exports.RequestFailure=function(_KbnError2){function RequestFailure(err,resp){_classCallCheck(this,RequestFailure),err=err||!1;var _this2=_possibleConstructorReturn(this,(RequestFailure.__proto__||Object.getPrototypeOf(RequestFailure)).call(this,"Request to Elasticsearch failed: "+_angular2.default.toJson(resp||err.message),RequestFailure));return _this2.origError=err,_this2.resp=resp,_this2}return _inherits(RequestFailure,_KbnError2),RequestFailure}(KbnError),exports.FetchFailure=function(_KbnError3){function FetchFailure(resp){_classCallCheck(this,FetchFailure);var _this3=_possibleConstructorReturn(this,(FetchFailure.__proto__||Object.getPrototypeOf(FetchFailure)).call(this,"Failed to get the doc: "+_angular2.default.toJson(resp),FetchFailure));return _this3.resp=resp,_this3}return _inherits(FetchFailure,_KbnError3),FetchFailure}(KbnError),exports.ShardFailure=function(_KbnError4){function ShardFailure(resp){_classCallCheck(this,ShardFailure);var _this4=_possibleConstructorReturn(this,(ShardFailure.__proto__||Object.getPrototypeOf(ShardFailure)).call(this,resp._shards.failed+" of "+resp._shards.total+" shards failed.",ShardFailure));return _this4.resp=resp,_this4}return _inherits(ShardFailure,_KbnError4),ShardFailure}(KbnError),exports.VersionConflict=function(_KbnError5){function VersionConflict(resp){_classCallCheck(this,VersionConflict);var _this5=_possibleConstructorReturn(this,(VersionConflict.__proto__||Object.getPrototypeOf(VersionConflict)).call(this,"Failed to store document changes do to a version conflict.",VersionConflict));return _this5.resp=resp,_this5}return _inherits(VersionConflict,_KbnError5),VersionConflict}(KbnError),exports.MappingConflict=function(_KbnError6){function MappingConflict(field){return _classCallCheck(this,MappingConflict),_possibleConstructorReturn(this,(MappingConflict.__proto__||Object.getPrototypeOf(MappingConflict)).call(this,'Field "'+field+'" is defined with at least two different types in indices matching the pattern',MappingConflict))}return _inherits(MappingConflict,_KbnError6),MappingConflict}(KbnError),exports.RestrictedMapping=function(_KbnError7){function RestrictedMapping(field,index){_classCallCheck(this,RestrictedMapping);var msg='"'+field+'" is a restricted field name';return index&&(msg+=", found it while attempting to fetch mapping for index pattern: "+index),_possibleConstructorReturn(this,(RestrictedMapping.__proto__||Object.getPrototypeOf(RestrictedMapping)).call(this,msg,RestrictedMapping))}return _inherits(RestrictedMapping,_KbnError7),RestrictedMapping}(KbnError),exports.CacheWriteFailure=function(_KbnError8){function CacheWriteFailure(){return _classCallCheck(this,CacheWriteFailure),_possibleConstructorReturn(this,(CacheWriteFailure.__proto__||Object.getPrototypeOf(CacheWriteFailure)).call(this,"A Elasticsearch cache write has failed.",CacheWriteFailure))}return _inherits(CacheWriteFailure,_KbnError8),CacheWriteFailure}(KbnError),exports.FieldNotFoundInCache=function(_KbnError9){function FieldNotFoundInCache(name){return _classCallCheck(this,FieldNotFoundInCache),_possibleConstructorReturn(this,(FieldNotFoundInCache.__proto__||Object.getPrototypeOf(FieldNotFoundInCache)).call(this,'The "'+name+'" field was not found in the cached mappings',FieldNotFoundInCache))}return _inherits(FieldNotFoundInCache,_KbnError9),FieldNotFoundInCache}(KbnError),exports.DuplicateField=function(_KbnError10){function DuplicateField(name){return _classCallCheck(this,DuplicateField),_possibleConstructorReturn(this,(DuplicateField.__proto__||Object.getPrototypeOf(DuplicateField)).call(this,'The field "'+name+'" already exists in this mapping',DuplicateField))}return _inherits(DuplicateField,_KbnError10),DuplicateField}(KbnError),exports.IndexPatternAlreadyExists=function(_KbnError11){function IndexPatternAlreadyExists(name){return _classCallCheck(this,IndexPatternAlreadyExists),_possibleConstructorReturn(this,(IndexPatternAlreadyExists.__proto__||Object.getPrototypeOf(IndexPatternAlreadyExists)).call(this,'An index pattern of "'+name+'" already exists',IndexPatternAlreadyExists))}return _inherits(IndexPatternAlreadyExists,_KbnError11),IndexPatternAlreadyExists}(KbnError),exports.SavedObjectNotFound=function(_KbnError12){function SavedObjectNotFound(type,id,link){_classCallCheck(this,SavedObjectNotFound);var idMsg=id?" (id: "+id+")":"",message="Could not locate that "+type+idMsg;link&&(message+=", [click here to re-create it]("+link+")");var _this12=_possibleConstructorReturn(this,(SavedObjectNotFound.__proto__||Object.getPrototypeOf(SavedObjectNotFound)).call(this,message,SavedObjectNotFound));return _this12.savedObjectType=type,_this12.savedObjectId=id,_this12}return _inherits(SavedObjectNotFound,_KbnError12),SavedObjectNotFound}(KbnError),exports.IndexPatternMissingIndices=function(_KbnError13){function IndexPatternMissingIndices(message){_classCallCheck(this,IndexPatternMissingIndices);return _possibleConstructorReturn(this,(IndexPatternMissingIndices.__proto__||Object.getPrototypeOf(IndexPatternMissingIndices)).call(this,message&&message.length?"No matching indices found: "+message:"IndexPattern's configured pattern does not match any indices",IndexPatternMissingIndices))}return _inherits(IndexPatternMissingIndices,_KbnError13),IndexPatternMissingIndices}(KbnError),exports.NoDefinedIndexPatterns=function(_KbnError14){function NoDefinedIndexPatterns(){return _classCallCheck(this,NoDefinedIndexPatterns),_possibleConstructorReturn(this,(NoDefinedIndexPatterns.__proto__||Object.getPrototypeOf(NoDefinedIndexPatterns)).call(this,"Define at least one index pattern to continue",NoDefinedIndexPatterns))}return _inherits(NoDefinedIndexPatterns,_KbnError14),NoDefinedIndexPatterns}(KbnError),exports.NoDefaultIndexPattern=function(_KbnError15){function NoDefaultIndexPattern(){return _classCallCheck(this,NoDefaultIndexPattern),_possibleConstructorReturn(this,(NoDefaultIndexPattern.__proto__||Object.getPrototypeOf(NoDefaultIndexPattern)).call(this,"Please specify a default index pattern",NoDefaultIndexPattern))}return _inherits(NoDefaultIndexPattern,_KbnError15),NoDefaultIndexPattern}(KbnError),exports.PersistedStateError=function(_KbnError16){function PersistedStateError(){return _classCallCheck(this,PersistedStateError),_possibleConstructorReturn(this,(PersistedStateError.__proto__||Object.getPrototypeOf(PersistedStateError)).call(this,"Error with the persisted state",PersistedStateError))}return _inherits(PersistedStateError,_KbnError16),PersistedStateError}(KbnError),exports.VislibError=function(_KbnError17){function VislibError(message){return _classCallCheck(this,VislibError),_possibleConstructorReturn(this,(VislibError.__proto__||Object.getPrototypeOf(VislibError)).call(this,message))}return _inherits(VislibError,_KbnError17),_createClass(VislibError,[{key:"displayToScreen",value:function(handler){handler.error(this.message)}}]),VislibError}(KbnError));exports.ContainerTooSmall=function(_VislibError){function ContainerTooSmall(){return _classCallCheck(this,ContainerTooSmall),_possibleConstructorReturn(this,(ContainerTooSmall.__proto__||Object.getPrototypeOf(ContainerTooSmall)).call(this,"This container is too small to render the visualization"))}return _inherits(ContainerTooSmall,_VislibError),ContainerTooSmall}(VislibError),exports.InvalidWiggleSelection=function(_VislibError2){function InvalidWiggleSelection(){return _classCallCheck(this,InvalidWiggleSelection),_possibleConstructorReturn(this,(InvalidWiggleSelection.__proto__||Object.getPrototypeOf(InvalidWiggleSelection)).call(this,"In wiggle mode the area chart requires ordered values on the x-axis. Try using a Histogram or Date Histogram aggregation."))}return _inherits(InvalidWiggleSelection,_VislibError2),InvalidWiggleSelection}(VislibError),exports.PieContainsAllZeros=function(_VislibError3){function PieContainsAllZeros(){return _classCallCheck(this,PieContainsAllZeros),_possibleConstructorReturn(this,(PieContainsAllZeros.__proto__||Object.getPrototypeOf(PieContainsAllZeros)).call(this,"No results displayed because all values equal 0."))}return _inherits(PieContainsAllZeros,_VislibError3),PieContainsAllZeros}(VislibError),exports.InvalidLogScaleValues=function(_VislibError4){function InvalidLogScaleValues(){return _classCallCheck(this,InvalidLogScaleValues),_possibleConstructorReturn(this,(InvalidLogScaleValues.__proto__||Object.getPrototypeOf(InvalidLogScaleValues)).call(this,"Values less than 1 cannot be displayed on a log scale"))}return _inherits(InvalidLogScaleValues,_VislibError4),InvalidLogScaleValues}(VislibError),exports.StackedBarChartConfig=function(_VislibError5){function StackedBarChartConfig(message){return _classCallCheck(this,StackedBarChartConfig),_possibleConstructorReturn(this,(StackedBarChartConfig.__proto__||Object.getPrototypeOf(StackedBarChartConfig)).call(this,message))}return _inherits(StackedBarChartConfig,_VislibError5),StackedBarChartConfig}(VislibError),exports.NoResults=function(_VislibError6){function NoResults(){return _classCallCheck(this,NoResults),_possibleConstructorReturn(this,(NoResults.__proto__||Object.getPrototypeOf(NoResults)).call(this,"No results found"))}return _inherits(NoResults,_VislibError6),NoResults}(VislibError)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureCatalogueCategory=exports.FeatureCatalogueRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.FeatureCatalogueRegistryProvider=(0,_registry.uiRegistry)({name:"featureCatalogue",index:["id"],group:["category"],order:["title"],filter:function(featureCatalogItem){return Object.keys(featureCatalogItem).length>0}}),exports.FeatureCatalogueCategory={ADMIN:"admin",DATA:"data",OTHER:"other"}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _init_after_bindings_workaround=__webpack_require__(2661);Object.defineProperty(exports,"InitAfterBindingsWorkaround",{enumerable:!0,get:function(){return _init_after_bindings_workaround.InitAfterBindingsWorkaround}}),Object.defineProperty(exports,"callAfterBindingsWorkaround",{enumerable:!0,get:function(){return _init_after_bindings_workaround.callAfterBindingsWorkaround}})},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsMetricAggTypeProvider(Private){function MetricAggType(config){MetricAggType.Super.call(this,config),_lodash2.default.forOwn(config,function(val,key){_lodash2.default.has(MetricAggType.prototype,key)&&(this[key]=val)},this)}var AggType=Private(_agg_type.AggTypesAggTypeProvider);return(0,_legacy_class.createLegacyClass)(MetricAggType).inherits(AggType),MetricAggType.prototype.subtype="Metric Aggregations",MetricAggType.prototype.getValue=function(agg,bucket){var isSettableToZero=-1!==["cardinality","sum"].indexOf(agg.__type.name);return!bucket[agg.id]&&isSettableToZero?0:bucket[agg.id]&&bucket[agg.id].value},MetricAggType.prototype.getFormat=function(agg){var field=agg.getField();return field?field.format:_field_formats.fieldFormats.getDefaultInstance("number")},MetricAggType.prototype.isScalable=function(){return!1},MetricAggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsMetricAggTypeProvider=AggTypesMetricsMetricAggTypeProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_agg_type=__webpack_require__(678),_field_formats=__webpack_require__(99),_legacy_class=__webpack_require__(55)},,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _CATEGORY_DISPLAY_NAM,CATEGORY={BASIC:"basic",DATA:"data",GRAPHIC:"graphic",MAP:"map",OTHER:"other",TIME:"time",HIDDEN:"hidden"},CATEGORY_DISPLAY_NAMES=(_CATEGORY_DISPLAY_NAM={},_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.BASIC,"Basic Charts"),_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.DATA,"Data"),_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.GRAPHIC,"Graphic"),_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.MAP,"Maps"),_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.OTHER,"Other"),_defineProperty(_CATEGORY_DISPLAY_NAM,CATEGORY.TIME,"Time Series"),_CATEGORY_DISPLAY_NAM);exports.CATEGORY=CATEGORY,exports.CATEGORY_DISPLAY_NAMES=CATEGORY_DISPLAY_NAMES},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _saved_objects_client=__webpack_require__(1038);Object.defineProperty(exports,"SavedObjectsClient",{enumerable:!0,get:function(){return _saved_objects_client.SavedObjectsClient}});var _saved_object_registry=__webpack_require__(184);Object.defineProperty(exports,"SavedObjectRegistryProvider",{enumerable:!0,get:function(){return _saved_object_registry.SavedObjectRegistryProvider}});var _saved_objects_client_provider=__webpack_require__(2534);Object.defineProperty(exports,"SavedObjectsClientProvider",{enumerable:!0,get:function(){return _saved_objects_client_provider.SavedObjectsClientProvider}});var _saved_object=__webpack_require__(1039);Object.defineProperty(exports,"SavedObject",{enumerable:!0,get:function(){return _saved_object.SavedObject}});var _find_object_by_title=__webpack_require__(2539);Object.defineProperty(exports,"findObjectByTitle",{enumerable:!0,get:function(){return _find_object_by_title.findObjectByTitle}})},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisFactoryProvider=void 0;var _vis_types=__webpack_require__(698);exports.VisFactoryProvider=function(Private){var VisType=Private(_vis_types.VisTypeProvider),AngularVisType=Private(_vis_types.AngularVisTypeProvider),ReactVisType=Private(_vis_types.ReactVisTypeProvider),VislibVisType=Private(_vis_types.VislibVisTypeProvider);return{createBaseVisualization:function(config){return new VisType(config)},createAngularVisualization:function(config){return new AngularVisType(config)},createReactVisualization:function(config){return new ReactVisType(config)},createVislibVisualization:function(config){return new VislibVisType(config)}}}},,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AggRow(props){var iconClassName="fa fa-eye-slash",iconRowClassName="vis_editor__agg_row-icon";_lodash2.default.last(props.siblings).id===props.model.id&&(iconClassName="fa fa-eye",iconRowClassName+=" last");var dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("div",{className:"vis_editor__agg_sort thor__button-outlined-default sm"},_react2.default.createElement("i",{className:"fa fa-sort"}))))),_react2.default.createElement("div",{className:"vis_editor__agg_row"},_react2.default.createElement("div",{className:"vis_editor__agg_row-item","data-test-subj":"aggRow"},_react2.default.createElement("div",{className:iconRowClassName},_react2.default.createElement("i",{className:iconClassName})),props.children,dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{testSubj:"addMetric",addTooltip:"Add Metric",deleteTooltip:"Delete Metric",onAdd:props.onAdd,onDelete:props.onDelete,disableDelete:props.disableDelete})))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_eui=__webpack_require__(5);AggRow.propTypes={disableDelete:_propTypes2.default.bool,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onDelete:_propTypes2.default.func,siblings:_propTypes2.default.array},exports.default=AggRow,module.exports=exports.default},,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Schemas=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_indexed_array=__webpack_require__(131),_agg_params=__webpack_require__(677),Schemas=function Schemas(schemas){var _this=this;_classCallCheck(this,Schemas),(0,_lodash2.default)(schemas||[]).map(function(schema){if(!schema.name)throw new Error("all schema must have a unique name");return"split"===schema.name?(schema.params=[{name:"row",default:!0}],schema.editor=__webpack_require__(3343)):"radius"===schema.name&&(schema.editor=__webpack_require__(3344)),_lodash2.default.defaults(schema,{min:0,max:1/0,group:"buckets",title:schema.name,aggFilter:"*",editor:!1,params:[],deprecate:!1}),schema.params=new _agg_params.AggParams(schema.params),schema}).tap(function(schemas){_this.all=new _indexed_array.IndexedArray({index:["name"],group:["group"],immutable:!0,initialSet:schemas})}).groupBy("group").forOwn(function(group,groupName){_this[groupName]=new _indexed_array.IndexedArray({index:["name"],immutable:!0,initialSet:group})}).commit()};exports.Schemas=Schemas},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function filterByPanelType(panelType){return function(agg){return"table"!==panelType||"series_agg"!==agg.value}}function AggSelect(props){var siblings=props.siblings,panelType=props.panelType,enablePipelines=siblings.some(function(s){return!!metricAggs.find(function(m){return m.value===s.type})});siblings.length<=1&&(enablePipelines=!1);var options=void 0;options="metrics"===panelType?metricAggs:[{label:"Metric Aggregations",value:null,heading:!0,disabled:!0}].concat(metricAggs,[{label:"Parent Pipeline Aggregations",value:null,pipeline:!0,heading:!0,disabled:!0}],_toConsumableArray(pipelineAggs.filter(filterByPanelType(panelType)).map(function(agg){return _extends({},agg,{disabled:!enablePipelines})})),[{label:"Sibling Pipeline Aggregations",value:null,pipeline:!0,heading:!0,disabled:!0}],_toConsumableArray(siblingAggs.map(function(agg){return _extends({},agg,{disabled:!enablePipelines})})),[{label:"Special Aggregations",value:null,pipeline:!0,heading:!0,disabled:!0}],_toConsumableArray(specialAggs.map(function(agg){return _extends({},agg,{disabled:!enablePipelines})})));var handleChange=function(value){value&&(value.disabled||value.value&&props.onChange(value))};return _react2.default.createElement("div",{"data-test-subj":"aggSelector",className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{"aria-label":"Select aggregation",clearable:!1,options:options,value:props.value,optionComponent:AggSelectOption,onChange:handleChange}))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),metricAggs=[{label:"Average",value:"avg"},{label:"Cardinality",value:"cardinality"},{label:"Count",value:"count"},{label:"Filter Ratio",value:"filter_ratio"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Percentile",value:"percentile"},{label:"Percentile Rank",value:"percentile_rank"},{label:"Static Value",value:"static"},{label:"Std. Deviation",value:"std_deviation"},{label:"Sum",value:"sum"},{label:"Sum of Squares",value:"sum_of_squares"},{label:"Top Hit",value:"top_hit"},{label:"Value Count",value:"value_count"},{label:"Variance",value:"variance"}],pipelineAggs=[{label:"Bucket Script",value:"calculation"},{label:"Cumulative Sum",value:"cumulative_sum"},{label:"Derivative",value:"derivative"},{label:"Moving Average",value:"moving_average"},{label:"Positive Only",value:"positive_only"},{label:"Serial Difference",value:"serial_diff"}],siblingAggs=[{label:"Overall Average",value:"avg_bucket"},{label:"Overall Max",value:"max_bucket"},{label:"Overall Min",value:"min_bucket"},{label:"Overall Std. Deviation",value:"std_deviation_bucket"},{label:"Overall Sum",value:"sum_bucket"},{label:"Overall Sum of Squares",value:"sum_of_squares_bucket"},{label:"Overall Variance",value:"variance_bucket"}],specialAggs=[{label:"Series Agg",value:"series_agg"},{label:"Math",value:"math"}],AggSelectOption=function(_Component){function AggSelectOption(props){_classCallCheck(this,AggSelectOption);var _this=_possibleConstructorReturn(this,(AggSelectOption.__proto__||Object.getPrototypeOf(AggSelectOption)).call(this,props));return _this.handleMouseMove=_this.handleMouseMove.bind(_this),_this.handleMouseEnter=_this.handleMouseEnter.bind(_this),_this.handleMouseDown=_this.handleMouseDown.bind(_this),_this}return _inherits(AggSelectOption,_Component),_createClass(AggSelectOption,[{key:"handleMouseDown",value:function(event){event.preventDefault(),event.stopPropagation(),this.props.onSelect(this.props.option,event)}},{key:"handleMouseEnter",value:function(event){this.props.onFocus(this.props.option,event)}},{key:"handleMouseMove",value:function(event){this.props.isFocused||this.props.onFocus(this.props.option,event)}},{key:"render",value:function(){var _props$option=this.props.option,label=_props$option.label,heading=_props$option.heading,pipeline=_props$option.pipeline,style={paddingLeft:heading?0:10};if(heading){var note=void 0;return pipeline&&(note=_react2.default.createElement("span",{className:"vis_editor__agg_select-note"},"(requires child aggregation)")),_react2.default.createElement("div",{className:"Select-option vis_editor__agg_select-heading",onMouseEnter:this.handleMouseEnter,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,"aria-label":label},_react2.default.createElement("span",{className:"Select-value-label",style:style},_react2.default.createElement("strong",null,label),note))}return _react2.default.createElement("div",{className:this.props.className,onMouseEnter:this.handleMouseEnter,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,"aria-label":label},_react2.default.createElement("span",{className:"Select-value-label",style:style},this.props.children))}}]),AggSelectOption}(_react.Component);AggSelectOption.props={children:_propTypes2.default.node,className:_propTypes2.default.string,isDisabled:_propTypes2.default.bool,isFocused:_propTypes2.default.bool,isSelected:_propTypes2.default.bool,onFocus:_propTypes2.default.func,onSelect:_propTypes2.default.func,option:_propTypes2.default.object.isRequired},AggSelect.propTypes={onChange:_propTypes2.default.func,panelType:_propTypes2.default.string,siblings:_propTypes2.default.array,value:_propTypes2.default.string},exports.default=AggSelect,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(handleChange,model){return function(part){var doc=_lodash2.default.assign({},model,part);handleChange(doc)}},module.exports=exports.default},,,,function(module,exports,__webpack_require__){"use strict";function uiRegistry(spec){spec=spec||{};var constructor=_lodash2.default.has(spec,"constructor")&&spec.constructor,filter=_lodash2.default.has(spec,"filter")&&spec.filter,invokeProviders=_lodash2.default.has(spec,"invokeProviders")&&spec.invokeProviders,iaOpts=_lodash2.default.defaults(_lodash2.default.pick(spec,_indexed_array.IndexedArray.OPT_NAMES),{index:["name"]}),props=_lodash2.default.omit(spec,notPropsOptNames),providers=[],registry=function(Private,$injector){iaOpts.initialSet=invokeProviders?$injector.invoke(invokeProviders,void 0,{providers:providers}):providers.map(Private),filter&&_lodash2.default.isFunction(filter)&&(iaOpts.initialSet=iaOpts.initialSet.filter(function(item){return filter(item)}));var modules=new _indexed_array.IndexedArray(iaOpts);return _lodash2.default.assign(modules,props),constructor&&(modules=$injector.invoke(constructor,modules)||modules),modules};return registry.displayName="[registry "+props.name+"]",registry.register=function(privateModule){return providers.push(privateModule),registry},registry}Object.defineProperty(exports,"__esModule",{value:!0}),exports.uiRegistry=uiRegistry;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_indexed_array=__webpack_require__(131),notPropsOptNames=_indexed_array.IndexedArray.OPT_NAMES.concat("constructor","invokeProviders")},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisTypesRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.VisTypesRegistryProvider=(0,_registry.uiRegistry)({name:"visTypes",index:["name"],order:["title"]})},,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldFormats=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_field_format=__webpack_require__(453),_indexed_array=__webpack_require__(131),FieldFormatRegistry=function(_IndexedArray){function FieldFormatRegistry(){_classCallCheck(this,FieldFormatRegistry);var _this=_possibleConstructorReturn(this,(FieldFormatRegistry.__proto__||Object.getPrototypeOf(FieldFormatRegistry)).call(this,{group:["fieldType"],index:["id","name"]}));return _this.getDefaultConfig=function(fieldType){return _this._defaultMap[fieldType]||_this._defaultMap._default_},_this.getType=function(formatId){return _this.byId[formatId]},_this.getDefaultType=function(fieldType){return _this.byId[_this.getDefaultConfig(fieldType).id]},_this.getInstance=_lodash2.default.memoize(function(formatId){return new(0,this.byId[formatId])(null,this.getConfig)}),_this.getDefaultInstance=_lodash2.default.memoize(function(fieldType){var conf=this.getDefaultConfig(fieldType);return new(0,this.byId[conf.id])(conf.params,this.getConfig)}),_this.name="fieldFormats",_this.displayName="[registry "+_this.name+"]",_this.register=function(module){return _this.push(module(_field_format.FieldFormat)),_this},_this._uiSettings=_chrome2.default.getUiSettingsClient(),_this.getConfig=function(){var _this$_uiSettings;return(_this$_uiSettings=_this._uiSettings).get.apply(_this$_uiSettings,arguments)},_this._defaultMap=[],_this._providers=[],_this.init(),_this}return _inherits(FieldFormatRegistry,_IndexedArray),_createClass(FieldFormatRegistry,[{key:"init",value:function(){var _this2=this;this.parseDefaultTypeMap(this._uiSettings.get("format:defaultTypeMap")),this._uiSettings.subscribe(function(_ref){var key=_ref.key,newValue=_ref.newValue;"format:defaultTypeMap"===key&&_this2.parseDefaultTypeMap(newValue)})}},{key:"parseDefaultTypeMap",value:function(value){this._defaultMap=value,_lodash2.default.forOwn(this,function(fn){_lodash2.default.isFunction(fn)&&fn.cache&&(fn.cache=new _lodash2.default.memoize.Cache)})}}]),FieldFormatRegistry}(_indexed_array.IndexedArray);exports.fieldFormats=new FieldFormatRegistry},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _url=__webpack_require__(2480);Object.defineProperty(exports,"KbnUrlProvider",{enumerable:!0,get:function(){return _url.KbnUrlProvider}});var _modify_url=__webpack_require__(2482);Object.defineProperty(exports,"modifyUrl",{enumerable:!0,get:function(){return _modify_url.modifyUrl}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2664),__webpack_require__(2666),__webpack_require__(2668),__webpack_require__(2).get("kibana",["ui.ace"]),module.exports=window.ace},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseInterval(interval){var matches=String(interval).trim().match(INTERVAL_STRING_RE);if(!matches)return null;try{var value=parseFloat(matches[1])||1,unit=matches[2],duration=_moment2.default.duration(value,unit),selectedUnit=_lodash2.default.find(_datemath2.default.units,function(unit){return Math.abs(duration.as(unit))>=1});return _moment2.default.duration(duration.as(selectedUnit),selectedUnit)}catch(e){return null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseInterval=parseInterval;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath),INTERVAL_STRING_RE=new RegExp("^([0-9\\.]*)\\s*("+_datemath2.default.units.join("|")+")$")},,function(module,exports,__webpack_require__){"use strict";(module.exports=__webpack_require__(3607)).tz.load(__webpack_require__(3608))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _registry=__webpack_require__(92);exports.default=(0,_registry.uiRegistry)({name:"timelionPanels",index:["name"],order:["name"]}),module.exports=exports.default},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nodeTypes=void 0;var _function=__webpack_require__(2566),functionType=_interopRequireWildcard(_function),_literal=__webpack_require__(455),literal=_interopRequireWildcard(_literal),_named_arg=__webpack_require__(2576),namedArg=_interopRequireWildcard(_named_arg),_wildcard=__webpack_require__(640),wildcard=_interopRequireWildcard(_wildcard);exports.nodeTypes={function:functionType,literal:literal,namedArg:namedArg,wildcard:wildcard}},,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddDeleteButtons(props){var testSubj=props.testSubj,deleteBtn=function(){return props.disableDelete?null:_react2.default.createElement(_eui.EuiToolTip,{content:props.deleteTooltip},_react2.default.createElement("button",{"data-test-subj":testSubj+"DeleteBtn","aria-label":props.deleteTooltip,className:"thor__button-outlined-danger thor__button-delete sm",onClick:props.onDelete},_react2.default.createElement("i",{className:"fa fa-trash-o"})))}(),addBtn=function(){return props.disableAdd?null:_react2.default.createElement(_eui.EuiToolTip,{content:props.addTooltip},_react2.default.createElement("button",{"data-test-subj":testSubj+"AddBtn","aria-label":props.addTooltip,className:"thor__button-outlined-default sm thor__button-add",onClick:props.onAdd},_react2.default.createElement("i",{className:"fa fa-plus"})))}(),clone=void 0;return props.onClone&&!props.disableAdd&&(clone=_react2.default.createElement(_eui.EuiToolTip,{content:props.cloneTooltip},_react2.default.createElement("button",{"data-test-subj":testSubj+"CloneBtn","aria-label":props.cloneTooltip,className:"thor__button-outlined-default thor__button-clone sm",onClick:props.onClone},_react2.default.createElement("i",{className:"fa fa-files-o"})))),_react2.default.createElement("div",{className:"add_delete__buttons"},clone,addBtn,deleteBtn)}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eui=__webpack_require__(5);AddDeleteButtons.defaultProps={testSubj:"Add",addTooltip:"Add",deleteTooltip:"Delete",cloneTooltip:"Clone"},AddDeleteButtons.propTypes={addTooltip:_propTypes2.default.string,deleteTooltip:_propTypes2.default.string,cloneTooltip:_propTypes2.default.string,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,onClone:_propTypes2.default.func,onAdd:_propTypes2.default.func,onDelete:_propTypes2.default.func},exports.default=AddDeleteButtons,module.exports=exports.default},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.recentlyAccessed=exports.PersistedLog=void 0;var _persisted_log=__webpack_require__(1019);Object.defineProperty(exports,"PersistedLog",{enumerable:!0,get:function(){return _persisted_log.PersistedLog}});var _recently_accessed=__webpack_require__(2464);Object.defineProperty(exports,"recentlyAccessed",{enumerable:!0,get:function(){return _recently_accessed.recentlyAccessed}}),__webpack_require__(1019)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _indexed_array=__webpack_require__(2506);Object.defineProperty(exports,"IndexedArray",{enumerable:!0,get:function(){return _indexed_array.IndexedArray}})},,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(310).DevToolsRegistryProvider.register(function(){return{order:1,name:"console",display:"Console",url:"#/dev_tools/console"}})},,,function(module,exports,__webpack_require__){"use strict";function createDashboardEditUrl(id){return"/dashboard/"+id}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDashboardEditUrl=createDashboardEditUrl;var DASHBOARD_GRID_COLUMN_COUNT=(exports.DashboardConstants={ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM:"addToDashboard",NEW_VISUALIZATION_ID_PARAM:"addVisualization",LANDING_PAGE_PATH:"/dashboards",CREATE_NEW_DASHBOARD_URL:"/dashboard"},exports.DASHBOARD_GRID_COLUMN_COUNT=48);exports.DASHBOARD_GRID_HEIGHT=20,exports.DEFAULT_PANEL_WIDTH=DASHBOARD_GRID_COLUMN_COUNT/2,exports.DEFAULT_PANEL_HEIGHT=15},function(module,exports,__webpack_require__){"use strict";function hideEmptyDevTools(Private){Private(_dev_tools.DevToolsRegistryProvider).length||(_chrome2.default.getNavLinkById("kibana:dev_tools").hidden=!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hideEmptyDevTools=hideEmptyDevTools;var _modules=__webpack_require__(2),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_dev_tools=__webpack_require__(310);_modules.uiModules.get("kibana").run(hideEmptyDevTools)},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _panel=__webpack_require__(3639),_panel2=_interopRequireDefault(_panel);_interopRequireDefault(__webpack_require__(110)).default.register(function(Private){return new _panel2.default("timechart",Private(__webpack_require__(3640))())})},,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4293),window.L=module.exports=__webpack_require__(4294),window.L.Browser.touch=!1,window.L.Browser.pointer=!1,__webpack_require__(4295),__webpack_require__(4296),__webpack_require__(4297),__webpack_require__(4298),__webpack_require__(4299)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eui=__webpack_require__(5),_custom_color_picker=__webpack_require__(4539),_custom_color_picker2=_interopRequireDefault(_custom_color_picker),ColorPicker=function(_Component){function ColorPicker(props){_classCallCheck(this,ColorPicker);var _this=_possibleConstructorReturn(this,(ColorPicker.__proto__||Object.getPrototypeOf(ColorPicker)).call(this,props));return _this.state={displayPlicker:!1,color:{}},_this.handleClick=_this.handleClick.bind(_this),_this.handleChange=_this.handleChange.bind(_this),_this.handleClear=_this.handleClear.bind(_this),_this.handleClose=_this.handleClose.bind(_this),_this}return _inherits(ColorPicker,_Component),_createClass(ColorPicker,[{key:"handleChange",value:function(color){var rgb=color.rgb,part={};part[this.props.name]="rgba("+rgb.r+","+rgb.g+","+rgb.b+","+rgb.a+")",this.props.onChange&&this.props.onChange(part)}},{key:"handleClick",value:function(){this.setState({displayPicker:!this.state.displayColorPicker})}},{key:"handleClose",value:function(){this.setState({displayPicker:!1})}},{key:"handleClear",value:function(){var part={};part[this.props.name]=null,this.props.onChange(part)}},{key:"renderSwatch",value:function(){return this.props.value?_react2.default.createElement("button",{"aria-label":"Color picker ({this.props.value}), not accessible",style:{backgroundColor:this.props.value},className:"vis_editor__color_picker-swatch",onClick:this.handleClick}):_react2.default.createElement("button",{"aria-label":"Color picker, not accessible",className:"vis_editor__color_picker-swatch-empty",onClick:this.handleClick})}},{key:"render",value:function(){var swatch=this.renderSwatch(),value=this.props.value||void 0,clear=void 0;return this.props.disableTrash||(clear=_react2.default.createElement("div",{className:"vis_editor__color_picker-clear",onClick:this.handleClear},_react2.default.createElement(_eui.EuiToolTip,{content:"Clear"},_react2.default.createElement("i",{className:"fa fa-ban"})))),_react2.default.createElement("div",{className:"vis_editor__color_picker"},swatch,clear,this.state.displayPicker?_react2.default.createElement("div",{className:"vis_editor__color_picker-popover"},_react2.default.createElement("div",{className:"vis_editor__color_picker-cover",onClick:this.handleClose}),_react2.default.createElement(_custom_color_picker2.default,{color:value,onChangeComplete:this.handleChange})):null)}}]),ColorPicker}(_react.Component);ColorPicker.propTypes={name:_propTypes2.default.string.isRequired,value:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),disableTrash:_propTypes2.default.bool,onChange:_propTypes2.default.func},exports.default=ColorPicker,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function YesNo(props){var name=props.name,value=props.value,handleChange=function(value){var name=props.name;return function(){var parts=_defineProperty({},name,value);props.onChange(parts)}},inputName=name+_lodash2.default.uniqueId();return _react2.default.createElement("div",{className:"thor__yes_no"},_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"radio",name:inputName,checked:Boolean(value),value:"yes",onChange:handleChange(1)}),"Yes"),_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"radio",name:inputName,checked:!Boolean(value),value:"no",onChange:handleChange(0)}),"No"))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);YesNo.propTypes={name:_propTypes2.default.string,value:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string])},exports.default=YesNo,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FieldSelect(props){var type=props.type,fields=props.fields,indexPattern=props.indexPattern;if("count"===type)return null;var options=(fields[indexPattern]||[]).filter((0,_generate_by_type_filter2.default)(props.restrict)).map(function(field){return{label:field.name,value:field.name}});return _react2.default.createElement(_reactSelect2.default,{inputProps:{id:props.id},placeholder:"Select field...",disabled:props.disabled,options:options,value:props.value,onChange:props.onChange})}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_generate_by_type_filter=__webpack_require__(4542),_generate_by_type_filter2=_interopRequireDefault(_generate_by_type_filter);FieldSelect.defaultProps={indexPattern:"*",disabled:!1,restrict:"none"},FieldSelect.propTypes={disabled:_propTypes2.default.bool,fields:_propTypes2.default.object,id:_propTypes2.default.string,indexPattern:_propTypes2.default.string,onChange:_propTypes2.default.func,restrict:_propTypes2.default.string,type:_propTypes2.default.string,value:_propTypes2.default.string},exports.default=FieldSelect,module.exports=exports.default},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function deepFreeze(object){return Object.keys(object).forEach(function(key){var value=object[key];_lodash2.default.isObject(value)&&deepFreeze(value)}),Object.freeze(object)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.metadata=void 0;var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);exports.metadata=deepFreeze(function(){if(!("__KBN__"in window)){var state=(0,_jquery2.default)("kbn-initial-state").attr("data");window.__KBN__=JSON.parse(state)}return window.__KBN__}())},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ast=__webpack_require__(1054);Object.defineProperty(exports,"fromLegacyKueryExpression",{enumerable:!0,get:function(){return _ast.fromLegacyKueryExpression}}),Object.defineProperty(exports,"fromKueryExpression",{enumerable:!0,get:function(){return _ast.fromKueryExpression}}),Object.defineProperty(exports,"fromLiteralExpression",{enumerable:!0,get:function(){return _ast.fromLiteralExpression}}),Object.defineProperty(exports,"toElasticsearchQuery",{enumerable:!0,get:function(){return _ast.toElasticsearchQuery}})},function(module,exports,__webpack_require__){"use strict";function FilterBarQueryFilterProvider(Private,$rootScope,getAppState,globalState,config){function validateStateFilters(state){var compacted=_lodash2.default.compact(state.filters);return state.filters.length!==compacted.length&&(state.filters=compacted,state.replace()),state.filters}function saveState(){var appState=getAppState();appState&&appState.save(),globalState.save()}function appendStoreType(type){return function(filter){return filter.$state={store:type},filter}}function executeOnFilters(fn){var appState=getAppState(),globalFilters=[],appFilters=[];globalState.filters&&(globalFilters=globalState.filters),appState&&appState.filters&&(appFilters=appState.filters),globalFilters.concat(appFilters).forEach(fn)}function mergeStateFilters(gFilters,aFilters,compareOptions){var globalFilters=gFilters?_lodash2.default.cloneDeep(gFilters):[],appFilters=aFilters?_lodash2.default.cloneDeep(aFilters):[];return compareOptions=_lodash2.default.defaults(compareOptions||{},{disabled:!0}),_lodash2.default.each(appFilters,function(filter,i){var match=_lodash2.default.find(globalFilters,function(globalFilter){return(0,_compare_filters.compareFilters)(globalFilter,filter,compareOptions)});match&&(_lodash2.default.assign(match.meta,filter.meta),appFilters.splice(i,1))}),[(0,_uniq_filters.uniqFilters)(globalFilters,{disabled:!0}),(0,_uniq_filters.uniqFilters)(appFilters,{disabled:!0})]}var EventEmitter=Private(_events.EventsProvider),mapAndFlattenFilters=Private(_map_and_flatten_filters.FilterBarLibMapAndFlattenFiltersProvider),queryFilter=new EventEmitter;return queryFilter.getFilters=function(){var compareOptions={disabled:!0,negate:!0},appFilters=queryFilter.getAppFilters(),globalFilters=queryFilter.getGlobalFilters();return(0,_uniq_filters.uniqFilters)(globalFilters.concat(appFilters),compareOptions)},queryFilter.getAppFilters=function(){var appState=getAppState();return appState&&appState.filters?(appState.filters=validateStateFilters(appState),appState.filters?_lodash2.default.map(appState.filters,appendStoreType("appState")):[]):[]},queryFilter.getGlobalFilters=function(){return globalState.filters?(globalState.filters=validateStateFilters(globalState),_lodash2.default.map(globalState.filters,appendStoreType("globalState"))):[]},queryFilter.addFilters=function(filters,global){if(void 0===global){var configDefault=config.get("filters:pinnedByDefault");!1!==configDefault&&!0!==configDefault||(global=configDefault)}var appState=getAppState(),filterState=global?globalState:appState;return Array.isArray(filters)||(filters=[filters]),mapAndFlattenFilters(filters).then(function(filters){filterState.filters||(filterState.filters=[]),filterState.filters=filterState.filters.concat(filters)})},queryFilter.removeFilter=function(matchFilter){var appState=getAppState(),filter=_lodash2.default.omit(matchFilter,["$$hashKey"]),state=void 0,index=void 0;if(appState&&-1!==(index=_lodash2.default.findIndex(appState.filters,filter))&&(state=appState),!state){if(-1===(index=_lodash2.default.findIndex(globalState.filters,filter)))return;state=globalState}state.filters.splice(index,1)},queryFilter.removeAll=function(){getAppState().filters=[],globalState.filters=[]},queryFilter.toggleFilter=function(filter,force){var disabled=_lodash2.default.isUndefined(force)?!filter.meta.disabled:!!force;return filter.meta.disabled=disabled,filter},queryFilter.toggleAll=function(force){function doToggle(filter){queryFilter.toggleFilter(filter,force)}executeOnFilters(doToggle)},queryFilter.invertFilter=function(filter){return filter.meta.negate=!filter.meta.negate,filter},queryFilter.invertAll=function(){executeOnFilters(queryFilter.invertFilter)},queryFilter.pinFilter=function(filter,force){var appState=getAppState();if(!appState)return filter;Array.isArray(globalState.filters)||(globalState.filters=[]),Array.isArray(appState.filters)||(appState.filters=[]);var appIndex=_lodash2.default.findIndex(appState.filters,function(appFilter){return _lodash2.default.isEqual(appFilter,filter)});if(-1!==appIndex&&!1!==force)appState.filters.splice(appIndex,1),globalState.filters.push(filter);else{var globalIndex=_lodash2.default.findIndex(globalState.filters,function(globalFilter){return _lodash2.default.isEqual(globalFilter,filter)});if(-1===globalIndex||!0===force)return filter;globalState.filters.splice(globalIndex,1),appState.filters.push(filter)}return filter},queryFilter.pinAll=function(force){function pin(filter){queryFilter.pinFilter(filter,force)}executeOnFilters(pin)},function(){function initAppStateWatchers(){var stateWatchers=[{fn:$rootScope.$watch,deep:!0,get:queryFilter.getGlobalFilters},{fn:$rootScope.$watch,deep:!0,get:queryFilter.getAppFilters}];return $rootScope.$watchMulti(stateWatchers,function(next,prev){if(!_lodash2.default.isEqual(next,prev)){var doUpdate=!1,doFetch=!1,filters=mergeStateFilters(next[0],next[1]),globalFilters=filters[0],appFilters=filters[1],appState=getAppState(),globalChanged=!_lodash2.default.isEqual(next[0],globalFilters),appChanged=!_lodash2.default.isEqual(next[1],appFilters);if(globalChanged||appChanged)return globalState.filters=globalFilters,void(appState&&(appState.filters=appFilters));!function(){var newFilters=[],oldFilters=[];stateWatchers.forEach(function(watcher,i){var nextVal=next[i],prevVal=prev[i];newFilters=newFilters.concat(nextVal),oldFilters=oldFilters.concat(prevVal),nextVal!==prevVal&&(nextVal&&(doUpdate=!0),(0,_only_disabled.onlyDisabled)(nextVal,prevVal)||(doFetch=!0))}),doFetch&&newFilters.length===oldFilters.length&&(0,_only_state_changed.onlyStateChanged)(newFilters,oldFilters)&&(doFetch=!1)}(),doUpdate&&(saveState(),queryFilter.emit("update").then(function(){doFetch&&queryFilter.emit("fetch")}))}})}var removeAppStateWatchers=void 0;$rootScope.$watch(getAppState,function(){removeAppStateWatchers&&removeAppStateWatchers(),removeAppStateWatchers=initAppStateWatchers()})}(),queryFilter}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarQueryFilterProvider=FilterBarQueryFilterProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_only_disabled=__webpack_require__(2707),_only_state_changed=__webpack_require__(2708),_uniq_filters=__webpack_require__(1076),_compare_filters=__webpack_require__(460),_events=__webpack_require__(240),_map_and_flatten_filters=__webpack_require__(650)},,,function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsBucketAggTypeProvider(Private){function BucketAggType(config){BucketAggType.Super.call(this,config),_lodash2.default.isFunction(config.getKey)&&(this.getKey=config.getKey)}var AggType=Private(_agg_type.AggTypesAggTypeProvider);return(0,_legacy_class.createLegacyClass)(BucketAggType).inherits(AggType),BucketAggType.prototype.getKey=function(bucket,key){return key||bucket.key},BucketAggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsBucketAggTypeProvider=AggTypesBucketsBucketAggTypeProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_agg_type=__webpack_require__(678),_legacy_class=__webpack_require__(55)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _time_buckets=__webpack_require__(3351);Object.defineProperty(exports,"TimeBucketsProvider",{enumerable:!0,get:function(){return _time_buckets.TimeBucketsProvider}})},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _view=__webpack_require__(4182);Object.keys(_view).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _view[key]}})});var _panels=__webpack_require__(4183);Object.keys(_panels).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _panels[key]}})});var _embeddables=__webpack_require__(4184);Object.defineProperty(exports,"renderEmbeddable",{enumerable:!0,get:function(){return _embeddables.renderEmbeddable}}),Object.defineProperty(exports,"embeddableRenderFinished",{enumerable:!0,get:function(){return _embeddables.embeddableRenderFinished}}),Object.defineProperty(exports,"embeddableRenderError",{enumerable:!0,get:function(){return _embeddables.embeddableRenderError}}),Object.defineProperty(exports,"destroyEmbeddable",{enumerable:!0,get:function(){return _embeddables.destroyEmbeddable}});var _metadata=__webpack_require__(4185);Object.defineProperty(exports,"updateDescription",{enumerable:!0,get:function(){return _metadata.updateDescription}}),Object.defineProperty(exports,"updateTitle",{enumerable:!0,get:function(){return _metadata.updateTitle}})},,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(1685)},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.SavedObjectRegistryProvider=(0,_registry.uiRegistry)({name:"savedObjects",index:["loaderProperties.name"],order:["loaderProperties.name"]})},function(module,exports,__webpack_require__){"use strict";function buildRangeFilter(field,params,indexPattern,formattedValue){var filter={meta:{index:indexPattern.id}};if(formattedValue&&(filter.meta.formattedValue=formattedValue),"gte"in(params=_lodash2.default.mapValues(params,function(value){return"number"===field.type?parseFloat(value):value}))&&"gt"in params)throw new Error("gte and gt are mutually exclusive");if("lte"in params&&"lt"in params)throw new Error("lte and lt are mutually exclusive");return["gt","lt"].reduce(function(totalInfinite,op){var key=op in params?op:op+"e";return Math.abs(params[key])===1/0&&(totalInfinite++,delete params[key]),totalInfinite},0)===OPERANDS_IN_RANGE?(filter.match_all={},filter.meta.field=field.name):field.scripted?(filter.script=getRangeScript(field,params),filter.meta.field=field.name):(filter.range={},filter.range[field.name]=params),filter}function getRangeScript(field,params){var operators={gt:">",gte:">=",lte:"<=",lt:"<"},comparators={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},knownParams=_lodash2.default.pick(params,function(val,key){return key in operators}),script=_lodash2.default.map(knownParams,function(val,key){return"("+field.script+")"+operators[key]+key}).join(" && ");if("painless"===field.lang){script=""+_lodash2.default.reduce(knownParams,function(acc,val,key){return acc.concat(comparators[key])},[]).join(" ")+_lodash2.default.map(knownParams,function(val,key){return key+"(() -> { "+field.script+" }, params."+key+")"}).join(" && ")}var value=_lodash2.default.map(knownParams,function(val,key){return operators[key]+field.format.convert(val)}).join(" ");return{script:{inline:script,params:_extends({},knownParams,{value:value}),lang:field.lang}}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.buildRangeFilter=buildRangeFilter,exports.getRangeScript=getRangeScript;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),OPERANDS_IN_RANGE=2},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2640),__webpack_require__(2646),__webpack_require__(2878),__webpack_require__(3183),__webpack_require__(300)},,,,,,,function(module,exports,__webpack_require__){"use strict";function AggConfig(vis,opts){var self=this;self.id=String(opts.id||AggConfig.nextId(vis.aggs)),self.vis=vis,self._opts=opts=opts||{},self.enabled="boolean"!=typeof opts.enabled||opts.enabled,self.params={},self.type=opts.type,self.schema=opts.schema,self.setParams(opts.params||{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggConfig=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_field_formats=__webpack_require__(99);AggConfig.ensureIds=function(list){var have=[],haveNot=[];list.forEach(function(obj){(obj.id?have:haveNot).push(obj)});var nextId=AggConfig.nextId(have);return haveNot.forEach(function(obj){obj.id=String(nextId++)}),list},AggConfig.nextId=function(list){return 1+list.reduce(function(max,obj){return Math.max(max,+obj.id||0)},0)},Object.defineProperties(AggConfig.prototype,{type:{get:function(){return this.__type},set:function(type){this.__typeDecorations&&_lodash2.default.forOwn(this.__typeDecorations,function(prop,name){delete this[name]},this),_lodash2.default.isString(type)&&(type=AggConfig.aggTypes.byName[type]),type&&_lodash2.default.isFunction(type.decorateAggConfig)&&(this.__typeDecorations=type.decorateAggConfig(),Object.defineProperties(this,this.__typeDecorations)),this.__type=type,this.setParams({row:this.params.row,field:_lodash2.default.get(this.getFieldOptions(),["byName",this.getField()])})}},schema:{get:function(){return this.__schema},set:function(schema){_lodash2.default.isString(schema)&&(schema=this.vis.type.schemas.all.byName[schema]),this.__schema=schema}}}),AggConfig.prototype.setParams=function(from){var self=this;from=from||self.params||{};var to=self.params={};self.getAggParams().forEach(function(aggParam){var val=from[aggParam.name];if(null==val){if(null==aggParam.default)return;if(_lodash2.default.isFunction(aggParam.default)){if(null==(val=aggParam.default(self)))return}else val=aggParam.default}if(aggParam.deserialize){var isTyped=_lodash2.default.isFunction(aggParam.type),isType=isTyped&&val instanceof aggParam.type,isObject=!isTyped&&_lodash2.default.isObject(val);return isType||isObject||(val=aggParam.deserialize(val,self)),void(to[aggParam.name]=val)}to[aggParam.name]=_lodash2.default.cloneDeep(val)})},AggConfig.prototype.write=function(){return this.type.params.write(this)},AggConfig.prototype.isFilterable=function(){return _lodash2.default.isFunction(this.type.createFilter)},AggConfig.prototype.createFilter=function(key){if(!this.isFilterable())throw new TypeError('The "'+this.type.title+'" aggregation does not support filtering.');var field=this.getField(),label=this.getFieldDisplayName();if(field&&!field.filterable){var message='The "'+label+'" field can not be used for filtering.';throw field.scripted&&(message='The "'+label+'" field is scripted and can not be used for filtering.'),new TypeError(message)}return this.type.createFilter(this,key)},AggConfig.prototype.onSearchRequestStart=function(searchSource,searchRequest){var _this=this;return this.type?Promise.all(this.type.params.map(function(param){return param.modifyAggConfigOnSearchRequestStart(_this,searchSource,searchRequest)})):Promise.resolve()},AggConfig.prototype.toDsl=function(){if(!this.type.hasNoDsl){var output=this.write(),configDsl={};if(configDsl[this.type.dslName||this.type.name]=output.params,this.subAggs&&!output.subAggs&&(output.subAggs=this.subAggs),output.subAggs){var subDslLvl=configDsl.aggs||(configDsl.aggs={});output.subAggs.forEach(function(subAggConfig){subDslLvl[subAggConfig.id]=subAggConfig.toDsl()})}if(output.parentAggs){var _subDslLvl=configDsl.parentAggs||(configDsl.parentAggs={});output.parentAggs.forEach(function(subAggConfig){_subDslLvl[subAggConfig.id]=subAggConfig.toDsl()})}return configDsl}},AggConfig.prototype.toJSON=function(){var self=this,params=self.params,outParams=_lodash2.default.transform(self.getAggParams(),function(out,aggParam){var val=params[aggParam.name];null!=val&&(aggParam.serialize&&(val=aggParam.serialize(val,self)),null!=val&&(out[aggParam.name]=_lodash2.default.cloneDeep(val)))},{});return{id:self.id,enabled:self.enabled,type:self.type&&self.type.name,schema:self.schema&&self.schema.name,params:outParams}},AggConfig.prototype.getAggParams=function(){return[].concat(this.type?this.type.params.raw:[],_lodash2.default.has(this,"schema.params")?this.schema.params.raw:[])},AggConfig.prototype.getRequestAggs=function(){if(this.type)return this.type.getRequestAggs(this)||[this]},AggConfig.prototype.getResponseAggs=function(){if(this.type)return this.type.getResponseAggs(this)||[this]},AggConfig.prototype.getValue=function(bucket){return this.type.getValue(this,bucket)},AggConfig.prototype.getKey=function(bucket,key){return this.type.getKey(bucket,key,this)},AggConfig.prototype.getFieldDisplayName=function(){var field=this.getField();return field?field.displayName||this.fieldName():""},AggConfig.prototype.getField=function(){return this.params.field},AggConfig.prototype.makeLabel=function(){if(this.params.customLabel)return this.params.customLabel;if(!this.type)return"";var pre="percentage"===_lodash2.default.get(this.vis,"params.mode")?"Percentage of ":"";return pre+=this.type.makeLabel(this)},AggConfig.prototype.getIndexPattern=function(){return this.vis.indexPattern},AggConfig.prototype.getFieldOptions=function(){var fieldParamType=this.type&&this.type.params.byName.field;return fieldParamType&&fieldParamType.getFieldOptions?fieldParamType.getFieldOptions(this):null},AggConfig.prototype.fieldFormatter=function(contentType,defaultFormat){var format=this.type&&this.type.getFormat(this);return format?format.getConverterFor(contentType):this.fieldOwnFormatter(contentType,defaultFormat)},AggConfig.prototype.fieldOwnFormatter=function(contentType,defaultFormat){var field=this.getField(),format=field&&field.format;return format||(format=defaultFormat),format||(format=_field_formats.fieldFormats.getDefaultInstance("string")),format.getConverterFor(contentType)},AggConfig.prototype.fieldName=function(){var field=this.getField();return field?field.name:""},AggConfig.prototype.fieldIsTimeField=function(){var timeFieldName=this.vis.indexPattern.timeFieldName;return timeFieldName&&this.fieldName()===timeFieldName},exports.AggConfig=AggConfig},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DashboardViewMode={EDIT:"edit",VIEW:"view"}},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeNestedLabel=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),makeNestedLabel=function(aggConfig,label){var uppercaseLabel=_lodash2.default.startCase(label);if(aggConfig.params.customMetric){var metricLabel=aggConfig.params.customMetric.makeLabel();return metricLabel.includes(uppercaseLabel+" of ")?(metricLabel=metricLabel.substring((uppercaseLabel+" of ").length),metricLabel="2. "+label+" of "+metricLabel):metricLabel=metricLabel.includes(label+" of ")?parseInt(metricLabel.substring(0,1))+1+metricLabel.substring(1):uppercaseLabel+" of "+metricLabel,metricLabel}var metric=aggConfig.vis.aggs.find(function(agg){return agg.id===aggConfig.params.metricAgg});return metric?uppercaseLabel+" of "+metric.makeLabel():""};exports.makeNestedLabel=makeNestedLabel},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(data){var lookback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(_lodash2.default.isNumber(data))return data;if(!Array.isArray(data))return 0;var last=data[data.length-1],lastValue=Array.isArray(last)&&last[1];if(lastValue)return lastValue;for(var lookbackCounter=1,value=void 0;lookback>lookbackCounter&&!value;){var next=data[data.length-++lookbackCounter];value=_lodash2.default.isArray(next)&&next[1]||0}return value||0},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPattern=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),IndexPattern=exports.IndexPattern=function(props){var _defaults,fields=props.fields,prefix=props.prefix,handleSelectChange=(0,_create_select_handler2.default)(props.onChange),handleTextChange=(0,_create_text_handler2.default)(props.onChange),timeFieldName=prefix+"time_field",indexPatternName=prefix+"index_pattern",intervalName=prefix+"interval",dropBucketName=prefix+"drop_last_bucket",defaults=(_defaults={},_defineProperty(_defaults,indexPatternName,"*"),_defineProperty(_defaults,intervalName,"auto"),_defineProperty(_defaults,dropBucketName,1),_defaults),htmlId=(0,_eui.htmlIdGenerator)(),model=_extends({},defaults,props.model);return _react2.default.createElement("div",{className:props.className},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("indexPattern")},"Index Pattern"),_react2.default.createElement("input",{id:htmlId("indexPattern"),className:"vis_editor__input",disabled:props.disabled,onChange:handleTextChange(indexPatternName,"*"),value:model[indexPatternName]}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("timeField")},"Time Field"),_react2.default.createElement("div",{className:"vis_editor__index_pattern-fields"},_react2.default.createElement(_field_select2.default,{id:htmlId("timeField"),restrict:"date",value:model[timeFieldName],disabled:props.disabled,onChange:handleSelectChange(timeFieldName),indexPattern:model[indexPatternName],fields:fields})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("interval")},"Interval (auto, 1m, 1d, 7d, 1y, >=1m)"),_react2.default.createElement("input",{id:htmlId("interval"),className:"vis_editor__input",disabled:props.disabled,onChange:handleTextChange(intervalName,"auto"),value:model[intervalName]}),_react2.default.createElement("div",{className:"vis_editor__label"},"Drop Last Bucket"),_react2.default.createElement(_yes_no2.default,{value:model[dropBucketName],name:dropBucketName,onChange:props.onChange}))};IndexPattern.defaultProps={prefix:"",disabled:!1,className:"vis_editor__row"},IndexPattern.propTypes={model:_propTypes2.default.object.isRequired,fields:_propTypes2.default.object.isRequired,onChange:_propTypes2.default.func.isRequired,prefix:_propTypes2.default.string,disabled:_propTypes2.default.bool,className:_propTypes2.default.string}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function createTypeFilter(restrict,exclude){return function(metric){if(_lodash2.default.includes(exclude,metric.type))return!1;switch(restrict){case"basic":return _lodash2.default.includes(_basic_aggs2.default,metric.type);default:return!0}}}function filterRows(includeSiblings){return function(row){return includeSiblings?!/^series/.test(row.type)&&!/^percentile/.test(row.type)&&"math"!==row.type:!/_bucket$/.test(row.type)&&!/^series/.test(row.type)&&!/^percentile/.test(row.type)&&"math"!==row.type}}function MetricSelect(props){var restrict=props.restrict,metric=props.metric,onChange=props.onChange,value=props.value,exclude=props.exclude,includeSiblings=props.includeSiblings,metrics=props.metrics.filter(createTypeFilter(restrict,exclude)),siblings=(0,_calculate_siblings2.default)(metrics,metric),percentileOptions=siblings.filter(function(row){return/^percentile/.test(row.type)}).reduce(function(acc,row){var label=(0,_calculate_label2.default)(row,metrics);return row.percentiles.forEach(function(p){if(p.value){var _value=/\./.test(p.value)?p.value:p.value+".0";acc.push({value:row.id+"["+_value+"]",label:label+" ("+_value+")"})}}),acc},[]),options=siblings.filter(filterRows(includeSiblings)).map(function(row){var label=(0,_calculate_label2.default)(row,metrics);return{value:row.id,label:label}});return _react2.default.createElement(_reactSelect2.default,{"aria-label":"Select metric",placeholder:"Select metric...",options:[].concat(_toConsumableArray(options),_toConsumableArray(props.additionalOptions),_toConsumableArray(percentileOptions)),value:value,onChange:onChange})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterRows=filterRows;var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_calculate_siblings=__webpack_require__(4544),_calculate_siblings2=_interopRequireDefault(_calculate_siblings),_calculate_label=__webpack_require__(755),_calculate_label2=_interopRequireDefault(_calculate_label),_basic_aggs=__webpack_require__(1372),_basic_aggs2=_interopRequireDefault(_basic_aggs);MetricSelect.defaultProps={additionalOptions:[],exclude:[],metric:{},restrict:"none",includeSiblings:!1},MetricSelect.propTypes={additionalOptions:_propTypes2.default.array,exclude:_propTypes2.default.array,metric:_propTypes2.default.object,onChange:_propTypes2.default.func,restrict:_propTypes2.default.string,value:_propTypes2.default.string,includeSiblings:_propTypes2.default.bool},exports.default=MetricSelect},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function handleChange(props,doc){var model=props.model,name=props.name,collection=model[name]||[],part={};part[name]=collection.map(function(row){return row.id===doc.id?doc:row}),_lodash2.default.isFunction(props.onChange)&&props.onChange(_lodash2.default.assign({},model,part))}function handleDelete(props,doc){var model=props.model,name=props.name,collection=model[name]||[],part={};part[name]=collection.filter(function(row){return row.id!==doc.id}),_lodash2.default.isFunction(props.onChange)&&props.onChange(_lodash2.default.assign({},model,part))}function handleAdd(props){var fn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:newFn;_lodash2.default.isFunction(fn)||(fn=newFn);var model=props.model,name=props.name,collection=model[name]||[],part={};part[name]=collection.concat([fn()]),_lodash2.default.isFunction(props.onChange)&&props.onChange(_lodash2.default.assign({},model,part))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleChange=handleChange,exports.handleDelete=handleDelete,exports.handleAdd=handleAdd;var _uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),newFn=function(){return{id:_uuid2.default.v1()}};exports.default={handleAdd:handleAdd,handleDelete:handleDelete,handleChange:handleChange}},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function EventsProvider(Private,Promise){function Events(){Events.Super.call(this),this._listeners={},this._emitChain=Promise.resolve()}return(0,_legacy_class.createLegacyClass)(Events).inherits(_simple_emitter.SimpleEmitter),Events.prototype.on=function(name,handler){Array.isArray(this._listeners[name])||(this._listeners[name]=[]);var listener={handler:handler};return this._listeners[name].push(listener),function rebuildDefer(){listener.defer=Promise.defer(),listener.resolved=listener.defer.promise.then(function(args){rebuildDefer(),Promise.resolve(handler.apply(handler,args)).catch(function(error){return(0,_notify.fatalError)(error,location)})})}(),this},Events.prototype.off=function(name,handler){return name||handler?this._listeners[name]?(handler?this._listeners[name]=_lodash2.default.filter(this._listeners[name],function(listener){return handler!==listener.handler}):delete this._listeners[name],this):this:this.removeAllListeners()},Events.prototype.emit=function(name){var self=this,args=_lodash2.default.rest(arguments);return self._listeners[name]?Promise.map(self._listeners[name],function(listener){return self._emitChain=self._emitChain.then(function(){if(self._listeners[name]&&!(self._listeners[name].indexOf(listener)<0))return listener.defer.resolve(args),listener.resolved})}):self._emitChain},Events.prototype.listeners=function(name){return _lodash2.default.pluck(this._listeners[name],"handler")},Events}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventsProvider=EventsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_notify=__webpack_require__(10),_simple_emitter=__webpack_require__(628),_legacy_class=__webpack_require__(55),location="EventEmitter"},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(2525)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function parseInitialState(initialState){return initialState?"string"==typeof initialState?JSON.parse(initialState):_lodash2.default.cloneDeep(initialState):{}}function isIndexPattern(val){return Boolean(val&&"function"==typeof val.toIndexList)}function SearchSourceProvider(Promise,PromiseEmitter,Private,config){var SearchRequest=Private(_request.SearchRequestProvider),SegmentedRequest=Private(_segmented.SegmentedRequestProvider),normalizeSortRequest=Private(_normalize_sort_request.NormalizeSortRequestProvider),fetchSoon=Private(_fetch.FetchSoonProvider),buildESQuery=Private(_build_query.BuildESQueryProvider),_Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardFilter=_Private.fieldWildcardFilter,getConfig=function(){return config.get.apply(config,arguments)},forIp=Symbol("for which index pattern?");return function(){function SearchSource(initialState){var _this=this;_classCallCheck(this,SearchSource),this.toJSON=function(){return _lodash2.default.clone(this._state)},this._instanceid=_lodash2.default.uniqueId("data_source"),this._state=parseInitialState(initialState),this._methods=["type","query","filter","sort","highlight","highlightAll","aggs","from","searchAfter","size","source","version","fields"],this._methods.forEach(function(name){_this[name]=function(val){return null==val?delete _this._state[name]:_this._state[name]=val,_this}}),this.history=[],this._requestStartHandlers=[],this._inheritOptions={},this._filterPredicates=[function(filter){return filter},function(filter){var disabled=_lodash2.default.get(filter,"meta.disabled");return void 0===disabled||!1===disabled},function(filter,state){if(!config.get("courier:ignoreFilterIfFieldNotInIndex"))return!0;if("meta"in filter&&"index"in state){if(!state.index.fields.byName[filter.meta.key])return!1}return!0}]}return _createClass(SearchSource,[{key:"index",value:function(indexPattern){var state=this._state;if(state.source&&state.source.hasOwnProperty(forIp)&&state.source[forIp]===state.index&&delete state.source,void 0===indexPattern)return state.index;if(null===indexPattern)return delete state.index;if(!isIndexPattern(indexPattern))throw new TypeError("expected indexPattern to be an IndexPattern duck.");return state.index=indexPattern,state.source||(state.source=function(){return indexPattern.getSourceFiltering()},state.source[forIp]=indexPattern),this}},{key:"inherits",value:function(parent){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._parent=parent,this._inheritOptions=options,this}},{key:"getParent",value:function(onlyHardLinked){var self=this;if(!1!==self._parent)return self._parent?self._parent:onlyHardLinked?void 0:Private(_root_search_source.RootSearchSourceProvider).get()}},{key:"disable",value:function(){this._fetchDisabled=!0}},{key:"enable",value:function(){this._fetchDisabled=!1}},{key:"onBeginSegmentedFetch",value:function(initFunction){var self=this;return new Promise(function(resolve,reject){function addRequest(){var defer=Promise.defer(),req=new SegmentedRequest(self,defer,initFunction);return req.setErrorHandler(function(request,error){reject(error),request.abort()}),req.getCompletePromise().then(addRequest)}addRequest()})}},{key:"addFilterPredicate",value:function(predicate){this._filterPredicates.push(predicate)}},{key:"clone",value:function(){var clone=new SearchSource(this.toString());return clone.set("index",this.get("index")),clone.inherits(this.getParent()),clone}},{key:"getSearchRequestBody",value:function(){function getSearchRequestBody(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var searchRequest;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._flatten();case 2:return searchRequest=_context.sent,_context.abrupt("return",searchRequest.body);case 4:case"end":return _context.stop()}},_callee,this)}));return getSearchRequestBody}()},{key:"requestIsStopped",value:function(){this.activeFetchCount-=1}},{key:"get",value:function(name){for(var self=this;self;){if(void 0!==self._state[name])return self._state[name];self=self.getParent()}}},{key:"getOwn",value:function(name){if(void 0!==this._state[name])return this._state[name]}},{key:"set",value:function(state,val){var self=this;return"string"==typeof state?(void 0===val&&(val=null),self[state](val)):self._state=state,self}},{key:"extend",value:function(){return(new SearchSource).inherits(this)}},{key:"toString",value:function(){return _angular2.default.toJson(this.toJSON())}},{key:"onResults",value:function(handler){var self=this;return new PromiseEmitter(function(resolve,reject){var defer=Promise.defer();defer.promise.then(resolve,reject),self._createRequest(defer).setErrorHandler(function(request,error){reject(error),request.abort()})},handler)}},{key:"fetch",value:function(){var self=this,req=_lodash2.default.first(self._myStartableQueued());return req||(req=self._createRequest()),fetchSoon.these([req]),req.getCompletePromise()}},{key:"fetchAsRejectablePromise",value:function(){var self=this,req=_lodash2.default.first(self._myStartableQueued());return req||(req=self._createRequest()),req.setErrorHandler(function(request,error){request.defer.reject(error),request.abort()}),fetchSoon.these([req]),req.getCompletePromise()}},{key:"fetchQueued",value:function(){return fetchSoon.these(this._myStartableQueued())}},{key:"cancelQueued",value:function(){var _this2=this;_request_queue.requestQueue.filter(function(req){return req.source===_this2}).forEach(function(req){return req.abort()})}},{key:"destroy",value:function(){this.cancelQueued(),this._requestStartHandlers.length=0}},{key:"onRequestStart",value:function(handler){this._requestStartHandlers.push(handler)}},{key:"requestIsStarting",value:function(request){var _this3=this;this.activeFetchCount=(this.activeFetchCount||0)+1,this.history=[request];var handlers=[].concat(_toConsumableArray(this._requestStartHandlers));if(this._inheritOptions.callParentStartHandlers)for(var searchSource=this.getParent();searchSource;)handlers.push.apply(handlers,_toConsumableArray(searchSource._requestStartHandlers)),searchSource=searchSource.getParent();return Promise.map(handlers,function(fn){return fn(_this3,request)}).then(_lodash2.default.noop)}},{key:"_myStartableQueued",value:function(){var _this4=this;return _request_queue.requestQueue.getStartable().filter(function(req){return req.source===_this4})}},{key:"_getType",value:function(){return"search"}},{key:"_createRequest",value:function(defer){return new SearchRequest(this,defer)}},{key:"_mergeProp",value:function(state,val,key){function addToBody(){state.body=state.body||{},null==state.body[key]&&(state.body[key]=val)}var _this5=this;if("function"==typeof val){var source=this;return Promise.cast(val(this)).then(function(newVal){return source._mergeProp(state,newVal,key)})}if(null!=val&&key&&_lodash2.default.isString(key))switch(key){case"filter":var filters=Array.isArray(val)?val:[val];return filters=filters.filter(function(filter){return _this5._filterPredicates.every(function(predicate){return predicate(filter,state)})}),void(state.filters=[].concat(_toConsumableArray(state.filters||[]),_toConsumableArray(filters)));case"index":case"type":case"id":case"highlightAll":return void(key&&null==state[key]&&(state[key]=val));case"searchAfter":key="search_after",addToBody();break;case"source":key="_source",addToBody();break;case"sort":val=normalizeSortRequest(val,this.get("index")),addToBody();break;case"query":state.query=(state.query||[]).concat(val);break;case"fields":state[key]=_lodash2.default.uniq([].concat(_toConsumableArray(state[key]||[]),_toConsumableArray(val)));break;default:addToBody()}}},{key:"_flatten",value:function(){var type=this._getType(),flatState={},root=this,current=this;return function ittr(){return Promise.all(_lodash2.default.map(current._state,function ittr(value,key){if(Promise.is(value))return value.then(function(value){return ittr(value,key)});var prom=root._mergeProp(flatState,value,key);return Promise.is(prom)?prom:null})).then(function(){var parent=current.getParent();if(parent)return current=parent,ittr()})}().then(function(){if("search"===type){flatState.body=flatState.body||{};var computedFields=flatState.index.getComputedFields();if(flatState.body.stored_fields=computedFields.storedFields,flatState.body.script_fields=flatState.body.script_fields||{},flatState.body.docvalue_fields=flatState.body.docvalue_fields||[],_lodash2.default.extend(flatState.body.script_fields,computedFields.scriptFields),flatState.body.docvalue_fields=_lodash2.default.union(flatState.body.docvalue_fields,computedFields.docvalueFields),flatState.body._source){var filter=fieldWildcardFilter(flatState.body._source.excludes);flatState.body.docvalue_fields=flatState.body.docvalue_fields.filter(filter)}var fields=flatState.fields;if(fields){flatState.body.docvalue_fields=_lodash2.default.intersection(flatState.body.docvalue_fields,fields),flatState.body.script_fields=_lodash2.default.pick(flatState.body.script_fields,fields);var remainingFields=_lodash2.default.difference(fields,_lodash2.default.keys(flatState.body.script_fields));flatState.body.stored_fields=remainingFields,_lodash2.default.set(flatState.body,"_source.includes",remainingFields)}flatState.body.query=buildESQuery(flatState.index,flatState.query,flatState.filters),null!=flatState.highlightAll&&(flatState.highlightAll&&flatState.body.query&&(flatState.body.highlight=(0,_highlight.getHighlightRequest)(flatState.body.query,getConfig)),delete flatState.highlightAll);var translateToQuery=function(filter){if(filter)return filter.query?filter.query:filter};!function recurse(aggBranch){aggBranch&&Object.keys(aggBranch).forEach(function(id){var agg=aggBranch[id];if(agg.filters){var filters=agg.filters.filters;Object.keys(filters).forEach(function(filterId){filters[filterId]=translateToQuery(filters[filterId])})}recurse(agg.aggs||agg.aggregations)})}(flatState.body.aggs||flatState.body.aggregations)}return flatState})}}]),SearchSource}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.SearchSourceProvider=SearchSourceProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(354);var _normalize_sort_request=__webpack_require__(2545),_root_search_source=__webpack_require__(1046),_request=__webpack_require__(1047),_segmented=__webpack_require__(2546),_request_queue=__webpack_require__(360),_fetch=__webpack_require__(638),_field_wildcard=__webpack_require__(1052),_highlight=__webpack_require__(2561),_build_query=__webpack_require__(2563)},function(module,exports,__webpack_require__){"use strict";function buildPhraseFilter(field,value,indexPattern){var filter={meta:{index:indexPattern.id}},convertedValue=getConvertedValueForField(field,value);return field.scripted?(filter.script=getPhraseScript(field,value),filter.meta.field=field.name):(filter.query={match:{}},filter.query.match[field.name]={query:convertedValue,type:"phrase"}),filter}function getPhraseScript(field,value){var convertedValue=getConvertedValueForField(field,value);return{script:{inline:buildInlineScriptForPhraseFilter(field),lang:field.lang,params:{value:convertedValue}}}}function getConvertedValueForField(field,value){if("boolean"!=typeof value&&"boolean"===field.type){if([1,"true"].includes(value))return!0;if([0,"false"].includes(value))return!1;throw new Error(value+" is not a valid boolean value for boolean field "+field.name)}return value}function buildInlineScriptForPhraseFilter(scriptedField){return"painless"===scriptedField.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}compare(() -> { "+scriptedField.script+" }, params.value);":"("+scriptedField.script+") == value"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildPhraseFilter=buildPhraseFilter,exports.getPhraseScript=getPhraseScript,exports.getConvertedValueForField=getConvertedValueForField,exports.buildInlineScriptForPhraseFilter=buildInlineScriptForPhraseFilter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _documentation_links=__webpack_require__(362);Object.defineProperty(exports,"ELASTIC_WEBSITE_URL",{enumerable:!0,get:function(){return _documentation_links.ELASTIC_WEBSITE_URL}}),Object.defineProperty(exports,"DOC_LINK_VERSION",{enumerable:!0,get:function(){return _documentation_links.DOC_LINK_VERSION}}),Object.defineProperty(exports,"documentationLinks",{enumerable:!0,get:function(){return _documentation_links.documentationLinks}});var _get_doc_link=__webpack_require__(2591);Object.defineProperty(exports,"getDocLink",{enumerable:!0,get:function(){return _get_doc_link.getDocLink}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocTitleProvider=void 0;var _doc_title=__webpack_require__(1064);Object.defineProperty(exports,"DocTitleProvider",{enumerable:!0,get:function(){return _doc_title.DocTitleProvider}}),__webpack_require__(1064)},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(2).uiModules.get("kibana").filter("moment",function(config){return function(datetime){var format=config.get("dateFormat");return _moment2.default.isMoment(datetime)?datetime.format(format):_lodash2.default.isDate(datetime)?(0,_moment2.default)(datetime).format(format):datetime}})},,function(module,exports,__webpack_require__){"use strict";function AggTypesIndexProvider(Private){var aggs={metrics:[Private(_count.AggTypesMetricsCountProvider),Private(_avg.AggTypesMetricsAvgProvider),Private(_sum.AggTypesMetricsSumProvider),Private(_median.AggTypesMetricsMedianProvider),Private(_min.AggTypesMetricsMinProvider),Private(_max.AggTypesMetricsMaxProvider),Private(_std_deviation.AggTypesMetricsStdDeviationProvider),Private(_cardinality.AggTypesMetricsCardinalityProvider),Private(_percentiles.AggTypesMetricsPercentilesProvider),Private(_percentile_ranks.AggTypesMetricsPercentileRanksProvider),Private(_top_hit.AggTypesMetricsTopHitProvider),Private(_derivative.AggTypesMetricsDerivativeProvider),Private(_cumulative_sum.AggTypesMetricsCumulativeSumProvider),Private(_moving_avg.AggTypesMetricsMovingAvgProvider),Private(_serial_diff.AggTypesMetricsSerialDiffProvider),Private(_bucket_avg.AggTypesMetricsBucketAvgProvider),Private(_bucket_sum.AggTypesMetricsBucketSumProvider),Private(_bucket_min.AggTypesMetricsBucketMinProvider),Private(_bucket_max.AggTypesMetricsBucketMaxProvider),Private(_geo_bounds.AggTypesMetricsGeoBoundsProvider),Private(_geo_centroid.AggTypesMetricsGeoCentroidProvider)],buckets:[Private(_date_histogram.AggTypesBucketsDateHistogramProvider),Private(_histogram.AggTypesBucketsHistogramProvider),Private(_range.AggTypesBucketsRangeProvider),Private(_date_range.AggTypesBucketsDateRangeProvider),Private(_ip_range.AggTypesBucketsIpRangeProvider),Private(_terms.AggTypesBucketsTermsProvider),Private(_filter.AggTypesBucketsFilterProvider),Private(_filters.AggTypesBucketsFiltersProvider),Private(_significant_terms.AggTypesBucketsSignificantTermsProvider),Private(_geo_hash.AggTypesBucketsGeoHashProvider)]};return Object.keys(aggs).forEach(function(type){aggs[type].forEach(function(agg){agg.type=type})}),new _indexed_array.IndexedArray({index:["name"],group:["type"],initialSet:aggs.metrics.concat(aggs.buckets)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesIndexProvider=AggTypesIndexProvider;var _indexed_array=__webpack_require__(131);__webpack_require__(677);var _count=__webpack_require__(3321),_avg=__webpack_require__(3322),_sum=__webpack_require__(3323),_median=__webpack_require__(3324),_min=__webpack_require__(3330),_max=__webpack_require__(3331),_top_hit=__webpack_require__(3332),_std_deviation=__webpack_require__(3335),_cardinality=__webpack_require__(3336),_percentiles=__webpack_require__(1166),_geo_bounds=__webpack_require__(3337),_geo_centroid=__webpack_require__(3338),_percentile_ranks=__webpack_require__(3339),_derivative=__webpack_require__(3341),_cumulative_sum=__webpack_require__(3347),_moving_avg=__webpack_require__(3348),_serial_diff=__webpack_require__(3349),_date_histogram=__webpack_require__(3350),_histogram=__webpack_require__(3355),_range=__webpack_require__(3360),_date_range=__webpack_require__(3364),_ip_range=__webpack_require__(3367),_terms=__webpack_require__(3370),_filter=__webpack_require__(3374),_filters=__webpack_require__(3375),_significant_terms=__webpack_require__(3378),_geo_hash=__webpack_require__(3379),_bucket_sum=__webpack_require__(3382),_bucket_avg=__webpack_require__(3386),_bucket_min=__webpack_require__(3387),_bucket_max=__webpack_require__(3388);__webpack_require__(1137)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pager=void 0;var _pager=__webpack_require__(1192);Object.defineProperty(exports,"Pager",{enumerable:!0,get:function(){return _pager.Pager}}),__webpack_require__(3580)},,,,function(module,exports,__webpack_require__){"use strict";function serializer(){var stack=[],keys=[],cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"};return function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~stack.indexOf(value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return value}}function getUpdateStatus(requiresUpdateStatus,$scope){if(!requiresUpdateStatus)return{};$scope._oldStatus||($scope._oldStatus={});var hasChangedUsingGenericHashComparison=function(name,value){var currentValue=JSON.stringify(value,serializer());return currentValue!==$scope._oldStatus[name]&&($scope._oldStatus[name]=currentValue,!0)},status={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=requiresUpdateStatus[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){switch(_step.value){case Status.AGGS:status.aggs=hasChangedUsingGenericHashComparison("aggs",$scope.vis.aggs);break;case Status.DATA:status.data=function(visData){var hash=(0,_calculate_object_hash.calculateObjectHash)(visData);return hash!==$scope._oldStatus.data&&($scope._oldStatus.data=hash,!0)}($scope.visData);break;case Status.PARAMS:status.params=hasChangedUsingGenericHashComparison("param",$scope.vis.params);break;case Status.RESIZE:var width=$scope.vis.size?$scope.vis.size[0]:0,height=$scope.vis.size?$scope.vis.size[1]:0;status.resize=function(currentWidth,currentHeight){return $scope._oldStatus.resize?(currentWidth!==$scope._oldStatus.resize.width||currentHeight!==$scope._oldStatus.resize.height)&&($scope._oldStatus.resize={width:currentWidth,height:currentHeight},!0):($scope._oldStatus.resize={width:currentWidth,height:currentHeight},!0)}(width,height);break;case Status.TIME:var time=$scope.vis.params.timeRange?$scope.vis.params.timeRange:$scope.vis.API.timeFilter.getBounds();status.time=hasChangedUsingGenericHashComparison("time",time);break;case Status.UI_STATE:status.uiState=hasChangedUsingGenericHashComparison("uiState",$scope.uiState)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return status}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Status=exports.getUpdateStatus=void 0;var _calculate_object_hash=__webpack_require__(1343),Status={AGGS:"aggs",DATA:"data",PARAMS:"params",RESIZE:"resize",TIME:"time",UI_STATE:"uiState"};exports.getUpdateStatus=getUpdateStatus,exports.Status=Status},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_numeral=__webpack_require__(82),_numeral2=_interopRequireDefault(_numeral),_handlebars=__webpack_require__(1364),_handlebars2=_interopRequireDefault(_handlebars),_durations=__webpack_require__(1365),_lodash=__webpack_require__(1),_duration=__webpack_require__(1197),_field_format=__webpack_require__(453),DurationFormat=(0,_duration.createDurationFormat)(_field_format.FieldFormat),formatLookup={bytes:"0.0b",number:"0,0.[00]",percent:"0.[00]%"},durationsLookup=_durations.durationInputOptions.reduce(function(acc,row){return acc[row.value]=row.label,acc},{});exports.default=function(){var format=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0,0.[00]",template=arguments[1];template||(template="{{value}}");var render=_handlebars2.default.compile(template),durationFormatTest=/[pnumshdwMY]+,[pnumshdwMY]+,\d+/;return function(val){var formatString=formatLookup[format]||format,value=void 0;if((0,_lodash.isNumber)(val))if(durationFormatTest.test(format)){var _format$split=format.split(","),_format$split2=_slicedToArray(_format$split,3),from=_format$split2[0],to=_format$split2[1],decimals=_format$split2[2],inputFormat=durationsLookup[from],outputFormat="as"+(0,_lodash.capitalize)(durationsLookup[to]),formatter=new DurationFormat({inputFormat:inputFormat,outputFormat:outputFormat,outputPrecision:decimals});value=formatter.convert(val,"text")}else try{value=(0,_numeral2.default)(val).format(formatString)}catch(e){value=val}else value=0;try{return render({value:value})}catch(e){return String(value)}}},module.exports=exports.default},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _binder=__webpack_require__(581);Object.defineProperty(exports,"BinderBase",{enumerable:!0,get:function(){return _binder.BinderBase}});var _binder_for=__webpack_require__(1687);Object.defineProperty(exports,"BinderFor",{enumerable:!0,get:function(){return _binder_for.BinderFor}});var _deep_clone_with_buffers=__webpack_require__(1688);Object.defineProperty(exports,"deepCloneWithBuffers",{enumerable:!0,get:function(){return _deep_clone_with_buffers.deepCloneWithBuffers}});var _from_root=__webpack_require__(1691);Object.defineProperty(exports,"fromRoot",{enumerable:!0,get:function(){return _from_root.fromRoot}});var _package_json=__webpack_require__(868);Object.defineProperty(exports,"pkg",{enumerable:!0,get:function(){return _package_json.pkg}});var _unset=__webpack_require__(1692);Object.defineProperty(exports,"unset",{enumerable:!0,get:function(){return _unset.unset}});var _encode_query_component=__webpack_require__(1700);Object.defineProperty(exports,"encodeQueryComponent",{enumerable:!0,get:function(){return _encode_query_component.encodeQueryComponent}});var _modify_url=__webpack_require__(871);Object.defineProperty(exports,"modifyUrl",{enumerable:!0,get:function(){return _modify_url.modifyUrl}});var _get_flattened_object=__webpack_require__(1702);Object.defineProperty(exports,"getFlattenedObject",{enumerable:!0,get:function(){return _get_flattened_object.getFlattenedObject}});var _watch_stdio_for_line=__webpack_require__(1703);Object.defineProperty(exports,"watchStdioForLine",{enumerable:!0,get:function(){return _watch_stdio_for_line.watchStdioForLine}});var _kbn_field_types=__webpack_require__(1723);Object.defineProperty(exports,"getKbnTypeNames",{enumerable:!0,get:function(){return _kbn_field_types.getKbnTypeNames}}),Object.defineProperty(exports,"getKbnFieldType",{enumerable:!0,get:function(){return _kbn_field_types.getKbnFieldType}}),Object.defineProperty(exports,"castEsToKbnFieldTypeName",{enumerable:!0,get:function(){return _kbn_field_types.castEsToKbnFieldTypeName}});var _streams=__webpack_require__(877);Object.defineProperty(exports,"concatStreamProviders",{enumerable:!0,get:function(){return _streams.concatStreamProviders}}),Object.defineProperty(exports,"createConcatStream",{enumerable:!0,get:function(){return _streams.createConcatStream}}),Object.defineProperty(exports,"createIntersperseStream",{enumerable:!0,get:function(){return _streams.createIntersperseStream}}),Object.defineProperty(exports,"createJsonParseStream",{enumerable:!0,get:function(){return _streams.createJsonParseStream}}),Object.defineProperty(exports,"createJsonStringifyStream",{enumerable:!0,get:function(){return _streams.createJsonStringifyStream}}),Object.defineProperty(exports,"createListStream",{enumerable:!0,get:function(){return _streams.createListStream}}),Object.defineProperty(exports,"createPromiseFromStreams",{enumerable:!0,get:function(){return _streams.createPromiseFromStreams}}),Object.defineProperty(exports,"createReduceStream",{enumerable:!0,get:function(){return _streams.createReduceStream}}),Object.defineProperty(exports,"createSplitStream",{enumerable:!0,get:function(){return _streams.createSplitStream}}),Object.defineProperty(exports,"createMapStream",{enumerable:!0,get:function(){return _streams.createMapStream}}),Object.defineProperty(exports,"createReplaceStream",{enumerable:!0,get:function(){return _streams.createReplaceStream}});var _strings=__webpack_require__(1724);Object.defineProperty(exports,"parseCommaSeparatedList",{enumerable:!0,get:function(){return _strings.parseCommaSeparatedList}}),Object.defineProperty(exports,"formatListAsProse",{enumerable:!0,get:function(){return _strings.formatListAsProse}})},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function move(objs,obj,below,qualifier){var origI=_lodash2.default.isNumber(obj)?obj:objs.indexOf(obj);if(-1===origI)return objs;if(_lodash2.default.isNumber(below))return objs.splice(below,0,objs.splice(origI,1)[0]),objs;below=!!below,qualifier=_lodash2.default.callback(qualifier);var above=!below,finder=below?_lodash2.default.findIndex:_lodash2.default.findLastIndex,targetI=finder(objs,function(otherAgg,otherI){if(!(below&&otherI<=origI||above&&otherI>=origI))return!!qualifier(otherAgg,otherI)});if(-1===targetI)return objs;objs.splice(targetI,0,objs.splice(origI,1)[0])}function organizeBy(collection,callback){function add(key,obj){buckets[key]||(buckets[key]=[]),buckets[key].push(obj)}var buckets={},prop="function"!=typeof callback&&callback;return _lodash2.default.each(collection,function(obj){var keys=!1===prop?callback(obj):obj[prop];if(!Array.isArray(keys))return void add(keys,obj);for(var length=keys.length;length-- >0;)add(keys[length],obj)}),buckets}function pushAll(source,dest){var start=dest.length,adding=source.length;dest.length=start+adding;for(var i=-1;++i<adding;)dest[start+i]=source[i];return dest}Object.defineProperty(exports,"__esModule",{value:!0}),exports.move=move,exports.organizeBy=organizeBy,exports.pushAll=pushAll;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("inputFocus",function($parse,$timeout){return{restrict:"A",link:function($scope,$elem,attrs){attrs.disableInputFocus&&$parse(attrs.disableInputFocus)($scope)||$timeout(function(){$elem.focus(),"select"===attrs.inputFocus&&$elem.select()})}}})},function(module,exports,__webpack_require__){"use strict";var _documentation_links=__webpack_require__(254);__webpack_require__(2).uiModules.get("kibana").directive("documentationHref",function(){return{restrict:"A",link:function(scope,element,attributes){element.attr("href",(0,_documentation_links.getDocLink)(attributes.documentationHref))}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(13),__webpack_require__(294),__webpack_require__(2672),__webpack_require__(2673),__webpack_require__(2).get("kibana",["ui.select","ngSanitize"])},function(module,exports,__webpack_require__){"use strict";function AggConfigResult(aggConfig,parent,value,key,filters){this.key=key,this.value=value,this.aggConfig=aggConfig,this.filters=filters,this.$parent=parent,"buckets"===aggConfig.schema.group?this.type="bucket":this.type="metric"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AggConfigResult;var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome);AggConfigResult.prototype.getPath=function(){return function walk(result,path){return path.unshift(result),result.$parent?walk(result.$parent,path):path}(this,[])},AggConfigResult.prototype.createFilter=function(){return this.filters||this.aggConfig.createFilter(this.key)},AggConfigResult.prototype.toString=function(contentType){var parsedUrl={origin:window.location.origin,pathname:window.location.pathname,basePath:_chrome2.default.getBasePath()};return this.aggConfig.fieldFormatter(contentType)(this.value,null,null,parsedUrl)},AggConfigResult.prototype.valueOf=function(){return this.value},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var theme=__webpack_require__(1146);__webpack_require__(3187);var euiThemeLight=__webpack_require__(3188);theme.registerTheme("light",euiThemeLight);var euiThemeDark=__webpack_require__(3189);theme.registerTheme("dark",euiThemeDark),theme.applyTheme("light");var context=__webpack_require__(3190);context.keys().forEach(function(key){return context(key)})},,,function(module,exports){},function(module,exports,__webpack_require__){"use strict";function BaseParamType(config){_lodash2.default.assign(this,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseParamType=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);BaseParamType.prototype.modifyAggConfigOnSearchRequestStart=function(aggconfig,searchSource,searchRequest){},exports.BaseParamType=BaseParamType},,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(3576),__webpack_require__(3578)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DevToolsRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.DevToolsRegistryProvider=(0,_registry.uiRegistry)({name:"devTools",index:["name"],order:["order"]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.savedObjectManagementRegistry=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),registry=[];exports.savedObjectManagementRegistry={register:function(service){registry.push(service)},all:function(){return registry},get:function(id){return _lodash2.default.find(registry,{service:id})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.VisualizeConstants={LANDING_PAGE_PATH:"/visualize",WIZARD_STEP_1_PAGE_PATH:"/visualize/new",WIZARD_STEP_2_PAGE_PATH:"/visualize/new/configure",CREATE_PATH:"/visualize/create",EDIT_PATH:"/visualize/edit"}},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var vislibColorMaps=exports.vislibColorMaps=[];vislibColorMaps.Blues=[[0,[.969,.984,1]],[.002,[.969,.984,1]],[.004,[.966,.982,.999]],[.006,[.966,.982,.999]],[.008,[.962,.98,.998]],[.01,[.962,.98,.998]],[.012,[.959,.978,.997]],[.014,[.959,.978,.997]],[.016,[.956,.976,.996]],[.018,[.956,.976,.996]],[.02,[.953,.974,.995]],[.022,[.953,.974,.995]],[.023,[.95,.973,.994]],[.025,[.95,.973,.994]],[.027,[.947,.971,.993]],[.029,[.947,.971,.993]],[.031,[.944,.969,.992]],[.033,[.944,.969,.992]],[.035,[.941,.967,.991]],[.037,[.941,.967,.991]],[.039,[.938,.965,.99]],[.041,[.938,.965,.99]],[.043,[.935,.963,.989]],[.045,[.935,.963,.989]],[.047,[.932,.961,.988]],[.049,[.932,.961,.988]],[.051,[.929,.959,.987]],[.053,[.929,.959,.987]],[.055,[.926,.957,.986]],[.057,[.926,.957,.986]],[.059,[.922,.955,.985]],[.061,[.922,.955,.985]],[.063,[.919,.953,.984]],[.065,[.919,.953,.984]],[.067,[.916,.951,.983]],[.068,[.916,.951,.983]],[.07,[.913,.949,.982]],[.072,[.913,.949,.982]],[.074,[.91,.947,.981]],[.076,[.91,.947,.981]],[.078,[.907,.945,.98]],[.08,[.907,.945,.98]],[.082,[.904,.943,.979]],[.084,[.904,.943,.979]],[.086,[.901,.941,.978]],[.088,[.901,.941,.978]],[.09,[.898,.939,.977]],[.092,[.898,.939,.977]],[.094,[.895,.937,.976]],[.096,[.895,.937,.976]],[.098,[.892,.935,.975]],[.1,[.892,.935,.975]],[.102,[.889,.933,.974]],[.104,[.889,.933,.974]],[.106,[.886,.931,.973]],[.108,[.886,.931,.973]],[.11,[.883,.929,.972]],[.112,[.883,.929,.972]],[.114,[.879,.927,.971]],[.115,[.879,.927,.971]],[.117,[.876,.925,.97]],[.119,[.876,.925,.97]],[.121,[.873,.923,.969]],[.123,[.873,.923,.969]],[.125,[.87,.921,.969]],[.127,[.87,.921,.969]],[.129,[.867,.919,.968]],[.131,[.867,.919,.968]],[.133,[.864,.917,.967]],[.135,[.864,.917,.967]],[.137,[.861,.915,.966]],[.139,[.861,.915,.966]],[.141,[.858,.913,.965]],[.143,[.858,.913,.965]],[.145,[.855,.911,.964]],[.147,[.855,.911,.964]],[.149,[.853,.91,.963]],[.151,[.853,.91,.963]],[.153,[.85,.908,.962]],[.155,[.85,.908,.962]],[.157,[.847,.906,.961]],[.159,[.847,.906,.961]],[.16,[.844,.904,.96]],[.162,[.844,.904,.96]],[.164,[.841,.902,.959]],[.166,[.841,.902,.959]],[.168,[.838,.9,.958]],[.17,[.838,.9,.958]],[.172,[.835,.898,.957]],[.174,[.835,.898,.957]],[.176,[.832,.896,.956]],[.178,[.832,.896,.956]],[.18,[.829,.894,.955]],[.182,[.829,.894,.955]],[.184,[.826,.892,.954]],[.186,[.826,.892,.954]],[.188,[.823,.89,.953]],[.19,[.823,.89,.953]],[.192,[.82,.888,.952]],[.194,[.82,.888,.952]],[.196,[.817,.886,.951]],[.198,[.817,.886,.951]],[.2,[.814,.884,.95]],[.202,[.814,.884,.95]],[.204,[.811,.882,.949]],[.205,[.811,.882,.949]],[.207,[.808,.88,.948]],[.209,[.808,.88,.948]],[.211,[.805,.878,.947]],[.213,[.805,.878,.947]],[.215,[.802,.876,.946]],[.217,[.802,.876,.946]],[.219,[.799,.874,.945]],[.221,[.799,.874,.945]],[.223,[.796,.872,.944]],[.225,[.796,.872,.944]],[.227,[.793,.87,.943]],[.229,[.793,.87,.943]],[.231,[.79,.868,.942]],[.233,[.79,.868,.942]],[.235,[.788,.866,.941]],[.237,[.788,.866,.941]],[.239,[.785,.864,.94]],[.241,[.785,.864,.94]],[.243,[.782,.862,.939]],[.245,[.782,.862,.939]],[.247,[.779,.86,.938]],[.249,[.779,.86,.938]],[.25,[.775,.858,.937]],[.252,[.775,.858,.937]],[.254,[.77,.856,.935]],[.256,[.77,.856,.935]],[.258,[.765,.854,.933]],[.26,[.765,.854,.933]],[.262,[.76,.852,.932]],[.264,[.76,.852,.932]],[.266,[.756,.85,.93]],[.268,[.756,.85,.93]],[.27,[.751,.848,.928]],[.272,[.751,.848,.928]],[.274,[.746,.846,.926]],[.276,[.746,.846,.926]],[.278,[.741,.844,.925]],[.28,[.741,.844,.925]],[.282,[.736,.842,.923]],[.284,[.736,.842,.923]],[.286,[.731,.839,.921]],[.288,[.731,.839,.921]],[.29,[.726,.837,.92]],[.292,[.726,.837,.92]],[.294,[.721,.835,.918]],[.295,[.721,.835,.918]],[.297,[.716,.833,.916]],[.299,[.716,.833,.916]],[.301,[.711,.831,.914]],[.303,[.711,.831,.914]],[.305,[.706,.829,.913]],[.307,[.706,.829,.913]],[.309,[.701,.827,.911]],[.311,[.701,.827,.911]],[.313,[.697,.825,.909]],[.315,[.697,.825,.909]],[.317,[.692,.823,.908]],[.319,[.692,.823,.908]],[.321,[.687,.821,.906]],[.323,[.687,.821,.906]],[.325,[.682,.819,.904]],[.327,[.682,.819,.904]],[.329,[.677,.816,.902]],[.331,[.677,.816,.902]],[.333,[.672,.814,.901]],[.335,[.672,.814,.901]],[.337,[.667,.812,.899]],[.339,[.667,.812,.899]],[.341,[.662,.81,.897]],[.342,[.662,.81,.897]],[.344,[.657,.808,.895]],[.346,[.657,.808,.895]],[.348,[.652,.806,.894]],[.35,[.652,.806,.894]],[.352,[.647,.804,.892]],[.354,[.647,.804,.892]],[.356,[.642,.802,.89]],[.358,[.642,.802,.89]],[.36,[.637,.8,.889]],[.362,[.637,.8,.889]],[.364,[.633,.798,.887]],[.366,[.633,.798,.887]],[.368,[.628,.796,.885]],[.37,[.628,.796,.885]],[.372,[.623,.793,.883]],[.374,[.623,.793,.883]],[.376,[.617,.791,.882]],[.378,[.617,.791,.882]],[.38,[.611,.787,.88]],[.382,[.611,.787,.88]],[.384,[.605,.784,.879]],[.386,[.605,.784,.879]],[.387,[.598,.781,.878]],[.389,[.598,.781,.878]],[.391,[.592,.777,.876]],[.393,[.592,.777,.876]],[.395,[.586,.774,.875]],[.397,[.586,.774,.875]],[.399,[.58,.77,.874]],[.401,[.58,.77,.874]],[.403,[.573,.767,.872]],[.405,[.573,.767,.872]],[.407,[.567,.763,.871]],[.409,[.567,.763,.871]],[.411,[.561,.76,.87]],[.413,[.561,.76,.87]],[.415,[.555,.756,.868]],[.417,[.555,.756,.868]],[.419,[.548,.753,.867]],[.421,[.548,.753,.867]],[.423,[.542,.75,.866]],[.425,[.542,.75,.866]],[.427,[.536,.746,.864]],[.429,[.536,.746,.864]],[.431,[.529,.743,.863]],[.432,[.529,.743,.863]],[.434,[.523,.739,.862]],[.436,[.523,.739,.862]],[.438,[.517,.736,.86]],[.44,[.517,.736,.86]],[.442,[.511,.732,.859]],[.444,[.511,.732,.859]],[.446,[.504,.729,.857]],[.448,[.504,.729,.857]],[.45,[.498,.725,.856]],[.452,[.498,.725,.856]],[.454,[.492,.722,.855]],[.456,[.492,.722,.855]],[.458,[.485,.719,.853]],[.46,[.485,.719,.853]],[.462,[.479,.715,.852]],[.464,[.479,.715,.852]],[.466,[.473,.712,.851]],[.468,[.473,.712,.851]],[.47,[.467,.708,.849]],[.472,[.467,.708,.849]],[.474,[.46,.705,.848]],[.476,[.46,.705,.848]],[.477,[.454,.701,.847]],[.479,[.454,.701,.847]],[.481,[.448,.698,.845]],[.483,[.448,.698,.845]],[.485,[.442,.694,.844]],[.487,[.442,.694,.844]],[.489,[.435,.691,.843]],[.491,[.435,.691,.843]],[.493,[.429,.688,.841]],[.495,[.429,.688,.841]],[.497,[.423,.684,.84]],[.499,[.423,.684,.84]],[.501,[.417,.681,.838]],[.503,[.417,.681,.838]],[.505,[.412,.677,.836]],[.507,[.412,.677,.836]],[.509,[.407,.674,.834]],[.511,[.407,.674,.834]],[.513,[.402,.67,.832]],[.515,[.402,.67,.832]],[.517,[.397,.667,.83]],[.519,[.397,.667,.83]],[.521,[.392,.663,.828]],[.523,[.392,.663,.828]],[.524,[.387,.66,.826]],[.526,[.387,.66,.826]],[.528,[.382,.657,.824]],[.53,[.382,.657,.824]],[.532,[.377,.653,.822]],[.534,[.377,.653,.822]],[.536,[.372,.65,.821]],[.538,[.372,.65,.821]],[.54,[.367,.646,.819]],[.542,[.367,.646,.819]],[.544,[.362,.643,.817]],[.546,[.362,.643,.817]],[.548,[.357,.639,.815]],[.55,[.357,.639,.815]],[.552,[.352,.636,.813]],[.554,[.352,.636,.813]],[.556,[.346,.632,.811]],[.558,[.346,.632,.811]],[.56,[.341,.629,.809]],[.562,[.341,.629,.809]],[.564,[.336,.626,.807]],[.566,[.336,.626,.807]],[.568,[.331,.622,.805]],[.569,[.331,.622,.805]],[.571,[.326,.619,.803]],[.573,[.326,.619,.803]],[.575,[.321,.615,.801]],[.577,[.321,.615,.801]],[.579,[.316,.612,.799]],[.581,[.316,.612,.799]],[.583,[.311,.608,.797]],[.585,[.311,.608,.797]],[.587,[.306,.605,.795]],[.589,[.306,.605,.795]],[.591,[.301,.601,.793]],[.593,[.301,.601,.793]],[.595,[.296,.598,.791]],[.597,[.296,.598,.791]],[.599,[.291,.595,.789]],[.601,[.291,.595,.789]],[.603,[.286,.591,.787]],[.605,[.286,.591,.787]],[.607,[.281,.588,.785]],[.609,[.281,.588,.785]],[.611,[.276,.584,.783]],[.613,[.276,.584,.783]],[.614,[.271,.581,.781]],[.616,[.271,.581,.781]],[.618,[.266,.577,.779]],[.62,[.266,.577,.779]],[.622,[.261,.574,.777]],[.624,[.261,.574,.777]],[.626,[.256,.57,.775]],[.628,[.256,.57,.775]],[.63,[.252,.566,.773]],[.632,[.252,.566,.773]],[.634,[.248,.562,.771]],[.636,[.248,.562,.771]],[.638,[.244,.558,.769]],[.64,[.244,.558,.769]],[.642,[.24,.554,.767]],[.644,[.24,.554,.767]],[.646,[.236,.55,.765]],[.648,[.236,.55,.765]],[.65,[.232,.546,.763]],[.652,[.232,.546,.763]],[.654,[.228,.542,.761]],[.656,[.228,.542,.761]],[.658,[.224,.538,.758]],[.659,[.224,.538,.758]],[.661,[.22,.533,.756]],[.663,[.22,.533,.756]],[.665,[.216,.529,.754]],[.667,[.216,.529,.754]],[.669,[.212,.525,.752]],[.671,[.212,.525,.752]],[.673,[.208,.521,.75]],[.675,[.208,.521,.75]],[.677,[.204,.517,.748]],[.679,[.204,.517,.748]],[.681,[.199,.513,.746]],[.683,[.199,.513,.746]],[.685,[.195,.509,.744]],[.687,[.195,.509,.744]],[.689,[.191,.505,.742]],[.691,[.191,.505,.742]],[.693,[.187,.501,.74]],[.695,[.187,.501,.74]],[.697,[.183,.497,.738]],[.699,[.183,.497,.738]],[.701,[.179,.493,.735]],[.703,[.179,.493,.735]],[.705,[.175,.489,.733]],[.706,[.175,.489,.733]],[.708,[.171,.485,.731]],[.71,[.171,.485,.731]],[.712,[.167,.481,.729]],[.714,[.167,.481,.729]],[.716,[.163,.477,.727]],[.718,[.163,.477,.727]],[.72,[.159,.473,.725]],[.722,[.159,.473,.725]],[.724,[.155,.469,.723]],[.726,[.155,.469,.723]],[.728,[.151,.464,.721]],[.73,[.151,.464,.721]],[.732,[.147,.46,.719]],[.734,[.147,.46,.719]],[.736,[.143,.456,.717]],[.738,[.143,.456,.717]],[.74,[.139,.452,.715]],[.742,[.139,.452,.715]],[.744,[.134,.448,.712]],[.746,[.134,.448,.712]],[.748,[.13,.444,.71]],[.75,[.13,.444,.71]],[.751,[.127,.44,.707]],[.753,[.127,.44,.707]],[.755,[.124,.436,.704]],[.757,[.124,.436,.704]],[.759,[.121,.432,.701]],[.761,[.121,.432,.701]],[.763,[.118,.428,.698]],[.765,[.118,.428,.698]],[.767,[.115,.424,.695]],[.769,[.115,.424,.695]],[.771,[.112,.42,.692]],[.773,[.112,.42,.692]],[.775,[.109,.417,.689]],[.777,[.109,.417,.689]],[.779,[.106,.413,.686]],[.781,[.106,.413,.686]],[.783,[.102,.409,.683]],[.785,[.102,.409,.683]],[.787,[.099,.405,.68]],[.789,[.099,.405,.68]],[.791,[.096,.401,.677]],[.793,[.096,.401,.677]],[.795,[.093,.397,.674]],[.796,[.093,.397,.674]],[.798,[.09,.393,.671]],[.8,[.09,.393,.671]],[.802,[.087,.389,.668]],[.804,[.087,.389,.668]],[.806,[.084,.385,.664]],[.808,[.084,.385,.664]],[.81,[.081,.381,.661]],[.812,[.081,.381,.661]],[.814,[.078,.377,.658]],[.816,[.078,.377,.658]],[.818,[.075,.373,.655]],[.82,[.075,.373,.655]],[.822,[.072,.369,.652]],[.824,[.072,.369,.652]],[.826,[.069,.365,.649]],[.828,[.069,.365,.649]],[.83,[.066,.361,.646]],[.832,[.066,.361,.646]],[.834,[.063,.358,.643]],[.836,[.063,.358,.643]],[.838,[.059,.354,.64]],[.84,[.059,.354,.64]],[.841,[.056,.35,.637]],[.843,[.056,.35,.637]],[.845,[.053,.346,.634]],[.847,[.053,.346,.634]],[.849,[.05,.342,.631]],[.851,[.05,.342,.631]],[.853,[.047,.338,.628]],[.855,[.047,.338,.628]],[.857,[.044,.334,.624]],[.859,[.044,.334,.624]],[.861,[.041,.33,.621]],[.863,[.041,.33,.621]],[.865,[.038,.326,.618]],[.867,[.038,.326,.618]],[.869,[.035,.322,.615]],[.871,[.035,.322,.615]],[.873,[.032,.318,.612]],[.875,[.032,.318,.612]],[.877,[.031,.314,.606]],[.879,[.031,.314,.606]],[.881,[.031,.31,.6]],[.883,[.031,.31,.6]],[.885,[.031,.306,.594]],[.886,[.031,.306,.594]],[.888,[.031,.302,.588]],[.89,[.031,.302,.588]],[.892,[.031,.298,.582]],[.894,[.031,.298,.582]],[.896,[.031,.294,.576]],[.898,[.031,.294,.576]],[.9,[.031,.29,.57]],[.902,[.031,.29,.57]],[.904,[.031,.286,.564]],[.906,[.031,.286,.564]],[.908,[.031,.282,.558]],[.91,[.031,.282,.558]],[.912,[.031,.278,.552]],[.914,[.031,.278,.552]],[.916,[.031,.273,.546]],[.918,[.031,.273,.546]],[.92,[.031,.269,.54]],[.922,[.031,.269,.54]],[.924,[.031,.265,.534]],[.926,[.031,.265,.534]],[.928,[.031,.261,.528]],[.93,[.031,.261,.528]],[.932,[.031,.257,.522]],[.933,[.031,.257,.522]],[.935,[.031,.253,.516]],[.937,[.031,.253,.516]],[.939,[.031,.249,.51]],[.941,[.031,.249,.51]],[.943,[.031,.245,.504]],[.945,[.031,.245,.504]],[.947,[.031,.241,.498]],[.949,[.031,.241,.498]],[.951,[.031,.237,.492]],[.953,[.031,.237,.492]],[.955,[.031,.233,.486]],[.957,[.031,.233,.486]],[.959,[.031,.229,.48]],[.961,[.031,.229,.48]],[.963,[.031,.225,.474]],[.965,[.031,.225,.474]],[.967,[.031,.221,.468]],[.969,[.031,.221,.468]],[.971,[.031,.217,.462]],[.973,[.031,.217,.462]],[.975,[.031,.213,.456]],[.977,[.031,.213,.456]],[.978,[.031,.209,.45]],[.98,[.031,.209,.45]],[.982,[.031,.204,.444]],[.984,[.031,.204,.444]],[.986,[.031,.2,.438]],[.988,[.031,.2,.438]],[.99,[.031,.196,.432]],[.992,[.031,.196,.432]],[.994,[.031,.192,.426]],[.996,[.031,.192,.426]],[.998,[.031,.188,.42]],[1,[.031,.188,.42]]],vislibColorMaps.Greens=[[0,[.969,.988,.961]],[.002,[.969,.988,.961]],[.004,[.966,.987,.958]],[.006,[.966,.987,.958]],[.008,[.964,.987,.956]],[.01,[.964,.987,.956]],[.012,[.962,.986,.953]],[.014,[.962,.986,.953]],[.016,[.96,.985,.95]],[.018,[.96,.985,.95]],[.02,[.958,.984,.948]],[.022,[.958,.984,.948]],[.023,[.955,.983,.945]],[.025,[.955,.983,.945]],[.027,[.953,.982,.943]],[.029,[.953,.982,.943]],[.031,[.951,.981,.94]],[.033,[.951,.981,.94]],[.035,[.949,.98,.938]],[.037,[.949,.98,.938]],[.039,[.946,.98,.935]],[.041,[.946,.98,.935]],[.043,[.944,.979,.932]],[.045,[.944,.979,.932]],[.047,[.942,.978,.93]],[.049,[.942,.978,.93]],[.051,[.94,.977,.927]],[.053,[.94,.977,.927]],[.055,[.938,.976,.925]],[.057,[.938,.976,.925]],[.059,[.935,.975,.922]],[.061,[.935,.975,.922]],[.063,[.933,.974,.919]],[.065,[.933,.974,.919]],[.067,[.931,.974,.917]],[.068,[.931,.974,.917]],[.07,[.929,.973,.914]],[.072,[.929,.973,.914]],[.074,[.927,.972,.912]],[.076,[.927,.972,.912]],[.078,[.924,.971,.909]],[.08,[.924,.971,.909]],[.082,[.922,.97,.907]],[.084,[.922,.97,.907]],[.086,[.92,.969,.904]],[.088,[.92,.969,.904]],[.09,[.918,.968,.901]],[.092,[.918,.968,.901]],[.094,[.915,.968,.899]],[.096,[.915,.968,.899]],[.098,[.913,.967,.896]],[.1,[.913,.967,.896]],[.102,[.911,.966,.894]],[.104,[.911,.966,.894]],[.106,[.909,.965,.891]],[.108,[.909,.965,.891]],[.11,[.907,.964,.888]],[.112,[.907,.964,.888]],[.114,[.904,.963,.886]],[.115,[.904,.963,.886]],[.117,[.902,.962,.883]],[.119,[.902,.962,.883]],[.121,[.9,.962,.881]],[.123,[.9,.962,.881]],[.125,[.898,.961,.878]],[.127,[.898,.961,.878]],[.129,[.894,.959,.874]],[.131,[.894,.959,.874]],[.133,[.89,.958,.87]],[.135,[.89,.958,.87]],[.137,[.887,.956,.866]],[.139,[.887,.956,.866]],[.141,[.883,.955,.862]],[.143,[.883,.955,.862]],[.145,[.879,.953,.858]],[.147,[.879,.953,.858]],[.149,[.875,.952,.854]],[.151,[.875,.952,.854]],[.153,[.872,.95,.85]],[.155,[.872,.95,.85]],[.157,[.868,.949,.846]],[.159,[.868,.949,.846]],[.16,[.864,.947,.843]],[.162,[.864,.947,.843]],[.164,[.861,.946,.839]],[.166,[.861,.946,.839]],[.168,[.857,.944,.835]],[.17,[.857,.944,.835]],[.172,[.853,.943,.831]],[.174,[.853,.943,.831]],[.176,[.85,.941,.827]],[.178,[.85,.941,.827]],[.18,[.846,.94,.823]],[.182,[.846,.94,.823]],[.184,[.842,.938,.819]],[.186,[.842,.938,.819]],[.188,[.839,.937,.815]],[.19,[.839,.937,.815]],[.192,[.835,.936,.811]],[.194,[.835,.936,.811]],[.196,[.831,.934,.807]],[.198,[.831,.934,.807]],[.2,[.827,.933,.803]],[.202,[.827,.933,.803]],[.204,[.824,.931,.799]],[.205,[.824,.931,.799]],[.207,[.82,.93,.795]],[.209,[.82,.93,.795]],[.211,[.816,.928,.791]],[.213,[.816,.928,.791]],[.215,[.813,.927,.787]],[.217,[.813,.927,.787]],[.219,[.809,.925,.783]],[.221,[.809,.925,.783]],[.223,[.805,.924,.78]],[.225,[.805,.924,.78]],[.227,[.802,.922,.776]],[.229,[.802,.922,.776]],[.231,[.798,.921,.772]],[.233,[.798,.921,.772]],[.235,[.794,.919,.768]],[.237,[.794,.919,.768]],[.239,[.791,.918,.764]],[.241,[.791,.918,.764]],[.243,[.787,.916,.76]],[.245,[.787,.916,.76]],[.247,[.783,.915,.756]],[.249,[.783,.915,.756]],[.25,[.779,.913,.752]],[.252,[.779,.913,.752]],[.254,[.775,.911,.747]],[.256,[.775,.911,.747]],[.258,[.77,.909,.743]],[.26,[.77,.909,.743]],[.262,[.765,.907,.738]],[.264,[.765,.907,.738]],[.266,[.761,.905,.734]],[.268,[.761,.905,.734]],[.27,[.756,.903,.729]],[.272,[.756,.903,.729]],[.274,[.751,.901,.724]],[.276,[.751,.901,.724]],[.278,[.746,.899,.72]],[.28,[.746,.899,.72]],[.282,[.742,.897,.715]],[.284,[.742,.897,.715]],[.286,[.737,.896,.711]],[.288,[.737,.896,.711]],[.29,[.732,.894,.706]],[.292,[.732,.894,.706]],[.294,[.728,.892,.702]],[.295,[.728,.892,.702]],[.297,[.723,.89,.697]],[.299,[.723,.89,.697]],[.301,[.718,.888,.693]],[.303,[.718,.888,.693]],[.305,[.714,.886,.688]],[.307,[.714,.886,.688]],[.309,[.709,.884,.684]],[.311,[.709,.884,.684]],[.313,[.704,.882,.679]],[.315,[.704,.882,.679]],[.317,[.7,.88,.674]],[.319,[.7,.88,.674]],[.321,[.695,.878,.67]],[.323,[.695,.878,.67]],[.325,[.69,.876,.665]],[.327,[.69,.876,.665]],[.329,[.686,.874,.661]],[.331,[.686,.874,.661]],[.333,[.681,.872,.656]],[.335,[.681,.872,.656]],[.337,[.676,.87,.652]],[.339,[.676,.87,.652]],[.341,[.672,.868,.647]],[.342,[.672,.868,.647]],[.344,[.667,.866,.643]],[.346,[.667,.866,.643]],[.348,[.662,.864,.638]],[.35,[.662,.864,.638]],[.352,[.658,.862,.633]],[.354,[.658,.862,.633]],[.356,[.653,.86,.629]],[.358,[.653,.86,.629]],[.36,[.648,.858,.624]],[.362,[.648,.858,.624]],[.364,[.644,.856,.62]],[.366,[.644,.856,.62]],[.368,[.639,.854,.615]],[.37,[.639,.854,.615]],[.372,[.634,.852,.611]],[.374,[.634,.852,.611]],[.376,[.629,.85,.606]],[.378,[.629,.85,.606]],[.38,[.624,.847,.602]],[.382,[.624,.847,.602]],[.384,[.618,.845,.597]],[.386,[.618,.845,.597]],[.387,[.613,.842,.592]],[.389,[.613,.842,.592]],[.391,[.607,.84,.588]],[.393,[.607,.84,.588]],[.395,[.602,.837,.583]],[.397,[.602,.837,.583]],[.399,[.596,.835,.579]],[.401,[.596,.835,.579]],[.403,[.591,.832,.574]],[.405,[.591,.832,.574]],[.407,[.585,.829,.57]],[.409,[.585,.829,.57]],[.411,[.579,.827,.565]],[.413,[.579,.827,.565]],[.415,[.574,.824,.561]],[.417,[.574,.824,.561]],[.419,[.568,.822,.556]],[.421,[.568,.822,.556]],[.423,[.563,.819,.552]],[.425,[.563,.819,.552]],[.427,[.557,.816,.547]],[.429,[.557,.816,.547]],[.431,[.552,.814,.542]],[.432,[.552,.814,.542]],[.434,[.546,.811,.538]],[.436,[.546,.811,.538]],[.438,[.541,.809,.533]],[.44,[.541,.809,.533]],[.442,[.535,.806,.529]],[.444,[.535,.806,.529]],[.446,[.53,.804,.524]],[.448,[.53,.804,.524]],[.45,[.524,.801,.52]],[.452,[.524,.801,.52]],[.454,[.519,.798,.515]],[.456,[.519,.798,.515]],[.458,[.513,.796,.511]],[.46,[.513,.796,.511]],[.462,[.507,.793,.506]],[.464,[.507,.793,.506]],[.466,[.502,.791,.501]],[.468,[.502,.791,.501]],[.47,[.496,.788,.497]],[.472,[.496,.788,.497]],[.474,[.491,.785,.492]],[.476,[.491,.785,.492]],[.477,[.485,.783,.488]],[.479,[.485,.783,.488]],[.481,[.48,.78,.483]],[.483,[.48,.78,.483]],[.485,[.474,.778,.479]],[.487,[.474,.778,.479]],[.489,[.469,.775,.474]],[.491,[.469,.775,.474]],[.493,[.463,.773,.47]],[.495,[.463,.773,.47]],[.497,[.458,.77,.465]],[.499,[.458,.77,.465]],[.501,[.452,.767,.461]],[.503,[.452,.767,.461]],[.505,[.445,.764,.458]],[.507,[.445,.764,.458]],[.509,[.439,.761,.455]],[.511,[.439,.761,.455]],[.513,[.433,.758,.452]],[.515,[.433,.758,.452]],[.517,[.427,.755,.449]],[.519,[.427,.755,.449]],[.521,[.42,.752,.446]],[.523,[.42,.752,.446]],[.524,[.414,.749,.443]],[.526,[.414,.749,.443]],[.528,[.408,.746,.44]],[.53,[.408,.746,.44]],[.532,[.402,.742,.437]],[.534,[.402,.742,.437]],[.536,[.395,.739,.434]],[.538,[.395,.739,.434]],[.54,[.389,.736,.43]],[.542,[.389,.736,.43]],[.544,[.383,.733,.427]],[.546,[.383,.733,.427]],[.548,[.376,.73,.424]],[.55,[.376,.73,.424]],[.552,[.37,.727,.421]],[.554,[.37,.727,.421]],[.556,[.364,.724,.418]],[.558,[.364,.724,.418]],[.56,[.358,.721,.415]],[.562,[.358,.721,.415]],[.564,[.351,.718,.412]],[.566,[.351,.718,.412]],[.568,[.345,.715,.409]],[.569,[.345,.715,.409]],[.571,[.339,.712,.406]],[.573,[.339,.712,.406]],[.575,[.333,.709,.403]],[.577,[.333,.709,.403]],[.579,[.326,.706,.4]],[.581,[.326,.706,.4]],[.583,[.32,.702,.397]],[.585,[.32,.702,.397]],[.587,[.314,.699,.394]],[.589,[.314,.699,.394]],[.591,[.307,.696,.39]],[.593,[.307,.696,.39]],[.595,[.301,.693,.387]],[.597,[.301,.693,.387]],[.599,[.295,.69,.384]],[.601,[.295,.69,.384]],[.603,[.289,.687,.381]],[.605,[.289,.687,.381]],[.607,[.282,.684,.378]],[.609,[.282,.684,.378]],[.611,[.276,.681,.375]],[.613,[.276,.681,.375]],[.614,[.27,.678,.372]],[.616,[.27,.678,.372]],[.618,[.264,.675,.369]],[.62,[.264,.675,.369]],[.622,[.257,.672,.366]],[.624,[.257,.672,.366]],[.626,[.253,.668,.363]],[.628,[.253,.668,.363]],[.63,[.249,.664,.36]],[.632,[.249,.664,.36]],[.634,[.245,.66,.357]],[.636,[.245,.66,.357]],[.638,[.242,.656,.354]],[.64,[.242,.656,.354]],[.642,[.238,.652,.351]],[.644,[.238,.652,.351]],[.646,[.234,.648,.348]],[.648,[.234,.648,.348]],[.65,[.23,.645,.345]],[.652,[.23,.645,.345]],[.654,[.227,.641,.342]],[.656,[.227,.641,.342]],[.658,[.223,.637,.339]],[.659,[.223,.637,.339]],[.661,[.219,.633,.336]],[.663,[.219,.633,.336]],[.665,[.216,.629,.333]],[.667,[.216,.629,.333]],[.669,[.212,.625,.33]],[.671,[.212,.625,.33]],[.673,[.208,.621,.327]],[.675,[.208,.621,.327]],[.677,[.205,.617,.324]],[.679,[.205,.617,.324]],[.681,[.201,.613,.322]],[.683,[.201,.613,.322]],[.685,[.197,.609,.319]],[.687,[.197,.609,.319]],[.689,[.194,.605,.316]],[.691,[.194,.605,.316]],[.693,[.19,.601,.313]],[.695,[.19,.601,.313]],[.697,[.186,.597,.31]],[.699,[.186,.597,.31]],[.701,[.182,.593,.307]],[.703,[.182,.593,.307]],[.705,[.179,.589,.304]],[.706,[.179,.589,.304]],[.708,[.175,.585,.301]],[.71,[.175,.585,.301]],[.712,[.171,.582,.298]],[.714,[.171,.582,.298]],[.716,[.168,.578,.295]],[.718,[.168,.578,.295]],[.72,[.164,.574,.292]],[.722,[.164,.574,.292]],[.724,[.16,.57,.289]],[.726,[.16,.57,.289]],[.728,[.157,.566,.286]],[.73,[.157,.566,.286]],[.732,[.153,.562,.283]],[.734,[.153,.562,.283]],[.736,[.149,.558,.28]],[.738,[.149,.558,.28]],[.74,[.146,.554,.277]],[.742,[.146,.554,.277]],[.744,[.142,.55,.274]],[.746,[.142,.55,.274]],[.748,[.138,.546,.271]],[.75,[.138,.546,.271]],[.751,[.134,.542,.268]],[.753,[.134,.542,.268]],[.755,[.13,.539,.265]],[.757,[.13,.539,.265]],[.759,[.125,.535,.262]],[.761,[.125,.535,.262]],[.763,[.121,.531,.259]],[.765,[.121,.531,.259]],[.767,[.117,.528,.256]],[.769,[.117,.528,.256]],[.771,[.112,.524,.253]],[.773,[.112,.524,.253]],[.775,[.108,.52,.25]],[.777,[.108,.52,.25]],[.779,[.104,.516,.247]],[.781,[.104,.516,.247]],[.783,[.1,.513,.244]],[.785,[.1,.513,.244]],[.787,[.095,.509,.241]],[.789,[.095,.509,.241]],[.791,[.091,.505,.238]],[.793,[.091,.505,.238]],[.795,[.087,.502,.234]],[.796,[.087,.502,.234]],[.798,[.082,.498,.231]],[.8,[.082,.498,.231]],[.802,[.078,.494,.228]],[.804,[.078,.494,.228]],[.806,[.074,.491,.225]],[.808,[.074,.491,.225]],[.81,[.069,.487,.222]],[.812,[.069,.487,.222]],[.814,[.065,.483,.219]],[.816,[.065,.483,.219]],[.818,[.061,.48,.216]],[.82,[.061,.48,.216]],[.822,[.057,.476,.213]],[.824,[.057,.476,.213]],[.826,[.052,.472,.21]],[.828,[.052,.472,.21]],[.83,[.048,.469,.207]],[.832,[.048,.469,.207]],[.834,[.044,.465,.204]],[.836,[.044,.465,.204]],[.838,[.039,.461,.201]],[.84,[.039,.461,.201]],[.841,[.035,.457,.198]],[.843,[.035,.457,.198]],[.845,[.031,.454,.194]],[.847,[.031,.454,.194]],[.849,[.026,.45,.191]],[.851,[.026,.45,.191]],[.853,[.022,.446,.188]],[.855,[.022,.446,.188]],[.857,[.018,.443,.185]],[.859,[.018,.443,.185]],[.861,[.013,.439,.182]],[.863,[.013,.439,.182]],[.865,[.009,.435,.179]],[.867,[.009,.435,.179]],[.869,[.005,.432,.176]],[.871,[.005,.432,.176]],[.873,[.001,.428,.173]],[.875,[.001,.428,.173]],[.877,[0,.423,.171]],[.879,[0,.423,.171]],[.881,[0,.418,.169]],[.883,[0,.418,.169]],[.885,[0,.413,.167]],[.886,[0,.413,.167]],[.888,[0,.408,.164]],[.89,[0,.408,.164]],[.892,[0,.403,.162]],[.894,[0,.403,.162]],[.896,[0,.398,.16]],[.898,[0,.398,.16]],[.9,[0,.393,.158]],[.902,[0,.393,.158]],[.904,[0,.388,.156]],[.906,[0,.388,.156]],[.908,[0,.383,.154]],[.91,[0,.383,.154]],[.912,[0,.378,.152]],[.914,[0,.378,.152]],[.916,[0,.373,.15]],[.918,[0,.373,.15]],[.92,[0,.368,.148]],[.922,[0,.368,.148]],[.924,[0,.363,.146]],[.926,[0,.363,.146]],[.928,[0,.357,.144]],[.93,[0,.357,.144]],[.932,[0,.352,.141]],[.933,[0,.352,.141]],[.935,[0,.347,.139]],[.937,[0,.347,.139]],[.939,[0,.342,.137]],[.941,[0,.342,.137]],[.943,[0,.337,.135]],[.945,[0,.337,.135]],[.947,[0,.332,.133]],[.949,[0,.332,.133]],[.951,[0,.327,.131]],[.953,[0,.327,.131]],[.955,[0,.322,.129]],[.957,[0,.322,.129]],[.959,[0,.317,.127]],[.961,[0,.317,.127]],[.963,[0,.312,.125]],[.965,[0,.312,.125]],[.967,[0,.307,.123]],[.969,[0,.307,.123]],[.971,[0,.302,.121]],[.973,[0,.302,.121]],[.975,[0,.297,.118]],[.977,[0,.297,.118]],[.978,[0,.292,.116]],[.98,[0,.292,.116]],[.982,[0,.287,.114]],[.984,[0,.287,.114]],[.986,[0,.282,.112]],[.988,[0,.282,.112]],[.99,[0,.277,.11]],[.992,[0,.277,.11]],[.994,[0,.272,.108]],[.996,[0,.272,.108]],[.998,[0,.267,.106]],[1,[0,.267,.106]]],vislibColorMaps.Greys=[[0,[1,1,1]],[.002,[1,1,1]],[.004,[.998,.998,.998]],[.006,[.998,.998,.998]],[.008,[.996,.996,.996]],[.01,[.996,.996,.996]],[.012,[.994,.994,.994]],[.014,[.994,.994,.994]],[.016,[.993,.993,.993]],[.018,[.993,.993,.993]],[.02,[.991,.991,.991]],[.022,[.991,.991,.991]],[.023,[.989,.989,.989]],[.025,[.989,.989,.989]],[.027,[.987,.987,.987]],[.029,[.987,.987,.987]],[.031,[.985,.985,.985]],[.033,[.985,.985,.985]],[.035,[.983,.983,.983]],[.037,[.983,.983,.983]],[.039,[.982,.982,.982]],[.041,[.982,.982,.982]],[.043,[.98,.98,.98]],[.045,[.98,.98,.98]],[.047,[.978,.978,.978]],[.049,[.978,.978,.978]],[.051,[.976,.976,.976]],[.053,[.976,.976,.976]],[.055,[.974,.974,.974]],[.057,[.974,.974,.974]],[.059,[.972,.972,.972]],[.061,[.972,.972,.972]],[.063,[.97,.97,.97]],[.065,[.97,.97,.97]],[.067,[.969,.969,.969]],[.068,[.969,.969,.969]],[.07,[.967,.967,.967]],[.072,[.967,.967,.967]],[.074,[.965,.965,.965]],[.076,[.965,.965,.965]],[.078,[.963,.963,.963]],[.08,[.963,.963,.963]],[.082,[.961,.961,.961]],[.084,[.961,.961,.961]],[.086,[.959,.959,.959]],[.088,[.959,.959,.959]],[.09,[.958,.958,.958]],[.092,[.958,.958,.958]],[.094,[.956,.956,.956]],[.096,[.956,.956,.956]],[.098,[.954,.954,.954]],[.1,[.954,.954,.954]],[.102,[.952,.952,.952]],[.104,[.952,.952,.952]],[.106,[.95,.95,.95]],[.108,[.95,.95,.95]],[.11,[.948,.948,.948]],[.112,[.948,.948,.948]],[.114,[.946,.946,.946]],[.115,[.946,.946,.946]],[.117,[.945,.945,.945]],[.119,[.945,.945,.945]],[.121,[.943,.943,.943]],[.123,[.943,.943,.943]],[.125,[.941,.941,.941]],[.127,[.941,.941,.941]],[.129,[.938,.938,.938]],[.131,[.938,.938,.938]],[.133,[.935,.935,.935]],[.135,[.935,.935,.935]],[.137,[.932,.932,.932]],[.139,[.932,.932,.932]],[.141,[.93,.93,.93]],[.143,[.93,.93,.93]],[.145,[.927,.927,.927]],[.147,[.927,.927,.927]],[.149,[.924,.924,.924]],[.151,[.924,.924,.924]],[.153,[.921,.921,.921]],[.155,[.921,.921,.921]],[.157,[.918,.918,.918]],[.159,[.918,.918,.918]],[.16,[.915,.915,.915]],[.162,[.915,.915,.915]],[.164,[.913,.913,.913]],[.166,[.913,.913,.913]],[.168,[.91,.91,.91]],[.17,[.91,.91,.91]],[.172,[.907,.907,.907]],[.174,[.907,.907,.907]],[.176,[.904,.904,.904]],[.178,[.904,.904,.904]],[.18,[.901,.901,.901]],[.182,[.901,.901,.901]],[.184,[.898,.898,.898]],[.186,[.898,.898,.898]],[.188,[.896,.896,.896]],[.19,[.896,.896,.896]],[.192,[.893,.893,.893]],[.194,[.893,.893,.893]],[.196,[.89,.89,.89]],[.198,[.89,.89,.89]],[.2,[.887,.887,.887]],[.202,[.887,.887,.887]],[.204,[.884,.884,.884]],[.205,[.884,.884,.884]],[.207,[.881,.881,.881]],[.209,[.881,.881,.881]],[.211,[.879,.879,.879]],[.213,[.879,.879,.879]],[.215,[.876,.876,.876]],[.217,[.876,.876,.876]],[.219,[.873,.873,.873]],[.221,[.873,.873,.873]],[.223,[.87,.87,.87]],[.225,[.87,.87,.87]],[.227,[.867,.867,.867]],[.229,[.867,.867,.867]],[.231,[.864,.864,.864]],[.233,[.864,.864,.864]],[.235,[.862,.862,.862]],[.237,[.862,.862,.862]],[.239,[.859,.859,.859]],[.241,[.859,.859,.859]],[.243,[.856,.856,.856]],[.245,[.856,.856,.856]],[.247,[.853,.853,.853]],[.249,[.853,.853,.853]],[.25,[.85,.85,.85]],[.252,[.85,.85,.85]],[.254,[.847,.847,.847]],[.256,[.847,.847,.847]],[.258,[.843,.843,.843]],[.26,[.843,.843,.843]],[.262,[.84,.84,.84]],[.264,[.84,.84,.84]],[.266,[.836,.836,.836]],[.268,[.836,.836,.836]],[.27,[.833,.833,.833]],[.272,[.833,.833,.833]],[.274,[.829,.829,.829]],[.276,[.829,.829,.829]],[.278,[.826,.826,.826]],[.28,[.826,.826,.826]],[.282,[.823,.823,.823]],[.284,[.823,.823,.823]],[.286,[.819,.819,.819]],[.288,[.819,.819,.819]],[.29,[.816,.816,.816]],[.292,[.816,.816,.816]],[.294,[.812,.812,.812]],[.295,[.812,.812,.812]],[.297,[.809,.809,.809]],[.299,[.809,.809,.809]],[.301,[.805,.805,.805]],[.303,[.805,.805,.805]],[.305,[.802,.802,.802]],[.307,[.802,.802,.802]],[.309,[.798,.798,.798]],[.311,[.798,.798,.798]],[.313,[.795,.795,.795]],[.315,[.795,.795,.795]],[.317,[.792,.792,.792]],[.319,[.792,.792,.792]],[.321,[.788,.788,.788]],[.323,[.788,.788,.788]],[.325,[.785,.785,.785]],[.327,[.785,.785,.785]],[.329,[.781,.781,.781]],[.331,[.781,.781,.781]],[.333,[.778,.778,.778]],[.335,[.778,.778,.778]],[.337,[.774,.774,.774]],[.339,[.774,.774,.774]],[.341,[.771,.771,.771]],[.342,[.771,.771,.771]],[.344,[.767,.767,.767]],[.346,[.767,.767,.767]],[.348,[.764,.764,.764]],[.35,[.764,.764,.764]],[.352,[.761,.761,.761]],[.354,[.761,.761,.761]],[.356,[.757,.757,.757]],[.358,[.757,.757,.757]],[.36,[.754,.754,.754]],[.362,[.754,.754,.754]],[.364,[.75,.75,.75]],[.366,[.75,.75,.75]],[.368,[.747,.747,.747]],[.37,[.747,.747,.747]],[.372,[.743,.743,.743]],[.374,[.743,.743,.743]],[.376,[.739,.739,.739]],[.378,[.739,.739,.739]],[.38,[.735,.735,.735]],[.382,[.735,.735,.735]],[.384,[.73,.73,.73]],[.386,[.73,.73,.73]],[.387,[.725,.725,.725]],[.389,[.725,.725,.725]],[.391,[.72,.72,.72]],[.393,[.72,.72,.72]],[.395,[.715,.715,.715]],[.397,[.715,.715,.715]],[.399,[.711,.711,.711]],[.401,[.711,.711,.711]],[.403,[.706,.706,.706]],[.405,[.706,.706,.706]],[.407,[.701,.701,.701]],[.409,[.701,.701,.701]],[.411,[.696,.696,.696]],[.413,[.696,.696,.696]],[.415,[.691,.691,.691]],[.417,[.691,.691,.691]],[.419,[.687,.687,.687]],[.421,[.687,.687,.687]],[.423,[.682,.682,.682]],[.425,[.682,.682,.682]],[.427,[.677,.677,.677]],[.429,[.677,.677,.677]],[.431,[.672,.672,.672]],[.432,[.672,.672,.672]],[.434,[.667,.667,.667]],[.436,[.667,.667,.667]],[.438,[.663,.663,.663]],[.44,[.663,.663,.663]],[.442,[.658,.658,.658]],[.444,[.658,.658,.658]],[.446,[.653,.653,.653]],[.448,[.653,.653,.653]],[.45,[.648,.648,.648]],[.452,[.648,.648,.648]],[.454,[.643,.643,.643]],[.456,[.643,.643,.643]],[.458,[.639,.639,.639]],[.46,[.639,.639,.639]],[.462,[.634,.634,.634]],[.464,[.634,.634,.634]],[.466,[.629,.629,.629]],[.468,[.629,.629,.629]],[.47,[.624,.624,.624]],[.472,[.624,.624,.624]],[.474,[.619,.619,.619]],[.476,[.619,.619,.619]],[.477,[.615,.615,.615]],[.479,[.615,.615,.615]],[.481,[.61,.61,.61]],[.483,[.61,.61,.61]],[.485,[.605,.605,.605]],[.487,[.605,.605,.605]],[.489,[.6,.6,.6]],[.491,[.6,.6,.6]],[.493,[.595,.595,.595]],[.495,[.595,.595,.595]],[.497,[.591,.591,.591]],[.499,[.591,.591,.591]],[.501,[.586,.586,.586]],[.503,[.586,.586,.586]],[.505,[.582,.582,.582]],[.507,[.582,.582,.582]],[.509,[.577,.577,.577]],[.511,[.577,.577,.577]],[.513,[.573,.573,.573]],[.515,[.573,.573,.573]],[.517,[.569,.569,.569]],[.519,[.569,.569,.569]],[.521,[.565,.565,.565]],[.523,[.565,.565,.565]],[.524,[.56,.56,.56]],[.526,[.56,.56,.56]],[.528,[.556,.556,.556]],[.53,[.556,.556,.556]],[.532,[.552,.552,.552]],[.534,[.552,.552,.552]],[.536,[.547,.547,.547]],[.538,[.547,.547,.547]],[.54,[.543,.543,.543]],[.542,[.543,.543,.543]],[.544,[.539,.539,.539]],[.546,[.539,.539,.539]],[.548,[.534,.534,.534]],[.55,[.534,.534,.534]],[.552,[.53,.53,.53]],[.554,[.53,.53,.53]],[.556,[.526,.526,.526]],[.558,[.526,.526,.526]],[.56,[.521,.521,.521]],[.562,[.521,.521,.521]],[.564,[.517,.517,.517]],[.566,[.517,.517,.517]],[.568,[.513,.513,.513]],[.569,[.513,.513,.513]],[.571,[.509,.509,.509]],[.573,[.509,.509,.509]],[.575,[.504,.504,.504]],[.577,[.504,.504,.504]],[.579,[.5,.5,.5]],[.581,[.5,.5,.5]],[.583,[.496,.496,.496]],[.585,[.496,.496,.496]],[.587,[.491,.491,.491]],[.589,[.491,.491,.491]],[.591,[.487,.487,.487]],[.593,[.487,.487,.487]],[.595,[.483,.483,.483]],[.597,[.483,.483,.483]],[.599,[.478,.478,.478]],[.601,[.478,.478,.478]],[.603,[.474,.474,.474]],[.605,[.474,.474,.474]],[.607,[.47,.47,.47]],[.609,[.47,.47,.47]],[.611,[.466,.466,.466]],[.613,[.466,.466,.466]],[.614,[.461,.461,.461]],[.616,[.461,.461,.461]],[.618,[.457,.457,.457]],[.62,[.457,.457,.457]],[.622,[.453,.453,.453]],[.624,[.453,.453,.453]],[.626,[.448,.448,.448]],[.628,[.448,.448,.448]],[.63,[.444,.444,.444]],[.632,[.444,.444,.444]],[.634,[.44,.44,.44]],[.636,[.44,.44,.44]],[.638,[.436,.436,.436]],[.64,[.436,.436,.436]],[.642,[.432,.432,.432]],[.644,[.432,.432,.432]],[.646,[.428,.428,.428]],[.648,[.428,.428,.428]],[.65,[.424,.424,.424]],[.652,[.424,.424,.424]],[.654,[.42,.42,.42]],[.656,[.42,.42,.42]],[.658,[.416,.416,.416]],[.659,[.416,.416,.416]],[.661,[.412,.412,.412]],[.663,[.412,.412,.412]],[.665,[.408,.408,.408]],[.667,[.408,.408,.408]],[.669,[.404,.404,.404]],[.671,[.404,.404,.404]],[.673,[.4,.4,.4]],[.675,[.4,.4,.4]],[.677,[.396,.396,.396]],[.679,[.396,.396,.396]],[.681,[.392,.392,.392]],[.683,[.392,.392,.392]],[.685,[.388,.388,.388]],[.687,[.388,.388,.388]],[.689,[.383,.383,.383]],[.691,[.383,.383,.383]],[.693,[.379,.379,.379]],[.695,[.379,.379,.379]],[.697,[.375,.375,.375]],[.699,[.375,.375,.375]],[.701,[.371,.371,.371]],[.703,[.371,.371,.371]],[.705,[.367,.367,.367]],[.706,[.367,.367,.367]],[.708,[.363,.363,.363]],[.71,[.363,.363,.363]],[.712,[.359,.359,.359]],[.714,[.359,.359,.359]],[.716,[.355,.355,.355]],[.718,[.355,.355,.355]],[.72,[.351,.351,.351]],[.722,[.351,.351,.351]],[.724,[.347,.347,.347]],[.726,[.347,.347,.347]],[.728,[.343,.343,.343]],[.73,[.343,.343,.343]],[.732,[.339,.339,.339]],[.734,[.339,.339,.339]],[.736,[.335,.335,.335]],[.738,[.335,.335,.335]],[.74,[.331,.331,.331]],[.742,[.331,.331,.331]],[.744,[.327,.327,.327]],[.746,[.327,.327,.327]],[.748,[.323,.323,.323]],[.75,[.323,.323,.323]],[.751,[.317,.317,.317]],[.753,[.317,.317,.317]],[.755,[.312,.312,.312]],[.757,[.312,.312,.312]],[.759,[.306,.306,.306]],[.761,[.306,.306,.306]],[.763,[.301,.301,.301]],[.765,[.301,.301,.301]],[.767,[.295,.295,.295]],[.769,[.295,.295,.295]],[.771,[.29,.29,.29]],[.773,[.29,.29,.29]],[.775,[.284,.284,.284]],[.777,[.284,.284,.284]],[.779,[.279,.279,.279]],[.781,[.279,.279,.279]],[.783,[.273,.273,.273]],[.785,[.273,.273,.273]],[.787,[.268,.268,.268]],[.789,[.268,.268,.268]],[.791,[.262,.262,.262]],[.793,[.262,.262,.262]],[.795,[.257,.257,.257]],[.796,[.257,.257,.257]],[.798,[.251,.251,.251]],[.8,[.251,.251,.251]],[.802,[.245,.245,.245]],[.804,[.245,.245,.245]],[.806,[.24,.24,.24]],[.808,[.24,.24,.24]],[.81,[.234,.234,.234]],[.812,[.234,.234,.234]],[.814,[.229,.229,.229]],[.816,[.229,.229,.229]],[.818,[.223,.223,.223]],[.82,[.223,.223,.223]],[.822,[.218,.218,.218]],[.824,[.218,.218,.218]],[.826,[.212,.212,.212]],[.828,[.212,.212,.212]],[.83,[.207,.207,.207]],[.832,[.207,.207,.207]],[.834,[.201,.201,.201]],[.836,[.201,.201,.201]],[.838,[.196,.196,.196]],[.84,[.196,.196,.196]],[.841,[.19,.19,.19]],[.843,[.19,.19,.19]],[.845,[.185,.185,.185]],[.847,[.185,.185,.185]],[.849,[.179,.179,.179]],[.851,[.179,.179,.179]],[.853,[.173,.173,.173]],[.855,[.173,.173,.173]],[.857,[.168,.168,.168]],[.859,[.168,.168,.168]],[.861,[.162,.162,.162]],[.863,[.162,.162,.162]],[.865,[.157,.157,.157]],[.867,[.157,.157,.157]],[.869,[.151,.151,.151]],[.871,[.151,.151,.151]],[.873,[.146,.146,.146]],[.875,[.146,.146,.146]],[.877,[.141,.141,.141]],[.879,[.141,.141,.141]],[.881,[.137,.137,.137]],[.883,[.137,.137,.137]],[.885,[.132,.132,.132]],[.886,[.132,.132,.132]],[.888,[.127,.127,.127]],[.89,[.127,.127,.127]],[.892,[.123,.123,.123]],[.894,[.123,.123,.123]],[.896,[.118,.118,.118]],[.898,[.118,.118,.118]],[.9,[.114,.114,.114]],[.902,[.114,.114,.114]],[.904,[.109,.109,.109]],[.906,[.109,.109,.109]],[.908,[.105,.105,.105]],[.91,[.105,.105,.105]],[.912,[.1,.1,.1]],[.914,[.1,.1,.1]],[.916,[.096,.096,.096]],[.918,[.096,.096,.096]],[.92,[.091,.091,.091]],[.922,[.091,.091,.091]],[.924,[.086,.086,.086]],[.926,[.086,.086,.086]],[.928,[.082,.082,.082]],[.93,[.082,.082,.082]],[.932,[.077,.077,.077]],[.933,[.077,.077,.077]],[.935,[.073,.073,.073]],[.937,[.073,.073,.073]],[.939,[.068,.068,.068]],[.941,[.068,.068,.068]],[.943,[.064,.064,.064]],[.945,[.064,.064,.064]],[.947,[.059,.059,.059]],[.949,[.059,.059,.059]],[.951,[.055,.055,.055]],[.953,[.055,.055,.055]],[.955,[.05,.05,.05]],[.957,[.05,.05,.05]],[.959,[.046,.046,.046]],[.961,[.046,.046,.046]],[.963,[.041,.041,.041]],[.965,[.041,.041,.041]],[.967,[.036,.036,.036]],[.969,[.036,.036,.036]],[.971,[.032,.032,.032]],[.973,[.032,.032,.032]],[.975,[.027,.027,.027]],[.977,[.027,.027,.027]],[.978,[.023,.023,.023]],[.98,[.023,.023,.023]],[.982,[.018,.018,.018]],[.984,[.018,.018,.018]],[.986,[.014,.014,.014]],[.988,[.014,.014,.014]],[.99,[.009,.009,.009]],[.992,[.009,.009,.009]],[.994,[.005,.005,.005]],[.996,[.005,.005,.005]],[.998,[0,0,0]],[1,[0,0,0]]],vislibColorMaps.Reds=[[0,[1,.961,.941]],[.002,[1,.961,.941]],[.004,[1,.958,.937]],[.006,[1,.958,.937]],[.008,[1,.956,.934]],[.01,[1,.956,.934]],[.012,[1,.953,.93]],[.014,[1,.953,.93]],[.016,[1,.95,.926]],[.018,[1,.95,.926]],[.02,[.999,.948,.923]],[.022,[.999,.948,.923]],[.023,[.999,.945,.919]],[.025,[.999,.945,.919]],[.027,[.999,.943,.915]],[.029,[.999,.943,.915]],[.031,[.999,.94,.912]],[.033,[.999,.94,.912]],[.035,[.999,.938,.908]],[.037,[.999,.938,.908]],[.039,[.999,.935,.904]],[.041,[.999,.935,.904]],[.043,[.999,.932,.901]],[.045,[.999,.932,.901]],[.047,[.999,.93,.897]],[.049,[.999,.93,.897]],[.051,[.998,.927,.893]],[.053,[.998,.927,.893]],[.055,[.998,.925,.89]],[.057,[.998,.925,.89]],[.059,[.998,.922,.886]],[.061,[.998,.922,.886]],[.063,[.998,.919,.882]],[.065,[.998,.919,.882]],[.067,[.998,.917,.878]],[.068,[.998,.917,.878]],[.07,[.998,.914,.875]],[.072,[.998,.914,.875]],[.074,[.998,.912,.871]],[.076,[.998,.912,.871]],[.078,[.998,.909,.867]],[.08,[.998,.909,.867]],[.082,[.997,.907,.864]],[.084,[.997,.907,.864]],[.086,[.997,.904,.86]],[.088,[.997,.904,.86]],[.09,[.997,.901,.856]],[.092,[.997,.901,.856]],[.094,[.997,.899,.853]],[.096,[.997,.899,.853]],[.098,[.997,.896,.849]],[.1,[.997,.896,.849]],[.102,[.997,.894,.845]],[.104,[.997,.894,.845]],[.106,[.997,.891,.842]],[.108,[.997,.891,.842]],[.11,[.997,.888,.838]],[.112,[.997,.888,.838]],[.114,[.996,.886,.834]],[.115,[.996,.886,.834]],[.117,[.996,.883,.83]],[.119,[.996,.883,.83]],[.121,[.996,.881,.827]],[.123,[.996,.881,.827]],[.125,[.996,.878,.823]],[.127,[.996,.878,.823]],[.129,[.996,.873,.817]],[.131,[.996,.873,.817]],[.133,[.996,.869,.811]],[.135,[.996,.869,.811]],[.137,[.995,.864,.805]],[.139,[.995,.864,.805]],[.141,[.995,.86,.799]],[.143,[.995,.86,.799]],[.145,[.995,.855,.793]],[.147,[.995,.855,.793]],[.149,[.995,.851,.787]],[.151,[.995,.851,.787]],[.153,[.994,.846,.781]],[.155,[.994,.846,.781]],[.157,[.994,.841,.775]],[.159,[.994,.841,.775]],[.16,[.994,.837,.769]],[.162,[.994,.837,.769]],[.164,[.994,.832,.762]],[.166,[.994,.832,.762]],[.168,[.993,.828,.756]],[.17,[.993,.828,.756]],[.172,[.993,.823,.75]],[.174,[.993,.823,.75]],[.176,[.993,.819,.744]],[.178,[.993,.819,.744]],[.18,[.993,.814,.738]],[.182,[.993,.814,.738]],[.184,[.992,.81,.732]],[.186,[.992,.81,.732]],[.188,[.992,.805,.726]],[.19,[.992,.805,.726]],[.192,[.992,.8,.72]],[.194,[.992,.8,.72]],[.196,[.992,.796,.714]],[.198,[.992,.796,.714]],[.2,[.991,.791,.708]],[.202,[.991,.791,.708]],[.204,[.991,.787,.702]],[.205,[.991,.787,.702]],[.207,[.991,.782,.696]],[.209,[.991,.782,.696]],[.211,[.991,.778,.69]],[.213,[.991,.778,.69]],[.215,[.99,.773,.684]],[.217,[.99,.773,.684]],[.219,[.99,.769,.678]],[.221,[.99,.769,.678]],[.223,[.99,.764,.672]],[.225,[.99,.764,.672]],[.227,[.99,.76,.666]],[.229,[.99,.76,.666]],[.231,[.989,.755,.66]],[.233,[.989,.755,.66]],[.235,[.989,.75,.654]],[.237,[.989,.75,.654]],[.239,[.989,.746,.648]],[.241,[.989,.746,.648]],[.243,[.989,.741,.642]],[.245,[.989,.741,.642]],[.247,[.988,.737,.636]],[.249,[.988,.737,.636]],[.25,[.988,.732,.63]],[.252,[.988,.732,.63]],[.254,[.988,.727,.624]],[.256,[.988,.727,.624]],[.258,[.988,.722,.618]],[.26,[.988,.722,.618]],[.262,[.988,.717,.613]],[.264,[.988,.717,.613]],[.266,[.988,.712,.607]],[.268,[.988,.712,.607]],[.27,[.988,.707,.601]],[.272,[.988,.707,.601]],[.274,[.988,.702,.595]],[.276,[.988,.702,.595]],[.278,[.988,.697,.589]],[.28,[.988,.697,.589]],[.282,[.988,.692,.584]],[.284,[.988,.692,.584]],[.286,[.988,.687,.578]],[.288,[.988,.687,.578]],[.29,[.988,.682,.572]],[.292,[.988,.682,.572]],[.294,[.988,.677,.566]],[.295,[.988,.677,.566]],[.297,[.988,.672,.561]],[.299,[.988,.672,.561]],[.301,[.988,.666,.555]],[.303,[.988,.666,.555]],[.305,[.988,.661,.549]],[.307,[.988,.661,.549]],[.309,[.988,.656,.543]],[.311,[.988,.656,.543]],[.313,[.988,.651,.537]],[.315,[.988,.651,.537]],[.317,[.988,.646,.532]],[.319,[.988,.646,.532]],[.321,[.988,.641,.526]],[.323,[.988,.641,.526]],[.325,[.988,.636,.52]],[.327,[.988,.636,.52]],[.329,[.988,.631,.514]],[.331,[.988,.631,.514]],[.333,[.988,.626,.508]],[.335,[.988,.626,.508]],[.337,[.988,.621,.503]],[.339,[.988,.621,.503]],[.341,[.988,.616,.497]],[.342,[.988,.616,.497]],[.344,[.988,.611,.491]],[.346,[.988,.611,.491]],[.348,[.988,.606,.485]],[.35,[.988,.606,.485]],[.352,[.988,.601,.48]],[.354,[.988,.601,.48]],[.356,[.988,.596,.474]],[.358,[.988,.596,.474]],[.36,[.988,.591,.468]],[.362,[.988,.591,.468]],[.364,[.988,.586,.462]],[.366,[.988,.586,.462]],[.368,[.988,.581,.456]],[.37,[.988,.581,.456]],[.372,[.988,.576,.451]],[.374,[.988,.576,.451]],[.376,[.988,.571,.445]],[.378,[.988,.571,.445]],[.38,[.988,.566,.44]],[.382,[.988,.566,.44]],[.384,[.988,.561,.435]],[.386,[.988,.561,.435]],[.387,[.988,.556,.43]],[.389,[.988,.556,.43]],[.391,[.988,.551,.426]],[.393,[.988,.551,.426]],[.395,[.988,.546,.421]],[.397,[.988,.546,.421]],[.399,[.987,.541,.416]],[.401,[.987,.541,.416]],[.403,[.987,.536,.411]],[.405,[.987,.536,.411]],[.407,[.987,.531,.406]],[.409,[.987,.531,.406]],[.411,[.987,.526,.401]],[.413,[.987,.526,.401]],[.415,[.987,.521,.396]],[.417,[.987,.521,.396]],[.419,[.987,.517,.391]],[.421,[.987,.517,.391]],[.423,[.987,.512,.386]],[.425,[.987,.512,.386]],[.427,[.987,.507,.381]],[.429,[.987,.507,.381]],[.431,[.986,.502,.376]],[.432,[.986,.502,.376]],[.434,[.986,.497,.371]],[.436,[.986,.497,.371]],[.438,[.986,.492,.366]],[.44,[.986,.492,.366]],[.442,[.986,.487,.362]],[.444,[.986,.487,.362]],[.446,[.986,.482,.357]],[.448,[.986,.482,.357]],[.45,[.986,.477,.352]],[.452,[.986,.477,.352]],[.454,[.986,.472,.347]],[.456,[.986,.472,.347]],[.458,[.986,.467,.342]],[.46,[.986,.467,.342]],[.462,[.985,.462,.337]],[.464,[.985,.462,.337]],[.466,[.985,.458,.332]],[.468,[.985,.458,.332]],[.47,[.985,.453,.327]],[.472,[.985,.453,.327]],[.474,[.985,.448,.322]],[.476,[.985,.448,.322]],[.477,[.985,.443,.317]],[.479,[.985,.443,.317]],[.481,[.985,.438,.312]],[.483,[.985,.438,.312]],[.485,[.985,.433,.307]],[.487,[.985,.433,.307]],[.489,[.985,.428,.302]],[.491,[.985,.428,.302]],[.493,[.984,.423,.298]],[.495,[.984,.423,.298]],[.497,[.984,.418,.293]],[.499,[.984,.418,.293]],[.501,[.984,.413,.288]],[.503,[.984,.413,.288]],[.505,[.982,.407,.285]],[.507,[.982,.407,.285]],[.509,[.981,.401,.281]],[.511,[.981,.401,.281]],[.513,[.979,.395,.277]],[.515,[.979,.395,.277]],[.517,[.978,.39,.274]],[.519,[.978,.39,.274]],[.521,[.976,.384,.27]],[.523,[.976,.384,.27]],[.524,[.975,.378,.266]],[.526,[.975,.378,.266]],[.528,[.973,.372,.263]],[.53,[.973,.372,.263]],[.532,[.972,.367,.259]],[.534,[.972,.367,.259]],[.536,[.97,.361,.255]],[.538,[.97,.361,.255]],[.54,[.969,.355,.251]],[.542,[.969,.355,.251]],[.544,[.967,.349,.248]],[.546,[.967,.349,.248]],[.548,[.966,.343,.244]],[.55,[.966,.343,.244]],[.552,[.964,.338,.24]],[.554,[.964,.338,.24]],[.556,[.963,.332,.237]],[.558,[.963,.332,.237]],[.56,[.961,.326,.233]],[.562,[.961,.326,.233]],[.564,[.96,.32,.229]],[.566,[.96,.32,.229]],[.568,[.958,.314,.226]],[.569,[.958,.314,.226]],[.571,[.957,.309,.222]],[.573,[.957,.309,.222]],[.575,[.956,.303,.218]],[.577,[.956,.303,.218]],[.579,[.954,.297,.215]],[.581,[.954,.297,.215]],[.583,[.953,.291,.211]],[.585,[.953,.291,.211]],[.587,[.951,.286,.207]],[.589,[.951,.286,.207]],[.591,[.95,.28,.203]],[.593,[.95,.28,.203]],[.595,[.948,.274,.2]],[.597,[.948,.274,.2]],[.599,[.947,.268,.196]],[.601,[.947,.268,.196]],[.603,[.945,.262,.192]],[.605,[.945,.262,.192]],[.607,[.944,.257,.189]],[.609,[.944,.257,.189]],[.611,[.942,.251,.185]],[.613,[.942,.251,.185]],[.614,[.941,.245,.181]],[.616,[.941,.245,.181]],[.618,[.939,.239,.178]],[.62,[.939,.239,.178]],[.622,[.938,.234,.174]],[.624,[.938,.234,.174]],[.626,[.934,.229,.171]],[.628,[.934,.229,.171]],[.63,[.93,.224,.17]],[.632,[.93,.224,.17]],[.634,[.926,.22,.168]],[.636,[.926,.22,.168]],[.638,[.921,.216,.166]],[.64,[.921,.216,.166]],[.642,[.917,.211,.164]],[.644,[.917,.211,.164]],[.646,[.912,.207,.162]],[.648,[.912,.207,.162]],[.65,[.908,.203,.16]],[.652,[.908,.203,.16]],[.654,[.903,.199,.158]],[.656,[.903,.199,.158]],[.658,[.899,.194,.157]],[.659,[.899,.194,.157]],[.661,[.895,.19,.155]],[.663,[.895,.19,.155]],[.665,[.89,.186,.153]],[.667,[.89,.186,.153]],[.669,[.886,.181,.151]],[.671,[.886,.181,.151]],[.673,[.881,.177,.149]],[.675,[.881,.177,.149]],[.677,[.877,.173,.147]],[.679,[.877,.173,.147]],[.681,[.872,.168,.146]],[.683,[.872,.168,.146]],[.685,[.868,.164,.144]],[.687,[.868,.164,.144]],[.689,[.864,.16,.142]],[.691,[.864,.16,.142]],[.693,[.859,.155,.14]],[.695,[.859,.155,.14]],[.697,[.855,.151,.138]],[.699,[.855,.151,.138]],[.701,[.85,.147,.136]],[.703,[.85,.147,.136]],[.705,[.846,.143,.134]],[.706,[.846,.143,.134]],[.708,[.841,.138,.133]],[.71,[.841,.138,.133]],[.712,[.837,.134,.131]],[.714,[.837,.134,.131]],[.716,[.833,.13,.129]],[.718,[.833,.13,.129]],[.72,[.828,.125,.127]],[.722,[.828,.125,.127]],[.724,[.824,.121,.125]],[.726,[.824,.121,.125]],[.728,[.819,.117,.123]],[.73,[.819,.117,.123]],[.732,[.815,.112,.122]],[.734,[.815,.112,.122]],[.736,[.81,.108,.12]],[.738,[.81,.108,.12]],[.74,[.806,.104,.118]],[.742,[.806,.104,.118]],[.744,[.802,.1,.116]],[.746,[.802,.1,.116]],[.748,[.797,.095,.114]],[.75,[.797,.095,.114]],[.751,[.793,.093,.113]],[.753,[.793,.093,.113]],[.755,[.788,.092,.112]],[.757,[.788,.092,.112]],[.759,[.783,.091,.111]],[.761,[.783,.091,.111]],[.763,[.779,.09,.11]],[.765,[.779,.09,.11]],[.767,[.774,.089,.109]],[.769,[.774,.089,.109]],[.771,[.769,.088,.108]],[.773,[.769,.088,.108]],[.775,[.765,.087,.107]],[.777,[.765,.087,.107]],[.779,[.76,.086,.106]],[.781,[.76,.086,.106]],[.783,[.755,.084,.105]],[.785,[.755,.084,.105]],[.787,[.75,.083,.104]],[.789,[.75,.083,.104]],[.791,[.746,.082,.103]],[.793,[.746,.082,.103]],[.795,[.741,.081,.102]],[.796,[.741,.081,.102]],[.798,[.736,.08,.101]],[.8,[.736,.08,.101]],[.802,[.732,.079,.1]],[.804,[.732,.079,.1]],[.806,[.727,.078,.099]],[.808,[.727,.078,.099]],[.81,[.722,.077,.098]],[.812,[.722,.077,.098]],[.814,[.718,.076,.097]],[.816,[.718,.076,.097]],[.818,[.713,.074,.096]],[.82,[.713,.074,.096]],[.822,[.708,.073,.095]],[.824,[.708,.073,.095]],[.826,[.704,.072,.094]],[.828,[.704,.072,.094]],[.83,[.699,.071,.093]],[.832,[.699,.071,.093]],[.834,[.694,.07,.092]],[.836,[.694,.07,.092]],[.838,[.69,.069,.091]],[.84,[.69,.069,.091]],[.841,[.685,.068,.09]],[.843,[.685,.068,.09]],[.845,[.68,.067,.089]],[.847,[.68,.067,.089]],[.849,[.676,.066,.088]],[.851,[.676,.066,.088]],[.853,[.671,.064,.087]],[.855,[.671,.064,.087]],[.857,[.666,.063,.086]],[.859,[.666,.063,.086]],[.861,[.662,.062,.085]],[.863,[.662,.062,.085]],[.865,[.657,.061,.084]],[.867,[.657,.061,.084]],[.869,[.652,.06,.083]],[.871,[.652,.06,.083]],[.873,[.648,.059,.082]],[.875,[.648,.059,.082]],[.877,[.64,.057,.081]],[.879,[.64,.057,.081]],[.881,[.633,.055,.081]],[.883,[.633,.055,.081]],[.885,[.625,.054,.08]],[.886,[.625,.054,.08]],[.888,[.618,.052,.079]],[.89,[.618,.052,.079]],[.892,[.61,.05,.078]],[.894,[.61,.05,.078]],[.896,[.602,.048,.077]],[.898,[.602,.048,.077]],[.9,[.595,.046,.076]],[.902,[.595,.046,.076]],[.904,[.587,.044,.075]],[.906,[.587,.044,.075]],[.908,[.579,.042,.074]],[.91,[.579,.042,.074]],[.912,[.572,.041,.073]],[.914,[.572,.041,.073]],[.916,[.564,.039,.072]],[.918,[.564,.039,.072]],[.92,[.556,.037,.071]],[.922,[.556,.037,.071]],[.924,[.549,.035,.07]],[.926,[.549,.035,.07]],[.928,[.541,.033,.069]],[.93,[.541,.033,.069]],[.932,[.534,.031,.068]],[.933,[.534,.031,.068]],[.935,[.526,.03,.067]],[.937,[.526,.03,.067]],[.939,[.518,.028,.066]],[.941,[.518,.028,.066]],[.943,[.511,.026,.065]],[.945,[.511,.026,.065]],[.947,[.503,.024,.064]],[.949,[.503,.024,.064]],[.951,[.495,.022,.063]],[.953,[.495,.022,.063]],[.955,[.488,.02,.062]],[.957,[.488,.02,.062]],[.959,[.48,.018,.061]],[.961,[.48,.018,.061]],[.963,[.473,.017,.06]],[.965,[.473,.017,.06]],[.967,[.465,.015,.059]],[.969,[.465,.015,.059]],[.971,[.457,.013,.058]],[.973,[.457,.013,.058]],[.975,[.45,.011,.057]],[.977,[.45,.011,.057]],[.978,[.442,.009,.056]],[.98,[.442,.009,.056]],[.982,[.434,.007,.055]],[.984,[.434,.007,.055]],[.986,[.427,.006,.054]],[.988,[.427,.006,.054]],[.99,[.419,.004,.053]],[.992,[.419,.004,.053]],[.994,[.412,.002,.052]],[.996,[.412,.002,.052]],[.998,[.404,0,.051]],[1,[.404,0,.051]]],vislibColorMaps["Yellow to Red"]=[[0,[1,1,.8]],[.002,[1,1,.8]],[.004,[1,.998,.795]],[.006,[1,.998,.795]],[.008,[1,.996,.789]],[.01,[1,.996,.789]],[.012,[1,.993,.784]],[.014,[1,.993,.784]],[.016,[1,.991,.778]],[.018,[1,.991,.778]],[.02,[1,.989,.773]],[.022,[1,.989,.773]],[.023,[1,.987,.768]],[.025,[1,.987,.768]],[.027,[1,.984,.762]],[.029,[1,.984,.762]],[.031,[1,.982,.757]],[.033,[1,.982,.757]],[.035,[1,.98,.751]],[.037,[1,.98,.751]],[.039,[1,.978,.746]],[.041,[1,.978,.746]],[.043,[1,.976,.74]],[.045,[1,.976,.74]],[.047,[1,.973,.735]],[.049,[1,.973,.735]],[.051,[1,.971,.73]],[.053,[1,.971,.73]],[.055,[1,.969,.724]],[.057,[1,.969,.724]],[.059,[1,.967,.719]],[.061,[1,.967,.719]],[.063,[1,.965,.713]],[.065,[1,.965,.713]],[.067,[1,.962,.708]],[.068,[1,.962,.708]],[.07,[1,.96,.703]],[.072,[1,.96,.703]],[.074,[1,.958,.697]],[.076,[1,.958,.697]],[.078,[1,.956,.692]],[.08,[1,.956,.692]],[.082,[1,.953,.686]],[.084,[1,.953,.686]],[.086,[1,.951,.681]],[.088,[1,.951,.681]],[.09,[1,.949,.675]],[.092,[1,.949,.675]],[.094,[1,.947,.67]],[.096,[1,.947,.67]],[.098,[1,.945,.665]],[.1,[1,.945,.665]],[.102,[1,.942,.659]],[.104,[1,.942,.659]],[.106,[1,.94,.654]],[.108,[1,.94,.654]],[.11,[1,.938,.648]],[.112,[1,.938,.648]],[.114,[1,.936,.643]],[.115,[1,.936,.643]],[.117,[1,.934,.638]],[.119,[1,.934,.638]],[.121,[1,.931,.632]],[.123,[1,.931,.632]],[.125,[1,.929,.627]],[.127,[1,.929,.627]],[.129,[1,.927,.622]],[.131,[1,.927,.622]],[.133,[1,.924,.616]],[.135,[1,.924,.616]],[.137,[1,.922,.611]],[.139,[1,.922,.611]],[.141,[.999,.919,.606]],[.143,[.999,.919,.606]],[.145,[.999,.917,.601]],[.147,[.999,.917,.601]],[.149,[.999,.914,.596]],[.151,[.999,.914,.596]],[.153,[.999,.912,.591]],[.155,[.999,.912,.591]],[.157,[.999,.909,.585]],[.159,[.999,.909,.585]],[.16,[.999,.907,.58]],[.162,[.999,.907,.58]],[.164,[.999,.904,.575]],[.166,[.999,.904,.575]],[.168,[.999,.902,.57]],[.17,[.999,.902,.57]],[.172,[.999,.9,.565]],[.174,[.999,.9,.565]],[.176,[.998,.897,.56]],[.178,[.998,.897,.56]],[.18,[.998,.895,.554]],[.182,[.998,.895,.554]],[.184,[.998,.892,.549]],[.186,[.998,.892,.549]],[.188,[.998,.89,.544]],[.19,[.998,.89,.544]],[.192,[.998,.887,.539]],[.194,[.998,.887,.539]],[.196,[.998,.885,.534]],[.198,[.998,.885,.534]],[.2,[.998,.882,.529]],[.202,[.998,.882,.529]],[.204,[.998,.88,.523]],[.205,[.998,.88,.523]],[.207,[.997,.877,.518]],[.209,[.997,.877,.518]],[.211,[.997,.875,.513]],[.213,[.997,.875,.513]],[.215,[.997,.873,.508]],[.217,[.997,.873,.508]],[.219,[.997,.87,.503]],[.221,[.997,.87,.503]],[.223,[.997,.868,.498]],[.225,[.997,.868,.498]],[.227,[.997,.865,.492]],[.229,[.997,.865,.492]],[.231,[.997,.863,.487]],[.233,[.997,.863,.487]],[.235,[.997,.86,.482]],[.237,[.997,.86,.482]],[.239,[.996,.858,.477]],[.241,[.996,.858,.477]],[.243,[.996,.855,.472]],[.245,[.996,.855,.472]],[.247,[.996,.853,.467]],[.249,[.996,.853,.467]],[.25,[.996,.85,.461]],[.252,[.996,.85,.461]],[.254,[.996,.845,.456]],[.256,[.996,.845,.456]],[.258,[.996,.84,.451]],[.26,[.996,.84,.451]],[.262,[.996,.835,.446]],[.264,[.996,.835,.446]],[.266,[.996,.831,.441]],[.268,[.996,.831,.441]],[.27,[.996,.826,.436]],[.272,[.996,.826,.436]],[.274,[.996,.821,.43]],[.276,[.996,.821,.43]],[.278,[.996,.816,.425]],[.28,[.996,.816,.425]],[.282,[.996,.811,.42]],[.284,[.996,.811,.42]],[.286,[.996,.807,.415]],[.288,[.996,.807,.415]],[.29,[.996,.802,.41]],[.292,[.996,.802,.41]],[.294,[.996,.797,.405]],[.295,[.996,.797,.405]],[.297,[.996,.792,.399]],[.299,[.996,.792,.399]],[.301,[.996,.787,.394]],[.303,[.996,.787,.394]],[.305,[.996,.783,.389]],[.307,[.996,.783,.389]],[.309,[.996,.778,.384]],[.311,[.996,.778,.384]],[.313,[.996,.773,.379]],[.315,[.996,.773,.379]],[.317,[.996,.768,.374]],[.319,[.996,.768,.374]],[.321,[.996,.763,.368]],[.323,[.996,.763,.368]],[.325,[.996,.759,.363]],[.327,[.996,.759,.363]],[.329,[.996,.754,.358]],[.331,[.996,.754,.358]],[.333,[.996,.749,.353]],[.335,[.996,.749,.353]],[.337,[.996,.744,.348]],[.339,[.996,.744,.348]],[.341,[.996,.739,.343]],[.342,[.996,.739,.343]],[.344,[.996,.735,.337]],[.346,[.996,.735,.337]],[.348,[.996,.73,.332]],[.35,[.996,.73,.332]],[.352,[.996,.725,.327]],[.354,[.996,.725,.327]],[.356,[.996,.72,.322]],[.358,[.996,.72,.322]],[.36,[.996,.715,.317]],[.362,[.996,.715,.317]],[.364,[.996,.711,.312]],[.366,[.996,.711,.312]],[.368,[.996,.706,.306]],[.37,[.996,.706,.306]],[.372,[.996,.701,.301]],[.374,[.996,.701,.301]],[.376,[.996,.696,.297]],[.378,[.996,.696,.297]],[.38,[.996,.692,.295]],[.382,[.996,.692,.295]],[.384,[.996,.687,.293]],[.386,[.996,.687,.293]],[.387,[.996,.683,.291]],[.389,[.996,.683,.291]],[.391,[.996,.678,.289]],[.393,[.996,.678,.289]],[.395,[.995,.674,.287]],[.397,[.995,.674,.287]],[.399,[.995,.669,.285]],[.401,[.995,.669,.285]],[.403,[.995,.664,.284]],[.405,[.995,.664,.284]],[.407,[.995,.66,.282]],[.409,[.995,.66,.282]],[.411,[.995,.655,.28]],[.413,[.995,.655,.28]],[.415,[.995,.651,.278]],[.417,[.995,.651,.278]],[.419,[.995,.646,.276]],[.421,[.995,.646,.276]],[.423,[.995,.642,.274]],[.425,[.995,.642,.274]],[.427,[.994,.637,.272]],[.429,[.994,.637,.272]],[.431,[.994,.633,.27]],[.432,[.994,.633,.27]],[.434,[.994,.628,.268]],[.436,[.994,.628,.268]],[.438,[.994,.623,.266]],[.44,[.994,.623,.266]],[.442,[.994,.619,.264]],[.444,[.994,.619,.264]],[.446,[.994,.614,.262]],[.448,[.994,.614,.262]],[.45,[.994,.61,.26]],[.452,[.994,.61,.26]],[.454,[.994,.605,.258]],[.456,[.994,.605,.258]],[.458,[.993,.601,.256]],[.46,[.993,.601,.256]],[.462,[.993,.596,.254]],[.464,[.993,.596,.254]],[.466,[.993,.592,.252]],[.468,[.993,.592,.252]],[.47,[.993,.587,.25]],[.472,[.993,.587,.25]],[.474,[.993,.583,.248]],[.476,[.993,.583,.248]],[.477,[.993,.578,.246]],[.479,[.993,.578,.246]],[.481,[.993,.573,.244]],[.483,[.993,.573,.244]],[.485,[.993,.569,.242]],[.487,[.993,.569,.242]],[.489,[.992,.564,.24]],[.491,[.992,.564,.24]],[.493,[.992,.56,.238]],[.495,[.992,.56,.238]],[.497,[.992,.555,.236]],[.499,[.992,.555,.236]],[.501,[.992,.549,.234]],[.503,[.992,.549,.234]],[.505,[.992,.541,.232]],[.507,[.992,.541,.232]],[.509,[.992,.534,.23]],[.511,[.992,.534,.23]],[.513,[.992,.526,.228]],[.515,[.992,.526,.228]],[.517,[.992,.518,.225]],[.519,[.992,.518,.225]],[.521,[.991,.51,.223]],[.523,[.991,.51,.223]],[.524,[.991,.503,.221]],[.526,[.991,.503,.221]],[.528,[.991,.495,.219]],[.53,[.991,.495,.219]],[.532,[.991,.487,.216]],[.534,[.991,.487,.216]],[.536,[.991,.479,.214]],[.538,[.991,.479,.214]],[.54,[.991,.472,.212]],[.542,[.991,.472,.212]],[.544,[.991,.464,.21]],[.546,[.991,.464,.21]],[.548,[.991,.456,.208]],[.55,[.991,.456,.208]],[.552,[.99,.448,.205]],[.554,[.99,.448,.205]],[.556,[.99,.441,.203]],[.558,[.99,.441,.203]],[.56,[.99,.433,.201]],[.562,[.99,.433,.201]],[.564,[.99,.425,.199]],[.566,[.99,.425,.199]],[.568,[.99,.417,.197]],[.569,[.99,.417,.197]],[.571,[.99,.41,.194]],[.573,[.99,.41,.194]],[.575,[.99,.402,.192]],[.577,[.99,.402,.192]],[.579,[.99,.394,.19]],[.581,[.99,.394,.19]],[.583,[.99,.386,.188]],[.585,[.99,.386,.188]],[.587,[.989,.379,.185]],[.589,[.989,.379,.185]],[.591,[.989,.371,.183]],[.593,[.989,.371,.183]],[.595,[.989,.363,.181]],[.597,[.989,.363,.181]],[.599,[.989,.355,.179]],[.601,[.989,.355,.179]],[.603,[.989,.348,.177]],[.605,[.989,.348,.177]],[.607,[.989,.34,.174]],[.609,[.989,.34,.174]],[.611,[.989,.332,.172]],[.613,[.989,.332,.172]],[.614,[.989,.324,.17]],[.616,[.989,.324,.17]],[.618,[.988,.317,.168]],[.62,[.988,.317,.168]],[.622,[.988,.309,.166]],[.624,[.988,.309,.166]],[.626,[.986,.302,.164]],[.628,[.986,.302,.164]],[.63,[.983,.295,.162]],[.632,[.983,.295,.162]],[.634,[.98,.289,.16]],[.636,[.98,.289,.16]],[.638,[.977,.283,.158]],[.64,[.977,.283,.158]],[.642,[.974,.276,.157]],[.644,[.974,.276,.157]],[.646,[.971,.27,.155]],[.648,[.971,.27,.155]],[.65,[.968,.263,.153]],[.652,[.968,.263,.153]],[.654,[.965,.257,.152]],[.656,[.965,.257,.152]],[.658,[.962,.251,.15]],[.659,[.962,.251,.15]],[.661,[.959,.244,.148]],[.663,[.959,.244,.148]],[.665,[.956,.238,.146]],[.667,[.956,.238,.146]],[.669,[.952,.232,.145]],[.671,[.952,.232,.145]],[.673,[.949,.225,.143]],[.675,[.949,.225,.143]],[.677,[.946,.219,.141]],[.679,[.946,.219,.141]],[.681,[.943,.212,.14]],[.683,[.943,.212,.14]],[.685,[.94,.206,.138]],[.687,[.94,.206,.138]],[.689,[.937,.2,.136]],[.691,[.937,.2,.136]],[.693,[.934,.193,.134]],[.695,[.934,.193,.134]],[.697,[.931,.187,.133]],[.699,[.931,.187,.133]],[.701,[.928,.18,.131]],[.703,[.928,.18,.131]],[.705,[.925,.174,.129]],[.706,[.925,.174,.129]],[.708,[.922,.168,.127]],[.71,[.922,.168,.127]],[.712,[.919,.161,.126]],[.714,[.919,.161,.126]],[.716,[.916,.155,.124]],[.718,[.916,.155,.124]],[.72,[.912,.148,.122]],[.722,[.912,.148,.122]],[.724,[.909,.142,.121]],[.726,[.909,.142,.121]],[.728,[.906,.136,.119]],[.73,[.906,.136,.119]],[.732,[.903,.129,.117]],[.734,[.903,.129,.117]],[.736,[.9,.123,.115]],[.738,[.9,.123,.115]],[.74,[.897,.116,.114]],[.742,[.897,.116,.114]],[.744,[.894,.11,.112]],[.746,[.894,.11,.112]],[.748,[.891,.104,.11]],[.75,[.891,.104,.11]],[.751,[.887,.1,.111]],[.753,[.887,.1,.111]],[.755,[.882,.096,.112]],[.757,[.882,.096,.112]],[.759,[.877,.093,.113]],[.761,[.877,.093,.113]],[.763,[.873,.09,.114]],[.765,[.873,.09,.114]],[.767,[.868,.087,.116]],[.769,[.868,.087,.116]],[.771,[.863,.084,.117]],[.773,[.863,.084,.117]],[.775,[.859,.08,.118]],[.777,[.859,.08,.118]],[.779,[.854,.077,.119]],[.781,[.854,.077,.119]],[.783,[.849,.074,.121]],[.785,[.849,.074,.121]],[.787,[.845,.071,.122]],[.789,[.845,.071,.122]],[.791,[.84,.068,.123]],[.793,[.84,.068,.123]],[.795,[.835,.064,.124]],[.796,[.835,.064,.124]],[.798,[.831,.061,.125]],[.8,[.831,.061,.125]],[.802,[.826,.058,.127]],[.804,[.826,.058,.127]],[.806,[.821,.055,.128]],[.808,[.821,.055,.128]],[.81,[.817,.052,.129]],[.812,[.817,.052,.129]],[.814,[.812,.048,.13]],[.816,[.812,.048,.13]],[.818,[.807,.045,.132]],[.82,[.807,.045,.132]],[.822,[.803,.042,.133]],[.824,[.803,.042,.133]],[.826,[.798,.039,.134]],[.828,[.798,.039,.134]],[.83,[.793,.036,.135]],[.832,[.793,.036,.135]],[.834,[.789,.032,.137]],[.836,[.789,.032,.137]],[.838,[.784,.029,.138]],[.84,[.784,.029,.138]],[.841,[.779,.026,.139]],[.843,[.779,.026,.139]],[.845,[.774,.023,.14]],[.847,[.774,.023,.14]],[.849,[.77,.02,.141]],[.851,[.77,.02,.141]],[.853,[.765,.016,.143]],[.855,[.765,.016,.143]],[.857,[.76,.013,.144]],[.859,[.76,.013,.144]],[.861,[.756,.01,.145]],[.863,[.756,.01,.145]],[.865,[.751,.007,.146]],[.867,[.751,.007,.146]],[.869,[.746,.004,.148]],[.871,[.746,.004,.148]],[.873,[.742,0,.149]],[.875,[.742,0,.149]],[.877,[.735,0,.149]],[.879,[.735,0,.149]],[.881,[.727,0,.149]],[.883,[.727,0,.149]],[.885,[.72,0,.149]],[.886,[.72,0,.149]],[.888,[.712,0,.149]],[.89,[.712,0,.149]],[.892,[.705,0,.149]],[.894,[.705,0,.149]],[.896,[.697,0,.149]],[.898,[.697,0,.149]],[.9,[.69,0,.149]],[.902,[.69,0,.149]],[.904,[.682,0,.149]],[.906,[.682,0,.149]],[.908,[.675,0,.149]],[.91,[.675,0,.149]],[.912,[.667,0,.149]],[.914,[.667,0,.149]],[.916,[.66,0,.149]],[.918,[.66,0,.149]],[.92,[.652,0,.149]],[.922,[.652,0,.149]],[.924,[.645,0,.149]],[.926,[.645,0,.149]],[.928,[.637,0,.149]],[.93,[.637,0,.149]],[.932,[.63,0,.149]],[.933,[.63,0,.149]],[.935,[.622,0,.149]],[.937,[.622,0,.149]],[.939,[.615,0,.149]],[.941,[.615,0,.149]],[.943,[.607,0,.149]],[.945,[.607,0,.149]],[.947,[.6,0,.149]],[.949,[.6,0,.149]],[.951,[.592,0,.149]],[.953,[.592,0,.149]],[.955,[.585,0,.149]],[.957,[.585,0,.149]],[.959,[.577,0,.149]],[.961,[.577,0,.149]],[.963,[.57,0,.149]],[.965,[.57,0,.149]],[.967,[.562,0,.149]],[.969,[.562,0,.149]],[.971,[.554,0,.149]],[.973,[.554,0,.149]],[.975,[.547,0,.149]],[.977,[.547,0,.149]],[.978,[.539,0,.149]],[.98,[.539,0,.149]],[.982,[.532,0,.149]],[.984,[.532,0,.149]],[.986,[.524,0,.149]],[.988,[.524,0,.149]],[.99,[.517,0,.149]],[.992,[.517,0,.149]],[.994,[.509,0,.149]],[.996,[.509,0,.149]],[.998,[.502,0,.149]],[1,[.502,0,.149]]],vislibColorMaps["Green to Red"]=[[0,[0,.408,.216]],[.002,[0,.408,.216]],[.004,[.004,.415,.22]],[.006,[.004,.415,.22]],[.008,[.008,.423,.223]],[.01,[.008,.423,.223]],[.012,[.012,.43,.227]],[.014,[.012,.43,.227]],[.016,[.016,.437,.231]],[.018,[.016,.437,.231]],[.02,[.02,.445,.235]],[.022,[.02,.445,.235]],[.023,[.024,.452,.239]],[.025,[.024,.452,.239]],[.027,[.028,.46,.243]],[.029,[.028,.46,.243]],[.031,[.032,.467,.246]],[.033,[.032,.467,.246]],[.035,[.036,.474,.25]],[.037,[.036,.474,.25]],[.039,[.04,.482,.254]],[.041,[.04,.482,.254]],[.043,[.044,.489,.258]],[.045,[.044,.489,.258]],[.047,[.048,.496,.262]],[.049,[.048,.496,.262]],[.051,[.052,.504,.266]],[.053,[.052,.504,.266]],[.055,[.056,.511,.27]],[.057,[.056,.511,.27]],[.059,[.06,.519,.273]],[.061,[.06,.519,.273]],[.063,[.064,.526,.277]],[.065,[.064,.526,.277]],[.067,[.068,.533,.281]],[.068,[.068,.533,.281]],[.07,[.072,.541,.285]],[.072,[.072,.541,.285]],[.074,[.076,.548,.289]],[.076,[.076,.548,.289]],[.078,[.08,.555,.293]],[.08,[.08,.555,.293]],[.082,[.084,.563,.296]],[.084,[.084,.563,.296]],[.086,[.088,.57,.3]],[.088,[.088,.57,.3]],[.09,[.092,.578,.304]],[.092,[.092,.578,.304]],[.094,[.096,.585,.308]],[.096,[.096,.585,.308]],[.098,[.1,.592,.312]],[.1,[.1,.592,.312]],[.102,[.108,.599,.315]],[.104,[.108,.599,.315]],[.106,[.119,.605,.318]],[.108,[.119,.605,.318]],[.11,[.131,.61,.321]],[.112,[.131,.61,.321]],[.114,[.143,.616,.324]],[.115,[.143,.616,.324]],[.117,[.155,.622,.327]],[.119,[.155,.622,.327]],[.121,[.166,.627,.33]],[.123,[.166,.627,.33]],[.125,[.178,.633,.333]],[.127,[.178,.633,.333]],[.129,[.19,.639,.336]],[.131,[.19,.639,.336]],[.133,[.201,.644,.339]],[.135,[.201,.644,.339]],[.137,[.213,.65,.341]],[.139,[.213,.65,.341]],[.141,[.225,.656,.344]],[.143,[.225,.656,.344]],[.145,[.236,.662,.347]],[.147,[.236,.662,.347]],[.149,[.248,.667,.35]],[.151,[.248,.667,.35]],[.153,[.26,.673,.353]],[.155,[.26,.673,.353]],[.157,[.271,.679,.356]],[.159,[.271,.679,.356]],[.16,[.283,.684,.359]],[.162,[.283,.684,.359]],[.164,[.295,.69,.362]],[.166,[.295,.69,.362]],[.168,[.306,.696,.365]],[.17,[.306,.696,.365]],[.172,[.318,.701,.368]],[.174,[.318,.701,.368]],[.176,[.33,.707,.371]],[.178,[.33,.707,.371]],[.18,[.342,.713,.374]],[.182,[.342,.713,.374]],[.184,[.353,.718,.377]],[.186,[.353,.718,.377]],[.188,[.365,.724,.379]],[.19,[.365,.724,.379]],[.192,[.377,.73,.382]],[.194,[.377,.73,.382]],[.196,[.388,.735,.385]],[.198,[.388,.735,.385]],[.2,[.4,.741,.388]],[.202,[.4,.741,.388]],[.204,[.41,.745,.389]],[.205,[.41,.745,.389]],[.207,[.42,.75,.39]],[.209,[.42,.75,.39]],[.211,[.43,.754,.391]],[.213,[.43,.754,.391]],[.215,[.439,.758,.393]],[.217,[.439,.758,.393]],[.219,[.449,.763,.394]],[.221,[.449,.763,.394]],[.223,[.459,.767,.395]],[.225,[.459,.767,.395]],[.227,[.469,.771,.396]],[.229,[.469,.771,.396]],[.231,[.479,.776,.397]],[.233,[.479,.776,.397]],[.235,[.489,.78,.398]],[.237,[.489,.78,.398]],[.239,[.498,.784,.399]],[.241,[.498,.784,.399]],[.243,[.508,.789,.4]],[.245,[.508,.789,.4]],[.247,[.518,.793,.401]],[.249,[.518,.793,.401]],[.25,[.528,.797,.402]],[.252,[.528,.797,.402]],[.254,[.538,.801,.403]],[.256,[.538,.801,.403]],[.258,[.548,.806,.404]],[.26,[.548,.806,.404]],[.262,[.557,.81,.405]],[.264,[.557,.81,.405]],[.266,[.567,.814,.407]],[.268,[.567,.814,.407]],[.27,[.577,.819,.408]],[.272,[.577,.819,.408]],[.274,[.587,.823,.409]],[.276,[.587,.823,.409]],[.278,[.597,.827,.41]],[.28,[.597,.827,.41]],[.282,[.607,.832,.411]],[.284,[.607,.832,.411]],[.286,[.617,.836,.412]],[.288,[.617,.836,.412]],[.29,[.626,.84,.413]],[.292,[.626,.84,.413]],[.294,[.636,.845,.414]],[.295,[.636,.845,.414]],[.297,[.646,.849,.415]],[.299,[.646,.849,.415]],[.301,[.655,.853,.418]],[.303,[.655,.853,.418]],[.305,[.663,.856,.423]],[.307,[.663,.856,.423]],[.309,[.671,.859,.428]],[.311,[.671,.859,.428]],[.313,[.678,.863,.433]],[.315,[.678,.863,.433]],[.317,[.686,.866,.439]],[.319,[.686,.866,.439]],[.321,[.694,.87,.444]],[.323,[.694,.87,.444]],[.325,[.702,.873,.449]],[.327,[.702,.873,.449]],[.329,[.71,.876,.454]],[.331,[.71,.876,.454]],[.333,[.718,.88,.459]],[.335,[.718,.88,.459]],[.337,[.725,.883,.464]],[.339,[.725,.883,.464]],[.341,[.733,.887,.469]],[.342,[.733,.887,.469]],[.344,[.741,.89,.474]],[.346,[.741,.89,.474]],[.348,[.749,.893,.479]],[.35,[.749,.893,.479]],[.352,[.757,.897,.484]],[.354,[.757,.897,.484]],[.356,[.765,.9,.489]],[.358,[.765,.9,.489]],[.36,[.773,.903,.494]],[.362,[.773,.903,.494]],[.364,[.78,.907,.499]],[.366,[.78,.907,.499]],[.368,[.788,.91,.504]],[.37,[.788,.91,.504]],[.372,[.796,.914,.51]],[.374,[.796,.914,.51]],[.376,[.804,.917,.515]],[.378,[.804,.917,.515]],[.38,[.812,.92,.52]],[.382,[.812,.92,.52]],[.384,[.82,.924,.525]],[.386,[.82,.924,.525]],[.387,[.827,.927,.53]],[.389,[.827,.927,.53]],[.391,[.835,.93,.535]],[.393,[.835,.93,.535]],[.395,[.843,.934,.54]],[.397,[.843,.934,.54]],[.399,[.851,.937,.545]],[.401,[.851,.937,.545]],[.403,[.857,.94,.553]],[.405,[.857,.94,.553]],[.407,[.863,.942,.561]],[.409,[.863,.942,.561]],[.411,[.869,.945,.569]],[.413,[.869,.945,.569]],[.415,[.874,.947,.577]],[.417,[.874,.947,.577]],[.419,[.88,.95,.585]],[.421,[.88,.95,.585]],[.423,[.886,.952,.593]],[.425,[.886,.952,.593]],[.427,[.892,.954,.601]],[.429,[.892,.954,.601]],[.431,[.898,.957,.609]],[.432,[.898,.957,.609]],[.434,[.904,.959,.617]],[.436,[.904,.959,.617]],[.438,[.909,.962,.625]],[.44,[.909,.962,.625]],[.442,[.915,.964,.633]],[.444,[.915,.964,.633]],[.446,[.921,.967,.641]],[.448,[.921,.967,.641]],[.45,[.927,.969,.649]],[.452,[.927,.969,.649]],[.454,[.933,.972,.657]],[.456,[.933,.972,.657]],[.458,[.939,.974,.665]],[.46,[.939,.974,.665]],[.462,[.944,.977,.673]],[.464,[.944,.977,.673]],[.466,[.95,.979,.681]],[.468,[.95,.979,.681]],[.47,[.956,.982,.689]],[.472,[.956,.982,.689]],[.474,[.962,.984,.697]],[.476,[.962,.984,.697]],[.477,[.968,.986,.705]],[.479,[.968,.986,.705]],[.481,[.974,.989,.713]],[.483,[.974,.989,.713]],[.485,[.98,.991,.721]],[.487,[.98,.991,.721]],[.489,[.985,.994,.729]],[.491,[.985,.994,.729]],[.493,[.991,.996,.737]],[.495,[.991,.996,.737]],[.497,[.997,.999,.745]],[.499,[.997,.999,.745]],[.501,[1,.998,.745]],[.503,[1,.998,.745]],[.505,[1,.993,.737]],[.507,[1,.993,.737]],[.509,[1,.988,.729]],[.511,[1,.988,.729]],[.513,[.999,.983,.721]],[.515,[.999,.983,.721]],[.517,[.999,.979,.713]],[.519,[.999,.979,.713]],[.521,[.999,.974,.705]],[.523,[.999,.974,.705]],[.524,[.999,.969,.697]],[.526,[.999,.969,.697]],[.528,[.999,.964,.689]],[.53,[.999,.964,.689]],[.532,[.999,.959,.681]],[.534,[.999,.959,.681]],[.536,[.999,.955,.673]],[.538,[.999,.955,.673]],[.54,[.998,.95,.665]],[.542,[.998,.95,.665]],[.544,[.998,.945,.657]],[.546,[.998,.945,.657]],[.548,[.998,.94,.649]],[.55,[.998,.94,.649]],[.552,[.998,.936,.641]],[.554,[.998,.936,.641]],[.556,[.998,.931,.633]],[.558,[.998,.931,.633]],[.56,[.998,.926,.625]],[.562,[.998,.926,.625]],[.564,[.997,.921,.617]],[.566,[.997,.921,.617]],[.568,[.997,.917,.609]],[.569,[.997,.917,.609]],[.571,[.997,.912,.601]],[.573,[.997,.912,.601]],[.575,[.997,.907,.593]],[.577,[.997,.907,.593]],[.579,[.997,.902,.585]],[.581,[.997,.902,.585]],[.583,[.997,.898,.577]],[.585,[.997,.898,.577]],[.587,[.997,.893,.569]],[.589,[.997,.893,.569]],[.591,[.996,.888,.561]],[.593,[.996,.888,.561]],[.595,[.996,.883,.553]],[.597,[.996,.883,.553]],[.599,[.996,.878,.545]],[.601,[.996,.878,.545]],[.603,[.996,.871,.539]],[.605,[.996,.871,.539]],[.607,[.996,.863,.532]],[.609,[.996,.863,.532]],[.611,[.996,.855,.526]],[.613,[.996,.855,.526]],[.614,[.995,.848,.519]],[.616,[.995,.848,.519]],[.618,[.995,.84,.513]],[.62,[.995,.84,.513]],[.622,[.995,.832,.506]],[.624,[.995,.832,.506]],[.626,[.995,.825,.5]],[.628,[.995,.825,.5]],[.63,[.995,.817,.493]],[.632,[.995,.817,.493]],[.634,[.995,.809,.487]],[.636,[.995,.809,.487]],[.638,[.995,.802,.481]],[.64,[.995,.802,.481]],[.642,[.994,.794,.474]],[.644,[.994,.794,.474]],[.646,[.994,.786,.468]],[.648,[.994,.786,.468]],[.65,[.994,.778,.461]],[.652,[.994,.778,.461]],[.654,[.994,.771,.455]],[.656,[.994,.771,.455]],[.658,[.994,.763,.448]],[.659,[.994,.763,.448]],[.661,[.994,.755,.442]],[.663,[.994,.755,.442]],[.665,[.993,.748,.435]],[.667,[.993,.748,.435]],[.669,[.993,.74,.429]],[.671,[.993,.74,.429]],[.673,[.993,.732,.422]],[.675,[.993,.732,.422]],[.677,[.993,.725,.416]],[.679,[.993,.725,.416]],[.681,[.993,.717,.409]],[.683,[.993,.717,.409]],[.685,[.993,.709,.403]],[.687,[.993,.709,.403]],[.689,[.993,.702,.397]],[.691,[.993,.702,.397]],[.693,[.992,.694,.39]],[.695,[.992,.694,.39]],[.697,[.992,.686,.384]],[.699,[.992,.686,.384]],[.701,[.991,.677,.378]],[.703,[.991,.677,.378]],[.705,[.99,.667,.373]],[.706,[.99,.667,.373]],[.708,[.989,.657,.369]],[.71,[.989,.657,.369]],[.712,[.987,.647,.364]],[.714,[.987,.647,.364]],[.716,[.986,.637,.36]],[.718,[.986,.637,.36]],[.72,[.985,.627,.355]],[.722,[.985,.627,.355]],[.724,[.983,.617,.35]],[.726,[.983,.617,.35]],[.728,[.982,.607,.346]],[.73,[.982,.607,.346]],[.732,[.98,.597,.341]],[.734,[.98,.597,.341]],[.736,[.979,.587,.337]],[.738,[.979,.587,.337]],[.74,[.978,.577,.332]],[.742,[.978,.577,.332]],[.744,[.976,.567,.327]],[.746,[.976,.567,.327]],[.748,[.975,.557,.323]],[.75,[.975,.557,.323]],[.751,[.973,.547,.318]],[.753,[.973,.547,.318]],[.755,[.972,.537,.313]],[.757,[.972,.537,.313]],[.759,[.971,.527,.309]],[.761,[.971,.527,.309]],[.763,[.969,.517,.304]],[.765,[.969,.517,.304]],[.767,[.968,.507,.3]],[.769,[.968,.507,.3]],[.771,[.967,.497,.295]],[.773,[.967,.497,.295]],[.775,[.965,.487,.29]],[.777,[.965,.487,.29]],[.779,[.964,.477,.286]],[.781,[.964,.477,.286]],[.783,[.962,.467,.281]],[.785,[.962,.467,.281]],[.787,[.961,.457,.277]],[.789,[.961,.457,.277]],[.791,[.96,.447,.272]],[.793,[.96,.447,.272]],[.795,[.958,.437,.267]],[.796,[.958,.437,.267]],[.798,[.957,.427,.263]],[.8,[.957,.427,.263]],[.802,[.952,.418,.258]],[.804,[.952,.418,.258]],[.806,[.948,.409,.254]],[.808,[.948,.409,.254]],[.81,[.943,.399,.25]],[.812,[.943,.399,.25]],[.814,[.939,.39,.246]],[.816,[.939,.39,.246]],[.818,[.935,.381,.241]],[.82,[.935,.381,.241]],[.822,[.93,.371,.237]],[.824,[.93,.371,.237]],[.826,[.926,.362,.233]],[.828,[.926,.362,.233]],[.83,[.921,.352,.228]],[.832,[.921,.352,.228]],[.834,[.917,.343,.224]],[.836,[.917,.343,.224]],[.838,[.912,.334,.22]],[.84,[.912,.334,.22]],[.841,[.908,.324,.215]],[.843,[.908,.324,.215]],[.845,[.903,.315,.211]],[.847,[.903,.315,.211]],[.849,[.899,.305,.207]],[.851,[.899,.305,.207]],[.853,[.894,.296,.202]],[.855,[.894,.296,.202]],[.857,[.89,.287,.198]],[.859,[.89,.287,.198]],[.861,[.886,.277,.194]],[.863,[.886,.277,.194]],[.865,[.881,.268,.19]],[.867,[.881,.268,.19]],[.869,[.877,.259,.185]],[.871,[.877,.259,.185]],[.873,[.872,.249,.181]],[.875,[.872,.249,.181]],[.877,[.868,.24,.177]],[.879,[.868,.24,.177]],[.881,[.863,.23,.172]],[.883,[.863,.23,.172]],[.885,[.859,.221,.168]],[.886,[.859,.221,.168]],[.888,[.854,.212,.164]],[.89,[.854,.212,.164]],[.892,[.85,.202,.159]],[.894,[.85,.202,.159]],[.896,[.845,.193,.155]],[.898,[.845,.193,.155]],[.9,[.839,.185,.153]],[.902,[.839,.185,.153]],[.904,[.832,.177,.153]],[.906,[.832,.177,.153]],[.908,[.824,.17,.153]],[.91,[.824,.17,.153]],[.912,[.816,.162,.152]],[.914,[.816,.162,.152]],[.916,[.809,.155,.152]],[.918,[.809,.155,.152]],[.92,[.801,.148,.152]],[.922,[.801,.148,.152]],[.924,[.793,.14,.152]],[.926,[.793,.14,.152]],[.928,[.785,.133,.152]],[.93,[.785,.133,.152]],[.932,[.778,.125,.152]],[.933,[.778,.125,.152]],[.935,[.77,.118,.151]],[.937,[.77,.118,.151]],[.939,[.762,.111,.151]],[.941,[.762,.111,.151]],[.943,[.755,.103,.151]],[.945,[.755,.103,.151]],[.947,[.747,.096,.151]],[.949,[.747,.096,.151]],[.951,[.739,.089,.151]],[.953,[.739,.089,.151]],[.955,[.732,.081,.151]],[.957,[.732,.081,.151]],[.959,[.724,.074,.151]],[.961,[.724,.074,.151]],[.963,[.716,.066,.15]],[.965,[.716,.066,.15]],[.967,[.709,.059,.15]],[.969,[.709,.059,.15]],[.971,[.701,.052,.15]],[.973,[.701,.052,.15]],[.975,[.693,.044,.15]],[.977,[.693,.044,.15]],[.978,[.686,.037,.15]],[.98,[.686,.037,.15]],[.982,[.678,.03,.15]],[.984,[.678,.03,.15]],[.986,[.67,.022,.149]],[.988,[.67,.022,.149]],[.99,[.662,.015,.149]],[.992,[.662,.015,.149]],[.994,[.655,.007,.149]],[.996,[.655,.007,.149]],[.998,[.647,0,.149]],[1,[.647,0,.149]]]},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var getPanels=exports.getPanels=function(dashboard){return dashboard.panels},getPanel=exports.getPanel=function(dashboard,panelId){return getPanels(dashboard)[panelId]},getEmbeddable=(exports.getPanelType=function(dashboard,panelId){return getPanel(dashboard,panelId).type},exports.getEmbeddable=function(dashboard,panelId){return dashboard.embeddables[panelId]});exports.getEmbeddableError=function(dashboard,panelId){return getEmbeddable(dashboard,panelId).error},exports.getEmbeddableTitle=function(dashboard,panelId){return getEmbeddable(dashboard,panelId).title},exports.getEmbeddableEditUrl=function(dashboard,panelId){return getEmbeddable(dashboard,panelId).editUrl},exports.getUseMargins=function(dashboard){return dashboard.view.useMargins},exports.getViewMode=function(dashboard){return dashboard.view.viewMode},exports.getFullScreenMode=function(dashboard){return dashboard.view.isFullScreenMode},exports.getHidePanelTitles=function(dashboard){return dashboard.view.hidePanelTitles},exports.getMaximizedPanelId=function(dashboard){return dashboard.view.maximizedPanelId},exports.getMetadata=function(dashboard){return dashboard.metadata},exports.getTitle=function(dashboard){return dashboard.metadata.title},exports.getDescription=function(dashboard){return dashboard.metadata.description}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_re_id_series=__webpack_require__(4536),_re_id_series2=_interopRequireDefault(_re_id_series),_series=__webpack_require__(4537),_series2=_interopRequireDefault(_series),_collection_actions=__webpack_require__(223),_new_series_fn=__webpack_require__(4575),_new_series_fn2=_interopRequireDefault(_new_series_fn),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),SeriesEditor=function(_Component){function SeriesEditor(props){_classCallCheck(this,SeriesEditor);var _this=_possibleConstructorReturn(this,(SeriesEditor.__proto__||Object.getPrototypeOf(SeriesEditor)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this.sortSeries=_this.sortSeries.bind(_this),_this}return _inherits(SeriesEditor,_Component),_createClass(SeriesEditor,[{key:"handleClone",value:function(series){var newSeries=(0,_re_id_series2.default)(series);_collection_actions.handleAdd.call(null,this.props,function(){return newSeries})}},{key:"sortSeries",value:function(index,direction,allSeries){var newIndex=index+("up"===direction?-1:1);if(!(newIndex<0||newIndex>=allSeries.length)){var newSeries=allSeries.slice(0),changeWithElement=allSeries[newIndex];newSeries[newIndex]=allSeries[index],newSeries[index]=changeWithElement,this.props.onChange({series:newSeries})}}},{key:"renderRow",value:function(row,index,allSeries){var _this2=this,props=this.props,fields=props.fields,model=props.model,name=props.name,limit=props.limit,colorPicker=props.colorPicker;return _react2.default.createElement(_series2.default,{colorPicker:colorPicker,disableAdd:model[name].length>=limit,disableDelete:model[name].length<2,fields:fields,key:row.id,onAdd:_collection_actions.handleAdd.bind(null,props,_new_series_fn2.default),onChange:_collection_actions.handleChange.bind(null,props),onClone:function(){return _this2.handleClone(row)},onDelete:_collection_actions.handleDelete.bind(null,props,row),onShouldSortItem:function(direction){return _this2.sortSeries(index,direction,allSeries)},model:row,panel:model,sortData:row.id})}},{key:"render",value:function(){var _this3=this,_props=this.props,limit=_props.limit,model=_props.model,name=_props.name,series=model[name].filter(function(val,index){return index<(limit||1/0)}).map(this.renderRow),handleSort=function(data){var series=data.map(function(id){return model[name].find(function(s){return s.id===id})});_this3.props.onChange({series:series})};return _react2.default.createElement("div",{className:"vis_editor__series_editor-container"},_react2.default.createElement(_reactAnythingSortable2.default,{dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__sort"},series))}}]),SeriesEditor}(_react.Component);SeriesEditor.defaultProps={name:"series",limit:1/0,colorPicker:!0},SeriesEditor.propTypes={colorPicker:_propTypes2.default.bool,fields:_propTypes2.default.object,limit:_propTypes2.default.number,model:_propTypes2.default.object,name:_propTypes2.default.string,onChange:_propTypes2.default.func},exports.default=SeriesEditor,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createAggRowRender(props){return function(row,index,items){var panel=props.panel,model=props.model,fields=props.fields,changeHandler=(0,_series_change_handler2.default)(props,items);return _react2.default.createElement(_agg2.default,{key:row.id,disableDelete:items.length<2,fields:fields,model:row,onAdd:_collection_actions.handleAdd.bind(null,props,_new_metric_agg_fn2.default),onChange:changeHandler,onDelete:_collection_actions.handleDelete.bind(null,props,row),panel:panel,series:model,siblings:items,sortData:row.id})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createAggRowRender;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_change_handler=__webpack_require__(4549),_series_change_handler2=_interopRequireDefault(_series_change_handler),_new_metric_agg_fn=__webpack_require__(763),_new_metric_agg_fn2=_interopRequireDefault(_new_metric_agg_fn),_collection_actions=__webpack_require__(223),_agg=__webpack_require__(4550),_agg2=_interopRequireDefault(_agg);module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(2450)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2473)},function(module,exports,__webpack_require__){"use strict";function AppStateProvider(Private,$rootScope,$location,$injector){function AppState(defaults){persistedStates={},eventUnsubscribers=[],AppState.Super.call(this,urlParam,defaults),AppState.getAppState._set(this)}var State=Private(_state.StateProvider),PersistedState=$injector.get("PersistedState"),persistedStates=void 0,eventUnsubscribers=void 0;return(0,_legacy_class.createLegacyClass)(AppState).inherits(State),AppState.prototype._persistAcrossApps=!1,AppState.prototype.destroy=function(){AppState.Super.prototype.destroy.call(this),AppState.getAppState._set(null),(0,_function.callEach)(eventUnsubscribers)},AppState.prototype.makeStateful=function(prop){var _this=this;if(persistedStates[prop])return persistedStates[prop];var self=this;persistedStates[prop]=new PersistedState;var updateOnChange=function(){self[prop]=persistedStates[prop].getChanges(),self.save(!1)},handlerOnChange=function(method){return persistedStates[prop][method]("change",updateOnChange)};handlerOnChange("on"),eventUnsubscribers.push(function(){return handlerOnChange("off")});var persistOnChange=function(changes){changes&&-1!==changes.indexOf(prop)&&persistedStates[prop].set(self[prop])},handlePersist=function(method){return _this[method]("fetch_with_changes",persistOnChange)};return handlePersist("on"),eventUnsubscribers.push(function(){return handlePersist("off")}),self[prop]&&persistedStates[prop].setSilent(self[prop]),persistedStates[prop]},AppState.getAppState=function(){function get(){return currentAppState}var currentAppState=void 0;return get.previouslyStored=function(){return!!$location.search()[urlParam]},get._set=function(current){currentAppState=current},get}(),AppState}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppStateProvider=AppStateProvider;var _modules=__webpack_require__(2),_state=__webpack_require__(586);__webpack_require__(356);var _legacy_class=__webpack_require__(55),_function=__webpack_require__(430),urlParam="_a";_modules.uiModules.get("kibana/global_state").factory("AppState",function(Private){return Private(AppStateProvider)}).service("getAppState",function(Private){return Private(AppStateProvider).getAppState})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PersistedState=void 0;var _persisted_state=__webpack_require__(1028);Object.defineProperty(exports,"PersistedState",{enumerable:!0,get:function(){return _persisted_state.PersistedState}}),__webpack_require__(2481)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _system_api=__webpack_require__(2523);Object.defineProperty(exports,"addSystemApiHeader",{enumerable:!0,get:function(){return _system_api.addSystemApiHeader}}),Object.defineProperty(exports,"isSystemApiRequest",{enumerable:!0,get:function(){return _system_api.isSystemApiRequest}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_patterns=__webpack_require__(632);Object.defineProperty(exports,"IndexPatternsProvider",{enumerable:!0,get:function(){return _index_patterns.IndexPatternsProvider}});var _index_patterns_api_client_provider=__webpack_require__(1044);Object.defineProperty(exports,"IndexPatternsApiClientProvider",{enumerable:!0,get:function(){return _index_patterns_api_client_provider.IndexPatternsApiClientProvider}})},function(module,exports,__webpack_require__){"use strict";function shortDotsFilterProvider(config){function updateFilter(enabled){filter=enabled?_shorten_dotted_string.shortenDottedString:_lodash2.default.identity}function wrapper(str){return filter(str)}var filter=void 0;return config.watch("shortDots:enable",updateFilter),wrapper}var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_shorten_dotted_string=__webpack_require__(633);__webpack_require__(2).uiModules.get("kibana").filter("shortDots",function(Private){return Private(shortDotsFilterProvider)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var requestQueue=exports.requestQueue=[];requestQueue.clear=function(){requestQueue.splice(0,requestQueue.length)},requestQueue.getInactive=function(){return requestQueue.filter(function(req){return!req.started})},requestQueue.getStartable=function(){return requestQueue.filter(function(req){return req.canStart()})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RequestStatus={ABORTED:"aborted",DUPLICATE:"duplicate",INCOMPLETE:"incomplete"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.documentationLinks=exports.ELASTIC_WEBSITE_URL=exports.DOC_LINK_VERSION=void 0;var _metadata=__webpack_require__(159),DOC_LINK_VERSION=exports.DOC_LINK_VERSION=_metadata.metadata.branch,ELASTIC_WEBSITE_URL=exports.ELASTIC_WEBSITE_URL="https://www.elastic.co/",ELASTIC_DOCS=ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+DOC_LINK_VERSION+"/";exports.documentationLinks={filebeat:{base:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION,installation:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/filebeat-installation.html",configuration:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/filebeat-configuration.html",elasticsearchOutput:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/elasticsearch-output.html",elasticsearchOutputAnchorParameters:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/elasticsearch-output.html#_parameters",startup:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/filebeat-starting.html",exportedFields:ELASTIC_WEBSITE_URL+"guide/en/beats/filebeat/"+DOC_LINK_VERSION+"/exported-fields.html"},metricbeat:{base:ELASTIC_WEBSITE_URL+"guide/en/beats/metricbeat/"+DOC_LINK_VERSION},logstash:{base:ELASTIC_WEBSITE_URL+"guide/en/logstash/"+DOC_LINK_VERSION},aggs:{date_histogram:ELASTIC_DOCS+"search-aggregations-bucket-datehistogram-aggregation.html",date_range:ELASTIC_DOCS+"search-aggregations-bucket-daterange-aggregation.html",filter:ELASTIC_DOCS+"search-aggregations-bucket-filter-aggregation.html",filters:ELASTIC_DOCS+"search-aggregations-bucket-filters-aggregation.html",geohash_grid:ELASTIC_DOCS+"search-aggregations-bucket-geohashgrid-aggregation.html",histogram:ELASTIC_DOCS+"search-aggregations-bucket-histogram-aggregation.html",ip_range:ELASTIC_DOCS+"search-aggregations-bucket-iprange-aggregation.html",range:ELASTIC_DOCS+"search-aggregations-bucket-range-aggregation.html",significant_terms:ELASTIC_DOCS+"search-aggregations-bucket-significantterms-aggregation.html",terms:ELASTIC_DOCS+"search-aggregations-bucket-terms-aggregation.html",avg:ELASTIC_DOCS+"search-aggregations-metrics-avg-aggregation.html",avg_bucket:ELASTIC_DOCS+"search-aggregations-pipeline-avg-bucket-aggregation.html",max_bucket:ELASTIC_DOCS+"search-aggregations-pipeline-max-bucket-aggregation.html",min_bucket:ELASTIC_DOCS+"search-aggregations-pipeline-min-bucket-aggregation.html",sum_bucket:ELASTIC_DOCS+"search-aggregations-pipeline-sum-bucket-aggregation.html",cardinality:ELASTIC_DOCS+"search-aggregations-metrics-cardinality-aggregation.html",count:ELASTIC_DOCS+"search-aggregations-metrics-valuecount-aggregation.html",cumulative_sum:ELASTIC_DOCS+"search-aggregations-metrics-sum-aggregation.html",derivative:ELASTIC_DOCS+"search-aggregations-pipeline-derivative-aggregation.html",geo_bounds:ELASTIC_DOCS+"search-aggregations-metrics-geobounds-aggregation.html",geo_centroid:ELASTIC_DOCS+"search-aggregations-metrics-geocentroid-aggregation.html",max:ELASTIC_DOCS+"search-aggregations-metrics-max-aggregation.html",median:ELASTIC_DOCS+"search-aggregations-metrics-percentile-aggregation.html",min:ELASTIC_DOCS+"search-aggregations-metrics-min-aggregation.html",moving_avg:ELASTIC_DOCS+"search-aggregations-pipeline-movavg-aggregation.html",percentile_ranks:ELASTIC_DOCS+"search-aggregations-metrics-percentile-rank-aggregation.html",serial_diff:ELASTIC_DOCS+"search-aggregations-pipeline-serialdiff-aggregation.html",std_dev:ELASTIC_DOCS+"search-aggregations-metrics-extendedstats-aggregation.html",sum:ELASTIC_DOCS+"search-aggregations-metrics-sum-aggregationn.html",top_hits:ELASTIC_DOCS+"search-aggregations-metrics-top-hits-aggregation.html"},scriptedFields:{scriptFields:ELASTIC_DOCS+"search-request-script-fields.html",scriptAggs:ELASTIC_DOCS+"search-aggregations.html#_values_source",painless:ELASTIC_DOCS+"modules-scripting-painless.html",painlessApi:ELASTIC_DOCS+"modules-scripting-painless.html#painless-api",painlessSyntax:ELASTIC_DOCS+"modules-scripting-painless-syntax.html",luceneExpressions:ELASTIC_DOCS+"modules-scripting-expression.html"},indexPatterns:{loadingData:ELASTIC_WEBSITE_URL+"guide/en/kibana/"+DOC_LINK_VERSION+"/tutorial-load-dataset.html",introduction:ELASTIC_WEBSITE_URL+"guide/en/kibana/"+DOC_LINK_VERSION+"/index-patterns.html"},query:{luceneQuerySyntax:ELASTIC_DOCS+"query-dsl-query-string-query.html#query-string-syntax",queryDsl:ELASTIC_DOCS+"query-dsl.html",kueryQuerySyntax:ELASTIC_WEBSITE_URL+"guide/en/kibana/"+DOC_LINK_VERSION+"/kuery-query.html"},date:{dateMath:ELASTIC_DOCS+"common-options.html#date-math"}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("uiSelectFocusOn",function($timeout){return{restrict:"A",require:"uiSelect",link:function(scope,elem,attrs,uiSelect){scope.$on(attrs.uiSelectFocusOn,function(){$timeout(function(){return uiSelect.activate()})})}}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_sort_prefix_first=__webpack_require__(1058);_modules.uiModules.get("kibana").filter("sortPrefixFirst",function(){return _sort_prefix_first.sortPrefixFirst})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _filter_manager=__webpack_require__(2709);Object.defineProperty(exports,"FilterManagerProvider",{enumerable:!0,get:function(){return _filter_manager.FilterManagerProvider}})},,,,,,function(module,exports,__webpack_require__){"use strict";function FilterBarClickHandlerProvider(){return function($state){return function(event,simulate){if($state){var aggConfigResult=void 0;if(aggConfigResult=event.point.orig?event.point.orig.aggConfigResult:event.point.values?(0,_find_by_param.findByParam)(event.point.values,"aggConfigResult"):event.point.aggConfigResult){var isLegendLabel=!!event.point.values,aggBuckets=_lodash2.default.filter(aggConfigResult.getPath(),{type:"bucket"});if(isLegendLabel){var aggConfig=(0,_find_by_param.findByParam)(event.point.values,"aggConfig");aggBuckets=aggBuckets.filter(function(result){return result.aggConfig&&result.aggConfig===aggConfig})}var filters=(0,_lodash2.default)(aggBuckets).map(function(result){try{return result.createFilter()}catch(e){simulate||_notify.toastNotifications.addSuccess(e.message)}}).flatten().filter(Boolean).value();if(!filters.length)return;return event.negate&&_lodash2.default.each(filters,function(filter){filter.meta=filter.meta||{},filter.meta.negate=!0}),filters=(0,_dedup_filters.dedupFilters)($state.filters,(0,_uniq_filters.uniqFilters)(filters),{negate:!0}),simulate||($state.$newFilters=filters),filters}}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarClickHandlerProvider=FilterBarClickHandlerProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_dedup_filters=__webpack_require__(1077),_uniq_filters=__webpack_require__(1076),_find_by_param=__webpack_require__(3178),_notify=__webpack_require__(10)},,,,,,,function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(184);__webpack_require__(1196),_saved_object_registry.SavedObjectRegistryProvider.register(function(savedDashboards){return savedDashboards})},function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(184);__webpack_require__(692),_saved_object_registry.SavedObjectRegistryProvider.register(function(savedSearches){return savedSearches})},function(module,exports,__webpack_require__){"use strict";var _field_formats=__webpack_require__(99),_url=__webpack_require__(3613),_bytes=__webpack_require__(3614),_date=__webpack_require__(3616),_relative_date=__webpack_require__(3617),_duration=__webpack_require__(1197),_ip=__webpack_require__(3618),_number=__webpack_require__(3619),_percent=__webpack_require__(3620),_string=__webpack_require__(3621),_source=__webpack_require__(3622),_color=__webpack_require__(3623),_truncate=__webpack_require__(3624),_boolean=__webpack_require__(3625);_field_formats.fieldFormats.register(_url.createUrlFormat),_field_formats.fieldFormats.register(_bytes.createBytesFormat),_field_formats.fieldFormats.register(_date.createDateFormat),_field_formats.fieldFormats.register(_relative_date.createRelativeDateFormat),_field_formats.fieldFormats.register(_duration.createDurationFormat),_field_formats.fieldFormats.register(_ip.createIpFormat),_field_formats.fieldFormats.register(_number.createNumberFormat),_field_formats.fieldFormats.register(_percent.createPercentFormat),_field_formats.fieldFormats.register(_string.createStringFormat),_field_formats.fieldFormats.register(_source.createSourceFormat),_field_formats.fieldFormats.register(_color.createColorFormat),_field_formats.fieldFormats.register(_truncate.createTruncateFormat),_field_formats.fieldFormats.register(_boolean.createBoolFormat)},function(module,exports,__webpack_require__){"use strict";var _saved_object_registry=__webpack_require__(184);__webpack_require__(489),_saved_object_registry.SavedObjectRegistryProvider.register(function(savedVisualizations){return savedVisualizations})},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function stateMonitor(state,customInitialState){function _setInitialState(customInitialState){initialState=(0,_lodash.cloneDeep)(customInitialState)||(0,_lodash.cloneDeep)(state.toJSON())}function removeIgnoredProps(state){return ignoredProps.forEach(function(path){(0,_lodash.set)(state,path,!0)}),state}function getStatus(){var currentState=removeIgnoredProps((0,_lodash.cloneDeep)(state.toJSON())),isClean=(0,_lodash.isEqual)(currentState,initialState);return{clean:isClean,dirty:!isClean}}function dispatchChange(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,keys=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],status=getStatus();changeHandlers.forEach(function(changeHandler){changeHandler(status,type,keys)})}function dispatchFetch(keys){dispatchChange("fetch_with_changes",keys)}function dispatchSave(keys){dispatchChange("save_with_changes",keys)}function dispatchReset(keys){dispatchChange("reset_with_changes",keys)}var destroyed=!1,ignoredProps=[],changeHandlers=[],initialState=void 0;return _setInitialState(customInitialState),{setInitialState:function(customInitialState){if(!(0,_lodash.isPlainObject)(customInitialState))throw new TypeError("The default state must be an object");var previousStatus=getStatus();_setInitialState(customInitialState),removeIgnoredProps(initialState),(0,_lodash.isEqual)(previousStatus,getStatus())||dispatchChange()},ignoreProps:function(props){return ignoredProps=ignoredProps.concat(props),removeIgnoredProps(initialState),this},onChange:function(callback){if(destroyed)throw new Error("Monitor has been destroyed");if("function"!=typeof callback)throw new Error("onChange handler must be a function");return changeHandlers.push(callback),state.on("fetch_with_changes",dispatchFetch),state.on("save_with_changes",dispatchSave),state.on("reset_with_changes",dispatchReset),getStatus().dirty&&dispatchChange(),this},destroy:function(){destroyed=!0,changeHandlers=void 0,state.off("fetch_with_changes",dispatchFetch),state.off("save_with_changes",dispatchSave),state.off("reset_with_changes",dispatchReset)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stateMonitorFactory=void 0;var _lodash=__webpack_require__(1);exports.stateMonitorFactory={create:function(state,customInitialState){return stateMonitor(state,customInitialState)}}},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_terms=__webpack_require__(4543),_filter=__webpack_require__(4545),_filters=__webpack_require__(4546),_filters2=_interopRequireDefault(_filters),_everything=__webpack_require__(4548),_everything2=_interopRequireDefault(_everything),Split=function(_Component){function Split(){return _classCallCheck(this,Split),_possibleConstructorReturn(this,(Split.__proto__||Object.getPrototypeOf(Split)).apply(this,arguments))}return _inherits(Split,_Component),_createClass(Split,[{key:"componentWillReceiveProps",value:function(nextProps){var model=nextProps.model;"filters"!==model.split_mode||model.split_filters||this.props.onChange({split_filters:[{color:model.color,id:_uuid2.default.v1()}]})}},{key:"render",value:function(){var _props=this.props,model=_props.model,panel=_props.panel,indexPattern=model.override_index_pattern&&model.series_index_pattern||panel.index_pattern;return"filter"===model.split_mode?_react2.default.createElement(_filter.SplitByFilter,{model:model,onChange:this.props.onChange}):"filters"===model.split_mode?_react2.default.createElement(_filters2.default,{model:model,onChange:this.props.onChange}):"terms"===model.split_mode?_react2.default.createElement(_terms.SplitByTerms,{model:model,indexPattern:indexPattern,fields:this.props.fields,onChange:this.props.onChange}):_react2.default.createElement(_everything2.default,{model:model,onChange:this.props.onChange})}}]),Split}(_react.Component);Split.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,panel:_propTypes2.default.object},exports.default=Split,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function createUpDownHandler(callback){return function(ev){ev.keyCode===_eui.keyCodes.UP?(ev.preventDefault(),callback("up")):ev.keyCode===_eui.keyCodes.DOWN&&(ev.preventDefault(),callback("down"))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createUpDownHandler=createUpDownHandler;var _eui=__webpack_require__(5)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _format_es_msg=__webpack_require__(879);Object.defineProperty(exports,"formatESMsg",{enumerable:!0,get:function(){return _format_es_msg.formatESMsg}}),Object.defineProperty(exports,"getPainlessError",{enumerable:!0,get:function(){return _format_es_msg.getPainlessError}});var _format_msg=__webpack_require__(1729);Object.defineProperty(exports,"formatMsg",{enumerable:!0,get:function(){return _format_msg.formatMsg}});var _format_stack=__webpack_require__(1730);Object.defineProperty(exports,"formatStack",{enumerable:!0,get:function(){return _format_stack.formatStack}})},function(module,exports,__webpack_require__){"use strict";function callEach(arr){return _lodash2.default.map(arr,function(fn){return _lodash2.default.isFunction(fn)?fn():void 0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.callEach=callEach;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(82)},,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_unhashable_states_provider=__webpack_require__(2500);Object.defineProperty(exports,"getUnhashableStatesProvider",{enumerable:!0,get:function(){return _get_unhashable_states_provider.getUnhashableStatesProvider}});var _hash_url=__webpack_require__(2501);Object.defineProperty(exports,"hashUrl",{enumerable:!0,get:function(){return _hash_url.hashUrl}});var _unhash_query_string=__webpack_require__(1030);Object.defineProperty(exports,"unhashQueryString",{enumerable:!0,get:function(){return _unhash_query_string.unhashQueryString}});var _unhash_url=__webpack_require__(2502);Object.defineProperty(exports,"unhashUrl",{enumerable:!0,get:function(){return _unhash_url.unhashUrl}})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function FieldFormat(params){this.type=this.constructor,this._params=params||{},_lodash2.default.isFunction(this._convert)&&(this._convert={text:this._convert}),(0,_content_types.contentTypesSetup)(this)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldFormat=FieldFormat;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_content_types=__webpack_require__(2529);FieldFormat.from=function(converter){var FieldFormatFromConverter=function(_FieldFormat){function FieldFormatFromConverter(){return _classCallCheck(this,FieldFormatFromConverter),_possibleConstructorReturn(this,(FieldFormatFromConverter.__proto__||Object.getPrototypeOf(FieldFormatFromConverter)).apply(this,arguments))}return _inherits(FieldFormatFromConverter,_FieldFormat),FieldFormatFromConverter}(FieldFormat);return FieldFormatFromConverter.prototype._convert=converter,FieldFormatFromConverter},FieldFormat.prototype.convert=function(value,contentType){return this.getConverterFor(contentType)(value)},FieldFormat.prototype.getConverterFor=function(contentType){return this._convert[contentType||"text"]},FieldFormat.prototype.getParamDefaults=function(){return{}},FieldFormat.prototype.param=function(name){var val=this._params[name];return val||!1===val||0===val?val:this.getParamDefaults()[name]},FieldFormat.prototype.params=function(){return _lodash2.default.cloneDeep(_lodash2.default.defaults({},this._params,this.getParamDefaults()))},FieldFormat.prototype.toJSON=function(){var type=this.type,defaults=this.getParamDefaults(),params=_lodash2.default.transform(this._params,function(uniqParams,val,param){val!==defaults[param]&&(uniqParams[param]=val)},{});return _lodash2.default.size(params)||(params=void 0),{id:type.id,params:params}}},function(module,exports,__webpack_require__){"use strict";function asPrettyString(val){if(null===val||void 0===val)return" - ";switch(void 0===val?"undefined":_typeof(val)){case"string":return val;case"object":return JSON.stringify(val,null,"  ");default:return""+val}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0}),exports.asPrettyString=asPrettyString},function(module,exports,__webpack_require__){"use strict";function buildNode(value){return{type:"literal",value:value}}function toElasticsearchQuery(node){return node.value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNode=buildNode,exports.toElasticsearchQuery=toElasticsearchQuery},function(module,exports,__webpack_require__){"use strict";function luceneStringToDsl(query){return _lodash2.default.isString(query)?""===query.trim()?{match_all:{}}:{query_string:{query:query}}:query}Object.defineProperty(exports,"__esModule",{value:!0}),exports.luceneStringToDsl=luceneStringToDsl;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function migrateLegacyQuery(query){return(0,_lodash.has)(query,"language")?query:{query:query,language:"lucene"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.migrateLegacyQuery=migrateLegacyQuery;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NavBarExtensionsRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.NavBarExtensionsRegistryProvider=(0,_registry.uiRegistry)({name:"navbarExtensions",index:["name"],group:["appName"],order:["order"]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.keyMap={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capsLock",27:"escape",32:"space",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"leftWindowKey",92:"rightWindowKey",93:"selectKey",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"multiply",107:"add",109:"subtract",110:"period",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numLock",145:"scrollLock",186:"semiColon",187:"equalSign",188:"comma",189:"dash",190:"period",191:"forwardSlash",192:"graveAccent",219:"openBracket",220:"backSlash",221:"closeBraket",222:"singleQuote",224:"meta"}},function(module,exports,__webpack_require__){"use strict";function compareFilters(first,second,comparatorOptions){return excludedAttributes=["$$hashKey","meta"],comparators=_lodash2.default.defaults(comparatorOptions||{},{state:!1,negate:!1,disabled:!1}),comparators.state||excludedAttributes.push("$state"),_lodash2.default.isEqual(mapFilter(first),mapFilter(second))}function mapFilter(filter){var cleaned=_lodash2.default.omit(filter,excludedAttributes);return comparators.negate&&(cleaned.negate=filter.meta&&!!filter.meta.negate),comparators.disabled&&(cleaned.disabled=filter.meta&&!!filter.meta.disabled),cleaned}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compareFilters=compareFilters;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),excludedAttributes=void 0,comparators=void 0},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parentPipelineAggHelper=void 0;var _sub_agg=__webpack_require__(3342),_sub_agg2=_interopRequireDefault(_sub_agg),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_config=__webpack_require__(193),_schemas=__webpack_require__(85),_parent_pipeline_agg_controller=__webpack_require__(3345),_parent_pipeline_agg_writter=__webpack_require__(3346),_nested_agg_helpers=__webpack_require__(1171),metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev"],metricAggSchema=new _schemas.Schemas([{group:"none",name:"metricAgg",title:"Metric Agg",hideCustomLabel:!0,aggFilter:metricAggFilter}]).all[0],parentPipelineAggHelper={subtype:"Parent Pipeline Aggregations",params:function(){return[{name:"customMetric",type:_agg_config.AggConfig,default:null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(termsAgg,state){state=state||{type:"count"},state.schema=metricAggSchema;var metricAgg=new _agg_config.AggConfig(termsAgg.vis,state);return metricAgg.id=termsAgg.id+"-metric",metricAgg},modifyAggConfigOnSearchRequestStart:(0,_nested_agg_helpers.forwardModifyAggConfigOnSearchRequestStart)("customMetric"),write:_lodash2.default.noop},{name:"buckets_path",write:_lodash2.default.noop},{name:"metricAgg",editor:_sub_agg2.default,default:"custom",controller:_parent_pipeline_agg_controller.parentPipelineAggController,write:_parent_pipeline_agg_writter.parentPipelineAggWritter}]},getFormat:function(agg){var subAgg=void 0;return subAgg=agg.params.customMetric?agg.params.customMetric:agg.vis.getAggConfig().byId[agg.params.metricAgg],subAgg.type.getFormat(subAgg)}};exports.parentPipelineAggHelper=parentPipelineAggHelper},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.siblingPipelineAggHelper=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_config=__webpack_require__(193),_schemas=__webpack_require__(85),_sibling_pipeline_agg_controller=__webpack_require__(3383),_sibling_pipeline_agg_writter=__webpack_require__(3384),_sub_metric=__webpack_require__(3385),_sub_metric2=_interopRequireDefault(_sub_metric),_nested_agg_helpers=__webpack_require__(1171),metricAggFilter=["!top_hits","!percentiles","!percentile_ranks","!median","!std_dev","!sum_bucket","!avg_bucket","!min_bucket","!max_bucket","!derivative","!moving_avg","!serial_diff","!cumulative_sum"],metricAggSchema=new _schemas.Schemas([{group:"none",name:"metricAgg",title:"Metric Agg",aggFilter:metricAggFilter}]).all[0],bucketAggFilter=[],bucketAggSchema=new _schemas.Schemas([{group:"none",title:"Bucket Agg",name:"bucketAgg",aggFilter:bucketAggFilter}]).all[0],siblingPipelineAggHelper={subtype:"Sibling Pipeline Aggregations",params:function(){return[{name:"customBucket",type:_agg_config.AggConfig,default:null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(agg,state){state=state||{type:"date_histogram"},state.schema=bucketAggSchema;var orderAgg=new _agg_config.AggConfig(agg.vis,state);return orderAgg.id=agg.id+"-bucket",orderAgg},editor:_sub_metric2.default,controller:(0,_sibling_pipeline_agg_controller.siblingPipelineAggController)("customBucket"),modifyAggConfigOnSearchRequestStart:(0,_nested_agg_helpers.forwardModifyAggConfigOnSearchRequestStart)("customBucket"),write:_lodash2.default.noop},{name:"customMetric",type:_agg_config.AggConfig,default:null,serialize:function(customMetric){return customMetric.toJSON()},deserialize:function(state,agg){return this.makeAgg(agg,state)},makeAgg:function(agg,state){state=state||{type:"count"},state.schema=metricAggSchema;var orderAgg=new _agg_config.AggConfig(agg.vis,state);return orderAgg.id=agg.id+"-metric",orderAgg},editor:_sub_metric2.default,controller:(0,_sibling_pipeline_agg_controller.siblingPipelineAggController)("customMetric"),modifyAggConfigOnSearchRequestStart:(0,_nested_agg_helpers.forwardModifyAggConfigOnSearchRequestStart)("customMetric"),write:_sibling_pipeline_agg_writter.siblingPipelineAggWritter}]},getFormat:function(agg){return agg.params.customMetric.type.getFormat(agg.params.customMetric)}};exports.siblingPipelineAggHelper=siblingPipelineAggHelper},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _resize_checker=__webpack_require__(3545);Object.defineProperty(exports,"ResizeChecker",{enumerable:!0,get:function(){return _resize_checker.ResizeChecker}})},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectLoader=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_scanner=__webpack_require__(3610),_string_utils=__webpack_require__(3611),_saved_objects=__webpack_require__(67);exports.SavedObjectLoader=function(){function SavedObjectLoader(SavedObjectClass,kbnIndex,kbnUrl,$http,chrome){_classCallCheck(this,SavedObjectLoader),this.type=SavedObjectClass.type,this.Class=SavedObjectClass,this.lowercaseType=this.type.toLowerCase(),this.kbnIndex=kbnIndex,this.kbnUrl=kbnUrl,this.chrome=chrome,this.scanner=new _scanner.Scanner($http,{index:kbnIndex,type:this.lowercaseType}),this.loaderProperties={name:this.lowercaseType+"s",noun:_string_utils.StringUtils.upperFirst(this.type),nouns:this.lowercaseType+"s"},this.savedObjectsClient=new _saved_objects.SavedObjectsClient({$http:$http})}return _createClass(SavedObjectLoader,[{key:"get",value:function(id){return new this.Class(id).init()}},{key:"urlFor",value:function(id){return this.kbnUrl.eval("#/"+this.lowercaseType+"/{{id}}",{id:id})}},{key:"delete",value:function(ids){var _this=this;ids=Array.isArray(ids)?ids:[ids];var deletions=ids.map(function(id){return new _this.Class(id).delete()});return Promise.all(deletions).then(function(){_this.chrome&&_this.chrome.untrackNavLinksForDeletedSavedObjects(ids)})}},{key:"mapHitSource",value:function(source,id){return source.id=id,source.url=this.urlFor(id),source}},{key:"scanAll",value:function(queryString){var pageSize=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.scanner.scanAndMap(queryString,{pageSize:pageSize,docCount:1/0})}},{key:"mapSavedObjectApiHits",value:function(hit){return this.mapHitSource(hit.attributes,hit.id)}},{key:"findAll",value:function(){var _this2=this,search=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return this.savedObjectsClient.find({type:this.lowercaseType,search:search?search+"*":void 0,perPage:size,page:1,searchFields:["title^3","description"]}).then(function(resp){return{total:resp.total,hits:resp.savedObjects.map(function(savedObject){return _this2.mapSavedObjectApiHits(savedObject)})}})}},{key:"find",value:function(){var search=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return this.findAll(search,size).then(function(resp){return{total:resp.total,hits:resp.hits.filter(function(savedObject){return!savedObject.error})}})}}]),SavedObjectLoader}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1200);var _vis_types=__webpack_require__(94),_modules=__webpack_require__(2),_saved_object_loader=__webpack_require__(488),_saved_object_registry=__webpack_require__(311),app=_modules.uiModules.get("app/visualize");_saved_object_registry.savedObjectManagementRegistry.register({service:"savedVisualizations",title:"visualizations"}),app.service("savedVisualizations",function(Promise,kbnIndex,SavedVis,Private,kbnUrl,$http,chrome){var visTypes=Private(_vis_types.VisTypesRegistryProvider),saveVisualizationLoader=new _saved_object_loader.SavedObjectLoader(SavedVis,kbnIndex,kbnUrl,$http,chrome);return saveVisualizationLoader.mapHitSource=function(source,id){source.id=id,source.url=this.urlFor(id);var typeName=source.typeName;if(source.visState)try{typeName=JSON.parse(source.visState).type}catch(e){}return typeName&&visTypes.byName[typeName]?(source.type=visTypes.byName[typeName],source.icon=source.type.icon,source):(source.error="Unknown visualization type",source)},saveVisualizationLoader.urlFor=function(id){return kbnUrl.eval("#/visualize/edit/{{id}}",{id:id})},saveVisualizationLoader})},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _vislib=__webpack_require__(3746);exports.default=_vislib.VislibProvider,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibVisualizationsPointSeriesProvider(){return function(){function PointSeries(handler,seriesEl,seriesData,seriesConfig){_classCallCheck(this,PointSeries),this.handler=handler,this.baseChart=handler.pointSeries,this.chartEl=seriesEl,this.chartData=seriesData,this.seriesConfig=seriesConfig}return _createClass(PointSeries,[{key:"getGroupedCount",value:function(){var _this=this,stacks=[];return this.baseChart.chartConfig.series.reduce(function(sum,series){var valueAxis=series.valueAxis||_this.baseChart.handler.valueAxes[0].id,isStacked="stacked"===series.mode;return"histogram"!==series.type?sum:isStacked&&stacks.includes(valueAxis)?sum:(isStacked&&stacks.push(valueAxis),sum+1)},0)}},{key:"getGroupedNum",value:function(data){var i=0,stacks=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.baseChart.chartConfig.series[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var seri=_step.value,valueAxis=seri.valueAxis||this.baseChart.handler.valueAxes[0].id;if("stacked"===seri.mode){if(valueAxis in stacks||(stacks[valueAxis]=i++),seri.data===data)return stacks[valueAxis]}else{if(seri.data===data)return i;i++}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return 0}},{key:"getValueAxis",value:function(){var _this2=this;return _lodash2.default.find(this.handler.valueAxes,function(axis){return axis.axisConfig.get("id")===_this2.seriesConfig.valueAxis})||this.handler.valueAxes[0]}},{key:"getCategoryAxis",value:function(){var _this3=this;return _lodash2.default.find(this.handler.categoryAxes,function(axis){return axis.axisConfig.get("id")===_this3.seriesConfig.categoryAxis})||this.handler.categoryAxes[0]}},{key:"addCircleEvents",value:function(element){var events=this.events;if(this.handler.visConfig.get("enableHover")){var hover=events.addHoverEvent(),mouseout=events.addMouseoutEvent();element.call(hover).call(mouseout)}var click=events.addClickEvent();return element.call(click)}}]),PointSeries}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsPointSeriesProvider=VislibVisualizationsPointSeriesProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function dispatchRenderComplete(el){dispatchCustomEvent(el,"renderComplete")}function dispatchRenderStart(el){dispatchCustomEvent(el,"renderStart")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatchRenderComplete=dispatchRenderComplete,exports.dispatchRenderStart=dispatchRenderStart,__webpack_require__(3787);var dispatchCustomEvent=function(el,eventName){el.dispatchEvent(new CustomEvent(eventName,{bubbles:!0}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DefaultEditorSize={SMALL:"small",MEDIUM:"medium",LARGE:"large"}},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmbeddableFactoriesRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.EmbeddableFactoriesRegistryProvider=(0,_registry.uiRegistry)({name:"embeddableFactories",index:["name"]})},,function(module,exports,__webpack_require__){"use strict";function AggResponseIndexProvider(Private){return{hierarchical:Private(_build_hierarchical_data.BuildHierarchicalDataProvider),pointSeries:Private(_point_series.AggResponsePointSeriesProvider),tabify:_tabify.tabifyAggResponse}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggResponseIndexProvider=AggResponseIndexProvider;var _build_hierarchical_data=__webpack_require__(4280),_point_series=__webpack_require__(1223),_tabify=__webpack_require__(747)},,,function(module,exports){module.exports='<div>\n  \x3c!-- Global settings --\x3e\n  <div class="kuiSideBarSection">\n    <div class="kuiSideBarSectionTitle">\n      <div class="kuiSideBarSectionTitle__text">\n        Settings\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="legendPosition">\n        Legend Position\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <select\n          id="legendPosition"\n          class="kuiSelect kuiSideBarSelect"\n          ng-model="vis.params.legendPosition"\n          ng-options="position for position in [\'top\', \'left\', \'right\', \'bottom\']"\n        ></select>\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="showCursor">\n        Show Tooltip\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="showCursor" type="checkbox" ng-model="vis.params.addTooltip">\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow" ng-show="vis.hasSchemaAgg(\'segment\', \'date_histogram\')">\n      <label class="kuiSideBarFormRow__label" for="currentTimeMarker">\n        Current Time Marker\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="currentTimeMarker" type="checkbox"\n               ng-model="vis.params.addTimeMarker"\n               ng-checked="vis.params.addTimeMarker"\n        >\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow" ng-show="!vis.hasSchemaAgg(\'segment\', \'date_histogram\')">\n      <label class="kuiSideBarFormRow__label" for="orderBuckets">\n        Order Buckets by Sum\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="orderBuckets" type="checkbox" ng-model="vis.params.orderBucketsBySum">\n      </div>\n    </div>\n\n    <vislib-grid></vislib-grid>\n  </div>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisResponseHandlersRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.VisResponseHandlersRegistryProvider=(0,_registry.uiRegistry)({name:"visResponseHandlers",index:["name"],order:["title"]})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function replaceVars(str){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},vars=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return _handlebars2.default.compile(str,{strict:!0})(_lodash2.default.assign({},vars,{args:args}))}catch(e){if(-1!==e.toString().indexOf("Parse error"))return str;if(-1!==e.message.indexOf("not defined in")){var badVar=e.message.split(/"/)[1];e.error={caused_by:{reason:"{{"+badVar+"}} is an unknown variable",title:"Error processing your markdown"}}}else e.error={caused_by:{reason:"Please verify you are only using markdown, known variables, and built-in Handlebars expressions",title:"Error processing your markdown"}};return e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=replaceVars;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_handlebars=__webpack_require__(1364),_handlebars2=_interopRequireDefault(_handlebars);module.exports=exports.default},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GroupBySelect(props){var modeOptions=[{label:"Everything",value:"everything"},{label:"Filter",value:"filter"},{label:"Filters",value:"filters"},{label:"Terms",value:"terms"}];return _react2.default.createElement(_reactSelect2.default,{clearable:!1,value:props.value||"everything",onChange:props.onChange,options:modeOptions})}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect);GroupBySelect.propTypes={onChange:_propTypes2.default.func,value:_propTypes2.default.string},exports.default=GroupBySelect,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SeriesConfig=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_data_format_picker=__webpack_require__(762),_data_format_picker2=_interopRequireDefault(_data_format_picker),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_index_pattern=__webpack_require__(221),_eui=__webpack_require__(5);(exports.SeriesConfig=function(props){var defaults={offset_time:"",value_template:""},model=_extends({},defaults,props.model),handleSelectChange=(0,_create_select_handler2.default)(props.onChange),handleTextChange=(0,_create_text_handler2.default)(props.onChange),htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__series_config-container"},_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement(_data_format_picker2.default,{onChange:handleSelectChange("formatter"),value:model.formatter}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("template")},"Template (eg.",_react2.default.createElement("code",null,"{{value}}/s"),")"),_react2.default.createElement("input",{style:{width:100},id:htmlId("template"),className:"vis_editor__input-grows",onChange:handleTextChange("value_template"),value:model.value_template}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("offsetSeries")},"Offset series time by (1m, 1h, 1w, 1d)"),_react2.default.createElement("input",{"data-test-subj":"offsetTimeSeries",style:{width:100},id:htmlId("offsetSeries"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("offset_time"),value:model.offset_time})),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Override Index Pattern"),_react2.default.createElement(_yes_no2.default,{value:model.override_index_pattern,name:"override_index_pattern",onChange:props.onChange}),_react2.default.createElement(_index_pattern.IndexPattern,{onChange:props.onChange,model:props.model,fields:props.fields,prefix:"series_",className:"vis_editor__row_item vis_editor__row",disabled:!model.override_index_pattern})),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("series_filter")},"Filter"),_react2.default.createElement("input",{id:htmlId("series_filter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}))))}).propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_collection_actions=__webpack_require__(223),collectionActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_collection_actions),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_eui=__webpack_require__(5),ColorRules=function(_Component){function ColorRules(props){_classCallCheck(this,ColorRules);var _this=_possibleConstructorReturn(this,(ColorRules.__proto__||Object.getPrototypeOf(ColorRules)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(ColorRules,_Component),_createClass(ColorRules,[{key:"handleChange",value:function(item,name){var _this2=this,cast=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;return function(e){var handleChange=collectionActions.handleChange.bind(null,_this2.props),part={};part[name]=cast(_lodash2.default.get(e,"value",_lodash2.default.get(e,"target.value"))),"undefined"===part[name]&&(part[name]=void 0),NaN===part[name]&&(part[name]=void 0),handleChange(_lodash2.default.assign({},item,part))}}},{key:"renderRow",value:function(row,i,items){var _this3=this,defaults={value:0},model=_extends({},defaults,row),handleAdd=collectionActions.handleAdd.bind(null,this.props),handleDelete=collectionActions.handleDelete.bind(null,this.props,model),operatorOptions=[{label:"> greater than",value:"gt"},{label:">= greater than or equal",value:"gte"},{label:"< less than",value:"lt"},{label:"<= less than or equal",value:"lte"}],handleColorChange=function(part){collectionActions.handleChange.bind(null,_this3.props)(_lodash2.default.assign({},model,part))},htmlId=(0,_eui.htmlIdGenerator)(model.id),secondary=void 0;return this.props.hideSecondary||(secondary=_react2.default.createElement("div",{className:"color_rules__secondary"},_react2.default.createElement("div",{className:"color_rules__label"},"and ",this.props.secondaryName," to"),_react2.default.createElement(_color_picker2.default,{onChange:handleColorChange,name:this.props.secondaryVarName,value:model[this.props.secondaryVarName]}))),_react2.default.createElement("div",{key:model.id,className:"color_rules__rule"},_react2.default.createElement("div",{className:"color_rules__label"},"Set ",this.props.primaryName," to"),_react2.default.createElement(_color_picker2.default,{onChange:handleColorChange,name:this.props.primaryVarName,value:model[this.props.primaryVarName]}),secondary,_react2.default.createElement("label",{className:"color_rules__label",htmlFor:htmlId("ifMetricIs")},"if metric is"),_react2.default.createElement("div",{className:"color_rules__item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("ifMetricIs")},onChange:this.handleChange(model,"opperator"),value:model.opperator,options:operatorOptions})),_react2.default.createElement("input",{"aria-label":"Value",className:"color_rules__input",type:"number",value:model.value,onChange:this.handleChange(model,"value",Number)}),_react2.default.createElement("div",{className:"color_rules__control"},_react2.default.createElement(_add_delete_buttons2.default,{onAdd:handleAdd,onDelete:handleDelete,disableDelete:items.length<2})))}},{key:"render",value:function(){var _props=this.props,model=_props.model,name=_props.name;if(!model[name])return _react2.default.createElement("div",null);var rows=model[name].map(this.renderRow);return _react2.default.createElement("div",{className:"color_rules"},rows)}}]),ColorRules}(_react.Component);ColorRules.defaultProps={name:"color_rules",primaryName:"background",primaryVarName:"background_color",secondaryName:"text",secondaryVarName:"color",hideSecondary:!1},ColorRules.propTypes={name:_propTypes2.default.string,model:_propTypes2.default.object,onChange:_propTypes2.default.func,primaryName:_propTypes2.default.string,primaryVarName:_propTypes2.default.string,secondaryName:_propTypes2.default.string,secondaryVarName:_propTypes2.default.string,hideSecondary:_propTypes2.default.bool},exports.default=ColorRules,module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var BinderBase=function(){function BinderBase(){_classCallCheck(this,BinderBase),this.disposal=[]}return _createClass(BinderBase,[{key:"on",value:function(emitter){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var on=emitter.on||emitter.addListener,off=emitter.off||emitter.removeListener;on.apply(emitter,args),this.disposal.push(function(){return off.apply(emitter,args)})}},{key:"destroy",value:function(){var destroyers=this.disposal;this.disposal=[],destroyers.forEach(function(fn){return fn()})}}]),BinderBase}();exports.BinderBase=BinderBase},function(module,exports){module.exports={name:"kibana",description:"Kibana is an open source (Apache Licensed), browser based analytics and search dashboard for Elasticsearch. Kibana is a snap to setup and start using. Kibana strives to be easy to get started with, while also being flexible and powerful, just like Elasticsearch.",keywords:["kibana","elasticsearch","logstash","analytics","visualizations","dashboards","dashboarding"],version:"6.3.2",branch:"6.3",build:{number:17307,sha:"53d0c6758ac3fb38a3a1df198c1d4c87765e63f7"},repository:{type:"git",url:"https://github.com/elastic/kibana.git"},engines:{node:"8.11.3"}}},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StateProvider(Private,$rootScope,$location,stateManagementConfig,config,kbnUrl){function State(urlParam,defaults){var _this=this,hashedItemStore=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_state_storage.HashedItemStoreSingleton,notifier=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new _notify.Notifier;State.Super.call(this),this.setDefaults(defaults),this._urlParam=urlParam||"_s",this._notifier=notifier,this._hashedItemStore=hashedItemStore,this._cleanUpListeners=_lodash2.default.partial(_function.callEach,[$rootScope.$on("$routeUpdate",function(){_this.fetch()}),$rootScope.$on("$routeChangeStart",function(){_this._persistAcrossApps||_this.destroy()}),$rootScope.$on("$routeChangeSuccess",function(){_this._persistAcrossApps&&_this.fetch()})]),this.fetch()}var Events=Private(_events.EventsProvider);return(0,_legacy_class.createLegacyClass)(State).inherits(Events),State.prototype._readFromURL=function(){var search=$location.search(),urlVal=search[this._urlParam];if(!urlVal)return null;if((0,_state_storage.isStateHash)(urlVal))return this._parseStateHash(urlVal);var risonEncoded=void 0,unableToParse=void 0;try{risonEncoded=_risonNode2.default.decode(urlVal)}catch(e){unableToParse=!0}return unableToParse&&(this._notifier.error("Unable to parse URL"),search[this._urlParam]=this.toQueryParam(this._defaults),$location.search(search).replace()),risonEncoded?(this.isHashingEnabled()&&(search[this._urlParam]=this.toQueryParam(risonEncoded),$location.search(search).replace()),risonEncoded):null},State.prototype.fetch=function(){if(stateManagementConfig.enabled){var stash=this._readFromURL();if(null===stash){if(this._persistAcrossApps)return this.save();stash={}}_lodash2.default.defaults(stash,this._defaults);var diffResults=(0,_diff_object.applyDiff)(this,stash);diffResults.keys.length&&this.emit("fetch_with_changes",diffResults.keys)}},State.prototype.save=function(replace){if(stateManagementConfig.enabled){var stash=this._readFromURL(),state=this.toObject();replace=replace||!1,stash||(replace=!0,stash={});var diffResults=(0,_diff_object.applyDiff)(stash,_lodash2.default.defaults({},state,this._defaults));diffResults.keys.length&&this.emit("save_with_changes",diffResults.keys);var search=$location.search();search[this._urlParam]=this.toQueryParam(state),replace?$location.search(search).replace():$location.search(search)}},State.prototype.replace=function(){stateManagementConfig.enabled&&this.save(!0)},State.prototype.reset=function(){if(stateManagementConfig.enabled){kbnUrl.removeParam(this.getQueryParamName());var diffResults=(0,_diff_object.applyDiff)(this,this._defaults);diffResults.keys.length&&this.emit("reset_with_changes",diffResults.keys),this.save()}},State.prototype.destroy=function(){this.off(),this._cleanUpListeners()},State.prototype.setDefaults=function(defaults){this._defaults=defaults||{}},State.prototype._parseStateHash=function(stateHash){var json=this._hashedItemStore.getItem(stateHash);return null===json&&this._notifier.error("Unable to completely restore the URL, be sure to use the share functionality."),JSON.parse(json)},State.prototype.translateHashToRison=function(stateHashOrRison){return(0,_state_storage.isStateHash)(stateHashOrRison)?_risonNode2.default.encode(this._parseStateHash(stateHashOrRison)):stateHashOrRison},State.prototype.isHashingEnabled=function(){return!!config.get("state:storeInSessionStorage")},State.prototype.toQueryParam=function(){var _this2=this,state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toObject();if(!this.isHashingEnabled())return _risonNode2.default.encode(state);var json=_angular2.default.toJson(state),hash=(0,_state_storage.createStateHash)(json,function(hash){return _this2._hashedItemStore.getItem(hash)});if(this._hashedItemStore.setItem(hash,json))return hash;(0,_notify.fatalError)(new Error("Kibana is unable to store history items in your session because it is full and there don't seem to be items any items safe to delete.\n\nThis can usually be fixed by moving to a fresh tab, but could be caused by a larger issue. If you are seeing this message regularly, please file an issue at https://github.com/elastic/kibana/issues."))},State.prototype.getQueryParamName=function(){return this._urlParam},State}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StateProvider=StateProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_diff_object=__webpack_require__(1727),_events=__webpack_require__(240),_notify=__webpack_require__(10);__webpack_require__(2455);var _legacy_class=__webpack_require__(55),_function=__webpack_require__(430),_state_storage=__webpack_require__(2456)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatInfo(){var info=[];return _lodash2.default.isUndefined(version)||info.push("Version: "+version),_lodash2.default.isUndefined(buildNum)||info.push("Build: "+buildNum),info.join("\n")}function fatalError(err,location){throw fatalErrorInternals.show(err,location),console.error(err.stack),err}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fatalErrorInternals=exports.addFatalErrorCallback=void 0,exports.fatalError=fatalError;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_metadata=__webpack_require__(159),_lib=__webpack_require__(429),_fatal_splash_screen=__webpack_require__(1731),_fatal_splash_screen2=_interopRequireDefault(_fatal_splash_screen),_function=__webpack_require__(430),version=_metadata.metadata.version,buildNum=_metadata.metadata.buildNum,firstFatal=!0,fatalToastTemplate=function(tmpl){var compiled=void 0;return function(vars){return(compiled||(compiled=_lodash2.default.template(tmpl)))(vars)}}(__webpack_require__(1732)),fatalCallbacks=[],fatalErrorInternals=(exports.addFatalErrorCallback=function(callback){fatalCallbacks.push(callback)},exports.fatalErrorInternals={show:function(err,location){firstFatal&&((0,_function.callEach)(fatalCallbacks),firstFatal=!1,window.addEventListener("hashchange",function(){window.location.reload()}));var html=fatalToastTemplate({info:formatInfo(),msg:(0,_lib.formatMsg)(err,location),stack:(0,_lib.formatStack)(err)}),$container=(0,_jquery2.default)("#fatal-splash-screen");$container.length||((0,_jquery2.default)(document.body).removeAttr("ng-cloak").html(_fatal_splash_screen2.default),$container=(0,_jquery2.default)("#fatal-splash-screen")),$container.append(html)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _markdownIt=__webpack_require__(344),_markdownIt2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_markdownIt),_modules=__webpack_require__(2);__webpack_require__(294);var markdownIt=new _markdownIt2.default({html:!1,linkify:!0});_modules.uiModules.get("kibana",["ngSanitize"]).filter("markdown",function($sanitize){return function(md){return md?$sanitize(markdownIt.render(md)):""}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _truncText=__webpack_require__(2439),_truncText2=_interopRequireDefault(_truncText),_truncHtml=__webpack_require__(2440),_truncHtml2=_interopRequireDefault(_truncHtml),_modules=__webpack_require__(2),_truncated=__webpack_require__(2449),_truncated2=_interopRequireDefault(_truncated);__webpack_require__(294),_modules.uiModules.get("kibana",["ngSanitize"]).directive("kbnTruncated",function(){return{restrict:"E",scope:{source:"@",length:"@",isHtml:"@"},template:_truncated2.default,link:function($scope){var source=$scope.source,max=$scope.length,truncated=$scope.isHtml?(0,_truncHtml2.default)(source,max).html:(0,_truncText2.default)(source,max);$scope.content=truncated,source!==truncated&&($scope.truncated=!0,$scope.expanded=!1,$scope.action="more",$scope.toggle=function(){$scope.expanded=!$scope.expanded,$scope.content=$scope.expanded?source:truncated,$scope.action=$scope.expanded?"less":"more"})}}})},,function(module,exports,__webpack_require__){"use strict";function SimpleEmitter(){this._listeners={}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleEmitter=SimpleEmitter;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_base_object=__webpack_require__(2454);(0,__webpack_require__(55).createLegacyClass)(SimpleEmitter).inherits(_base_object.BaseObject),SimpleEmitter.prototype.on=function(name,handler){var handlers=this._listeners[name];return handlers||(handlers=this._listeners[name]=[]),handlers.push(handler),this},SimpleEmitter.prototype.off=function(name,handler){return this._listeners[name]?(handler?_lodash2.default.pull(this._listeners[name],handler):this._listeners[name]=null,this):this},SimpleEmitter.prototype.removeAllListeners=function(){return this._listeners={},this},SimpleEmitter.prototype.emit=_lodash2.default.restParam(function(name,args){if(!this._listeners[name])return this;for(var listeners=this.listeners(name),i=-1;++i<listeners.length;)listeners[i].apply(this,args);return this}),SimpleEmitter.prototype.activeEvents=function(){return _lodash2.default.reduce(this._listeners,function(active,listeners,name){return active.concat(_lodash2.default.size(listeners)?name:[])},[])},SimpleEmitter.prototype.listeners=function(name){return this._listeners[name]?this._listeners[name].slice(0):[]},SimpleEmitter.prototype.listenerCount=function(name){return name?_lodash2.default.size(this._listeners[name]):_lodash2.default.reduce(this._listeners,function(count,handlers){return count+_lodash2.default.size(handlers)},0)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _storage=__webpack_require__(2463);Object.defineProperty(exports,"Storage",{enumerable:!0,get:function(){return _storage.Storage}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2474)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KibanaParsedUrl=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_url=__webpack_require__(59),_prepend_path=__webpack_require__(1032),_utils=__webpack_require__(285);exports.KibanaParsedUrl=function(){function KibanaParsedUrl(options){_classCallCheck(this,KibanaParsedUrl);var appId=options.appId,_options$basePath=options.basePath,basePath=void 0===_options$basePath?"":_options$basePath,_options$appPath=options.appPath,appPath=void 0===_options$appPath?"":_options$appPath,hostname=options.hostname,protocol=options.protocol,port=options.port,hostOrProtocolSpecified=hostname||protocol||port;this.basePath=basePath,this.appId=appId,this.appPath=appPath,this.hostname=hostOrProtocolSpecified?hostname:window.location.hostname,this.port=hostOrProtocolSpecified?port:window.location.port,this.protocol=hostOrProtocolSpecified?protocol:window.location.protocol}return _createClass(KibanaParsedUrl,[{key:"getGlobalState",value:function(){return this.appPath?((0,_url.parse)(this.appPath,!0).query||{})._g||"":""}},{key:"setGlobalState",value:function(newGlobalState){this.appPath&&(this.appPath=(0,_utils.modifyUrl)(this.appPath,function(parsed){parsed.query._g=newGlobalState}))}},{key:"addQueryParameter",value:function(name,val){this.appPath=(0,_utils.modifyUrl)(this.appPath,function(parsed){parsed.query[name]=val})}},{key:"getHashedAppPath",value:function(){return"#"+this.appPath}},{key:"getAppBasePath",value:function(){return"/"+this.appId}},{key:"getAppRootPath",value:function(){return"/app"+this.getAppBasePath()+this.getHashedAppPath()}},{key:"getRootRelativePath",value:function(){return(0,_prepend_path.prependPath)(this.getAppRootPath(),this.basePath)}},{key:"getAbsoluteUrl",value:function(){var _this=this;return(0,_utils.modifyUrl)(this.getRootRelativePath(),function(parsed){parsed.protocol=_this.protocol,parsed.port=_this.port,parsed.hostname=_this.hostname})}}]),KibanaParsedUrl}()},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function IndexPatternsProvider(Notifier,Private,config){var _this=this,self=this,IndexPattern=Private(_index_pattern.IndexPatternProvider),patternCache=Private(_pattern_cache.IndexPatternsPatternCacheProvider),getProvider=Private(_get.IndexPatternsGetProvider);self.get=function(id){return id?patternCache.get(id)||patternCache.set(id,self.make(id)):self.make()},self.getDefault=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var defaultIndexPatternId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(defaultIndexPatternId=config.get("defaultIndex"))){_context.next=5;break}return _context.next=4,self.get(defaultIndexPatternId);case 4:return _context.abrupt("return",_context.sent);case 5:return _context.abrupt("return",null);case 6:case"end":return _context.stop()}},_callee,_this)})),self.make=function(id){return new IndexPattern(id).init()},self.delete=function(pattern){return self.getIds.clearCache(),pattern.destroy()},self.errors={MissingIndices:_errors.IndexPatternMissingIndices},self.cache=patternCache,self.getIds=getProvider("id"),self.getTitles=getProvider("attributes.title"),self.intervals=Private(_intervals.IndexPatternsIntervalsProvider),self.fieldsFetcher=Private(_fields_fetcher_provider.FieldsFetcherProvider),self.fieldFormats=_field_formats.fieldFormats,self.IndexPattern=IndexPattern}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsProvider=IndexPatternsProvider,__webpack_require__(359);var _errors=__webpack_require__(56),_index_pattern=__webpack_require__(2528),_pattern_cache=__webpack_require__(1042),_get=__webpack_require__(635),_intervals=__webpack_require__(1040),_fields_fetcher_provider=__webpack_require__(1043),_field_formats=__webpack_require__(99);__webpack_require__(2).uiModules.get("kibana/index_patterns").service("indexPatterns",function(Private){return Private(IndexPatternsProvider)})},function(module,exports,__webpack_require__){"use strict";function shortenDottedString(input){return"string"!=typeof input?input:input.replace(DOT_PREFIX_RE,"$1.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shortenDottedString=shortenDottedString;var DOT_PREFIX_RE=/(.).+?\./g},function(module,exports,__webpack_require__){"use strict";function getHighlightHtml(fieldValue,highlights){var highlightHtml="object"===(void 0===fieldValue?"undefined":_typeof(fieldValue))?JSON.stringify(fieldValue):fieldValue;return _lodash2.default.each(highlights,function(highlight){var escapedHighlight=_lodash2.default.escape(highlight),untaggedHighlight=escapedHighlight.split(_highlight_tags.highlightTags.pre).join("").split(_highlight_tags.highlightTags.post).join(""),taggedHighlight=escapedHighlight.split(_highlight_tags.highlightTags.pre).join(_html_tags.htmlTags.pre).split(_highlight_tags.highlightTags.post).join(_html_tags.htmlTags.post);highlightHtml=highlightHtml.split(untaggedHighlight).join(taggedHighlight)}),highlightHtml}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHighlightHtml=getHighlightHtml;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_highlight_tags=__webpack_require__(1036),_html_tags=__webpack_require__(2530)},function(module,exports,__webpack_require__){"use strict";function IndexPatternsGetProvider(Private){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),cachedIdPromise=void 0,get=function(field){if("id"===field&&cachedIdPromise)return cachedIdPromise.then(function(cachedResp){return _lodash2.default.clone(cachedResp)});var promise=savedObjectsClient.find({type:"index-pattern",fields:[],perPage:1e4}).then(function(resp){return resp.savedObjects.map(function(obj){return _lodash2.default.get(obj,field)})});return"id"===field&&(cachedIdPromise=promise),promise.then(function(resp){return _lodash2.default.clone(resp)})};return function(field){var getter=get.bind(get,field);return"id"===field&&(getter.clearCache=function(){cachedIdPromise=null}),getter}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsGetProvider=IndexPatternsGetProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_saved_objects=__webpack_require__(67)},function(module,exports,__webpack_require__){"use strict";function isNumeric(v){return!_lodash2.default.isNaN(v)&&("number"==typeof v||!Array.isArray(v)&&!_lodash2.default.isNaN(parseFloat(v)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=isNumeric;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function IndexPatternsFieldProvider(Private,shortDotsFilter,$rootScope,Notifier){function Field(indexPattern,spec){spec instanceof Field&&(spec=spec.$$spec);var obj=new _obj_define.ObjDefine(spec,Field.prototype);"_source"===spec.name&&(spec.type="_source");var type=(0,_utils.getKbnFieldType)(spec.type);spec.type&&!type&&notify.error('Unknown field type "'+spec.type+'" for field "'+spec.name+'" in indexPattern "'+indexPattern.title+'"'),type||(type=(0,_utils.getKbnFieldType)("unknown"));var format=spec.format;format&&format instanceof _field_format.FieldFormat||(format=indexPattern.fieldFormatMap[spec.name]||_field_formats.fieldFormats.getDefaultInstance(spec.type));var indexed=!!spec.indexed,scripted=!!spec.scripted,searchable=!!spec.searchable||scripted,aggregatable=!!spec.aggregatable||scripted,readFromDocValues=!!spec.readFromDocValues&&!scripted,sortable="_score"===spec.name||(indexed||aggregatable)&&type.sortable,filterable="_id"===spec.name||scripted||(indexed||searchable)&&type.filterable,visualizable=aggregatable;return obj.fact("name"),obj.fact("type"),obj.writ("count",spec.count||0),obj.fact("scripted",scripted),obj.writ("script",scripted?spec.script:null),obj.writ("lang",scripted?spec.lang||"painless":null),obj.fact("searchable",searchable),obj.fact("aggregatable",aggregatable),obj.fact("readFromDocValues",readFromDocValues),obj.comp("format",format),obj.comp("sortable",sortable),obj.comp("filterable",filterable),obj.comp("visualizable",visualizable),obj.comp("indexPattern",indexPattern),obj.comp("displayName",shortDotsFilter(spec.name)),obj.comp("$$spec",spec),obj.writ("conflictDescriptions"),obj.create()}var notify=new Notifier({location:"IndexPattern Field"});return Object.defineProperties(Field.prototype,{indexed:{get:function(){throw new Error("field.indexed has been removed, see https://github.com/elastic/kibana/pull/11969")}},analyzed:{get:function(){throw new Error("field.analyzed has been removed, see https://github.com/elastic/kibana/pull/11969")}},doc_values:{get:function(){throw new Error("field.doc_values has been removed, see https://github.com/elastic/kibana/pull/11969")}}}),Field.prototype.routes={edit:"/management/kibana/indices/{{indexPattern.id}}/field/{{name}}"},Field}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsFieldProvider=IndexPatternsFieldProvider;var _obj_define=__webpack_require__(2540),_field_format=__webpack_require__(453),_field_formats=__webpack_require__(99),_utils=__webpack_require__(285)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _fetch_soon=__webpack_require__(2548);Object.defineProperty(exports,"FetchSoonProvider",{enumerable:!0,get:function(){return _fetch_soon.FetchSoonProvider}})},function(module,exports,__webpack_require__){"use strict";function DecorateQueryProvider(config){return function(query){var queryOptions=config.get("query:queryString:options");return _lodash2.default.has(query,"query_string.query")&&_lodash2.default.extend(query.query_string,queryOptions),query}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DecorateQueryProvider=DecorateQueryProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function escapeRegExp(string){return string.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function escapeQueryString(string){return string.replace(/[+-=&|><!(){}[\]^"~*?:\\\/]/g,"\\$&")}function buildNode(value){return value.includes(wildcardSymbol)?{type:"wildcard",value:value}:(0,_ast.fromLiteralExpression)(value)}function test(node,string){var value=node.value,regex=value.split(wildcardSymbol).map(escapeRegExp).join(".*");return new RegExp("^"+regex+"$").test(string)}function toElasticsearchQuery(node){return node.value.split(wildcardSymbol).join("*")}function toQueryStringQuery(node){return node.value.split(wildcardSymbol).map(escapeQueryString).join("*")}function hasLeadingWildcard(node){var value=node.value;return value.startsWith(wildcardSymbol)&&value.replace(wildcardSymbol,"").length>0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.wildcardSymbol=void 0,exports.buildNode=buildNode,exports.test=test,exports.toElasticsearchQuery=toElasticsearchQuery,exports.toQueryStringQuery=toQueryStringQuery,exports.hasLeadingWildcard=hasLeadingWildcard;var _ast=__webpack_require__(1054),wildcardSymbol=exports.wildcardSymbol="@kuery-wildcard@"},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function migrateFilter(filter,indexPattern){if(filter.match){var fieldName=Object.keys(filter.match)[0];if(isMatchPhraseFilter(filter,fieldName)){var params=_lodash2.default.get(filter,["match",fieldName]);if(indexPattern){var field=indexPattern.fields.find(function(f){return f.name===fieldName});field&&(params.query=(0,_phrase.getConvertedValueForField)(field,params.query))}return{match_phrase:_defineProperty({},fieldName,_lodash2.default.omit(params,"type"))}}}return filter}function isMatchPhraseFilter(filter,fieldName){return"phrase"===_lodash2.default.get(filter,["match",fieldName,"type"])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.migrateFilter=migrateFilter;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_phrase=__webpack_require__(253)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(2598);var uiModules=__webpack_require__(2).uiModules,kibana=uiModules.get("kibana",["ui.bootstrap"]);module.exports=kibana.config(function($tooltipProvider){$tooltipProvider.setTriggers({mouseenter:"mouseleave click"})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2647)},function(module,exports,__webpack_require__){"use strict";var _angular=__webpack_require__(13),_angular2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_angular),_modules=__webpack_require__(2);__webpack_require__(2670);var _eui=__webpack_require__(5),aceKeyboardModeId=0;_modules.uiModules.get("kibana").factory("kbnUiAceKeyboardModeService",function(){return{initialize:function(scope,element){function startEditing(){hint.addClass("uiAceKeyboardHint-isInactive"),uiAceTextbox.focus()}function enableOverlay(){hint.removeClass("uiAceKeyboardHint-isInactive")}var uniqueId="uiAceKeyboardHint-"+scope.$id+"-"+aceKeyboardModeId++,hint=_angular2.default.element('<div\n          class="uiAceKeyboardHint"\n          id="'+uniqueId+'"\n          tabindex="0"\n          role="application"\n        >\n          <p class="kuiText kuiVerticalRhythmSmall">\n            Press Enter to start editing.\n          </p>\n          <p class="kuiText kuiVerticalRhythmSmall">\n            When you&rsquo;re done, press Escape to stop editing.\n          </p>\n        </div>'),uiAceTextbox=element.find("textarea");hint.keydown(function(ev){ev.keyCode===_eui.keyCodes.ENTER&&(ev.preventDefault(),startEditing())}),uiAceTextbox.blur(function(){enableOverlay()});var isAutoCompleterOpen=void 0;document.addEventListener("keydown",function(){var autoCompleter=document.querySelector(".ace_autocomplete");if(!autoCompleter)return void(isAutoCompleterOpen=!1);isAutoCompleterOpen="none"!==autoCompleter.style.display},{capture:!0}),uiAceTextbox.keydown(function(ev){ev.keyCode===_eui.keyCodes.ESCAPE&&(isAutoCompleterOpen||(ev.preventDefault(),ev.stopPropagation(),enableOverlay(),hint.focus()))}),hint.click(startEditing),uiAceTextbox.attr("tabindex","-1"),element.prepend(hint)}}}).directive("kbnUiAceKeyboardMode",function(kbnUiAceKeyboardModeService){return{restrict:"A",link:function(scope,element){kbnUiAceKeyboardModeService.initialize(scope,element)}}})},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getQueryDslFromFilter(filter){return(0,_lodash2.default)(filter).omit(["meta","$state"]).cloneDeep()}function getFieldFromFilter(filter,indexPatterns){var _filter$meta=filter.meta,index=_filter$meta.index,key=_filter$meta.key;return indexPatterns.get(index).then(function(indexPattern){return indexPattern.id&&indexPattern.fields.byName[key]})}function getOperatorFromFilter(filter){var _filter$meta2=filter.meta,type=_filter$meta2.type,negate=_filter$meta2.negate;return _filter_operators.FILTER_OPERATORS.find(function(operator){return operator.type===type&&operator.negate===negate})}function getParamsFromFilter(filter){var _filter$meta3=filter.meta,type=_filter$meta3.type,key=_filter$meta3.key,params=void 0;if("phrase"===type)params=filter.query?filter.query.match[key].query:filter.script.script.params.value;else if("phrases"===type)params=filter.meta.params;else if("range"===type){var range=filter.range?filter.range[key]:filter.script.script.params,from=_lodash2.default.has(range,"gte")?range.gte:range.gt,to=_lodash2.default.has(range,"lte")?range.lte:range.lt;params={from:from,to:to}}return _defineProperty({},type,params)}function getFieldOptions(indexPatterns){return(indexPatterns||[]).reduce(function(fields,indexPattern){var filterableFields=indexPattern.fields.filter(function(field){return field.filterable});return[].concat(_toConsumableArray(fields),_toConsumableArray(filterableFields))},[])}function getOperatorOptions(field){var type=_lodash2.default.get(field,"type");return _filter_operators.FILTER_OPERATORS.filter(function(operator){return!operator.fieldTypes||operator.fieldTypes.includes(type)})}function isFilterValid(_ref2){var field=_ref2.field,operator=_ref2.operator,params=_ref2.params;if(!field||!operator)return!1;if("phrase"===operator.type)return _lodash2.default.has(params,"phrase")&&""!==params.phrase;if("phrases"===operator.type)return _lodash2.default.has(params,"phrases")&&params.phrases.length>0;if("range"===operator.type){var hasFrom=_lodash2.default.has(params,["range","from"])&&""!==params.range.from,hasTo=_lodash2.default.has(params,["range","to"])&&""!==params.range.to;return hasFrom||hasTo}return!0}function buildFilter(_ref3){var indexPattern=_ref3.indexPattern,field=_ref3.field,operator=_ref3.operator,params=_ref3.params,filterBuilder=_ref3.filterBuilder,filter=void 0;return"phrase"===operator.type?filter=filterBuilder.buildPhraseFilter(field,params.phrase,indexPattern):"phrases"===operator.type?filter=filterBuilder.buildPhrasesFilter(field,params.phrases,indexPattern):"range"===operator.type?filter=filterBuilder.buildRangeFilter(field,{gte:params.range.from,lt:params.range.to},indexPattern):"exists"===operator.type&&(filter=filterBuilder.buildExistsFilter(field,indexPattern)),filter.meta.negate=operator.negate,filter}function areIndexPatternsProvided(indexPatterns){return 0!==_lodash2.default.compact(indexPatterns).length}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getQueryDslFromFilter=getQueryDslFromFilter,exports.getFieldFromFilter=getFieldFromFilter,exports.getOperatorFromFilter=getOperatorFromFilter,exports.getParamsFromFilter=getParamsFromFilter,exports.getFieldOptions=getFieldOptions,exports.getOperatorOptions=getOperatorOptions,exports.isFilterValid=isFilterValid,exports.buildFilter=buildFilter,exports.areIndexPatternsProvided=areIndexPatternsProvided;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_filter_operators=__webpack_require__(1069)},function(module,exports,__webpack_require__){"use strict";var _datemath=__webpack_require__(81),_datemath2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_datemath);__webpack_require__(2).uiModules.get("kibana").directive("validateDateMath",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateDateMath(input){if(null==input||""===input)return ngModel.$setValidity("validDateMath",!0),null;var moment=_datemath2.default.parse(input);return ngModel.$setValidity("validDateMath",null!=moment&&moment.isValid()),input}ngModel.$parsers.unshift(validateDateMath),ngModel.$formatters.unshift(validateDateMath)}}})},function(module,exports,__webpack_require__){"use strict";var _ipv4_address=__webpack_require__(1072),_ipv4_address2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ipv4_address);__webpack_require__(2).uiModules.get("kibana").directive("validateIp",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateIp(ipAddress){if(null==ipAddress||""===ipAddress)return ngModel.$setValidity("ipInput",!0),null;try{return ipAddress=new _ipv4_address2.default(ipAddress),ngModel.$setValidity("ipInput",!0),ipAddress.toString()}catch(e){ngModel.$setValidity("ipInput",!1)}}ngModel.$parsers.unshift(validateIp),ngModel.$formatters.unshift(validateIp)}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("focusOn",function($timeout){return{restrict:"A",link:function(scope,elem,attrs){scope.$on(attrs.focusOn,function(){$timeout(function(){return elem.find("input,select").addBack("input,select").focus()})})}}})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function buildPhrasesFilter(field,params,indexPattern){var index=indexPattern.id,key=field.name,value=params.map(function(value){return field.format.convert(value)}).join(", "),filter={meta:{index:index,type:"phrases",key:key,value:value,params:params}},should=void 0;return should=field.scripted?params.map(function(value){return{script:(0,_phrase.getPhraseScript)(field,value)}}):params.map(function(value){return{match_phrase:_defineProperty({},field.name,value)}}),filter.query={bool:{should:should,minimum_should_match:1}},filter}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildPhrasesFilter=buildPhrasesFilter;var _phrase=__webpack_require__(253)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapAndFlattenFiltersProvider(Private,Promise){var mapFilter=Private(_map_filter.FilterBarLibMapFilterProvider);return function(filters){return(0,_lodash2.default)(filters).flatten().compact().map(mapFilter).thru(Promise.all).value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapAndFlattenFiltersProvider=FilterBarLibMapAndFlattenFiltersProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_map_filter=__webpack_require__(2691)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalOverlay=exports.ConfirmationButtonTypes=void 0;var _confirm_modal=__webpack_require__(652);Object.defineProperty(exports,"ConfirmationButtonTypes",{enumerable:!0,get:function(){return _confirm_modal.ConfirmationButtonTypes}});var _modal_overlay=__webpack_require__(1078);Object.defineProperty(exports,"ModalOverlay",{enumerable:!0,get:function(){return _modal_overlay.ModalOverlay}}),__webpack_require__(652),__webpack_require__(2718)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfirmationButtonTypes=void 0;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_confirm_modal=__webpack_require__(2716),_confirm_modal2=_interopRequireDefault(_confirm_modal),_modal_overlay=__webpack_require__(1078),_eui=__webpack_require__(5),_module=_modules.uiModules.get("kibana"),ConfirmationButtonTypes=exports.ConfirmationButtonTypes={CONFIRM:_eui.EUI_MODAL_CONFIRM_BUTTON,CANCEL:_eui.EUI_MODAL_CANCEL_BUTTON};_module.factory("confirmModal",function($rootScope,$compile){var modalPopover=void 0,confirmQueue=[];return function(message,customOptions){function showModal(confirmScope){var modalInstance=$compile(_confirm_modal2.default)(confirmScope);modalPopover=new _modal_overlay.ModalOverlay(modalInstance)}function destroy(){modalPopover.destroy(),modalPopover=void 0,_angular2.default.element(document.body).off("keydown"),confirmScope.$destroy(),confirmQueue.length>0&&showModal(confirmQueue.pop())}var defaultOptions={onCancel:_lodash.noop,cancelButtonText:"Cancel",defaultFocusedButton:ConfirmationButtonTypes.CONFIRM};if(!customOptions.confirmButtonText||!customOptions.onConfirm)throw new Error("Please specify confirmation button text and onConfirm action");var options=Object.assign(defaultOptions,customOptions);options.onClose=customOptions.onClose||options.onCancel;var confirmScope=$rootScope.$new();confirmScope.message=message,confirmScope.defaultFocusedButton=options.defaultFocusedButton,confirmScope.confirmButtonText=options.confirmButtonText,confirmScope.cancelButtonText=options.cancelButtonText,confirmScope.title=options.title,confirmScope.onConfirm=function(){destroy(),options.onConfirm()},confirmScope.onCancel=function(){destroy(),options.onCancel()},confirmScope.onClose=function(){destroy(),options.onClose()},modalPopover?confirmQueue.unshift(confirmScope):showModal(confirmScope)}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2722)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.relativeOptions=[{text:"Seconds ago",value:"s"},{text:"Minutes ago",value:"m"},{text:"Hours ago",value:"h"},{text:"Days ago",value:"d"},{text:"Weeks ago",value:"w"},{text:"Months ago",value:"M"},{text:"Years ago",value:"y"},{text:"Seconds from now",value:"s+"},{text:"Minutes from now",value:"m+"},{text:"Hours from now",value:"h+"},{text:"Days from now",value:"d+"},{text:"Weeks from now",value:"w+"},{text:"Months from now",value:"M+"},{text:"Years from now",value:"y+"}]},function(module,exports,__webpack_require__){"use strict";function makeDirectiveDef(id,compare){return function($parse){return{require:"ngModel",link:function($scope,$el,$attr,ngModel){function validate(val){var bound=isNaN(getBound())?defaultVal:+getBound(),valid=!isNaN(bound)&&!isNaN(val)&&compare(val,bound);return ngModel.$setValidity(id,valid),val}var getBound=function(){return $parse($attr[id])()},defaultVal={greaterThan:-1/0,greaterOrEqualThan:-1/0,lessThan:1/0}[id];ngModel.$parsers.push(validate),ngModel.$formatters.push(validate),$scope.$watch(getBound,function(){validate(ngModel.$viewValue)})}}}}__webpack_require__(2).uiModules.get("kibana").directive("greaterThan",makeDirectiveDef("greaterThan",function(a,b){return a>b})).directive("lessThan",makeDirectiveDef("lessThan",function(a,b){return a<b})).directive("greaterOrEqualThan",makeDirectiveDef("greaterOrEqualThan",function(a,b){return a>=b}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("kbnScrollBottom",function(){return{restrict:"A",link:function($scope,$element,attr){function onScroll(){var position=$element.scrollTop()+$element.outerHeight(),height=$element[0].scrollHeight,remaining=height-position;height&&position&&remaining<=50&&$scope.$evalAsync(attr.kbnScrollBottom)}function scheduleCheck(){checkTimer||(checkTimer=setTimeout(function(){checkTimer=null,onScroll()},50))}var checkTimer=void 0;$element.on("scroll",scheduleCheck),$scope.$on("$destroy",function(){clearTimeout(checkTimer),$element.off("scroll",scheduleCheck)}),scheduleCheck()}}})},function(module,exports,__webpack_require__){"use strict";var _parse_interval=__webpack_require__(107);__webpack_require__(2).uiModules.get("kibana").directive("validateDateInterval",function(){return{restrict:"A",require:"ngModel",link:function($scope,$el,attrs,ngModelCntrl){function check(value){return ngModelCntrl.$setValidity("dateInterval",null!=(0,_parse_interval.parseInterval)(value)),value}ngModelCntrl.$parsers.push(check),ngModelCntrl.$formatters.push(check)}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(183);var _components=__webpack_require__(22),_eui=__webpack_require__(5),_modules=__webpack_require__(2),app=_modules.uiModules.get("app/kibana",["react"]);app.directive("toolBarSearchBox",function(reactDirective){return reactDirective(_components.KuiToolBarSearchBox)}),app.directive("confirmModal",function(reactDirective){return reactDirective(_eui.EuiConfirmModal)}),app.directive("icon",function(reactDirective){return reactDirective(_eui.EuiIcon)}),app.directive("colorPicker",function(reactDirective){return reactDirective(_eui.EuiColorPicker)}),app.directive("iconTip",function(reactDirective){return reactDirective(_eui.EuiIconTip,["content","type","position","title"])})},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("confirmClick",function($window){return{restrict:"A",link:function($scope,$elem,attrs){$elem.bind("click",function(){var message=attrs.confirmation||"Are you sure?";if($window.confirm(message)){var action=attrs.confirmClick;action&&$scope.$apply($scope.$eval(action))}}),$scope.$on("$destroy",function(){$elem.unbind("click")})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("cssTruncate",function(){return{restrict:"A",scope:{},link:function($scope,$elem,attrs){$elem.css({overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","word-break":"break-all"}),null!=attrs.cssTruncateExpandable&&$scope.$watch(function(){return $elem.html()},function(){$elem[0].offsetWidth<$elem[0].scrollWidth&&($elem.css({cursor:"pointer"}),$elem.bind("click",function(){$scope.toggle()}))}),$scope.toggle=function(){"normal"!==$elem.css("white-space")?$elem.css({"white-space":"normal"}):$elem.css({"white-space":"nowrap"})},$scope.$on("$destroy",function(){$elem.unbind("click"),$elem.unbind("mouseenter")})}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(359);var _boolean_field_name_icon=__webpack_require__(2882),_boolean_field_name_icon2=_interopRequireDefault(_boolean_field_name_icon),_conflict_field_name_icon=__webpack_require__(2883),_conflict_field_name_icon2=_interopRequireDefault(_conflict_field_name_icon),_date_field_name_icon=__webpack_require__(2884),_date_field_name_icon2=_interopRequireDefault(_date_field_name_icon),_geo_point_field_name_icon=__webpack_require__(2885),_geo_point_field_name_icon2=_interopRequireDefault(_geo_point_field_name_icon),_ip_field_name_icon=__webpack_require__(2886),_ip_field_name_icon2=_interopRequireDefault(_ip_field_name_icon),_murmur3_field_name_icon=__webpack_require__(2887),_murmur3_field_name_icon2=_interopRequireDefault(_murmur3_field_name_icon),_number_field_name_icon=__webpack_require__(2888),_number_field_name_icon2=_interopRequireDefault(_number_field_name_icon),_source_field_name_icon=__webpack_require__(2889),_source_field_name_icon2=_interopRequireDefault(_source_field_name_icon),_string_field_name_icon=__webpack_require__(2890),_string_field_name_icon2=_interopRequireDefault(_string_field_name_icon),_unknown_field_name_icon=__webpack_require__(2891),_unknown_field_name_icon2=_interopRequireDefault(_unknown_field_name_icon);__webpack_require__(2).uiModules.get("kibana").directive("fieldName",function($compile,$rootScope,$filter){return{restrict:"AE",scope:{field:"=",fieldName:"=",fieldType:"="},link:function($scope,$el){function typeIcon(fieldType){return typeToIconMap.hasOwnProperty(fieldType)?typeToIconMap[fieldType]:_unknown_field_name_icon2.default}var typeToIconMap={boolean:_boolean_field_name_icon2.default,conflict:_conflict_field_name_icon2.default,date:_date_field_name_icon2.default,geo_point:_geo_point_field_name_icon2.default,ip:_ip_field_name_icon2.default,murmur3:_murmur3_field_name_icon2.default,number:_number_field_name_icon2.default,source:_source_field_name_icon2.default,string:_string_field_name_icon2.default};$rootScope.$watchMulti.call($scope,["field","fieldName","fieldType","field.rowCount"],function(){var type=$scope.field?$scope.field.type:$scope.fieldType,name=$scope.field?$scope.field.name:$scope.fieldName,results=!!$scope.field&&!$scope.field.rowCount&&!$scope.field.scripted,scripted=!!$scope.field&&$scope.field.scripted,displayName=$filter("shortDots")(name);$el.attr("title",name).toggleClass("no-results",results).toggleClass("scripted",scripted).prepend(typeIcon(type)).append((0,_jquery2.default)("<span>").text(displayName).addClass("discover-field-name"))})}}})},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_key_map=__webpack_require__(459),_saved_object_registry=__webpack_require__(184),_modules=__webpack_require__(2),_saved_object_finder=__webpack_require__(3180),_saved_object_finder2=_interopRequireDefault(_saved_object_finder);_modules.uiModules.get("kibana").directive("savedObjectFinder",function($location,$injector,kbnUrl,Private,config){var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName;return{restrict:"E",scope:{type:"@",userMakeUrl:"=?makeUrl",userOnChoose:"=?onChoose",useLocalManagement:"=?useLocalManagement",onAddNew:"=",disableAutoFocus:"="},template:_saved_object_finder2.default,controllerAs:"finder",controller:function($scope,$element){function selectTopHit(){setTimeout(function(){$list.find("a:first").focus()},0)}function filterResults(){if(self.service&&self.properties){var filter=currentFilter;if(prevSearch!==filter){prevSearch=filter;var isLabsEnabled=config.get("visualize:enableLabs");self.service.find(filter).then(function(hits){hits.hits=hits.hits.filter(function(hit){return isLabsEnabled||"lab"!==_lodash2.default.get(hit,"type.stage")}),hits.total=hits.hits.length,currentFilter===filter&&(self.hitCount=hits.total,self.hits=_lodash2.default.sortBy(hits.hits,"title"))})}}}var self=this,$input=$element.find("input[ng-model=filter]");$scope.perPage=config.get("savedObjects:perPage");var $list=$element.find("ul"),currentFilter=$scope.filter,prevSearch=void 0;self.hits=[],self.service=services[$scope.type],self.properties=self.service.loaderProperties,filterResults(),self.isAscending=!0,self.sortHits=function(hits){self.isAscending=!self.isAscending,self.hits=self.isAscending?_lodash2.default.sortBy(hits,"title"):_lodash2.default.sortBy(hits,"title").reverse()},self.makeUrl=function(hit){return $scope.userMakeUrl?$scope.userMakeUrl(hit):$scope.userOnChoose?"#":hit.url},self.preventClick=function($event){$event.preventDefault()},self.onChoose=function(hit,$event){$scope.userOnChoose&&$scope.userOnChoose(hit,$event);var url=self.makeUrl(hit);url&&"#"!==url&&"#"===url.charAt(0)&&($event.preventDefault(),kbnUrl.change(url.substr(1)))},$scope.$watch("filter",function(newFilter){currentFilter=newFilter||"",filterResults()}),$scope.pageFirstItem=0,$scope.pageLastItem=0,$scope.onPageChanged=function(page){$scope.pageFirstItem=page.firstItem,$scope.pageLastItem=page.lastItem},self.selector={enabled:!1,index:-1},self.filterKeyDown=function($event){switch(_key_map.keyMap[$event.keyCode]){case"enter":if(1!==self.hitCount)return;var hit=self.hits[0];if(!hit)return;self.onChoose(hit,$event),$event.preventDefault()}},self.hitKeyDown=function($event,page,paginate){switch(_key_map.keyMap[$event.keyCode]){case"tab":if(!self.selector.enabled)break;self.selector.index=-1,self.selector.enabled=!1,$event.shiftKey?$input.focus():$list.find("li.active a").focus(),$event.preventDefault();break;case"down":if(!self.selector.enabled)break;self.selector.index+1<page.length&&(self.selector.index+=1),$event.preventDefault();break;case"up":if(!self.selector.enabled)break;self.selector.index>0&&(self.selector.index-=1),$event.preventDefault();break;case"right":if(!self.selector.enabled)break;page.number<page.count&&(paginate.goToPage(page.number+1),self.selector.index=0,selectTopHit()),$event.preventDefault();break;case"left":if(!self.selector.enabled)break;page.number>1&&(paginate.goToPage(page.number-1),self.selector.index=0,selectTopHit()),$event.preventDefault();break;case"escape":if(!self.selector.enabled)break;$input.focus(),$event.preventDefault();break;case"enter":if(!self.selector.enabled)break;var hitIndex=(page.number-1)*paginate.perPage+self.selector.index,hit=self.hits[hitIndex];if(!hit)break;self.onChoose(hit,$event),$event.preventDefault();break;case"shift":break;default:$input.focus()}},self.hitBlur=function(){self.selector.index=-1,self.selector.enabled=!1},self.manageObjects=function(type){$location.url("/management/kibana/objects?_a="+_risonNode2.default.encode({tab:type}))},self.hitCountNoun=function(){return(1===self.hitCount?self.properties.noun:self.properties.nouns).toLowerCase()}}}})},function(module,exports,__webpack_require__){"use strict";var _prop_filter=__webpack_require__(672);__webpack_require__(2).uiModules.get("kibana").filter("fieldType",function(){return(0,_prop_filter.propFilter)("type")})},function(module,exports,__webpack_require__){"use strict";function propFilter(prop){return function(list,filters){if(!filters)return filters;if(_lodash2.default.isFunction(filters))return list.filter(function(item){return filters(item[prop])});if(Array.isArray(filters)||(filters=filters.split(",")),_lodash2.default.contains(filters,"*"))return list;var options=filters.reduce(function(options,filter){var type="include",value=filter;return"!"===filter.charAt(0)&&(type="exclude",value=filter.substr(1)),options[type]||(options[type]=[]),options[type].push(value),options},{});return list.filter(function(item){var value=item[prop];return(!options.exclude||!_lodash2.default.contains(options.exclude,value))&&!(options.include&&!_lodash2.default.contains(options.include,value))})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.propFilter=propFilter;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},,,,,function(module,exports,__webpack_require__){"use strict";function AggParams(params){AggParams.Super.call(this,{index:["name"],initialSet:params.map(function(config){var type="field"===config.name?config.name:config.type;return new(paramTypeMap[type]||paramTypeMap._default)(config)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggParams=void 0,__webpack_require__(1141);var _indexed_array=__webpack_require__(131),_field=__webpack_require__(3312),_optioned=__webpack_require__(3314),_regex=__webpack_require__(3315),_string=__webpack_require__(3317),_json=__webpack_require__(3319),_base=__webpack_require__(304),_legacy_class=__webpack_require__(55),paramTypeMap={field:_field.FieldParamType,optioned:_optioned.OptionedParamType,regex:_regex.RegexParamType,string:_string.StringParamType,json:_json.JsonParamType,_default:_base.BaseParamType};(0,_legacy_class.createLegacyClass)(AggParams).inherits(_indexed_array.IndexedArray),AggParams.prototype.write=function(aggConfig,locals){var output={params:{}};return locals=locals||{},this.forEach(function(param){param.write?param.write(aggConfig,output,locals):output.params[param.name]=aggConfig.params[param.name]}),output},exports.AggParams=AggParams},function(module,exports,__webpack_require__){"use strict";function AggTypesAggTypeProvider(){function AggType(config){this.name=config.name,this.dslName=config.dslName||config.name,this.title=config.title,this.makeLabel=config.makeLabel||_lodash2.default.constant(this.name),this.ordered=config.ordered,this.hasNoDsl=!!config.hasNoDsl,this.createFilter=config.createFilter,this.params=config.params||[],this.params instanceof _agg_params.AggParams||(this.params.push({name:"json",type:"json",advanced:!0}),!1!==config.customLabels&&this.params.push({name:"customLabel",type:"string",write:_lodash2.default.noop}),this.params=new _agg_params.AggParams(this.params)),this.getRequestAggs=config.getRequestAggs||_lodash2.default.noop,this.getResponseAggs=config.getResponseAggs||_lodash2.default.noop,this.decorateAggConfig=config.decorateAggConfig||null,this.postFlightRequest=config.postFlightRequest||_lodash2.default.identity,config.getFormat&&(this.getFormat=config.getFormat)}return AggType.prototype.getFormat=function(agg){var field=agg.getField();return field?field.format:_field_formats.fieldFormats.getDefaultInstance("string")},AggType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesAggTypeProvider=AggTypesAggTypeProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_agg_params=__webpack_require__(677),_field_formats=__webpack_require__(99)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsGetResponseAggConfigClassProvider(){function create(parentAgg,props){function ResponseAggConfig(key){this.key=key,this.parentId=this.id;var subId=String(key);subId.indexOf(".")>-1?this.id=this.parentId+"['"+subId.replace(/'/g,"\\'")+"']":this.id=this.parentId+"."+subId}return ResponseAggConfig.prototype=Object.create(parentAgg,{constructor:ResponseAggConfig}),_lodash2.default.assign(ResponseAggConfig.prototype,props),ResponseAggConfig}return function(agg,props){return agg.$$_ResponseAggConfigClass?agg.$$_ResponseAggConfigClass:agg.$$_ResponseAggConfigClass=create(agg,props)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsGetResponseAggConfigClassProvider=AggTypesMetricsGetResponseAggConfigClassProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},,function(module,exports,__webpack_require__){"use strict";function decodeGeoHash(geohash){var BITS=[16,8,4,2,1],BASE32="0123456789bcdefghjkmnpqrstuvwxyz",is_even=1,lat=[],lon=[];lat[0]=-90,lat[1]=90,lon[0]=-180,lon[1]=180;for(var lat_err=90,lon_err=180,i=0;i<geohash.length;i++)for(var c=geohash[i],cd=BASE32.indexOf(c),j=0;j<5;j++){var mask=BITS[j];is_even?(lon_err/=2,refine_interval(lon,cd,mask)):(lat_err/=2,refine_interval(lat,cd,mask)),is_even=!is_even}return lat[2]=(lat[0]+lat[1])/2,lon[2]=(lon[0]+lon[1])/2,{latitude:lat,longitude:lon}}function refine_interval(interval,cd,mask){cd&mask?interval[0]=(interval[0]+interval[1])/2:interval[1]=(interval[0]+interval[1])/2}function geohashCells(precision,axis){for(var cells=1,i=1;i<=precision;i+=1)cells*=i%2===axis?4:8;return cells}function geohashColumns(precision){return geohashCells(precision,0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeGeoHash=decodeGeoHash,exports.geohashColumns=geohashColumns},,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(3581)},,function(module,exports,__webpack_require__){"use strict";__webpack_require__(3612),__webpack_require__(10);var _modules=__webpack_require__(2),_saved_object_loader=__webpack_require__(488),_saved_object_registry=__webpack_require__(311),_module=_modules.uiModules.get("discover/saved_searches",["kibana/notify"]);_saved_object_registry.savedObjectManagementRegistry.register({service:"savedSearches",title:"searches"}),_module.service("savedSearches",function(Promise,config,kbnIndex,createNotifier,SavedSearch,kbnUrl,$http,chrome){var savedSearchLoader=new _saved_object_loader.SavedObjectLoader(SavedSearch,kbnIndex,kbnUrl,$http,chrome);return savedSearchLoader.loaderProperties={name:"searches",noun:"Saved Search",nouns:"saved searches"},savedSearchLoader.urlFor=function(id){return kbnUrl.eval("#/discover/{{id}}",{id:id})},savedSearchLoader})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createNumeralFormat(FieldFormat,opts){var NumeralFormat=function(_FieldFormat){function NumeralFormat(params,getConfig){_classCallCheck(this,NumeralFormat);var _this=_possibleConstructorReturn(this,(NumeralFormat.__proto__||Object.getPrototypeOf(NumeralFormat)).call(this,params));return _this.getConfig=getConfig,_this}return _inherits(NumeralFormat,_FieldFormat),_createClass(NumeralFormat,[{key:"getParamDefaults",value:function(){return _lodash2.default.has(opts,"getParamDefaults")?opts.getParamDefaults(this.getConfig):{pattern:this.getConfig("format:"+opts.id+":defaultPattern")}}},{key:"_convert",value:function(val){if(val===-1/0)return"-∞";if(val===1/0)return"+∞";if("number"!=typeof val&&(val=parseFloat(val)),isNaN(val))return"";var previousLocale=_numeral2.default.language(),defaultLocale=this.getConfig&&this.getConfig("format:number:defaultLocale")||"en";_numeral2.default.language(defaultLocale);var formatted=numeralInst.set(val).format(this.param("pattern"));return _numeral2.default.language(previousLocale),opts.afterConvert?opts.afterConvert.call(this,formatted):formatted}}]),NumeralFormat}(FieldFormat);return NumeralFormat.id=opts.id,NumeralFormat.title=opts.title,NumeralFormat.fieldType="number",opts.prototype&&_lodash2.default.assign(NumeralFormat.prototype,opts.prototype),NumeralFormat}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createNumeralFormat=createNumeralFormat;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_numeral=__webpack_require__(82),_numeral2=_interopRequireDefault(_numeral),_languages=__webpack_require__(3615),_languages2=_interopRequireDefault(_languages),numeralInst=(0,_numeral2.default)();_languages2.default.forEach(function(numeralLanguage){_numeral2.default.language(numeralLanguage.id,numeralLanguage.lang)})},,function(module,exports,__webpack_require__){"use strict";function timezoneProvider(config){return function(){if(config.isDefault("dateFormat:tz")){var detectedTimezone=tzDetect.determine().name();return detectedTimezone||(0,_moment2.default)().format("Z")}return config.get("dateFormat:tz","Browser")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.timezoneProvider=timezoneProvider;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment),tzDetect=__webpack_require__(680).jstz},function(module,exports,__webpack_require__){"use strict";var _panel_registry=__webpack_require__(110),_panel_registry2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_panel_registry);__webpack_require__(2).get("apps/timelion",[]).directive("chart",function(Private){return{restrict:"A",scope:{seriesList:"=chart",search:"=",interval:"="},link:function($scope,$elem){function render(seriesList){if(panelScope.$destroy(),seriesList){seriesList.render=seriesList.render||{type:"timechart"};var panelSchema=panelRegistry.byName[seriesList.render.type];if(!panelSchema)return void $elem.text("No such panel type: "+seriesList.render.type);panelScope=$scope.$new(!0),panelScope.seriesList=seriesList,panelScope.interval=$scope.interval,panelScope.search=$scope.search,panelSchema.render(panelScope,$elem)}}var panelRegistry=Private(_panel_registry2.default),panelScope=$scope.$new(!0);$scope.$watch("seriesList",render)}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimelionVisProvider(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider),timelionRequestHandler=Private(_timelion_request_handler.TimelionRequestHandlerProvider);return VisFactory.createAngularVisualization({name:"timelion",title:"Timelion",image:_iconTimelion2.default,description:"Build time-series using functional expressions",category:_vis_category.CATEGORY.TIME,visConfig:{defaults:{expression:".es(*)",interval:"auto"},template:_timelion_vis2.default},editorConfig:{optionsTemplate:_timelion_vis_params2.default,defaultSize:_editor_size.DefaultEditorSize.MEDIUM},requestHandler:timelionRequestHandler.handler,responseHandler:"none",options:{showIndexSelection:!1,showQueryBar:!1,showFilterBar:!1}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=TimelionVisProvider;var _vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_iconTimelion=__webpack_require__(3789),_iconTimelion2=_interopRequireDefault(_iconTimelion),_vis_types=__webpack_require__(94),_timelion_request_handler=__webpack_require__(3790),_editor_size=__webpack_require__(495);__webpack_require__(3791),__webpack_require__(1212),__webpack_require__(3792);var _timelion_vis=__webpack_require__(3793),_timelion_vis2=_interopRequireDefault(_timelion_vis),_timelion_vis_params=__webpack_require__(3794),_timelion_vis_params2=_interopRequireDefault(_timelion_vis_params);_vis_types.VisTypesRegistryProvider.register(TimelionVisProvider),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReactVisTypeProvider=exports.VislibVisTypeProvider=exports.AngularVisTypeProvider=exports.VisTypeProvider=void 0;var _base_vis_type=__webpack_require__(1218),_angular_vis_type=__webpack_require__(3704),_vislib_vis_type=__webpack_require__(3705),_react_vis_type=__webpack_require__(3788);exports.VisTypeProvider=_base_vis_type.VisTypeProvider,exports.AngularVisTypeProvider=_angular_vis_type.AngularVisTypeProvider,exports.VislibVisTypeProvider=_vislib_vis_type.VislibVisTypeProvider,exports.ReactVisTypeProvider=_react_vis_type.ReactVisTypeProvider},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_vislib_basic_options=__webpack_require__(3706),_vislib_basic_options2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_vislib_basic_options);_modules.uiModules.get("kibana").directive("vislibBasicOptions",function(){return{restrict:"E",template:_vislib_basic_options2.default,replace:!0}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibDataProvider(Private){var _injectZeros=Private(_inject_zeros.VislibComponentsZeroInjectionInjectZerosProvider),orderKeys=Private(_ordered_x_keys.VislibComponentsZeroInjectionOrderedXKeysProvider),_getLabels2=Private(_labels.VislibComponentsLabelsLabelsProvider),color=Private(_color.VislibComponentsColorColorProvider);return function(){function Data(data,uiState){_classCallCheck(this,Data),this.uiState=uiState,this.data=this.copyDataObj(data),this.type=this.getDataType(),this.labels=this._getLabels(this.data),this.color=this.labels?color(this.labels,uiState.get("vis.colors")):void 0,this._normalizeOrdered()}return _createClass(Data,[{key:"copyDataObj",value:function(data){var copyChart=function(data){var newData={};return Object.keys(data).forEach(function(key){newData[key]="series"!==key?data[key]:data[key].map(function(seri){return{label:seri.label,aggLabel:seri.aggLabel,aggId:seri.aggId,values:seri.values.map(function(val){var newVal=_lodash2.default.clone(val);return newVal.aggConfig=val.aggConfig,newVal.aggConfigResult=val.aggConfigResult,newVal.extraMetrics=val.extraMetrics,newVal.series=val.series||seri.label,newVal})}})}),newData};if(!data.series){var newData={};return Object.keys(data).forEach(function(key){["rows","columns"].includes(key)?newData[key]=data[key].map(function(chart){return copyChart(chart)}):newData[key]=data[key]}),newData}return copyChart(data)}},{key:"_getLabels",value:function(data){return"series"===this.type?_getLabels2(data):this.pieNames()}},{key:"getDataType",value:function(){var data=this.getVisData(),type=void 0;return data.forEach(function(obj){obj.series?type="series":obj.slices?type="slices":obj.geoJson&&(type="geoJson")}),type}},{key:"chartData",value:function(){if(!this.data.series){var arr=this.data.rows?this.data.rows:this.data.columns;return _lodash2.default.toArray(arr)}return[this.data]}},{key:"shouldBeStacked",value:function(seriesConfig){return!!seriesConfig&&"stacked"===seriesConfig.mode}},{key:"getStackedSeries",value:function(chartConfig,axis,series){var _this=this,first=arguments.length>3&&void 0!==arguments[3]&&arguments[3],matchingSeries=[];return chartConfig.series.forEach(function(seriArgs,i){(seriArgs.valueAxis===axis.axisConfig.get("id")||!seriArgs.valueAxis&&first)&&(_this.shouldBeStacked(seriArgs)||axis.axisConfig.get("scale.stacked"))&&matchingSeries.push(series[i])}),matchingSeries}},{key:"stackChartData",value:function(handler,data,chartConfig){var _this2=this,stackedData={};return handler.valueAxes.forEach(function(axis,i){var id=axis.axisConfig.get("id");stackedData[id]=_this2.getStackedSeries(chartConfig,axis,data,0===i),stackedData[id]=_this2.injectZeros(stackedData[id],handler.visConfig.get("orderBucketsBySum",!1)),axis.axisConfig.set("stackedSeries",stackedData[id].length),axis.stack(_lodash2.default.map(stackedData[id],"values"))}),stackedData}},{key:"stackData",value:function(handler){var _this3=this,data=this.data;if(data.rows||data.columns){(data.rows?data.rows:data.columns).forEach(function(chart,i){_this3.stackChartData(handler,chart.series,handler.visConfig.get("charts["+i+"]"))})}else this.stackChartData(handler,data.series,handler.visConfig.get("charts[0]"))}},{key:"getVisData",value:function(){return this.data.rows?this.data.rows:this.data.columns?this.data.columns:[this.data]}},{key:"getGeoExtents",value:function(){var visData=this.getVisData();return _lodash2.default.reduce(_lodash2.default.pluck(visData,"geoJson.properties"),function(minMax,props){return{min:Math.min(props.min,minMax.min),max:Math.max(props.max,minMax.max)}},{min:1/0,max:-1/0})}},{key:"pieData",value:function(){return this.data.slices?[this.data]:this.data.rows?this.data.rows:this.data.columns}},{key:"get",value:function(thing,def){var source=(this.data.rows||this.data.columns||[this.data])[0];return _lodash2.default.get(source,thing,def)}},{key:"hasNullValues",value:function(){return this.chartData().some(function(chart){return chart.series.some(function(obj){return obj.values.some(function(d){return null===d.y})})})}},{key:"flatten",value:function(){return(0,_lodash2.default)(this.chartData()).pluck("series").flattenDeep().pluck("values").flattenDeep().value()}},{key:"validateUserDefinedYMin",value:function(val){if(!_lodash2.default.isNumber(val))throw new Error("validateUserDefinedYMin expects a number");return val}},{key:"returnNames",value:function(array,index,columns){var names=[],self=this;return _lodash2.default.forEach(array,function(obj){if(names.push({label:obj.name,values:obj,index:index}),obj.children){var plusIndex=index+1;_lodash2.default.forEach(self.returnNames(obj.children,plusIndex,columns),function(namedObj){names.push(namedObj)})}}),names}},{key:"getNames",value:function(data,columns){var slices=data.slices;if(slices.children){var namedObj=this.returnNames(slices.children,0,columns);return(0,_lodash2.default)(namedObj).sortBy(function(obj){return obj.index}).unique(function(d){return d.label}).value()}}},{key:"_removeZeroSlices",value:function(slices){var self=this;return slices.children?(slices=_lodash2.default.clone(slices),slices.children=slices.children.reduce(function(children,child){return 0!==child.size&&children.push(self._removeZeroSlices(child)),children},[]),slices):slices}},{key:"pieNames",value:function(data){var self=this,names=[];return _lodash2.default.forEach(data,function(obj){var columns=obj.raw?obj.raw.columns:void 0;obj.slices=self._removeZeroSlices(obj.slices),_lodash2.default.forEach(self.getNames(obj,columns),function(name){names.push(name)})}),_lodash2.default.uniq(names,"label")}},{key:"injectZeros",value:function(data){var orderBucketsBySum=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _injectZeros(data,this.data,orderBucketsBySum)}},{key:"xValues",value:function(){var orderBucketsBySum=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return orderKeys(this.data,orderBucketsBySum)}},{key:"getLabels",value:function(){return _getLabels2(this.data)}},{key:"getColorFunc",value:function(){if("slices"===this.type)return this.getPieColorFunc();var defaultColors=this.uiState.get("vis.defaultColors"),overwriteColors=this.uiState.get("vis.colors"),colors=defaultColors?_lodash2.default.defaults({},overwriteColors,defaultColors):overwriteColors;return color(this.getLabels(),colors)}},{key:"getPieColorFunc",value:function(){return color(this.pieNames(this.getVisData()).map(function(d){return d.label}),this.uiState.get("vis.colors"))}},{key:"_normalizeOrdered",value:function(){var self=this;this.getVisData().forEach(function(d){if(d.ordered&&d.ordered.date){var missingMin=null==d.ordered.min,missingMax=null==d.ordered.max;if(missingMax||missingMin){var extent=_d2.default.extent(self.xValues());missingMin&&(d.ordered.min=extent[0]),missingMax&&(d.ordered.max=extent[1])}}})}},{key:"mapDataExtents",value:function(series){var values=_lodash2.default.map(series.rows,function(row){return row[row.length-1]});return[_lodash2.default.min(values),_lodash2.default.max(values)]}},{key:"maxNumberOfSeries",value:function(){return this.chartData().reduce(function(max,chart){return Math.max(max,chart.series.length)},0)}}]),Data}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibDataProvider=VislibLibDataProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_inject_zeros=__webpack_require__(3725),_ordered_x_keys=__webpack_require__(1220),_labels=__webpack_require__(3730),_color=__webpack_require__(3734)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _tooltip=__webpack_require__(3759);Object.defineProperty(exports,"Tooltip",{enumerable:!0,get:function(){return _tooltip.Tooltip}}),Object.defineProperty(exports,"TooltipProvider",{enumerable:!0,get:function(){return _tooltip.TooltipProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibVisualizationsChartProvider(Private){var Dispatch=Private(_dispatch.VislibLibDispatchProvider),Tooltip=Private(_tooltip.TooltipProvider);return function(){function Chart(handler,el,chartData){_classCallCheck(this,Chart),this.handler=handler,this.chartEl=el,this.chartData=chartData,this.tooltips=[];var events=this.events=new Dispatch(handler);if(this.handler.visConfig&&this.handler.visConfig.get("addTooltip",!1)){var $el=this.handler.el,formatter=this.handler.data.get("tooltipFormatter");this.tooltip=new Tooltip("chart",$el,formatter,events),this.tooltips.push(this.tooltip)}this._addIdentifier=_lodash2.default.bind(this._addIdentifier,this)}return _createClass(Chart,[{key:"render",value:function(){var selection=_d2.default.select(this.chartEl);selection.selectAll("*").remove(),selection.call(this.draw())}},{key:"_addIdentifier",value:function(selection,labelProp){function resolveLabel(datum){return 1===labels.length?labels[0]:datum[0]?datum[0][labelProp]:datum[labelProp]}labelProp=labelProp||"label";var labels=this.handler.data.labels;selection.each(function(datum){var label=resolveLabel(datum);null!=label&&(0,_data_label.dataLabel)(this,label)})}},{key:"destroy",value:function(){var selection=_d2.default.select(this.chartEl);this.events.removeAllListeners(),this.tooltips.forEach(function(tooltip){tooltip.destroy()}),selection.remove()}}]),Chart}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsChartProvider=VislibVisualizationsChartProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_data_label=__webpack_require__(3762),_dispatch=__webpack_require__(3763),_tooltip=__webpack_require__(701)},function(module,exports,__webpack_require__){"use strict";function enforceBounds(x){return x<0?0:x>1?1:x}function interpolateLinearly(x,values){var xValues=[],rValues=[],gValues=[],bValues=[];values.forEach(function(value){xValues.push(value[0]),rValues.push(value[1][0]),gValues.push(value[1][1]),bValues.push(value[1][2])});for(var i=1;xValues[i]<x;)i++;var width=Math.abs(xValues[i-1]-xValues[i]),scalingFactor=(x-xValues[i-1])/width,r=rValues[i-1]+scalingFactor*(rValues[i]-rValues[i-1]),g=gValues[i-1]+scalingFactor*(gValues[i]-gValues[i-1]),b=bValues[i-1]+scalingFactor*(bValues[i]-bValues[i-1]);return[enforceBounds(r),enforceBounds(g),enforceBounds(b)]}function getHeatmapColors(value,colorSchemaName){if(!_lodash2.default.isNumber(value)||value<0||value>1)throw new Error("heatmap_color expects a number from 0 to 1 as first parameter");var colorSchema=_colormaps.vislibColorMaps[colorSchemaName];if(!colorSchema)throw new Error("invalid colorSchemaName provided");var color=interpolateLinearly(value,colorSchema);return"rgb("+Math.round(255*color[0])+","+Math.round(255*color[1])+","+Math.round(255*color[2])+")"}function drawColormap(colorSchema){var width=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,height=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,canvas=document.createElement("canvas");canvas.width=width,canvas.height=height;for(var ctx=canvas.getContext("2d"),i=0;i<=width;i++)ctx.fillStyle=getHeatmapColors(i/width,colorSchema),ctx.fillRect(i,0,1,height);return canvas}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHeatmapColors=getHeatmapColors;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_colormaps=__webpack_require__(315);getHeatmapColors.prototype.drawColormap=drawColormap},function(module,exports,__webpack_require__){"use strict";function dashboardContextProvider(Private,getAppState){return function(){var appState=getAppState(),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider),bool={must:[],must_not:[]};if(!appState)return{bool:bool};var filterBarFilters=queryFilter.getFilters(),queryBarQuery=appState.query;if("lucene"===queryBarQuery.language){var query=(0,_lucene_string_to_dsl.luceneStringToDsl)(queryBarQuery.query);query&&bool.must.push(query)}return _lodash2.default.each(filterBarFilters,function(filter){var esFilter=_lodash2.default.omit(filter,function(val,key){return"meta"===key||"$"===key[0]});filter.meta.disabled||(filter.meta.negate?(bool.must_not=bool.must_not||[],(esFilter.query||esFilter)&&bool.must_not.push((0,_migrate_filter.migrateFilter)(esFilter.query||esFilter))):(bool.must=bool.must||[],(esFilter.query||esFilter)&&bool.must.push((0,_migrate_filter.migrateFilter)(esFilter.query||esFilter))))}),{bool:bool}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dashboardContextProvider=dashboardContextProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_query_filter=__webpack_require__(164);__webpack_require__(355);var _lucene_string_to_dsl=__webpack_require__(456),_migrate_filter=__webpack_require__(641)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4110)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterUtils=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment);exports.FilterUtils=function(){function FilterUtils(){_classCallCheck(this,FilterUtils)}return _createClass(FilterUtils,null,[{key:"isQueryFilter",value:function(filter){return filter.query&&!filter.meta}},{key:"getDashboardFilters",value:function(dashboard){return dashboard.searchSource.getOwn("filter")}},{key:"getQueryFilterForDashboard",value:function(dashboard){if(dashboard.searchSource.getOwn("query"))return dashboard.searchSource.getOwn("query");var dashboardFilters=this.getDashboardFilters(dashboard),dashboardQueryFilter=_lodash2.default.find(dashboardFilters,this.isQueryFilter);return dashboardQueryFilter?dashboardQueryFilter.query:""}},{key:"getFilterBarsForDashboard",value:function(dashboard){return _lodash2.default.reject(this.getDashboardFilters(dashboard),this.isQueryFilter)}},{key:"convertTimeToString",value:function(time){return"string"==typeof time?time:(0,_moment2.default)(time).toString()}},{key:"areTimesEqual",value:function(timeA,timeB){return this.convertTimeToString(timeA)===this.convertTimeToString(timeB)}},{key:"cleanFiltersForComparison",value:function(filters){return _lodash2.default.map(filters,function(filter){return _lodash2.default.omit(filter,["$$hashKey","$state"])})}}]),FilterUtils}()},,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _embeddable_factory=__webpack_require__(4230);Object.defineProperty(exports,"EmbeddableFactory",{enumerable:!0,get:function(){return _embeddable_factory.EmbeddableFactory}});var _embeddable=__webpack_require__(4231);Object.defineProperty(exports,"Embeddable",{enumerable:!0,get:function(){return _embeddable.Embeddable}});var _embeddable_factories_registry=__webpack_require__(514);Object.defineProperty(exports,"EmbeddableFactoriesRegistryProvider",{enumerable:!0,get:function(){return _embeddable_factories_registry.EmbeddableFactoriesRegistryProvider}});var _container_api=__webpack_require__(4232);Object.defineProperty(exports,"ContainerAPI",{enumerable:!0,get:function(){return _container_api.ContainerAPI}})},,function(module,exports,__webpack_require__){"use strict";function decorateWithKey(agg,bucket,key){var decorated=_lodash2.default.cloneDeep(bucket);return decorated.key=agg?agg.getKey(bucket,key):key,decorated}function extractBuckets(bucket,agg){if(bucket){if(_lodash2.default.isPlainObject(bucket.buckets))return _lodash2.default.map(bucket.buckets,function(value,key){return decorateWithKey(agg,value,key)});if(_lodash2.default.isArray(bucket.buckets))return bucket.buckets.map(function(value){return decorateWithKey(agg,value,value.key)})}return bucket&&bucket.buckets||[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractBuckets=extractBuckets;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function tabifyAggResponse(aggs,esResponse){var respOpts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},write=new _response_writer.TabbedAggResponseWriter(aggs,respOpts);return collectBucket(write,_lodash2.default.assign({},esResponse.aggregations,{doc_count:esResponse.hits.total}),"",1),write.response()}function collectBucket(write,bucket,key,aggScale){var agg=write.aggStack.shift(),aggInfo=agg.write();switch(aggScale*=aggInfo.metricScale||1,agg.schema.group){case"buckets":var buckets=new _buckets.TabifyBuckets(bucket[agg.id],agg.params);if(buckets.length){write.canSplit&&"split"===agg.schema.name?write.split(agg,buckets,function(subBucket,key){collectBucket(write,subBucket,agg.getKey(subBucket,key),aggScale)}):buckets.forEach(function(subBucket,key){write.cell(agg,agg.getKey(subBucket,key),function(){collectBucket(write,subBucket,agg.getKey(subBucket,key),aggScale)},subBucket.filters)})}else write.partialRows&&write.metricsForAllBuckets&&write.minimalColumns?(write.aggStack.unshift(agg),passEmptyBuckets(write,bucket,key,aggScale),write.aggStack.shift()):write.row();break;case"metrics":var value=agg.getValue(bucket);1!==aggScale&&(value*=aggScale),write.cell(agg,value,function(){write.aggStack.length?collectBucket(write,bucket,key,aggScale):write.row()})}write.aggStack.unshift(agg)}function passEmptyBuckets(write,bucket,key,aggScale){var agg=write.aggStack.shift();switch(agg.schema.group){case"metrics":return write.aggStack.unshift(agg),void collectBucket(write,bucket,key,aggScale);case"buckets":write.cell(agg,"",function(){passEmptyBuckets(write,bucket,key,aggScale)})}write.aggStack.unshift(agg)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tabifyAggResponse=tabifyAggResponse;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_response_writer=__webpack_require__(4289),_buckets=__webpack_require__(4292)},,function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});var CONTROL_TYPES=exports.CONTROL_TYPES={LIST:"list",RANGE:"range"},getDefaultOptions=(exports.setControl=function(controls,controlIndex,control){return[].concat(_toConsumableArray(controls.slice(0,controlIndex)),[control],_toConsumableArray(controls.slice(controlIndex+1)))},exports.addControl=function(controls,control){return[].concat(_toConsumableArray(controls),[control])},exports.moveControl=function(controls,controlIndex,direction){var newIndex=void 0;if((newIndex=direction>=0?controlIndex+1:controlIndex-1)<0)return[].concat(_toConsumableArray(controls.slice(1)),[controls[0]]);if(newIndex>=controls.length){var lastItemIndex=controls.length-1;return[controls[lastItemIndex]].concat(_toConsumableArray(controls.slice(0,lastItemIndex)))}var swapped=controls.slice(),temp=swapped[newIndex];return swapped[newIndex]=swapped[controlIndex],swapped[controlIndex]=temp,swapped},exports.removeControl=function(controls,controlIndex){return[].concat(_toConsumableArray(controls.slice(0,controlIndex)),_toConsumableArray(controls.slice(controlIndex+1)))},exports.getDefaultOptions=function(type){var defaultOptions={};switch(type){case CONTROL_TYPES.RANGE:defaultOptions.decimalPlaces=0,defaultOptions.step=1;break;case CONTROL_TYPES.LIST:defaultOptions.type="terms",defaultOptions.multiselect=!0,defaultOptions.size=5,defaultOptions.order="desc"}return defaultOptions});exports.newControl=function(type){return{id:(new Date).getTime().toString(),indexPattern:"",fieldName:"",parent:"",label:"",type:type,options:getDefaultOptions(type)}},exports.getTitle=function(controlParams,controlIndex){var title=controlParams.type+": "+controlIndex;return controlParams.label?title=""+controlParams.label:controlParams.fieldName&&(title=""+controlParams.fieldName),title}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.defaultFeedbackMessage='Have feedback? Please create an issue in \n<a href="https://github.com/elastic/kibana/issues/new" rel="noopener noreferrer" target="_blank">GitHub</a>.'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocViewsRegistryProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_registry=__webpack_require__(92);exports.DocViewsRegistryProvider=(0,_registry.uiRegistry)({name:"docViews",index:["name"],order:["order"],constructor:function(){this.forEach(function(docView){docView.shouldShow=docView.shouldShow||_lodash2.default.constant(!0),docView.name=docView.name||docView.title})}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4379)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisRequestHandlersRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.VisRequestHandlersRegistryProvider=(0,_registry.uiRegistry)({name:"visRequestHandlers",index:["name"],order:["title"]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpyModesRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.SpyModesRegistryProvider=(0,_registry.uiRegistry)({name:"spyModes",index:["name"],order:["order"]})},function(module,exports,__webpack_require__){"use strict";function calculateLabel(metric,metrics){if(!metric)return"Unknown";if(metric.alias)return metric.alias;if("count"===metric.type)return"Count";if("calculation"===metric.type)return"Bucket Script";if("math"===metric.type)return"Math";if("series_agg"===metric.type)return"Series Agg ("+metric.function+")";if("filter_ratio"===metric.type)return"Filter Ratio";if("static"===metric.type)return"Static Value of "+metric.value;if("percentile_rank"===metric.type)return _agg_lookup2.default[metric.type]+" ("+metric.value+") of "+metric.field;if((0,_lodash.includes)(paths,metric.type)){var additionalLabel="",targetMetric=metrics.find(function(m){return(0,_lodash.startsWith)(metric.field,m.id)}),targetLabel=calculateLabel(targetMetric,metrics);if(targetMetric&&"percentile"===targetMetric.type){var percentileValueMatch=/\[([0-9\.]+)\]$/,matches=metric.field.match(percentileValueMatch);matches&&(additionalLabel+=" ("+matches[1]+")")}return _agg_lookup2.default[metric.type]+" of "+targetLabel+additionalLabel}return _agg_lookup2.default[metric.type]+" of "+metric.field}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=calculateLabel;var _lodash=__webpack_require__(1),_agg_lookup=__webpack_require__(1371),_agg_lookup2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_agg_lookup),paths=["cumulative_sum","derivative","moving_average","avg_bucket","sum_bucket","min_bucket","max_bucket","std_deviation_bucket","variance_bucket","sum_of_squares_bucket","serial_diff","positive_only"];module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function calculateCorrdinates(innerRef,resizeRef,state){var inner=(0,_reactDom.findDOMNode)(innerRef),resize=(0,_reactDom.findDOMNode)(resizeRef),scale=state.scale;scale=resize.clientWidth-resize.clientHeight<0?resize.clientWidth/inner.clientWidth:resize.clientHeight/inner.clientHeight;var _calcDimensions=(0,_calc_dimensions2.default)(inner,scale),_calcDimensions2=_slicedToArray(_calcDimensions,2),newWidth=_calcDimensions2[0],newHeight=_calcDimensions2[1];newWidth>resize.clientWidth&&(scale=resize.clientWidth/inner.clientWidth),newHeight>resize.clientHeight&&(scale=resize.clientHeight/inner.clientHeight);var _calcDimensions3=(0,_calc_dimensions2.default)(inner,scale),_calcDimensions4=_slicedToArray(_calcDimensions3,2);newWidth=_calcDimensions4[0],newHeight=_calcDimensions4[1];var translateX=(newWidth-inner.clientWidth)/2,translateY=(newHeight-inner.clientHeight)/2;return{scale:scale,top:Math.floor((resize.clientHeight-newHeight)/2),left:Math.floor((resize.clientWidth-newWidth)/2),translateY:translateY,translateX:translateX}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.default=calculateCorrdinates;var _reactDom=__webpack_require__(17),_calc_dimensions=__webpack_require__(4439),_calc_dimensions2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_calc_dimensions);module.exports=exports.default},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_durations=__webpack_require__(1365),durationFormatTest=/[pnumshdwMY]+,[pnumshdwMY]+/,DataFormatPicker=function(_Component){function DataFormatPicker(props){_classCallCheck(this,DataFormatPicker);var _this=_possibleConstructorReturn(this,(DataFormatPicker.__proto__||Object.getPrototypeOf(DataFormatPicker)).call(this,props));_this.handleChange=_this.handleChange.bind(_this),_this.handleCustomChange=_this.handleCustomChange.bind(_this);var from="ms",to="ms",decimals=2;if(durationFormatTest.test(props.value)){var _props$value$split=props.value.split(","),_props$value$split2=_slicedToArray(_props$value$split,3);from=_props$value$split2[0],to=_props$value$split2[1],decimals=_props$value$split2[2]}return _this.state={from:from,to:to,decimals:decimals},_this}return _inherits(DataFormatPicker,_Component),_createClass(DataFormatPicker,[{key:"handleCustomChange",value:function(){this.props.onChange({value:this.custom&&this.custom.value||""})}},{key:"handleChange",value:function(value){if("custom"===value.value)this.handleCustomChange();else if("duration"===value.value){var _state=this.state,from=_state.from,to=_state.to,decimals=_state.decimals;this.props.onChange({value:from+","+to+","+decimals})}else this.props.onChange(value)}},{key:"handleDurationChange",value:function(name){var _this2=this;return function(value){"decimals"===name&&(value=_this2.decimals),_this2.setState(_defineProperty({},name,value.value),function(){var _state2=_this2.state,from=_state2.from,to=_state2.to,decimals=_state2.decimals;_this2.props.onChange({value:from+","+to+","+decimals})})}}},{key:"render",value:function(){var _this3=this,value=this.props.value||"",defaultValue=value;_lodash2.default.includes(["bytes","number","percent"],value)||(defaultValue="custom"),durationFormatTest.test(value)&&(defaultValue="duration");var options=[{label:"Bytes",value:"bytes"},{label:"Number",value:"number"},{label:"Percent",value:"percent"},{label:"Duration",value:"duration"},{label:"Custom",value:"custom"}],custom=void 0;if("duration"===defaultValue){var _value$split=value.split(","),_value$split2=_slicedToArray(_value$split,3),from=_value$split2[0],to=_value$split2[1],decimals=_value$split2[2];return _react2.default.createElement("div",{className:"vis_editor__data_format_picker-container"},_react2.default.createElement("div",{className:"vis_editor__label"},this.props.label),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{clearable:!1,value:defaultValue,options:options,onChange:this.handleChange})),_react2.default.createElement("div",{className:"vis_editor__label"},"From"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{clearable:!1,value:from,options:_durations.durationInputOptions,onChange:this.handleDurationChange("from")})),_react2.default.createElement("div",{className:"vis_editor__label"},"To"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{clearable:!1,value:to,options:_durations.durationOutputOptions,onChange:this.handleDurationChange("to")})),_react2.default.createElement("div",{className:"vis_editor__label"},"Decimal Places"),_react2.default.createElement("input",{style:{width:60},className:"vis_editor__input",defaultValue:decimals,ref:function(el){return _this3.decimals=el},onChange:this.handleDurationChange("decimals"),type:"text"}))}return"custom"===defaultValue&&(custom=_react2.default.createElement("div",{className:"vis_editor__data_format_picker-custom_row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Format String (See ",_react2.default.createElement("a",{href:"http://numeraljs.com/#format",target:"_BLANK"},"Numeral.js"),")"),_react2.default.createElement("input",{style:{width:100},className:"vis_editor__input",defaultValue:value,ref:function(el){return _this3.custom=el},onChange:this.handleCustomChange,type:"text"}))),_react2.default.createElement("div",{className:"vis_editor__data_format_picker-container"},_react2.default.createElement("div",{className:"vis_editor__label"},this.props.label),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{clearable:!1,value:defaultValue,options:options,onChange:this.handleChange})),custom)}}]),DataFormatPicker}(_react.Component);DataFormatPicker.defaultProps={label:"Data Formatter"},DataFormatPicker.propTypes={value:_propTypes2.default.string,label:_propTypes2.default.string,onChange:_propTypes2.default.func},exports.default=DataFormatPicker,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=__webpack_require__(68),_uuid2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_uuid);exports.default=function(){return{id:_uuid2.default.v1(),type:"count"}},module.exports=exports.default},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncatedColorMaps=void 0;var _colormaps=__webpack_require__(315),truncatedColorMaps=exports.truncatedColorMaps={},colormaps=_colormaps.vislibColorMaps;for(var key in colormaps)colormaps.hasOwnProperty(key)&&(truncatedColorMaps[key]=colormaps[key].slice(Math.floor(colormaps[key].length/4)))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_markdownIt=__webpack_require__(344),_markdownIt2=_interopRequireDefault(_markdownIt),_url=__webpack_require__(105),markdownIt=new _markdownIt2.default({html:!1,linkify:!0});_modules.uiModules.get("kibana").service("serviceSettings",function($http,$sanitize,mapConfig,tilemapsConfig,kbnVersion){var attributionFromConfig=$sanitize(markdownIt.render(tilemapsConfig.deprecated.config.options.attribution||"")),tmsOptionsFromConfig=_lodash2.default.assign({},tilemapsConfig.deprecated.config.options,{attribution:attributionFromConfig}),extendUrl=function(url,props){return(0,_url.modifyUrl)(url,function(parsed){return _lodash2.default.merge(parsed,props)})},unescapeTemplateVars=function(url){var ENCODED_TEMPLATE_VARS_RE=/%7B(\w+?)%7D/g;return url.replace(ENCODED_TEMPLATE_VARS_RE,function(total,varName){return"{"+varName+"}"})};return new(function(){function ServiceSettings(){_classCallCheck(this,ServiceSettings),this._queryParams={my_app_version:kbnVersion},this._loadCatalogue=null,this._loadFileLayers=null,this._loadTMSServices=null,this._invalidateSettings()}return _createClass(ServiceSettings,[{key:"_invalidateSettings",value:function(){var _this=this;this._loadCatalogue=_lodash2.default.once(_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mapConfig.includeElasticMapsService){_context.next=2;break}return _context.abrupt("return",{services:[]});case 2:return _context.prev=2,_context.next=5,_this._getManifest(mapConfig.manifestServiceUrl,_this._queryParams);case 5:return response=_context.sent,_context.abrupt("return",response.data);case 9:throw _context.prev=9,_context.t0=_context.catch(2),_context.t0||(_context.t0=new Error("Unkown error")),_context.t0 instanceof Error||(_context.t0=new Error(_context.t0.data||"status "+(_context.t0.statusText||_context.t0.status))),new Error("Could not retrieve manifest from the tile service: "+_context.t0.message);case 14:case"end":return _context.stop()}},_callee,_this,[[2,9]])}))),this._loadFileLayers=_lodash2.default.once(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var catalogue,fileService,manifest,layers;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this._loadCatalogue();case 2:if(catalogue=_context2.sent,fileService=catalogue.services.find(function(service){return"file"===service.type})){_context2.next=6;break}return _context2.abrupt("return",[]);case 6:return _context2.next=8,_this._getManifest(fileService.manifest,_this._queryParams);case 8:return manifest=_context2.sent,layers=manifest.data.layers.filter(function(layer){return"geojson"===layer.format||"topojson"===layer.format}),layers.forEach(function(layer){layer.url=_this._extendUrlWithParams(layer.url),layer.attribution=$sanitize(markdownIt.render(layer.attribution))}),_context2.abrupt("return",layers);case 12:case"end":return _context2.stop()}},_callee2,_this)}))),this._loadTMSServices=_lodash2.default.once(_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var catalogue,tmsService,tmsManifest,preppedTMSServices;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this._loadCatalogue();case 2:if(catalogue=_context3.sent,tmsService=catalogue.services.find(function(service){return"tms"===service.type})){_context3.next=6;break}return _context3.abrupt("return",[]);case 6:return _context3.next=8,_this._getManifest(tmsService.manifest,_this._queryParams);case 8:return tmsManifest=_context3.sent,preppedTMSServices=tmsManifest.data.services.map(function(tmsService){var preppedService=_lodash2.default.cloneDeep(tmsService);return preppedService.attribution=$sanitize(markdownIt.render(preppedService.attribution)),preppedService.subdomains=preppedService.subdomains||[],preppedService.url=_this._extendUrlWithParams(preppedService.url),preppedService}),_context3.abrupt("return",preppedTMSServices);case 11:case"end":return _context3.stop()}},_callee3,_this)})))}},{key:"_extendUrlWithParams",value:function(url){return unescapeTemplateVars(extendUrl(url,{query:this._queryParams}))}},{key:"_getManifest",value:function(){function _getManifest(_x){return _ref4.apply(this,arguments)}var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(manifestUrl){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",$http({url:extendUrl(manifestUrl,{query:this._queryParams}),method:"GET"}));case 1:case"end":return _context4.stop()}},_callee4,this)}));return _getManifest}()},{key:"getFileLayers",value:function(){function getFileLayers(){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this._loadFileLayers();case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}},_callee5,this)}));return getFileLayers}()},{key:"getTMSServices",value:function(){function getTMSServices(){return _ref6.apply(this,arguments)}var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var allServices,tmsService,servicesFromManifest;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return allServices=[],tilemapsConfig.deprecated.isOverridden&&(tmsService=_lodash2.default.cloneDeep(tmsOptionsFromConfig),tmsService.url=tilemapsConfig.deprecated.config.url,tmsService.id="TMS in config/kibana.yml",allServices.push(tmsService)),_context6.next=4,this._loadTMSServices();case 4:return servicesFromManifest=_context6.sent,_context6.abrupt("return",allServices.concat(servicesFromManifest));case 6:case"end":return _context6.stop()}},_callee6,this)}));return getTMSServices}()},{key:"addQueryParams",value:function(additionalQueryParams){for(var key in additionalQueryParams)if(additionalQueryParams.hasOwnProperty(key)&&additionalQueryParams[key]!==this._queryParams[key]){this._queryParams=_lodash2.default.assign({},this._queryParams,additionalQueryParams),this._invalidateSettings();break}}}]),ServiceSettings}())})},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KibanaMapLayer=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_events=__webpack_require__(126);exports.KibanaMapLayer=function(_EventEmitter){function KibanaMapLayer(){_classCallCheck(this,KibanaMapLayer);var _this=_possibleConstructorReturn(this,(KibanaMapLayer.__proto__||Object.getPrototypeOf(KibanaMapLayer)).call(this));return _this._leafletLayer=null,_this}return _inherits(KibanaMapLayer,_EventEmitter),_createClass(KibanaMapLayer,[{key:"getBounds",value:function(){function getBounds(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this._leafletLayer.getBounds());case 1:case"end":return _context.stop()}},_callee,this)}));return getBounds}()},{key:"addToLeafletMap",value:function(leafletMap){this._leafletLayer.addTo(leafletMap)}},{key:"removeFromLeafletMap",value:function(leafletMap){leafletMap.removeLayer(this._leafletLayer)}},{key:"appendLegendContents",value:function(){}},{key:"updateExtent",value:function(){}},{key:"movePointer",value:function(){}},{key:"getAttributions",value:function(){return this._attribution}}]),KibanaMapLayer}(_events.EventEmitter)},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function makeCircleMarkerLegendColors(min,max){var reds1=["#ff6128"],reds3=["#fecc5c","#fd8d3c","#e31a1c"],reds5=["#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"];return max-min<=2?reds1:max-min<=24?reds3:reds5}function makeColorDarker(color){return _d2.default.hcl(color).darker(1.3).toString()}function makeStyleFunction(min,max,legendColors,quantizeDomain){var legendQuantizer=_d2.default.scale.quantize().domain(quantizeDomain).range(legendColors);return function(feature){var value=_lodash2.default.get(feature,"properties.value"),color=legendQuantizer(value);return{fillColor:color,color:makeColorDarker(color),weight:1.5,opacity:1,fillOpacity:.75}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScaledCirclesMarkers=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_events=__webpack_require__(126);exports.ScaledCirclesMarkers=function(_EventEmitter){function ScaledCirclesMarkers(featureCollection,featureCollectionMetaData,options,targetZoom,kibanaMap,metricAgg){_classCallCheck(this,ScaledCirclesMarkers);var _this=_possibleConstructorReturn(this,(ScaledCirclesMarkers.__proto__||Object.getPrototypeOf(ScaledCirclesMarkers)).call(this));_this._featureCollection=featureCollection,_this._featureCollectionMetaData=featureCollectionMetaData,_this._zoom=targetZoom,_this._metricAgg=metricAgg,_this._valueFormatter=options.valueFormatter||function(x){},_this._tooltipFormatter=options.tooltipFormatter||function(x){},_this._label=options.label,_this._legendColors=null,_this._legendQuantizer=null,_this._popups=[];var layerOptions={pointToLayer:_this.getMarkerFunction(),style:_this.getStyleFunction(),onEachFeature:function(feature,layer){_this._bindPopup(feature,layer)}};return options.isFilteredByCollar||(layerOptions.filter=function(feature){var bucketRectBounds=feature.properties.geohash_meta.rectangle;return kibanaMap.isInside(bucketRectBounds)}),_this._leafletLayer=_leaflet2.default.geoJson(null,layerOptions),_this._leafletLayer.addData(_this._featureCollection),_this}return _inherits(ScaledCirclesMarkers,_EventEmitter),_createClass(ScaledCirclesMarkers,[{key:"getLeafletLayer",value:function(){return this._leafletLayer}},{key:"getStyleFunction",value:function(){var min=_lodash2.default.get(this._featureCollectionMetaData,"min",0),max=_lodash2.default.get(this._featureCollectionMetaData,"max",1),quantizeDomain=min!==max?[min,max]:_d2.default.scale.quantize().domain();return this._legendColors=makeCircleMarkerLegendColors(min,max),this._legendQuantizer=_d2.default.scale.quantize().domain(quantizeDomain).range(this._legendColors),makeStyleFunction(min,max,this._legendColors,quantizeDomain)}},{key:"movePointer",value:function(){}},{key:"getLabel",value:function(){return this._popups.length?this._label:""}},{key:"appendLegendContents",value:function(jqueryDiv){var _this2=this;if(this._legendColors&&this._legendQuantizer){var titleText=this.getLabel(),$title=(0,_jquery2.default)("<div>").addClass("tilemap-legend-title").text(titleText);jqueryDiv.append($title),this._legendColors.forEach(function(color){var labelText=_this2._legendQuantizer.invertExtent(color).map(_this2._valueFormatter).join(" – "),label=(0,_jquery2.default)("<div>"),icon=(0,_jquery2.default)("<i>").css({background:color,"border-color":makeColorDarker(color)}),text=(0,_jquery2.default)("<span>").text(labelText);label.append(icon),label.append(text),jqueryDiv.append(label)})}}},{key:"_bindPopup",value:function(feature,layer){var _this3=this,popup=layer.on({mouseover:function(e){var layer=e.target;_leaflet2.default.Browser.ie||_leaflet2.default.Browser.opera||layer.bringToFront(),_this3._showTooltip(feature)},mouseout:function(){_this3.emit("hideTooltip")}});this._popups.push(popup)}},{key:"_showTooltip",value:function(feature){var content=this._tooltipFormatter(feature);if(content){var latLng=_leaflet2.default.latLng(feature.geometry.coordinates[1],feature.geometry.coordinates[0]);this.emit("showTooltip",{content:content,position:latLng})}}},{key:"getMarkerFunction",value:function(){var _this4=this;return function(feature,latlng){var value=feature.properties.value,scaledRadius=.6*_this4._radiusScale(value);return _leaflet2.default.circleMarker(latlng).setRadius(scaledRadius)}}},{key:"_radiusScale",value:function(value){var precision=_lodash2.default.max(this._featureCollection.features.map(function(feature){return String(feature.properties.geohash).length})),pct=Math.abs(value)/Math.abs(this._featureCollectionMetaData.max),zoomRadius=.5*Math.pow(2,this._zoom),precisionScale=200/Math.pow(5,precision);return Math.pow(pct,.5)*zoomRadius*precisionScale}},{key:"getBounds",value:function(){return this._leafletLayer.getBounds()}}]),ScaledCirclesMarkers}(_events.EventEmitter)},,function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function bypassExternalUrlCheck(url){return{url:url,bypassToken:bypassToken}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaBaseView=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.bypassExternalUrlCheck=bypassExternalUrlCheck;var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_vegaLib=__webpack_require__(532),vega=_interopRequireWildcard(_vegaLib),_vegaLite=__webpack_require__(1421),vegaLite=_interopRequireWildcard(_vegaLite),_utils=__webpack_require__(1423),_eui=__webpack_require__(5);vega.scheme("elastic",_eui.VISUALIZATION_COLORS);var bypassToken=Symbol();exports.VegaBaseView=function(){function VegaBaseView(vegaConfig,editorMode,parentEl,vegaParser,serviceSettings){_classCallCheck(this,VegaBaseView),this._vegaConfig=vegaConfig,this._editorMode=editorMode,this._$parentEl=(0,_jquery2.default)(parentEl),this._parser=vegaParser,this._serviceSettings=serviceSettings,this._view=null,this._vegaViewConfig=null,this._$messages=null,this._destroyHandlers=[],this._initialized=!1}return _createClass(VegaBaseView,[{key:"init",value:function(){function init(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,warn,_this=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this._initialized){_context.next=2;break}throw new Error;case 2:for(this._initialized=!0,_context.prev=3,this._$parentEl.empty().addClass("vega-main").css("flex-direction",this._parser.containerDir),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=8,_iterator=this._parser.warnings[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)warn=_step.value,this._addMessage("warn",warn);_context.next=16;break;case 12:_context.prev=12,_context.t0=_context.catch(8),_didIteratorError=!0,_iteratorError=_context.t0;case 16:_context.prev=16,_context.prev=17,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 19:if(_context.prev=19,!_didIteratorError){_context.next=22;break}throw _iteratorError;case 22:return _context.finish(19);case 23:return _context.finish(16);case 24:if(!this._parser.error){_context.next=27;break}return this._addMessage("err",this._parser.error),_context.abrupt("return");case 27:return this._$container=(0,_jquery2.default)('<div class="vega-view-container">').appendTo(this._$parentEl),this._$controls=(0,_jquery2.default)('<div class="vega-controls-container">').css("flex-direction",this._parser.controlsDir).appendTo(this._$parentEl),this._addDestroyHandler(function(){_this._$container&&(_this._$container.remove(),_this._$container=null),_this._$controls&&(_this._$controls.remove(),_this._$controls=null),_this._$messages&&(_this._$messages.remove(),_this._$messages=null)}),this._vegaViewConfig=this.createViewConfig(),_context.next=33,this._initViewCustomizations();case 33:_context.next=38;break;case 35:_context.prev=35,_context.t1=_context.catch(3),this.onError(_context.t1);case 38:case"end":return _context.stop()}},_callee,this,[[3,35],[8,12,16,24],[17,,19,23]])}));return init}()},{key:"createViewConfig",value:function(){var _this2=this,config={logLevel:vega.Warn,renderer:this._parser.renderer},loader=vega.loader(),originalSanitize=loader.sanitize.bind(loader);return loader.sanitize=function(uri,options){if(uri.bypassToken===bypassToken)uri=uri.url;else if(!_this2._vegaConfig.enableExternalUrls)throw new Error("External URLs are not enabled. Add   vega.enableExternalUrls: true   to kibana.yml");return originalSanitize(uri,options)},config.loader=loader,config}},{key:"onError",value:function(){this._addMessage("err",_utils.Utils.formatErrorToStr.apply(_utils.Utils,arguments))}},{key:"onWarn",value:function(){this._parser&&this._parser.hideWarnings||this._addMessage("warn",_utils.Utils.formatWarningToStr.apply(_utils.Utils,arguments))}},{key:"_addMessage",value:function(type,text){this._$messages||(this._$messages=(0,_jquery2.default)('<ul class="vega-messages">').appendTo(this._$parentEl)),this._$messages.append((0,_jquery2.default)('<li class="vega-message-'+type+'">').append((0,_jquery2.default)("<pre>").text(text)))}},{key:"resize",value:function(){if(this._parser.useResize&&this._view&&this.updateVegaSize(this._view))return this._view.runAsync()}},{key:"updateVegaSize",value:function(view){var width=Math.max(0,this._$container.width()-this._parser.paddingWidth),height=Math.max(0,this._$container.height()-this._parser.paddingHeight)-6;return(view.width()!==width||view.height()!==height)&&(view.width(width).height(height),!0)}},{key:"setDebugValues",value:function(view,spec,vlspec){if(this._editorMode&&window){void 0===window.VEGA_DEBUG&&console&&(console.log("%cWelcome to Kibana Vega Plugin!","font-size: 16px; font-weight: bold;"),console.log("You can access the Vega view with VEGA_DEBUG. Learn more at https://vega.github.io/vega/docs/api/debugging/."));var debugObj={};window.VEGA_DEBUG=debugObj,window.VEGA_DEBUG.VEGA_VERSION=vega.version,window.VEGA_DEBUG.VEGA_LITE_VERSION=vegaLite.version,window.VEGA_DEBUG.view=view,window.VEGA_DEBUG.vega_spec=spec,window.VEGA_DEBUG.vegalite_spec=vlspec,this._addDestroyHandler(function(){debugObj===window.VEGA_DEBUG&&(window.VEGA_DEBUG=null)})}}},{key:"destroy",value:function(){return this._destroyHandlers&&(this._ongoingDestroy=Promise.all(this._destroyHandlers.map(function(v){return v()})),this._destroyHandlers=null),this._ongoingDestroy}},{key:"_addDestroyHandler",value:function(handler){this._destroyHandlers?this._destroyHandlers.push(handler):handler()}}]),VegaBaseView}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicResponseHandlerProvider=void 0;var _agg_response=__webpack_require__(516),_table=__webpack_require__(1331),_vis_response_handlers=__webpack_require__(520),BasicResponseHandlerProvider=function(Private){function convertTableGroup(vis,tableGroup){var tables=tableGroup.tables,firstChild=tables[0];if(firstChild instanceof _table.TabifyTable){var chart=convertTable(vis,firstChild);return tableGroup.$parent&&(chart.label=tableGroup.title),chart}if(tables.length){var out={},outList=void 0;return tables.forEach(function(table){if(!outList){var aggConfig=table.aggConfig,direction=aggConfig.params.row?"rows":"columns";outList=out[direction]=[]}var output=void 0;(output=convertTableGroup(vis,table))&&outList.push(output)}),out}}function convertTable(vis,table){return vis.type.responseConverter?vis.type.responseConverter(vis,table):table}var aggResponse=Private(_agg_response.AggResponseIndexProvider);return{name:"basic",handler:function(vis,response){return new Promise(function(resolve){vis.isHierarchical()&&resolve(aggResponse.hierarchical(vis,response));var tableGroup=aggResponse.tabify(vis.getAggConfig().getResponseAggs(),response,{canSplit:!0,asAggConfigResults:!0,isHierarchical:vis.isHierarchical()}),converted=convertTableGroup(vis,tableGroup);converted||(converted={rows:[]}),converted.hits=response.hits.total,resolve(converted)})}}};_vis_response_handlers.VisResponseHandlersRegistryProvider.register(BasicResponseHandlerProvider),exports.BasicResponseHandlerProvider=BasicResponseHandlerProvider},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function GlobalStateProvider(Private){function GlobalState(defaults){GlobalState.Super.call(this,"_g",defaults)}var State=Private(_state.StateProvider);return(0,_legacy_class.createLegacyClass)(GlobalState).inherits(State),GlobalState.prototype._persistAcrossApps=!0,GlobalState.prototype.removeFromUrl=function(url){return _query_string.QueryString.replaceParamInUrl(url,this._urlParam,null)},new GlobalState}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalStateProvider=GlobalStateProvider;var _query_string=__webpack_require__(866),_state=__webpack_require__(586),_modules=__webpack_require__(2),_legacy_class=__webpack_require__(55);_modules.uiModules.get("kibana/global_state").service("globalState",function(Private){return Private(GlobalStateProvider)})},function(module,exports,__webpack_require__){"use strict";function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueryString=void 0;var _utils=__webpack_require__(285),QueryString=exports.QueryString={};QueryString.decode=function(keyValue){var obj={},keyValueParts=void 0,key=void 0;return(keyValue||"").split("&").forEach(function(keyValue){if(keyValue&&(keyValueParts=keyValue.split("="),void 0!==(key=tryDecodeURIComponent(keyValueParts[0])))){var val=void 0===keyValueParts[1]||tryDecodeURIComponent(keyValueParts[1]);obj[key]?Array.isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj},QueryString.encode=function(obj){var parts=[];return Object.keys(obj).sort().forEach(function(key){var value=obj[key];Array.isArray(value)?value.forEach(function(arrayValue){parts.push(QueryString.param(key,arrayValue))}):parts.push(QueryString.param(key,value))}),parts.length?parts.join("&"):""},QueryString.param=function(key,val){return(0,_utils.encodeQueryComponent)(key,!0)+(!0===val?"":"="+(0,_utils.encodeQueryComponent)(val,!0))},QueryString.findInUrl=function(url){var qsStart=url.indexOf("?"),hashStart=url.lastIndexOf("#");return-1===hashStart&&(hashStart=url.length),-1===qsStart&&(qsStart=hashStart),{start:qsStart,end:hashStart}},QueryString.replaceParamInUrl=function(url,param,newVal){var loc=QueryString.findInUrl(url),parsed=QueryString.decode(url.substring(loc.start+1,loc.end));null!=newVal?parsed[param]=newVal:delete parsed[param];var chars=url.split("");return chars.splice(loc.start,loc.end-loc.start,"?"+QueryString.encode(parsed)),chars.join("")}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pkg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_path=__webpack_require__(427);exports.pkg=_extends({__filename:582,__dirname:(0,_path.dirname)(582)},__webpack_require__(582))},,,function(module,exports,__webpack_require__){"use strict";function modifyUrl(url,block){if("function"!=typeof block)throw new TypeError("You must pass a block to define the modifications desired");var parsed=(0,_url.parse)(url,!0),meaningfulParts={protocol:parsed.protocol,slashes:parsed.slashes,auth:parsed.auth,hostname:parsed.hostname,port:parsed.port,pathname:parsed.pathname,query:parsed.query||{},hash:parsed.hash},modifiedParts=block(meaningfulParts)||meaningfulParts;return(0,_url.format)({protocol:modifiedParts.protocol,slashes:modifiedParts.slashes,auth:modifiedParts.auth,hostname:modifiedParts.hostname,port:modifiedParts.port,pathname:modifiedParts.pathname,query:modifiedParts.query,hash:modifiedParts.hash})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.modifyUrl=modifyUrl;var _url=__webpack_require__(59)},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _concat_stream_providers=__webpack_require__(1714);Object.defineProperty(exports,"concatStreamProviders",{enumerable:!0,get:function(){return _concat_stream_providers.concatStreamProviders}});var _intersperse_stream=__webpack_require__(1715);Object.defineProperty(exports,"createIntersperseStream",{enumerable:!0,get:function(){return _intersperse_stream.createIntersperseStream}});var _split_stream=__webpack_require__(1716);Object.defineProperty(exports,"createSplitStream",{enumerable:!0,get:function(){return _split_stream.createSplitStream}});var _list_stream=__webpack_require__(1717);Object.defineProperty(exports,"createListStream",{enumerable:!0,get:function(){return _list_stream.createListStream}});var _reduce_stream=__webpack_require__(878);Object.defineProperty(exports,"createReduceStream",{enumerable:!0,get:function(){return _reduce_stream.createReduceStream}});var _json_streams=__webpack_require__(1718);Object.defineProperty(exports,"createJsonParseStream",{enumerable:!0,get:function(){return _json_streams.createJsonParseStream}}),Object.defineProperty(exports,"createJsonStringifyStream",{enumerable:!0,get:function(){return _json_streams.createJsonStringifyStream}});var _promise_from_streams=__webpack_require__(1719);Object.defineProperty(exports,"createPromiseFromStreams",{enumerable:!0,get:function(){return _promise_from_streams.createPromiseFromStreams}});var _concat_stream=__webpack_require__(1720);Object.defineProperty(exports,"createConcatStream",{enumerable:!0,get:function(){return _concat_stream.createConcatStream}});var _map_stream=__webpack_require__(1721);Object.defineProperty(exports,"createMapStream",{enumerable:!0,get:function(){return _map_stream.createMapStream}});var _replace_stream=__webpack_require__(1722);Object.defineProperty(exports,"createReplaceStream",{enumerable:!0,get:function(){return _replace_stream.createReplaceStream}})},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function createReduceStream(reducer,initial){var i=-1,value=initial,failed=!1;if("function"!=typeof reducer)throw new TypeError("reducer must be a function");return new _stream.Transform({readableObjectMode:!0,writableObjectMode:!0,transform:function(){function transform(_x,_x2,_x3){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(chunk,enc,callback){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!failed){_context.next=3;break}return _context.abrupt("return",callback());case 3:if(0!==(i+=1)||void 0!==initial){_context.next=8;break}value=chunk,_context.next=11;break;case 8:return _context.next=10,reducer(value,chunk,enc);case 10:value=_context.sent;case 11:callback(),_context.next=18;break;case 14:_context.prev=14,_context.t0=_context.catch(0),failed=!0,callback(_context.t0);case 18:case"end":return _context.stop()}},_callee,this,[[0,14]])}));return transform}(),flush:function(callback){failed||this.push(value),callback()}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createReduceStream=createReduceStream;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPainlessError=exports.formatESMsg=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),getRootCause=function(err){return _lodash2.default.get(err,"resp.error.root_cause")};exports.formatESMsg=function(err){var rootCause=getRootCause(err);if(rootCause){return _lodash2.default.pluck(rootCause,"reason").join("\n")}},exports.getPainlessError=function(err){var rootCause=getRootCause(err);if(rootCause){var _rootCause$=rootCause[0],lang=_rootCause$.lang,script=_rootCause$.script;if("painless"===lang)return{lang:lang,script:script,message:"Error with Painless scripted field '"+script+"'",error:err.message}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function now(){return window.performance&&window.performance.now?window.performance.now():Date.now()}function closeNotif(notif){var cb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_lodash2.default.noop,key=arguments[2];return function(){var i=notifs.indexOf(notif);-1!==i&&notifs.splice(i,1),cancelTimer(notif),cb(key)}}function cancelTimer(notif){notif.timerId&&(Notifier.config.clearInterval(notif.timerId),notif.timerId=void 0)}function timerCanceler(notif){var cb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_lodash2.default.noop,key=arguments[2];return function(){cancelTimer(notif),cb(key)}}function startNotifTimer(notif,cb){notif.lifetime!==1/0&&0!==notif.lifetime&&(notif.timeRemaining=Math.floor(notif.lifetime/1e3),notif.timerId=Notifier.config.setInterval(function(){notif.timeRemaining-=1,notif.timeRemaining<=0&&closeNotif(notif,cb,"ignore")()},1e3,notif.timeRemaining),notif.cancelTimer=timerCanceler(notif,cb))}function restartNotifTimer(notif,cb){cancelTimer(notif),startNotifTimer(notif,cb)}function add(notif,cb){_lodash2.default.set(notif,"info.version",version),_lodash2.default.set(notif,"info.buildNum",buildNum),notif.clear=closeNotif(notif),notif.actions?notif.actions.forEach(function(action){notif[action]=closeNotif(notif,cb,action)}):notif.customActions&&(notif.customActions=notif.customActions.map(function(action,index){return{key:action.text,dataTestSubj:action.dataTestSubj,callback:closeNotif(notif,action.callback,action.text),getButtonClass:function(){var buttonTypeClass=typeToButtonClassMap[notif.type];return buttonHierarchyClass(index)+" "+buttonTypeClass}}})),notif.count=(notif.count||0)+1,notif.isTimed=function(){return!!notif.timerId},notif.getButtonClass=function(){return typeToButtonClassMap[notif.type]},notif.getAlertClassStack=function(){return"toast-stack alert "+typeToAlertClassMap[notif.type]},notif.getIconClass=function(){return"fa fa-"+notif.icon},notif.getToastMessageClass=function(){return"toast-message"},notif.getAlertClass=function(){return"toast alert "+typeToAlertClassMap[notif.type]},notif.getButtonGroupClass=function(){return"toast-controls"};var dup=null;return notif.content&&(dup=_lodash2.default.find(notifs,function(item){return item.content===notif.content&&item.lifetime===notif.lifetime})),dup?(dup.count+=1,dup.stacks=_lodash2.default.union(dup.stacks,[notif.stack]),restartNotifTimer(dup,cb),dup):(startNotifTimer(notif,cb),notif.stacks=[notif.stack],notifs.push(notif),notif)}function Notifier(opts){var self=this;opts=opts||{},self.from=opts.location,["event","lifecycle","timed","error","warning"].forEach(function(m){self[m]=_lodash2.default.bind(self[m],self)})}function getDecoratedCustomConfig(config){if(!_lodash2.default.isPlainObject(config))throw new Error("Config param is required, and must be an object");"error"===config.type&&(config.type="danger");var customConfig=_lodash2.default.assign({type:"info",title:"Notification",lifetime:function(type){switch(type){case"warning":return Notifier.config.warningLifetime;case"danger":return Notifier.config.errorLifetime;default:return Notifier.config.infoLifetime}}(config.type)},config);return _lodash2.default.get(customConfig,"actions.length")?(customConfig.customActions=customConfig.actions,delete customConfig.actions):customConfig.actions=["accept"],customConfig}function createGroupLogger(type,opts){var groups=window[type+"Groups"]={};return function logger(name,success){var status=void 0,exec=void 0,ret=void 0,complete=function(val){return logger(name,!0),val},failure=function(err){throw logger(name,!1),err};if("function"==typeof success||void 0===success)groups[name]=now(),success?exec=success:(ret=complete,ret.failure=failure);else{groups[name]=now()-(groups[name]||0);var time=" in "+groups[name].toFixed(2)+"ms";success?status="complete"+time:(groups[name]=!1,status="failure"+time)}if(consoleGroups?status?(console.log(status),console.groupEnd()):opts.open?console.group(name):console.groupCollapsed(name):log("KBN: "+name+(status?" - "+status:"")),exec){try{ret=exec()}catch(e){return failure(e)}if(ret&&"function"==typeof ret.then)return ret.then(function(val){return complete(),val},function(err){throw failure(err),err});complete()}return ret}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Notifier=Notifier;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_markdownIt=__webpack_require__(344),_markdownIt2=_interopRequireDefault(_markdownIt),_metadata=__webpack_require__(159),_lib=__webpack_require__(429),_fatal_error=__webpack_require__(587),_banners=__webpack_require__(891);__webpack_require__(892);var _eui=__webpack_require__(5),notifs=[],version=_metadata.metadata.version,buildNum=_metadata.metadata.buildNum,consoleGroups="group"in window.console&&"groupCollapsed"in window.console&&"groupEnd"in window.console,log=_lodash2.default.bindKey(console,"log"),typeToButtonClassMap={danger:"kuiButton--danger",warning:"kuiButton--warning",info:"kuiButton--primary"},buttonHierarchyClass=function(index){return 0===index?"kuiButton--primary":"kuiButton--basic"},typeToAlertClassMap={danger:"alert-danger",warning:"alert-warning",info:"alert-info"};Notifier.prototype.add=add,Notifier.config={bannerLifetime:3e6,errorLifetime:3e5,warningLifetime:1e4,infoLifetime:5e3,setInterval:window.setInterval,clearInterval:window.clearInterval},Notifier.applyConfig=function(config){_lodash2.default.merge(Notifier.config,config)},Notifier.QS_PARAM_MESSAGE="notif_msg",Notifier.QS_PARAM_LEVEL="notif_lvl",Notifier.QS_PARAM_LOCATION="notif_loc",Notifier.pullMessageFromUrl=function($location){var queryString=$location.search();if(queryString.notif_msg){var message=queryString[Notifier.QS_PARAM_MESSAGE],config=queryString[Notifier.QS_PARAM_LOCATION]?{location:queryString[Notifier.QS_PARAM_LOCATION]}:{},level=queryString[Notifier.QS_PARAM_LEVEL]||"info";$location.search(Notifier.QS_PARAM_MESSAGE,null),$location.search(Notifier.QS_PARAM_LOCATION,null),$location.search(Notifier.QS_PARAM_LEVEL,null);var notifier=new Notifier(config);"fatal"===level?(0,_fatal_error.fatalError)(message):notifier[level](message)}},Notifier.prototype._notifs=notifs,Notifier.prototype.event=createGroupLogger("event",{open:!0}),Notifier.prototype.lifecycle=createGroupLogger("lifecycle",{open:!0}),Notifier.prototype.timed=function(name,fn){var self=this;return"function"==typeof name&&(fn=name,name=fn.name),function(){var cntx=this,args=arguments;return self.event(name,function(){return fn.apply(cntx,args)})}};var overrideableOptions=["lifetime","icon"];Notifier.prototype.error=function(err,opts,cb){return _lodash2.default.isFunction(opts)&&(cb=opts,opts={}),add(_lodash2.default.assign({type:"danger",content:(0,_lib.formatMsg)(err,this.from),icon:"warning",title:"Error",lifetime:Notifier.config.errorLifetime,actions:["report","accept"],stack:(0,_lib.formatStack)(err)},_lodash2.default.pick(opts,overrideableOptions)),cb)},Notifier.prototype.warning=function(msg,opts,cb){return _lodash2.default.isFunction(opts)&&(cb=opts,opts={}),add(_lodash2.default.assign({type:"warning",content:(0,_lib.formatMsg)(msg,this.from),icon:"warning",title:"Warning",lifetime:Notifier.config.warningLifetime,actions:["accept"]},_lodash2.default.pick(opts,overrideableOptions)),cb)};var bannerId=void 0,bannerTimeoutId=void 0;Notifier.prototype.banner=function(){var content=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",dismissBanner=function(){_banners.banners.remove(bannerId),clearTimeout(bannerTimeoutId)},markdownIt=new _markdownIt2.default({html:!1,linkify:!0}),banner=_react2.default.createElement(_eui.EuiCallOut,{title:"Attention",iconType:"help"},_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:markdownIt.render(content)}}),_react2.default.createElement(_eui.EuiButton,{type:"primary",size:"s",onClick:dismissBanner},"Dismiss"));bannerId=_banners.banners.set({component:banner,id:bannerId,priority:100}),clearTimeout(bannerTimeoutId),bannerTimeoutId=setTimeout(function(){dismissBanner()},Notifier.config.bannerLifetime)},Notifier.prototype.custom=function(msg,config,cb){var customConfig=getDecoratedCustomConfig(config);return customConfig.content=(0,_lib.formatMsg)(msg,this.from),add(customConfig,cb)},Notifier.prototype.directive=function(directive,config,cb){if(!_lodash2.default.isPlainObject(directive))throw new Error("Directive param is required, and must be an object");if(!Notifier.$compile)throw new Error("Unable to use the directive notification until Angular has initialized.");if(directive.scope)throw new Error("Directive should not have a scope definition. Notifier has an internal implementation.");if(directive.link)throw new Error("Directive should not have a link function. Notifier has an internal link function helper.");var localDirective=_lodash2.default.clone(directive,!0);localDirective.scope={notif:"="},localDirective.link=function($scope,$el){var $template=_angular2.default.element($scope.notif.directive.template),postLinkFunction=Notifier.$compile($template);$el.html($template),postLinkFunction($scope)};var customConfig=getDecoratedCustomConfig(config);return customConfig.directive=localDirective,add(customConfig,cb)},Notifier.prototype.describeError=_lib.formatMsg.describeError,log===_lodash2.default.noop?Notifier.prototype.log=_lodash2.default.noop:Notifier.prototype.log=function(){var args=[].slice.apply(arguments);this.from&&args.unshift(this.from+":"),log.apply(null,args)}},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _global_banner_list=__webpack_require__(1787);Object.defineProperty(exports,"GlobalBannerList",{enumerable:!0,get:function(){return _global_banner_list.GlobalBannerList}});var _banners=__webpack_require__(1790);Object.defineProperty(exports,"banners",{enumerable:!0,get:function(){return _banners.banners}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1791)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1793)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UtilsDiffTimePickerValsProvider(){var valueOf=function(o){if(o)return o.valueOf()};return function(rangeA,rangeB){return _lodash2.default.isObject(rangeA)&&_lodash2.default.isObject(rangeB)?valueOf(rangeA.to)!==valueOf(rangeB.to)||valueOf(rangeA.from)!==valueOf(rangeB.from)||valueOf(rangeA.value)!==valueOf(rangeB.value)||valueOf(rangeA.pause)!==valueOf(rangeB.pause):!_angular2.default.equals(rangeA,rangeB)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilsDiffTimePickerValsProvider=UtilsDiffTimePickerValsProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeHistory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment),_persisted_log=__webpack_require__(130),_modes=__webpack_require__(1020),TimeHistory=function(){function TimeHistory(){_classCallCheck(this,TimeHistory);var historyOptions={maxLength:10,filterDuplicates:!0};this.history=new _persisted_log.PersistedLog("kibana.timepicker.timeHistory",historyOptions)}return _createClass(TimeHistory,[{key:"add",value:function(time){if(time){var justStringsTime={from:_moment2.default.isMoment(time.from)?time.from.toISOString():time.from,mode:_modes.TIME_MODES.RECENT,to:_moment2.default.isMoment(time.to)?time.to.toISOString():time.to};this.history.add(justStringsTime)}}},{key:"get",value:function(){return this.history.get()}}]),TimeHistory}();exports.timeHistory=new TimeHistory},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PersistedLog=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_storage=__webpack_require__(629),localStorage=new _storage.Storage(window.localStorage),defaultIsDuplicate=function(oldItem,newItem){return _lodash2.default.isEqual(oldItem,newItem)},PersistedLog=exports.PersistedLog=function(){function PersistedLog(name){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},storage=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;_classCallCheck(this,PersistedLog),this.name=name,this.maxLength=parseInt(options.maxLength,10),this.filterDuplicates=options.filterDuplicates||!1,this.isDuplicate=options.isDuplicate||defaultIsDuplicate,this.storage=storage,this.items=this.storage.get(this.name)||[],isNaN(this.maxLength)||(this.items=_lodash2.default.take(this.items,this.maxLength))}return _createClass(PersistedLog,[{key:"add",value:function(val){var _this=this;return null==val?this.items:(this.filterDuplicates&&_lodash2.default.remove(this.items,function(item){return _this.isDuplicate(item,val)}),this.items.unshift(val),isNaN(this.maxLength)||(this.items=_lodash2.default.take(this.items,this.maxLength)),this.storage.set(this.name,this.items),this.items)}},{key:"get",value:function(){return _lodash2.default.cloneDeep(this.items)}}]),PersistedLog}();_modules.uiModules.get("kibana/persisted_log").factory("PersistedLog",function(){return PersistedLog})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TIME_MODES={ABSOLUTE:"absolute",QUICK:"quick",RECENT:"recent",RELATIVE:"relative"}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RouteSetupManager=exports.WAIT_FOR_URL_CHANGE_TOKEN=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),WAIT_FOR_URL_CHANGE_TOKEN=exports.WAIT_FOR_URL_CHANGE_TOKEN=new Error("WAIT_FOR_URL_CHANGE_TOKEN");exports.RouteSetupManager=function(){function RouteSetupManager(){_classCallCheck(this,RouteSetupManager),this.setupWork=[],this.onSetupComplete=[],this.onSetupError=[],this.onWorkComplete=[],this.onWorkError=[]}return _createClass(RouteSetupManager,[{key:"addSetupWork",value:function(fn){this.setupWork.push(fn)}},{key:"afterSetupWork",value:function(onComplete,onError){this.onSetupComplete.push(onComplete),this.onSetupError.push(onError)}},{key:"afterWork",value:function(onComplete,onError){this.onWorkComplete.push(onComplete),this.onWorkError.push(onError)}},{key:"doWork",value:function(Promise,$injector,userWork){var _this=this,invokeEach=function(arr,locals){return Promise.map(arr,function(fn){if(fn)return $injector.invoke(fn,null,locals)})},callErrorHandlers=function(handlers,origError){if(!_lodash2.default.size(handlers))throw origError;handlers=handlers.slice(0);return function next(err){if(!handlers.length)throw err;var handler=handlers.shift();return handler?Promise.try(function(){return $injector.invoke(handler,null,{err:err})}).catch(next):next(err)}(origError)};return invokeEach(this.setupWork).then(function(){return invokeEach(_this.onSetupComplete)},function(err){return callErrorHandlers(_this.onSetupError,err)}).then(function(){var defer=Promise.defer();return userWork.resolveWhenFull(defer),defer.promise.then(function(){return Promise.all(userWork.doWork())})}).catch(function(error){if(error===WAIT_FOR_URL_CHANGE_TOKEN)return Promise.halt();throw error}).then(function(){return invokeEach(_this.onWorkComplete)},function(err){return callErrorHandlers(_this.onWorkError,err)})}}]),RouteSetupManager}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2472)},function(module,exports,__webpack_require__){"use strict";(0,__webpack_require__(1024).kbnUrlDirective)("kbnSrc")},function(module,exports,__webpack_require__){"use strict";function kbnUrlDirective(name){var attr=(0,_lodash.kebabCase)((0,_lodash.words)(name).slice(1));_modules.uiModules.get("kibana").directive(name,function(Private,chrome){return{restrict:"A",link:function($scope,$el,$attr){$attr.$observe(name,function(val){$attr.$set(attr,chrome.addBasePath(val))})}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.kbnUrlDirective=kbnUrlDirective;var _modules=__webpack_require__(2),_lodash=__webpack_require__(1);kbnUrlDirective("kbnHref")},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function UrlOverflowServiceProvider(){return new UrlOverflowService}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.UrlOverflowServiceProvider=UrlOverflowServiceProvider;var IE_REGEX=exports.IE_REGEX=/(; ?MSIE |Edge\/\d|Trident\/[\d+\.]+;.*rv:*11\.\d+)/,UrlOverflowService=exports.UrlOverflowService=function(){function UrlOverflowService(){var _this=this;_classCallCheck(this,UrlOverflowService);var key="error/url-overflow/url",store=window.sessionStorage||{getItem:function(){},setItem:function(){},removeItem:function(){}};this._ieLike=IE_REGEX.test(window.navigator.userAgent),this._val=store.getItem(key),this._sync=function(){null==_this._val?store.removeItem(key):store.setItem(key,_this._val)}}return _createClass(UrlOverflowService,[{key:"failLength",value:function(){return this._ieLike?2e3:25e3}},{key:"set",value:function(v){this._val=v,this._sync()}},{key:"get",value:function(){return this._val}},{key:"check",value:function(absUrl){if(!this.get()){var urlLength=absUrl.length,remaining=this.failLength()-urlLength;if(remaining>0)return remaining;this.set(absUrl)}throw new Error("\n      The URL has gotten too big and kibana can no longer\n      continue. Please refresh to return to your previous state.\n    ")}},{key:"clear",value:function(){this._val=void 0,this._sync()}}]),UrlOverflowService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").filter("uriescape",function(){return function(str){return encodeURIComponent(str)}})},function(module,exports,__webpack_require__){"use strict";var _risonNode=__webpack_require__(206),_risonNode2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_risonNode),_modules=__webpack_require__(2),_module=_modules.uiModules.get("kibana");_module.filter("rison",function(){return function(str){return _risonNode2.default.encode(str)}}),_module.filter("risonDecode",function(){return function(str){return _risonNode2.default.decode(str)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function prepSetParams(key,value,path){return _lodash2.default.isUndefined(value)&&(_lodash2.default.isPlainObject(key)||path.length>0)&&(value=key,key=void 0),{value:_lodash2.default.cloneDeep(value),key:key}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PersistedState=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_toPath=__webpack_require__(869),_toPath2=_interopRequireDefault(_toPath),_errors=__webpack_require__(56),_simple_emitter=__webpack_require__(628);exports.PersistedState=function(){function PersistedState(value,path){var _this=this,EmitterClass=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_simple_emitter.SimpleEmitter;if(_classCallCheck(this,PersistedState),EmitterClass.call(this),this._path=this._setPath(path),_lodash2.default.forOwn(EmitterClass.prototype,function(method,methodName){_this[methodName]=function(){return EmitterClass.prototype[methodName].apply(this,arguments)}}),!this._path.length&&value&&!_lodash2.default.isPlainObject(value))throw new _errors.PersistedStateError("State value must be a plain object");value=value||this._getDefault(),this.set(value),this._initialized=!0}return _createClass(PersistedState,[{key:"get",value:function(key,def){return _lodash2.default.cloneDeep(this._get(key,def))}},{key:"set",value:function(key,value){var params=prepSetParams(key,value,this._path),val=this._set(params.key,params.value);return this.emit("set"),val}},{key:"setSilent",value:function(key,value){var params=prepSetParams(key,value,this._path);return this._set(params.key,params.value,!0)}},{key:"clearAllKeys",value:function(){var _this2=this;Object.getOwnPropertyNames(this._changedState).forEach(function(key){_this2.set(key,null)})}},{key:"reset",value:function(path){var keyPath=this._getIndex(path),origValue=_lodash2.default.get(this._defaultState,keyPath),currentValue=_lodash2.default.get(this._mergedState,keyPath);_lodash2.default.isUndefined(origValue)?this._cleanPath(path,this._mergedState):_lodash2.default.set(this._mergedState,keyPath,origValue),this._cleanPath(path,this._changedState),_lodash2.default.isEqual(currentValue,origValue)||this.emit("change")}},{key:"getChanges",value:function(){return _lodash2.default.cloneDeep(this._changedState)}},{key:"toJSON",value:function(){return this.get()}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}},{key:"fromString",value:function(input){return this.set(JSON.parse(input))}},{key:"_getIndex",value:function(key){return _lodash2.default.isUndefined(key)?this._path:(this._path||[]).concat((0,_toPath2.default)(key))}},{key:"_getPartialIndex",value:function(key){return this._getIndex(key).slice(this._path.length)}},{key:"_cleanPath",value:function(path,stateTree){for(var partialPath=this._getPartialIndex(path),remove=!0;partialPath.length>0;){var lastKey=partialPath.splice(partialPath.length-1,1)[0],statePath=this._path.concat(partialPath),stateVal=statePath.length>0?_lodash2.default.get(stateTree,statePath):stateTree;if(!_lodash2.default.isPlainObject(stateVal))return;remove&&delete stateVal[lastKey],Object.keys(stateVal).length>0&&(remove=!1)}}},{key:"_getDefault",value:function(){return this._hasPath()?void 0:{}}},{key:"_setPath",value:function(path){var isString=_lodash2.default.isString(path),isArray=Array.isArray(path);return isString||isArray?isString?[this._getIndex(path)]:path:[]}},{key:"_hasPath",value:function(){return this._path.length>0}},{key:"_get",value:function(key,def){return!this._hasPath()&&_lodash2.default.isUndefined(key)?this._mergedState:_lodash2.default.get(this._mergedState,this._getIndex(key),def)}},{key:"_set",value:function(key,value,silent){var self=this,stateChanged=!1,initialState=!this._initialized,keyPath=this._getIndex(key),hasKeyPath=keyPath.length>0;if(initialState&&(this._changedState={},!this._hasPath()&&_lodash2.default.isUndefined(key)?this._defaultState=value:this._defaultState=_lodash2.default.set({},keyPath,value)),!initialState)if(!this._hasPath()&&_lodash2.default.isUndefined(key))stateChanged=!_lodash2.default.isEqual(this._changedState,value),this._changedState=value,this._mergedState=_lodash2.default.cloneDeep(value);else{var curVal=hasKeyPath?this.get(keyPath):this._mergedState;stateChanged=!_lodash2.default.isEqual(curVal,value),Array.isArray(_lodash2.default.get(this._mergedState,keyPath))&&(hasKeyPath?_lodash2.default.set(this._mergedState,keyPath,void 0):this._mergedState=void 0),hasKeyPath?_lodash2.default.set(this._changedState,keyPath,value):this._changedState=_lodash2.default.isPlainObject(value)?value:{}}var targetObj=this._mergedState||_lodash2.default.cloneDeep(this._defaultState),sourceObj=_lodash2.default.merge({},this._changedState),mergeMethod=function(targetValue,sourceValue,mergeKey){if(!initialState&&_lodash2.default.isEqual(keyPath,self._getIndex(mergeKey)))return _lodash2.default.isUndefined(sourceValue)?targetValue:sourceValue};return this._mergedState=_lodash2.default.merge(targetObj,sourceObj,mergeMethod),_lodash2.default.isEqual(this._mergedState,this._defaultState)&&(this._changedState={}),!silent&&stateChanged&&this.emit("change"),this}}]),PersistedState}()},,function(module,exports,__webpack_require__){"use strict";function unhashQueryString(parsedQueryString,states){return(0,_lodash.mapValues)(parsedQueryString,function(val,key){var state=states.find(function(s){return key===s.getQueryParamName()});return state?state.translateHashToRison(val):val})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unhashQueryString=unhashQueryString;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chromeNavControlsRegistry=void 0;var _registry=__webpack_require__(92);exports.chromeNavControlsRegistry=(0,_registry.uiRegistry)({name:"chromeNavControls",order:["order"]})},function(module,exports,__webpack_require__){"use strict";function prependPath(relativePath){var newPath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!relativePath||!(0,_lodash.isString)(relativePath))return relativePath;var parsed=(0,_url.parse)(relativePath,!0,!0);return!parsed.host&&parsed.pathname&&"/"===parsed.pathname[0]&&(parsed.pathname=newPath+parsed.pathname),(0,_url.format)({protocol:parsed.protocol,host:parsed.host,pathname:parsed.pathname,query:parsed.query,hash:parsed.hash})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.prependPath=prependPath;var _url=__webpack_require__(59),_lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function relativeToAbsolute(url){var a=document.createElement("a");return a.setAttribute("href",url),a.href}Object.defineProperty(exports,"__esModule",{value:!0}),exports.relativeToAbsolute=relativeToAbsolute},function(module,exports,__webpack_require__){"use strict";function absoluteToParsedUrl(absoluteUrl){var basePath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_extractAppPathAndId=(0,_extract_app_path_and_id.extractAppPathAndId)(absoluteUrl,basePath),appPath=_extractAppPathAndId.appPath,appId=_extractAppPathAndId.appId,_parse=(0,_url.parse)(absoluteUrl),hostname=_parse.hostname,port=_parse.port,protocol=_parse.protocol;return new _kibana_parsed_url.KibanaParsedUrl({basePath:basePath,appId:appId,appPath:appPath,hostname:hostname,port:port,protocol:protocol})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.absoluteToParsedUrl=absoluteToParsedUrl;var _extract_app_path_and_id=__webpack_require__(2513),_kibana_parsed_url=__webpack_require__(631),_url=__webpack_require__(59)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}__webpack_require__(2526);var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),plugins=[function(Client,config){var CustomAngularConnector=function(_config$connectionCla){function CustomAngularConnector(){var _ref,_temp,_this,_ret;_classCallCheck(this,CustomAngularConnector);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=CustomAngularConnector.__proto__||Object.getPrototypeOf(CustomAngularConnector)).call.apply(_ref,[this].concat(args))),_this.request=_lodash2.default.wrap(_this.request,function(request,params,cb){return"GET"===String(params.method).toUpperCase()&&(params.query=_lodash2.default.defaults({_:Date.now()},params.query)),request.call(this,params,cb)}),_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(CustomAngularConnector,_config$connectionCla),CustomAngularConnector}(config.connectionClass);config.connectionClass=CustomAngularConnector}];__webpack_require__(2).uiModules.get("kibana",["elasticsearch","kibana/config"]).service("es",function(esFactory,esUrl,esApiVersion,esRequestTimeout){return esFactory({host:esUrl,log:"info",requestTimeout:esRequestTimeout,apiVersion:esApiVersion,plugins:plugins})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.highlightTags={pre:"@kibana-highlighted-field@",post:"@/kibana-highlighted-field@"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MappingSetupService(){var mappingSetup=this,json={_serialize:function(val){if(null!=val)return _angular2.default.toJson(val)},_deserialize:function(val){if(null!=val)return JSON.parse(val)}};mappingSetup.expandShorthand=function(sh){return _lodash2.default.mapValues(sh||{},function(val){return"string"==typeof val&&(val={type:val}),"json"===val.type&&(val.type="text",val._serialize=json._serialize,val._deserialize=json._deserialize),val})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=MappingSetupService;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectsClient=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_url=__webpack_require__(59),_case_conversion=__webpack_require__(2533),_saved_object=__webpack_require__(1039),join=function(){for(var _len=arguments.length,uriComponents=Array(_len),_key=0;_key<_len;_key++)uriComponents[_key]=arguments[_key];return uriComponents.filter(Boolean).map(encodeURIComponent).join("/")},BATCH_INTERVAL=100;exports.SavedObjectsClient=function(){function SavedObjectsClient(options){var _this=this;_classCallCheck(this,SavedObjectsClient),this.processBatchQueue=_lodash2.default.throttle(function(){var queue=_lodash2.default.cloneDeep(_this.batchQueue);_this.batchQueue=[],_this.bulkGet(queue).then(function(_ref){var savedObjects=_ref.savedObjects;queue.forEach(function(queueItem){var foundObject=savedObjects.find(function(savedObject){return savedObject.id===queueItem.id&savedObject.type===queueItem.type});if(!foundObject)return queueItem.resolve(_this.createSavedObject(_lodash2.default.pick(queueItem,["id","type"])));queueItem.resolve(foundObject)})})},BATCH_INTERVAL,{leading:!1});var $http=options.$http,_options$basePath=options.basePath,basePath=void 0===_options$basePath?_chrome2.default.getBasePath():_options$basePath,_options$PromiseConst=options.PromiseConstructor,PromiseConstructor=void 0===_options$PromiseConst?Promise:_options$PromiseConst,_options$onCreateFail=options.onCreateFailure,onCreateFailure=void 0===_options$onCreateFail?function(){}:_options$onCreateFail;this._$http=$http,this._apiBaseUrl=basePath+"/api/saved_objects/",this._PromiseCtor=PromiseConstructor,this._onCreateFailure=onCreateFailure,this.batchQueue=[]}return _createClass(SavedObjectsClient,[{key:"create",value:function(type){var _this2=this,attributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!type||!attributes)return this._PromiseCtor.reject(new Error("requires type and attributes"));var url=this._getUrl([type,options.id],_lodash2.default.pick(options,["overwrite"]));return this._request("POST",url,{attributes:attributes}).catch(this._onCreateFailure).then(function(resp){return _this2.createSavedObject(resp)})}},{key:"delete",value:function(type,id){return type&&id?this._request("DELETE",this._getUrl([type,id])):this._PromiseCtor.reject(new Error("requires type and id"))}},{key:"find",value:function(){var _this3=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},url=this._getUrl(["_find"],(0,_case_conversion.keysToSnakeCaseShallow)(options));return this._request("GET",url).then(function(resp){return resp.saved_objects=resp.saved_objects.map(function(d){return _this3.createSavedObject(d)}),(0,_case_conversion.keysToCamelCaseShallow)(resp)})}},{key:"get",value:function(type,id){var _this4=this;return type&&id?new this._PromiseCtor(function(resolve,reject){_this4.batchQueue.push({type:type,id:id,resolve:resolve,reject:reject}),_this4.processBatchQueue()}):this._PromiseCtor.reject(new Error("requires type and id"))}},{key:"bulkGet",value:function(){var _this5=this,objects=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],url=this._getUrl(["_bulk_get"]),filteredObjects=objects.map(function(obj){return _lodash2.default.pick(obj,["id","type"])});return this._request("POST",url,filteredObjects).then(function(resp){return resp.saved_objects=resp.saved_objects.map(function(d){return _this5.createSavedObject(d)}),(0,_case_conversion.keysToCamelCaseShallow)(resp)})}},{key:"update",value:function(type,id,attributes){var _this6=this,_ref2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},version=_ref2.version;if(!type||!id||!attributes)return this._PromiseCtor.reject(new Error("requires type, id and attributes"));var body={attributes:attributes,version:version};return this._request("PUT",this._getUrl([type,id]),body).then(function(resp){return _this6.createSavedObject(resp)})}},{key:"createSavedObject",value:function(options){return new _saved_object.SavedObject(this,options)}},{key:"_getUrl",value:function(path,query){return path||query?(0,_url.resolve)(this._apiBaseUrl,(0,_url.format)({pathname:join.apply(void 0,_toConsumableArray(path)),query:_lodash2.default.pick(query,function(value){return null!=value})})):this._apiBaseUrl}},{key:"_request",value:function(method,url,body){var options={method:method,url:url,data:body};return"GET"===method&&body?this._PromiseCtor.reject(new Error("body not permitted for GET requests")):this._$http(options).then(function(resp){return _lodash2.default.get(resp,"data")}).catch(function(resp){var respBody=_lodash2.default.get(resp,"data",{}),err=new Error(respBody.message||respBody.error||resp.status+" Response");throw err.statusCode=respBody.statusCode||resp.status,err.body=respBody,err})}}]),SavedObjectsClient}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObject=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.SavedObject=function(){function SavedObject(client){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},id=_ref.id,type=_ref.type,version=_ref.version,attributes=_ref.attributes;_classCallCheck(this,SavedObject),this._client=client,this.id=id,this.type=type,this.attributes=attributes||{},this._version=version}return _createClass(SavedObject,[{key:"get",value:function(key){return _lodash2.default.get(this.attributes,key)}},{key:"set",value:function(key,value){return _lodash2.default.set(this.attributes,key,value)}},{key:"has",value:function(key){return _lodash2.default.has(this.attributes,key)}},{key:"save",value:function(){return this.id?this._client.update(this.type,this.id,this.attributes):this._client.create(this.type,this.attributes)}},{key:"delete",value:function(){return this._client.delete(this.type,this.id)}}]),SavedObject}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function IndexPatternsIntervalsProvider(timefilter){var intervals=new _indexed_array.IndexedArray({index:["name"],initialSet:[{name:"hours",startOf:"hour",display:"Hourly"},{name:"days",startOf:"day",display:"Daily"},{name:"weeks",startOf:"isoWeek",display:"Weekly"},{name:"months",startOf:"month",display:"Monthly"},{name:"years",startOf:"year",display:"Yearly"}]});return intervals.toIndexList=function(format,interval,a,b,sortDirection){var bounds=void 0,range=[[a,"min","startOf"],[b,"max","startOf"]].map(function(v){var val=v[0],bound=v[1],extend=v[2];return null==val&&(bounds=bounds||timefilter.getBounds(),val=bounds[bound]),(0,_numeric.isNumeric)(val)?val=(0,_moment2.default)().add(val,interval.name):_moment2.default.isMoment(val)||(val=(0,_moment2.default)(val)),val.clone().utc()[extend](interval.startOf)}).sort(function(a,b){return a-b});if("string"==typeof interval&&!(interval=_lodash2.default.find(intervals,{name:interval})))throw new Error("Interval must be one of "+_lodash2.default.pluck(intervals,"name"));for(var indexList=[],start=range.shift(),stop=range.shift().valueOf(),add="desc"===sortDirection?"unshift":"push";start<=stop;){var index=start.format(format),next=(0,_moment2.default)(start).add(1,interval.name),bound=(0,_moment2.default)(next).subtract(1,"ms"),min=start.valueOf(),max=bound.valueOf();indexList[add]({index:index,min:min,max:max}),start=next}return indexList},intervals}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsIntervalsProvider=IndexPatternsIntervalsProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_indexed_array=__webpack_require__(131),_numeric=__webpack_require__(636)},function(module,exports,__webpack_require__){"use strict";function IndexPatternsFieldListProvider(Private){function FieldList(indexPattern,specs){FieldList.Super.call(this,{index:["name"],group:["type"],initialSet:specs.map(function(field){return new Field(indexPattern,field)})})}var Field=Private(_field.IndexPatternsFieldProvider);return(0,_legacy_class.createLegacyClass)(FieldList).inherits(_indexed_array.IndexedArray),FieldList}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsFieldListProvider=IndexPatternsFieldListProvider;var _indexed_array=__webpack_require__(131),_field=__webpack_require__(637),_legacy_class=__webpack_require__(55)},function(module,exports,__webpack_require__){"use strict";function IndexPatternsPatternCacheProvider(){var vals={},validId=function(id){return"object"!==(void 0===id?"undefined":_typeof(id))};this.get=function(id){if(validId(id))return vals[id]},this.set=function(id,prom){return validId(id)&&(vals[id]=prom),prom},this.clear=this.delete=function(id){validId(id)&&delete vals[id]}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.IndexPatternsPatternCacheProvider=IndexPatternsPatternCacheProvider},function(module,exports,__webpack_require__){"use strict";function FieldsFetcherProvider(Private,config){var apiClient=Private(_index_patterns_api_client_provider.IndexPatternsApiClientProvider);return(0,_fields_fetcher.createFieldsFetcher)(apiClient,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldsFetcherProvider=FieldsFetcherProvider;var _fields_fetcher=__webpack_require__(2542),_index_patterns_api_client_provider=__webpack_require__(1044)},function(module,exports,__webpack_require__){"use strict";function IndexPatternsApiClientProvider($http){return(0,_index_patterns_api_client.createIndexPatternsApiClient)($http,_chrome2.default.getBasePath())}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsApiClientProvider=IndexPatternsApiClientProvider;var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_index_patterns_api_client=__webpack_require__(2543)},function(module,exports,__webpack_require__){"use strict";function BoundToConfigObjProvider(config){function BoundToConfigObj(input){var self=this;_lodash2.default.forOwn(input,function(value,prop){if(!_lodash2.default.isString(value)||"="!==value.charAt(0))return void(self[prop]=value);var configKey=value.substr(1);config.watch(configKey,function(value){self[prop]=value})})}return BoundToConfigObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BoundToConfigObjProvider=BoundToConfigObjProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function RootSearchSourceProvider(Private,$rootScope,timefilter){function getAppSource(){return appSource}function setAppSource(source){appSource=source;for(var literalRoot=source;literalRoot._parent&&literalRoot._parent!==globalSource;)literalRoot=literalRoot._parent;literalRoot.inherits(globalSource)}function resetAppSource(){setAppSource(new SearchSource)}var SearchSource=Private(_search_source.SearchSourceProvider),globalSource=new SearchSource;globalSource.inherits(!1),globalSource.filter(function(globalSource){var filter=timefilter.get(globalSource.get("index"));return filter&&(filter.meta={_globalTimefilter:!0}),filter});var appSource=void 0;return resetAppSource(),$rootScope.$on("$routeChangeStart",resetAppSource),{get:getAppSource,set:setAppSource,getGlobalSource:function(){return globalSource}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RootSearchSourceProvider=RootSearchSourceProvider;var _search_source=__webpack_require__(252)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _search_request=__webpack_require__(1048);Object.defineProperty(exports,"SearchRequestProvider",{enumerable:!0,get:function(){return _search_request.SearchRequestProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SearchRequestProvider(Promise){return function(){function SearchRequest(source,defer){_classCallCheck(this,SearchRequest),this.source=source,this.defer=defer||Promise.defer(),this.abortedDefer=Promise.defer(),this.type="search",_request_queue.requestQueue.push(this)}return _createClass(SearchRequest,[{key:"canStart",value:function(){return!this._fetchRequested&&!this.stopped&&!this.source._fetchDisabled}},{key:"isFetchRequestedAndPending",value:function(){return this._fetchRequested&&!this.started}},{key:"_setFetchRequested",value:function(){this._fetchRequested=!0}},{key:"start",value:function(){if(this.started)throw new TypeError("Unable to start request because it has already started");return this.started=!0,this.moment=(0,_moment2.default)(),this.source.requestIsStarting(this)}},{key:"getFetchParams",value:function(){return this.source._flatten()}},{key:"filterError",value:function(){return!1}},{key:"handleResponse",value:function(resp){this.success=!0,this.resp=resp}},{key:"handleFailure",value:function(error){return this.success=!1,this.resp=error&&error.resp,this.errorHandler(this,error)}},{key:"isIncomplete",value:function(){return!1}},{key:"continue",value:function(){throw new Error("Unable to continue "+this.type+" request")}},{key:"retry",value:function(){var clone=this.clone();return this.abort(),clone}},{key:"_markStopped",value:function(){this.stopped||(this.stopped=!0,this.source.requestIsStopped(this),_lodash2.default.pull(_request_queue.requestQueue,this))}},{key:"abort",value:function(){this._markStopped(),this.defer=null,this.aborted=!0,this.abortedDefer.resolve(),this.abortedDefer=null}},{key:"whenAborted",value:function(cb){this.abortedDefer.promise.then(cb)}},{key:"complete",value:function(){this._markStopped(),this.ms=-1*this.moment.diff(),this.defer.resolve(this.resp)}},{key:"getCompletePromise",value:function(){return this.defer.promise}},{key:"getCompleteOrAbortedPromise",value:function(){return Promise.race([this.defer.promise,this.abortedDefer.promise])}},{key:"clone",value:function(){return new this.constructor(this.source,this.defer)}},{key:"setErrorHandler",value:function(errorHandler){this.errorHandler=errorHandler}}]),SearchRequest}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.SearchRequestProvider=SearchRequestProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_request_queue=__webpack_require__(360)},function(module,exports,__webpack_require__){"use strict";function IsRequestProvider(Private){var SearchRequest=Private(_request.SearchRequestProvider);return function(obj){return obj instanceof SearchRequest}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IsRequestProvider=IsRequestProvider;var _request=__webpack_require__(1047)},function(module,exports,__webpack_require__){"use strict";function toJson(object,jsonFn,space){return jsonFn&&(object=JSON.parse(jsonFn(object))),JSON.stringify(object,replacer,space)}function replacer(key,value){return(0,_lodash.isString)(key)&&(0,_lodash.startsWith)(key,"$")?void 0:value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toJson=toJson,exports.replacer=replacer;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.courierNotifier=exports.location=void 0;var _notify=__webpack_require__(10),location=exports.location="Courier fetch";exports.courierNotifier=new _notify.Notifier({location:location})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _field_wildcard=__webpack_require__(2560);Object.defineProperty(exports,"FieldWildcardProvider",{enumerable:!0,get:function(){return _field_wildcard.FieldWildcardProvider}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ast=__webpack_require__(163);Object.keys(_ast).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _ast[key]}})});var _filter_migration=__webpack_require__(2579);Object.keys(_filter_migration).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _filter_migration[key]}})});var _node_types=__webpack_require__(114);Object.keys(_node_types).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _node_types[key]}})});var _suggestions=__webpack_require__(2586);Object.keys(_suggestions).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _suggestions[key]}})})},function(module,exports,__webpack_require__){"use strict";function fromLiteralExpression(expression,parseOptions){return parseOptions=_extends({},parseOptions,{startRule:"Literal"}),fromExpression(expression,parseOptions,_kuery.parse)}function fromLegacyKueryExpression(expression,parseOptions){return fromExpression(expression,parseOptions,_legacy_kuery.parse)}function fromKueryExpression(expression,parseOptions){return fromExpression(expression,parseOptions,_kuery.parse)}function fromExpression(expression){var parseOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},parse=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_kuery.parse;if(_lodash2.default.isUndefined(expression))throw new Error("expression must be a string, got undefined instead");return parseOptions=_extends({},parseOptions,{helpers:{nodeTypes:_index.nodeTypes,errors:errors}}),parse(expression,parseOptions)}function toElasticsearchQuery(node,indexPattern){return node&&node.type&&_index.nodeTypes[node.type]?_index.nodeTypes[node.type].toElasticsearchQuery(node,indexPattern):toElasticsearchQuery(_index.nodeTypes.function.buildNode("and",[]))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.fromLiteralExpression=fromLiteralExpression,exports.fromLegacyKueryExpression=fromLegacyKueryExpression,exports.fromKueryExpression=fromKueryExpression,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_index=__webpack_require__(114),_errors=__webpack_require__(1056),errors=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_errors),_kuery=__webpack_require__(2577),_legacy_kuery=__webpack_require__(2578)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function getFields(node,indexPattern){if("literal"===node.type){var fieldName=literal.toElasticsearchQuery(node),field=indexPattern.fields.byName[fieldName];return field?[field]:[]}if("wildcard"===node.type){return indexPattern.fields.filter(function(field){return wildcard.test(node,field.name)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFields=getFields;var _literal=__webpack_require__(455),literal=_interopRequireWildcard(_literal),_wildcard=__webpack_require__(640),wildcard=_interopRequireWildcard(_wildcard)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoLeadingWildcardsError=void 0;var _errors=__webpack_require__(56);exports.NoLeadingWildcardsError=function(_KbnError){function NoLeadingWildcardsError(){return _classCallCheck(this,NoLeadingWildcardsError),_possibleConstructorReturn(this,(NoLeadingWildcardsError.__proto__||Object.getPrototypeOf(NoLeadingWildcardsError)).call(this,"Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.",NoLeadingWildcardsError))}return _inherits(NoLeadingWildcardsError,_KbnError),NoLeadingWildcardsError}(_errors.KbnError)},function(module,exports,__webpack_require__){"use strict";function escapeQuotes(string){return string.replace(/"/g,'\\"')}function escapeSpecialCharacters(string){return string.replace(/[\\():<>"*]/g,"\\$&")}function escapeAndOr(string){return string.replace(/(\s+)(and|or)(\s+)/gi,"$1\\$2$3")}function escapeNot(string){return string.replace(/not(\s+)/gi,"\\$&")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeQuotes=escapeQuotes;exports.escapeKuery=function(string){return escapeNot(escapeAndOr(escapeSpecialCharacters(string)))}},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function sortPrefixFirst(array,prefix,property){if(!prefix)return array;var lowerCasePrefix=(""+prefix).toLowerCase(),partitions=(0,_lodash.partition)(array,function(entry){return(""+(property?entry[property]:entry)).toLowerCase().startsWith(lowerCasePrefix)});return[].concat(_toConsumableArray(partitions[0]),_toConsumableArray(partitions[1]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortPrefixFirst=sortPrefixFirst;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function buildQueryFromFilters(filters,decorateQuery,indexPattern){return _lodash2.default.each(filters,function(filter){filter.query&&decorateQuery(filter.query)}),{must:(filters||[]).filter(filterNegate(!1)).map(translateToQuery).map(cleanFilter).map(function(filter){return(0,_migrate_filter.migrateFilter)(filter,indexPattern)}),filter:[],should:[],must_not:(filters||[]).filter(filterNegate(!0)).map(translateToQuery).map(cleanFilter).map(function(filter){return(0,_migrate_filter.migrateFilter)(filter,indexPattern)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildQueryFromFilters=buildQueryFromFilters;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_migrate_filter=__webpack_require__(641),filterNegate=function(reverse){return function(filter){return _lodash2.default.isUndefined(filter.meta)||_lodash2.default.isUndefined(filter.meta.negate)?!reverse:filter.meta&&filter.meta.negate===reverse}},translateToQuery=function(filter){if(filter)return filter.query?filter.query:filter},cleanFilter=function(filter){return _lodash2.default.omit(filter,["meta","$state"])}},function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(5);__webpack_require__(2).uiModules.get("kibana").directive("kbnAccessibleClick",function(){return{restrict:"A",controller:function($element){$element.on("keydown",function(e){e.keyCode===_eui.keyCodes.SPACE&&e.preventDefault()})},link:function(scope,element,attrs){var elementType=element.prop("tagName");if("BUTTON"===elementType)throw new Error("kbnAccessibleClick doesn't need to be used on a button.");if("A"===elementType&&void 0!==attrs.href)throw new Error("kbnAccessibleClick doesn't need to be used on a link if it has a href attribute.");if(!attrs.ngClick)throw new Error("kbnAccessibleClick requires ng-click to be defined on its element.");void 0===attrs.tabindex&&element.attr("tabindex","0"),void 0===attrs.role&&element.attr("role","button"),element.on("keyup",function(e){_eui.accessibleClickKeys[e.keyCode]&&element.click()})}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function KbnTopNavControllerProvider($compile){return function(){function KbnTopNavController(){var _this=this,opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(_classCallCheck(this,KbnTopNavController),this.setCurrent=function(key){if(key&&!_this.templates.hasOwnProperty(key))throw new TypeError('KbnTopNav: unknown template key "'+key+'"');_this.currentKey=key||null,_this._render()},this.getCurrent=function(){return _this.currentKey},this.isCurrent=function(key){return _this.getCurrent()===key},this.open=function(key){_this.setCurrent(key)},this.close=function(key){(!key||_this.isCurrent(key))&&_this.setCurrent(null)},this.toggle=function(key){_this.setCurrent(_this.isCurrent(key)?null:key)},this.click=function(key){_this.handleClick(_this.getItem(key))},this.getItem=function(key){return _this.menuItems.find(function(i){return i.key===key})},this.handleClick=function(menuItem){if(menuItem.disableButton())return!1;menuItem.run(menuItem,_this)},opts instanceof KbnTopNavController)return opts;this.opts=[],this.menuItems=[],this.currentKey=null,this.templates={interval:_interval2.default,filter:_filter2.default},this.locals=new Map,this.addItems(opts)}return _createClass(KbnTopNavController,[{key:"isVisible",value:function(){return _chrome2.default.getVisible()}},{key:"addItems",value:function(rawOpts){var _this2=this;(0,_lodash.isArray)(rawOpts)||(rawOpts=[rawOpts]),rawOpts.forEach(function(rawOpt){var opt=_this2._applyOptDefault(rawOpt);if(!opt.key)throw new TypeError("KbnTopNav: menu items must have a key");_this2.opts.push(opt),opt.hideButton()||_this2.menuItems.push(opt),opt.template&&(_this2.templates[opt.key]=opt.template),opt.locals&&_this2.locals.set(opt.key,opt.locals)})}},{key:"_applyOptDefault",value:function(){var _this3=this,opt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},defaultedOpt=_extends({label:(0,_lodash.capitalize)(opt.key),hasFunction:!!opt.run,description:opt.run?opt.key:"Toggle "+opt.key+" view",run:function(item){return _this3.toggle(item.key)}},opt);return defaultedOpt.hideButton=(0,_lodash.isFunction)(opt.hideButton)?opt.hideButton:function(){return!!opt.hideButton},defaultedOpt.disableButton=(0,_lodash.isFunction)(opt.disableButton)?opt.disableButton:function(){return!!opt.disableButton},defaultedOpt.tooltip=(0,_lodash.isFunction)(opt.tooltip)?opt.tooltip:function(){return opt.tooltip},defaultedOpt}},{key:"_link",value:function($scope,$element){this.$scope=$scope,this.$element=$element,this._render()}},{key:"_render",value:function(){var $scope=this.$scope,$element=this.$element,rendered=this.rendered,currentKey=this.currentKey,templateToRender=currentKey&&this.templates[currentKey];if(rendered){if(rendered.key===currentKey)return;rendered.$childScope.$destroy(),rendered.$el.remove(),this.rendered=null}if(templateToRender&&$scope&&$element){var $childScope=$scope.$new();this.locals.has(currentKey)&&Object.assign($childScope,this.locals.get(currentKey));var $el=$element.find("#template_wrapper").html(templateToRender).contents();$compile($el)($childScope),this.rendered={$childScope:$childScope,$el:$el,key:currentKey}}}}]),KbnTopNavController}()}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.KbnTopNavControllerProvider=KbnTopNavControllerProvider;var _lodash=__webpack_require__(1),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_filter=__webpack_require__(2649),_filter2=_interopRequireDefault(_filter),_interval=__webpack_require__(2650),_interval2=_interopRequireDefault(_interval)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DebounceProvider=void 0;var _debounce=__webpack_require__(1063);Object.defineProperty(exports,"DebounceProvider",{enumerable:!0,get:function(){return _debounce.DebounceProvider}}),__webpack_require__(1063)},function(module,exports,__webpack_require__){"use strict";function DebounceProvider(debounce){return debounce}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DebounceProvider=DebounceProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("kibana").service("debounce",["$timeout",function($timeout){return function(func,wait,options){function debounce(){self=this,args=arguments;var later=function(){timeout=null,options.leading&&!options.trailing||(result=func.apply(self,args))},callNow=options.leading&&!timeout;return timeout&&$timeout.cancel(timeout),timeout=$timeout(later,wait,options.invokeApply),callNow&&(result=func.apply(self,args)),result}var timeout=void 0,args=void 0,self=void 0,result=void 0;return options=_lodash2.default.defaults(options||{},{leading:!1,trailing:!0,invokeApply:!0}),debounce.cancel=function(){$timeout.cancel(timeout),timeout=null},debounce}}])},function(module,exports,__webpack_require__){"use strict";function DocTitleProvider(docTitle){return docTitle}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DocTitleProvider=DocTitleProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("kibana").run(function($rootScope,docTitle){$rootScope.$on("$routeChangeStart",docTitle.reset),$rootScope.$on("$routeChangeError",docTitle.update),$rootScope.$on("$routeChangeSuccess",docTitle.update)}).service("docTitle",function(){function render(){lastChange=lastChange||[];var parts=[lastChange[0]];return lastChange[1]||parts.push(baseTitle),(0,_lodash2.default)(parts).flattenDeep().compact().join(" - ")}var baseTitle=document.title,self=this,lastChange=void 0;self.change=function(title,complete){lastChange=[title,complete],self.update()},self.reset=function(){lastChange=null},self.update=function(){document.title=render()}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_modules=__webpack_require__(2),NL_RE=/\n/g,events="keydown keypress keyup change";_modules.uiModules.get("kibana").directive("elasticTextarea",function(){return{restrict:"A",link:function($scope,$el){function resize(){$el.attr("rows",_lodash2.default.size($el.val().match(NL_RE))+1)}$el.on(events,resize),$scope.$evalAsync(resize),$scope.$on("$destroy",function(){$el.off(events,resize)})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleFilterDisabled=exports.enableFilter=exports.disableFilter=void 0;var _disable_filter=__webpack_require__(1067);Object.defineProperty(exports,"disableFilter",{enumerable:!0,get:function(){return _disable_filter.disableFilter}}),Object.defineProperty(exports,"enableFilter",{enumerable:!0,get:function(){return _disable_filter.enableFilter}}),Object.defineProperty(exports,"toggleFilterDisabled",{enumerable:!0,get:function(){return _disable_filter.toggleFilterDisabled}}),__webpack_require__(2657)},function(module,exports,__webpack_require__){"use strict";function disableFilter(filter){return setFilterDisabled(filter,!0)}function enableFilter(filter){return setFilterDisabled(filter,!1)}function toggleFilterDisabled(filter){var _filter$meta=filter.meta;_filter$meta=void 0===_filter$meta?{}:_filter$meta;var _filter$meta$disabled=_filter$meta.disabled;return setFilterDisabled(filter,!(void 0!==_filter$meta$disabled&&_filter$meta$disabled))}function setFilterDisabled(filter,disabled){var _filter$meta2=filter.meta;return _extends({},filter,{meta:_extends({},void 0===_filter$meta2?{}:_filter$meta2,{disabled:disabled})})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.disableFilter=disableFilter,exports.enableFilter=enableFilter,exports.toggleFilterDisabled=toggleFilterDisabled},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(2).uiModules.get("kibana").directive("jsonInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,$el,attrs,ngModelCntrl){function fromJSON(value){try{value=JSON.parse(value);var validity=!scope.$eval(attrs.requireKeys)||_lodash2.default.keys(value).length>0;ngModelCntrl.$setValidity("json",validity)}catch(e){ngModelCntrl.$setValidity("json",!1)}return value}function toJSON(value){return _angular2.default.toJson(value,2)}ngModelCntrl.$formatters.push(toJSON),ngModelCntrl.$parsers.push(fromJSON)}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FILTER_OPERATOR_TYPES=exports.FILTER_OPERATORS=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),FILTER_OPERATORS=exports.FILTER_OPERATORS=[{name:"is",type:"phrase",negate:!1},{name:"is not",type:"phrase",negate:!0},{name:"is one of",type:"phrases",negate:!1,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]},{name:"is not one of",type:"phrases",negate:!0,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]},{name:"is between",type:"range",negate:!1,fieldTypes:["number","date","ip"]},{name:"is not between",type:"range",negate:!0,fieldTypes:["number","date","ip"]},{name:"exists",type:"exists",negate:!1},{name:"does not exist",type:"exists",negate:!0}];exports.FILTER_OPERATOR_TYPES=(0,_lodash2.default)(FILTER_OPERATORS).map("type").uniq().value()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function filterParamsPhraseController($http,$scope,config){function getValueSuggestions(field,query){if(!shouldSuggestValues||!_lodash2.default.get(field,"aggregatable")||"string"!==field.type)return Promise.resolve([]);var params={query:query,field:field.name};return $http.post(baseUrl+"/"+field.indexPattern.title,params).then(function(response){return response.data}).catch(function(){return[]})}function getFieldQueryHash(field){var query=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return field.indexPattern.id+"/"+field.name+"/"+query}var _this=this,shouldSuggestValues=this.shouldSuggestValues=config.get("filterEditor:suggestValues");this.compactUnion=_lodash2.default.flow(_lodash2.default.union,_lodash2.default.compact),this.getValueSuggestions=_lodash2.default.memoize(getValueSuggestions,getFieldQueryHash),this.refreshValueSuggestions=function(query){return _this.getValueSuggestions($scope.field,query).then(function(suggestions){return $scope.valueSuggestions=suggestions})},this.refreshValueSuggestions()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterParamsPhraseController=filterParamsPhraseController;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),baseUrl=_chrome2.default.addBasePath("/api/kibana/suggestions/values")},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_filter_params_input_type=__webpack_require__(2681),_filter_params_input_type2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_params_input_type);__webpack_require__(646),__webpack_require__(647),__webpack_require__(1073),_modules.uiModules.get("kibana").directive("filterParamsInputType",function(){return{restrict:"E",template:_filter_params_input_type2.default,scope:{type:"=",placeholder:"@",value:"=",onChange:"&"},link:function(scope){scope.boolOptions=[!0,!1],scope.setDefaultBool=function(){null==scope.value&&(scope.value=scope.boolOptions[0],scope.onChange({value:scope.value}))}}}})},function(module,exports,__webpack_require__){"use strict";function throwError(ipAddress){throw Error("Invalid IPv4 address: "+ipAddress)}function isIntegerInRange(integer,min,max){return!isNaN(integer)&&integer>=min&&integer<max&&integer%1==0}function Ipv4Address(ipAddress){if(this.value=ipAddress,"string"==typeof ipAddress){this.value=0;var bytes=ipAddress.split(".");bytes.length!==NUM_BYTES&&throwError(ipAddress);for(var i=0;i<bytes.length;i++){var byte=Number(bytes[i]);isIntegerInRange(byte,0,BYTE_SIZE)||throwError(ipAddress),this.value+=Math.pow(BYTE_SIZE,NUM_BYTES-1-i)*byte}}isIntegerInRange(this.value,0,Math.pow(BYTE_SIZE,NUM_BYTES))||throwError(ipAddress)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Ipv4Address;var NUM_BYTES=4,BYTE_SIZE=256;Ipv4Address.prototype.toString=function(){for(var value=this.value,bytes=[],i=0;i<NUM_BYTES;i++)bytes.unshift(value%256),value=Math.floor(value/256);return bytes.join(".")},Ipv4Address.prototype.valueOf=function(){return this.value},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("stringToNumber",function(){return{require:"ngModel",link:function(scope,element,attrs,ngModel){ngModel.$formatters.push(function(value){return parseFloat(value)})}}})},function(module,exports,__webpack_require__){"use strict";function buildExistsFilter(field,indexPattern){return{meta:{index:indexPattern.id},exists:{field:field.name}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildExistsFilter=buildExistsFilter},function(module,exports,__webpack_require__){"use strict";function buildQueryFilter(query,index){return{query:query,meta:{index:index}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildQueryFilter=buildQueryFilter},function(module,exports,__webpack_require__){"use strict";function uniqFilters(filters,comparatorOptions){var results=[];return _lodash2.default.each(filters,function(filter){results=_lodash2.default.union(results,(0,_dedup_filters.dedupFilters)(results,[filter],comparatorOptions))}),results}Object.defineProperty(exports,"__esModule",{value:!0}),exports.uniqFilters=uniqFilters;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_dedup_filters=__webpack_require__(1077)},function(module,exports,__webpack_require__){"use strict";function dedupFilters(existingFilters,filters,comparatorOptions){return Array.isArray(filters)||(filters=[filters]),_lodash2.default.filter(filters,function(filter){return!_lodash2.default.find(existingFilters,function(existingFilter){return(0,_compare_filters.compareFilters)(existingFilter,filter,comparatorOptions)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dedupFilters=dedupFilters;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_compare_filters=__webpack_require__(460)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModalOverlay=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_modal_overlay=__webpack_require__(2717),_modal_overlay2=_interopRequireDefault(_modal_overlay);exports.ModalOverlay=function(){function ModalOverlay(modalElement){_classCallCheck(this,ModalOverlay),this.overlayElement=_angular2.default.element(_modal_overlay2.default),this.overlayElement.append(modalElement),_angular2.default.element(document.body).append(this.overlayElement)}return _createClass(ModalOverlay,[{key:"destroy",value:function(){this.overlayElement.remove()}}]),ModalOverlay}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function cantLookup(timeFrom,timeTo,dateFormat){return formatTimeString(timeFrom,dateFormat)+" to "+formatTimeString(timeTo,dateFormat,!0)}function formatTimeString(timeString,dateFormat){var roundUp=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,_moment2.default)(timeString).isValid())return(0,_moment2.default)(timeString).format(dateFormat);if("now"===timeString)return"now";var tryParse=_datemath2.default.parse(timeString,{roundUp:roundUp});return _moment2.default.isMoment(tryParse)?"~ "+tryParse.fromNow():timeString}function prettyDuration(timeFrom,timeTo,getConfig){var quickRanges=getConfig("timepicker:quickRanges"),dateFormat=getConfig("dateFormat"),lookupByRange={};if(quickRanges.forEach(function(frame){lookupByRange[frame.from+" to "+frame.to]=frame}),timeFrom&&timeTo&&!_moment2.default.isMoment(timeFrom)&&!_moment2.default.isMoment(timeTo)){var tryLookup=lookupByRange[timeFrom.toString()+" to "+timeTo.toString()];if(tryLookup)return tryLookup.display;var fromParts=timeFrom.toString().split("-");if("now"===timeTo.toString()&&"now"===fromParts[0]&&fromParts[1]){var rounded=fromParts[1].split("/"),text="Last "+rounded[0];return rounded[1]&&(text=text+" rounded to the "+_time_units.timeUnits[rounded[1]]),text}return cantLookup(timeFrom,timeTo,dateFormat)}return cantLookup(timeFrom,timeTo,dateFormat)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.prettyDuration=prettyDuration;var _datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_time_units=__webpack_require__(1080)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.timeUnits={s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"}},function(module,exports,__webpack_require__){"use strict";var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);__webpack_require__(2).uiModules.get("kibana").directive("inputDatetime",function(){return{restrict:"A",require:"ngModel",link:function($scope,$elem,attrs,ngModel){var format="YYYY-MM-DD HH:mm:ss.SSS";$elem.after('<div class="input-datetime-format">'+format+"</div>");var fromUser=function(text){var parsed=(0,_moment2.default)(text,format);return parsed.isValid()?parsed:void 0},toUser=function(datetime){return(0,_moment2.default)(datetime).format(format)};ngModel.$parsers.push(fromUser),ngModel.$formatters.push(toUser)}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2742)},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2).uiModules.get("kibana").directive("fileUpload",function(){return{restrict:"E",transclude:!0,scope:{onRead:"&",onLocate:"&",uploadSelector:"@"},template:'<span class="dropzone" ng-transclude></span>',link:function($scope,$elem,attrs){var $button=$elem.find($scope.uploadSelector),$dropzone=$elem.find(".dropzone"),handleFile=function(file){if(!_lodash2.default.isUndefined(file)){if(_lodash2.default.has(attrs,"onRead")){var reader=new FileReader;reader.onload=function(e){$scope.$apply(function(){$scope.onRead({fileContents:e.target.result})})},reader.readAsText(file)}_lodash2.default.has(attrs,"onLocate")&&$scope.$apply(function(){$scope.onLocate({file:file})})}};if($dropzone.on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),$dropzone.on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}),$dropzone.on("drop",function(e){e.stopPropagation(),e.preventDefault();var file=_lodash2.default.get(e,"originalEvent.dataTransfer.files[0]");file&&handleFile(file)}),$button){var $fileInput=(0,_jquery2.default)('<input type="file" style="opacity: 0; display:none; position:absolute; right: -999999999px" id="testfile" />');$elem.append($fileInput),$fileInput.on("change",function(e){var target=e.srcElement||e.target;_lodash2.default.get(target,"files.length")&&handleFile(target.files[0])}),$button.on("click",function(){$fileInput.val(null),$fileInput.trigger("click")})}}}})},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);__webpack_require__(2).uiModules.get("kibana").directive("kbnInfiniteScroll",function(){return{restrict:"E",scope:{more:"="},link:function($scope,$element){function onScroll(){if($scope.more){var winHeight=$window.height(),winBottom=winHeight+$window.scrollTop();$element.offset().top-winBottom<=.5*winHeight&&$scope[$scope.$$phase?"$eval":"$apply"](function(){$scope.more()})}}function scheduleCheck(){checkTimer||(checkTimer=setTimeout(function(){checkTimer=null,onScroll()},50))}var $window=(0,_jquery2.default)(window),checkTimer=void 0;$window.on("scroll",scheduleCheck),$scope.$on("$destroy",function(){clearTimeout(checkTimer),$window.off("scroll",scheduleCheck)}),scheduleCheck()}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function shouldMoveCursorForward(key,value,selectionStart,selectionEnd){return!!closers.includes(key)&&(selectionStart===selectionEnd&&value.charAt(selectionEnd)===key)}function shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd){if(!openers.includes(key))return!1;if(selectionStart!==selectionEnd)return!0;var precedingCharacter=value.charAt(selectionStart-1),followingCharacter=value.charAt(selectionStart+1);return"\\"!==precedingCharacter&&!(['"',"'"].includes(key)&&(isAlphanumeric(precedingCharacter)||isAlphanumeric(followingCharacter)))}function shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd){return"Backspace"===key&&!metaKey&&(selectionStart===selectionEnd&&pairs.includes(value.substr(selectionEnd-1,2)))}function isAlphanumeric(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/[a-zA-Z0-9_]/)}var _modules=__webpack_require__(2),_module=_modules.uiModules.get("kibana"),pairs=["()","[]","{}","''",'""'],openers=pairs.map(function(pair){return pair[0]}),closers=pairs.map(function(pair){return pair[1]});_module.directive("matchPairs",function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ngModel){elem.on("keydown",function(e){var target=e.target,key=e.key,metaKey=e.metaKey,value=target.value,selectionStart=target.selectionStart,selectionEnd=target.selectionEnd;if(shouldMoveCursorForward(key,value,selectionStart,selectionEnd))e.preventDefault(),target.setSelectionRange(selectionStart+1,selectionEnd+1);else if(shouldInsertMatchingCloser(key,value,selectionStart,selectionEnd)){e.preventDefault();var newValue=value.substr(0,selectionStart)+key+value.substring(selectionStart,selectionEnd)+closers[openers.indexOf(key)]+value.substr(selectionEnd);target.value=newValue,target.setSelectionRange(selectionStart+1,selectionEnd+1),ngModel.$setViewValue(newValue),ngModel.$render()}else if(shouldRemovePair(key,metaKey,value,selectionStart,selectionEnd)){e.preventDefault();var _newValue=value.substr(0,selectionEnd-1)+value.substr(selectionEnd+1);target.value=_newValue,target.setSelectionRange(selectionStart-1,selectionEnd-1),ngModel.$setViewValue(_newValue),ngModel.$render()}})}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_paginate_controls=__webpack_require__(3174),_paginate_controls2=_interopRequireDefault(_paginate_controls);_modules.uiModules.get("kibana").directive("paginate",function($parse,$compile){return{restrict:"E",scope:!0,link:{pre:function($scope,$el,attrs){_lodash2.default.isUndefined(attrs.bottomControls)&&(attrs.bottomControls=!0),0===$el.find("paginate-controls.paginate-bottom").length&&attrs.bottomControls&&$el.append($compile('<paginate-controls class="paginate-bottom">')($scope))},post:function($scope,$el,attrs){_lodash2.default.isUndefined(attrs.topControls)&&(attrs.topControls=!1),0===$el.find("paginate-controls.paginate-top").length&&attrs.topControls&&$el.prepend($compile('<paginate-controls class="paginate-top">')($scope));var paginate=$scope.paginate;paginate.getList=$parse(attrs.list),paginate.perPageProp=attrs.perPageProp,attrs.perPage?(paginate.perPage=attrs.perPage,$scope.showSelector=!1):$scope.showSelector=!0,paginate.otherWidthGetter=$parse(attrs.otherWidth),paginate.init()}},controllerAs:"paginate",controller:function($scope,$document){function setPerPage(val){for(var $ppParent=$scope;$ppParent&&!_lodash2.default.has($ppParent,self.perPageProp);)$ppParent=$ppParent.$parent;if($ppParent)return $ppParent[self.perPageProp]=val,!0}var self=this;self.sizeOptions=[{title:"10",value:10},{title:"25",value:25},{title:"100",value:100},{title:"All",value:0}],self.init=function(){self.perPage=_lodash2.default.parseInt(self.perPage)||$scope[self.perPageProp],$scope.$watchMulti(["paginate.perPage",self.perPageProp,self.otherWidthGetter],function(vals,oldVals){return vals[0]!==oldVals[0]?void(setPerPage(self.perPage)||self.renderList()):(self.perPage=_lodash2.default.parseInt(self.perPage)||$scope[self.perPageProp],null==self.perPage?void(self.perPage=0):void self.renderList())}),$scope.$watch("page",self.changePage),$scope.$watchCollection(self.getList,function(list){$scope.list=list,self.renderList()})},self.goToPage=function(number){number&&(number.hasOwnProperty("number")&&(number=number.number),$scope.page=$scope.pages[number-1]||$scope.pages[0])},self.goToTop=function(){$document.scrollTop(0)},self.renderList=function(){if($scope.pages=[],$scope.list){var perPage=_lodash2.default.parseInt(self.perPage),count=perPage?Math.ceil($scope.list.length/perPage):1;_lodash2.default.times(count,function(i){var page=void 0;if(perPage){var start=perPage*i;page=$scope.list.slice(start,start+perPage)}else page=$scope.list.slice(0);page.number=i+1,page.i=i,page.count=count,page.first=1===page.number,page.last=page.number===count,page.firstItem=(page.number-1)*perPage+1,page.lastItem=Math.min(page.number*perPage,$scope.list.length),page.prev=$scope.pages[i-1],page.prev&&(page.prev.next=page),$scope.pages.push(page)}),$scope.page&&$scope.page.i<$scope.pages.length?$scope.page=$scope.pages[$scope.page.i]:$scope.page=$scope.pages[0],$scope.page&&$scope.onPageChanged&&$scope.onPageChanged($scope.page)}},self.changePage=function(page){if(!page)return void($scope.otherPages=null);$scope.otherPages=[];var width=+self.otherWidthGetter($scope)||5,left=page.i-Math.round((width-1)/2),right=left+width-1;left<0&&(right+=0-left,left=0);var lastI=page.count-1;right>lastI&&(right=lastI,left=right-width+1);for(var i=left;i<=right;i++){var other=$scope.pages[i];other&&($scope.otherPages.push(other),other.last&&($scope.otherPages.containsLast=!0),other.first&&($scope.otherPages.containsFirst=!0))}$scope.onPageChanged&&$scope.onPageChanged($scope.page)}}}}).directive("paginateControls",function(){return{restrict:"E",template:_paginate_controls2.default}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function throwError(message){throw new Error(message)}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_paginated_selectable_list=__webpack_require__(3175),_paginated_selectable_list2=_interopRequireDefault(_paginated_selectable_list);_modules.uiModules.get("kibana").directive("paginatedSelectableList",function(){return{restrict:"E",scope:{perPage:"=?",list:"=",listProperty:"@",userMakeUrl:"=?",userOnSelect:"=?",disableAutoFocus:"="},template:_paginated_selectable_list2.default,controller:function($scope){$scope.userMakeUrl||$scope.userOnSelect||throwError("paginatedSelectableList directive expects a makeUrl or onSelect function"),$scope.userMakeUrl&&$scope.userOnSelect&&throwError("paginatedSelectableList directive expects a makeUrl or onSelect attribute but not both"),$scope.perPage=$scope.perPage||10,$scope.hits=$scope.list=_lodash2.default.sortBy($scope.list,$scope.accessor),$scope.hitCount=$scope.hits.length,$scope.isAscending=!0,$scope.sortHits=function(hits){var sortedList=_lodash2.default.sortBy(hits,$scope.accessor);$scope.isAscending=!$scope.isAscending,$scope.hits=$scope.isAscending?sortedList:sortedList.reverse()},$scope.makeUrl=function(hit){return $scope.userMakeUrl(hit)},$scope.onSelect=function(hit,$event){return $scope.userOnSelect(hit,$event)},$scope.accessor=function(val){var prop=$scope.listProperty;return prop?_lodash2.default.get(val,prop):val}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("validateAgg",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",agg:"="},link:function($scope,elem,attr,ngModel){function validateAgg(aggValue){if(null==aggValue||"custom"===aggValue)return ngModel.$setValidity("aggInput",!0),aggValue;try{$scope.agg.params.customMetric=null,$scope.agg.params.metricAgg=aggValue,$scope.agg.makeLabel(),ngModel.$setValidity("aggInput",!0)}catch(e){ngModel.$setValidity("aggInput",!1)}return aggValue}ngModel.$parsers.unshift(validateAgg),ngModel.$formatters.unshift(validateAgg)}}})},function(module,exports,__webpack_require__){"use strict";var _cidr_mask=__webpack_require__(1139);__webpack_require__(2).uiModules.get("kibana").directive("validateCidrMask",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){function validateCidrMask(mask){if(null==mask||""===mask)return ngModel.$setValidity("cidrMaskInput",!0),null;try{return mask=new _cidr_mask.CidrMask(mask),ngModel.$setValidity("cidrMaskInput",!0),mask.toString()}catch(e){ngModel.$setValidity("cidrMaskInput",!1)}}ngModel.$parsers.unshift(validateCidrMask),ngModel.$formatters.unshift(validateCidrMask)}}})},function(module,exports,__webpack_require__){"use strict";function throwError(mask){throw Error("Invalid CIDR mask: "+mask)}function CidrMask(mask){var splits=mask.split("/");2!==splits.length&&throwError(mask),this.initialAddress=new _ipv4_address2.default(splits[0]),this.prefixLength=Number(splits[1]),(this.prefixLength<1||this.prefixLength>NUM_BITS)&&throwError(mask)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CidrMask=CidrMask;var _ipv4_address=__webpack_require__(1072),_ipv4_address2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ipv4_address),NUM_BITS=32;CidrMask.prototype.getRange=function(){var variableBits=NUM_BITS-this.prefixLength,fromAddress=this.initialAddress.valueOf()>>variableBits<<variableBits>>>0,numAddresses=Math.pow(2,variableBits);return{from:new _ipv4_address2.default(fromAddress).toString(),to:new _ipv4_address2.default(fromAddress+numAddresses-1).toString()}},CidrMask.prototype.toString=function(){return this.initialAddress.toString()+"/"+this.prefixLength}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("validateJson",function(){return{restrict:"A",require:"ngModel",scope:{ngModel:"=",queryInput:"=?"},link:function($scope,$elem,attr,ngModel){function validator(newValue){if(!newValue||0===newValue.length)return void setValid();if(newValue=(newValue||"").trim(),"{"===newValue[0]||"["===newValue[0])try{JSON.parse(newValue),setValid()}catch(e){setInvalid()}else setInvalid()}function setValid(){ngModel.$setValidity("jsonInput",!0)}function setInvalid(){ngModel.$setValidity("jsonInput",!1)}$scope.$watch("ngModel",validator)}}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_lodash=__webpack_require__(1);_modules.uiModules.get("kibana").filter("label",function(){return function(str){return(0,_lodash.words)(str).map(_lodash.capitalize).join(" ")}})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("kibana").filter("matchAny",function(){return function(items,rules){return Array.isArray(rules)||(rules=[rules]),_lodash2.default.filter(items,function(item){for(var i=0;i<rules.length;i++)if(_lodash2.default.some([item],rules[i]))return!0;return!1})}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").filter("startFrom",function(){return function(input,start){return input?(start=+start,input.slice(start)):[]}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").filter("trustAsHtml",function($sce){return $sce.trustAsHtml})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("kibana").filter("unique",function(){return function(arr){return _lodash2.default.unique(arr)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _theme=__webpack_require__(3186);Object.defineProperty(exports,"registerTheme",{enumerable:!0,get:function(){return _theme.registerTheme}}),Object.defineProperty(exports,"applyTheme",{enumerable:!0,get:function(){return _theme.applyTheme}}),Object.defineProperty(exports,"getCurrentTheme",{enumerable:!0,get:function(){return _theme.getCurrentTheme}})},function(module,exports){},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsPercentilesProvider(Private){var MetricAggType=Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider),getResponseAggConfigClass=Private(_get_response_agg_config_class.AggTypesMetricsGetResponseAggConfigClassProvider),valueProps={makeLabel:function(){var label=this.params.customLabel||this.getFieldDisplayName();return(0,_ordinal_suffix.ordinalSuffix)(this.key)+" percentile of "+label}};return new MetricAggType({name:"percentiles",title:"Percentiles",makeLabel:function(agg){return"Percentiles of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"percents",editor:_percentiles2.default,default:[1,5,25,50,75,95,99]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,valueProps);return agg.params.percents.map(function(percent){return new ValueAggConfig(percent)})},getValue:_percentiles_get_value.getPercentileValue})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsPercentilesProvider=AggTypesMetricsPercentilesProvider;var _ordinal_suffix=__webpack_require__(1167),_percentiles=__webpack_require__(3325),_percentiles2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_percentiles);__webpack_require__(1168);var _metric_agg_type=__webpack_require__(61),_get_response_agg_config_class=__webpack_require__(679),_percentiles_get_value=__webpack_require__(1169)},function(module,exports,__webpack_require__){"use strict";function ordinalSuffix(num){return num+""+suffix(num)}function suffix(num){var int=Math.floor(parseFloat(num)),hunth=int%100;if(hunth>=11&&hunth<=13)return"th";var tenth=int%10;return 1===tenth?"st":2===tenth?"nd":3===tenth?"rd":"th"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ordinalSuffix=ordinalSuffix},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3326)},function(module,exports,__webpack_require__){"use strict";function getPercentileValue(agg,bucket){var values=bucket[agg.parentId]&&bucket[agg.parentId].values,percentile=(0,_lodash.find)(values,function(value){return agg.key===value.key});return percentile?percentile.value:NaN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPercentileValue=getPercentileValue;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.safeMakeLabel=function(agg){try{return agg.makeLabel()}catch(e){return"- agg not valid -"}}},function(module,exports,__webpack_require__){"use strict";function forwardModifyAggConfigOnSearchRequestStart(paramName){return function(aggConfig){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];if(aggConfig&&aggConfig.params){var nestedAggConfig=aggConfig.params[paramName];nestedAggConfig&&nestedAggConfig.type&&nestedAggConfig.type.params&&nestedAggConfig.type.params.forEach(function(param){param.modifyAggConfigOnSearchRequestStart&&param.modifyAggConfigOnSearchRequestStart.apply(param,[nestedAggConfig].concat(args))})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forwardModifyAggConfigOnSearchRequestStart=forwardModifyAggConfigOnSearchRequestStart},function(module,exports,__webpack_require__){"use strict";function TimeBucketsCalcEsIntervalProvider(){function esDuration(duration){for(var i=0;i<unitsDesc.length;i++){var unit=unitsDesc[i],val=duration.as(unit);if(val>=1&&Math.floor(val)===val){if(i<=largeMax&&1!==val)continue;return{value:val,unit:unit,expression:val+unit}}}var ms=duration.as("ms");return{value:ms,unit:"ms",expression:ms+"ms"}}var unitsDesc=_datemath2.default.unitsDesc,largeMax=unitsDesc.indexOf("M");return esDuration}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeBucketsCalcEsIntervalProvider=TimeBucketsCalcEsIntervalProvider;var _datemath=__webpack_require__(81),_datemath2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_datemath)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsIntervalOptionsProvider(){return[{display:"Auto",val:"auto",enabled:function(agg){return agg.fieldIsTimeField()}},{display:"Millisecond",val:"ms"},{display:"Second",val:"s"},{display:"Minute",val:"m"},{display:"Hourly",val:"h"},{display:"Daily",val:"d"},{display:"Weekly",val:"w"},{display:"Monthly",val:"M"},{display:"Yearly",val:"y"},{display:"Custom",val:"custom"}]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsIntervalOptionsProvider=AggTypesBucketsIntervalOptionsProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dateRange=void 0;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);exports.dateRange={toString:function(range,format){return range.from?range.to?format(range.from)+" to "+format(range.to):"After "+format(range.from):"Before "+format(range.to)},parse:function(rangeString,format){var chunks=rangeString.split(" to ");if(2===chunks.length)return{from:(0,_moment2.default)(chunks[0],format),to:(0,_moment2.default)(chunks[1],format)};if(chunks=rangeString.split("Before "),2===chunks.length)return{to:(0,_moment2.default)(chunks[1],format)};if(chunks=rangeString.split("After "),2===chunks.length)return{from:(0,_moment2.default)(chunks[1],format)};throw new Error("Error attempting to parse date range: "+rangeString)}}},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterTermsProvider(){return function(aggConfig,key){return(0,_phrase.buildPhraseFilter)(aggConfig.params.field,key,aggConfig.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterTermsProvider=AggTypesBucketsCreateFilterTermsProvider;var _phrase=__webpack_require__(253)},function(module,exports){module.exports='<div>\n  <div class="vis-editor-agg-form-row">\n    <div ng-if="agg.type.params.byName.order" class="form-group">\n      <label for="visEditorOrderByOrder{{agg.id}}">Order</label>\n      <select\n        id="visEditorOrderByOrder{{agg.id}}"\n        name="order"\n        ng-model="agg.params.order"\n        required\n        ng-options="opt as opt.display for opt in aggParam.options"\n        class="form-control">\n      </select>\n    </div>\n    <div class="form-group">\n      <label for="visEditorOrderBySize{{agg.id}}">Size</label>\n      <input\n        id="visEditorOrderBySize{{agg.id}}"\n        name="size"\n        ng-model="agg.params.size"\n        required\n        class="form-control"\n        type="number"\n        min="1"\n      >\n    </div>\n  </div>\n  <div class="vis-editor-agg-form-row">\n    <div class="form-group">\n      <label>\n        <input\n          type="checkbox"\n          class="kuiCheckBox"\n          name="showOther"\n          ng-model="agg.params.otherBucket"\n        >\n        Group other values in separate bucket\n        <icon-tip\n          position="\'right\'"\n          content="\'Values not in the top N are grouped in this bucket. To include documents with missing values, enable \\\'Show missing values\\\'.\'"\n        ></icon-tip>\n      </label>\n    </div>\n  </div>\n  <div class="vis-editor-agg-form-row" ng-if="agg.params.otherBucket">\n    <div class="form-group">\n      <label>\n        Label for other bucket\n      </label>\n      <div>\n        <input\n          type="text"\n          ng-model="agg.params.otherBucketLabel"\n          class="form-control kuiSideBarInput"\n        >\n      </div>\n    </div>\n  </div>\n  <div class="vis-editor-agg-form-row">\n    <div class="form-group">\n      <label>\n        <input\n          type="checkbox"\n          class="kuiCheckBox"\n          name="showMissing"\n          ng-model="agg.params.missingBucket"\n          ng-disabled="agg.params.field.type !== \'string\'"\n        >\n        Show missing values\n        <icon-tip\n          position="\'right\'"\n          content="\'Only works for fields of type \\\'string\\\'. When enabled, include documents with missing values in the search. If this bucket is in the top N, it appears in the chart.  If not in the top N, and you enable \\\'Group other values in separate bucket\\\', Elasticsearch adds the missing values to the \\\'other\\\' bucket.\'"\n        ></icon-tip>\n      </label>\n    </div>\n  </div>\n  <div class="vis-editor-agg-form-row" ng-show="agg.params.missingBucket">\n    <div class="form-group">\n      <label>\n        Label for missing values\n      </label>\n      <div>\n        <input\n          type="text"\n          ng-model="agg.params.missingBucketLabel"\n          class="form-control kuiSideBarInput"\n          ng-disabled="agg.params.field.type !== \'string\'"\n        >\n      </div>\n    </div>\n  </div>\n</div>\n'},,,,,,,,,function(module,exports){},,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function clamp(val,min,max){return Math.min(Math.max(min,val),max)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Pager=function(){function Pager(totalItems,pageSize,startingPage){_classCallCheck(this,Pager),this.currentPage=startingPage,this.totalItems=totalItems,this.pageSize=pageSize,this.startIndex=0,this.updateMeta()}return _createClass(Pager,[{key:"nextPage",value:function(){this.currentPage+=1,this.updateMeta()}},{key:"previousPage",value:function(){this.currentPage-=1,this.updateMeta()}},{key:"setTotalItems",value:function(count){this.totalItems=count,this.updateMeta()}},{key:"setPageSize",value:function(count){this.pageSize=count,this.updateMeta()}},{key:"updateMeta",value:function(){this.totalPages=Math.ceil(this.totalItems/this.pageSize),this.currentPage=clamp(this.currentPage,1,this.totalPages),this.startItem=(this.currentPage-1)*this.pageSize+1,this.startItem=clamp(this.startItem,0,this.totalItems),this.endItem=this.startItem-1+this.pageSize,this.endItem=clamp(this.endItem,0,this.totalItems),this.startIndex=this.startItem-1}},{key:"pageCount",get:function(){return Math.ceil(this.totalItems/this.pageSize)}},{key:"hasNextPage",get:function(){return this.currentPage<this.totalPages}},{key:"hasPreviousPage",get:function(){return this.currentPage>1}}]),Pager}()},,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(3609);var _modules=__webpack_require__(2),_saved_object_loader=__webpack_require__(488),_saved_object_registry=__webpack_require__(311),_module=_modules.uiModules.get("app/dashboard");_saved_object_registry.savedObjectManagementRegistry.register({service:"savedDashboards",title:"dashboards"}),_module.service("savedDashboards",function(SavedDashboard,kbnIndex,kbnUrl,$http,chrome){return new _saved_object_loader.SavedObjectLoader(SavedDashboard,kbnIndex,kbnUrl,$http,chrome)})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function parseInputAsDuration(val,inputFormat){var ratio=ratioToSeconds[inputFormat]||1,kind=inputFormat in ratioToSeconds?"seconds":inputFormat;return _moment2.default.duration(val*ratio,kind)}function createDurationFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function DurationFormat(){return _classCallCheck(this,DurationFormat),_possibleConstructorReturn(this,(DurationFormat.__proto__||Object.getPrototypeOf(DurationFormat)).apply(this,arguments))}return _inherits(DurationFormat,_FieldFormat),_createClass(DurationFormat,[{key:"isHuman",value:function(){return this.param("outputFormat")===HUMAN_FRIENDLY}},{key:"getParamDefaults",value:function(){return{inputFormat:DEFAULT_INPUT_FORMAT.kind,outputFormat:DEFAULT_OUTPUT_FORMAT.method,outputPrecision:DEFAULT_OUTPUT_PRECISION}}},{key:"_convert",value:function(val){var inputFormat=this.param("inputFormat"),outputFormat=this.param("outputFormat"),outputPrecision=this.param("outputPrecision"),human=this.isHuman(),prefix=val<0&&human?"minus ":"",duration=parseInputAsDuration(val,inputFormat),formatted=duration[outputFormat]();return prefix+(human?formatted:formatted.toFixed(outputPrecision))}}]),DurationFormat}(FieldFormat),_class.id="duration",_class.title="Duration",_class.fieldType="number",_class.inputFormats=inputFormats,_class.outputFormats=outputFormats,_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDurationFormat=createDurationFormat;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment),ratioToSeconds={picoseconds:1e-12,nanoseconds:1e-9,microseconds:1e-6},HUMAN_FRIENDLY="humanize",DEFAULT_OUTPUT_PRECISION=2,DEFAULT_INPUT_FORMAT={text:"Seconds",kind:"seconds"},inputFormats=[{text:"Picoseconds",kind:"picoseconds"},{text:"Nanoseconds",kind:"nanoseconds"},{text:"Microseconds",kind:"microseconds"},{text:"Milliseconds",kind:"milliseconds"},DEFAULT_INPUT_FORMAT,{text:"Minutes",kind:"minutes"},{text:"Hours",kind:"hours"},{text:"Days",kind:"days"},{text:"Weeks",kind:"weeks"},{text:"Months",kind:"months"},{text:"Years",kind:"years"}],DEFAULT_OUTPUT_FORMAT={text:"Human Readable",method:"humanize"},outputFormats=[DEFAULT_OUTPUT_FORMAT,{text:"Milliseconds",method:"asMilliseconds"},{text:"Seconds",method:"asSeconds"},{text:"Minutes",method:"asMinutes"},{text:"Hours",method:"asHours"},{text:"Days",method:"asDays"},{text:"Weeks",method:"asWeeks"},{text:"Months",method:"asMonths"},{text:"Years",method:"asYears"}]},function(module,exports,__webpack_require__){"use strict";function noWhiteSpace(html){return html.replace(TAGS_WITH_WS,"><")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noWhiteSpace=noWhiteSpace;var TAGS_WITH_WS=/>\s+</g},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.DEFAULT_COLOR={range:Number.NEGATIVE_INFINITY+":"+Number.POSITIVE_INFINITY,regex:"<insert regex>",text:"#000000",background:"#ffffff"}},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_vis=__webpack_require__(1201),_modules=__webpack_require__(2),_vis_update_state=__webpack_require__(3631),_visualize_constants=__webpack_require__(312),_legacy_class=__webpack_require__(55);_modules.uiModules.get("app/visualize").factory("SavedVis",function(config,$injector,courier,Promise,savedSearches,Private){function SavedVis(opts){var self=this;opts=opts||{},"object"!==(void 0===opts?"undefined":_typeof(opts))&&(opts={id:opts}),SavedVis.Super.call(self,{type:SavedVis.type,mapping:SavedVis.mapping,searchSource:SavedVis.searchSource,id:opts.id,indexPattern:opts.indexPattern,defaults:{title:"New Visualization",visState:function(){if(!opts.type)return null;var def={};return def.type=opts.type,def}(),uiStateJSON:"{}",description:"",savedSearchId:opts.savedSearchId,version:1},afterESResp:this._afterEsResp}),this.showInRecenltyAccessed=!0}var Vis=Private(_vis.VisProvider);return(0,_legacy_class.createLegacyClass)(SavedVis).inherits(courier.SavedObject),SavedVis.type="visualization",SavedVis.mapping={title:"text",visState:"json",uiStateJSON:"text",description:"text",savedSearchId:"keyword",version:"integer"},SavedVis.fieldOrder=["title","description"],SavedVis.searchSource=!0,SavedVis.prototype.getFullPath=function(){return"/app/kibana#"+_visualize_constants.VisualizeConstants.EDIT_PATH+"/"+this.id},SavedVis.prototype._afterEsResp=function(){var self=this;return self._getLinkedSavedSearch().then(function(){return self.searchSource.size(0),self.vis?self._updateVis():self._createVis()})},SavedVis.prototype._getLinkedSavedSearch=Promise.method(function(){var self=this,linkedSearch=!!self.savedSearchId,current=self.savedSearch;if(!linkedSearch||!current||current.id!==self.savedSearchId)return self.savedSearch&&(self.searchSource.inherits(self.savedSearch.searchSource.getParent()),self.savedSearch.destroy(),self.savedSearch=null),linkedSearch?savedSearches.get(self.savedSearchId).then(function(savedSearch){self.savedSearch=savedSearch,self.searchSource.inherits(self.savedSearch.searchSource)}):void 0}),SavedVis.prototype._createVis=function(){var self=this;return self.visState=(0,_vis_update_state.updateOldState)(self.visState),self.visState&&(self.visState.title=self.title),self.vis=new Vis(self.searchSource.get("index"),self.visState),self.vis},SavedVis.prototype._updateVis=function(){var self=this;self.vis.indexPattern=self.searchSource.get("index"),self.visState.title=self.title,self.vis.setState(self.visState)},SavedVis})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _vis=__webpack_require__(3626);Object.defineProperty(exports,"VisProvider",{enumerable:!0,get:function(){return _vis.VisProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UtilsBrushEventProvider(timefilter){return function($state){return function(event){if(event.data.xAxisField){var isDate="date"===event.data.xAxisField.type,isNumber="number"===event.data.xAxisField.type;isDate&&event.data.xAxisField.name===event.data.indexPattern.timeFieldName?function(){var from=(0,_moment2.default)(event.range[0]),to=(0,_moment2.default)(event.range[1]);to-from!=0&&(timefilter.time.from=from,timefilter.time.to=to,timefilter.time.mode="absolute")}():(isDate||isNumber)&&function(){if(!(event.range.length<=1)){var existingFilter=$state.filters.find(function(filter){return filter.meta&&filter.meta.key===event.data.xAxisField.name}),min=event.range[0],max=event.range[event.range.length-1],range=void 0;if(range=isDate?{gte:(0,_moment2.default)(min).valueOf(),lt:(0,_moment2.default)(max).valueOf(),format:"epoch_millis"}:{gte:min,lt:max},_lodash2.default.has(existingFilter,"range"))existingFilter.range[event.data.xAxisField.name]=range;else if(_lodash2.default.has(existingFilter,"script.script.params.gte")&&_lodash2.default.has(existingFilter,"script.script.params.lt"))existingFilter.script.script.params.gte=min,existingFilter.script.script.params.lt=max;else{var newFilter=(0,_range.buildRangeFilter)(event.data.xAxisField,range,event.data.indexPattern,event.data.xAxisFormatter);$state.$newFilters=[newFilter]}}}()}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilsBrushEventProvider=UtilsBrushEventProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_range=__webpack_require__(185)},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_pegjs=__webpack_require__(3683),_pegjs2=_interopRequireDefault(_pegjs),_chain=__webpack_require__(3693),_chain2=_interopRequireDefault(_chain);__webpack_require__(3694);var _timelion_expression_input=__webpack_require__(3696),_timelion_expression_input2=_interopRequireDefault(_timelion_expression_input),_timelion_expression_input_helpers=__webpack_require__(3697),_eui=__webpack_require__(5),_arg_value_suggestions=__webpack_require__(3698),Parser=_pegjs2.default.buildParser(_chain2.default);__webpack_require__(2).get("apps/timelion",[]).directive("timelionExpressionInput",function($document,$http,$interval,$timeout,Private){return{restrict:"E",scope:{rows:"=",sheet:"=",updateChart:"&",shouldPopoverSuggestions:"@"},replace:!0,template:_timelion_expression_input2.default,link:function(scope,elem){function setCaretOffset(caretOffset){$timeout(function(){expressionInput.focus(),expressionInput[0].selectionStart=expressionInput[0].selectionEnd=caretOffset,scope.$apply()},0)}function insertSuggestionIntoExpression(suggestionIndex){if(!scope.suggestions.isEmpty()){var _suggestibleFunctionL=suggestibleFunctionLocation,min=_suggestibleFunctionL.min,max=_suggestibleFunctionL.max,insertedValue=void 0,insertPositionMinOffset=0;switch(scope.suggestions.type){case _timelion_expression_input_helpers.SUGGESTION_TYPE.FUNCTIONS:insertedValue=scope.suggestions.list[suggestionIndex].name+"()",insertPositionMinOffset=1;break;case _timelion_expression_input_helpers.SUGGESTION_TYPE.ARGUMENTS:insertedValue=scope.suggestions.list[suggestionIndex].name+"=";break;case _timelion_expression_input_helpers.SUGGESTION_TYPE.ARGUMENT_VALUE:insertedValue=""+scope.suggestions.list[suggestionIndex].name}var updatedExpression=(0,_timelion_expression_input_helpers.insertAtLocation)(insertedValue,scope.sheet,min+insertPositionMinOffset,max);scope.sheet=updatedExpression,setCaretOffset(min+insertedValue.length)}}function scrollToSuggestionAt(index){var suggestionsList=(0,_jquery2.default)("[data-suggestions-list]"),suggestionListItem=(0,_jquery2.default)("[data-suggestion-list-item]")[index];suggestionsList.scrollTop(suggestionListItem.offsetTop-suggestionsList[0].offsetTop)}function getCursorPosition(){return expressionInput.length?expressionInput[0].selectionStart:null}function isNavigationalKey(keyCode){return _lodash2.default.values(_eui.comboBoxKeyCodes).includes(keyCode)}var getSuggestions=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var suggestions;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_timelion_expression_input_helpers.suggest)(scope.sheet,functionReference.list,Parser,getCursorPosition(),argValueSuggestions);case 2:suggestions=_context.sent,scope.$apply(function(){if(suggestions)return scope.suggestions.setList(suggestions.list,suggestions.type),scope.suggestions.show(),suggestibleFunctionLocation=suggestions.location,void $timeout(function(){(0,_jquery2.default)("[data-suggestions-list]").scrollTop(0)},0);suggestibleFunctionLocation=void 0,scope.suggestions.reset()});case 4:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),argValueSuggestions=Private(_arg_value_suggestions.ArgValueSuggestionsProvider),expressionInput=elem.find("[data-expression-input]"),functionReference={},suggestibleFunctionLocation={};scope.suggestions=new _timelion_expression_input_helpers.Suggestions,scope.onFocusInput=function(){$timeout(getSuggestions,0)},scope.onBlurInput=function(){scope.suggestions.hide()},scope.onKeyDownInput=function(e){if(isNavigationalKey(e.keyCode))switch(e.keyCode){case _eui.comboBoxKeyCodes.UP:scope.suggestions.isVisible&&(e.preventDefault(),scope.suggestions.stepForward(),scrollToSuggestionAt(scope.suggestions.index));break;case _eui.comboBoxKeyCodes.DOWN:scope.suggestions.isVisible&&(e.preventDefault(),scope.suggestions.stepBackward(),scrollToSuggestionAt(scope.suggestions.index));break;case _eui.comboBoxKeyCodes.TAB:if(scope.suggestions.isEmpty()||scope.suggestions.index<0)return void scope.suggestions.hide();e.preventDefault(),insertSuggestionIntoExpression(scope.suggestions.index);break;case _eui.comboBoxKeyCodes.ENTER:e.metaKey||e.ctrlKey?(e.preventDefault(),scope.updateChart()):scope.suggestions.isEmpty()||(e.preventDefault(),insertSuggestionIntoExpression(scope.suggestions.index));break;case _eui.comboBoxKeyCodes.ESCAPE:e.preventDefault(),scope.suggestions.hide()}},scope.onKeyUpInput=function(e){isNavigationalKey(e.keyCode)||getSuggestions()},scope.onClickExpression=function(){getSuggestions()},scope.onClickSuggestion=function(index){insertSuggestionIntoExpression(index)},scope.getActiveSuggestionId=function(){return scope.suggestions.isVisible&&scope.suggestions.index>-1?"timelionSuggestion"+scope.suggestions.index:""},function(){$http.get("../api/timelion/functions").then(function(resp){Object.assign(functionReference,{byName:_lodash2.default.indexBy(resp.data,"name"),list:resp.data})})}()}}})},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_timelion_interval=__webpack_require__(3701),_timelion_interval2=_interopRequireDefault(_timelion_interval);__webpack_require__(3702),__webpack_require__(2).get("apps/timelion",[]).directive("timelionInterval",function($compile,$timeout){return{restrict:"E",scope:{model:"="},template:_timelion_interval2.default,link:function($scope,$elem){$scope.intervalOptions=["auto","1s","1m","1h","1d","1w","1M","1y","other"],$scope.intervalLabels={auto:"auto","1s":"1 second","1m":"1 minute","1h":"1 hour","1d":"1 day","1w":"1 week","1M":"1 month","1y":"1 year",other:"other"},$scope.$watch("model",function(newVal,oldVal){newVal===oldVal&&null!=oldVal&&(_lodash2.default.contains($scope.intervalOptions,newVal)?$scope.interval=newVal:$scope.interval="other","other"!==newVal&&($scope.otherInterval=newVal))}),$scope.$watch("interval",function(newVal,oldVal){newVal!==oldVal&&("other"===newVal?($scope.otherInterval=oldVal,$scope.model=$scope.otherInterval,$timeout(function(){(0,_jquery2.default)("input",$elem).select()},0)):($scope.otherInterval=$scope.interval,$scope.model=$scope.interval))}),$scope.$watch("otherInterval",function(newVal,oldVal){newVal!==oldVal&&($scope.model=newVal)})}}})},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VisTypeProvider(){var VisType=function(){function VisType(opts){if(_classCallCheck(this,VisType),opts=opts||{},!opts.name)throw"vis_type must define its name";if(!opts.title)throw"vis_type must define its title";if(!opts.description)throw"vis_type must define its description";if(!opts.icon&&!opts.image)throw"vis_type must define its icon or image";if(!opts.visualization)throw"vis_type must define visualization controller";var _defaults={category:_vis_category.CATEGORY.OTHER,visualization:null,visConfig:{defaults:{}},requestHandler:"courier",responseHandler:"tabify",editor:"default",editorConfig:{collections:{}},options:{showTimePicker:!0,showQueryBar:!0,showFilterBar:!0,showIndexSelection:!0,hierarchicalData:!1},stage:"production",feedbackMessage:""};_lodash2.default.defaultsDeep(this,opts,_defaults),this.requiresSearch=!("none"===this.requestHandler)}return _createClass(VisType,[{key:"shouldMarkAsExperimentalInUI",value:function(){return"experimental"===this.stage||"lab"===this.stage}}]),VisType}();return Object.defineProperty(VisType.prototype,"schemas",{get:function(){return this.editorConfig&&this.editorConfig.schemas?this.editorConfig.schemas:[]}}),VisType}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VisTypeProvider=VisTypeProvider;var _vis_category=__webpack_require__(63),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_visualize_legend=__webpack_require__(3724),_visualize_legend2=_interopRequireDefault(_visualize_legend),_data=__webpack_require__(700),_filter_bar_click_handler=__webpack_require__(371),_modules=__webpack_require__(2),_eui=__webpack_require__(5);_modules.uiModules.get("kibana").directive("visualizeLegend",function(Private,getAppState,$timeout){var Data=Private(_data.VislibLibDataProvider),filterBarClickHandler=Private(_filter_bar_click_handler.FilterBarClickHandlerProvider);return{restrict:"E",template:_visualize_legend2.default,link:function($scope){function refresh(){var vislibVis=$scope.vis.vislibVis;if(!vislibVis||!vislibVis.visConfig)return void($scope.labels=[{label:"loading ..."}]);if(null==$scope.uiState.get("vis.legendOpen")&&null!=$scope.vis.params.addLegend&&($scope.open=$scope.vis.params.addLegend),["heatmap","gauge"].includes(vislibVis.visConfigArgs.type)){var labels=vislibVis.getLegendLabels();labels&&($scope.labels=_lodash2.default.map(labels,function(label){return{label:label}}))}else $scope.labels=getLabels($scope.data,vislibVis.visConfigArgs.type);vislibVis.visConfig&&($scope.getColor=vislibVis.visConfig.data.getColorFunc())}function getLabels(data,type){return data?(data=data.columns||data.rows||[data],"pie"===type?Data.prototype.pieNames(data):getSeriesLabels(data)):[]}function getSeriesLabels(data){var values=data.map(function(chart){return chart.series}).reduce(function(a,b){return a.concat(b)},[]);return _lodash2.default.compact(_lodash2.default.uniq(values,"label"))}var $state=getAppState(),clickHandler=filterBarClickHandler($state);$scope.legendId=(0,_eui.htmlIdGenerator)()("legend"),$scope.open=$scope.uiState.get("vis.legendOpen",!0),$scope.$watch("visData",function(data){data&&($scope.data=data)}),$scope.$watch("refreshLegend",function(){refresh()}),$scope.highlight=function(event){var el=event.currentTarget,handler=$scope.vis.vislibVis.handler;handler&&"function"==typeof handler.highlight&&handler.highlight.call(el,handler.el)},$scope.unhighlight=function(event){var el=event.currentTarget,handler=$scope.vis.vislibVis.handler;handler&&"function"==typeof handler.unHighlight&&handler.unHighlight.call(el,handler.el)},$scope.setColor=function(label,color){var colors=$scope.uiState.get("vis.colors")||{};colors[label]===color?delete colors[label]:colors[label]=color,$scope.uiState.setSilent("vis.colors",null),$scope.uiState.set("vis.colors",colors),$scope.uiState.emit("colorChanged"),refresh()},$scope.toggleLegend=function(){var bwcAddLegend=$scope.vis.params.addLegend,bwcLegendStateDefault=null==bwcAddLegend||bwcAddLegend;$scope.open=!$scope.uiState.get("vis.legendOpen",bwcLegendStateDefault),$timeout(function(){$scope.uiState.set("vis.legendOpen",$scope.open)})},$scope.getToggleLegendClasses=function(){switch($scope.vis.params.legendPosition){case"top":return $scope.open?"fa-chevron-circle-up":"fa-chevron-circle-down";case"bottom":return $scope.open?"fa-chevron-circle-down":"fa-chevron-circle-up";case"left":return $scope.open?"fa-chevron-circle-left":"fa-chevron-circle-right";case"right":default:return $scope.open?"fa-chevron-circle-right":"fa-chevron-circle-left"}},$scope.filter=function(legendData,negate){clickHandler({point:legendData,negate:negate})},$scope.canFilter=function(legendData){return(clickHandler({point:legendData},!0)||[]).length},$scope.onLegendEntryKeydown=function(event,scope){event.keyCode===_eui.keyCodes.ESCAPE&&scope.showDetails&&(event.preventDefault(),event.stopPropagation(),scope.showDetails=!1)},$scope.colors=["#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"]}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function VislibComponentsZeroInjectionOrderedXKeysProvider(Private){var getUniqKeys=Private(_uniq_keys.VislibComponentsZeroInjectionUniqKeysProvider);return function(obj){var orderBucketsBySum=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!_lodash2.default.isObject(obj))throw new Error("OrderedXKeysUtilService expects an object");var uniqKeys=getUniqKeys(obj),uniqKeysPairs=[].concat(_toConsumableArray(uniqKeys.entries())),interval=_lodash2.default.get(obj,"ordered.interval"),dateInterval=!!_moment2.default.isDuration(interval)&&interval;return(0,_lodash2.default)(uniqKeysPairs).sortBy(function(d){return d[1].isDate||d[1].isOrdered?+d[0]:orderBucketsBySum?-d[1].sum:d[1].index}).map(function(d,i,list){if(!d[1].isNumber)return d[0];var val=+d[0];if(null==interval)return val;var gapEdge=parseFloat(_lodash2.default.get(list,[i+1,0]));if(isNaN(gapEdge))return val;var vals=[],next=val;if(dateInterval)for(next=(0,_moment2.default)(val);next<gapEdge;)vals.push(next.valueOf()),next.add(dateInterval);else for(;next<gapEdge;)vals.push(next),next+=interval;return vals}).flatten().value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionOrderedXKeysProvider=VislibComponentsZeroInjectionOrderedXKeysProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_uniq_keys=__webpack_require__(3726)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createColorPalette(num){if(!_lodash2.default.isNumber(num))throw new TypeError("ColorPaletteUtilService expects a number");var colors=_seed_colors.seedColors,seedLength=_seed_colors.seedColors.length;return _lodash2.default.times(num-seedLength,function(i){colors.push(_d2.default.hsl((360*fraction(i+seedLength+1)+offset)%360,.5,.5).toString())}),colors}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createColorPalette=createColorPalette;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_seed_colors=__webpack_require__(1222),offset=300,fraction=function(goal){var b=(goal+2).toString(2).split("").map(function(num){return parseInt(num,10)});return b.shift(),function walkTree(numerator,denominator,bytes){return bytes.length?walkTree(2*numerator+(bytes.pop()?1:-1),2*denominator,bytes):numerator/denominator}(1,2,b)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.seedColors=["#00a69b","#57c17b","#6f87d8","#663db8","#bc52bc","#9e3533","#daa05d"]},function(module,exports,__webpack_require__){"use strict";function AggResponsePointSeriesProvider(Private){var getSeries=Private(_get_series.PointSeriesGetSeriesProvider),getAspects=Private(_get_aspects.PointSeriesGetAspectsProvider),initYAxis=Private(_init_y_axis.PointSeriesInitYAxisProvider),initXAxis=Private(_init_x_axis.PointSeriesInitXAxisProvider),setupOrderedDateXAxis=Private(_ordered_date_axis.PointSeriesOrderedDateAxisProvider),tooltipFormatter=Private(_tooltip_formatter.PointSeriesTooltipFormatter);return function(vis,table){var chart={},aspects=chart.aspects=getAspects(vis,table);return chart.tooltipFormatter=tooltipFormatter,initXAxis(chart),initYAxis(chart),aspects.x.agg.type.ordered&&aspects.x.agg.type.ordered.date&&setupOrderedDateXAxis(vis,chart),chart.series=getSeries(table.rows,chart),delete chart.aspects,chart}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggResponsePointSeriesProvider=AggResponsePointSeriesProvider;var _get_series=__webpack_require__(3736),_get_aspects=__webpack_require__(3739),_init_y_axis=__webpack_require__(3741),_init_x_axis=__webpack_require__(3742),_ordered_date_axis=__webpack_require__(3743),_tooltip_formatter=__webpack_require__(3744)},function(module,exports,__webpack_require__){"use strict";function VislibPieConfigProvider(){return function(config){return config.chart||(config.chart=_lodash2.default.defaults({},config,{type:"pie",labels:{show:!1,truncate:100}})),config}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibPieConfigProvider=VislibPieConfigProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibTypesPointSeries(){function create(opts){return opts=opts||{},function(cfg,data){var isUserDefinedYAxis=cfg.setYExtents,config=_lodash2.default.cloneDeep(cfg);if(_lodash2.default.defaultsDeep(config,{chartTitle:{},mode:"normal"},opts),config.type="point_series",config.tooltip||(config.tooltip={show:cfg.addTooltip}),config.valueAxes)config.valueAxes.forEach(function(axis){axis.labels&&(axis.labels.axisFormatter=data.data.yAxisFormatter||data.get("yAxisFormatter"))});else{var mode=config.mode;["stacked","overlap"].includes(mode)&&(mode="normal"),config.valueAxes=[{id:"ValueAxis-1",type:"value",scale:{type:config.scale,setYExtents:config.setYExtents,defaultYExtents:config.defaultYExtents,min:isUserDefinedYAxis?config.yAxis.min:void 0,max:isUserDefinedYAxis?config.yAxis.max:void 0,mode:mode},labels:{axisFormatter:data.data.yAxisFormatter||data.get("yAxisFormatter")},title:{text:data.get("yAxisLabel")}}]}if(config.categoryAxes){var categoryAxis1=config.categoryAxes.find(function(categoryAxis){return"CategoryAxis-1"===categoryAxis.id});categoryAxis1&&(categoryAxis1.title.text=data.get("xAxisLabel"))}else config.categoryAxes=[{id:"CategoryAxis-1",type:"category",labels:{axisFormatter:data.data.xAxisFormatter||data.get("xAxisFormatter")},scale:{expandLastBucket:opts.expandLastBucket},title:{text:data.get("xAxisLabel")}}];return config.charts||(config.charts=createCharts(cfg,data.data)),void 0===config.enableHover&&(config.enableHover=!0),config}}var createSerieFromParams=function(cfg,seri){var matchingSeriesParams=cfg.seriesParams?cfg.seriesParams.find(function(seriConfig){return seri.aggId===seriConfig.data.id}):null,interpolate=cfg.smoothLines?"cardinal":cfg.interpolate;if(!matchingSeriesParams){var stacked=["stacked","percentage","wiggle","silhouette"].includes(cfg.mode);return{show:!0,type:cfg.type||"line",mode:stacked?"stacked":"normal",interpolate:interpolate,drawLinesBetweenPoints:cfg.drawLinesBetweenPoints,showCircles:cfg.showCircles,radiusRatio:cfg.radiusRatio,data:seri}}return _extends({},matchingSeriesParams,{data:seri,radiusRatio:cfg.radiusRatio})},createSeries=function(cfg,series){return{type:"point_series",addTimeMarker:cfg.addTimeMarker,series:_lodash2.default.map(series,function(seri){return createSerieFromParams(cfg,seri)})}},createCharts=function(cfg,data){if(data.rows||data.columns){return(data.rows?data.rows:data.columns).map(function(chart){return createSeries(cfg,chart.series)})}return[createSeries(cfg,data.series)]};return{line:create(),column:create({expandLastBucket:!0}),area:create({alerts:[{type:"warning",msg:'Positive and negative values are not accurately represented by stacked area charts. Either changing the chart mode to "overlap" or using a bar chart is recommended.',test:function(vis,data){if(data.shouldBeStacked()&&!(data.maxNumberOfSeries()<2)){var hasPos=data.getYMax(data._getY)>0,hasNeg=data.getYMin(data._getY)<0;return hasPos&&hasNeg}}},{type:"warning",msg:"Parts of or the entire area chart might not be displayed due to null values in the data. A line chart is recommended when displaying data with null values.",test:function(vis,data){return data.hasNullValues()}}]}),heatmap:function(cfg,data){var defaults=create()(cfg,data),hasCharts=defaults.charts.length,tooManySeries=defaults.charts.length&&defaults.charts[0].series.length>25;return hasCharts&&tooManySeries&&(defaults.error="There are too many series defined."),defaults.valueAxes[0].show=!1,defaults.categoryAxes[0].style={rangePadding:0,rangeOuterPadding:0},defaults.categoryAxes.push({id:"CategoryAxis-2",type:"category",position:"left",values:data.getLabels(),scale:{inverted:!0},labels:{filter:!1,axisFormatter:function(val){return val}},style:{rangePadding:0,rangeOuterPadding:0},title:{text:data.get("zAxisLabel")||""}}),defaults}}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.VislibTypesPointSeries=VislibTypesPointSeries;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibTypesProvider(Private){var pointSeries=Private(_point_series.VislibTypesPointSeries);return{histogram:pointSeries.column,horizontal_bar:pointSeries.column,line:pointSeries.line,pie:Private(_pie.VislibPieConfigProvider),area:pointSeries.area,point_series:pointSeries.line,heatmap:pointSeries.heatmap,gauge:Private(_gauge.vislibGaugeProvider),goal:Private(_gauge.vislibGaugeProvider),metric:Private(_gauge.vislibGaugeProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibTypesProvider=VislibTypesProvider;var _point_series=__webpack_require__(1225),_pie=__webpack_require__(1224),_gauge=__webpack_require__(3747)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutLayoutTypesProvider(Private){return{pie:Private(_pie_layout.VislibLibLayoutTypesPieLayoutProvider),gauge:Private(_gauge_layout.GaugeLayoutProvider),goal:Private(_gauge_layout.GaugeLayoutProvider),metric:Private(_gauge_layout.GaugeLayoutProvider),point_series:Private(_column_layout.VislibLibLayoutTypesColumnLayoutProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutLayoutTypesProvider=VislibLibLayoutLayoutTypesProvider;var _column_layout=__webpack_require__(3748),_pie_layout=__webpack_require__(3753),_gauge_layout=__webpack_require__(3756)},function(module,exports,__webpack_require__){"use strict";function VislibVisualizationsVisTypesProvider(Private){return{pie:Private(_pie_chart.VislibVisualizationsPieChartProvider),point_series:Private(_point_series.VislibVisualizationsPointSeriesProvider),gauge:Private(_gauge_chart.GaugeChartProvider),goal:Private(_gauge_chart.GaugeChartProvider),metric:Private(_gauge_chart.GaugeChartProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibVisualizationsVisTypesProvider=VislibVisualizationsVisTypesProvider;var _point_series=__webpack_require__(3758),_pie_chart=__webpack_require__(3771),_gauge_chart=__webpack_require__(3772)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _binder=__webpack_require__(3760);Object.defineProperty(exports,"Binder",{enumerable:!0,get:function(){return _binder.Binder}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncateLabel=void 0;var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),truncateLabel=function(text,size){var node=_d2.default.select(text).node(),str=(0,_jquery2.default)(node).text();return 0===size?str:size>=str.length?str:str.substr(0,size)+"…"};exports.truncateLabel=truncateLabel},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibLibAxisProvider(Private){var ErrorHandler=Private(_error_handler.VislibLibErrorHandlerProvider),AxisTitle=Private(_axis_title.VislibLibAxisTitleProvider),AxisLabels=Private(_axis_labels.VislibAxisLabelsProvider),AxisScale=Private(_axis_scale.VislibAxisScaleProvider),AxisConfig=Private(_axis_config.VislibLibAxisConfigProvider);return function(_ErrorHandler){function Axis(visConfig,axisConfigArgs){_classCallCheck(this,Axis);var _this=_possibleConstructorReturn(this,(Axis.__proto__||Object.getPrototypeOf(Axis)).call(this));return _this.visConfig=visConfig,_this.axisConfig=new AxisConfig(_this.visConfig,axisConfigArgs),"category"===_this.axisConfig.get("type")&&(_this.values=_this.axisConfig.values,_this.ordered=_this.axisConfig.ordered),_this.axisScale=new AxisScale(_this.axisConfig,visConfig),_this.axisTitle=new AxisTitle(_this.axisConfig),_this.axisLabels=new AxisLabels(_this.axisConfig,_this.axisScale),_this.stack=_d2.default.layout.stack().x(function(d){return d.x}).y(function(d){return"function"==typeof _this.axisConfig.get("scale.offset")&&"expand"===_this.axisConfig.get("scale.offset").name?Math.abs(d.y):d.y}).offset(_this.axisConfig.get("scale.offset","zero")),["normal","grouped"].includes(_this.axisConfig.get("scale.mode"))&&(_this.stack=_this._stackNegAndPosVals),_this}return _inherits(Axis,_ErrorHandler),_createClass(Axis,[{key:"_stackNegAndPosVals",value:function(data){var cache={};return data.forEach(function(series){series.forEach(function(value){cache[value.x]||(cache[value.x]=[0,0]),value.y0=cache[value.x][value.y<0?0:1],cache[value.x][value.y<0?0:1]+=value.y})}),data}},{key:"render",value:function(){var elSelector=this.axisConfig.get("elSelector"),rootEl=this.axisConfig.get("rootEl");_d2.default.select(rootEl).selectAll(elSelector).call(this.draw())}},{key:"destroy",value:function(){var elSelector=this.axisConfig.get("elSelector"),rootEl=this.axisConfig.get("rootEl");(0,_jquery2.default)(rootEl).find(elSelector).find("svg").remove(),this.axisTitle.destroy()}},{key:"getAxis",value:function(length){var scale=this.axisScale.getScale(length),position=this.axisConfig.get("position"),axisFormatter=this.axisConfig.get("labels.axisFormatter");return _d2.default.svg.axis().scale(scale).tickFormat(axisFormatter).ticks(this.tickScale(length)).orient(position)}},{key:"getScale",value:function(){return this.axisScale.scale}},{key:"addInterval",value:function(interval){return this.axisScale.addInterval(interval)}},{key:"substractInterval",value:function(interval){return this.axisScale.substractInterval(interval)}},{key:"tickScale",value:function(length){var yTickScale=_d2.default.scale.linear().clamp(!0).domain([20,40,1e3]).range([0,3,11]);return Math.ceil(yTickScale(length))}},{key:"getLength",value:function(el){return this.axisConfig.isHorizontal()?(0,_jquery2.default)(el).width():(0,_jquery2.default)(el).height()}},{key:"adjustSize",value:function(){var config=this.axisConfig,style=config.get("style"),chartEl=this.visConfig.get("el"),position=config.get("position");return function(selection){var text=selection.selectAll(".tick text"),lengths=[];text.each(function(){var _this2=this;lengths.push(function(){return config.isHorizontal()?_d2.default.select(_this2.parentNode).node().getBBox().height:_d2.default.select(_this2.parentNode).node().getBBox().width}())});var length=lengths.length>0?_lodash2.default.max(lengths):0;if(length+=5,config.isHorizontal()){if(selection.attr("height",Math.ceil(length)),"top"===position&&(selection.select("g").attr("transform","translate(0, "+(length-parseInt(style.lineWidth))+")"),selection.select("path").attr("transform","translate(1,0)")),"value"===config.get("type")){var spacerNodes=(0,_jquery2.default)(chartEl).find(".y-axis-spacer-block-"+position),elHeight=(0,_jquery2.default)(chartEl).find(".axis-wrapper-"+position).height();spacerNodes.height(elHeight)}}else{var axisWidth=Math.ceil(length);selection.attr("width",axisWidth),"left"===position&&selection.select("g").attr("transform","translate("+axisWidth+",0)")}}}},{key:"validate",value:function(){if(this.axisConfig.isLogScale()&&this.axisConfig.isPercentage())throw new _errors.VislibError("Can't mix percentage mode with log scale.")}},{key:"draw",value:function(){var svgs=[],self=this,config=this.axisConfig,style=config.get("style");return function(selection){var n=selection[0].length;config.get("show")&&self.axisTitle&&["left","top"].includes(config.get("position"))&&self.axisTitle.render(selection),selection.each(function(){var el=this,div=_d2.default.select(el),width=(0,_jquery2.default)(el).width(),height=(0,_jquery2.default)(el).height(),length=self.getLength(el,n);self.validate();var axis=self.getAxis(length);if(config.get("show")){var svg=div.append("svg").attr("width",width).attr("height",height);svgs.push(svg);var axisClass=self.axisConfig.isHorizontal()?"x":"y";svg.append("g").attr("class",axisClass+" axis "+config.get("id")).call(axis);svg.select("g.axis").node()&&(svg.select("path").style("stroke",style.color).style("stroke-width",style.lineWidth).style("stroke-opacity",style.opacity),svg.selectAll("line").style("stroke",style.tickColor).style("stroke-width",style.tickWidth).style("stroke-opacity",style.opacity)),self.axisLabels&&self.axisLabels.render(svg)}}),self.axisTitle&&["right","bottom"].includes(config.get("position"))&&self.axisTitle.render(selection),svgs.forEach(function(svg){return svg.call(self.adjustSize())})}}}]),Axis}(ErrorHandler)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibAxisProvider=VislibLibAxisProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_error_handler=__webpack_require__(1233),_axis_title=__webpack_require__(3780),_axis_labels=__webpack_require__(3781),_axis_scale=__webpack_require__(3782),_axis_config=__webpack_require__(3783),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibErrorHandlerProvider(){return function(){function ErrorHandler(){_classCallCheck(this,ErrorHandler)}return _createClass(ErrorHandler,[{key:"validateWidthandHeight",value:function(width,height){var badWidth=_lodash2.default.isNaN(width)||width<=0,badHeight=_lodash2.default.isNaN(height)||height<=0;if(badWidth||badHeight)throw new _errors.ContainerTooSmall}}]),ErrorHandler}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibErrorHandlerProvider=VislibLibErrorHandlerProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibLibChartTitleProvider(Private){var ErrorHandler=Private(_error_handler.VislibLibErrorHandlerProvider),Tooltip=Private(_tooltip.TooltipProvider);return function(_ErrorHandler){function ChartTitle(visConfig){_classCallCheck(this,ChartTitle);var _this=_possibleConstructorReturn(this,(ChartTitle.__proto__||Object.getPrototypeOf(ChartTitle)).call(this));return _this.el=visConfig.get("el"),_this.tooltip=new Tooltip("chart-title",_this.el,function(d){return"<p>"+_lodash2.default.escape(d.label)+"</p>"}),_this}return _inherits(ChartTitle,_ErrorHandler),_createClass(ChartTitle,[{key:"render",value:function(){var el=_d2.default.select(this.el).select(".chart-title").node(),width=el?el.clientWidth:0,height=el?el.clientHeight:0;return _d2.default.select(this.el).selectAll(".chart-title").call(this.draw(width,height))}},{key:"truncate",value:function(size){var self=this;return function(selection){selection.each(function(){var text=_d2.default.select(this),n=text[0].length,maxWidth=size/n*.9,length=this.getComputedTextLength(),str=void 0,avg=void 0,end=void 0;return length>maxWidth?(str=text.text(),avg=length/str.length,end=Math.floor(maxWidth/avg)-5,str=str.substr(0,end)+"...",self.addMouseEvents(text),text.text(str)):text.text()})}}},{key:"addMouseEvents",value:function(target){if(this.tooltip)return target.call(this.tooltip.render())}},{key:"draw",value:function(width,height){var self=this;return function(selection){selection.each(function(){var div=_d2.default.select(this),dataType=this.parentNode.__data__.rows?"rows":"columns",size="rows"===dataType?height:width;self.validateWidthandHeight(width,height),div.append("svg").attr("width",width).attr("height",height).append("text").attr("transform",function(){return"rows"===dataType?"translate(11,"+height/2+")rotate(270)":"translate("+width/2+",11)"}).attr("text-anchor","middle").text(function(d){return d.label}),div.selectAll("text").call(self.truncate(size))})}}}]),ChartTitle}(ErrorHandler)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibChartTitleProvider=VislibLibChartTitleProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_error_handler=__webpack_require__(1233),_tooltip=__webpack_require__(701)},,,,,function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function($){$.color={},$.color.make=function(r,g,b,a){var o={};return o.r=r||0,o.g=g||0,o.b=b||0,o.a=null!=a?a:1,o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()},o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}return o.r=clamp(0,parseInt(o.r),255),o.g=clamp(0,parseInt(o.g),255),o.b=clamp(0,parseInt(o.b),255),o.a=clamp(0,o.a,1),o},o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)},o.normalize()},$.color.extract=function(elem,css){var c;do{if(""!=(c=elem.css(css).toLowerCase())&&"transparent"!=c)break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));return"rgba(0, 0, 0, 0)"==c&&(c="transparent"),$.color.parse(c)},$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]));if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]),parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();return"transparent"==name?m(255,255,255,0):(res=lookupColors[name]||[0,0,0],m(res[0],res[1],res[2]))};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function($){function Canvas(cls,container){var element=container.children("."+cls)[0];if(null==element&&(element=document.createElement("canvas"),element.className=cls,$(element).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(container),!element.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");element=window.G_vmlCanvasManager.initElement(element)}this.element=element;var context=this.context=element.getContext("2d"),devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio,this.resize(container.width(),container.height()),this.textContainer=null,this.text={},this._textCache={}}function Plot(placeholder,data_,options_,plugins){function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i)hook[i].apply(this,args)}function setData(d){series=parseData(d),fillInSeriesOptions(),processData()}function parseData(d){for(var res=[],i=0;i<d.length;++i){var s=$.extend(!0,{},options.series);null!=d[i].data?(s.data=d[i].data,delete d[i].data,$.extend(!0,s,d[i]),d[i].data=s.data):s.data=d[i],res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];return"object"==(void 0===a?"undefined":_typeof(a))&&(a=a.n),"number"!=typeof a&&(a=1),a}function allAxes(){return $.grep(xaxes.concat(yaxes),function(a){return a})}function canvasToAxisCoords(pos){var i,axis,res={};for(i=0;i<xaxes.length;++i)(axis=xaxes[i])&&axis.used&&(res["x"+axis.n]=axis.c2p(pos.left));for(i=0;i<yaxes.length;++i)(axis=yaxes[i])&&axis.used&&(res["y"+axis.n]=axis.c2p(pos.top));return void 0!==res.x1&&(res.x=res.x1),void 0!==res.y1&&(res.y=res.y1),res}function axisToCanvasCoords(pos){var i,axis,key,res={};for(i=0;i<xaxes.length;++i)if((axis=xaxes[i])&&axis.used&&(key="x"+axis.n,null==pos[key]&&1==axis.n&&(key="x"),null!=pos[key])){res.left=axis.p2c(pos[key]);break}for(i=0;i<yaxes.length;++i)if((axis=yaxes[i])&&axis.used&&(key="y"+axis.n,null==pos[key]&&1==axis.n&&(key="y"),null!=pos[key])){res.top=axis.p2c(pos[key]);break}return res}function getOrCreateAxis(axes,number){return axes[number-1]||(axes[number-1]={n:number,direction:axes==xaxes?"x":"y",options:$.extend(!0,{},axes==xaxes?options.xaxis:options.yaxis)}),axes[number-1]}function fillInSeriesOptions(){var i,neededColors=series.length,maxIndex=-1;for(i=0;i<series.length;++i){var sc=series[i].color;null!=sc&&(neededColors--,"number"==typeof sc&&sc>maxIndex&&(maxIndex=sc))}neededColors<=maxIndex&&(neededColors=maxIndex+1);var c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++)c=$.color.parse(colorPool[i%colorPoolSize]||"#666"),i%colorPoolSize==0&&i&&(variation=variation>=0?variation<.5?-variation-.2:0:-variation),colors[i]=c.scale("rgb",1+variation);var s,colori=0;for(i=0;i<series.length;++i){if(s=series[i],null==s.color?(s.color=colors[colori].toString(),++colori):"number"==typeof s.color&&(s.color=colors[s.color].toString()),null==s.lines.show){var v,show=!0;for(v in s)if(s[v]&&s[v].show){show=!1;break}show&&(s.lines.show=!0)}null==s.lines.zero&&(s.lines.zero=!!s.lines.fill),s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x")),s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){function updateAxis(axis,min,max){min<axis.datamin&&min!=-fakeInfinity&&(axis.datamin=min),max>axis.datamax&&max!=fakeInfinity&&(axis.datamax=max)}var i,j,k,m,s,points,ps,val,f,p,data,format,topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE;for($.each(allAxes(),function(_,axis){axis.datamin=topSentry,axis.datamax=bottomSentry,axis.used=!1}),i=0;i<series.length;++i)s=series[i],s.datapoints={points:[]},executeHooks(hooks.processRawData,[s,s.data,s.datapoints]);for(i=0;i<series.length;++i){if(s=series[i],data=s.data,!(format=s.datapoints.format)){if(format=[],format.push({x:!0,number:!0,required:!0}),format.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:autoscale}),s.bars.horizontal&&(delete format[format.length-1].y,format[format.length-1].x=!0)}s.datapoints.format=format}if(null==s.datapoints.pointsize){s.datapoints.pointsize=format.length,ps=s.datapoints.pointsize,points=s.datapoints.points;var insertSteps=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,j=k=0;j<data.length;++j,k+=ps){p=data[j];var nullify=null==p;if(!nullify)for(m=0;m<ps;++m)val=p[m],f=format[m],f&&(f.number&&null!=val&&(val=+val,isNaN(val)?val=null:val==1/0?val=fakeInfinity:val==-1/0&&(val=-fakeInfinity)),null==val&&(f.required&&(nullify=!0),null!=f.defaultValue&&(val=f.defaultValue))),points[k+m]=val;if(nullify)for(m=0;m<ps;++m)val=points[k+m],null!=val&&(f=format[m],!1!==f.autoscale&&(f.x&&updateAxis(s.xaxis,val,val),f.y&&updateAxis(s.yaxis,val,val))),points[k+m]=null;else if(insertSteps&&k>0&&null!=points[k-ps]&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m)points[k+ps+m]=points[k+m];points[k+1]=points[k-ps+1],k+=ps}}}}for(i=0;i<series.length;++i)s=series[i],executeHooks(hooks.processDatapoints,[s,s.datapoints]);for(i=0;i<series.length;++i){s=series[i],points=s.datapoints.points,ps=s.datapoints.pointsize,format=s.datapoints.format;var xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps)if(null!=points[j])for(m=0;m<ps;++m)val=points[j+m],(f=format[m])&&!1!==f.autoscale&&val!=fakeInfinity&&val!=-fakeInfinity&&(f.x&&(val<xmin&&(xmin=val),val>xmax&&(xmax=val)),f.y&&(val<ymin&&(ymin=val),val>ymax&&(ymax=val)));if(s.bars.show){var delta;switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}s.bars.horizontal?(ymin+=delta,ymax+=delta+s.bars.barWidth):(xmin+=delta,xmax+=delta+s.bars.barWidth)}updateAxis(s.xaxis,xmin,xmax),updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),function(_,axis){axis.datamin==topSentry&&(axis.datamin=null),axis.datamax==bottomSentry&&(axis.datamax=null)})}function shutdown(){redrawTimeout&&clearTimeout(redrawTimeout),eventHolder.unbind("mousemove",onMouseMove),eventHolder.unbind("mouseleave",onMouseLeave),eventHolder.unbind("click",onClick),executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;"x"==axis.direction?(s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min)),m=Math.min(t(axis.max),t(axis.min))):(s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min)),s=-s,m=Math.max(t(axis.max),t(axis.min))),axis.p2c=t==identity?function(p){return(p-m)*s}:function(p){return(t(p)-m)*s},axis.c2p=it?function(c){return it(m+c/s)}:function(c){return m+c/s}}function measureTickLabels(axis){for(var opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||("x"==axis.direction?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel",i=0;i<ticks.length;++i){var t=ticks[i];if(t.label){var info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width),labelHeight=Math.max(labelHeight,info.height)}}axis.labelWidth=opts.labelWidth||labelWidth,axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis="x"===axis.direction,tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=!0,outermost=!0,first=!0,found=!1;$.each(isXAxis?xaxes:yaxes,function(i,a){a&&(a.show||a.reserveSpace)&&(a===axis?found=!0:a.options.position===pos&&(found?outermost=!1:innermost=!1),found||(first=!1))}),outermost&&(axisMargin=0),null==tickLength&&(tickLength=first?"full":5),isNaN(+tickLength)||(padding+=+tickLength),isXAxis?(lh+=padding,"bottom"==pos?(plotOffset.bottom+=lh+axisMargin,axis.box={top:surface.height-plotOffset.bottom,height:lh}):(axis.box={top:plotOffset.top+axisMargin,height:lh},plotOffset.top+=lh+axisMargin)):(lw+=padding,"left"==pos?(axis.box={left:plotOffset.left+axisMargin,width:lw},plotOffset.left+=lw+axisMargin):(plotOffset.right+=lw+axisMargin,axis.box={left:surface.width-plotOffset.right,width:lw})),axis.position=pos,axis.tickLength=tickLength,axis.box.padding=padding,axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){"x"==axis.direction?(axis.box.left=plotOffset.left-axis.labelWidth/2,axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth):(axis.box.top=plotOffset.top-axis.labelHeight/2,axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight)}function adjustLayoutForThingsStickingOut(){var i,minMargin=options.grid.minBorderMargin;if(null==minMargin)for(minMargin=0,i=0;i<series.length;++i)minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2));var margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),function(_,axis){axis.reserveSpace&&axis.ticks&&axis.ticks.length&&("x"===axis.direction?(margins.left=Math.max(margins.left,axis.labelWidth/2),margins.right=Math.max(margins.right,axis.labelWidth/2)):(margins.bottom=Math.max(margins.bottom,axis.labelHeight/2),margins.top=Math.max(margins.top,axis.labelHeight/2)))}),plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left)),plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right)),plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top)),plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(){var i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){var margin=options.grid.margin||0;plotOffset[a]="number"==typeof margin?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset)"object"==_typeof(options.grid.borderWidth)?plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0:plotOffset[a]+=showGrid?options.grid.borderWidth:0;if($.each(axes,function(_,axis){var axisOpts=axis.options;axis.show=null==axisOpts.show?axis.used:axisOpts.show,axis.reserveSpace=null==axisOpts.reserveSpace?axis.show:axisOpts.reserveSpace,setRange(axis)}),showGrid){var allocatedAxes=$.grep(axes,function(axis){return axis.show||axis.reserveSpace});for($.each(allocatedAxes,function(_,axis){setupTickGeneration(axis),setTicks(axis),snapRangeToTicks(axis,axis.ticks),measureTickLabels(axis)}),i=allocatedAxes.length-1;i>=0;--i)allocateAxisBoxFirstPhase(allocatedAxes[i]);adjustLayoutForThingsStickingOut(),$.each(allocatedAxes,function(_,axis){allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right,plotHeight=surface.height-plotOffset.bottom-plotOffset.top,$.each(axes,function(_,axis){setTransformationHelpers(axis)}),showGrid&&drawAxisLabels(),insertLegend()}function setRange(axis){var opts=axis.options,min=+(null!=opts.min?opts.min:axis.datamin),max=+(null!=opts.max?opts.max:axis.datamax),delta=max-min;if(0==delta){var widen=0==max?1:.01;null==opts.min&&(min-=widen),null!=opts.max&&null==opts.min||(max+=widen)}else{var margin=opts.autoscaleMargin;null!=margin&&(null==opts.min&&(min-=delta*margin)<0&&null!=axis.datamin&&axis.datamin>=0&&(min=0),null==opts.max&&(max+=delta*margin)>0&&null!=axis.datamax&&axis.datamax<=0&&(max=0))}axis.min=min,axis.max=max}function setupTickGeneration(axis){var noTicks,opts=axis.options;noTicks="number"==typeof opts.ticks&&opts.ticks>0?opts.ticks:.3*Math.sqrt("x"==axis.direction?surface.width:surface.height);var delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;null!=maxDec&&dec>maxDec&&(dec=maxDec);var size,magn=Math.pow(10,-dec),norm=delta/magn;if(norm<1.5?size=1:norm<3?(size=2,norm>2.25&&(null==maxDec||dec+1<=maxDec)&&(size=2.5,++dec)):size=norm<7.5?5:10,size*=magn,null!=opts.minTickSize&&size<opts.minTickSize&&(size=opts.minTickSize),axis.delta=delta,axis.tickDecimals=Math.max(0,null!=maxDec?maxDec:dec),axis.tickSize=opts.tickSize||size,"time"==opts.mode&&!axis.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(axis.tickGenerator||(axis.tickGenerator=function(axis){var prev,ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN;do{prev=v,v=start+i*axis.tickSize,ticks.push(v),++i}while(v<axis.max&&v!=prev);return ticks},axis.tickFormatter=function(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){var decimal=formatted.indexOf("."),precision=-1==decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}),$.isFunction(opts.tickFormatter)&&(axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)}),null!=opts.alignTicksWithAxis){var otherAxis=("x"==axis.direction?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){var niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0&&(null==opts.min&&(axis.min=Math.min(axis.min,niceTicks[0])),null==opts.max&&niceTicks.length>1&&(axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1]))),axis.tickGenerator=function(axis){var v,i,ticks=[];for(i=0;i<otherAxis.ticks.length;++i)v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min),v=axis.min+v*(axis.max-axis.min),ticks.push(v);return ticks},!axis.mode&&null==opts.tickDecimals){var extraDec=Math.max(0,1-Math.floor(Math.log(axis.delta)/Math.LN10)),ts=axis.tickGenerator(axis);ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))||(axis.tickDecimals=extraDec)}}}}function setTicks(axis){var oticks=axis.options.ticks,ticks=[];null==oticks||"number"==typeof oticks&&oticks>0?ticks=axis.tickGenerator(axis):oticks&&(ticks=$.isFunction(oticks)?oticks(axis):oticks);var i,v;for(axis.ticks=[],i=0;i<ticks.length;++i){var label=null,t=ticks[i];"object"==(void 0===t?"undefined":_typeof(t))?(v=+t[0],t.length>1&&(label=t[1])):v=+t,null==label&&(label=axis.tickFormatter(v,axis)),isNaN(v)||axis.ticks.push({v:v,label:label})}}function snapRangeToTicks(axis,ticks){axis.options.autoscaleMargin&&ticks.length>0&&(null==axis.options.min&&(axis.min=Math.min(axis.min,ticks[0].v)),null==axis.options.max&&ticks.length>1&&(axis.max=Math.max(axis.max,ticks[ticks.length-1].v)))}function draw(){surface.clear(),executeHooks(hooks.drawBackground,[ctx]);var grid=options.grid;grid.show&&grid.backgroundColor&&drawBackground(),grid.show&&!grid.aboveData&&drawGrid();for(var i=0;i<series.length;++i)executeHooks(hooks.drawSeries,[ctx,series[i]]),drawSeries(series[i]);executeHooks(hooks.draw,[ctx]),grid.show&&grid.aboveData&&drawGrid(),surface.render(),triggerRedrawOverlay()}function extractRange(ranges,coord){for(var axis,from,to,key,axes=allAxes(),i=0;i<axes.length;++i)if(axis=axes[i],axis.direction==coord&&(key=coord+axis.n+"axis",ranges[key]||1!=axis.n||(key=coord+"axis"),ranges[key])){from=ranges[key].from,to=ranges[key].to;break}if(ranges[key]||(axis="x"==coord?xaxes[0]:yaxes[0],from=ranges[coord+"1"],to=ranges[coord+"2"]),null!=from&&null!=to&&from>to){var tmp=from;from=to,to=tmp}return{from:from,to:to,axis:axis}}function drawBackground(){ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)"),ctx.fillRect(0,0,plotWidth,plotHeight),ctx.restore()}function drawGrid(){var i,axes,bw,bc;ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var markings=options.grid.markings;if(markings)for($.isFunction(markings)&&(axes=plot.getAxes(),axes.xmin=axes.xaxis.min,axes.xmax=axes.xaxis.max,axes.ymin=axes.yaxis.min,axes.ymax=axes.yaxis.max,markings=markings(axes)),i=0;i<markings.length;++i){var m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");if(null==xrange.from&&(xrange.from=xrange.axis.min),null==xrange.to&&(xrange.to=xrange.axis.max),null==yrange.from&&(yrange.from=yrange.axis.min),null==yrange.to&&(yrange.to=yrange.axis.max),!(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)){xrange.from=Math.max(xrange.from,xrange.axis.min),xrange.to=Math.min(xrange.to,xrange.axis.max),yrange.from=Math.max(yrange.from,yrange.axis.min),yrange.to=Math.min(yrange.to,yrange.axis.max);var xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(!xequal||!yequal)if(xrange.from=Math.floor(xrange.axis.p2c(xrange.from)),xrange.to=Math.floor(xrange.axis.p2c(xrange.to)),yrange.from=Math.floor(yrange.axis.p2c(yrange.from)),yrange.to=Math.floor(yrange.axis.p2c(yrange.to)),xequal||yequal){var lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?.5:0;ctx.beginPath(),ctx.strokeStyle=m.color||options.grid.markingsColor,ctx.lineWidth=lineWidth,xequal?(ctx.moveTo(xrange.to+subPixel,yrange.from),ctx.lineTo(xrange.to+subPixel,yrange.to)):(ctx.moveTo(xrange.from,yrange.to+subPixel),ctx.lineTo(xrange.to,yrange.to+subPixel)),ctx.stroke()}else ctx.fillStyle=m.color||options.grid.markingsColor,ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}axes=allAxes(),bw=options.grid.borderWidth;for(var j=0;j<axes.length;++j){var x,y,xoff,yoff,axis=axes[j],box=axis.box,t=axis.tickLength;if(axis.show&&0!=axis.ticks.length){for(ctx.lineWidth=1,"x"==axis.direction?(x=0,y="full"==t?"top"==axis.position?0:plotHeight:box.top-plotOffset.top+("top"==axis.position?box.height:0)):(y=0,x="full"==t?"left"==axis.position?0:plotWidth:box.left-plotOffset.left+("left"==axis.position?box.width:0)),axis.innermost||(ctx.strokeStyle=axis.options.color,ctx.beginPath(),xoff=yoff=0,"x"==axis.direction?xoff=plotWidth+1:yoff=plotHeight+1,1==ctx.lineWidth&&("x"==axis.direction?y=Math.floor(y)+.5:x=Math.floor(x)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff),ctx.stroke()),ctx.strokeStyle=axis.options.tickColor,ctx.beginPath(),i=0;i<axis.ticks.length;++i){var v=axis.ticks[i].v;xoff=yoff=0,isNaN(v)||v<axis.min||v>axis.max||"full"==t&&("object"==(void 0===bw?"undefined":_typeof(bw))&&bw[axis.position]>0||bw>0)&&(v==axis.min||v==axis.max)||("x"==axis.direction?(x=axis.p2c(v),yoff="full"==t?-plotHeight:t,"top"==axis.position&&(yoff=-yoff)):(y=axis.p2c(v),xoff="full"==t?-plotWidth:t,"left"==axis.position&&(xoff=-xoff)),1==ctx.lineWidth&&("x"==axis.direction?x=Math.floor(x)+.5:y=Math.floor(y)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff))}ctx.stroke()}}bw&&(bc=options.grid.borderColor,"object"==(void 0===bw?"undefined":_typeof(bw))||"object"==(void 0===bc?"undefined":_typeof(bc))?("object"!==(void 0===bw?"undefined":_typeof(bw))&&(bw={top:bw,right:bw,bottom:bw,left:bw}),"object"!==(void 0===bc?"undefined":_typeof(bc))&&(bc={top:bc,right:bc,bottom:bc,left:bc}),bw.top>0&&(ctx.strokeStyle=bc.top,ctx.lineWidth=bw.top,ctx.beginPath(),ctx.moveTo(0-bw.left,0-bw.top/2),ctx.lineTo(plotWidth,0-bw.top/2),ctx.stroke()),bw.right>0&&(ctx.strokeStyle=bc.right,ctx.lineWidth=bw.right,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right/2,0-bw.top),ctx.lineTo(plotWidth+bw.right/2,plotHeight),ctx.stroke()),bw.bottom>0&&(ctx.strokeStyle=bc.bottom,ctx.lineWidth=bw.bottom,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2),ctx.lineTo(0,plotHeight+bw.bottom/2),ctx.stroke()),bw.left>0&&(ctx.strokeStyle=bc.left,ctx.lineWidth=bw.left,ctx.beginPath(),ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom),ctx.lineTo(0-bw.left/2,0),ctx.stroke())):(ctx.lineWidth=bw,ctx.strokeStyle=options.grid.borderColor,ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw))),ctx.restore()}function drawAxisLabels(){$.each(allAxes(),function(_,axis){var tick,x,y,halign,valign,box=axis.box,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel";if(surface.removeText(layer),axis.show&&0!=axis.ticks.length)for(var i=0;i<axis.ticks.length;++i)tick=axis.ticks[i],!tick.label||tick.v<axis.min||tick.v>axis.max||("x"==axis.direction?(halign="center",x=plotOffset.left+axis.p2c(tick.v),"bottom"==axis.position?y=box.top+box.padding:(y=box.top+box.height-box.padding,valign="bottom")):(valign="middle",y=plotOffset.top+axis.p2c(tick.v),"left"==axis.position?(x=box.left+box.width-box.padding,halign="right"):x=box.left+box.padding),surface.addText(layer,x,y,tick.label,font,null,null,halign,valign))})}function drawSeries(series){series.lines.show&&drawSeriesLines(series),series.bars.show&&drawSeriesBars(series),series.points.show&&drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(var i=ps;i<points.length;i+=ps){var x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null!=x1&&null!=x2){if(y1<=y2&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}x1==prevx&&y1==prevy||ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset),prevx=x2,prevy=y2,ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}}ctx.stroke()}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineJoin="round";var lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw,ctx.strokeStyle="rgba(0,0,0,0.1)";var angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis),ctx.lineWidth=sw/2,plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw,ctx.strokeStyle=series.color;var fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);fillStyle&&(ctx.fillStyle=fillStyle,function(datapoints,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,areaOpen=!1,ypos=1,segmentStart=0,segmentEnd=0;!(ps>0&&i>points.length+ps);){i+=ps;var x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&null!=x1&&null==x2){segmentEnd=i,ps=-ps,ypos=2;continue}if(ps<0&&i==segmentStart+ps){ctx.fill(),areaOpen=!1,ps=-ps,ypos=1,i=segmentStart=segmentEnd+ps;continue}}if(null!=x1&&null!=x2){if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}if(areaOpen||(ctx.beginPath(),ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom)),areaOpen=!0),y1>=axisy.max&&y2>=axisy.max)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));else if(y1<=axisy.min&&y2<=axisy.min)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));else{var x1old=x1,x2old=x2;y1<=y2&&y1<axisy.min&&y2>=axisy.min?(x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min):y2<=y1&&y2<axisy.min&&y1>=axisy.min&&(x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min),y1>=y2&&y1>axisy.max&&y2<=axisy.max?(x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max):y2>=y1&&y2>axisy.max&&y1<=axisy.max&&(x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max),x1!=x1old&&ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),x2!=x2old&&(ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2)))}}}}(series.datapoints,series.xaxis,series.yaxis)),lw>0&&plotLine(series.datapoints,0,0,series.xaxis,series.yaxis),ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps){var x=points[i],y=points[i+1];null==x||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max||(ctx.beginPath(),x=axisx.p2c(x),y=axisy.p2c(y)+offset,"circle"==symbol?ctx.arc(x,y,radius,0,shadow?Math.PI:2*Math.PI,!1):symbol(ctx,x,y,radius,shadow),ctx.closePath(),fillStyle&&(ctx.fillStyle=fillStyle,ctx.fill()),ctx.stroke())}}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(0==lw&&(lw=1e-4),lw>0&&sw>0){var w=sw/2;ctx.lineWidth=w,ctx.strokeStyle="rgba(0,0,0,0.1)",plotPoints(series.datapoints,radius,null,w+w/2,!0,series.xaxis,series.yaxis,symbol),ctx.strokeStyle="rgba(0,0,0,0.2)",plotPoints(series.datapoints,radius,null,w/2,!0,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw,ctx.strokeStyle=series.color,plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,!1,series.xaxis,series.yaxis,symbol),ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;horizontal?(drawBottom=drawRight=drawTop=!0,drawLeft=!1,left=b,right=x,top=y+barLeft,bottom=y+barRight,right<left&&(tmp=right,right=left,left=tmp,drawLeft=!0,drawRight=!1)):(drawLeft=drawRight=drawTop=!0,drawBottom=!1,left=x+barLeft,right=x+barRight,bottom=b,(top=y)<bottom&&(tmp=top,top=bottom,bottom=tmp,drawBottom=!0,drawTop=!1)),right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max||(left<axisx.min&&(left=axisx.min,drawLeft=!1),right>axisx.max&&(right=axisx.max,drawRight=!1),bottom<axisy.min&&(bottom=axisy.min,drawBottom=!1),top>axisy.max&&(top=axisy.max,drawTop=!1),left=axisx.p2c(left),bottom=axisy.p2c(bottom),right=axisx.p2c(right),top=axisy.p2c(top),fillStyleCallback&&(c.fillStyle=fillStyleCallback(bottom,top),c.fillRect(left,top,right-left,bottom-top)),lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)&&(c.beginPath(),c.moveTo(left,bottom),drawLeft?c.lineTo(left,top):c.moveTo(left,top),drawTop?c.lineTo(right,top):c.moveTo(right,top),drawRight?c.lineTo(right,bottom):c.moveTo(right,bottom),drawBottom?c.lineTo(left,bottom):c.moveTo(left,bottom),c.stroke()))}function drawSeriesBars(series){ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineWidth=series.bars.lineWidth,ctx.strokeStyle=series.color;var barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}var fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;!function(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps)null!=points[i]&&drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis),ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);var c=$.color.parse(seriesColor);return c.a="number"==typeof fill?fill:.4,c.normalize(),c.toString()}function insertLegend(){if(null!=options.legend.container?$(options.legend.container).html(""):placeholder.find(".legend").remove(),options.legend.show){for(var s,label,fragments=[],entries=[],rowStarted=!1,lf=options.legend.labelFormatter,i=0;i<series.length;++i)s=series[i],s.label&&(label=lf?lf(s.label,s):s.label)&&entries.push({label:label,color:s.color});if(options.legend.sorted)if($.isFunction(options.legend.sorted))entries.sort(options.legend.sorted);else if("reverse"==options.legend.sorted)entries.reverse();else{var ascending="descending"!=options.legend.sorted;entries.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=ascending?1:-1})}for(var i=0;i<entries.length;++i){var entry=entries[i];i%options.legend.noColumns==0&&(rowStarted&&fragments.push("</tr>"),fragments.push("<tr>"),rowStarted=!0),fragments.push('<td class="legendColorBox"><div style="border:1px solid '+options.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+entry.label+"</td>")}if(rowStarted&&fragments.push("</tr>"),0!=fragments.length){var table='<table style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+"</table>";if(null!=options.legend.container)$(options.legend.container).html(table);else{var pos="",p=options.legend.position,m=options.legend.margin;null==m[0]&&(m=[m,m]),"n"==p.charAt(0)?pos+="top:"+(m[1]+plotOffset.top)+"px;":"s"==p.charAt(0)&&(pos+="bottom:"+(m[1]+plotOffset.bottom)+"px;"),"e"==p.charAt(1)?pos+="right:"+(m[0]+plotOffset.right)+"px;":"w"==p.charAt(1)&&(pos+="left:"+(m[0]+plotOffset.left)+"px;");var legend=$('<div class="legend">'+table.replace('style="','style="position:absolute;'+pos+";")+"</div>").appendTo(placeholder);if(0!=options.legend.backgroundOpacity){var c=options.legend.backgroundColor;null==c&&(c=options.grid.backgroundColor,c=c&&"string"==typeof c?$.color.parse(c):$.color.extract(legend,"background-color"),c.a=1,c=c.toString());var div=legend.children();$('<div style="position:absolute;width:'+div.width()+"px;height:"+div.height()+"px;"+pos+"background-color:"+c+';"> </div>').prependTo(legend).css("opacity",options.legend.backgroundOpacity)}}}}}function findNearbyItem(mouseX,mouseY,seriesFilter){var i,j,ps,maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null;for(i=series.length-1;i>=0;--i)if(seriesFilter(series[i])){var s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;if(ps=s.datapoints.pointsize,axisx.options.inverseTransform&&(maxx=Number.MAX_VALUE),axisy.options.inverseTransform&&(maxy=Number.MAX_VALUE),s.lines.show||s.points.show)for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(null!=x&&!(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy)){var dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;dist<smallestDistance&&(smallestDistance=dist,item=[i,j/ps])}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}for(barRight=barLeft+s.bars.barWidth,j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];null!=x&&((series[i].bars.horizontal?mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&my<=y+barRight:mx>=x+barLeft&&mx<=x+barRight&&my>=Math.min(b,y)&&my<=Math.max(b,y))&&(item=[i,j/ps]))}}}return item?(i=item[0],j=item[1],ps=series[i].datapoints.pointsize,{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}):null}function onMouseMove(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return 0!=s.hoverable})}function onMouseLeave(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return!1})}function onClick(e){triggerClickHoverEvent("plotclick",e,function(s){return 0!=s.clickable})}function triggerClickHoverEvent(eventname,event,seriesFilter){var offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX,pos.pageY=event.pageY;var item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item&&(item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10),item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)),options.grid.autoHighlight){for(var i=0;i<highlights.length;++i){var h=highlights[i];h.auto!=eventname||item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]||unhighlight(h.series,h.point)}item&&highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;if(-1==t)return void drawOverlay();redrawTimeout||(redrawTimeout=setTimeout(drawOverlay,t))}function drawOverlay(){redrawTimeout=null,octx.save(),overlay.clear(),octx.translate(plotOffset.left,plotOffset.top);var i,hi;for(i=0;i<highlights.length;++i)hi=highlights[i],hi.series.bars.show?drawBarHighlight(hi.series,hi.point):drawPointHighlight(hi.series,hi.point);octx.restore(),executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);-1==i?(highlights.push({series:s,point:point,auto:auto}),triggerRedrawOverlay()):auto||(highlights[i].auto=!1)}function unhighlight(s,point){if(null==s&&null==point)return highlights=[],void triggerRedrawOverlay();if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);-1!=i&&(highlights.splice(i,1),triggerRedrawOverlay())}function indexOfHighlight(s,p){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString();if(!(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)){var pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius,octx.strokeStyle=highlightColor;var radius=1.5*pointRadius;x=axisx.p2c(x),y=axisy.p2c(y),octx.beginPath(),"circle"==series.points.symbol?octx.arc(x,y,radius,0,2*Math.PI,!1):series.points.symbol(octx,x,y,radius,!1),octx.closePath(),octx.stroke()}}function drawBarHighlight(series,point){var barLeft,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString(),fillStyle=highlightColor;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth,octx.strokeStyle=highlightColor,drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,function(){return fillStyle},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if("string"==typeof spec)return spec;for(var gradient=ctx.createLinearGradient(0,top,0,bottom),i=0,l=spec.colors.length;i<l;++i){var c=spec.colors[i];if("string"!=typeof c){var co=$.color.parse(defaultColor);null!=c.brightness&&(co=co.scale("rgb",c.brightness)),null!=c.opacity&&(co.a*=c.opacity),c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}var series=[],options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData,plot.setupGrid=setupGrid,plot.draw=draw,plot.getPlaceholder=function(){return placeholder},plot.getCanvas=function(){return surface.element},plot.getPlotOffset=function(){return plotOffset},plot.width=function(){return plotWidth},plot.height=function(){return plotHeight},plot.offset=function(){var o=eventHolder.offset();return o.left+=plotOffset.left,o.top+=plotOffset.top,o},plot.getData=function(){return series},plot.getAxes=function(){var res={};return $.each(xaxes.concat(yaxes),function(_,axis){axis&&(res[axis.direction+(1!=axis.n?axis.n:"")+"axis"]=axis)}),res},plot.getXAxes=function(){return xaxes},plot.getYAxes=function(){return yaxes},plot.c2p=canvasToAxisCoords,plot.p2c=axisToCanvasCoords,plot.getOptions=function(){return options},plot.highlight=highlight,plot.unhighlight=unhighlight,plot.triggerRedrawOverlay=triggerRedrawOverlay,plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}},plot.shutdown=shutdown,plot.destroy=function(){shutdown(),placeholder.removeData("plot").empty(),series=[],options=null,surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],hooks=null,highlights=[],plot=null},plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height),overlay.resize(width,height)},plot.hooks=hooks,function(){for(var classes={Canvas:Canvas},i=0;i<plugins.length;++i){var p=plugins[i];p.init(plot,classes),p.options&&$.extend(!0,options,p.options)}}(),function(opts){$.extend(!0,options,opts),opts&&opts.colors&&(options.colors=opts.colors),null==options.xaxis.color&&(options.xaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.yaxis.color&&(options.yaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.xaxis.tickColor&&(options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color),null==options.yaxis.tickColor&&(options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color),null==options.grid.borderColor&&(options.grid.borderColor=options.grid.color),null==options.grid.tickColor&&(options.grid.tickColor=$.color.parse(options.grid.color).scale("a",.22).toString());var i,axisOptions,axisCount,fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={style:placeholder.css("font-style"),size:Math.round(.8*fontSizeDefault),variant:placeholder.css("font-variant"),weight:placeholder.css("font-weight"),family:placeholder.css("font-family")};for(axisCount=options.xaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.xaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.xaxis,axisOptions),options.xaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(axisCount=options.yaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.yaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.yaxis,axisOptions),options.yaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(options.xaxis.noTicks&&null==options.xaxis.ticks&&(options.xaxis.ticks=options.xaxis.noTicks),options.yaxis.noTicks&&null==options.yaxis.ticks&&(options.yaxis.ticks=options.yaxis.noTicks),options.x2axis&&(options.xaxes[1]=$.extend(!0,{},options.xaxis,options.x2axis),options.xaxes[1].position="top",null==options.x2axis.min&&(options.xaxes[1].min=null),null==options.x2axis.max&&(options.xaxes[1].max=null)),options.y2axis&&(options.yaxes[1]=$.extend(!0,{},options.yaxis,options.y2axis),options.yaxes[1].position="right",null==options.y2axis.min&&(options.yaxes[1].min=null),null==options.y2axis.max&&(options.yaxes[1].max=null)),options.grid.coloredAreas&&(options.grid.markings=options.grid.coloredAreas),options.grid.coloredAreasColor&&(options.grid.markingsColor=options.grid.coloredAreasColor),options.lines&&$.extend(!0,options.series.lines,options.lines),options.points&&$.extend(!0,options.series.points,options.points),options.bars&&$.extend(!0,options.series.bars,options.bars),null!=options.shadowSize&&(options.series.shadowSize=options.shadowSize),null!=options.highlightColor&&(options.series.highlightColor=options.highlightColor),i=0;i<options.xaxes.length;++i)getOrCreateAxis(xaxes,i+1).options=options.xaxes[i];for(i=0;i<options.yaxes.length;++i)getOrCreateAxis(yaxes,i+1).options=options.yaxes[i];for(var n in hooks)options.hooks[n]&&options.hooks[n].length&&(hooks[n]=hooks[n].concat(options.hooks[n]));executeHooks(hooks.processOptions,[options])}(options_),function(){placeholder.css("padding",0).children().filter(function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass("flot-base")}).remove(),"static"==placeholder.css("position")&&placeholder.css("position","relative"),surface=new Canvas("flot-base",placeholder),overlay=new Canvas("flot-overlay",placeholder),ctx=surface.context,octx=overlay.context,eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");existing&&(existing.shutdown(),overlay.clear()),placeholder.data("plot",plot)}(),setData(data_),setupGrid(),draw(),function(){options.grid.hoverable&&(eventHolder.mousemove(onMouseMove),eventHolder.bind("mouseleave",onMouseLeave)),options.grid.clickable&&eventHolder.click(onClick),executeHooks(hooks.bindEvents,[eventHolder])}();var highlights=[],redrawTimeout=null}function floorInBase(n,base){return base*Math.floor(n/base)}var hasOwnProperty=Object.prototype.hasOwnProperty;$.fn.detach||($.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),Canvas.prototype.resize=function(width,height){if(width<=0||height<=0)throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height);var element=this.element,context=this.context,pixelRatio=this.pixelRatio;this.width!=width&&(element.width=width*pixelRatio,element.style.width=width+"px",this.width=width),this.height!=height&&(element.height=height*pixelRatio,element.style.height=height+"px",this.height=height),context.restore(),context.save(),context.scale(pixelRatio,pixelRatio)},Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Canvas.prototype.render=function(){var cache=this._textCache;for(var layerKey in cache)if(hasOwnProperty.call(cache,layerKey)){var layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key)){for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active?position.rendered||(layer.append(position.element),position.rendered=!0):(positions.splice(i--,1),position.rendered&&position.element.detach());0==positions.length&&delete styleCache[key]}}layer.show()}},Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];return null==layer&&(null==this.textContainer&&(this.textContainer=$("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),layer=this.text[classes]=$("<div></div>").addClass(classes).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),layer},Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info;if(text=""+text,textStyle="object"===(void 0===font?"undefined":_typeof(font))?font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family:font,layerCache=this._textCache[layer],null==layerCache&&(layerCache=this._textCache[layer]={}),styleCache=layerCache[textStyle],null==styleCache&&(styleCache=layerCache[textStyle]={}),null==(info=styleCache[text])){var element=$("<div></div>").html(text).css({position:"absolute","max-width":width,top:-9999}).appendTo(this.getTextLayer(layer));"object"===(void 0===font?"undefined":_typeof(font))?element.css({font:textStyle,color:font.color}):"string"==typeof font&&element.addClass(font),info=styleCache[text]={width:element.outerWidth(!0),height:element.outerHeight(!0),element:element,positions:[]},element.detach()}return info},Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;"center"==halign?x-=info.width/2:"right"==halign&&(x-=info.width),"middle"==valign?y-=info.height/2:"bottom"==valign&&(y-=info.height);for(var position,i=0;position=positions[i];i++)if(position.x==x&&position.y==y)return void(position.active=!0);position={active:!0,rendered:!1,element:positions.length?info.element.clone():info.element,x:x,y:y},positions.push(position),position.element.css({top:Math.round(y),left:Math.round(x),"text-align":halign})},Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(null==text){var layerCache=this._textCache[layer];if(null!=layerCache)for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key))for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active=!1}}else for(var position,positions=this.getTextInfo(layer,text,font,angle).positions,i=0;position=positions[i];i++)position.x==x&&position.y==y&&(position.active=!1)},$.plot=function(placeholder,data,options){return new Plot($(placeholder),data,options,$.plot.plugins)},$.plot.version="0.8.3",$.plot.plugins=[],$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})}}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function floorInBase(n,base){return base*Math.floor(n/base)}function formatDate(d,fmt,monthNames,dayNames){if("function"==typeof d.strftime)return d.strftime(fmt);var leftPad=function(n,pad){return n=""+n,pad=""+(null==pad?"0":pad),1==n.length?pad+n:n},r=[],escape=!1,hours=d.getHours(),isAM=hours<12;null==monthNames&&(monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==dayNames&&(dayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var hours12;hours12=hours>12?hours-12:0==hours?12:hours;for(var i=0;i<fmt.length;++i){var c=fmt.charAt(i);if(escape){switch(c){case"a":c=""+dayNames[d.getDay()];break;case"b":c=""+monthNames[d.getMonth()];break;case"d":c=leftPad(d.getDate());break;case"e":c=leftPad(d.getDate()," ");break;case"h":case"H":c=leftPad(hours);break;case"I":c=leftPad(hours12);break;case"l":c=leftPad(hours12," ");break;case"m":c=leftPad(d.getMonth()+1);break;case"M":c=leftPad(d.getMinutes());break;case"q":c=""+(Math.floor(d.getMonth()/3)+1);break;case"S":c=leftPad(d.getSeconds());break;case"y":c=leftPad(d.getFullYear()%100);break;case"Y":c=""+d.getFullYear();break;case"p":c=isAM?"am":"pm";break;case"P":c=isAM?"AM":"PM";break;case"w":c=""+d.getDay()}r.push(c),escape=!1}else"%"==c?escape=!0:r.push(c)}return r.join("")}function makeUtcWrapper(d){function addProxyMethod(sourceObj,sourceMethod,targetObj,targetMethod){sourceObj[sourceMethod]=function(){return targetObj[targetMethod].apply(targetObj,arguments)}}var utc={date:d};void 0!=d.strftime&&addProxyMethod(utc,"strftime",d,"strftime"),addProxyMethod(utc,"getTime",d,"getTime"),addProxyMethod(utc,"setTime",d,"setTime");for(var props=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],p=0;p<props.length;p++)addProxyMethod(utc,"get"+props[p],d,"getUTC"+props[p]),addProxyMethod(utc,"set"+props[p],d,"setUTC"+props[p]);return utc}function dateGenerator(ts,opts){if("browser"==opts.timezone)return new Date(ts);if(opts.timezone&&"utc"!=opts.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var d=new timezoneJS.Date;return d.setTimezone(opts.timezone),d.setTime(ts),d}return makeUtcWrapper(new Date(ts))}return makeUtcWrapper(new Date(ts))}function init(plot){plot.hooks.processOptions.push(function(plot,options){$.each(plot.getAxes(),function(axisName,axis){var opts=axis.options;"time"==opts.mode&&(axis.tickGenerator=function(axis){var ticks=[],d=dateGenerator(axis.min,opts),minSize=0,spec=opts.tickSize&&"quarter"===opts.tickSize[1]||opts.minTickSize&&"quarter"===opts.minTickSize[1]?specQuarters:specMonths;null!=opts.minTickSize&&(minSize="number"==typeof opts.tickSize?opts.tickSize:opts.minTickSize[0]*timeUnitSize[opts.minTickSize[1]]);for(var i=0;i<spec.length-1&&!(axis.delta<(spec[i][0]*timeUnitSize[spec[i][1]]+spec[i+1][0]*timeUnitSize[spec[i+1][1]])/2&&spec[i][0]*timeUnitSize[spec[i][1]]>=minSize);++i);var size=spec[i][0],unit=spec[i][1];if("year"==unit){if(null!=opts.minTickSize&&"year"==opts.minTickSize[1])size=Math.floor(opts.minTickSize[0]);else{var magn=Math.pow(10,Math.floor(Math.log(axis.delta/timeUnitSize.year)/Math.LN10)),norm=axis.delta/timeUnitSize.year/magn;size=norm<1.5?1:norm<3?2:norm<7.5?5:10,size*=magn}size<1&&(size=1)}axis.tickSize=opts.tickSize||[size,unit];var tickSize=axis.tickSize[0];unit=axis.tickSize[1];var step=tickSize*timeUnitSize[unit];"second"==unit?d.setSeconds(floorInBase(d.getSeconds(),tickSize)):"minute"==unit?d.setMinutes(floorInBase(d.getMinutes(),tickSize)):"hour"==unit?d.setHours(floorInBase(d.getHours(),tickSize)):"month"==unit?d.setMonth(floorInBase(d.getMonth(),tickSize)):"quarter"==unit?d.setMonth(3*floorInBase(d.getMonth()/3,tickSize)):"year"==unit&&d.setFullYear(floorInBase(d.getFullYear(),tickSize)),d.setMilliseconds(0),step>=timeUnitSize.minute&&d.setSeconds(0),step>=timeUnitSize.hour&&d.setMinutes(0),step>=timeUnitSize.day&&d.setHours(0),step>=4*timeUnitSize.day&&d.setDate(1),step>=2*timeUnitSize.month&&d.setMonth(floorInBase(d.getMonth(),3)),step>=2*timeUnitSize.quarter&&d.setMonth(floorInBase(d.getMonth(),6)),step>=timeUnitSize.year&&d.setMonth(0);var prev,carry=0,v=Number.NaN;do{if(prev=v,v=d.getTime(),ticks.push(v),"month"==unit||"quarter"==unit)if(tickSize<1){d.setDate(1);var start=d.getTime();d.setMonth(d.getMonth()+("quarter"==unit?3:1));var end=d.getTime();d.setTime(v+carry*timeUnitSize.hour+(end-start)*tickSize),carry=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+tickSize*("quarter"==unit?3:1));else"year"==unit?d.setFullYear(d.getFullYear()+tickSize):d.setTime(v+step)}while(v<axis.max&&v!=prev);return ticks},axis.tickFormatter=function(v,axis){var d=dateGenerator(v,axis.options);if(null!=opts.timeformat)return formatDate(d,opts.timeformat,opts.monthNames,opts.dayNames);var fmt,useQuarters=axis.options.tickSize&&"quarter"==axis.options.tickSize[1]||axis.options.minTickSize&&"quarter"==axis.options.minTickSize[1],t=axis.tickSize[0]*timeUnitSize[axis.tickSize[1]],span=axis.max-axis.min,suffix=opts.twelveHourClock?" %p":"",hourCode=opts.twelveHourClock?"%I":"%H";return fmt=t<timeUnitSize.minute?hourCode+":%M:%S"+suffix:t<timeUnitSize.day?span<2*timeUnitSize.day?hourCode+":%M"+suffix:"%b %d "+hourCode+":%M"+suffix:t<timeUnitSize.month?"%b %d":useQuarters&&t<timeUnitSize.quarter||!useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"%b":"%b %Y":useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"Q%q":"Q%q %Y":"%Y",formatDate(d,fmt,opts.monthNames,opts.dayNames)})})})}var options={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},timeUnitSize={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},baseSpec=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],specMonths=baseSpec.concat([[3,"month"],[6,"month"],[1,"year"]]),specQuarters=baseSpec.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);$.plot.plugins.push({init:init,options:options,name:"time",version:"1.0"}),$.plot.formatDate=formatDate,$.plot.dateGenerator=dateGenerator}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function onMouseOut(e){crosshair.locked||-1!=crosshair.x&&(crosshair.x=-1,plot.triggerRedrawOverlay())}function onMouseMove(e){if(!crosshair.locked){if(plot.getSelection&&plot.getSelection())return void(crosshair.x=-1);var offset=plot.offset();crosshair.x=Math.max(0,Math.min(e.pageX-offset.left,plot.width())),crosshair.y=Math.max(0,Math.min(e.pageY-offset.top,plot.height())),plot.triggerRedrawOverlay()}}var crosshair={x:-1,y:-1,locked:!1};plot.setCrosshair=function(pos){if(pos){var o=plot.p2c(pos);crosshair.x=Math.max(0,Math.min(o.left,plot.width())),crosshair.y=Math.max(0,Math.min(o.top,plot.height()))}else crosshair.x=-1;plot.triggerRedrawOverlay()},plot.clearCrosshair=plot.setCrosshair,plot.lockCrosshair=function(pos){pos&&plot.setCrosshair(pos),crosshair.locked=!0},plot.unlockCrosshair=function(){crosshair.locked=!1},plot.hooks.bindEvents.push(function(plot,eventHolder){plot.getOptions().crosshair.mode&&(eventHolder.mouseout(onMouseOut),eventHolder.mousemove(onMouseMove))}),plot.hooks.drawOverlay.push(function(plot,ctx){var c=plot.getOptions().crosshair;if(c.mode){var plotOffset=plot.getPlotOffset();if(ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),-1!=crosshair.x){var adj=plot.getOptions().crosshair.lineWidth%2?.5:0;if(ctx.strokeStyle=c.color,ctx.lineWidth=c.lineWidth,ctx.lineJoin="round",ctx.beginPath(),-1!=c.mode.indexOf("x")){var drawX=Math.floor(crosshair.x)+adj;ctx.moveTo(drawX,0),ctx.lineTo(drawX,plot.height())}if(-1!=c.mode.indexOf("y")){var drawY=Math.floor(crosshair.y)+adj;ctx.moveTo(0,drawY),ctx.lineTo(plot.width(),drawY)}ctx.stroke()}ctx.restore()}}),plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind("mouseout",onMouseOut),eventHolder.unbind("mousemove",onMouseMove)})}var options={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};$.plot.plugins.push({init:init,options:options,name:"crosshair",version:"1.0"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function onMouseMove(e){selection.active&&(updateSelection(e),plot.getPlaceholder().trigger("plotselecting",[getSelection()]))}function onMouseDown(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==savedhandlers.onselectstart&&(savedhandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==savedhandlers.ondrag&&(savedhandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),setSelectionPos(selection.first,e),selection.active=!0,mouseUpHandler=function(e){onMouseUp(e)},$(document).one("mouseup",mouseUpHandler))}function onMouseUp(e){return mouseUpHandler=null,void 0!==document.onselectstart&&(document.onselectstart=savedhandlers.onselectstart),void 0!==document.ondrag&&(document.ondrag=savedhandlers.ondrag),selection.active=!1,updateSelection(e),selectionIsSane()?triggerSelectedEvent():(plot.getPlaceholder().trigger("plotunselected",[]),plot.getPlaceholder().trigger("plotselecting",[null])),!1}function getSelection(){if(!selectionIsSane())return null;if(!selection.show)return null;var r={},c1=selection.first,c2=selection.second;return $.each(plot.getAxes(),function(name,axis){if(axis.used){var p1=axis.c2p(c1[axis.direction]),p2=axis.c2p(c2[axis.direction]);r[name]={from:Math.min(p1,p2),to:Math.max(p1,p2)}}}),r}function triggerSelectedEvent(){var r=getSelection();plot.getPlaceholder().trigger("plotselected",[r]),r.xaxis&&r.yaxis&&plot.getPlaceholder().trigger("selected",[{x1:r.xaxis.from,y1:r.yaxis.from,x2:r.xaxis.to,y2:r.yaxis.to}])}function clamp(min,value,max){return value<min?min:value>max?max:value}function setSelectionPos(pos,e){var o=plot.getOptions(),offset=plot.getPlaceholder().offset(),plotOffset=plot.getPlotOffset();pos.x=clamp(0,e.pageX-offset.left-plotOffset.left,plot.width()),pos.y=clamp(0,e.pageY-offset.top-plotOffset.top,plot.height()),"y"==o.selection.mode&&(pos.x=pos==selection.first?0:plot.width()),"x"==o.selection.mode&&(pos.y=pos==selection.first?0:plot.height())}function updateSelection(pos){null!=pos.pageX&&(setSelectionPos(selection.second,pos),selectionIsSane()?(selection.show=!0,plot.triggerRedrawOverlay()):clearSelection(!0))}function clearSelection(preventEvent){selection.show&&(selection.show=!1,plot.triggerRedrawOverlay(),preventEvent||plot.getPlaceholder().trigger("plotunselected",[]))}function extractRange(ranges,coord){var axis,from,to,key,axes=plot.getAxes();for(var k in axes)if(axis=axes[k],axis.direction==coord&&(key=coord+axis.n+"axis",ranges[key]||1!=axis.n||(key=coord+"axis"),ranges[key])){from=ranges[key].from,to=ranges[key].to;break}if(ranges[key]||(axis="x"==coord?plot.getXAxes()[0]:plot.getYAxes()[0],from=ranges[coord+"1"],to=ranges[coord+"2"]),null!=from&&null!=to&&from>to){var tmp=from;from=to,to=tmp}return{from:from,to:to,axis:axis}}function setSelection(ranges,preventEvent){var range,o=plot.getOptions();"y"==o.selection.mode?(selection.first.x=0,selection.second.x=plot.width()):(range=extractRange(ranges,"x"),selection.first.x=range.axis.p2c(range.from),selection.second.x=range.axis.p2c(range.to)),"x"==o.selection.mode?(selection.first.y=0,selection.second.y=plot.height()):(range=extractRange(ranges,"y"),selection.first.y=range.axis.p2c(range.from),selection.second.y=range.axis.p2c(range.to)),selection.show=!0,plot.triggerRedrawOverlay(),!preventEvent&&selectionIsSane()&&triggerSelectedEvent()}function selectionIsSane(){var minSize=plot.getOptions().selection.minSize;return Math.abs(selection.second.x-selection.first.x)>=minSize&&Math.abs(selection.second.y-selection.first.y)>=minSize}var selection={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},savedhandlers={},mouseUpHandler=null;plot.clearSelection=clearSelection,plot.setSelection=setSelection,plot.getSelection=getSelection,plot.hooks.bindEvents.push(function(plot,eventHolder){null!=plot.getOptions().selection.mode&&(eventHolder.mousemove(onMouseMove),eventHolder.mousedown(onMouseDown))}),plot.hooks.drawOverlay.push(function(plot,ctx){if(selection.show&&selectionIsSane()){var plotOffset=plot.getPlotOffset(),o=plot.getOptions();ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var c=$.color.parse(o.selection.color);ctx.strokeStyle=c.scale("a",.8).toString(),ctx.lineWidth=1,ctx.lineJoin=o.selection.shape,ctx.fillStyle=c.scale("a",.4).toString();var x=Math.min(selection.first.x,selection.second.x)+.5,y=Math.min(selection.first.y,selection.second.y)+.5,w=Math.abs(selection.second.x-selection.first.x)-1,h=Math.abs(selection.second.y-selection.first.y)-1;ctx.fillRect(x,y,w,h),ctx.strokeRect(x,y,w,h),ctx.restore()}}),plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind("mousemove",onMouseMove),eventHolder.unbind("mousedown",onMouseDown),mouseUpHandler&&$(document).unbind("mouseup",mouseUpHandler)})}$.plot.plugins.push({init:init,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(4109),__webpack_require__(1196),__webpack_require__(4274),__webpack_require__(4275);var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_dashboard_app=__webpack_require__(4276),_dashboard_app2=_interopRequireDefault(_dashboard_app),_dashboard_listing=__webpack_require__(4277),_dashboard_listing2=_interopRequireDefault(_dashboard_listing),_dashboard_listing3=__webpack_require__(4278),_dashboard_constants=__webpack_require__(138),_errors=__webpack_require__(56),_feature_catalogue=__webpack_require__(58),_saved_objects=__webpack_require__(67),_persisted_log=__webpack_require__(130);_routes2.default.defaults(/dashboard/,{requireDefaultIndex:!0}).when(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH,{template:_dashboard_listing2.default,controller:_dashboard_listing3.DashboardListingController,controllerAs:"listingController",resolve:{dash:function($route,Private,courier,kbnUrl){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),title=$route.current.params.title;if(title)return savedObjectsClient.find({search:'"'+title+'"',search_fields:"title",type:"dashboard"}).then(function(results){var matchingDashboards=results.savedObjects.filter(function(dashboard){return dashboard.attributes.title.toLowerCase()===title.toLowerCase()});throw 1===matchingDashboards.length?kbnUrl.redirect((0,_dashboard_constants.createDashboardEditUrl)(matchingDashboards[0].id)):kbnUrl.redirect(_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH+'?filter="'+title+'"'),_routes2.default.WAIT_FOR_URL_CHANGE_TOKEN}).catch(courier.redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}}).when(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL,{template:_dashboard_app2.default,resolve:{dash:function(savedDashboards,courier){return savedDashboards.get().catch(courier.redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}}).when((0,_dashboard_constants.createDashboardEditUrl)(":id"),{template:_dashboard_app2.default,resolve:{dash:function(savedDashboards,Notifier,$route,$location,courier,kbnUrl,AppState){var id=$route.current.params.id;return savedDashboards.get(id).then(function(savedDashboard){return _persisted_log.recentlyAccessed.add(savedDashboard.getFullPath(),savedDashboard.title,id),savedDashboard}).catch(function(error){if(!(error instanceof _errors.SavedObjectNotFound&&"create"===id))throw error;kbnUrl.redirect(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL,{},new AppState),_notify.toastNotifications.addWarning('The url "dashboard/create" was removed in 6.0. Please update your bookmarks.')}).catch(courier.redirectWhenMissing({dashboard:_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}))}}}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"dashboard",title:"Dashboard",description:"Display and share a collection of visualizations and saved searches.",icon:"/plugins/kibana/assets/app_dashboard.svg",path:"/app/kibana#"+_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH,showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TopNavIds={ADD:"add",SHARE:"share",OPTIONS:"options",SAVE:"save",EXIT_EDIT_MODE:"exitEditMode",ENTER_EDIT_MODE:"enterEditMode",CLONE:"clone",FULL_SCREEN:"fullScreenMode"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelUtils=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_dashboard_constants=__webpack_require__(138),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome);exports.PanelUtils=function(){function PanelUtils(){_classCallCheck(this,PanelUtils)}return _createClass(PanelUtils,null,[{key:"convertPanelDataPre_6_1",value:function(panel){return["col","row"].forEach(function(key){if(!_lodash2.default.has(panel,key))throw new Error('Unable to migrate panel data for "6.1.0" backwards compatibility, panel does not contain expected field: '+key)}),panel.gridData={x:panel.col-1,y:panel.row-1,w:panel.size_x||_dashboard_constants.DEFAULT_PANEL_WIDTH,h:panel.size_y||_dashboard_constants.DEFAULT_PANEL_HEIGHT,i:panel.panelIndex.toString()},panel.version=_chrome2.default.getKibanaVersion(),panel.panelIndex=panel.panelIndex.toString(),delete panel.size_x,delete panel.size_y,delete panel.row,delete panel.col,panel}},{key:"convertPanelDataPre_6_3",value:function(panel,useMargins){["w","x","h","y"].forEach(function(key){if(!_lodash2.default.has(panel.gridData,key))throw new Error('Unable to migrate panel data for "6.3.0" backwards compatibility, panel does not contain expected field: '+key)});var heightScaleFactor=useMargins?4:5;return panel.gridData.w=4*panel.gridData.w,panel.gridData.x=4*panel.gridData.x,panel.gridData.h=panel.gridData.h*heightScaleFactor,panel.gridData.y=panel.gridData.y*heightScaleFactor,panel.version=_chrome2.default.getKibanaVersion(),panel}},{key:"parseVersion",value:function(){var version=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"6.0.0",versionSplit=version.split(".");if(versionSplit.length<3)throw new Error("Invalid version, "+version+", expected <major>.<minor>.<patch>");return{major:parseInt(versionSplit[0],10),minor:parseInt(versionSplit[1],10)}}},{key:"initPanelIndexes",value:function(panels){var maxIndex=this.getMaxPanelIndex(panels);panels.forEach(function(panel){panel.panelIndex||(panel.panelIndex=maxIndex++)})}},{key:"getMaxPanelIndex",value:function(panels){var maxId=panels.reduce(function(id,panel){return Math.max(id,panel.panelIndex||id)},0);return++maxId}}]),PanelUtils}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.store=void 0;var _redux=__webpack_require__(117),_reduxThunk=__webpack_require__(393),_reduxThunk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_reduxThunk),_reducers=__webpack_require__(4135),enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());exports.store=(0,_redux.createStore)(_reducers.reducers,{},_redux.compose.apply(void 0,enhancers))},,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard_panel_container=__webpack_require__(4189);Object.defineProperty(exports,"DashboardPanel",{enumerable:!0,get:function(){return _dashboard_panel_container.DashboardPanelContainer}});var _panel_state=__webpack_require__(4220);Object.defineProperty(exports,"createPanelState",{enumerable:!0,get:function(){return _panel_state.createPanelState}})},,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _save_dashboard=__webpack_require__(4221);Object.defineProperty(exports,"saveDashboard",{enumerable:!0,get:function(){return _save_dashboard.saveDashboard}});var _get_app_state_defaults=__webpack_require__(4223);Object.defineProperty(exports,"getAppStateDefaults",{enumerable:!0,get:function(){return _get_app_state_defaults.getAppStateDefaults}});var _migrate_app_state=__webpack_require__(4224);Object.defineProperty(exports,"migrateAppState",{enumerable:!0,get:function(){return _migrate_app_state.migrateAppState}})},function(module,exports,__webpack_require__){"use strict";function addFilter(field){var values=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],operation=arguments[2],index=arguments[3],filterManager=(arguments[4],arguments[5]);Array.isArray(values)||(values=[values]),filterManager.add(field,values,operation,index)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addFilter=addFilter},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function TabifyTable(){this.columns=null,this.rows=[]}Object.defineProperty(exports,"__esModule",{value:!0}),TabifyTable.prototype.title=function(){return this.$parent?this.$parent.title:""},TabifyTable.prototype.aggConfig=function(col){if(!col.aggConfig)throw new TypeError("Column is missing the aggConfig property");return col.aggConfig},TabifyTable.prototype.field=function(col){return this.aggConfig(col).getField()},TabifyTable.prototype.fieldFormatter=function(col){return this.aggConfig(col).fieldFormatter()},exports.TabifyTable=TabifyTable},,function(module,exports,__webpack_require__){"use strict";function KibanaRootController($scope,courier,config){function setDefaultTimezone(tz){_momentTimezone2.default.tz.setDefault(tz)}function setStartDayOfWeek(day){var dow=_momentTimezone2.default.weekdays().indexOf(day);_momentTimezone2.default.updateLocale(_momentTimezone2.default.locale(),{week:{dow:dow}})}config.watch("dateFormat:tz",setDefaultTimezone,$scope),config.watch("dateFormat:dow",setStartDayOfWeek,$scope)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KibanaRootController=KibanaRootController;var _momentTimezone=__webpack_require__(109),_momentTimezone2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_momentTimezone)},function(module,exports,__webpack_require__){"use strict";function InputControlVisProvider(Private){return Private(_vis_factory.VisFactoryProvider).createBaseVisualization({name:"input_control_vis",title:"Controls",image:_iconInputControl2.default,description:"Create interactive controls for easy dashboard manipulation.",category:_vis_category.CATEGORY.OTHER,stage:"lab",requiresUpdateStatus:[_update_status.Status.PARAMS,_update_status.Status.TIME],feedbackMessage:_default_feedback_message.defaultFeedbackMessage,visualization:_vis_controller.VisController,visConfig:{defaults:{controls:[],updateFiltersOnChange:!1,useTimeFilter:!1,pinFilters:!1}},editor:"default",editorConfig:{optionTabs:[{name:"controls",title:"Controls",editor:_controls_tab.ControlsTab},{name:"options",title:"Options",editor:_options_tab.OptionsTab}]},requestHandler:"none",responseHandler:"none"})}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(4300);var _vis_category=__webpack_require__(63),_vis_factory=__webpack_require__(73),_vis_types=__webpack_require__(94),_vis_controller=__webpack_require__(4301),_controls_tab=__webpack_require__(4330),_options_tab=__webpack_require__(4336),_default_feedback_message=__webpack_require__(750),_iconInputControl=__webpack_require__(4337),_iconInputControl2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_iconInputControl),_update_status=__webpack_require__(265);_vis_types.VisTypesRegistryProvider.register(InputControlVisProvider),exports.default=InputControlVisProvider,module.exports=exports.default},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormRow(props){var control=props.children;return props.control.isEnabled()||(control=_react2.default.createElement(_eui.EuiToolTip,{placement:"top",content:props.control.disabledReason},control)),_react2.default.createElement(_eui.EuiFormRow,{label:props.label,id:props.id,"data-test-subj":"inputControl"+props.controlIndex},control)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormRow=FormRow;var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eui=__webpack_require__(5);FormRow.propTypes={label:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired,children:_propTypes2.default.node.isRequired,controlIndex:_propTypes2.default.number.isRequired,control:_propTypes2.default.object.isRequired}},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function noValuesDisableMsg(fieldName,indexPatternName){return'Filtering occurs on the "'+fieldName+'" field,\nwhich doesn\'t exist on any documents in the "'+indexPatternName+'" index pattern.\nChoose a different field or index documents that contain values for this field.'}function noIndexPatternMsg(indexPatternId){return"Could not locate index-pattern id: "+indexPatternId+"."}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Control=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.noValuesDisableMsg=noValuesDisableMsg,exports.noIndexPatternMsg=noIndexPatternMsg;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.Control=function(){function Control(controlParams,filterManager,kbnApi,useTimeFilter){_classCallCheck(this,Control),this.id=controlParams.id,this.controlParams=controlParams,this.options=controlParams.options,this.type=controlParams.type,this.label=controlParams.label?controlParams.label:controlParams.fieldName,this.useTimeFilter=useTimeFilter,this.filterManager=filterManager,this.kbnApi=kbnApi,this.reset(),this.disable("Control has not been initialized")}return _createClass(Control,[{key:"fetch",value:function(){function fetch(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:throw new Error("fetch method not defined, subclass are required to implement");case 1:case"end":return _context.stop()}},_callee,this)}));return fetch}()},{key:"format",value:function(value){var field=this.filterManager.getField();return field?field.format.convert(value):value}},{key:"setAncestors",value:function(ancestors){this.ancestors=ancestors}},{key:"hasAncestors",value:function(){return this.ancestors&&this.ancestors.length>0}},{key:"hasUnsetAncestor",value:function(){return this.ancestors.reduce(function(accumulator,ancestor){return accumulator||!ancestor.hasValue()},!1)}},{key:"getAncestorValues",value:function(){return this.ancestors.map(function(ancestor){return ancestor.value})}},{key:"getAncestorFilters",value:function(){return this.ancestors.map(function(ancestor){return ancestor.filterManager.createFilter(ancestor.value)})}},{key:"isEnabled",value:function(){return this.enable}},{key:"disable",value:function(reason){this.enable=!1,this.disabledReason=reason}},{key:"set",value:function(newValue){this.value=newValue,this._hasChanged=!0,this.hasValue()?this._kbnFilter=this.filterManager.createFilter(this.value):this._kbnFilter=null}},{key:"reset",value:function(){this._hasChanged=!1,this._kbnFilter=null,this.value=this.filterManager.getValueFromFilterBar()}},{key:"clear",value:function(){this.set(this.filterManager.getUnsetValue())}},{key:"hasChanged",value:function(){return this._hasChanged}},{key:"hasKbnFilter",value:function(){return!!this._kbnFilter}},{key:"getKbnFilter",value:function(){return this._kbnFilter}},{key:"hasValue",value:function(){return!_lodash2.default.isEqual(this.value,this.filterManager.getUnsetValue())}}]),Control}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.FilterManager=function(){function FilterManager(controlId,fieldName,indexPattern,queryFilter,unsetValue){_classCallCheck(this,FilterManager),this.controlId=controlId,this.fieldName=fieldName,this.indexPattern=indexPattern,this.queryFilter=queryFilter,this.unsetValue=unsetValue}return _createClass(FilterManager,[{key:"getIndexPattern",value:function(){return this.indexPattern}},{key:"getField",value:function(){return this.indexPattern.fields.byName[this.fieldName]}},{key:"createFilter",value:function(){throw new Error("Must implement createFilter.")}},{key:"findFilters",value:function(){var _this=this;return _lodash2.default.flatten([this.queryFilter.getAppFilters(),this.queryFilter.getGlobalFilters()]).filter(function(kbnFilter){return _lodash2.default.get(kbnFilter,"meta.controlledBy")===_this.controlId})}},{key:"getValueFromFilterBar",value:function(){throw new Error("Must implement getValueFromFilterBar.")}},{key:"getUnsetValue",value:function(){return this.unsetValue}}]),FilterManager}()},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function createSearchSource(kbnApi,initialState,indexPattern,aggs,useTimeFilter){var filters=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],searchSource=new kbnApi.SearchSource(initialState);return searchSource.inherits(!1),searchSource.filter(function(){var activeFilters=[].concat(_toConsumableArray(filters));return useTimeFilter&&activeFilters.push(kbnApi.timeFilter.get(indexPattern)),activeFilters}),searchSource.size(0),searchSource.index(indexPattern),searchSource.aggs(aggs),searchSource}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSearchSource=createSearchSource},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lineage_map=__webpack_require__(4328);Object.defineProperty(exports,"getLineageMap",{enumerable:!0,get:function(){return _lineage_map.getLineageMap}});var _parent_candidates=__webpack_require__(4329);Object.defineProperty(exports,"getParentCandidates",{enumerable:!0,get:function(){return _parent_candidates.getParentCandidates}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternSelect=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_eui=__webpack_require__(5);(exports.IndexPatternSelect=function(_Component){function IndexPatternSelect(props){_classCallCheck(this,IndexPatternSelect);var _this=_possibleConstructorReturn(this,(IndexPatternSelect.__proto__||Object.getPrototypeOf(IndexPatternSelect)).call(this,props));return _this.loadOptions=_this.loadOptions.bind(_this),_this}return _inherits(IndexPatternSelect,_Component),_createClass(IndexPatternSelect,[{key:"loadOptions",value:function(input,callback){this.props.getIndexPatterns(input).then(function(indexPatternSavedObjects){var options=indexPatternSavedObjects.map(function(indexPatternSavedObject){return{label:indexPatternSavedObject.attributes.title,value:indexPatternSavedObject.id}});callback(null,{options:options})})}},{key:"render",value:function(){var selectId="indexPatternSelect-"+this.props.controlIndex;return _react2.default.createElement(_eui.EuiFormRow,{id:selectId,label:"Index Pattern"},_react2.default.createElement(_reactSelect2.default.Async,{className:"index-pattern-react-select",placeholder:"Select index pattern...",value:this.props.value,loadOptions:this.loadOptions,onChange:this.props.onChange,resetValue:"",inputProps:{id:selectId}}))}}]),IndexPatternSelect}(_react.Component)).propTypes={getIndexPatterns:_propTypes2.default.func.isRequired,onChange:_propTypes2.default.func.isRequired,value:_propTypes2.default.string,controlIndex:_propTypes2.default.number.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldSelect=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_eui=__webpack_require__(5);(exports.FieldSelect=function(_Component){function FieldSelect(props){_classCallCheck(this,FieldSelect);var _this=_possibleConstructorReturn(this,(FieldSelect.__proto__||Object.getPrototypeOf(FieldSelect)).call(this,props));return _this.activeIndexPatternId=props.indexPatternId,_this.state={fields:[]},_this.filterField=_lodash2.default.get(props,"filterField",function(){return!0}),_this.loadFields(props.indexPatternId),_this}return _inherits(FieldSelect,_Component),_createClass(FieldSelect,[{key:"componentWillReceiveProps",value:function(nextProps){this.props.indexPatternId!==nextProps.indexPatternId&&(this.activeIndexPatternId=nextProps.indexPatternId,this.setState({fields:[]}),this.loadFields(nextProps.indexPatternId))}},{key:"loadFields",value:function(){function loadFields(_x){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId){var indexPattern,fields;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(indexPatternId&&0!==indexPatternId.length){_context.next=2;break}return _context.abrupt("return");case 2:return indexPattern=void 0,_context.prev=3,_context.next=6,this.props.getIndexPattern(indexPatternId);case 6:indexPattern=_context.sent,_context.next=12;break;case 9:return _context.prev=9,_context.t0=_context.catch(3),_context.abrupt("return");case 12:if(indexPattern.id===this.activeIndexPatternId){_context.next=14;break}return _context.abrupt("return");case 14:fields=indexPattern.fields.filter(this.filterField).sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}).map(function(field){return{label:field.name,value:field.name}}),this.setState({fields:fields});case 16:case"end":return _context.stop()}},_callee,this,[[3,9]])}));return loadFields}()},{key:"render",value:function(){if(!this.props.indexPatternId||0===this.props.indexPatternId.trim().length)return null;var selectId="fieldSelect-"+this.props.controlIndex;return _react2.default.createElement(_eui.EuiFormRow,{id:selectId,label:"Field"},_react2.default.createElement(_reactSelect2.default,{className:"field-react-select",placeholder:"Select field...",value:this.props.value,options:this.state.fields,onChange:this.props.onChange,resetValue:"",inputProps:{id:selectId}}))}}]),FieldSelect}(_react.Component)).propTypes={getIndexPattern:_propTypes2.default.func.isRequired,indexPatternId:_propTypes2.default.string,onChange:_propTypes2.default.func.isRequired,value:_propTypes2.default.string,filterField:_propTypes2.default.func,controlIndex:_propTypes2.default.number.isRequired}},function(module,exports,__webpack_require__){"use strict";function pad(hash,len){for(;hash.length<len;)hash="0"+hash;return hash}function fold(hash,text){var i=void 0,chr=void 0,len=void 0;if(0===text.length)return hash;for(i=0,len=text.length;i<len;i++)chr=text.charCodeAt(i),hash=(hash<<5)-hash+chr,hash|=0;return hash<0?-2*hash:hash}function foldObject(hash,o,seen){function foldKey(hash,key){return foldValue(hash,o[key],key,seen)}return Object.keys(o).sort().reduce(foldKey,hash)}function foldValue(input,value,key,seen){var hash=fold(fold(fold(input,key),toString(value)),void 0===value?"undefined":_typeof(value));return null===value?fold(hash,"null"):void 0===value?fold(hash,"undefined"):"object"===(void 0===value?"undefined":_typeof(value))?"vis"===key&&"Vis"===value.constructor.name?hash:-1!==seen.indexOf(value)?fold(hash,"[Circular]"+key):(seen.push(value),foldObject(hash,value,seen)):fold(hash,value.toString())}function toString(o){return Object.prototype.toString.call(o)}function sum(o){return pad(foldValue(0,o,"",[]).toString(16),8)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.calculateObjectHash=sum},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4338),__webpack_require__(4340)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _vis_types=__webpack_require__(94),_histogram=__webpack_require__(4342),_histogram2=_interopRequireDefault(_histogram),_line=__webpack_require__(4344),_line2=_interopRequireDefault(_line),_pie=__webpack_require__(4346),_pie2=_interopRequireDefault(_pie),_area=__webpack_require__(4349),_area2=_interopRequireDefault(_area),_heatmap=__webpack_require__(4351),_heatmap2=_interopRequireDefault(_heatmap),_horizontal_bar=__webpack_require__(4354),_horizontal_bar2=_interopRequireDefault(_horizontal_bar),_gauge=__webpack_require__(4356),_gauge2=_interopRequireDefault(_gauge),_goal=__webpack_require__(4358),_goal2=_interopRequireDefault(_goal);_vis_types.VisTypesRegistryProvider.register(_histogram2.default),_vis_types.VisTypesRegistryProvider.register(_line2.default),_vis_types.VisTypesRegistryProvider.register(_pie2.default),_vis_types.VisTypesRegistryProvider.register(_area2.default),_vis_types.VisTypesRegistryProvider.register(_heatmap2.default),_vis_types.VisTypesRegistryProvider.register(_horizontal_bar2.default),_vis_types.VisTypesRegistryProvider.register(_gauge2.default),_vis_types.VisTypesRegistryProvider.register(_goal2.default)},function(module,exports){module.exports="\x3c!-- vis type specific options --\x3e\n<gauge-options></gauge-options>\n"},function(module,exports,__webpack_require__){"use strict";function searchEmbeddableFactoryProvider(Private){return Private(function($compile,$rootScope,savedSearches,Promise,courier){return new _search_embeddable_factory.SearchEmbeddableFactory($compile,$rootScope,savedSearches,Promise,courier)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.searchEmbeddableFactoryProvider=searchEmbeddableFactoryProvider;var _search_embeddable_factory=__webpack_require__(4360);__webpack_require__(514).EmbeddableFactoriesRegistryProvider.register(searchEmbeddableFactoryProvider)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4362)},function(module,exports,__webpack_require__){"use strict";function getSort(sort,indexPattern){function isSortable(field){return indexPattern.fields.byName[field]&&indexPattern.fields.byName[field].sortable}var defaultSortOrder=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",sortObj={},field=void 0,direction=void 0;return Array.isArray(sort)&&2===sort.length&&isSortable(sort[0])?(field=sort[0],direction=sort[1]):indexPattern.timeFieldName&&isSortable(indexPattern.timeFieldName)&&(field=indexPattern.timeFieldName,direction=defaultSortOrder),field?sortObj[field]=direction:sortObj._score="desc",sortObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSort=getSort;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);getSort.array=function(sort,indexPattern,defaultSortOrder){return(0,_lodash2.default)(getSort(sort,indexPattern,defaultSortOrder)).pairs().pop()}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode);__webpack_require__(1351),__webpack_require__(1144),__webpack_require__(359),__webpack_require__(4370);var _no_white_space=__webpack_require__(1198),_open=__webpack_require__(4371),_open2=_interopRequireDefault(_open),_details=__webpack_require__(4372),_details2=_interopRequireDefault(_details),_modules=__webpack_require__(2),_filter_bar=__webpack_require__(1066),_render_complete=__webpack_require__(494);_modules.uiModules.get("app/discover").directive("kbnTableRow",function($compile,$httpParamSerializer,kbnUrl){var cellTemplate=_lodash2.default.template((0,_no_white_space.noWhiteSpace)(__webpack_require__(4373))),truncateByHeightTemplate=_lodash2.default.template((0,_no_white_space.noWhiteSpace)(__webpack_require__(4374)));return{restrict:"A",scope:{columns:"=",filter:"=",filters:"=?",indexPattern:"=",row:"=kbnTableRow",onAddColumn:"=?",onRemoveColumn:"=?"},link:function($scope,$el){function createSummaryRow(row){var indexPattern=$scope.indexPattern;$scope.flattenedRow=indexPattern.flattenHit(row);var newHtmls=[_open2.default],mapping=indexPattern.fields.byName;indexPattern.timeFieldName&&newHtmls.push(cellTemplate({timefield:!0,formatted:_displayField(row,indexPattern.timeFieldName),filterable:mapping[indexPattern.timeFieldName].filterable&&_lodash2.default.isFunction($scope.filter),column:indexPattern.timeFieldName})),$scope.columns.forEach(function(column){var isFilterable=void 0!==$scope.flattenedRow[column]&&mapping[column]&&mapping[column].filterable&&_lodash2.default.isFunction($scope.filter);newHtmls.push(cellTemplate({timefield:!1,sourcefield:"_source"===column,formatted:_displayField(row,column,!0),filterable:isFilterable,column:column}))});var $cells=$el.children();newHtmls.forEach(function(html,i){if($cells.eq(i).data("discover:html")!==html){var reuse=_lodash2.default.find($cells.slice(i+1),function(cell){return _jquery2.default.data(cell,"discover:html")===html}),$target=reuse?(0,_jquery2.default)(reuse).detach():(0,_jquery2.default)(html);$target.data("discover:html",html);var $before=$cells.eq(i-1);$before.length?$before.after($target):$el.append($target),$cells=$el.children(),reuse||($toggleScope=$scope.$new(),$compile($target)($toggleScope))}}),$scope.open&&($detailsScope.row=row),$cells.filter(":gt("+(newHtmls.length-1)+")").remove(),(0,_render_complete.dispatchRenderComplete)($el[0])}function _displayField(row,fieldName,truncate){var indexPattern=$scope.indexPattern,text=indexPattern.formatField(row,fieldName);return truncate&&text.length>20?truncateByHeightTemplate({body:text}):text}$el.after('<tr data-test-subj="docTableDetailsRow">'),$el.empty();var $detailsScope=void 0,$toggleScope=void 0;$scope.toggleRow=function(){var $detailsTr=$el.next();if($scope.open=!$scope.open,$detailsTr.toggle($scope.open),!$scope.open)return void $detailsScope.$destroy();$detailsScope=$scope.$new(),$detailsTr.html(_details2.default),$detailsScope.row=$scope.row,$compile($detailsTr)($detailsScope)},$scope.$watchMulti(["indexPattern.timeFieldName","row.highlight","[]columns"],function(){createSummaryRow($scope.row,$scope.row._id)}),$scope.inlineFilter=function($event,type){var column=(0,_jquery2.default)($event.target).data().column,field=$scope.indexPattern.fields.byName[column];$scope.filter(field,$scope.flattenedRow[column],type)},$scope.getContextAppHref=function(){return kbnUrl.eval("#/context/{{ indexPattern }}/{{ anchorType }}/{{ anchorId }}",{anchorId:$scope.row._id,anchorType:$scope.row._type,indexPattern:$scope.indexPattern.id})+"?"+$httpParamSerializer({_a:_risonNode2.default.encode({columns:$scope.columns,filters:($scope.filters||[]).map(_filter_bar.disableFilter)})})}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4368)},function(module,exports,__webpack_require__){"use strict";function addColumn(columns,columnName){columns.includes(columnName)||columns.push(columnName)}function removeColumn(columns,columnName){columns.includes(columnName)&&columns.splice(columns.indexOf(columnName),1)}function moveColumn(columns,columnName,newIndex){newIndex<0||newIndex>=columns.length||columns.includes(columnName)&&(columns.splice(columns.indexOf(columnName),1),columns.splice(newIndex,0,columnName))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addColumn=addColumn,exports.removeColumn=removeColumn,exports.moveColumn=moveColumn},function(module,exports,__webpack_require__){"use strict";function visualizeEmbeddableFactoryProvider(Private){return Private(function(savedVisualizations,timefilter,Promise,Private,config){return new _visualize_embeddable_factory.VisualizeEmbeddableFactory(savedVisualizations,timefilter,Promise,Private,config)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.visualizeEmbeddableFactoryProvider=visualizeEmbeddableFactoryProvider;var _visualize_embeddable_factory=__webpack_require__(4376);__webpack_require__(514).EmbeddableFactoriesRegistryProvider.register(visualizeEmbeddableFactoryProvider)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_spy_modes=__webpack_require__(754),_modules=__webpack_require__(2),_spy=__webpack_require__(4382),_spy2=_interopRequireDefault(_spy),_persisted_state=__webpack_require__(356);_modules.uiModules.get("app/visualize").directive("visualizeSpy",function(Private,$compile,$timeout){var spyModes=Private(_spy_modes.SpyModesRegistryProvider);return{restrict:"E",template:_spy2.default,scope:{vis:"<",searchSource:"<",uiState:"<",visElement:"<"},link:function($scope,$el){function checkForcedMaximized(){$timeout(function(){$scope.visElement&&$scope.currentMode&&$scope.visElement.height()<180?$scope.forceMaximized=!0:$scope.forceMaximized=!1})}function filterModes(){$scope.modes=spyModes.inOrder.filter(function(mode){return!mode.showMode||mode.showMode($scope.vis)}),defaultModeName=$scope.modes.length>0?$scope.modes[0].name:null}function syncFromUiState(){$scope.currentMode=$scope.uiState.get("spy.mode.name"),$scope.maximizedSpy=$scope.uiState.get("spy.mode.fill")}function updateUiState(){$scope.currentMode?$scope.uiState.set("spy.mode",{name:$scope.currentMode,fill:$scope.maximizedSpy}):$scope.uiState.set("spy",null)}$scope.uiState||($scope.uiState=new _persisted_state.PersistedState({}));var currentSpy=void 0,defaultModeName=void 0,$container=$el.find("[data-spy-content-container]");$scope.modes=[],$scope.currentMode=null,$scope.maximizedSpy=!1,$scope.forceMaximized=!1,checkForcedMaximized(),filterModes(),$scope.$watch("vis",filterModes),syncFromUiState(),$scope.uiState.on("change",syncFromUiState),$scope.$on("$destroy",function(){return $scope.uiState.off("change",syncFromUiState)}),$scope.setSpyMode=function(modeName){$scope.currentMode=modeName,updateUiState(),$scope.$emit("render")},$scope.toggleDisplay=function(){$scope.currentMode?($scope.setSpyMode(null),$scope.forceMaximized=!1):($scope.setSpyMode(defaultModeName),checkForcedMaximized())},$scope.shouldShowSpyPanel=function(){return!!$scope.currentMode},$scope.toggleMaximize=function(){$scope.maximizedSpy=!$scope.maximizedSpy,updateUiState()},$scope.$watchMulti(["maximizedSpy","forceMaximized"],function(){$scope.visElement.toggleClass("spy-only",$scope.maximizedSpy||$scope.forceMaximized)}),$scope.$watch("currentMode",function(mode,prevMode){if(mode!==prevMode||!currentSpy||currentSpy.mode!==mode){var newMode=spyModes.byName[mode];if(currentSpy&&(currentSpy.$container.remove(),currentSpy.$scope.$destroy(),currentSpy=null),!newMode)return void($scope.forceMaximized=!1);var contentScope=$scope.$new(),contentContainer=(0,_jquery2.default)('<div class="visualize-spy-content">');contentContainer.append($compile(newMode.template)(contentScope)),$container.append(contentContainer),currentSpy={$scope:contentScope,$container:contentContainer,mode:mode},newMode.link&&newMode.link(currentSpy.$scope,currentSpy.$element)}})}}})},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisEditorTypesRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.VisEditorTypesRegistryProvider=(0,_registry.uiRegistry)({name:"visEditorTypes",index:["name"],order:["title"]})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElasticsearchError=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.ElasticsearchError=function(){function ElasticsearchError(error){if(_classCallCheck(this,ElasticsearchError),this.error=error,this.getRootCauses=this.getRootCauses.bind(this),this.hasRootCause=this.hasRootCause.bind(this),!this.getRootCauses().length)throw new Error("ElasticsearchError must be instantiated with an elasticsearch error, i.e. it must havea resp.error.root_cause property. Instead got "+JSON.stringify(error))}return _createClass(ElasticsearchError,[{key:"getRootCauses",value:function(){var rootCauses=_lodash2.default.get(this.error,"resp.error.root_cause");return _lodash2.default.pluck(rootCauses,"reason")}},{key:"hasRootCause",value:function(cause){var normalizedCause=cause.toLowerCase();return 0!==this.getRootCauses().filter(function(rootCause){return-1!==rootCause.toLowerCase().indexOf(normalizedCause)}).length}}],[{key:"hasRootCause",value:function(error,cause){try{return new ElasticsearchError(error).hasRootCause(cause)}catch(err){return!1}}}]),ElasticsearchError}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MarkdownVisProvider(Private){return Private(_vis_factory.VisFactoryProvider).createReactVisualization({name:"markdown",title:"Markdown",isAccessible:!0,image:_iconMarkdown2.default,description:"Create a document using markdown syntax",category:_vis_category.CATEGORY.OTHER,visConfig:{component:_markdown_vis_controller.MarkdownVisWrapper,defaults:{fontSize:12,openLinksInNewTab:!1}},editorConfig:{optionsTemplate:_markdown_vis_params2.default,enableAutoApply:!0,defaultSize:_editor_size.DefaultEditorSize.LARGE},options:{showTimePicker:!1},requestHandler:"none",responseHandler:"none"})}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(4390);var _markdown_vis_controller=__webpack_require__(4391),_vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_markdown_vis_params=__webpack_require__(4393),_markdown_vis_params2=_interopRequireDefault(_markdown_vis_params),_vis_types=__webpack_require__(94),_iconMarkdown=__webpack_require__(4394),_iconMarkdown2=_interopRequireDefault(_iconMarkdown),_editor_size=__webpack_require__(495);_vis_types.VisTypesRegistryProvider.register(MarkdownVisProvider),exports.default=MarkdownVisProvider,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function markdownFactory(whiteListedRules){var openLinksInNewTab=arguments.length>1&&void 0!==arguments[1]&&arguments[1],markdownIt=void 0;if(whiteListedRules&&whiteListedRules.length>0?(markdownIt=new _markdownIt2.default("zero",{html:!1,linkify:!0}),markdownIt.enable(whiteListedRules)):markdownIt=new _markdownIt2.default({html:!1,linkify:!0}),openLinksInNewTab){var originalLinkRender=markdownIt.renderer.rules.link_open||function(tokens,idx,options,env,self){return self.renderToken(tokens,idx,options)};markdownIt.renderer.rules.link_open=function(tokens,idx,options,env,self){return tokens[idx].attrPush(["target","_blank"]),tokens[idx].attrPush(["rel","noopener noreferrer"]),originalLinkRender(tokens,idx,options,env,self)}}return markdownIt}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Markdown=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.markdownFactory=markdownFactory,__webpack_require__(4392);var _classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_markdownIt=__webpack_require__(344),_markdownIt2=_interopRequireDefault(_markdownIt);(exports.Markdown=function(_Component){function Markdown(props){_classCallCheck(this,Markdown);var _this=_possibleConstructorReturn(this,(Markdown.__proto__||Object.getPrototypeOf(Markdown)).call(this,props));return _this.markdownIt=markdownFactory(_this.props.whiteListedRules,_this.props.openLinksInNewTab),_this.state={renderedMarkdown:_this.transformMarkdown(_this.props)},_this}return _inherits(Markdown,_Component),_createClass(Markdown,[{key:"transformMarkdown",value:function(params){return params.markdown?{__html:this.markdownIt.render(params.markdown)}:{__html:""}}},{key:"componentWillReceiveProps",value:function(props){props.markdown!==this.props.markdown&&this.setState({renderedMarkdown:this.transformMarkdown(props)})}},{key:"render",value:function(){var _props=this.props,className=_props.className,rest=(_props.markdown,_props.openLinksInNewTab,_props.whiteListedRules,_objectWithoutProperties(_props,["className","markdown","openLinksInNewTab","whiteListedRules"])),classes=(0,_classnames2.default)("markdown-body",className);return _react2.default.createElement("div",_extends({className:classes},rest,{dangerouslySetInnerHTML:this.state.renderedMarkdown}))}}]),Markdown}(_react.Component)).propTypes={className:_propTypes2.default.string,markdown:_propTypes2.default.string,openLinksInNewTab:_propTypes2.default.bool,whiteListedRules:_propTypes2.default.arrayOf(_propTypes2.default.string)}},function(module,exports,__webpack_require__){"use strict";function MetricVisProvider(Private){return Private(_vis_factory.VisFactoryProvider).createReactVisualization({name:"metric",title:"Metric",image:_icon_number2.default,description:"Display a calculation as a single number",category:_vis_category.CATEGORY.DATA,visConfig:{component:_metric_vis_controller.MetricVisComponent,defaults:{addTooltip:!0,addLegend:!1,type:"metric",metric:{percentageMode:!1,useRanges:!1,colorSchema:"Green to Red",metricColorMode:"None",colorsRange:[{from:0,to:1e4}],labels:{show:!0},invertColors:!1,style:{bgFill:"#000",bgColor:!1,labelColor:!1,subText:"",fontSize:60}}}},editorConfig:{collections:{metricColorMode:["None","Labels","Background"],colorSchemas:Object.keys(_colormaps.vislibColorMaps)},optionsTemplate:"<metric-vis-params></metric-vis-params>",schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Metric",min:1,aggFilter:["!std_dev","!geo_centroid","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],defaults:[{type:"count",schema:"metric"}]},{group:"buckets",name:"group",title:"Split Group",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(4395),__webpack_require__(4396);var _vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_schemas=__webpack_require__(85),_vis_types=__webpack_require__(94),_colormaps=__webpack_require__(315),_metric_vis_controller=__webpack_require__(4398),_icon_number=__webpack_require__(4400),_icon_number2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_icon_number);_vis_types.VisTypesRegistryProvider.register(MetricVisProvider),exports.default=MetricVisProvider,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function MetricsVisProvider(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider),ReactEditorController=Private(_editor_controller.ReactEditorControllerProvider).handler,metricsRequestHandler=Private(_request_handler.MetricsRequestHandlerProvider).handler;return VisFactory.createReactVisualization({name:"metrics",title:"Visual Builder",description:"Build time-series using a visual pipeline interface",category:_vis_category.CATEGORY.TIME,image:_iconVisualbuilder2.default,stage:"experimental",feedbackMessage:_default_feedback_message.defaultFeedbackMessage,visConfig:{defaults:{id:"61ca57f0-469d-11e7-af02-69e470af7417",type:"timeseries",series:[{id:"61ca57f1-469d-11e7-af02-69e470af7417",color:"#68BC00",split_mode:"everything",metrics:[{id:"61ca57f2-469d-11e7-af02-69e470af7417",type:"count"}],seperate_axis:0,axis_position:"right",formatter:"number",chart_type:"line",line_width:1,point_size:1,fill:.5,stacked:"none"}],time_field:"@timestamp",index_pattern:"",interval:"auto",axis_position:"left",axis_formatter:"number",show_legend:1,show_grid:1},component:__webpack_require__(1362)},editor:ReactEditorController,editorConfig:{component:__webpack_require__(1362)},options:{showQueryBar:!1,showFilterBar:!1,showIndexSelection:!1},requestHandler:metricsRequestHandler,responseHandler:"none"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=MetricsVisProvider,__webpack_require__(4401),__webpack_require__(4402);var _iconVisualbuilder=__webpack_require__(4403),_iconVisualbuilder2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_iconVisualbuilder),_request_handler=__webpack_require__(4404),_editor_controller=__webpack_require__(4407),_vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_default_feedback_message=__webpack_require__(750);__webpack_require__(94).VisTypesRegistryProvider.register(MetricsVisProvider),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_vis_editor_visualization=__webpack_require__(4410),_vis_editor_visualization2=_interopRequireDefault(_vis_editor_visualization),_visualization=__webpack_require__(1363),_visualization2=_interopRequireDefault(_visualization),_vis_picker=__webpack_require__(4533),_vis_picker2=_interopRequireDefault(_vis_picker),_panel_config=__webpack_require__(4534),_panel_config2=_interopRequireDefault(_panel_config),_create_brush_handler=__webpack_require__(4642),_create_brush_handler2=_interopRequireDefault(_create_brush_handler),_lodash=__webpack_require__(1),VisEditor=function(_Component){function VisEditor(props){_classCallCheck(this,VisEditor);var _this=_possibleConstructorReturn(this,(VisEditor.__proto__||Object.getPrototypeOf(VisEditor)).call(this,props)),appState=props.appState,reversed=(0,_lodash.get)(appState,"options.darkTheme",!1);return _this.state={model:props.vis.params,dirty:!1,autoApply:!0,reversed:reversed},_this.onBrush=(0,_create_brush_handler2.default)(props.vis.API.timeFilter),_this.handleUiState=_this.handleUiState.bind(_this,props.vis),_this.handleAppStateChange=_this.handleAppStateChange.bind(_this),_this}return _inherits(VisEditor,_Component),_createClass(VisEditor,[{key:"handleUiState",value:function(vis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];vis.uiStateVal.apply(vis,args)}},{key:"componentWillMount",value:function(){var appState=this.props.appState;appState&&(this.appState=appState,this.appState.on("save_with_changes",this.handleAppStateChange))}},{key:"handleAppStateChange",value:function(){var reversed=(0,_lodash.get)(this.appState,"options.darkTheme",!1);this.setState({reversed:reversed})}},{key:"componentWillUnmount",value:function(){this.appState&&this.appState.off("save_with_changes",this.handleAppStateChange)}},{key:"render",value:function(){var _this2=this,handleChange=function(part){var nextModel=_extends({},_this2.state.model,part);_this2.props.vis.params=nextModel,_this2.state.autoApply&&_this2.props.vis.updateState(),_this2.setState({model:nextModel,dirty:!_this2.state.autoApply})},handleAutoApplyToggle=function(part){_this2.setState({autoApply:part.target.checked})},handleCommit=function(){_this2.props.vis.updateState(),_this2.setState({dirty:!1})};if(!this.props.vis.isEditorMode()){if(!this.props.vis.params||!this.props.visData)return null;var reversed=this.state.reversed;return _react2.default.createElement(_visualization2.default,{dateFormat:this.props.config.get("dateFormat"),reversed:reversed,onBrush:this.onBrush,onUiState:this.handleUiState,uiState:this.props.vis.getUiState(),fields:this.props.vis.fields,model:this.props.vis.params,visData:this.props.visData})}var model=this.state.model;return model&&this.props.visData?_react2.default.createElement("div",{className:"vis_editor"},_react2.default.createElement("div",{className:"vis-editor-hide-for-reporting"},_react2.default.createElement(_vis_picker2.default,{model:model,onChange:handleChange})),_react2.default.createElement(_vis_editor_visualization2.default,{dirty:this.state.dirty,autoApply:this.state.autoApply,model:model,visData:this.props.visData,onUiState:this.handleUiState,uiState:this.props.vis.getUiState(),onBrush:this.onBrush,onCommit:handleCommit,onToggleAutoApply:handleAutoApplyToggle,onChange:handleChange,title:this.props.vis.title,description:this.props.vis.description,dateFormat:this.props.config.get("dateFormat")}),_react2.default.createElement("div",{className:"vis-editor-hide-for-reporting"},_react2.default.createElement(_panel_config2.default,{fields:this.props.vis.fields,model:model,visData:this.props.visData,dateFormat:this.props.config.get("dateFormat"),onChange:handleChange}))):null}},{key:"componentDidMount",value:function(){this.props.renderComplete()}},{key:"componentDidUpdate",value:function(){this.props.renderComplete()}}]),VisEditor}(_react.Component);VisEditor.defaultProps={visData:{}},VisEditor.propTypes={vis:_propTypes2.default.object,visData:_propTypes2.default.object,appState:_propTypes2.default.object,renderComplete:_propTypes2.default.func,config:_propTypes2.default.object},exports.default=VisEditor,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Visualization(props){var visData=props.visData,model=props.model,error=_lodash2.default.get(visData,model.id+".error");if(error)return _react2.default.createElement("div",{className:props.className},_react2.default.createElement(_error2.default,{error:error}));var path="table"===visData.type?"series":model.id+".series";if(0===_lodash2.default.get(visData,path,[]).length)return _react2.default.createElement("div",{className:props.className},_react2.default.createElement(_no_data2.default,null));var component=types[model.type];return component?_react2.default.createElement(component,{dateFormat:props.dateFormat,reversed:props.reversed,backgroundColor:props.backgroundColor,model:props.model,onBrush:props.onBrush,onChange:props.onChange,onUiState:props.onUiState,uiState:props.uiState,visData:visData.type===model.type?visData:{}}):_react2.default.createElement("div",{className:props.className})}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_vis=__webpack_require__(4411),_vis2=_interopRequireDefault(_vis),_vis3=__webpack_require__(4436),_vis4=_interopRequireDefault(_vis3),_vis5=__webpack_require__(4440),_vis6=_interopRequireDefault(_vis5),_vis7=__webpack_require__(4442),_vis8=_interopRequireDefault(_vis7),_vis9=__webpack_require__(4444),_vis10=_interopRequireDefault(_vis9),_vis11=__webpack_require__(4448),_vis12=_interopRequireDefault(_vis11),_error=__webpack_require__(1380),_error2=_interopRequireDefault(_error),_no_data=__webpack_require__(4527),_no_data2=_interopRequireDefault(_no_data),types={timeseries:_vis2.default,metric:_vis4.default,top_n:_vis6.default,table:_vis8.default,gauge:_vis10.default,markdown:_vis12.default};Visualization.defaultProps={className:"thor__visualization"},Visualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,onUiState:_propTypes2.default.func,uiState:_propTypes2.default.object,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=Visualization,module.exports=exports.default},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var durationOutputOptions=exports.durationOutputOptions=[{label:"milliseconds",value:"ms"},{label:"seconds",value:"s"},{label:"minutes",value:"m"},{label:"hours",value:"h"},{label:"days",value:"d"},{label:"weeks",value:"w"},{label:"months",value:"M"},{label:"years",value:"Y"}];exports.durationInputOptions=[{label:"picoseconds",value:"ps"},{label:"nanoseconds",value:"ns"},{label:"microseconds",value:"us"}].concat(durationOutputOptions)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);exports.default=(0,_jquery2.default)({}),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);exports.default=function(props){return function(row,i){function tickFormatter(value){return _lodash2.default.isFunction(props.tickFormatter)?props.tickFormatter(value):value}var formatter=row.tickFormatter||tickFormatter,value=formatter(props.seriesValues[row.id]),classes=["rhythm_chart__legend_item"],key=row.id;return _lodash2.default.includes(props.seriesFilter,row.id)||classes.push("disabled"),null==row.label||!1===row.legend?_react2.default.createElement("div",{key:key,style:{display:"none"}}):_react2.default.createElement("div",{key:key,className:classes.join(" ")},_react2.default.createElement("button",{onClick:function(event){return props.onToggle(event,row.id)},className:"rhythm_chart__legend_button"},_react2.default.createElement("div",{className:"rhythm_chart__legend_label"},_react2.default.createElement("i",{className:"fa fa-circle",style:{color:row.color}}),_react2.default.createElement("span",null,row.label)),_react2.default.createElement("div",{className:"rhythm_chart__legend_value"},value)))}},module.exports=exports.default},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function visWithSplits(WrappedComponent){function SplitVisComponent(props){var model=props.model,visData=props.visData;if(!model||!visData||!visData[model.id])return _react2.default.createElement(WrappedComponent,props);if(visData[model.id].series.every(function(s){return 1===s.id.split(":").length}))return _react2.default.createElement(WrappedComponent,props);var splitsVisData=visData[model.id].series.reduce(function(acc,series){var _series$id$split=series.id.split(":"),_series$id$split2=_slicedToArray(_series$id$split,2),seriesId=_series$id$split2[0],splitId=_series$id$split2[1],seriesModel=model.series.find(function(s){return s.id===seriesId});if(!seriesModel||!splitId)return acc;var metric=(0,_lodash.last)(seriesModel.metrics),label=(0,_calculate_label2.default)(metric,seriesModel.metrics);return acc[splitId]||(acc[splitId]={series:[],label:series.label}),acc[splitId].series.push(_extends({},series,{id:seriesId,color:seriesModel.color,label:seriesModel.label||label})),acc},{}),nonSplitSeries=(0,_lodash.first)(visData[model.id].series.filter(function(series){var seriesModel=model.series.find(function(s){return s.id===series.id});return!!seriesModel&&["everything","filter"].includes(seriesModel.split_mode)})),indexOfNonSplit=nonSplitSeries?(0,_lodash.findIndex)(model.series,function(s){return s.id===nonSplitSeries.id}):null,rows=Object.keys(splitsVisData).map(function(key){var splitData=splitsVisData[key],series=splitData.series,label=splitData.label,newSeries=null!=indexOfNonSplit&&indexOfNonSplit>0?[].concat(_toConsumableArray(series),[nonSplitSeries]):[nonSplitSeries].concat(_toConsumableArray(series)),newVisData=_defineProperty({},model.id,{id:model.id,series:newSeries||series});return _react2.default.createElement("div",{key:key,className:"splitVis_split"},_react2.default.createElement("div",{className:"splitVis_visualization"},_react2.default.createElement(WrappedComponent,{model:model,visData:newVisData,onBrush:props.onBrush,additionalLabel:label,backgroundColor:props.backgroundColor})))});return _react2.default.createElement("div",{className:"splitVis"},rows)}return SplitVisComponent.displayName="SplitVisComponent("+(0,_get_display_name.getDisplayName)(WrappedComponent)+")",SplitVisComponent}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.visWithSplits=visWithSplits;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_get_display_name=__webpack_require__(4437),_lodash=__webpack_require__(1),_calculate_label=__webpack_require__(755),_calculate_label2=_interopRequireDefault(_calculate_label)},function(module,exports,__webpack_require__){"use strict";function isBasicAgg(item){return _lodash2.default.includes(Object.keys(byType.basic),item.type)}function createOptions(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_all",siblings=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],aggs=byType[type];aggs||(aggs=byType._all);var enablePipelines=siblings.some(isBasicAgg);return siblings.length<=1&&(enablePipelines=!1),(0,_lodash2.default)(aggs).map(function(label,value){var disabled=!!_lodash2.default.includes(pipeline,value)&&!enablePipelines;return{label:disabled?label+' (use the "+" button to add this pipeline agg)':label,value:value,disabled:disabled}}).value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBasicAgg=isBasicAgg,exports.createOptions=createOptions;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),lookup={count:"Count",calculation:"Calculation",std_deviation:"Std. Deviation",variance:"Variance",sum_of_squares:"Sum of Sq.",avg:"Average",max:"Max",min:"Min",sum:"Sum",percentile:"Percentile",percentile_rank:"Percentile Rank",cardinality:"Cardinality",value_count:"Value Count",derivative:"Derivative",cumulative_sum:"Cumulative Sum",moving_average:"Moving Average",avg_bucket:"Overall Average",min_bucket:"Overall Min",max_bucket:"Overall Max",sum_bucket:"Overall Sum",variance_bucket:"Overall Variance",sum_of_squares_bucket:"Overall Sum of Sq.",std_deviation_bucket:"Overall Std. Deviation",series_agg:"Series Agg",math:"Math",serial_diff:"Serial Difference",filter_ratio:"Filter Ratio",positive_only:"Positive Only",static:"Static Value",top_hit:"Top Hit"},pipeline=["calculation","derivative","cumulative_sum","moving_average","avg_bucket","min_bucket","max_bucket","sum_bucket","variance_bucket","sum_of_squares_bucket","std_deviation_bucket","series_agg","math","serial_diff","positive_only"],byType={_all:lookup,pipeline:pipeline,basic:_lodash2.default.omit(lookup,pipeline),metrics:_lodash2.default.pick(lookup,["count","avg","min","max","sum","cardinality","value_count"])};exports.default=lookup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=["count","avg","max","min","sum","std_deviation","variance","sum_of_squares","value_count","cardinality"],module.exports=exports.default},,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment);exports.default=function(series,model){var dateFormat=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lll",variables={};return model.series.forEach(function(seriesModel){series.filter(function(row){return _lodash2.default.startsWith(row.id,seriesModel.id)}).forEach(function(row){var varName=[_lodash2.default.snakeCase(row.label),_lodash2.default.snakeCase(seriesModel.var_name)].filter(function(v){return v}).join("."),formatter=(0,_tick_formatter2.default)(seriesModel.formatter,seriesModel.value_template),lastValue=(0,_get_last_value2.default)(row.data),data={last:{raw:lastValue,formatted:formatter(lastValue)},data:{raw:row.data,formatted:row.data.map(function(point){return[(0,_moment2.default)(point[0]).format(dateFormat),formatter(point[1])]})}};_lodash2.default.set(variables,varName,data),_lodash2.default.set(variables,_lodash2.default.snakeCase(row.label)+".label",row.label)})}),variables},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ErrorComponent(props){var error=props.error,additionalInfo=void 0,type=_lodash2.default.get(error,"error.caused_by.type"),reason=_lodash2.default.get(error,"error.caused_by.reason"),title=_lodash2.default.get(error,"error.caused_by.title");if(reason||(reason=_lodash2.default.get(error,"message")),"script_exception"===type){var scriptStack=_lodash2.default.get(error,"error.caused_by.script_stack");reason=_lodash2.default.get(error,"error.caused_by.caused_by.reason"),additionalInfo=_react2.default.createElement("div",{className:"metrics_error__additional"},_react2.default.createElement("div",{className:"metrics_error__reason"},reason),_react2.default.createElement("div",{className:"metrics_error__stack"},scriptStack.join("\n")))}else reason&&(additionalInfo=_react2.default.createElement("div",{className:"metrics_error__additional"},_react2.default.createElement("div",{className:"metrics_error__reason"},reason)));return _react2.default.createElement("div",{className:"metrics_error"},_react2.default.createElement("div",{className:"merics_error__title"},title||"The request for this panel failed."),additionalInfo)}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);ErrorComponent.propTypes={error:_propTypes2.default.object},exports.default=ErrorComponent,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.detectIE=detectIE},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_detect_ie=__webpack_require__(1381);exports.default=function(handleChange){return function(name,defaultValue){return function(e){(0,_detect_ie.detectIE)()&&13!==e.keyCode||e.preventDefault();var value=Number(_lodash2.default.get(e,"target.value",defaultValue));if(_lodash2.default.isFunction(handleChange))return handleChange(_defineProperty({},name,value))}}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_collection_actions=__webpack_require__(223),collectionActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_collection_actions),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),CalculationVars=function(_Component){function CalculationVars(props){_classCallCheck(this,CalculationVars);var _this=_possibleConstructorReturn(this,(CalculationVars.__proto__||Object.getPrototypeOf(CalculationVars)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(CalculationVars,_Component),_createClass(CalculationVars,[{key:"handleChange",value:function(item,name){var _this2=this;return function(e){var handleChange=collectionActions.handleChange.bind(null,_this2.props),part={};part[name]=_lodash2.default.get(e,"value",_lodash2.default.get(e,"target.value")),handleChange(_lodash2.default.assign({},item,part))}}},{key:"renderRow",value:function(row,i,items){var handleAdd=collectionActions.handleAdd.bind(null,this.props),handleDelete=collectionActions.handleDelete.bind(null,this.props,row);return _react2.default.createElement("div",{className:"vis_editor__calc_vars-row",key:row.id,"data-test-subj":"varRow"},_react2.default.createElement("div",{className:"vis_editor__calc_vars-name"},_react2.default.createElement("input",{"aria-label":"Variable name",placeholder:"Variable Name",className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(row,"name"),value:row.name})),_react2.default.createElement("div",{className:"vis_editor__calc_vars-var"},_react2.default.createElement(_metric_select2.default,{onChange:this.handleChange(row,"field"),metrics:this.props.metrics,metric:this.props.model,value:row.field,includeSiblings:this.props.includeSiblings})),_react2.default.createElement("div",{className:"vis_editor__calc_vars-control"},_react2.default.createElement(_add_delete_buttons2.default,{onAdd:handleAdd,onDelete:handleDelete,disableDelete:items.length<2})))}},{key:"render",value:function(){var _props=this.props,model=_props.model,name=_props.name;if(!model[name])return _react2.default.createElement("div",null);var rows=model[name].map(this.renderRow);return _react2.default.createElement("div",{className:"vis_editor__calc_vars"},rows)}}]),CalculationVars}(_react.Component);CalculationVars.defaultProps={name:"variables",includeSiblings:!1},CalculationVars.propTypes={metrics:_propTypes2.default.array,model:_propTypes2.default.object,name:_propTypes2.default.string,onChange:_propTypes2.default.func,includeSiblings:_propTypes2.default.bool},exports.default=CalculationVars,module.exports=exports.default},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4643),__webpack_require__(4644);var _iconVectorMap=__webpack_require__(4647),_iconVectorMap2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_iconVectorMap),_vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_schemas=__webpack_require__(85),_vis_types=__webpack_require__(94),_truncated_colormaps=__webpack_require__(773),_util=__webpack_require__(1404),_region_map_visualization=__webpack_require__(4648),_update_status=__webpack_require__(265);_vis_types.VisTypesRegistryProvider.register(function(Private,regionmapsConfig,config){var VisFactory=Private(_vis_factory.VisFactoryProvider),RegionMapsVisualization=Private(_region_map_visualization.RegionMapsVisualizationProvider),vectorLayers=regionmapsConfig.layers.map(_util.mapToLayerWithId.bind(null,"self_hosted")),selectedLayer=vectorLayers[0],selectedJoinField=selectedLayer?vectorLayers[0].fields[0]:null;return VisFactory.createBaseVisualization({name:"region_map",title:"Region Map",description:"Show metrics on a thematic map. Use one of the provided base maps, or add your own. Darker colors represent higher values.",category:_vis_category.CATEGORY.MAP,image:_iconVectorMap2.default,visConfig:{defaults:{legendPosition:"bottomright",addTooltip:!0,colorSchema:"Yellow to Red",selectedLayer:selectedLayer,selectedJoinField:selectedJoinField,isDisplayWarning:!0,wms:config.get("visualization:tileMap:WMSdefaults"),mapZoom:2,mapCenter:[0,0],outlineWeight:1,showAllShapes:!0}},requiresUpdateStatus:[_update_status.Status.AGGS,_update_status.Status.PARAMS,_update_status.Status.RESIZE,_update_status.Status.DATA,_update_status.Status.UI_STATE],visualization:RegionMapsVisualization,editorConfig:{optionsTemplate:"<region_map-vis-params></region_map-vis-params>",collections:{legendPositions:[{value:"bottomleft",text:"bottom left"},{value:"bottomright",text:"bottom right"},{value:"topleft",text:"top left"},{value:"topright",text:"top right"}],colorSchemas:Object.keys(_truncated_colormaps.truncatedColorMaps),vectorLayers:vectorLayers,baseLayers:[]},schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Value",min:1,max:1,aggFilter:["count","avg","sum","min","max","cardinality","top_hits","sum_bucket","min_bucket","max_bucket","avg_bucket"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",icon:"fa fa-globe",title:"shape field",min:1,max:1,aggFilter:["terms"]}])},responseHandler:"tabify"})})},function(module,exports,__webpack_require__){"use strict";function mapToLayerWithId(prefix,layer){var clonedLayer=_lodash2.default.cloneDeep(layer);return clonedLayer.layerId=prefix+"."+layer.name,clonedLayer}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapToLayerWithId=mapToLayerWithId;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_wms_options=__webpack_require__(4646),_wms_options2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_wms_options);_modules.uiModules.get("kibana").directive("wmsOptions",function(serviceSettings){return{restrict:"E",template:_wms_options2.default,replace:!0,scope:{options:"="},link:function($scope){$scope.options.baseLayersAreLoaded=new Promise(function(resolve,reject){serviceSettings.getTMSServices().then(function(allTMSServices){$scope.options.tmsLayers||($scope.options.tmsLayers=[]);for(var newBaseLayers=$scope.options.tmsLayers.slice(),i=0;i<allTMSServices.length;i+=1)!function(i){var layerFromService=allTMSServices[i];newBaseLayers.some(function(layer){return layerFromService.id===layer.id})||newBaseLayers.push(layerFromService)}(i);$scope.options.tmsLayers=newBaseLayers,$scope.options.selectedTmsLayer||($scope.options.selectedTmsLayer=$scope.options.tmsLayers[0]),resolve(!0)}).catch(function(e){reject(e)})})}}})},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function BaseMapsVisualizationProvider(serviceSettings){return function(){function BaseMapsVisualization(element,vis){_classCallCheck(this,BaseMapsVisualization),this.vis=vis,this._container=element,this._kibanaMap=null,this._chartData=null,this._baseLayerDirty=!0,this._mapIsLoaded=this._makeKibanaMap()}return _createClass(BaseMapsVisualization,[{key:"destroy",value:function(){this._kibanaMap&&(this._kibanaMap.destroy(),this._kibanaMap=null)}},{key:"render",value:function(){function render(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(esResponse,status){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this._kibanaMap){_context.next=2;break}return _context.abrupt("return");case 2:return _context.next=4,this._mapIsLoaded;case 4:if(status.resize&&this._kibanaMap.resize(),!status.params&&!status.aggs){_context.next=8;break}return _context.next=8,this._updateParams();case 8:if(!this._hasESResponseChanged(esResponse)){_context.next=11;break}return _context.next=11,this._updateData(esResponse);case 11:return status.uiState&&this._kibanaMap.useUiStateFromVisualization(this.vis),_context.next=14,this._whenBaseLayerIsLoaded();case 14:case"end":return _context.stop()}},_callee,this)}));return render}()},{key:"_makeKibanaMap",value:function(){function _makeKibanaMap(){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var options,uiState,zoomFromUiState,centerFromUIState,_this=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return options={},uiState=this.vis.getUiState(),zoomFromUiState=parseInt(uiState.get("mapZoom")),centerFromUIState=uiState.get("mapCenter"),options.zoom=isNaN(zoomFromUiState)?this.vis.params.mapZoom:zoomFromUiState,options.center=centerFromUIState||this.vis.params.mapCenter,this._kibanaMap=new _kibana_map.KibanaMap(this._container,options),this._kibanaMap.setMinZoom(MINZOOM),this._kibanaMap.setMaxZoom(MAXZOOM),this._kibanaMap.addLegendControl(),this._kibanaMap.addFitControl(),this._kibanaMap.persistUiStateForVisualization(this.vis),this._kibanaMap.on("baseLayer:loaded",function(){_this._baseLayerDirty=!1}),this._kibanaMap.on("baseLayer:loading",function(){_this._baseLayerDirty=!0}),_context2.next=16,this._updateBaseLayer();case 16:case"end":return _context2.stop()}},_callee2,this)}));return _makeKibanaMap}()},{key:"_baseLayerConfigured",value:function(){var mapParams=this._getMapsParams();return mapParams.wms.baseLayersAreLoaded||mapParams.wms.selectedTmsLayer}},{key:"_updateBaseLayer",value:function(){function _updateBaseLayer(){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var mapParams,tmsServices,firstRoadMapLayer,fallback,selectedTmsLayer;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this._kibanaMap){_context3.next=2;break}return _context3.abrupt("return");case 2:if(mapParams=this._getMapsParams(),this._baseLayerConfigured()){_context3.next=18;break}return _context3.prev=4,_context3.next=7,serviceSettings.getTMSServices();case 7:tmsServices=_context3.sent,firstRoadMapLayer=tmsServices.find(function(s){return"road_map"===s.id}),fallback=firstRoadMapLayer||tmsServices[0],fallback&&this._setTmsLayer(firstRoadMapLayer),_context3.next=17;break;case 13:return _context3.prev=13,_context3.t0=_context3.catch(4),this._notify.warning(_context3.t0.message),_context3.abrupt("return");case 17:return _context3.abrupt("return");case 18:if(_context3.prev=18,!mapParams.wms.enabled){_context3.next=24;break}MINZOOM>this._kibanaMap.getMaxZoomLevel()&&(this._kibanaMap.setMinZoom(MINZOOM),this._kibanaMap.setMaxZoom(MAXZOOM)),this._kibanaMap.setBaseLayer({baseLayerType:"wms",options:_extends({minZoom:MINZOOM,maxZoom:MAXZOOM,url:mapParams.wms.url},mapParams.wms.options)}),_context3.next=28;break;case 24:return _context3.next=26,mapParams.wms.baseLayersAreLoaded;case 26:selectedTmsLayer=mapParams.wms.selectedTmsLayer,this._setTmsLayer(selectedTmsLayer);case 28:_context3.next=33;break;case 30:_context3.prev=30,_context3.t1=_context3.catch(18),this._notify.warning(_context3.t1.message);case 33:case"end":return _context3.stop()}},_callee3,this,[[4,13],[18,30]])}));return _updateBaseLayer}()},{key:"_setTmsLayer",value:function(){function _setTmsLayer(_x3){return _ref4.apply(this,arguments)}var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(tmsLayer){var url,options;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:this._kibanaMap.setMinZoom(tmsLayer.minZoom),this._kibanaMap.setMaxZoom(tmsLayer.maxZoom),this._kibanaMap.getZoomLevel()>tmsLayer.maxZoom&&this._kibanaMap.setZoomLevel(tmsLayer.maxZoom),url=tmsLayer.url,options=_lodash2.default.cloneDeep(tmsLayer),delete options.id,delete options.url,this._kibanaMap.setBaseLayer({baseLayerType:"tms",options:_extends({url:url},options)});case 8:case"end":return _context4.stop()}},_callee4,this)}));return _setTmsLayer}()},{key:"_updateData",value:function(){function _updateData(){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:throw new Error("Child should implement this method to respond to data-update");case 1:case"end":return _context5.stop()}},_callee5,this)}));return _updateData}()},{key:"_hasESResponseChanged",value:function(data){return this._chartData!==data}},{key:"_updateParams",value:function(){function _updateParams(){return _ref6.apply(this,arguments)}var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(){var mapParams;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return mapParams=this._getMapsParams(),_context6.next=3,this._updateBaseLayer(mapParams);case 3:this._kibanaMap.setLegendPosition(mapParams.legendPosition),this._kibanaMap.setShowTooltip(mapParams.addTooltip),this._kibanaMap.useUiStateFromVisualization(this.vis);case 6:case"end":return _context6.stop()}},_callee6,this)}));return _updateParams}()},{key:"_getMapsParams",value:function(){return _lodash2.default.assign({},this.vis.type.visConfig.defaults,{type:this.vis.type.name},this.vis.params)}},{key:"_whenBaseLayerIsLoaded",value:function(){var _this2=this;if(!this._baseLayerConfigured())return!0;var interval$=_Rx.Observable.interval(10).filter(function(){return!_this2._baseLayerDirty}),timer$=_Rx.Observable.timer(1e4);return _Rx.Observable.race(interval$,timer$).first().toPromise()}}]),BaseMapsVisualization}()}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.BaseMapsVisualizationProvider=BaseMapsVisualizationProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_kibana_map=__webpack_require__(1407),_Rx=__webpack_require__(462);__webpack_require__(774);var MINZOOM=0,MAXZOOM=22},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function makeFitControl(fitContainer,kibanaMap){return new(_leaflet2.default.Control.extend({options:{position:"topleft"},initialize:function(fitContainer,kibanaMap){this._fitContainer=fitContainer,this._kibanaMap=kibanaMap,this._leafletMap=null},onAdd:function(leafletMap){var _this=this;return this._leafletMap=leafletMap,(0,_jquery2.default)(this._fitContainer).html('<a class="kuiIcon fa-crop" href="#" title="Fit Data Bounds" aria-label="Fit Data Bounds"></a>').on("click",function(e){e.preventDefault(),_this._kibanaMap.fitToData()}),this._fitContainer},onRemove:function(){(0,_jquery2.default)(this._fitContainer).off("click")}}))(fitContainer,kibanaMap)}function makeLegedControl(container,kibanaMap,position){return new(_leaflet2.default.Control.extend({options:{position:"topright"},initialize:function(container,kibanaMap,position){this._legendContainer=container,this._kibanaMap=kibanaMap,this.options.position=position},updateContents:function(){this._legendContainer.empty();var $div=(0,_jquery2.default)("<div>").addClass("tilemap-legend");this._legendContainer.append($div),this._kibanaMap.getLayers().forEach(function(layer){return layer.appendLegendContents($div)})},onAdd:function(){var _this2=this;return this._layerUpdateHandle=function(){return _this2.updateContents()},this._kibanaMap.on("layers:update",this._layerUpdateHandle),this.updateContents(),this._legendContainer.get(0)},onRemove:function(){this._kibanaMap.removeListener("layers:update",this._layerUpdateHandle),this._legendContainer.empty()}}))(container,kibanaMap,position)}function getAttributionArray(attribution){var attributionString=attribution||"",attributions=attributionString.split("|");return 1===attributions.length&&(attributions=attributions[0].split(",")),attributions}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KibanaMap=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_events=__webpack_require__(126),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_zoom_to_precision=__webpack_require__(4649);exports.KibanaMap=function(_EventEmitter){function KibanaMap(containerNode,options){_classCallCheck(this,KibanaMap);var _this3=_possibleConstructorReturn(this,(KibanaMap.__proto__||Object.getPrototypeOf(KibanaMap)).call(this));_this3._containerNode=containerNode,_this3._leafletBaseLayer=null,_this3._baseLayerSettings=null,_this3._baseLayerIsDesaturated=!0,_this3._leafletDrawControl=null,_this3._leafletFitControl=null,_this3._leafletLegendControl=null,_this3._legendPosition="topright",_this3._layers=[],_this3._listeners=[],_this3._showTooltip=!1;var leafletOptions={minZoom:options.minZoom,maxZoom:options.maxZoom,center:options.center?options.center:[0,0],zoom:options.zoom?options.zoom:2,renderer:_leaflet2.default.canvas(),zoomAnimation:!1,zoomControl:void 0===options.zoomControl||options.zoomControl};_this3._leafletMap=_leaflet2.default.map(containerNode,leafletOptions),_this3._leafletMap.attributionControl.setPrefix(""),options.scrollWheelZoom||_this3._leafletMap.scrollWheelZoom.disable();var previousZoom=_this3._leafletMap.getZoom();return _this3._leafletMap.on("zoomend",function(){previousZoom!==_this3._leafletMap.getZoom()&&(previousZoom=_this3._leafletMap.getZoom(),_this3.emit("zoomchange"))}),_this3._leafletMap.on("zoomend",function(){return _this3.emit("zoomend")}),_this3._leafletMap.on("dragend",function(){return _this3.emit("dragend")}),_this3._leafletMap.on("zoomend",function(){return _this3._updateExtent()}),_this3._leafletMap.on("dragend",function(){return _this3._updateExtent()}),_this3._leafletMap.on("mousemove",function(e){return _this3._layers.forEach(function(layer){return layer.movePointer("mousemove",e)})}),_this3._leafletMap.on("mouseout",function(e){return _this3._layers.forEach(function(layer){return layer.movePointer("mouseout",e)})}),_this3._leafletMap.on("mousedown",function(e){return _this3._layers.forEach(function(layer){return layer.movePointer("mousedown",e)})}),_this3._leafletMap.on("mouseup",function(e){return _this3._layers.forEach(function(layer){return layer.movePointer("mouseup",e)})}),_this3._leafletMap.on("draw:created",function(event){var drawType=event.layerType;if("rectangle"===drawType){var bounds=event.layer.getBounds(),southEast=bounds.getSouthEast(),northWest=bounds.getNorthWest(),southEastLng=southEast.lng;southEastLng>180&&(southEastLng-=360);var northWestLng=northWest.lng;northWestLng<-180&&(northWestLng+=360);var southEastLat=southEast.lat,northWestLat=northWest.lat;if(southEastLat===northWestLat||southEastLng===northWestLng)return;_this3.emit("drawCreated:rectangle",{bounds:{bottom_right:{lat:southEastLat,lon:southEastLng},top_left:{lat:northWestLat,lon:northWestLng}}})}else if("polygon"===drawType){var latLongs=event.layer.getLatLngs()[0];_this3.emit("drawCreated:polygon",{points:latLongs.map(function(leafletLatLng){return{lat:leafletLatLng.lat,lon:leafletLatLng.lng}})})}}),_this3.resize(),_this3}return _inherits(KibanaMap,_EventEmitter),_createClass(KibanaMap,[{key:"setShowTooltip",value:function(showTooltip){this._showTooltip=showTooltip}},{key:"getLayers",value:function(){return this._layers.slice()}},{key:"addLayer",value:function(kibanaLayer){var _this4=this,onshowTooltip=function(event){_this4._showTooltip&&(_this4._popup?(_this4._popup.getLatLng().equals(event.position)||_this4._popup.setLatLng(event.position),_this4._popup.getContent()!==event.content&&_this4._popup.setContent(event.content)):(_this4._popup=_leaflet2.default.responsivePopup({autoPan:!1}),_this4._popup.setLatLng(event.position),_this4._popup.setContent(event.content),_this4._popup.openOn(_this4._leafletMap)))};kibanaLayer.on("showTooltip",onshowTooltip),this._listeners.push({name:"showTooltip",handle:onshowTooltip,layer:kibanaLayer});var onHideTooltip=function(){_this4._leafletMap.closePopup(),_this4._popup=null};kibanaLayer.on("hideTooltip",onHideTooltip),this._listeners.push({name:"hideTooltip",handle:onHideTooltip,layer:kibanaLayer});var onStyleChanged=function(){_this4._leafletLegendControl&&_this4._leafletLegendControl.updateContents()};kibanaLayer.on("styleChanged",onStyleChanged),this._listeners.push({name:"styleChanged",handle:onStyleChanged,layer:kibanaLayer}),this._layers.push(kibanaLayer),kibanaLayer.addToLeafletMap(this._leafletMap),this.emit("layers:update"),this._addAttributions(kibanaLayer.getAttributions())}},{key:"removeLayer",value:function(kibanaLayer){var _this5=this;if(kibanaLayer){this._removeAttributions(kibanaLayer.getAttributions());var index=this._layers.indexOf(kibanaLayer);index>=0&&(this._layers.splice(index,1),kibanaLayer.removeFromLeafletMap(this._leafletMap)),this._listeners.forEach(function(listener){listener.layer===kibanaLayer&&listener.layer.removeListener(listener.name,listener.handle)}),this._layers.forEach(function(layer){return _this5._addAttributions(layer.getAttributions())}),this._baseLayerSettings&&this._addAttributions(this._baseLayerSettings.options.attribution)}}},{key:"_addAttributions",value:function(attribution){var _this6=this;getAttributionArray(attribution).forEach(function(attribution){_this6._leafletMap.attributionControl.removeAttribution(attribution),_this6._leafletMap.attributionControl.addAttribution(attribution)})}},{key:"_removeAttributions",value:function(attribution){var _this7=this;getAttributionArray(attribution).forEach(function(attribution){_this7._leafletMap.attributionControl.removeAttribution(attribution)})}},{key:"destroy",value:function(){this._leafletFitControl&&this._leafletMap.removeControl(this._leafletFitControl),this._leafletDrawControl&&this._leafletMap.removeControl(this._leafletDrawControl),this._leafletLegendControl&&this._leafletMap.removeControl(this._leafletLegendControl),this.setBaseLayer(null);for(var layer=void 0;this._layers.length;)layer=this._layers.pop(),layer.removeFromLeafletMap(this._leafletMap);this._leafletMap.remove(),this._containerNode.innerHTML="",this._listeners.forEach(function(listener){return listener.layer.removeListener(listener.name,listener.handle)})}},{key:"getCenter",value:function(){var center=this._leafletMap.getCenter();return{lon:center.lng,lat:center.lat}}},{key:"setCenter",value:function(latitude,longitude){var latLong=_leaflet2.default.latLng(latitude,longitude);latLong.equals&&!latLong.equals(this._leafletMap.getCenter())&&this._leafletMap.setView(latLong)}},{key:"setZoomLevel",value:function(zoomLevel){this._leafletMap.getZoom()!==zoomLevel&&this._leafletMap.setZoom(zoomLevel)}},{key:"getZoomLevel",value:function(){return this._leafletMap.getZoom()}},{key:"getMaxZoomLevel",value:function(){return this._leafletMap.getMaxZoom()}},{key:"getGeohashPrecision",value:function(){return(0,_zoom_to_precision.zoomToPrecision)(this._leafletMap.getZoom(),12,this._leafletMap.getMaxZoom())}},{key:"getLeafletBounds",value:function(){return this._leafletMap.getBounds()}},{key:"getMetersPerPixel",value:function(){var pointC=this._leafletMap.latLngToContainerPoint(this._leafletMap.getCenter()),pointX=[pointC.x+1,pointC.y],pointY=[pointC.x,pointC.y+1],latLngC=this._leafletMap.containerPointToLatLng(pointC),latLngX=this._leafletMap.containerPointToLatLng(pointX),latLngY=this._leafletMap.containerPointToLatLng(pointY),distanceX=latLngC.distanceTo(latLngX),distanceY=latLngC.distanceTo(latLngY);return _lodash2.default.min([distanceX,distanceY])}},{key:"_getLeafletBounds",value:function(resizeOnFail){var boundsRaw=this._leafletMap.getBounds(),bounds=this._leafletMap.wrapLatLngBounds(boundsRaw);if(!bounds)return null;var southEast=bounds.getSouthEast(),northWest=bounds.getNorthWest();return southEast.lng===northWest.lng||southEast.lat===northWest.lat?resizeOnFail?(this._leafletMap.invalidateSize(),this._getLeafletBounds(!1)):null:bounds}},{key:"getBounds",value:function(){var bounds=this._getLeafletBounds(!0);if(!bounds)return null;var southEast=bounds.getSouthEast(),northWest=bounds.getNorthWest(),southEastLng=southEast.lng,northWestLng=northWest.lng;return{bottom_right:{lat:southEast.lat,lon:southEastLng},top_left:{lat:northWest.lat,lon:northWestLng}}}},{key:"setDesaturateBaseLayer",value:function(isDesaturated){isDesaturated!==this._baseLayerIsDesaturated&&(this._baseLayerIsDesaturated=isDesaturated,this._updateDesaturation(),this._leafletBaseLayer.redraw())}},{key:"addDrawControl",value:function(){var drawOptions={draw:{polyline:!1,marker:!1,circle:!1,rectangle:{shapeOptions:{stroke:!1,color:"#000"}},polygon:{shapeOptions:{color:"#000"}}}};this._leafletDrawControl=new _leaflet2.default.Control.Draw(drawOptions),this._leafletMap.addControl(this._leafletDrawControl)}},{key:"addFitControl",value:function(){if(!this._leafletFitControl&&this._leafletMap){var fitContainer=_leaflet2.default.DomUtil.create("div","leaflet-control leaflet-bar leaflet-control-fit");this._leafletFitControl=makeFitControl(fitContainer,this),this._leafletMap.addControl(this._leafletFitControl)}}},{key:"addLegendControl",value:function(){!this._leafletLegendControl&&this._leafletMap&&this._updateLegend()}},{key:"setLegendPosition",value:function(position){this._legendPosition===position?this._leafletLegendControl||this._updateLegend():(this._legendPosition=position,this._updateLegend())}},{key:"_updateLegend",value:function(){this._leafletLegendControl&&this._leafletMap.removeControl(this._leafletLegendControl);var $wrapper=(0,_jquery2.default)("<div>").addClass("tilemap-legend-wrapper");this._leafletLegendControl=makeLegedControl($wrapper,this,this._legendPosition),this._leafletMap.addControl(this._leafletLegendControl)}},{key:"resize",value:function(){this._leafletMap.invalidateSize(),this._updateExtent()}},{key:"setMinZoom",value:function(zoom){this._leafletMap.setMinZoom(zoom)}},{key:"setMaxZoom",value:function(zoom){this._leafletMap.setMaxZoom(zoom)}},{key:"getLeafletBaseLayer",value:function(){return this._leafletBaseLayer}},{key:"setBaseLayer",value:function(settings){var _this8=this;if(!_lodash2.default.isEqual(settings,this._baseLayerSettings)){if(null===settings)return void(this._leafletBaseLayer&&this._leafletMap&&(this._removeAttributions(this._baseLayerSettings.options.attribution),this._leafletMap.removeLayer(this._leafletBaseLayer),this._leafletBaseLayer=null,this._baseLayerSettings=null));this._baseLayerSettings=settings,this._leafletBaseLayer&&(this._leafletMap.removeLayer(this._leafletBaseLayer),this._leafletBaseLayer=null);var baseLayer=void 0;"wms"===settings.baseLayerType?baseLayer=this._getWMSBaseLayer(settings.options):"tms"===settings.baseLayerType&&(baseLayer=this._getTMSBaseLayer(settings.options)),baseLayer&&(baseLayer.on("tileload",function(){return _this8._updateDesaturation()}),baseLayer.on("load",function(){_this8.emit("baseLayer:loaded")}),baseLayer.on("loading",function(){_this8.emit("baseLayer:loading")}),this._leafletBaseLayer=baseLayer,this._leafletBaseLayer.addTo(this._leafletMap),this._leafletBaseLayer.bringToBack(),settings.options.minZoom>this._leafletMap.getZoom()&&this._leafletMap.setZoom(settings.options.minZoom),this._addAttributions(settings.options.attribution),this.resize())}}},{key:"isInside",value:function(bucketRectBounds){return this._leafletMap.getBounds().intersects(bucketRectBounds)}},{key:"fitToData",value:function(){function fitToData(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var boundsArray,bounds,_this9=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this._leafletMap){_context3.next=2;break}return _context3.abrupt("return");case 2:return _context3.next=4,Promise.all(this._layers.map(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(layer){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,layer.getBounds();case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,_this9)}));return function(_x){return _ref2.apply(this,arguments)}}()));case 4:boundsArray=_context3.sent,bounds=null,boundsArray.forEach(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(b){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:bounds?bounds.extend(b):bounds=b;case 1:case"end":return _context2.stop()}},_callee2,_this9)}));return function(_x2){return _ref3.apply(this,arguments)}}()),bounds&&bounds.isValid()&&this._leafletMap.fitBounds(bounds);case 8:case"end":return _context3.stop()}},_callee3,this)}));return fitToData}()},{key:"_getTMSBaseLayer",value:function(options){return _leaflet2.default.tileLayer(options.url,{minZoom:options.minZoom,maxZoom:options.maxZoom,subdomains:options.subdomains||[]})}},{key:"_getWMSBaseLayer",value:function(options){var wmsOptions={format:options.format||"",layers:options.layers||"",minZoom:options.minZoom,maxZoom:options.maxZoom,styles:options.styles||"",transparent:options.transparent,version:options.version||"1.3.0"};return"string"==typeof options.url&&options.url.length?_leaflet2.default.tileLayer.wms(options.url,wmsOptions):null}},{key:"_updateExtent",value:function(){this._layers.forEach(function(layer){return layer.updateExtent()})}},{key:"_updateDesaturation",value:function(){var tiles=(0,_jquery2.default)("img.leaflet-tile-loaded");this._baseLayerIsDesaturated?tiles.removeClass("filters-off"):this._baseLayerIsDesaturated||tiles.addClass("filters-off")}},{key:"persistUiStateForVisualization",value:function(visualization){function persistMapStateInUiState(){var uiState=visualization.getUiState(),centerFromUIState=uiState.get("mapCenter"),zoomFromUiState=parseInt(uiState.get("mapZoom"));(isNaN(zoomFromUiState)||this.getZoomLevel()!==zoomFromUiState)&&visualization.uiStateVal("mapZoom",this.getZoomLevel());var centerFromMap=this.getCenter();centerFromUIState&&centerFromMap.lon===centerFromUIState[1]&&centerFromMap.lat===centerFromUIState[0]||visualization.uiStateVal("mapCenter",[centerFromMap.lat,centerFromMap.lon]),visualization.sessionState.mapBounds=this.getBounds()}var _this10=this;this._leafletMap.on("resize",function(){visualization.sessionState.mapBounds=_this10.getBounds()}),this._leafletMap.on("load",function(){visualization.sessionState.mapBounds=_this10.getBounds()}),this.on("dragend",persistMapStateInUiState),this.on("zoomend",persistMapStateInUiState)}},{key:"useUiStateFromVisualization",value:function(visualization){var uiState=visualization.getUiState(),zoomFromUiState=parseInt(uiState.get("mapZoom")),centerFromUIState=uiState.get("mapCenter");isNaN(zoomFromUiState)||this.setZoomLevel(zoomFromUiState),centerFromUIState&&this.setCenter(centerFromUIState[0],centerFromUIState[1])}}]),KibanaMap}(_events.EventEmitter)},,,,function(module,exports,__webpack_require__){"use strict";function shouldShowSpyMode(vis){return"courier"===vis.type.requestHandler&&vis.type.requiresSearch}var _req_resp_stats_spy_mode=__webpack_require__(4672),_req_resp_stats_spy_mode2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_req_resp_stats_spy_mode),_spy_modes=__webpack_require__(754),linkReqRespStats=function(mode,$scope){$scope.mode=mode,$scope.$bind("req","searchSource.history[searchSource.history.length - 1]"),$scope.$watchMulti(["req","req.started","req.stopped","searchSource"],function(){if($scope.searchSource&&$scope.req){var req=$scope.req,resp=$scope.req.resp,stats=$scope.stats=[];resp&&null!=resp.took&&stats.push(["Query Duration",resp.took+"ms"]),req&&null!=req.ms&&stats.push(["Request Duration",req.ms+"ms"]),resp&&resp.hits&&stats.push(["Hits",resp.hits.total]),req.fetchParams&&req.fetchParams.index&&(req.fetchParams.index.title&&stats.push(["Index",req.fetchParams.index.title]),req.fetchParams.index.type&&stats.push(["Type",req.fetchParams.index.type]),req.fetchParams.index.id&&stats.push(["Id",req.fetchParams.index.id]))}})};_spy_modes.SpyModesRegistryProvider.register(function(){return{name:"request",display:"Request",order:2,template:_req_resp_stats_spy_mode2.default,showMode:shouldShowSpyMode,link:linkReqRespStats.bind(null,"request")}}).register(function(){return{name:"response",display:"Response",order:3,template:_req_resp_stats_spy_mode2.default,showMode:shouldShowSpyMode,link:linkReqRespStats.bind(null,"response")}}).register(function(){return{name:"stats",display:"Statistics",order:4,template:_req_resp_stats_spy_mode2.default,showMode:shouldShowSpyMode,link:linkReqRespStats.bind(null,"stats")}})},function(module,exports,__webpack_require__){"use strict";function VisSpyTableProvider(Notifier,$filter,$rootScope){return{name:"table",display:"Table",order:1,template:_table_spy_mode2.default,showMode:function(vis){return"courier"===vis.type.requestHandler&&vis.type.requiresSearch},link:function($scope){$rootScope.$watchMulti.call($scope,["vis","searchSource.rawResponse"],function(){$scope.vis&&$scope.searchSource.rawResponse?($scope.rowsPerPage=10,$scope.table=(0,_tabify.tabifyAggResponse)($scope.vis.getAggConfig().getResponseAggs(),$scope.searchSource.rawResponse,{canSplit:!1,asAggConfigResults:!0,partialRows:!0,isHierarchical:$scope.vis.isHierarchical()})):$scope.table=null})}}}var _tabify=__webpack_require__(747),_table_spy_mode=__webpack_require__(4673),_table_spy_mode2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_table_spy_mode);__webpack_require__(754).SpyModesRegistryProvider.register(VisSpyTableProvider)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TableVisTypeProvider(Private){return Private(_vis_factory.VisFactoryProvider).createAngularVisualization({type:"table",name:"table",title:"Data Table",image:_iconTable2.default,description:"Display values in a table",category:_vis_category.CATEGORY.DATA,visConfig:{defaults:{perPage:10,showPartialRows:!1,showMeticsAtAllLevels:!1,sort:{columnIndex:null,direction:null},showTotal:!1,totalFunc:"sum"},template:_table_vis2.default},editorConfig:{optionsTemplate:"<table-vis-params></table-vis-params>",schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Metric",aggFilter:["!geo_centroid","!geo_bounds"],min:1,defaults:[{type:"count",schema:"metric"}]},{group:"buckets",name:"bucket",title:"Split Rows",aggFilter:["!filter"]},{group:"buckets",name:"split",title:"Split Table",aggFilter:["!filter"]}])},responseHandlerConfig:{asAggConfigResults:!0},hierarchicalData:function(vis){return Boolean(vis.params.showPartialRows||vis.params.showMeticsAtAllLevels)}})}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(4674),__webpack_require__(4675),__webpack_require__(4676),__webpack_require__(1414),__webpack_require__(4684);var _vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_schemas=__webpack_require__(85),_table_vis=__webpack_require__(4686),_table_vis2=_interopRequireDefault(_table_vis),_vis_types=__webpack_require__(94),_iconTable=__webpack_require__(4687),_iconTable2=_interopRequireDefault(_iconTable);_vis_types.VisTypesRegistryProvider.register(TableVisTypeProvider),exports.default=TableVisTypeProvider,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4678)},,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(4688),__webpack_require__(4689);var _vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_schemas=__webpack_require__(85),_tag_cloud_visualization=__webpack_require__(4696),_vis_types=__webpack_require__(94),_iconTagcloud=__webpack_require__(4702),_iconTagcloud2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_iconTagcloud),_update_status=__webpack_require__(265);_vis_types.VisTypesRegistryProvider.register(function(Private){return Private(_vis_factory.VisFactoryProvider).createBaseVisualization({name:"tagcloud",title:"Tag Cloud",image:_iconTagcloud2.default,description:"A group of words, sized according to their importance",category:_vis_category.CATEGORY.OTHER,visConfig:{defaults:{scale:"linear",orientation:"single",minFontSize:18,maxFontSize:72,showLabel:!0}},requiresUpdateStatus:[_update_status.Status.PARAMS,_update_status.Status.RESIZE,_update_status.Status.DATA],visualization:_tag_cloud_visualization.TagCloudVisualization,responseHandler:"tabify",editorConfig:{collections:{scales:["linear","log","square root"],orientations:["single","right angled","multiple"]},optionsTemplate:"<tagcloud-vis-params></tagcloud-vis-params>",schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Tag Size",min:1,max:1,aggFilter:["!std_dev","!percentiles","!percentile_ranks","!derivative","!geo_bounds","!geo_centroid"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",icon:"fa fa-cloud",title:"Tags",min:1,max:1,aggFilter:["terms"]}])}})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(699),__webpack_require__(4703);var _supports=__webpack_require__(4705),_vis_category=__webpack_require__(63),_vis_factory=__webpack_require__(73),_coordinate_maps_visualization=__webpack_require__(4706),_schemas=__webpack_require__(85),_iconTilemap=__webpack_require__(4714),_iconTilemap2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_iconTilemap),_vis_types=__webpack_require__(94),_update_status=__webpack_require__(265),_coordinatemap_response_handler=__webpack_require__(4715);_vis_types.VisTypesRegistryProvider.register(function(Private,getAppState,courier,config){var VisFactory=Private(_vis_factory.VisFactoryProvider),CoordinateMapsVisualization=Private(_coordinate_maps_visualization.CoordinateMapsVisualizationProvider);return VisFactory.createBaseVisualization({name:"tile_map",title:"Coordinate Map",image:_iconTilemap2.default,description:"Plot latitude and longitude coordinates on a map",category:_vis_category.CATEGORY.MAP,visConfig:{canDesaturate:!!_supports.supports.cssFilters,defaults:{mapType:"Scaled Circle Markers",isDesaturated:!0,addTooltip:!0,heatClusterSize:1.5,legendPosition:"bottomright",mapZoom:2,mapCenter:[0,0],wms:config.get("visualization:tileMap:WMSdefaults")}},requiresUpdateStatus:[_update_status.Status.AGGS,_update_status.Status.PARAMS,_update_status.Status.RESIZE,_update_status.Status.UI_STATE],responseHandler:(0,_coordinatemap_response_handler.makeGeoJsonResponseHandler)(),visualization:CoordinateMapsVisualization,editorConfig:{collections:{legendPositions:[{value:"bottomleft",text:"bottom left"},{value:"bottomright",text:"bottom right"},{value:"topleft",text:"top left"},{value:"topright",text:"top right"}],mapTypes:["Scaled Circle Markers","Shaded Circle Markers","Shaded Geohash Grid","Heatmap"],baseLayers:[]},optionsTemplate:"<tile-map-vis-params></tile-map-vis-params>",schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Value",min:1,max:1,aggFilter:["count","avg","sum","min","max","cardinality","top_hits"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",title:"Geo Coordinates",aggFilter:"geohash_grid",min:1,max:1}])}})})},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _vis_types=__webpack_require__(94),_vis_factory=__webpack_require__(73),_vis_category=__webpack_require__(63),_editor_size=__webpack_require__(495),_update_status=__webpack_require__(265),_default_feedback_message=__webpack_require__(750),_vega_request_handler=__webpack_require__(4718),_vega_visualization=__webpack_require__(4739);__webpack_require__(4744),__webpack_require__(4745),__webpack_require__(4746),__webpack_require__(4747),__webpack_require__(4748);var _vega_editor_template=__webpack_require__(4749),_vega_editor_template2=_interopRequireDefault(_vega_editor_template),_defaultSpec=__webpack_require__(4750),_defaultSpec2=_interopRequireDefault(_defaultSpec);_vis_types.VisTypesRegistryProvider.register(function(Private){var VisFactory=Private(_vis_factory.VisFactoryProvider),vegaRequestHandler=Private(_vega_request_handler.VegaRequestHandlerProvider).handler,VegaVisualization=Private(_vega_visualization.VegaVisualizationProvider);return VisFactory.createBaseVisualization({name:"vega",title:"Vega",description:"Create custom visualizations using Vega and VegaLite",icon:"fa-code",category:_vis_category.CATEGORY.OTHER,visConfig:{defaults:{spec:_defaultSpec2.default}},editorConfig:{optionsTemplate:_vega_editor_template2.default,enableAutoApply:!0,defaultSize:_editor_size.DefaultEditorSize.MEDIUM},visualization:VegaVisualization,requiresUpdateStatus:[_update_status.Status.DATA,_update_status.Status.RESIZE],requestHandler:vegaRequestHandler,responseHandler:"none",options:{showIndexSelection:!1,showQueryBar:!1,showFilterBar:!1},stage:"lab",feedbackMessage:_default_feedback_message.defaultFeedbackMessage})})},,,function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utils=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jsonStringifyPrettyCompact=__webpack_require__(1424),_jsonStringifyPrettyCompact2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jsonStringifyPrettyCompact);exports.Utils=function(){function Utils(){_classCallCheck(this,Utils)}return _createClass(Utils,null,[{key:"formatWarningToStr",value:function(value){if(arguments.length>=2)try{"string"==typeof arguments[1]?value+="\n"+arguments[1]:value+="\n"+(0,_jsonStringifyPrettyCompact2.default)(arguments[1],{maxLength:70})}catch(err){}return value}},{key:"formatErrorToStr",value:function(error){return error?error instanceof Error&&(error=error.message):error="ERR",Utils.formatWarningToStr.apply(Utils,[error].concat(_toConsumableArray(Array.from(arguments).slice(1))))}}]),Utils}()},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(1426),__webpack_require__(1428),__webpack_require__(4765);var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_default=__webpack_require__(4766),_default2=_interopRequireDefault(_default),_eui=__webpack_require__(5),_editor_size=__webpack_require__(495),_vis_editor_types=__webpack_require__(1356),defaultEditor=function($rootScope,$compile){var _class,_temp;return _temp=_class=function(){function DefaultEditor(el,vis,showSpyPanel){_classCallCheck(this,DefaultEditor),this.el=(0,_jquery2.default)(el),this.vis=vis,this.showSpyPanel=showSpyPanel,!this.vis.type.editorConfig.optionTabs&&this.vis.type.editorConfig.optionsTemplate&&(this.vis.type.editorConfig.optionTabs=[{name:"options",title:"Options",editor:this.vis.type.editorConfig.optionsTemplate}])}return _createClass(DefaultEditor,[{key:"render",value:function(visData,searchSource,updateStatus,uiState){var _this=this,$scope=void 0,updateScope=function(){$scope.showSpyPanel=_this.showSpyPanel,$scope.vis=_this.vis,$scope.visData=visData,$scope.uiState=uiState,$scope.searchSource=searchSource,$scope.$apply()};return new Promise(function(resolve){if(_this.$scope)$scope=_this.$scope,updateScope();else{_this.$scope=$scope=$rootScope.$new(),updateScope(),$scope.toggleSidebar=function(){$scope.$broadcast("render")},_this.el.one("renderComplete",resolve),$scope.stageEditableVis=function(){$scope.vis.updateState(),$scope.vis.dirty=!1},$scope.resetEditableVis=function(){$scope.vis.resetState(),$scope.vis.dirty=!1},$scope.autoApplyEnabled=!1,$scope.vis.type.editorConfig.enableAutoApply&&($scope.toggleAutoApply=function(){$scope.autoApplyEnabled=!$scope.autoApplyEnabled},$scope.$watch("vis.dirty",_lodash2.default.debounce(function(){$scope.autoApplyEnabled&&$scope.vis.dirty&&$scope.stageEditableVis()},800))),$scope.submitEditorWithKeyboard=function(event){event.ctrlKey&&event.keyCode===_eui.keyCodes.ENTER&&(event.preventDefault(),event.stopPropagation(),$scope.stageEditableVis())},$scope.getSidebarClass=function(){return $scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.SMALL?"collapsible-sidebar--small":$scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.MEDIUM?"collapsible-sidebar--medium":$scope.vis.type.editorConfig.defaultSize===_editor_size.DefaultEditorSize.LARGE?"collapsible-sidebar--large":void 0},$scope.$watch(function(){return $scope.vis.getCurrentState(!1)},function(newState){$scope.vis.dirty=!_angular2.default.equals(newState,$scope.vis.getEnabledState()),$scope.responseValueAggs=null;try{$scope.responseValueAggs=$scope.vis.aggs.getResponseAggs().filter(function(agg){return"metrics"===_lodash2.default.get(agg,"schema.group")})}catch(e){}},!0);var template=(0,_jquery2.default)(_default2.default);_this.el.html(template),$compile(template)($scope)}$scope.$broadcast("render")})}},{key:"resize",value:function(){}},{key:"destroy",value:function(){this.$scope&&(this.$scope.$destroy(),this.$scope=null)}}]),DefaultEditor}(),_class.key="default",_temp};_vis_editor_types.VisEditorTypesRegistryProvider.register(defaultEditor),exports.defaultEditor=defaultEditor},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(4751),__webpack_require__(1428);var _modules=__webpack_require__(2),_sidebar=__webpack_require__(4764),_sidebar2=_interopRequireDefault(_sidebar);_modules.uiModules.get("app/visualize").directive("visEditorSidebar",function(){return{restrict:"E",template:_sidebar2.default,scope:!0,controllerAs:"sidebar",controller:function($scope){var _this=this;$scope.$watch("vis.type",function(visType){if(visType){if(_this.showData=visType.schemas.buckets||visType.schemas.metrics,_lodash2.default.has(visType,"editorConfig.optionTabs")){var activeTabs=visType.editorConfig.optionTabs.filter(function(tab){return _lodash2.default.get(tab,"active",!1)});activeTabs.length>0&&(_this.section=activeTabs[0].name)}_this.section=_this.section||(_this.showData?"data":_lodash2.default.get(visType,"editorConfig.optionTabs[0].name"))}})}}})},function(module,exports,__webpack_require__){"use strict";var _agg_config=__webpack_require__(193),_modules=__webpack_require__(2),_agg_add=__webpack_require__(4758),_agg_add2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_agg_add);_modules.uiModules.get("kibana").directive("visEditorAggAdd",function(){return{restrict:"E",template:_agg_add2.default,controllerAs:"add",controller:function($scope){var self=this;self.form=!1,self.submit=function(schema){self.form=!1;var aggConfig=new _agg_config.AggConfig($scope.vis,{schema:schema});aggConfig.brandNew=!0,$scope.vis.aggs.push(aggConfig)}}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_modules=__webpack_require__(2),_vis_options=__webpack_require__(4763),_vis_options2=_interopRequireDefault(_vis_options);_modules.uiModules.get("app/visualize").directive("visEditorVisOptions",function(Private,$compile){return{restrict:"E",template:_vis_options2.default,scope:{vis:"=",visData:"=",uiState:"=",editor:"=",visualizeEditor:"="},link:function($scope,$el){var $optionContainer=$el.find("[data-visualization-options]"),reactOptionsComponent="string"!=typeof $scope.editor,stageEditorParams=function(params){$scope.vis.params=_lodash2.default.cloneDeep(params),$scope.$apply()},renderReactComponent=function(){var Component=$scope.editor;(0,_reactDom.render)(_react2.default.createElement(Component,{scope:$scope,stageEditorParams:stageEditorParams}),$el[0])};if(reactOptionsComponent)renderReactComponent();else{var $editor=$compile($scope.editor)($scope);$optionContainer.append($editor)}$scope.$watchGroup(["visData","visualizeEditor","vis.params"],function(){reactOptionsComponent&&renderReactComponent()}),$scope.$watch("vis.type.schemas.all.length",function(len){$scope.alwaysShowOptions=0===len}),$el.on("$destroy",function(){reactOptionsComponent&&(0,_reactDom.unmountComponentAtNode)($el[0])})}}})},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CourierRequestHandlerProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_search_source=__webpack_require__(252),_vis_request_handlers=__webpack_require__(753),_calculate_object_hash=__webpack_require__(1343),CourierRequestHandlerProvider=function(Private,courier,timefilter){function removeSearchSourceParentTimefilter(searchSource){searchSource.addFilterPredicate(function(filter){return!_lodash2.default.get(filter,"meta._globalTimefilter",!1)})}var SearchSource=Private(_search_source.SearchSourceProvider);return{name:"courier",handler:function(vis,_ref){var _this=this,appState=_ref.appState,queryFilter=_ref.queryFilter,searchSource=_ref.searchSource,timeRange=_ref.timeRange,requestSearchSource=(new SearchSource).inherits(searchSource,{callParentStartHandlers:!0});Object.defineProperty(requestSearchSource,"history",{get:function(){return requestSearchSource._parent.history},set:function(history){return requestSearchSource._parent.history=history}}),requestSearchSource.aggs(function(){return vis.getAggConfig().toDsl()}),requestSearchSource.onRequestStart(function(searchSource,searchRequest){return vis.onSearchRequestStart(searchSource,searchRequest)}),requestSearchSource.filter(function(){return timefilter.get(searchSource.get("index"),timeRange)}),removeSearchSourceParentTimefilter(requestSearchSource),queryFilter&&vis.editorMode&&(searchSource.set("filter",queryFilter.getFilters()),searchSource.set("query",appState.query));var shouldQuery=function(){return!(searchSource.lastQuery&&!vis.reload)||(!_lodash2.default.isEqual(_lodash2.default.cloneDeep(searchSource.get("filter")),searchSource.lastQuery.filter)||(!_lodash2.default.isEqual(_lodash2.default.cloneDeep(searchSource.get("query")),searchSource.lastQuery.query)||(!_lodash2.default.isEqual((0,_calculate_object_hash.calculateObjectHash)(vis.getAggConfig()),searchSource.lastQuery.aggs)||!_lodash2.default.isEqual(_lodash2.default.cloneDeep(timeRange),searchSource.lastQuery.timeRange))))};return new Promise(function(resolve,reject){shouldQuery()?(delete vis.reload,requestSearchSource.onResults().then(function(resp){return searchSource.lastQuery={filter:_lodash2.default.cloneDeep(searchSource.get("filter")),query:_lodash2.default.cloneDeep(searchSource.get("query")),aggs:(0,_calculate_object_hash.calculateObjectHash)(vis.getAggConfig()),timeRange:_lodash2.default.cloneDeep(timeRange)},searchSource.rawResponse=resp,_lodash2.default.cloneDeep(resp)}).then(function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(resp){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,agg,nestedSearchSource;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=3,_iterator=vis.getAggConfig()[Symbol.iterator]();case 5:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=15;break}if(agg=_step.value,!_lodash2.default.has(agg,"type.postFlightRequest")){_context.next=12;break}return nestedSearchSource=(new SearchSource).inherits(requestSearchSource),_context.next=11,agg.type.postFlightRequest(resp,vis.aggs,agg,nestedSearchSource);case 11:resp=_context.sent;case 12:_iteratorNormalCompletion=!0,_context.next=5;break;case 15:_context.next=21;break;case 17:_context.prev=17,_context.t0=_context.catch(3),_didIteratorError=!0,_iteratorError=_context.t0;case 21:_context.prev=21,_context.prev=22,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 24:if(_context.prev=24,!_didIteratorError){_context.next=27;break}throw _iteratorError;case 27:return _context.finish(24);case 28:return _context.finish(21);case 29:searchSource.finalResponse=resp,resolve(resp);case 31:case"end":return _context.stop()}},_callee,_this,[[3,17,21,29],[22,,24,28]])}));return function(_x){return _ref2.apply(this,arguments)}}()).catch(function(e){return reject(e)}),courier.fetch()):resolve(searchSource.finalResponse)})}}};_vis_request_handlers.VisRequestHandlersRegistryProvider.register(CourierRequestHandlerProvider),exports.CourierRequestHandlerProvider=CourierRequestHandlerProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noneRequestHandlerProvider=void 0;var _vis_request_handlers=__webpack_require__(753),noneRequestHandlerProvider=function(){return{name:"none",handler:function(){return new Promise(function(resolve){resolve()})}}};_vis_request_handlers.VisRequestHandlersRegistryProvider.register(noneRequestHandlerProvider),exports.noneRequestHandlerProvider=noneRequestHandlerProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.noneResponseHandler=void 0;var _vis_response_handlers=__webpack_require__(520),noneResponseHandler=function(){return{name:"none",handler:function(vis,response){return new Promise(function(resolve){resolve(response)})}}};_vis_response_handlers.VisResponseHandlersRegistryProvider.register(noneResponseHandler),exports.noneResponseHandler=noneResponseHandler},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabifyResponseHandlerProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_agg_response=__webpack_require__(516),_vis_response_handlers=__webpack_require__(520),TabifyResponseHandlerProvider=function(Private){var aggResponse=Private(_agg_response.AggResponseIndexProvider);return{name:"tabify",handler:function(vis,response){return new Promise(function(resolve){resolve(aggResponse.tabify(vis.getAggConfig().getResponseAggs(),response,{canSplit:!0,asAggConfigResults:_lodash2.default.get(vis,"type.responseHandlerConfig.asAggConfigResults",!1),isHierarchical:vis.isHierarchical()}))})}}};_vis_response_handlers.VisResponseHandlersRegistryProvider.register(TabifyResponseHandlerProvider),exports.TabifyResponseHandlerProvider=TabifyResponseHandlerProvider},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.chrome=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_metadata=__webpack_require__(159);__webpack_require__(1583),__webpack_require__(1584),__webpack_require__(1589),__webpack_require__(1590),__webpack_require__(1591),__webpack_require__(1592),__webpack_require__(1593),__webpack_require__(1594),__webpack_require__(1595),__webpack_require__(1596),__webpack_require__(1597),__webpack_require__(1599),__webpack_require__(1600),__webpack_require__(1601),__webpack_require__(1602),__webpack_require__(1603),__webpack_require__(1605),__webpack_require__(1606),__webpack_require__(1607),__webpack_require__(1608),__webpack_require__(1609),__webpack_require__(1610),__webpack_require__(1611),__webpack_require__(1612),__webpack_require__(1613),__webpack_require__(1614),__webpack_require__(1615),__webpack_require__(1616),__webpack_require__(1620),__webpack_require__(1624),__webpack_require__(1625),__webpack_require__(1627),__webpack_require__(1628),__webpack_require__(1629),__webpack_require__(1630),__webpack_require__(1631),__webpack_require__(1633),__webpack_require__(1634),__webpack_require__(1635),__webpack_require__(1636),__webpack_require__(1637),__webpack_require__(1639),__webpack_require__(1640),__webpack_require__(1641),__webpack_require__(1642),__webpack_require__(1643),__webpack_require__(1644),__webpack_require__(1645),__webpack_require__(1646),__webpack_require__(1647),__webpack_require__(1648),__webpack_require__(572),__webpack_require__(1649),__webpack_require__(1650),__webpack_require__(1651),__webpack_require__(1652),__webpack_require__(1653),__webpack_require__(1654),__webpack_require__(1655),__webpack_require__(1656),__webpack_require__(1657),__webpack_require__(1658),__webpack_require__(1659),__webpack_require__(1660),__webpack_require__(1661),__webpack_require__(1662),__webpack_require__(1663),__webpack_require__(1665),__webpack_require__(1666),__webpack_require__(1667),__webpack_require__(1668),__webpack_require__(1669),__webpack_require__(1670),__webpack_require__(1671),__webpack_require__(1672),__webpack_require__(1673),__webpack_require__(1674),__webpack_require__(1675),__webpack_require__(1676),__webpack_require__(1677),__webpack_require__(1678),__webpack_require__(1679),__webpack_require__(1680),__webpack_require__(1681),__webpack_require__(1682),__webpack_require__(1683),__webpack_require__(864),__webpack_require__(1684),__webpack_require__(181),__webpack_require__(10),__webpack_require__(1022),__webpack_require__(354),__webpack_require__(629),__webpack_require__(1023),__webpack_require__(630),__webpack_require__(2475);var _angular3=__webpack_require__(2477),_apps=__webpack_require__(2510),_apps2=_interopRequireDefault(_apps),_controls=__webpack_require__(2511),_controls2=_interopRequireDefault(_controls),_nav=__webpack_require__(2512),_template=__webpack_require__(2514),_template2=_interopRequireDefault(_template),_theme=__webpack_require__(2515),_theme2=_interopRequireDefault(_theme),_translations=__webpack_require__(2516),_translations2=_interopRequireDefault(_translations),_xsrf=__webpack_require__(2517),_ui_settings=__webpack_require__(2518),_loading_count=__webpack_require__(2522),chrome=exports.chrome={},internals=_lodash2.default.defaults(_lodash2.default.cloneDeep(_metadata.metadata),{basePath:"",rootController:null,rootTemplate:null,showAppsLink:null,xsrfToken:null,devMode:!0,brand:null,nav:[],applicationClasses:[]});(0,_ui_settings.initUiSettingsApi)(chrome),(0,_apps2.default)(chrome,internals),(0,_xsrf.initChromeXsrfApi)(chrome,internals),(0,_nav.initChromeNavApi)(chrome,internals),(0,_loading_count.initLoadingCountApi)(chrome,internals),(0,_angular3.initAngularApi)(chrome,internals),(0,_controls2.default)(chrome,internals),(0,_template2.default)(chrome,internals),(0,_theme2.default)(chrome,internals),(0,_translations2.default)(chrome,internals);var waitForBootstrap=new Promise(function(resolve){chrome.bootstrap=function(){chrome.setupAngular(),_angular2.default.bootstrap(document.body,["kibana"]),resolve()}});chrome.dangerouslyGetActiveInjector=function(){return waitForBootstrap.then(function(){var $injector=_angular2.default.element(document.body).injector();return $injector||Promise.reject("document.body had no angular context after bootstrapping")})}},,function(module,exports,__webpack_require__){"use strict";function bindToJquery($){function findTestSubject(){for(var $els=$(),$context=this,_len=arguments.length,subjectSelectors=Array(_len),_key=0;_key<_len;_key++)subjectSelectors[_key]=arguments[_key];return subjectSelectors.forEach(function(selector){$els=$els.add($context.find((0,_testSubjSelector2.default)(selector)))}),$els}$.findTestSubject=function(){return findTestSubject.apply($(document.body),arguments)},$.fn.findTestSubject=findTestSubject}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindToJquery;var _testSubjSelector=__webpack_require__(1580),_testSubjSelector2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_testSubjSelector);module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath);__webpack_require__(865),__webpack_require__(353);var _events=__webpack_require__(240),_diff_time=__webpack_require__(2462),_diff_interval=__webpack_require__(2465),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_legacy_class=__webpack_require__(55);_routes2.default.addSetupWork(function(timefilter){return timefilter.init()}),_modules.uiModules.get("kibana").service("timefilter",function(Private,globalState,$rootScope,config,$location){function convertISO8601(stringTime){var obj=(0,_moment2.default)(stringTime,"YYYY-MM-DDTHH:mm:ss.SSSZ",!0);return obj.isValid()?obj:stringTime}function Timefilter(){Timefilter.Super.call(this);var self=this,diffTime=Private(_diff_time.TimefilterLibDiffTimeProvider)(self),diffInterval=Private(_diff_interval.TimefilterLibDiffIntervalProvider)(self);self.isTimeRangeSelectorEnabled=!1,self.isAutoRefreshSelectorEnabled=!1,self.init=_lodash2.default.once(function(){var timeDefaults=config.get("timepicker:timeDefaults"),refreshIntervalDefaults=config.get("timepicker:refreshIntervalDefaults");self.time=_lodash2.default.defaults(globalState.time||{},timeDefaults),self.refreshInterval=_lodash2.default.defaults(globalState.refreshInterval||{},refreshIntervalDefaults),globalState.on("fetch_with_changes",function(){var newTime=_lodash2.default.defaults({},globalState.time,timeDefaults),newRefreshInterval=_lodash2.default.defaults({},globalState.refreshInterval,refreshIntervalDefaults);newTime&&(newTime.to&&(newTime.to=convertISO8601(newTime.to)),newTime.from&&(newTime.from=convertISO8601(newTime.from))),self.time=newTime,self.refreshInterval=newRefreshInterval})}),$rootScope.$$timefilter=self,$rootScope.$watchMulti(["$$timefilter.time","$$timefilter.time.from","$$timefilter.time.to","$$timefilter.time.mode"],diffTime),$rootScope.$watchMulti(["$$timefilter.refreshInterval","$$timefilter.refreshInterval.pause","$$timefilter.refreshInterval.value"],diffInterval)}var Events=Private(_events.EventsProvider);return(0,_legacy_class.createLegacyClass)(Timefilter).inherits(Events),Timefilter.prototype.update=function(){$rootScope.$apply()},Timefilter.prototype.get=function(indexPattern,timeRange){if(indexPattern){var filter=void 0,timefield=indexPattern.timeFieldName&&_lodash2.default.find(indexPattern.fields,{name:indexPattern.timeFieldName});if(timefield){var bounds=timeRange?this.calculateBounds(timeRange):this.getBounds();filter={range:{}},filter.range[timefield.name]={gte:bounds.min.valueOf(),lte:bounds.max.valueOf(),format:"epoch_millis"}}return filter}},Timefilter.prototype.getBounds=function(){return this.calculateBounds(this.time)},Timefilter.prototype.getForceNow=function(){var query=$location.search().forceNow;if(query){var ticks=Date.parse(query);if(isNaN(ticks))throw new Error("forceNow query parameter can't be parsed");return new Date(ticks)}},Timefilter.prototype.calculateBounds=function(timeRange){var forceNow=this.getForceNow();return{min:_datemath2.default.parse(timeRange.from,{forceNow:forceNow}),max:_datemath2.default.parse(timeRange.to,{roundUp:!0,forceNow:forceNow})}},Timefilter.prototype.getActiveBounds=function(){if(this.isTimeRangeSelectorEnabled)return this.getBounds()},Timefilter.prototype.enableTimeRangeSelector=function(){this.isTimeRangeSelectorEnabled=!0},Timefilter.prototype.disableTimeRangeSelector=function(){this.isTimeRangeSelectorEnabled=!1},Timefilter.prototype.enableAutoRefreshSelector=function(){this.isAutoRefreshSelectorEnabled=!0},Timefilter.prototype.disableAutoRefreshSelector=function(){this.isAutoRefreshSelectorEnabled=!1},new Timefilter})},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BinderFor=void 0;var _binder=__webpack_require__(581),BinderFor=function(_binder$BinderBase){function BinderFor(emitter){_classCallCheck(this,BinderFor);var _this=_possibleConstructorReturn(this,(BinderFor.__proto__||Object.getPrototypeOf(BinderFor)).call(this));return _this.emitter=emitter,_this}return _inherits(BinderFor,_binder$BinderBase),_createClass(BinderFor,[{key:"on",value:function(){for(var _get2,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_get2=_get(BinderFor.prototype.__proto__||Object.getPrototypeOf(BinderFor.prototype),"on",this)).call.apply(_get2,[this,this.emitter].concat(args))}}]),BinderFor}(_binder.BinderBase);exports.BinderFor=BinderFor},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function cloneBuffersCustomizer(val){if(Buffer.isBuffer(val))return new Buffer(val)}function deepCloneWithBuffers(vals){return(0,_lodash.cloneDeep)(vals,cloneBuffersCustomizer)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepCloneWithBuffers=deepCloneWithBuffers;var _lodash=__webpack_require__(1)}).call(exports,__webpack_require__(28).Buffer)},,,function(module,exports,__webpack_require__){"use strict";function fromRoot(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _path.resolve.apply(void 0,[_package_json.pkg.__dirname].concat(args))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromRoot=fromRoot;var _package_json=__webpack_require__(868),_path=__webpack_require__(427)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function unset(object,rawPath){if(object){var path=(0,_toPath2.default)(rawPath);switch(path.length){case 0:return;case 1:delete object[rawPath];break;default:var leaf=path.pop(),parentPath=path.slice(),parent=_lodash2.default.get(object,parentPath);unset(parent,leaf),_lodash2.default.size(parent)||unset(object,parentPath)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.unset=unset;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_toPath=__webpack_require__(869),_toPath2=_interopRequireDefault(_toPath)},,,,,,,,function(module,exports,__webpack_require__){"use strict";function encodeQueryComponent(val){var pctEncodeSpaces=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeQueryComponent=encodeQueryComponent},,function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function shouldReadKeys(value){return"object"===(void 0===value?"undefined":_typeof(value))&&null!==value&&!Array.isArray(value)}function getFlattenedObject(rootValue){if(!shouldReadKeys(rootValue))throw new TypeError("Root value is not flatten-able, received "+rootValue);return function flatten(acc,prefix,object){return Object.keys(object).reduce(function(acc,key){var value=object[key],path=prefix?prefix+"."+key:key;return shouldReadKeys(value)?flatten(acc,path,value):_extends({},acc,_defineProperty({},path,value))},acc)}({},"",rootValue)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getFlattenedObject=getFlattenedObject},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function skipLastEmptyLineStream(){var skippedEmptyLine=!1;return new _stream.Transform({objectMode:!0,transform:function(line,enc,cb){return skippedEmptyLine&&(this.push(""),skippedEmptyLine=!1),""===line?(skippedEmptyLine=!0,cb()):cb(null,line)}})}var watchStdioForLine=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(proc,logFn,exitAfter){var onLogLine;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return onLogLine=function(line){logFn(line),exitAfter&&exitAfter.test(line)&&proc.kill("SIGINT")},_context.next=3,Promise.all([proc.catch(function(error){if("SIGINT"!==error.signal)throw error}),(0,_streams.createPromiseFromStreams)([proc.stdout,(0,_streams.createSplitStream)("\n"),skipLastEmptyLineStream(),(0,_streams.createMapStream)(onLogLine)]),(0,_streams.createPromiseFromStreams)([proc.stderr,(0,_streams.createSplitStream)("\n"),skipLastEmptyLineStream(),(0,_streams.createMapStream)(onLogLine)])]);case 3:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.watchStdioForLine=watchStdioForLine;var _stream=__webpack_require__(104),_streams=__webpack_require__(877)},function(module,exports){},,function(module,exports){},,,,,,,,function(module,exports,__webpack_require__){"use strict";function concatStreamProviders(sourceProviders){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},destination=new _stream.PassThrough(options),queue=sourceProviders.slice();return function pipeNext(){var provider=queue.shift();if(provider){var source=provider(),isLast=!queue.length;isLast||source.once("end",pipeNext),source.once("error",function(error){return destination.emit("error",error)}).pipe(destination,{end:isLast})}}(),destination}Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatStreamProviders=concatStreamProviders;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";function createIntersperseStream(intersperseChunk){var first=!0;return new _stream.Transform({writableObjectMode:!0,readableObjectMode:!0,transform:function(chunk,enc,callback){try{first?first=!1:this.push(intersperseChunk),this.push(chunk),callback(null)}catch(err){callback(err)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createIntersperseStream=createIntersperseStream;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function createSplitStream(splitChunk){var unsplitBuffer=Buffer.alloc(0);return new _stream.Transform({writableObjectMode:!1,readableObjectMode:!0,transform:function(chunk,enc,callback){try{for(var i=void 0,toSplit=Buffer.concat([unsplitBuffer,chunk]);-1!==(i=toSplit.indexOf(splitChunk));){var slice=toSplit.slice(0,i);toSplit=toSplit.slice(i+splitChunk.length),this.push(slice.toString("utf8"))}unsplitBuffer=toSplit,callback(null)}catch(err){callback(err)}},flush:function(callback){try{this.push(unsplitBuffer.toString("utf8")),callback(null)}catch(err){callback(err)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSplitStream=createSplitStream;var _stream=__webpack_require__(104)}).call(exports,__webpack_require__(28).Buffer)},function(module,exports,__webpack_require__){"use strict";function createListStream(){var items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],queue=[].concat(items);return new _stream.Readable({objectMode:!0,read:function(size){var _this=this;queue.splice(0,size).forEach(function(item){_this.push(item)}),queue.length||this.push(null)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createListStream=createListStream;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";function createJsonParseStream(){return new _stream.Transform({writableObjectMode:!0,readableObjectMode:!0,transform:function(json,enc,callback){var parsed=void 0,error=void 0;try{parsed=JSON.parse(json)}catch(_error){error=_error}callback(error,parsed)}})}function createJsonStringifyStream(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$pretty=_ref.pretty,pretty=void 0!==_ref$pretty&&_ref$pretty;return new _stream.Transform({writableObjectMode:!0,readableObjectMode:!0,transform:function(json,enc,callback){try{callback(null,JSON.stringify(json,null,pretty?2:0))}catch(err){callback(err)}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createJsonParseStream=createJsonParseStream,exports.createJsonStringifyStream=createJsonStringifyStream;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var createPromiseFromStreams=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(streams){var last,anyStreamFailure,lastFinishedWriting,lastFinishedReading;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return last=streams[streams.length-1],anyStreamFailure=new Promise(function(resolve,reject){streams.forEach(function(stream,i){return i>0&&streams[i-1].pipe(stream),stream.on("error",reject),stream})}),lastFinishedWriting=new Promise(function(resolve){if("function"!=typeof last.write)return void resolve();last.on("finish",resolve)}),lastFinishedReading=new Promise(function(resolve){if("function"!=typeof last.read)return void resolve();var finalChunk=void 0;last.on("data",function(chunk){finalChunk=chunk}),last.on("end",function(){resolve(finalChunk)})}),_context.next=6,Promise.race([anyStreamFailure,Promise.all([lastFinishedWriting,lastFinishedReading])]);case 6:return _context.next=8,lastFinishedReading;case 8:return _context.abrupt("return",_context.sent);case 9:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPromiseFromStreams=createPromiseFromStreams},function(module,exports,__webpack_require__){"use strict";function createConcatStream(initial){return(0,_reduce_stream.createReduceStream)(function(acc,chunk){return acc.concat(chunk)},initial)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createConcatStream=createConcatStream;var _reduce_stream=__webpack_require__(878)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function createMapStream(fn){var i=0;return new _stream.Transform({objectMode:!0,transform:function(){function transform(_x,_x2,_x3){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(value,enc,done){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.t0=this,_context.next=4,fn(value,i++);case 4:_context.t1=_context.sent,_context.t0.push.call(_context.t0,_context.t1),done(),_context.next=12;break;case 9:_context.prev=9,_context.t2=_context.catch(0),done(_context.t2);case 12:case"end":return _context.stop()}},_callee,this,[[0,9]])}));return transform}()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMapStream=createMapStream;var _stream=__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function createReplaceStream(toReplace,replacement){if("string"!=typeof toReplace)throw new TypeError("toReplace must be a string");var buffer=Buffer.alloc(0);return new _stream.Transform({objectMode:!1,transform:function(){function transform(_x,_x2,_x3){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(value,enc,done){var index;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:_context.prev=0,buffer=Buffer.concat([buffer,value],buffer.length+value.length);case 2:if(-1!==(index=buffer.indexOf(toReplace))){_context.next=6;break}return _context.abrupt("break",11);case 6:this.push(buffer.slice(0,index)),this.push(replacement),buffer=buffer.slice(index+toReplace.length),_context.next=2;break;case 11:buffer.length>toReplace.length&&(this.push(buffer.slice(0,buffer.length-toReplace.length)),buffer=buffer.slice(-toReplace.length)),done(),_context.next=18;break;case 15:_context.prev=15,_context.t0=_context.catch(0),done(_context.t0);case 18:case"end":return _context.stop()}},_callee,this,[[0,15]])}));return transform}(),flush:function(callback){buffer.length&&this.push(buffer),buffer=null,callback()}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createReplaceStream=createReplaceStream;var _stream=__webpack_require__(104)}).call(exports,__webpack_require__(28).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getKbnFieldType(typeName){return KBN_FIELD_TYPES.find(function(type){return type.name===typeName})}function castEsToKbnFieldTypeName(esType){var type=KBN_FIELD_TYPES.find(function(type){return type.esTypes.includes(esType)});return type?type.name:"unknown"}function getKbnTypeNames(){return KBN_FIELD_TYPES.map(function(type){return type.name})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getKbnFieldType=getKbnFieldType,exports.castEsToKbnFieldTypeName=castEsToKbnFieldTypeName,exports.getKbnTypeNames=getKbnTypeNames;var KbnFieldType=function KbnFieldType(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,KbnFieldType);var name=options.name,_options$sortable=options.sortable,sortable=void 0!==_options$sortable&&_options$sortable,_options$filterable=options.filterable,filterable=void 0!==_options$filterable&&_options$filterable,_options$esTypes=options.esTypes,esTypes=void 0===_options$esTypes?[]:_options$esTypes;Object.defineProperties(this,{name:{value:name},sortable:{value:sortable},filterable:{value:filterable},esTypes:{value:Object.freeze(esTypes.slice())}})};exports.KbnFieldType=KbnFieldType;var KBN_FIELD_TYPES=[new KbnFieldType({name:"string",sortable:!0,filterable:!0,esTypes:["string","text","keyword","_type","_id"]}),new KbnFieldType({name:"number",sortable:!0,filterable:!0,esTypes:["float","half_float","scaled_float","double","integer","long","short","byte","token_count"]}),new KbnFieldType({name:"date",sortable:!0,filterable:!0,esTypes:["date"]}),new KbnFieldType({name:"ip",sortable:!0,filterable:!0,esTypes:["ip"]}),new KbnFieldType({name:"boolean",sortable:!0,filterable:!0,esTypes:["boolean"]}),new KbnFieldType({name:"geo_point",esTypes:["geo_point"]}),new KbnFieldType({name:"geo_shape",esTypes:["geo_shape"]}),new KbnFieldType({name:"attachment",esTypes:["attachment"]}),new KbnFieldType({name:"murmur3",esTypes:["murmur3"]}),new KbnFieldType({name:"_source",esTypes:["_source"]}),new KbnFieldType({name:"unknown"}),new KbnFieldType({name:"conflict"})]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _comma_separated_list=__webpack_require__(1725);Object.defineProperty(exports,"parseCommaSeparatedList",{enumerable:!0,get:function(){return _comma_separated_list.parseCommaSeparatedList}});var _prose=__webpack_require__(1726);Object.defineProperty(exports,"formatListAsProse",{enumerable:!0,get:function(){return _prose.formatListAsProse}})},function(module,exports,__webpack_require__){"use strict";function parseCommaSeparatedList(input){return Array.isArray(input)?input:String(input||"").split(",").map(function(word){return word.trim()}).filter(Boolean)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseCommaSeparatedList=parseCommaSeparatedList},function(module,exports,__webpack_require__){"use strict";function formatListAsProse(list){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$inclusive=options.inclusive,inclusive=void 0===_options$inclusive||_options$inclusive;if(!Array.isArray(list))throw new TypeError("formatListAsProse() requires an array");var count=list.length,conjunction=inclusive?"and":"or";return count<=2?list.join(" "+conjunction+" "):list.slice(0,-1).concat(conjunction+" "+list[count-1]).join(", ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatListAsProse=formatListAsProse},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyDiff(target,source){var diff={},filterPrivateAndMethods=function(obj){return function(key){return!_lodash2.default.isFunction(obj[key])&&("$"!==key.charAt(0)&&"_"!==key.charAt(0))}},targetKeys=_lodash2.default.keys(target).filter(filterPrivateAndMethods(target)),sourceKeys=_lodash2.default.keys(source).filter(filterPrivateAndMethods(source));return diff.removed=_lodash2.default.difference(targetKeys,sourceKeys),diff.added=_lodash2.default.difference(sourceKeys,targetKeys),diff.changed=_lodash2.default.filter(sourceKeys,function(key){return!_angular2.default.equals(target[key],source[key])}),diff.keys=_lodash2.default.union(diff.changed,diff.removed,diff.added),_lodash2.default.each(diff.removed,function(key){delete target[key]}),_lodash2.default.assign(target,_lodash2.default.pick(source,diff.changed)),_lodash2.default.assign(target,_lodash2.default.pick(source,diff.added)),diff}Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyDiff=applyDiff;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular)},function(module,exports,__webpack_require__){"use strict";function applyConfig(config){_notifier.Notifier.applyConfig({bannerLifetime:config.get("notifications:lifetime:banner"),errorLifetime:config.get("notifications:lifetime:error"),warningLifetime:config.get("notifications:lifetime:warning"),infoLifetime:config.get("notifications:lifetime:info")});var banner=config.get("notifications:banner");"string"==typeof banner&&banner.trim()&&notify.banner(banner)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.notify=void 0;var _modules=__webpack_require__(2),_fatal_error=__webpack_require__(587),_notifier=__webpack_require__(880),_metadata=__webpack_require__(159),_toaster=__webpack_require__(2436),_toaster2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_toaster);__webpack_require__(2437),__webpack_require__(625),__webpack_require__(626);var _module=_modules.uiModules.get("kibana/notify");_module.directive("kbnNotifications",function(){return{restrict:"E",scope:{list:"=list"},replace:!0,template:_toaster2.default}});var notify=exports.notify=new _notifier.Notifier;if(_module.factory("createNotifier",function(){return function(opts){return new _notifier.Notifier(opts)}}),_module.factory("Notifier",function(){return _notifier.Notifier}),_module.run(function(config,$interval,$compile){_notifier.Notifier.applyConfig({setInterval:$interval,clearInterval:$interval.cancel}),applyConfig(config),_notifier.Notifier.$compile=$compile}),_metadata.metadata.kbnIndex&&(__webpack_require__(353),_module.run(function(config){config.watchAll(function(){return applyConfig(config)})})),window.onerror=function(err,url,line){return(0,_fatal_error.fatalError)(new Error(err+" ("+url+":"+line+")")),!0},window.addEventListener){var notifier=new _notifier.Notifier({location:"Promise"});window.addEventListener("unhandledrejection",function(e){notifier.log("Detected an unhandled Promise rejection.\n"+e.reason)})}},function(module,exports,__webpack_require__){"use strict";function formatMsg(err,source){var message="";source&&(message+=source+": ");var esMsg=(0,_format_es_msg.formatESMsg)(err);return"string"==typeof err?message+=err:esMsg?message+=esMsg:err instanceof Error?message+=formatMsg.describeError(err):has(err,"status")&&has(err,"data")&&(-1===err.status?message+="An HTTP request has failed to connect. Please check if the Kibana server is running and that your browser has a working connection, or contact your system administrator.":message+="Error "+err.status+" "+err.statusText+": "+err.data.message),message}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatMsg=formatMsg;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_format_es_msg=__webpack_require__(879),has=_lodash2.default.has;formatMsg.describeError=function(err){if(err)return err.body&&err.body.message?err.body.message:err.message?err.message:""+err}},function(module,exports,__webpack_require__){"use strict";function formatStack(err){return err.stack&&!~err.stack.indexOf(err.message)?"Error: "+err.message+"\n"+err.stack:err.stack}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatStack=formatStack},function(module,exports){module.exports='<div\n  id="fatal-splash-screen-header"\n  class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n>\n  <div style="text-align: center">\n    <h1 class="kuiTitle kuiVerticalRhythm">\n      Oops!\n    </h1>\n\n    <p class="kuiText kuiVerticalRhythm">\n      Looks like something went wrong. Refreshing may do the trick.\n    </p>\n\n    <div\n      class="kuiButtonGroup kuiVerticalRhythm"\n      style="text-align: center; display: inline-block;"\n    >\n      <button\n        class="kuiButton kuiButton--primary"\n        onclick="window.history.back();"\n      >\n        Go back\n      </button>\n\n      <button\n        class="kuiButton kuiButton--hollow"\n        onclick="localStorage.clear(); sessionStorage.clear(); window.location.hash = \'\'; window.location.reload();"\n      >\n        Clear your session\n      </button>\n    </div>\n  </div>\n  <div id="fatal-splash-screen">\n  </div>\n</div>\n'},function(module,exports){module.exports='\x3c!--\n!!!!\n  Since fatal error could prevent angular from starting\n  this template is just a simple lodash template\n!!!!\n--\x3e\n<h1><i class="fa fa-warning-triangle"></i></h1>\n<div class="panel panel-danger">\n  <div class="panel-heading">\n    <h1 class="panel-title">\n      <i class="fa fa-warning"></i> Fatal Error\n    </h1>\n  </div>\n  <div class="panel-body fatal-body"><%- msg %></div>\n  <% if (info) { %>\n    <div class="panel-footer"><pre><%- info %></pre></div>\n  <% } %>\n  <% if (stack) { %>\n    <div class="panel-footer"><pre><%- stack %></pre></div>\n  <% } %>\n</div>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalBannerList=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);__webpack_require__(1789);var GlobalBannerList=exports.GlobalBannerList=function(_Component){function GlobalBannerList(props){_classCallCheck(this,GlobalBannerList);var _this=_possibleConstructorReturn(this,(GlobalBannerList.__proto__||Object.getPrototypeOf(GlobalBannerList)).call(this,props));return _this.props.subscribe&&_this.props.subscribe(function(){return _this.forceUpdate()}),_this}return _inherits(GlobalBannerList,_Component),_createClass(GlobalBannerList,[{key:"render",value:function(){if(0===this.props.banners.length)return null;var flexBanners=this.props.banners.map(function(banner){var id=banner.id,component=banner.component,priority=banner.priority,rest=_objectWithoutProperties(banner,["id","component","priority"]);return _react2.default.createElement("div",_extends({key:id,"data-test-priority":priority,className:"globalBanner__item"},rest),component)});return _react2.default.createElement("div",{className:"globalBanner__list"},flexBanners)}}]),GlobalBannerList}(_react.Component);GlobalBannerList.propTypes={banners:_propTypes2.default.array,subscribe:_propTypes2.default.func},GlobalBannerList.defaultProps={banners:[]}},,function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var Banners=exports.Banners=function Banners(){var _this=this;_classCallCheck(this,Banners),this._changed=function(){_this.onChangeCallback&&_this.onChangeCallback()},this._remove=function(id){var index=_this.list.findIndex(function(details){return details.id===id});return-1!==index&&(_this.list.splice(index,1),!0)},this.onChange=function(callback){_this.onChangeCallback=callback},this.add=function(_ref){var component=_ref.component,_ref$priority=_ref.priority,priority=void 0===_ref$priority?0:_ref$priority,id=""+ ++_this.uniqueId,bannerDetails={id:id,component:component,priority:priority},index=_this.list.findIndex(function(details){return priority>details.priority});return-1!==index?_this.list.splice(index,0,bannerDetails):_this.list.push(bannerDetails),_this._changed(),id},this.remove=function(id){var removed=_this._remove(id);return removed&&_this._changed(),removed},this.set=function(_ref2){var component=_ref2.component,id=_ref2.id,_ref2$priority=_ref2.priority,priority=void 0===_ref2$priority?0:_ref2$priority;return _this._remove(id),_this.add({component:component,priority:priority})},this.list=[],this.uniqueId=0,this.onChangeCallback=null};exports.banners=new Banners},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_modules=__webpack_require__(2),_apply_scope_bindings=__webpack_require__(1792);_modules.uiModules.get("kibana").directive("renderDirective",function(Private){var applyScopeBindings=Private(_apply_scope_bindings.ApplyScopeBindingsProvider);return{restrict:"E",scope:{definition:"="},template:function($el){return $el.html()},controller:function($scope,$element,$attrs,$transclude,$injector){if(!$scope.definition)throw new Error("render-directive must have a definition attribute");var _$scope$definition=$scope.definition,controller=_$scope$definition.controller,controllerAs=_$scope$definition.controllerAs,scope=_$scope$definition.scope;if(applyScopeBindings(scope,$scope,$attrs),controller){controllerAs&&($scope[controllerAs]=this);var locals={$scope:$scope,$element:$element,$attrs:$attrs,$transclude:$transclude},controllerInstance=$injector.invoke(controller,this,locals)||this;controllerAs&&($scope[controllerAs]=controllerInstance)}},link:{pre:function($scope,$el,$attrs,controller){var link=$scope.definition.link,preLink=(0,_lodash.isPlainObject)(link)?link.pre:null;preLink&&preLink($scope,$el,$attrs,controller)},post:function($scope,$el,$attrs,controller){var link=$scope.definition.link,postLink=(0,_lodash.isPlainObject)(link)?link.post:link;postLink&&postLink($scope,$el,$attrs,controller)}}}})},function(module,exports,__webpack_require__){"use strict";function ApplyScopeBindingsProvider($parse){return function(bindings,$scope,$attrs){(0,_lodash.forOwn)(bindings,function(binding,local){if(!bindingRE.test(binding))throw new Error('Invalid scope binding "'+binding+'". Expected it to match '+bindingRE);var _binding$match=binding.match(bindingRE),_binding$match2=_slicedToArray(_binding$match,3),type=_binding$match2[1],_binding$match2$=_binding$match2[2],attribute=void 0===_binding$match2$?local:_binding$match2$,attr=$attrs[attribute];switch(type){case"=":$scope.$bind(local,attr);break;case"=?":throw new Error("<render-directive> does not currently support optional two-way bindings.");case"&":if(attr){var getter=$parse(attr);$scope[local]=function(){return getter($scope.$parent)}}else $scope[local]=_lodash.noop;break;case"@":$scope[local]=attr,$attrs.$observe(attribute,function(v){return $scope[local]=v})}})}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.ApplyScopeBindingsProvider=ApplyScopeBindingsProvider;var _lodash=__webpack_require__(1);__webpack_require__(893);var bindingRE=/^(=|=\?|&|@)([a-zA-Z0-9_$]+)?$/},function(module,exports,__webpack_require__){"use strict";var _angular=__webpack_require__(13),_angular2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_angular);__webpack_require__(2).uiModules.get("kibana").config(function($provide){function strictEquality(a,b){return a===b||a!==a&&b!==b}function errorNotAssignable(source,target){throw Error('Unable to accept change to bound $scope property "'+source+'" because source expression "'+target+'" is not assignable!')}$provide.decorator("$rootScope",function($delegate,$parse){return $delegate.constructor.prototype.$bind=function(to,from,$sourceScope){var $source=$sourceScope||this.$parent,$target=this,$to=$parse(to);$to.assign||errorNotAssignable(to,from);var $from=$parse(from),getTarget=function(){return $to($target)},setTarget=function(v){return $to.assign($target,v)},getSource=function(){return $from($source)},setSource=function(v){return $from.assignOrFail($source,v)},lastSourceVal=getSource();$from.assignOrFail=$from.assign||function(){$to($target,lastSourceVal=$from($source)),errorNotAssignable(from,to)};var strict=!$from.literal,compare=strict?strictEquality:_angular2.default.equals;setTarget(lastSourceVal),$target.$watch(function(){var sourceVal=getSource(),targetVal=getTarget(),outOfSync=!compare(sourceVal,targetVal);return outOfSync&&!compare(sourceVal,lastSourceVal)?setTarget(sourceVal):outOfSync&&setSource(targetVal),lastSourceVal=sourceVal},null,!strict)},$delegate})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){module.exports='<div class="toaster-container">\n  <ul class="toaster">\n    <li ng-repeat="notif in list" kbn-toast notif="notif">\n      <div ng-class="notif.getAlertClass()">\n\n        <span ng-show="notif.count > 1" class="badge">{{ notif.count }}</span>\n\n        <i ng-class="notif.getIconClass()" tooltip="{{notif.title}}"></i>\n\n        <kbn-truncated\n          ng-if="notif.content"\n          source="{{notif.content | markdown}}"\n          is-html="true"\n          length="250"\n          ng-class="notif.getToastMessageClass()"\n        ></kbn-truncated>\n\n        <render-directive\n          ng-if="notif.directive"\n          definition="notif.directive"\n          notif="notif"\n          ng-class="notif.getToastMessageClass()"\n        ></render-directive>\n\n        <div class="kuiButtonGroup" ng-class="notif.getButtonGroupClass()">\n          <button\n            type="button"\n            ng-if="notif.stack && !notif.showStack"\n            class="kuiButton"\n            ng-class="notif.getButtonClass()"\n            ng-click="notif.cancelTimer(); notif.showStack = true"\n          >\n            More Info\n          </button>\n          <button\n            type="button"\n            ng-if="notif.stack && notif.showStack"\n            class="kuiButton"\n            ng-class="notif.getButtonClass()"\n            ng-click="notif.showStack = false"\n          >\n            Less Info\n          </button>\n          <button\n            data-test-subj="notifierDismissButton"\n            type="button"\n            ng-if="notif.accept"\n            class="kuiButton"\n            ng-class="notif.getButtonClass()"\n            ng-click="notif.accept()"\n          >\n            OK\n          </button>\n          <button\n            type="button"\n            ng-if="notif.address"\n            class="kuiButton"\n            ng-class="notif.getButtonClass()"\n            ng-click="notif.address()"\n          >\n            Fix it\n          </button>\n          <button\n            type="button"\n            class="kuiButton"\n            ng-repeat="action in notif.customActions"\n            ng-class="action.getButtonClass()"\n            ng-click="action.callback()"\n            ng-bind="action.key"\n            data-test-subj="{{action.dataTestSubj}}"\n          ></button>\n        </div>\n\n        \x3c!-- Countdown badge --\x3e\n        <button\n          type="button"\n          ng-if="notif.isTimed()"\n          class="toaster-countdown"\n          ng-click="notif.cancelTimer()"\n        >\n          <span\n            class="badge"\n            hover-text="stop"\n          >\n            {{notif.timeRemaining}}s\n          </span>\n        </button>\n      </div>\n\n      <div ng-if="notif.stack && notif.showStack" ng-class="notif.getAlertClassStack()">\n        <pre ng-repeat="stack in notif.stacks" ng-bind="stack"></pre>\n      </div>\n\n    </li>\n  </ul>\n</div>\n'},function(module,exports){},,,,,,,,,,,,function(module,exports){module.exports='<span ng-if="!isHtml">{{content}}</span>\n<span ng-if="isHtml" ng-bind-html="content"></span>\n<span ng-if="truncated">\n  <a ng-click="toggle()">{{action}}</a>\n</span>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_lodash=__webpack_require__(1);__webpack_require__(2).uiModules.get("kibana/config").service("config",function($rootScope,Promise){var _this=this,uiSettings=_chrome2.default.getUiSettingsClient();this.getAll=function(){return uiSettings.getAll.apply(uiSettings,arguments)},this.get=function(){return uiSettings.get.apply(uiSettings,arguments)},this.isDeclared=function(){return uiSettings.isDeclared.apply(uiSettings,arguments)},this.isDefault=function(){return uiSettings.isDefault.apply(uiSettings,arguments)},this.isCustom=function(){return uiSettings.isCustom.apply(uiSettings,arguments)},this.remove=function(key){return Promise.resolve(uiSettings.remove(key))},this.set=function(key,value){return Promise.resolve(uiSettings.set(key,(0,_lodash.isPlainObject)(value)?_angular2.default.toJson(value):value))};var subscription=uiSettings.subscribe(function(_ref){var key=_ref.key,newValue=_ref.newValue,oldValue=_ref.oldValue,emit=function(){$rootScope.$broadcast("change:config",newValue,oldValue,key,_this),$rootScope.$broadcast("change:config."+key,newValue,oldValue,key,_this)};$rootScope.$$phase?emit():$rootScope.$apply(emit)});$rootScope.$on("$destroy",function(){return subscription.unsubscribe()}),this.watchAll=function(handler){var scope=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$rootScope;return handler(null,null,null,this),scope.$on("change:config",function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];handler.apply(void 0,args)})},this.watch=function(key,handler){var scope=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$rootScope;if(!this.isDeclared(key))throw new Error('Unexpected `config.watch("'+key+'", fn)` call on unrecognized configuration setting "'+key+'".\nSetting an initial value via `config.set("'+key+'", value)` before binding\nany custom setting configuration watchers for "'+key+'" may fix this issue.');return handler(this.get(key),null,key,uiSettings),scope.$on("change:config."+key,function(event){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];handler.apply(void 0,args)})},this.bindToScope=function(scope,key){var property=arguments.length>2&&void 0!==arguments[2]?arguments[2]:key,onUpdate=function(newVal){scope[property]=newVal};return this.watch(key,onUpdate,scope)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _global_toast_list=__webpack_require__(2452);Object.defineProperty(exports,"GlobalToastList",{enumerable:!0,get:function(){return _global_toast_list.GlobalToastList}});var _toast_notifications=__webpack_require__(2453);Object.defineProperty(exports,"toastNotifications",{enumerable:!0,get:function(){return _toast_notifications.toastNotifications}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalToastList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.GlobalToastList=function(_Component){function GlobalToastList(props){_classCallCheck(this,GlobalToastList);var _this=_possibleConstructorReturn(this,(GlobalToastList.__proto__||Object.getPrototypeOf(GlobalToastList)).call(this,props));return _this.props.subscribe&&_this.props.subscribe(function(){return _this.forceUpdate()}),_this}return _inherits(GlobalToastList,_Component),_createClass(GlobalToastList,[{key:"render",value:function(){var _props=this.props,toasts=_props.toasts,dismissToast=_props.dismissToast,toastLifeTimeMs=_props.toastLifeTimeMs;return _react2.default.createElement(_eui.EuiPortal,null,_react2.default.createElement(_eui.EuiGlobalToastList,{toasts:toasts,dismissToast:dismissToast,toastLifeTimeMs:toastLifeTimeMs}))}}]),GlobalToastList}(_react.Component)).propTypes={subscribe:_propTypes2.default.func,toasts:_propTypes2.default.array,dismissToast:_propTypes2.default.func.isRequired,toastLifeTimeMs:_propTypes2.default.number.isRequired}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},normalizeToast=function(toastOrTitle){return"string"==typeof toastOrTitle?{title:toastOrTitle}:toastOrTitle},ToastNotifications=exports.ToastNotifications=function ToastNotifications(){var _this=this;_classCallCheck(this,ToastNotifications),this._changed=function(){_this.onChangeCallback&&_this.onChangeCallback()},this.onChange=function(callback){_this.onChangeCallback=callback},this.add=function(toastOrTitle){var toast=_extends({id:_this.idCounter++},normalizeToast(toastOrTitle));return _this.list.push(toast),_this._changed(),toast},this.remove=function(toast){var index=_this.list.indexOf(toast);-1!==index&&(_this.list.splice(index,1),_this._changed())},this.addSuccess=function(toastOrTitle){return _this.add(_extends({color:"success",iconType:"check"},normalizeToast(toastOrTitle)))},this.addWarning=function(toastOrTitle){return _this.add(_extends({color:"warning",iconType:"help"},normalizeToast(toastOrTitle)))},this.addDanger=function(toastOrTitle){return _this.add(_extends({color:"danger",iconType:"alert"},normalizeToast(toastOrTitle)))},this.list=[],this.idCounter=0,this.onChangeCallback=null};exports.toastNotifications=new ToastNotifications},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function BaseObject(attributes){_lodash2.default.assign(this,attributes)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseObject=BaseObject;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);BaseObject.prototype.toObject=function(){return _lodash2.default.omit(this,function(value,key){return"$"===key.charAt(0)||"_"===key.charAt(0)||_lodash2.default.isFunction(value)})},BaseObject.prototype.toRISON=function(){return _risonNode2.default.encode(JSON.parse(_angular2.default.toJson(this)))},BaseObject.prototype.toJSON=function(){return this.toObject()}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(2).uiModules.get("kibana/state_management").provider("stateManagementConfig",function(){function StateManagementConfigProvider(){_classCallCheck(this,StateManagementConfigProvider),this._enabled=!0}return _createClass(StateManagementConfigProvider,[{key:"$get",value:function(){return{enabled:this._enabled}}},{key:"disable",value:function(){this._enabled=!1}},{key:"enable",value:function(){this._enabled=!0}}]),StateManagementConfigProvider}())},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _hashed_item_store_singleton=__webpack_require__(2457);Object.defineProperty(exports,"HashedItemStoreSingleton",{enumerable:!0,get:function(){return _hashed_item_store_singleton.HashedItemStoreSingleton}});var _state_hash=__webpack_require__(2459);Object.defineProperty(exports,"createStateHash",{enumerable:!0,get:function(){return _state_hash.createStateHash}}),Object.defineProperty(exports,"isStateHash",{enumerable:!0,get:function(){return _state_hash.isStateHash}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HashedItemStoreSingleton=void 0;var _hashed_item_store=__webpack_require__(2458);exports.HashedItemStoreSingleton=new _hashed_item_store.HashedItemStore(window.sessionStorage)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HashedItemStore=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1);(exports.HashedItemStore=function(){function HashedItemStore(sessionStorage){_classCallCheck(this,HashedItemStore),this._sessionStorage=sessionStorage,this._indexedItems=[];var persistedItemIndex=this._sessionStorage.getItem(HashedItemStore.PERSISTED_INDEX_KEY);persistedItemIndex&&(this._indexedItems=(0,_lodash.sortBy)(JSON.parse(persistedItemIndex)||[],"touched"))}return _createClass(HashedItemStore,[{key:"setItem",value:function(hash,item){var isItemPersisted=this._persistItem(hash,item);return isItemPersisted&&this._touchHash(hash),isItemPersisted}},{key:"getItem",value:function(hash){var item=this._sessionStorage.getItem(hash);return null!==item&&this._touchHash(hash),item}},{key:"_getIndexedItem",value:function(hash){return this._indexedItems.find(function(indexedItem){return indexedItem.hash===hash})}},{key:"_persistItem",value:function(hash,item){try{return this._sessionStorage.setItem(hash,item),!0}catch(e){return 0!==this._indexedItems.length&&(this._removeOldestItem(),this._persistItem(hash,item))}}},{key:"_removeOldestItem",value:function(){var oldestIndexedItem=this._indexedItems.shift();this._sessionStorage.removeItem(oldestIndexedItem.hash)}},{key:"_touchHash",value:function(hash){var indexedItem=this._getIndexedItem(hash)||{hash:hash};indexedItem.touched=Date.now(),(0,_lodash.pull)(this._indexedItems,indexedItem),this._indexedItems.push(indexedItem),this._sessionStorage.setItem(HashedItemStore.PERSISTED_INDEX_KEY,JSON.stringify(this._indexedItems))}}]),HashedItemStore}()).PERSISTED_INDEX_KEY="kbn.hashedItemsIndex.v1"},function(module,exports,__webpack_require__){"use strict";function createStateHash(json,existingJsonProvider){if("string"!=typeof json)throw new Error("createHash only accepts strings (JSON).");for(var hash=(new _crypto.Sha256).update(json,"utf8").digest("hex"),shortenedHash=void 0,i=7;i<hash.length;i++){shortenedHash=hash.slice(0,i);var existingJson=existingJsonProvider(shortenedHash);if(null===existingJson||existingJson===json)break}return""+HASH_PREFIX+shortenedHash}function isStateHash(str){return 0===String(str).indexOf(HASH_PREFIX)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStateHash=createStateHash,exports.isStateHash=isStateHash;var _crypto=__webpack_require__(2460),HASH_PREFIX="h@"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _sha=__webpack_require__(2461);Object.defineProperty(exports,"Sha256",{enumerable:!0,get:function(){return _sha.Sha256}})},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}function gamma1(x){return(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);exports.Sha256=function(){function Sha256(){_classCallCheck(this,Sha256),this.init(),this._w=W;this._block=new Buffer(64),this._finalSize=56,this._blockSize=64,this._len=0,this._s=0}return _createClass(Sha256,[{key:"init",value:function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this}},{key:"update",value:function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=new Buffer(data,enc));for(var l=this._len+=data.length,s=this._s||0,f=0,buffer=this._block;s<l;){for(var t=Math.min(data.length,f+this._blockSize-s%this._blockSize),_ch=t-f,i=0;i<_ch;i++)buffer[s%this._blockSize+i]=data[i+f];s+=_ch,f+=_ch,s%this._blockSize==0&&this._update(buffer)}return this._s=s,this}},{key:"digest",value:function(enc){var l=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),l%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash}},{key:"_update",value:function(M){var W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=void 0;for(i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=gamma1(W[i-2])+W[i-7]+gamma0(W[i-15])+W[i-16]|0;for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0}},{key:"_hash",value:function(){var H=new Buffer(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H}}]),Sha256}()}).call(exports,__webpack_require__(28).Buffer)},function(module,exports,__webpack_require__){"use strict";function TimefilterLibDiffTimeProvider(Private){var diff=Private(_diff_time_picker_vals.UtilsDiffTimePickerValsProvider);return function(self){var oldTime=_lodash2.default.clone(self.time);return function(){diff(self.time,oldTime)&&(_time_history.timeHistory.add(self.time),self.emit("update"),self.emit("fetch")),oldTime=_lodash2.default.clone(self.time)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimefilterLibDiffTimeProvider=TimefilterLibDiffTimeProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_diff_time_picker_vals=__webpack_require__(1017),_time_history=__webpack_require__(1018)},function(module,exports,__webpack_require__){"use strict";function Storage(store){var self=this;self.store=store,self.get=function(key){try{return JSON.parse(self.store.getItem(key))}catch(e){return null}},self.set=function(key,value){try{return self.store.setItem(key,_angular2.default.toJson(value))}catch(e){return!1}},self.remove=function(key){return self.store.removeItem(key)},self.clear=function(){return self.store.clear()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Storage=Storage;var _modules=__webpack_require__(2),_angular=__webpack_require__(13),_angular2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_angular),createService=function(type){return function($window){return new Storage($window[type])}};_modules.uiModules.get("kibana/storage").service("localStorage",createService("localStorage")).service("sessionStorage",createService("sessionStorage"))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.recentlyAccessed=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_=__webpack_require__(130),RecentlyAccessed=function(){function RecentlyAccessed(){_classCallCheck(this,RecentlyAccessed);var historyOptions={maxLength:20,filterDuplicates:!0,isDuplicate:function(oldItem,newItem){return oldItem.id===newItem.id}};this.history=new _.PersistedLog("kibana.history.recentlyAccessed",historyOptions)}return _createClass(RecentlyAccessed,[{key:"add",value:function(link,label,id){var historyItem={link:link,label:label,id:id};this.history.add(historyItem)}},{key:"get",value:function(){return this.history.get()}}]),RecentlyAccessed}();exports.recentlyAccessed=new RecentlyAccessed},function(module,exports,__webpack_require__){"use strict";function TimefilterLibDiffIntervalProvider(Private){var diff=Private(_diff_time_picker_vals.UtilsDiffTimePickerValsProvider);return function(self){var oldRefreshInterval=_lodash2.default.clone(self.refreshInterval);return function(){diff(self.refreshInterval,oldRefreshInterval)&&(self.emit("update"),self.refreshInterval.pause||0===self.refreshInterval.value||self.emit("fetch")),oldRefreshInterval=_lodash2.default.clone(self.refreshInterval)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimefilterLibDiffIntervalProvider=TimefilterLibDiffIntervalProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_diff_time_picker_vals=__webpack_require__(1017)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uiRoutes=void 0;var _route_manager=__webpack_require__(2467),_route_manager2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_route_manager);__webpack_require__(2471);var _modules=__webpack_require__(2),_route_setup_manager=__webpack_require__(1021),defaultRouteManager=new _route_manager2.default;exports.uiRoutes=Object.create(defaultRouteManager,{WAIT_FOR_URL_CHANGE_TOKEN:{value:_route_setup_manager.WAIT_FOR_URL_CHANGE_TOKEN},enable:{value:function(){_modules.uiModules.get("kibana",["ngRoute"]).config(defaultRouteManager.config).run(defaultRouteManager.run)}}})},function(module,exports,__webpack_require__){"use strict";function RouteManager(){var _this=this,self=this,setup=new _route_setup_manager.RouteSetupManager,when=[],defaults=[],otherwise=void 0;self.config=function($routeProvider){when.forEach(function(args){var path=args[0],route=args[1]||{};defaults.forEach(function(def){def.regex.test(path)&&(0,_lodash.defaultsDeep)(route,(0,_lodash.cloneDeep)(def.value))}),null==route.reloadOnSearch&&(route.reloadOnSearch=!1),null==route.requireDefaultIndex&&(route.requireDefaultIndex=!1),(0,_wrap_route_with_prep.wrapRouteWithPrep)(route,setup),$routeProvider.when(path,route)}),otherwise&&((0,_wrap_route_with_prep.wrapRouteWithPrep)(otherwise,setup),$routeProvider.otherwise(otherwise))},self.run=function($location,$route,$injector){self.getBreadcrumbs=function(){var breadcrumbs=(0,_breadcrumbs.parsePathToBreadcrumbs)($location.path()),map=$route.current.mapBreadcrumbs;return map?$injector.invoke(map,null,{breadcrumbs:breadcrumbs}):breadcrumbs}};var wrapSetupAndChain=function(fn){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return fn.apply(setup,args),_this};this.addSetupWork=(0,_lodash.wrap)(setup.addSetupWork,wrapSetupAndChain),this.afterSetupWork=(0,_lodash.wrap)(setup.afterSetupWork,wrapSetupAndChain),this.afterWork=(0,_lodash.wrap)(setup.afterWork,wrapSetupAndChain),self.when=function(path,route){return when.push([path,route]),self},self.defaults=function(regex,value){return defaults.push({regex:regex,value:value}),self},self.otherwise=function(route){return otherwise=route,self},self.getBreadcrumbs=function(){return[]},self.RouteManager=RouteManager}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=RouteManager;var _lodash=__webpack_require__(1),_wrap_route_with_prep=__webpack_require__(2468),_route_setup_manager=__webpack_require__(1021),_breadcrumbs=__webpack_require__(2470);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function wrapRouteWithPrep(route,setup){if(route.resolve||!route.redirectTo){var userWork=new _work_queue.WorkQueue;userWork.limit=_lodash2.default.keys(route.resolve).length;var resolve={__prep__:function($injector){return $injector.invoke(setup.doWork,setup,{userWork:userWork})}};_lodash2.default.forOwn(route.resolve||{},function(expr,name){resolve[name]=function($injector,Promise){var defer=Promise.defer();return userWork.push(defer),defer.promise.then(function(){return $injector[_angular2.default.isString(expr)?"get":"invoke"](expr)})}}),route.resolve=resolve}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapRouteWithPrep=wrapRouteWithPrep;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_work_queue=__webpack_require__(2469)},function(module,exports,__webpack_require__){"use strict";function WorkQueue(){var q=this,work=[],fullDefers=[];q.limit=0,Object.defineProperty(q,"length",{get:function(){return work.length}});var resolve=function(defers){return defers.splice(0).map(function(defer){return defer.resolve()})},checkIfFull=function(){work.length>=q.limit&&fullDefers.length&&resolve(fullDefers)};q.resolveWhenFull=function(defer){fullDefers.push(defer),checkIfFull()},q.doWork=function(){var resps=resolve(work);return checkIfFull(),resps},q.empty=function(){work.splice(0),checkIfFull()},q.push=function(defer){work.push(defer),checkIfFull()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorkQueue=WorkQueue},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function parsePathToBreadcrumbs(path){return(0,_lodash.trim)(path,"/").split("/").reduce(function(acc,id,i,parts){return[].concat(_toConsumableArray(acc),[{id:id,display:(0,_lodash.startCase)(id),href:0===i?"#/"+id:acc[i-1].href+"/"+id,current:i===parts.length-1}])},[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parsePathToBreadcrumbs=parsePathToBreadcrumbs;var _lodash=__webpack_require__(1)},,function(module,exports,__webpack_require__){"use strict";function name(fn){return fn.name||fn.toString().split("\n").shift()}var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_modules=__webpack_require__(2),nextId=_lodash2.default.partial(_lodash2.default.uniqueId,"privateProvider#");_modules.uiModules.get("kibana/private").provider("Private",function(){function identify(fn){if("function"!=typeof fn)throw new TypeError('Expected private module "'+fn+'" to be a function');return fn.$$id?fn.$$id:fn.$$id=nextId()}var provider=this,cache={},swaps={};provider.stub=function(fn,instance){return cache[identify(fn)]=instance,instance},provider.swap=function(fn,prov){var id=identify(fn);swaps[id]=prov},provider.$get=["$injector",function($injector){function instantiate(prov,locals){if(~privPath.indexOf(prov))throw new Error('Circular reference to "'+name(prov)+'" found while resolving private deps: '+pathToString());privPath.push(prov);var context={},instance=$injector.invoke(prov,context,locals);return _lodash2.default.isObject(instance)||(instance=context),privPath.pop(),instance}function get(id,prov,$delegateId,$delegateProv){if(cache[id])return cache[id];var instance=void 0;return instance=null!=$delegateId&&null!=$delegateProv?instantiate(prov,{$decorate:_lodash2.default.partial(get,$delegateId,$delegateProv)}):instantiate(prov),cache[id]=instance}function Private(prov){var id=identify(prov),$delegateId=void 0,$delegateProv=void 0;return swaps[id]&&($delegateId=id,$delegateProv=prov,prov=swaps[$delegateId],id=identify(prov)),get(id,prov,$delegateId,$delegateProv)}var privPath=[],pathToString=function(){return privPath.map(name).join(" -> ")};return Private.stub=provider.stub,Private.swap=provider.swap,Private}]})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_modules=__webpack_require__(2),_module=_modules.uiModules.get("kibana");_module.service("Promise",function($q,$timeout){function Promise(fn){if(void 0===this)throw new Error('Promise constructor must be called with "new"');var defer=$q.defer();try{fn(defer.resolve,defer.reject)}catch(e){defer.reject(e)}return defer.promise}return Promise.all=Promise.props=$q.all,Promise.resolve=function(val){var defer=$q.defer();return defer.resolve(val),defer.promise},Promise.reject=function(reason){var defer=$q.defer();return defer.reject(reason),defer.promise},Promise.cast=$q.when,Promise.defer=$q.defer,Promise.delay=function(ms){return $timeout(_lodash2.default.noop,ms)},Promise.method=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return Promise.try(fn,args,this)}},Promise.nodeify=function(promise,cb){promise.then(function(val){cb(void 0,val)},cb)},Promise.map=function(arr,fn){return Promise.all(arr.map(function(i,el,list){return Promise.try(fn,[i,el,list])}))},Promise.each=function(arr,fn){var queue=arr.slice(0),i=0;return function next(){return queue.length?Promise.try(fn,[arr.shift(),i++]).then(next):arr}()},Promise.is=function(obj){return obj&&"function"==typeof obj.then},Promise.halt=_lodash2.default.once(function(){var promise=new Promise(function(){});return promise.then=_lodash2.default.constant(promise),promise.catch=_lodash2.default.constant(promise),promise}),Promise.try=function(fn,args,ctx){if("function"!=typeof fn)return Promise.reject(new TypeError("fn must be a function"));var value=void 0;if(Array.isArray(args))try{value=fn.apply(ctx,args)}catch(e){return Promise.reject(e)}else try{value=fn.call(ctx,args)}catch(e){return Promise.reject(e)}return Promise.resolve(value)},Promise.fromNode=function(takesCbFn){return new Promise(function(resolve,reject){takesCbFn(function(err){for(var _len=arguments.length,results=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)results[_key-1]=arguments[_key];err?reject(err):resolve(results.length>1?results:results[0])})})},Promise.race=function(iterable){return new Promise(function(resolve,reject){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=iterable[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;Promise.resolve(i).then(resolve,reject)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}})},Promise}),_module.factory("PromiseEmitter",function(Promise){function PromiseEmitter(fn,handler){var prom=new Promise(fn);return handler?prom.then(handler).then(function(){return new PromiseEmitter(fn,handler)}):prom}return PromiseEmitter})},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_modules=__webpack_require__(2),_function=__webpack_require__(430);_modules.uiModules.get("kibana").config(function($provide){$provide.decorator("$rootScope",function($delegate){function normalizeExpression($scope,expr){if(expr){var norm={fn:$scope.$watch,deep:!1};if(_lodash2.default.isFunction(expr))return _lodash2.default.assign(norm,{get:expr});if(_lodash2.default.isObject(expr))return _lodash2.default.assign(norm,expr);if(_lodash2.default.isString(expr))return"[]"===expr.substr(0,2)?_lodash2.default.assign(norm,{fn:$scope.$watchCollection,get:expr.substr(2)}):"="===expr.charAt(0)?_lodash2.default.assign(norm,{deep:!0,get:expr.substr(1)}):_lodash2.default.assign(norm,{get:expr})}}return $delegate.constructor.prototype.$watchMulti=function(expressions,fn){if(!Array.isArray(expressions))throw new TypeError("expected an array of expressions to watch");if(!_lodash2.default.isFunction(fn))throw new TypeError("expected a function that is triggered on each watch");var $scope=this,vals=new Array(expressions.length),prev=new Array(expressions.length),fire=!1,init=0,neededInits=expressions.length,unwatchers=expressions.map(function(expr,i){if(expr=normalizeExpression($scope,expr))return expr.fn.call($scope,expr.get,function(newVal,oldVal){newVal===oldVal&&(init+=1),vals[i]=newVal,prev[i]=oldVal,fire=!0},expr.deep)}),flip=!1;return unwatchers.push($scope.$watch(function(){return init<neededInits?init:(fire&&(fire=!1,flip=!flip),flip)},function(){if(init<neededInits)return!1;fn(vals.slice(0),prev.slice(0)),vals.forEach(function(v,i){prev[i]=v})})),_lodash2.default.partial(_function.callEach,unwatchers)},$delegate})})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2476)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").service("globalNavState",function(localStorage,$rootScope){return{isOpen:function(){var isOpen=localStorage.get("kibana.isGlobalNavOpen");return null===isOpen||isOpen},setOpen:function(isOpen){return localStorage.set("kibana.isGlobalNavOpen",isOpen),$rootScope.$broadcast("globalNavState:change"),isOpen}}})},function(module,exports,__webpack_require__){"use strict";function initAngularApi(chrome,internals){chrome.getFirstPathSegment=_lodash2.default.noop,chrome.setupAngular=function(){var kibana=_modules.uiModules.get("kibana");_lodash2.default.forOwn(chrome.getInjected(),function(val,name){kibana.value(name,val)}),kibana.value("kbnVersion",internals.version).value("buildNum",internals.buildNum).value("buildSha",internals.buildSha).value("serverName",internals.serverName).value("sessionId",Date.now()).value("chrome",chrome).value("esUrl",function(){var a=document.createElement("a");return a.href=chrome.addBasePath("/elasticsearch"),a.href}()).config(function($locationProvider){$locationProvider.html5Mode({enabled:!1,requireBase:!1,rewriteLinks:!1})}).config(chrome.$setupXsrfRequestInterceptor).config(function($compileProvider,$locationProvider){internals.devMode||$compileProvider.debugInfoEnabled(!1),$locationProvider.hashPrefix("")}).run(internals.capture$httpLoadingCount).run(function($location,$rootScope,Private,config){chrome.getFirstPathSegment=function(){return $location.path().split("/")[1]};var notify=new _notify.Notifier,urlOverflow=Private(_error_url_overflow.UrlOverflowServiceProvider),check=function(){if(!config.get("state:storeInSessionStorage")&&"/error/url-overflow"!==$location.path())try{urlOverflow.check($location.absUrl())<=URL_LIMIT_WARN_WITHIN&&notify.directive({template:'\n                <p>\n                  The URL has gotten big and may cause Kibana\n                  to stop working. Please either enable the\n                  <code>state:storeInSessionStorage</code>\n                  option in the <a href="#/management/kibana/settings">advanced\n                  settings</a> or simplify the onscreen visuals.\n                </p>\n              '},{type:"error",actions:[{text:"close"}]})}catch(e){var _parseUrl=(0,_url.parse)(window.location.href),host=_parseUrl.host,path=_parseUrl.path,search=_parseUrl.search,protocol=_parseUrl.protocol;window.location.href=(0,_url.format)({host:host,path:path,search:search,protocol:protocol,hash:"#/error/url-overflow"})}};$rootScope.$on("$routeUpdate",check),$rootScope.$on("$routeChangeStart",check)}),(0,_directives.directivesProvider)(chrome,internals),_modules.uiModules.link(kibana)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initAngularApi=initAngularApi;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_url=__webpack_require__(59),_modules=__webpack_require__(2),_notify=__webpack_require__(10),_error_url_overflow=__webpack_require__(2478),_directives=__webpack_require__(2485),URL_LIMIT_WARN_WITHIN=1e3},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlOverflowServiceProvider=void 0;var _url_overflow_service=__webpack_require__(1025);Object.defineProperty(exports,"UrlOverflowServiceProvider",{enumerable:!0,get:function(){return _url_overflow_service.UrlOverflowServiceProvider}}),__webpack_require__(2479)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _url_overflow_service=__webpack_require__(1025);Object.keys(_url_overflow_service).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _url_overflow_service[key]}})});var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_url=__webpack_require__(105);__webpack_require__(2483);var _error_url_overflow=__webpack_require__(2484),_error_url_overflow2=_interopRequireDefault(_error_url_overflow);_routes2.default.when("/error/url-overflow",{template:_error_url_overflow2.default,controllerAs:"controller",controller:function OverflowController(Private,config,$scope){_classCallCheck(this,OverflowController);var kbnUrl=Private(_url.KbnUrlProvider),urlOverflow=Private(_url_overflow_service.UrlOverflowServiceProvider);if(!urlOverflow.get())return void kbnUrl.redirectPath("/");this.url=urlOverflow.get(),this.limit=urlOverflow.failLength(),$scope.$on("$destroy",function(){return urlOverflow.clear()})}})},function(module,exports,__webpack_require__){"use strict";function KbnUrlProvider($injector,$location,$rootScope,$parse,Private){var self=this;self.change=function(url,paramObj,appState){self._changeLocation("url",url,paramObj,!1,appState)},self.changePath=function(path,paramObj){self._changeLocation("path",path,paramObj)},self.redirect=function(url,paramObj,appState){self._changeLocation("url",url,paramObj,!0,appState)},self.redirectPath=function(path,paramObj){self._changeLocation("path",path,paramObj,!0)},self.eval=function(template,paramObj){return paramObj=paramObj||{},template.replace(/\{\{([^\}]+)\}\}/g,function(match,expr){var key=expr.split("|")[0].trim(),p=$parse(key)(paramObj);if(_lodash2.default.isUndefined(p))throw new Error("Replacement failed, unresolved expression: "+expr);return-1===expr.indexOf("uriescape")&&(expr+="|uriescape"),$parse(expr)(paramObj)})},self.getRouteHref=function(obj,route){return"#"+self.getRouteUrl(obj,route)},self.getRouteUrl=function(obj,route){var template=obj&&obj.routes&&obj.routes[route];if(template)return self.eval(template,obj)},self.redirectToRoute=function(obj,route){self.redirect(self.getRouteUrl(obj,route))},self.changeToRoute=function(obj,route){self.change(self.getRouteUrl(obj,route))},self.removeParam=function(param){$location.search(param,null).replace()};var reloading=void 0;self._changeLocation=function(type,url,paramObj,replace,appState){var prev={path:$location.path(),search:$location.search()};url=self.eval(url,paramObj),$location[type](url),replace&&$location.replace(),appState&&$location.search(appState.getQueryParamName(),appState.toQueryParam());var next={path:$location.path(),search:$location.search()};if($injector.has("$route")){var $route=$injector.get("$route");if(self._shouldForceReload(next,prev,$route)){var _appState=Private(_app_state.AppStateProvider).getAppState();_appState&&_appState.destroy(),reloading=$rootScope.$on("$locationChangeSuccess",function(){reloading(),reloading=!1,$route.reload()})}}},self._shouldForceReload=function(next,prev,$route){if(reloading)return!1;var route=$route.current&&$route.current.$$route;if(!route)return!1;if((next.path||"/")!==(prev.path||"/"))return!1;var reloadOnSearch=route.reloadOnSearch,searchSame=_lodash2.default.isEqual(next.search,prev.search);return reloadOnSearch&&searchSame||!reloadOnSearch}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.KbnUrlProvider=KbnUrlProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(1026),__webpack_require__(1027);var _modules=__webpack_require__(2),_app_state=__webpack_require__(355);_modules.uiModules.get("kibana/url").service("kbnUrl",function(Private){return Private(KbnUrlProvider)})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _events=__webpack_require__(240),_persisted_state=__webpack_require__(1028);__webpack_require__(2).uiModules.get("kibana").factory("PersistedState",function($injector){var Private=$injector.get("Private"),Events=Private(_events.EventsProvider);return function(_PersistedState){function AngularPersistedState(value,path){return _classCallCheck(this,AngularPersistedState),_possibleConstructorReturn(this,(AngularPersistedState.__proto__||Object.getPrototypeOf(AngularPersistedState)).call(this,value,path,Events))}return _inherits(AngularPersistedState,_PersistedState),AngularPersistedState}(_persisted_state.PersistedState)})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _modify_url=__webpack_require__(871);Object.defineProperty(exports,"modifyUrl",{enumerable:!0,get:function(){return _modify_url.modifyUrl}})},function(module,exports){},function(module,exports){module.exports='<div class="app-container error-url-overflow-app">\n  <h3>\n    <i aria-hidden="true" class="fa fa-warning text-danger"></i> Woah there!\n  </h3>\n  <p>\n    That\'s a big URL you have there. I have some unfortunate news: Your browser doesn\'t play nice with Kibana\'s bacon-double-cheese-burger-with-extra-fries sized URL. To keep you from running into problems Kibana limits URLs in your browser to {{controller.limit}} characters for your safety.\n  </p>\n\n  <h3>Ok, how do I fix this?</h3>\n  <p>This usually only happens with big, complex dashboards, so you have some options:</p>\n  <ol>\n    <li>Enable the <code>state:storeInSessionStorage</code> option in the <a href="#/management/kibana/settings">advanced settings</a>. This will prevent the URLs from getting long, but makes them a bit less portable.</li>\n    <li>Remove some stuff from your dashboard. This will reduce the length of the URL and keep IE in a good place.</li>\n    <li>Don\'t use IE. Every other supported browser we know of doesn\'t have this limit.</li>\n  </ol>\n  <br>\n  <br>\n  <p><small>Foot note: Party size candy bars are tiny. Party size sub sandwiches are massive. Really makes you think.</small></p>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function directivesProvider(chrome,internals){(0,_kbn_chrome.kbnChromeProvider)(chrome,internals),(0,_append_nav_controls.kbnAppendChromeNavControls)(chrome,internals)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.directivesProvider=directivesProvider,__webpack_require__(2486);var _kbn_chrome=__webpack_require__(2498),_append_nav_controls=__webpack_require__(2505);__webpack_require__(2508)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2487)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2488),__webpack_require__(2492);var _global_nav=__webpack_require__(2496),_global_nav2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_global_nav);__webpack_require__(2497),__webpack_require__(2).uiModules.get("kibana").directive("globalNav",function(globalNavState,chrome){return{restrict:"E",replace:!0,scope:{chrome:"=",isVisible:"=",logoBrand:"=",smallLogoBrand:"=",appTitle:"="},template:_global_nav2.default,link:function(scope){function updateGlobalNav(){var isOpen=globalNavState.isOpen();scope.isGlobalNavOpen=isOpen,scope.globalNavToggleButton={classes:isOpen?"global-nav-link--close":void 0,title:isOpen?"Collapse":"Expand",tooltipContent:isOpen?"Collapse side bar":"Expand side bar"},scope.$root.$broadcast("globalNav:update")}updateGlobalNav(),scope.$root.$on("globalNavState:change",function(){updateGlobalNav()}),scope.getHref=function(path){return chrome.addBasePath(path)},scope.toggleGlobalNav=function(event){event.preventDefault(),globalNavState.setOpen(!globalNavState.isOpen())},scope.isHomeActive=function(){return 0===window.location.hash.indexOf("#/home")}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2489)},function(module,exports,__webpack_require__){"use strict";var _dom_location=__webpack_require__(2490),_url=__webpack_require__(59),_modules=__webpack_require__(2),_app_switcher=__webpack_require__(2491),_app_switcher2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_app_switcher);_modules.uiModules.get("kibana").provider("appSwitcherEnsureNavigation",function(){var forceNavigation=!1;this.forceNavigation=function(val){forceNavigation=!!val},this.$get=["Private",function(Private){var domLocation=Private(_dom_location.DomLocationProvider);return function(event,link){if(link.disabled&&event.preventDefault(),!(!forceNavigation||event.isDefaultPrevented()||event.altKey||event.metaKey||event.ctrlKey)){var toParsed=(0,_url.parse)(event.delegateTarget.href),fromParsed=(0,_url.parse)(domLocation.href),sameProto=toParsed.protocol===fromParsed.protocol,sameHost=toParsed.host===fromParsed.host,samePath=toParsed.path===fromParsed.path;sameProto&&sameHost&&samePath&&(toParsed.hash&&domLocation.reload(),event.stopPropagation())}}}]}).directive("appSwitcher",function(){return{restrict:"E",scope:{chrome:"="},template:_app_switcher2.default,controllerAs:"switcher",controller:function($scope,appSwitcherEnsureNavigation,globalNavState){if(!$scope.chrome||!$scope.chrome.getNavLinks)throw new TypeError('appSwitcher directive requires the "chrome" config-object');this.links=$scope.chrome.getNavLinks(),this.ensureNavigation=appSwitcherEnsureNavigation,this.getTooltip=function(link){return globalNavState.isOpen()?link.tooltip:link.tooltip?link.title+" - "+link.tooltip:link.title}}}})},function(module,exports,__webpack_require__){"use strict";function DomLocationProvider($window){return{reload:function(forceFetch){$window.location.reload(forceFetch)},get href(){return $window.location.href},set href(val){return $window.location.href=val}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DomLocationProvider=DomLocationProvider},function(module,exports){module.exports='<global-nav-link\n  ng-repeat="link in switcher.links"\n  ng-if="!link.hidden"\n  is-active="link.active"\n  is-disabled="link.disabled"\n  tooltip-content="switcher.getTooltip(link)"\n  on-click="switcher.ensureNavigation($event, link)"\n  url="link.active ? link.url : (link.lastSubUrl || link.url)"\n  icon="link.icon"\n  label="link.title"\n></global-nav-link>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2493)},function(module,exports,__webpack_require__){"use strict";var _global_nav_link=__webpack_require__(2494),_global_nav_link2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_global_nav_link);__webpack_require__(2495),__webpack_require__(2).uiModules.get("kibana").directive("globalNavLink",function(chrome){return{restrict:"E",replace:!0,scope:{isActive:"=",isDisabled:"=",tooltipContent:"=",onClick:"&",url:"=",kbnRoute:"=",icon:"=",label:"="},template:_global_nav_link2.default,link:function(scope){scope.getHref=function(){return scope.url?scope.url:scope.kbnRoute?chrome.addBasePath(scope.kbnRoute):void 0}}}})},function(module,exports){module.exports='<div\n  class="global-nav-link {{classes}}"\n  ng-class="{ active: isActive, \'is-global-nav-link-disabled\': isDisabled }"\n  tooltip="{{ tooltipContent }}"\n  tooltip-placement="right"\n  tooltip-popup-delay="0"\n  tooltip-append-to-body="1"\n>\n  <a\n    class="global-nav-link__anchor"\n    href="{{ getHref() }}"\n    ng-click="onClick({ $event: $event })"\n    data-test-subj="appLink"\n    aria-label="{{::label}}"\n  >\n    <div class="global-nav-link__icon">\n      <img\n        ng-if="icon"\n        class="global-nav-link__icon-image"\n        kbn-src="{{ \'/\' + icon }}"\n        aria-hidden="true"\n      >\n\n      <span\n        ng-if="!icon"\n        class="global-nav-link__icon-placeholder"\n        data-test-subj="appLinkIconPlaceholder"\n      >\n        {{ label[0] }}\n      </span>\n    </div>\n\n    <div class="global-nav-link__title">\n      {{ label }}\n    </div>\n  </a>\n</div>\n'},function(module,exports){},function(module,exports){module.exports='<nav\n  class="global-nav"\n  ng-class="{\'is-global-nav-open\': isGlobalNavOpen}"\n  ng-show="isVisible"\n  data-test-subj="globalNav"\n>\n\n  \x3c!-- Logo --\x3e\n  <div class="global-nav__logo">\n    <a\n      class="global_nav_logo"\n      ng-class="{ active: isHomeActive() }"\n      href="{{ getHref(\'/app/kibana#/home\') }}"\n      data-test-subj="kibanaLogo"\n    >\n      <ul>\n        <li\n          ng-if="!logoBrand && !smallLogoBrand"\n          aria-label="{{ appTitle }} home"\n          class="logo kibana"\n        ></li>\n\n        <li\n          ng-if="logoBrand"\n          ng-style="{ \'background\': logoBrand }"\n          aria-label="{{ appTitle }} home"\n          class="logo hidden-sm"\n        ></li>\n\n        <li\n          ng-if="smallLogoBrand"\n          ng-style="{ \'background\': smallLogoBrand }"\n          aria-label="{{ appTitle }} home"\n          class="logo-small visible-sm hidden-xs"\n        ></li>\n      </ul>\n    </a>\n  </div>\n\n  \x3c!-- Links --\x3e\n  <div class="global-nav__links">\n    \x3c!-- Main apps --\x3e\n    <div class="global-nav__links-section">\n      <app-switcher\n        chrome="chrome"\n      ></app-switcher>\n    </div>\n\n    \x3c!-- Bottom button --\x3e\n    <div class="global-nav__links-section">\n      <div class="chrome-actions" kbn-chrome-append-nav-controls></div>\n\n      \x3c!-- Open/close sidebar --\x3e\n      <global-nav-link\n        class="{{ globalNavToggleButton.classes }}"\n        tooltip-content="globalNavToggleButton.tooltipContent"\n        on-click="toggleGlobalNav($event)"\n        icon="\'plugins/kibana/assets/play-circle.svg\'"\n        label="globalNavToggleButton.title"\n      ></global-nav-link>\n    </div>\n  </div>\n\n</nav>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function kbnChromeProvider(chrome,internals){_modules.uiModules.get("kibana").directive("kbnChrome",function(){return{template:function(){var $content=(0,_jquery2.default)(__webpack_require__(2504)),$app=$content.find(".application");return internals.rootController&&$app.attr("ng-controller",internals.rootController),internals.rootTemplate&&($app.removeAttr("ng-view"),$app.html(internals.rootTemplate)),$content},controllerAs:"chrome",controller:function($scope,$rootScope,$location,$http,Private){function updateSubUrls(){var urlWithHashes=window.location.href,urlWithStates=(0,_state_hashing.unhashUrl)(urlWithHashes,getUnhashableStates());internals.trackPossibleSubUrl(urlWithStates)}function onRouteChange($event){subUrlRouteFilter($event)&&updateSubUrls()}var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider);Boolean($location.search().embed)&&internals.permanentlyHideChrome();var subUrlRouteFilter=Private(_sub_url_route_filter.SubUrlRouteFilterProvider);return $rootScope.$on("$routeChangeSuccess",onRouteChange),$rootScope.$on("$routeUpdate",onRouteChange),updateSubUrls(),$scope.notifList=_notify.notify._notifs,_reactDom2.default.render(_react2.default.createElement(_notify.GlobalBannerList,{banners:_notify.banners.list,subscribe:_notify.banners.onChange}),document.getElementById("globalBannerList")),_reactDom2.default.render(_react2.default.createElement(_notify.GlobalToastList,{toasts:_notify.toastNotifications.list,dismissToast:_notify.toastNotifications.remove,toastLifeTimeMs:6e3,subscribe:_notify.toastNotifications.onChange}),document.getElementById("globalToastList")),chrome}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.kbnChromeProvider=kbnChromeProvider;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactDom2=_interopRequireDefault(_reactDom),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2499);var _modules=__webpack_require__(2),_state_hashing=__webpack_require__(452),_notify=__webpack_require__(10),_sub_url_route_filter=__webpack_require__(2503)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function getUnhashableStatesProvider(getAppState,globalState){return function(){return[getAppState(),globalState].filter(Boolean)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUnhashableStatesProvider=getUnhashableStatesProvider},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hashUrl=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_encodeUriQuery=__webpack_require__(1029),_encodeUriQuery2=_interopRequireDefault(_encodeUriQuery),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_url=__webpack_require__(59),_querystring=__webpack_require__(342),conservativeStringifyQuerystring=function(query){return(0,_querystring.stringify)(query,null,null,{encodeURIComponent:_encodeUriQuery2.default})},hashStateInQuery=function(state,query){var name=state.getQueryParamName(),value=query[name];if(!value)return{name:name,value:value};var decodedValue=_risonNode2.default.decode(value);return{name:name,value:state.toQueryParam(decodedValue)}},hashStatesInQuery=function(states,query){var hashedQuery=states.reduce(function(result,state){var _hashStateInQuery=hashStateInQuery(state,query),name=_hashStateInQuery.name,value=_hashStateInQuery.value;return value&&(result[name]=value),result},{});return _extends({},query,hashedQuery)};exports.hashUrl=function(states,redirectUrl){if(null===states||!states.length)throw new Error("states parameter must be an Array with length greater than 0");var parsedUrl=(0,_url.parse)(redirectUrl);if(!parsedUrl.hash)return redirectUrl;var parsedAppUrl=(0,_url.parse)(parsedUrl.hash.slice(1),!0),query=parsedAppUrl.query,newQuery=hashStatesInQuery(states,query),newHash=(0,_url.format)({search:conservativeStringifyQuerystring(newQuery),pathname:parsedAppUrl.pathname});return(0,_url.format)({hash:"#"+newHash,host:parsedUrl.host,search:parsedUrl.search,pathname:parsedUrl.pathname,protocol:parsedUrl.protocol})}},function(module,exports,__webpack_require__){"use strict";function unhashUrl(urlWithHashes,states){if(!urlWithHashes)return urlWithHashes;var urlWithHashesParsed=(0,_url.parse)(urlWithHashes,!0);if(!urlWithHashesParsed.hostname)throw new TypeError("Only absolute urls should be passed to `unhashUrl()`. Unable to detect url hostname.");if(!urlWithHashesParsed.hash)return urlWithHashes;if(!urlWithHashesParsed.hash.slice(1))return urlWithHashes;var appUrlParsed=(0,_url.parse)(urlWithHashesParsed.hash.slice(1),!0);if(!appUrlParsed.query)return urlWithHashes;var appQueryWithoutHashes=(0,_unhash_query_string.unhashQueryString)(appUrlParsed.query||{},states),appQueryStringWithoutHashes=(0,_querystring.stringify)(appQueryWithoutHashes,null,null,{encodeURIComponent:_encodeUriQuery2.default});return(0,_url.format)(_extends({},urlWithHashesParsed,{hash:(0,_url.format)({pathname:appUrlParsed.pathname,search:appQueryStringWithoutHashes})}))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.unhashUrl=unhashUrl;var _url=__webpack_require__(59),_encodeUriQuery=__webpack_require__(1029),_encodeUriQuery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_encodeUriQuery),_querystring=__webpack_require__(342),_unhash_query_string=__webpack_require__(1030)},function(module,exports,__webpack_require__){"use strict";function SubUrlRouteFilterProvider($injector){if(!$injector.has("$route"))return function(){return!0};var $route=$injector.get("$route");return function(){return Boolean($route.current&&!$route.current.redirectTo)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubUrlRouteFilterProvider=SubUrlRouteFilterProvider},function(module,exports){module.exports='<div class="content" chrome-context data-test-subj="kibanaChrome">\n  <global-nav\n    chrome="chrome"\n    data-test-subj="globalNav"\n    is-visible="chrome.getVisible()"\n    logo-brand="chrome.getBrand(\'logo\')"\n    small-logo-brand="chrome.getBrand(\'smallLogo\')"\n    app-title="chrome.getAppTitle()"\n  ></global-nav>\n\n  <div class="app-wrapper" ng-class="{ \'hidden-chrome\': !chrome.getVisible() }">\n    <div class="app-wrapper-panel">\n      <kbn-notifications\n        list="notifList"\n      ></kbn-notifications>\n\n      <div id="globalBannerList"></div>\n      <div id="globalToastList"></div>\n\n      <kbn-loading-indicator></kbn-loading-indicator>\n\n      <div\n        class="application"\n        ng-class="\'tab-\' + chrome.getFirstPathSegment() + \' \' + chrome.getApplicationClasses()"\n        ng-view\n      ></div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function kbnAppendChromeNavControls(){_modules.uiModules.get("kibana").directive("kbnChromeAppendNavControls",function(Private){return{template:function($element){var parts=[$element.html()],controls=Private(_chrome_nav_controls.chromeNavControlsRegistry),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=controls.inOrder[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var control=_step.value;parts.unshift("\x3c!-- nav control "+control.name+" --\x3e",control.template)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return parts.join("\n")}}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.kbnAppendChromeNavControls=kbnAppendChromeNavControls;var _chrome_nav_controls=__webpack_require__(1031),_modules=__webpack_require__(2)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedArray=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_inflector=__webpack_require__(2507),_collection=__webpack_require__(295),pathGetter=(0,_lodash2.default)(_lodash2.default.get).rearg(1,0).ary(2),inflectIndex=(0,_inflector.inflector)("by"),inflectOrder=(0,_inflector.inflector)("in","Order"),CLEAR_CACHE={},OPT_NAMES=["index","group","order","initialSet","immutable"],IndexedArray=exports.IndexedArray=function(){function IndexedArray(config){_classCallCheck(this,IndexedArray),config=_lodash2.default.pick(config||{},OPT_NAMES),Object.defineProperty(this,"raw",{value:[]}),this._indexNames=_lodash2.default.union(this._setupIndex(config.group,inflectIndex,_collection.organizeBy),this._setupIndex(config.index,inflectIndex,_lodash2.default.indexBy),this._setupIndex(config.order,inflectOrder,function(raw,pluckValue){return[].concat(_toConsumableArray(raw)).sort(function(itemA,itemB){var a=pluckValue(itemA),b=pluckValue(itemB);return"number"==typeof a&&"number"==typeof b?a-b:String(a).toLowerCase().localeCompare(String(b).toLowerCase())})})),config.initialSet&&this.push.apply(this,config.initialSet),Object.defineProperty(this,"immutable",{value:!!config.immutable})}return _createClass(IndexedArray,[{key:"remove",value:function(predicate){this._assertMutable("remove");var out=_lodash2.default.remove(this,predicate);return _lodash2.default.remove(this.raw,predicate),this._clearIndices(),out}},{key:"toJSON",value:function(){return this.raw}},{key:"copyWithin",value:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return this._mutation("copyWithin",args)}},{key:"fill",value:function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return this._mutation("fill",args)}},{key:"pop",value:function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return this._mutation("pop",args)}},{key:"push",value:function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return this._mutation("push",args)}},{key:"reverse",value:function(){for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return this._mutation("reverse",args)}},{key:"shift",value:function(){for(var _len6=arguments.length,args=Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return this._mutation("shift",args)}},{key:"sort",value:function(){for(var _len7=arguments.length,args=Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return this._mutation("sort",args)}},{key:"splice",value:function(){for(var _len8=arguments.length,args=Array(_len8),_key8=0;_key8<_len8;_key8++)args[_key8]=arguments[_key8];return this._mutation("splice",args)}},{key:"unshift",value:function(){for(var _len9=arguments.length,args=Array(_len9),_key9=0;_key9<_len9;_key9++)args[_key9]=arguments[_key9];return this._mutation("unshift",args)}},{key:"_assertMutable",value:function(methodName){if(this.immutable)throw new Error(methodName+"() is not allowed on immutable IndexedArray instances")}},{key:"_mutation",value:function(methodName,args){return this._assertMutable(methodName),_get(IndexedArray.prototype.__proto__||Object.getPrototypeOf(IndexedArray.prototype),methodName,this).apply(this,args),this._clearIndices(),_get(IndexedArray.prototype.__proto__||Object.getPrototypeOf(IndexedArray.prototype),methodName,this).apply(this.raw,args)}},{key:"_setupIndex",value:function(props,inflect,op){var _this=this;if(props&&0!==props.length)return props.map(function(prop){var indexName=inflect(prop),getIndexValueFromItem=pathGetter.partial(prop).value(),cache=void 0;return Object.defineProperty(_this,indexName,{enumerable:!1,configurable:!1,set:function(val){if(val!==CLEAR_CACHE)throw new TypeError(indexName+" can not be set, it is a computed index of values");cache=!1},get:function(){return cache||(cache=op(_this.raw,getIndexValueFromItem)),cache}}),indexName})}},{key:"_clearIndices",value:function(){var _this2=this;this._indexNames.forEach(function(name){_this2[name]=CLEAR_CACHE})}}]),IndexedArray}();IndexedArray.OPT_NAMES=OPT_NAMES,Object.setPrototypeOf(IndexedArray.prototype,Array.prototype)},function(module,exports,__webpack_require__){"use strict";function upFirst(str,total){return str.charAt(0).toUpperCase()+(total?str.substr(1).toLowerCase():str.substr(1))}function startsWith(str,test){return str.substr(0,test.length).toLowerCase()===test.toLowerCase()}function endsWith(str,test){if(!(str.length<test.length))return str.substr(str.length-test.length).toLowerCase()===test.toLowerCase()}function inflector(prefix,postfix){return function(key){var inflected=void 0;return inflected=-1!==key.indexOf(".")?key.split(".").map(function(step,i){return 0===i?step:upFirst(step,!0)}).join(""):key,prefix&&!startsWith(key,prefix)&&(inflected=prefix+upFirst(inflected)),postfix&&!endsWith(key,postfix)&&(inflected+=postfix),inflected}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflector=inflector},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingIndicator=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(183);var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_modules=__webpack_require__(2),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome);__webpack_require__(2509);var LoadingIndicator=exports.LoadingIndicator=function(_React$Component){function LoadingIndicator(){var _ref,_temp,_this,_ret;_classCallCheck(this,LoadingIndicator);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=LoadingIndicator.__proto__||Object.getPrototypeOf(LoadingIndicator)).call.apply(_ref,[this].concat(args))),_this.state={visible:!1},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(LoadingIndicator,_React$Component),_createClass(LoadingIndicator,[{key:"componentDidMount",value:function(){var _this2=this;this._unsub=_chrome2.default.loadingCount.subscribe(function(count){_this2.setState({visible:count>0})})}},{key:"componentWillUnmount",value:function(){this._unsub(),this._unsub=null}},{key:"render",value:function(){var className=(0,_classnames2.default)("loadingIndicator",this.state.visible?null:"hidden"),testSubj=this.state.visible?"globalLoadingIndicator":"globalLoadingIndicator-hidden";return _react2.default.createElement("div",{className:className,"data-test-subj":testSubj},_react2.default.createElement("div",{className:"loadingIndicator__bar"}))}}]),LoadingIndicator}(_react2.default.Component);_modules.uiModules.get("app/kibana",["react"]).directive("kbnLoadingIndicator",function(reactDirective){return reactDirective(LoadingIndicator)})},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(chrome,internals){(0,_lodash.get)(internals,"app.navLink.url")&&(internals.app.navLink.url=(0,_url.resolve)(window.location.href,internals.app.navLink.url)),internals.appUrlStore=internals.appUrlStore||window.sessionStorage;try{internals.appUrlStore.setItem("verify sessionStorage",1),internals.appUrlStore.removeItem("verify sessionStorage")}catch(error){throw new Error("Kibana requires access to sessionStorage, and it looks like your browser is restricting it. If you're using Safari with private browsing enabled, you can solve this problem by disabling private browsing, or by using another browser.")}chrome.setShowAppsLink=function(val){return internals.showAppsLink=!!val,chrome},chrome.getShowAppsLink=function(){return null==internals.showAppsLink?internals.nav.length>1:internals.showAppsLink},chrome.getKibanaVersion=function(){return internals.version},chrome.getApp=function(){return(0,_lodash.clone)(internals.app)},chrome.getAppTitle=function(){return(0,_lodash.get)(internals,["app","title"])},chrome.getAppUrl=function(){return(0,_lodash.get)(internals,["app","navLink","url"])},chrome.getInjected=function(name,def){return null==name?(0,_lodash.clone)(internals.vars)||{}:(0,_lodash.get)(internals.vars,name,def)},chrome.getLastUrlFor=function(appId){return internals.appUrlStore.getItem("appLastUrl:"+appId)},chrome.setLastUrlFor=function(appId,url){internals.appUrlStore.setItem("appLastUrl:"+appId,url)}};var _lodash=__webpack_require__(1),_url=__webpack_require__(59);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(chrome,internals){var permanentlyHideChrome=!1;internals.permanentlyHideChrome=function(){permanentlyHideChrome=!0,internals.visible=!1},chrome.getIsChromePermanentlyHidden=function(){return permanentlyHideChrome},chrome.setVisible=function(display){return permanentlyHideChrome?chrome:(internals.visible=Boolean(display),chrome)},chrome.getVisible=function(){return _lodash2.default.isUndefined(internals.visible)?!permanentlyHideChrome:internals.visible}};var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function initChromeNavApi(chrome,internals){function lastSubUrlKey(link){return"lastSubUrl:"+link.url}function setLastUrl(link,url){!1!==link.linkToLastSubUrl&&(link.lastSubUrl=url,internals.appUrlStore.setItem(lastSubUrlKey(link),url))}function refreshLastUrl(link){link.lastSubUrl=internals.appUrlStore.getItem(lastSubUrlKey(link))||link.lastSubUrl||link.url}function injectNewGlobalState(link,fromAppId,newGlobalState){var kibanaParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(link.lastSubUrl,chrome.getBasePath());fromAppId===kibanaParsedUrl.appId&&(kibanaParsedUrl.setGlobalState(newGlobalState),link.lastSubUrl=kibanaParsedUrl.getAbsoluteUrl())}chrome.getNavLinks=function(){return internals.nav},chrome.navLinkExists=function(id){return!!internals.nav.find(function(link){return link.id===id})},chrome.getNavLinkById=function(id){var navLink=internals.nav.find(function(link){return link.id===id});if(!navLink)throw new Error("Nav link for id = "+id+" not found");return navLink},chrome.showOnlyById=function(id){(0,_lodash.remove)(internals.nav,function(app){return app.id!==id})},chrome.getBasePath=function(){return internals.basePath||""},chrome.addBasePath=function(url){return(0,_prepend_path.prependPath)(url,chrome.getBasePath())},chrome.removeBasePath=function(url){if(!internals.basePath)return url;var basePathRegExp=new RegExp("^"+internals.basePath);return url.replace(basePathRegExp,"")},chrome.untrackNavLinksForDeletedSavedObjects=function(deletedIds){function urlContainsDeletedId(url){return void 0!==deletedIds.find(function(deletedId){return url.includes(deletedId)})}internals.nav.forEach(function(link){link.linkToLastSubUrl&&urlContainsDeletedId(link.lastSubUrl)&&setLastUrl(link,link.url)})},chrome.trackSubUrlForApp=function(linkId,kibanaParsedUrl){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=internals.nav[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var link=_step.value;if(link.id===linkId){return void setLastUrl(link,kibanaParsedUrl.getAbsoluteUrl())}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},internals.trackPossibleSubUrl=function(url){var kibanaParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(url,chrome.getBasePath()),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=internals.nav[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var link=_step2.value;if(link.active=url.startsWith(link.subUrlBase),link.active)setLastUrl(link,url);else{refreshLastUrl(link);var newGlobalState=kibanaParsedUrl.getGlobalState();newGlobalState&&injectNewGlobalState(link,kibanaParsedUrl.appId,newGlobalState)}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}},internals.nav.forEach(function(link){link.url=(0,_relative_to_absolute.relativeToAbsolute)(link.url),link.subUrlBase=(0,_relative_to_absolute.relativeToAbsolute)(link.subUrlBase)}),internals.trackPossibleSubUrl(document.location.href)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initChromeNavApi=initChromeNavApi;var _lodash=__webpack_require__(1),_prepend_path=__webpack_require__(1032),_relative_to_absolute=__webpack_require__(1033),_absolute_to_parsed_url=__webpack_require__(1034)},function(module,exports,__webpack_require__){"use strict";function extractAppPathAndId(url){var basePath=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",parsedUrl=(0,_url.parse)(url);if(!parsedUrl.path)return{};var pathWithoutBase=parsedUrl.path.slice(basePath.length);if(!pathWithoutBase.startsWith("/app/"))return{};var appPath=parsedUrl.hash&&parsedUrl.hash.length>0?parsedUrl.hash.slice(1):"";return{appId:pathWithoutBase.slice("/app/".length),appPath:appPath}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractAppPathAndId=extractAppPathAndId;var _url=__webpack_require__(59)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(chrome,internals){chrome.setRootTemplate=function(template){return internals.rootTemplate=template,chrome},chrome.setRootController=function(as,controllerName){return void 0===controllerName&&(controllerName=as,as=null),"function"==typeof controllerName&&(chrome.$$rootControllerConstruct=controllerName,controllerName="chrome.$$rootControllerConstruct"),internals.rootController=controllerName+(as?" as "+as:""),chrome}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(chrome,internals){chrome.setBrand=function(item,val){return internals.brand=internals.brand||{},_lodash2.default.isPlainObject(item)?internals.brand=_lodash2.default.clone(item):internals.brand[item]=val,chrome},chrome.getBrand=function(item){if(internals.brand)return internals.brand[item]},chrome.addApplicationClass=function(val){var classes=internals.applicationClasses||[];return classes.push(val),classes=_lodash2.default.uniq(classes),internals.applicationClasses=classes,chrome},chrome.removeApplicationClass=function(val){var classesToRemove=[].concat(val||[]),classes=internals.applicationClasses||[];return _lodash2.default.pull.apply(_lodash2.default,[classes].concat(_toConsumableArray(classesToRemove))),internals.applicationClasses=classes,chrome},chrome.getApplicationClasses=function(){return internals.applicationClasses.join(" ")}};var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(chrome,internals){chrome.getTranslations=function(){return internals.translations||[]}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function initChromeXsrfApi(chrome,internals){chrome.getXsrfToken=function(){return internals.version},_jquery2.default.ajaxPrefilter(function(_ref,originalOptions,jqXHR){var _ref$kbnXsrfToken=_ref.kbnXsrfToken;(void 0===_ref$kbnXsrfToken||_ref$kbnXsrfToken)&&jqXHR.setRequestHeader("kbn-version",internals.version)}),chrome.$setupXsrfRequestInterceptor=function($httpProvider){$httpProvider.interceptors.push(function(){return{request:function(opts){var _opts$kbnXsrfToken=opts.kbnXsrfToken;return(void 0===_opts$kbnXsrfToken||_opts$kbnXsrfToken)&&(0,_lodash.set)(opts,["headers","kbn-version"],internals.version),opts}}})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initChromeXsrfApi=initChromeXsrfApi;var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function initUiSettingsApi(chrome){var uiSettings=new _ui_settings_client.UiSettingsClient({defaults:_metadata.metadata.uiSettings.defaults,initialSettings:_metadata.metadata.uiSettings.user,notify:new _notify.Notifier({location:"Config"})});chrome.getUiSettingsClient=function(){return uiSettings}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initUiSettingsApi=initUiSettingsApi;var _metadata=__webpack_require__(159),_notify=__webpack_require__(10),_ui_settings_client=__webpack_require__(2519)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UiSettingsClient=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_ui_settings_api=__webpack_require__(2520);exports.UiSettingsClient=function(){function UiSettingsClient(options){_classCallCheck(this,UiSettingsClient);var defaults=options.defaults,initialSettings=options.initialSettings,notify=options.notify,_options$api=options.api,api=void 0===_options$api?(0,_ui_settings_api.createUiSettingsApi)():_options$api;this._defaults=(0,_lodash.cloneDeep)(defaults),this._cache=(0,_lodash.defaultsDeep)({},this._defaults,(0,_lodash.cloneDeep)(initialSettings)),this._api=api,this._notify=notify,this._updateObservers=new Set}return _createClass(UiSettingsClient,[{key:"getAll",value:function(){return(0,_lodash.cloneDeep)(this._cache)}},{key:"get",value:function(key,defaultValue){if(!this.isDeclared(key)){if(void 0!==defaultValue)return defaultValue;throw new Error('Unexpected `config.get("'+key+'")` call on unrecognized configuration setting "'+key+'".\nSetting an initial value via `config.set("'+key+'", value)` before attempting to retrieve\nany custom setting value for "'+key+'" may fix this issue.\nYou can use `config.get("'+key+'", defaultValue)`, which will just return\n`defaultValue` when the key is unrecognized.')}var _cache$key=this._cache[key],userValue=_cache$key.userValue,definedDefault=_cache$key.value,type=_cache$key.type,currentValue=void 0;return currentValue=this.isDefault(key)?void 0===defaultValue?definedDefault:defaultValue:userValue,"json"===type?JSON.parse(currentValue):"number"===type?parseFloat(currentValue):currentValue}},{key:"set",value:function(){function set(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(key,val){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._update(key,val);case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}},_callee,this)}));return set}()},{key:"remove",value:function(){function remove(_x3){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(key){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._update(key,null);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}));return remove}()},{key:"isDeclared",value:function(key){return Boolean(key in this._cache)}},{key:"isDefault",value:function(key){return!this.isDeclared(key)||null==this._cache[key].userValue}},{key:"isCustom",value:function(key){return this.isDeclared(key)&&!("value"in this._cache[key])}},{key:"overrideLocalDefault",value:function(key,newDefault){var prevDefault=this._defaults[key]?this._defaults[key].value:void 0;this._defaults[key]=_extends({},this._defaults[key]||{},{value:newDefault}),this._cache[key]=_extends({},this._cache[key]||{},{value:newDefault}),null==this._cache[key].userValue&&this._broadcastUpdate(key,newDefault,prevDefault)}},{key:"subscribe",value:function(observer){var _this=this;return this._updateObservers.add(observer),{unsubscribe:function(){_this._updateObservers.delete(observer)}}}},{key:"_update",value:function(){function _update(_x4,_x5){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(key,value){var declared,defaults,oldVal,newVal,unchanged,initialVal,_ref4,settings;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(declared=this.isDeclared(key),defaults=this._defaults,oldVal=declared?this._cache[key].userValue:void 0,newVal=key in defaults&&defaults[key].defaultValue===value?null:value,!(unchanged=oldVal===newVal)){_context3.next=7;break}return _context3.abrupt("return",!0);case 7:return initialVal=declared?this.get(key):void 0,this._setLocally(key,newVal,initialVal),_context3.prev=9,_context3.next=12,this._api.batchSet(key,newVal);case 12:return _ref4=_context3.sent,settings=_ref4.settings,this._cache=(0,_lodash.defaultsDeep)({},defaults,settings),_context3.abrupt("return",!0);case 18:return _context3.prev=18,_context3.t0=_context3.catch(9),this._setLocally(key,initialVal),this._notify.error(_context3.t0),_context3.abrupt("return",!1);case 23:case"end":return _context3.stop()}},_callee3,this,[[9,18]])}));return _update}()},{key:"_setLocally",value:function(key,newValue){this.isDeclared(key)||(this._cache[key]={});var oldValue=this.get(key);if(null===newValue)delete this._cache[key].userValue;else{var type=this._cache[key].type;this._cache[key].userValue="json"===type&&"string"!=typeof newValue?JSON.stringify(newValue):newValue}this._broadcastUpdate(key,newValue,oldValue)}},{key:"_broadcastUpdate",value:function(key,newValue,oldValue){this._notify.log("config change: "+key+": "+oldValue+" -> "+newValue);var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._updateObservers[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){(0,_step.value)({key:key,newValue:newValue,oldValue:oldValue})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}]),UiSettingsClient}()},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function createUiSettingsApi(){var flushPendingChanges=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var changes;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(pendingChanges){_context.next=2;break}return _context.abrupt("return");case 2:if(!sendInProgress){_context.next=4;break}return _context.abrupt("return");case 4:return changes=pendingChanges,pendingChanges=null,_context.prev=6,sendInProgress=!0,_context.t0=changes,_context.next=11,(0,_send_request.sendRequest)({method:"POST",path:"/api/kibana/settings",body:{changes:changes.values}});case 11:_context.t1=_context.sent,_context.t0.callback.call(_context.t0,null,_context.t1),_context.next=18;break;case 15:_context.prev=15,_context.t2=_context.catch(6),changes.callback(_context.t2);case 18:return _context.prev=18,sendInProgress=!1,flushPendingChanges(),_context.finish(18);case 22:case"end":return _context.stop()}},_callee,this,[[6,15,18,22]])}));return function(){return _ref.apply(this,arguments)}}(),pendingChanges=null,sendInProgress=!1;return new(function(){function Api(){_classCallCheck(this,Api)}return _createClass(Api,[{key:"batchSet",value:function(key,value){return new Promise(function(resolve,reject){var prev=pendingChanges||NOOP_CHANGES;pendingChanges={values:_extends({},prev.values,_defineProperty({},key,value)),callback:function(error,resp){prev.callback(error,resp),error?reject(error):resolve(resp)}},flushPendingChanges()})}}]),Api}())}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.createUiSettingsApi=createUiSettingsApi;var _send_request=__webpack_require__(2521),NOOP_CHANGES={values:{},callback:function(){}}},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendRequest=void 0;var _chrome=(exports.sendRequest=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref){var response,method=_ref.method,path=_ref.path,body=_ref.body;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _chrome2.default.loadingCount.increment(),_context.prev=1,_context.next=4,fetch(_chrome2.default.addBasePath(path),{method:method,body:JSON.stringify(body),headers:{accept:"application/json","content-type":"application/json","kbn-version":_metadata.metadata.version},credentials:"same-origin"});case 4:if(response=_context.sent,!(response.status>=300)){_context.next=7;break}throw new Error("Request failed with status code: "+response.status);case 7:return _context.next=9,response.json();case 9:return _context.abrupt("return",_context.sent);case 10:return _context.prev=10,_chrome2.default.loadingCount.decrement(),_context.finish(10);case 13:case"end":return _context.stop()}},_callee,this,[[1,,10,13]])}));return function(_x){return _ref2.apply(this,arguments)}}(),__webpack_require__(8)),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_metadata=__webpack_require__(159)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function initLoadingCountApi(chrome,internals){function getCount(){return counts.angular+counts.manual}function update(name,count){if(counts[name]!==count){counts[name]=count;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=handlers[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){(0,_step.value)(getCount())}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}var counts={angular:0,manual:0},handlers=new Set;internals.capture$httpLoadingCount=function($rootScope,$http){$rootScope.$watch(function(){update("angular",($http.pendingRequests||[]).filter(function(req){return!(0,_system_api.isSystemApiRequest)(req)}).length)})},chrome.loadingCount=new(function(){function ChromeLoadingCountApi(){_classCallCheck(this,ChromeLoadingCountApi)}return _createClass(ChromeLoadingCountApi,[{key:"subscribe",value:function(handler){return handlers.add(handler),handler(getCount()),function(){handlers.delete(handler)}}},{key:"increment",value:function(){update("manual",counts.manual+1)}},{key:"decrement",value:function(){update("manual",counts.manual-1)}}]),ChromeLoadingCountApi}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.initLoadingCountApi=initLoadingCountApi;var _system_api=__webpack_require__(357)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function addSystemApiHeader(originalHeaders){var systemApiHeaders=_defineProperty({},SYSTEM_API_HEADER_NAME,!0);return _extends({},originalHeaders,systemApiHeaders)}function isSystemApiRequest(request){return!!request.headers[SYSTEM_API_HEADER_NAME]}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.addSystemApiHeader=addSystemApiHeader,exports.isSystemApiRequest=isSystemApiRequest;var SYSTEM_API_HEADER_NAME="kbn-system-api"},,function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(1035),__webpack_require__(354),__webpack_require__(358);var _modules=__webpack_require__(2),_notify=__webpack_require__(10),_search_source=__webpack_require__(252),_request_queue=__webpack_require__(360),_fetch=__webpack_require__(638),_search=__webpack_require__(2593),_root_search_source=__webpack_require__(1046),_saved_object=__webpack_require__(2595),_redirect_when_missing=__webpack_require__(2597);_modules.uiModules.get("kibana/courier").service("courier",function($rootScope,Private,indexPatterns){function Courier(){var self=this,SearchSource=Private(_search_source.SearchSourceProvider),fetchSoon=Private(_fetch.FetchSoonProvider),searchLooper=self.searchLooper=Private(_search.SearchLooperProvider);self.setRootSearchSource=Private(_root_search_source.RootSearchSourceProvider).set,self.SavedObject=Private(_saved_object.SavedObjectProvider),self.indexPatterns=indexPatterns,self.redirectWhenMissing=Private(_redirect_when_missing.RedirectWhenMissingProvider),self.SearchSource=SearchSource,self.fetchInterval=function(ms){return searchLooper.ms(ms),this},self.start=function(){return searchLooper.start(),this},self.fetch=function(){fetchSoon.fetchQueued().then(function(){searchLooper.restart()})},self.started=function(){return searchLooper.started()},self.stop=function(){return searchLooper.stop(),this},self.close=function(){if(searchLooper.stop(),_lodash2.default.invoke(_request_queue.requestQueue,"abort"),_request_queue.requestQueue.length)throw new Error("Aborting all pending requests failed.")},$rootScope.$watchCollection("timefilter.refreshInterval",function(){var refreshValue=_lodash2.default.get($rootScope,"timefilter.refreshInterval.value"),refreshPause=_lodash2.default.get($rootScope,"timefilter.refreshInterval.pause");_lodash2.default.isNumber(refreshValue)&&!refreshPause?self.fetchInterval(refreshValue):self.fetchInterval(0)});var closeOnFatal=_lodash2.default.once(self.close);(0,_notify.addFatalErrorCallback)(closeOnFatal)}return new Courier})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(13),module.exports=__webpack_require__(2527),__webpack_require__(2).get("kibana",["elasticsearch"])},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getRoutes(){return{edit:"/management/kibana/indices/{{id}}",addField:"/management/kibana/indices/{{id}}/create-field",indexedFields:"/management/kibana/indices/{{id}}?_a=(tab:indexedFields)",scriptedFields:"/management/kibana/indices/{{id}}?_a=(tab:scriptedFields)",sourceFilters:"/management/kibana/indices/{{id}}?_a=(tab:sourceFilters)"}}function IndexPatternProvider(Private,config,Promise,confirmModalPromise,kbnUrl){function serializeFieldFormatMap(flat,format,field){format&&(flat[field]=format)}function deserializeFieldFormatMap(mapping){var FieldFormat=fieldformats.byId[mapping.id];return FieldFormat&&new FieldFormat(mapping.params,getConfig)}function updateFromElasticSearch(indexPattern,response){if(!response.found){var markdownSaveId=indexPattern.id.replace("*","%2A");throw new _errors.SavedObjectNotFound(type,indexPattern.id,kbnUrl.eval("#/management/kibana/index?id={{id}}&name=",{id:markdownSaveId}))}if(_lodash2.default.forOwn(mapping,function(fieldMapping,name){fieldMapping._deserialize&&(response._source[name]=fieldMapping._deserialize(response._source[name]))}),_lodash2.default.assign(indexPattern,response._source),indexPattern.title||(indexPattern.title=indexPattern.id),indexPattern.isUnsupportedTimePattern()&&!isUserAwareOfUnsupportedTimePattern(indexPattern)){var warning='Support for time-intervals has been removed. View the ["'+indexPattern.title+'" index pattern in management]('+kbnUrl.getRouteHref(indexPattern,"edit")+") for more information.";notify.warning(warning,{lifetime:1/0})}return indexFields(indexPattern)}function isFieldRefreshRequired(indexPattern){return!indexPattern.fields||indexPattern.fields.every(function(field){var hasFieldCaps="aggregatable"in field&&"searchable"in field,hasDocValuesFlag="readFromDocValues"in field;return!hasFieldCaps||!hasDocValuesFlag})}function indexFields(indexPattern){var promise=Promise.resolve();return indexPattern.id?(isFieldRefreshRequired(indexPattern)&&(promise=indexPattern.refreshFields()),promise.then(function(){initFields(indexPattern)})):promise}function setId(indexPattern,id){return indexPattern.id=id,id}function watch(indexPattern){if(!configWatchers.has(indexPattern)){var unwatch=config.watchAll(function(){indexPattern.fields&&initFields(indexPattern)});configWatchers.set(indexPattern,{unwatch:unwatch})}}function unwatch(indexPattern){configWatchers.has(indexPattern)&&(configWatchers.get(indexPattern).unwatch(),configWatchers.delete(indexPattern))}function initFields(indexPattern,input){var oldValue=indexPattern.fields,newValue=input||oldValue||[];indexPattern.fields=new FieldList(indexPattern,newValue)}function fetchFields(indexPattern){return Promise.resolve().then(function(){return fieldsFetcher.fetch(indexPattern)}).then(function(fields){var scripted=indexPattern.getScriptedFields(),all=fields.concat(scripted);initFields(indexPattern,all)})}var getConfig=function(){return config.get.apply(config,arguments)},getIds=Private(_get.IndexPatternsGetProvider)("id"),fieldsFetcher=Private(_fields_fetcher_provider.FieldsFetcherProvider),intervals=Private(_intervals.IndexPatternsIntervalsProvider),mappingSetup=Private(_mapping_setup2.default),FieldList=Private(_field_list.IndexPatternsFieldListProvider),flattenHit=Private(_flatten_hit.IndexPatternsFlattenHitProvider),patternCache=Private(_pattern_cache.IndexPatternsPatternCacheProvider),isUserAwareOfUnsupportedTimePattern=Private(_unsupported_time_patterns.IsUserAwareOfUnsupportedTimePatternProvider),savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),fieldformats=_field_formats.fieldFormats,type="index-pattern",notify=new _notify.Notifier,configWatchers=new WeakMap,mapping=mappingSetup.expandShorthand({title:"text",timeFieldName:"keyword",intervalName:"keyword",fields:"json",sourceFilters:"json",fieldFormatMap:{type:"text",_serialize:function(){var map=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},serialized=_lodash2.default.transform(map,serializeFieldFormatMap);return _lodash2.default.isEmpty(serialized)?void 0:_angular2.default.toJson(serialized)},_deserialize:function(){var map=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}";return _lodash2.default.mapValues(_angular2.default.fromJson(map),deserializeFieldFormatMap)}}});return function(){function IndexPattern(id){_classCallCheck(this,IndexPattern),setId(this,id),this.metaFields=config.get("metaFields"),this.getComputedFields=_get_computed_fields.getComputedFields.bind(this),this.flattenHit=flattenHit(this),this.formatHit=(0,_format_hit.formatHit)(this,fieldformats.getDefaultInstance("string")),this.formatField=this.formatHit.formatField}return _createClass(IndexPattern,[{key:"init",value:function(){var _this=this;return watch(this),this.id?savedObjectsClient.get(type,this.id).then(function(resp){return{_id:resp.id,_type:resp.type,_source:_lodash2.default.cloneDeep(resp.attributes),found:!!resp._version}}).then(function(response){return updateFromElasticSearch(_this,response)}).then(function(){return _this}):Promise.resolve(this)}},{key:"getSourceFiltering",value:function(){return{excludes:this.sourceFilters&&this.sourceFilters.map(function(filter){return filter.value})||[]}}},{key:"addScriptedField",value:function(name,script){var type=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string",lang=arguments[3],scriptedFields=this.getScriptedFields(),names=_lodash2.default.pluck(scriptedFields,"name");if(_lodash2.default.contains(names,name))throw new _errors.DuplicateField(name);this.fields.push({name:name,script:script,type:type,scripted:!0,lang:lang}),this.save()}},{key:"removeScriptedField",value:function(name){var fieldIndex=_lodash2.default.findIndex(this.fields,{name:name,scripted:!0});this.fields.splice(fieldIndex,1),this.save()}},{key:"popularizeField",value:function(fieldName){var unit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,field=_lodash2.default.get(this,["fields","byName",fieldName]);if(field){var count=Math.max((field.count||0)+unit,0);field.count!==count&&(field.count=count,this.save())}}},{key:"getNonScriptedFields",value:function(){return _lodash2.default.where(this.fields,{scripted:!1})}},{key:"getScriptedFields",value:function(){return _lodash2.default.where(this.fields,{scripted:!0})}},{key:"getInterval",value:function(){return this.intervalName&&_lodash2.default.find(intervals,{name:this.intervalName})}},{key:"toIndexList",value:function(start,stop,sortDirection){return this.toDetailedIndexList(start,stop,sortDirection).then(function(detailedIndices){return Array.isArray(detailedIndices)?detailedIndices.map(function(_ref){return _ref.index}).join(","):detailedIndices.index})}},{key:"toDetailedIndexList",value:function(start,stop,sortDirection){var _this2=this;return Promise.resolve().then(function(){return _this2.isTimeBasedInterval()?intervals.toIndexList(_this2.title,_this2.getInterval(),start,stop,sortDirection):[{index:_this2.title,min:-1/0,max:1/0}]})}},{key:"isTimeBased",value:function(){return!(!this.timeFieldName||this.fields&&!this.getTimeField())}},{key:"isTimeBasedInterval",value:function(){return this.isTimeBased()&&!!this.getInterval()}},{key:"isUnsupportedTimePattern",value:function(){return!!this.intervalName}},{key:"isTimeBasedWildcard",value:function(){return this.isTimeBased()&&this.isWildcard()}},{key:"getTimeField",value:function(){if(this.timeFieldName&&this.fields&&this.fields.byName)return this.fields.byName[this.timeFieldName]}},{key:"isWildcard",value:function(){return _lodash2.default.includes(this.title,"*")}},{key:"prepBody",value:function(){var _this3=this,body={};return _lodash2.default.forOwn(mapping,function(fieldMapping,fieldName){null!=_this3[fieldName]&&(body[fieldName]=fieldMapping._serialize?fieldMapping._serialize(_this3[fieldName]):_this3[fieldName])}),getIds.clearCache(),body}},{key:"warnIfDuplicateTitle",value:function(){var _this4=this;return(0,_saved_objects.findObjectByTitle)(savedObjectsClient,type,this.title).then(function(duplicate){if(!duplicate)return!1;if(duplicate.id===_this4.id)return!1;var confirmMessage="An index pattern with the title '"+_this4.title+"' already exists.";return confirmModalPromise(confirmMessage,{confirmButtonText:"Go to existing pattern"}).then(function(){return kbnUrl.redirect("/management/kibana/indices/{{id}}",{id:duplicate.id}),!0}).catch(function(){return!0})})}},{key:"create",value:function(){var _this5=this;return this.warnIfDuplicateTitle().then(function(isDuplicate){if(!isDuplicate){var body=_this5.prepBody();return savedObjectsClient.create(type,body,{id:_this5.id}).then(function(response){return setId(_this5,response.id)}).catch(function(err){if(409!==err.statusCode)return Promise.resolve(!1);return confirmModalPromise("Are you sure you want to overwrite this?",{confirmButtonText:"Overwrite"}).then(function(){return Promise.try(function(){var cached=patternCache.get(_this5.id);if(cached)return cached.then(function(pattern){return pattern.destroy()})}).then(function(){return savedObjectsClient.create(type,body,{id:_this5.id,overwrite:!0})}).then(function(response){return setId(_this5,response.id)})},_lodash2.default.constant(!1))})}})}},{key:"save",value:function(){var _this6=this;return savedObjectsClient.update(type,this.id,this.prepBody()).then(function(_ref2){var id=_ref2.id;return setId(_this6,id)})}},{key:"refreshFields",value:function(){var _this7=this;return fetchFields(this).then(function(){return _this7.save()}).catch(function(err){if(notify.error(err),err instanceof _errors.IndexPatternMissingIndices)return[];throw err})}},{key:"toJSON",value:function(){return this.id}},{key:"toString",value:function(){return""+this.toJSON()}},{key:"destroy",value:function(){return unwatch(this),patternCache.clear(this.id),savedObjectsClient.delete(type,this.id)}},{key:"routes",get:function(){return getRoutes()}}]),IndexPattern}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getRoutes=getRoutes,exports.IndexPatternProvider=IndexPatternProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_errors=__webpack_require__(56),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_field_formats=__webpack_require__(99),_mapping_setup=__webpack_require__(1037),_mapping_setup2=_interopRequireDefault(_mapping_setup),_notify=__webpack_require__(10),_get_computed_fields=__webpack_require__(2531),_format_hit=__webpack_require__(2532),_get=__webpack_require__(635),_intervals=__webpack_require__(1040),_field_list=__webpack_require__(1041),_flatten_hit=__webpack_require__(2541),_pattern_cache=__webpack_require__(1042),_fields_fetcher_provider=__webpack_require__(1043),_unsupported_time_patterns=__webpack_require__(2544),_saved_objects=__webpack_require__(67)},function(module,exports,__webpack_require__){"use strict";function fallbackText(value){return(0,_as_pretty_string.asPrettyString)(value)}function fallbackHtml(value,field,hit){var formatted=_lodash2.default.escape(this.convert(value,"text"));return hit&&hit.highlight&&hit.highlight[field.name]?(0,_highlight_html.getHighlightHtml)(formatted,hit.highlight[field.name]):formatted}function contentTypesSetup(format){var src=format._convert||{},converters=format._convert={};return converters.text=types.text(format,src.text||fallbackText),converters.html=types.html(format,src.html||fallbackHtml),format._convert}Object.defineProperty(exports,"__esModule",{value:!0}),exports.contentTypesSetup=contentTypesSetup;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_as_pretty_string=__webpack_require__(454),_highlight_html=__webpack_require__(634),types={html:function(format,convert){function recurse(value,field,hit,meta){if(null==value)return(0,_as_pretty_string.asPrettyString)(value);if(!value||"function"!=typeof value.map)return convert.call(format,value,field,hit,meta);var subVals=value.map(function(v){return recurse(v,field,hit,meta)}),useMultiLine=subVals.some(function(sub){return sub.indexOf("\n")>-1});return subVals.join(","+(useMultiLine?"\n":" "))}return function(){return"<span ng-non-bindable>"+recurse.apply(void 0,arguments)+"</span>"}},text:function(format,convert){return function recurse(value){return value&&"function"==typeof value.map?JSON.stringify(value.map(recurse)):convert.call(format,value)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.htmlTags={pre:"<mark>",post:"</mark>"}},function(module,exports,__webpack_require__){"use strict";function getComputedFields(){var self=this,scriptFields={},docvalueFields=[];return docvalueFields=_lodash2.default.map(_lodash2.default.reject(self.fields.byType.date,"scripted"),"name"),_lodash2.default.each(self.getScriptedFields(),function(field){scriptFields[field.name]={script:{inline:field.script,lang:field.lang}}}),{storedFields:["*"],scriptFields:scriptFields,docvalueFields:docvalueFields}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getComputedFields=getComputedFields;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatHit(indexPattern,defaultFormat){function convert(hit,val,fieldName){var field=indexPattern.fields.byName[fieldName];if(!field)return defaultFormat.convert(val,"html");var parsedUrl={origin:window.location.origin,pathname:window.location.pathname,basePath:_chrome2.default.getBasePath()};return field.format.getConverterFor("html")(val,field,hit,parsedUrl)}function formatHit(hit){if(hit.$$_formatted)return hit.$$_formatted;var partials=hit.$$_partialFormatted||(hit.$$_partialFormatted={}),cache=hit.$$_formatted={};return _lodash2.default.forOwn(indexPattern.flattenHit(hit),function(val,fieldName){var formatted=null==partials[fieldName]?convert(hit,val,fieldName):partials[fieldName];cache[fieldName]=partials[fieldName]=formatted}),cache}return formatHit.formatField=function(hit,fieldName){var partials=hit.$$_partialFormatted;if(partials&&null!=partials[fieldName])return partials[fieldName];partials||(partials=hit.$$_partialFormatted={});var val="_source"===fieldName?hit._source:indexPattern.flattenHit(hit)[fieldName];return partials[fieldName]=convert(hit,val,fieldName)},formatHit}Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatHit=formatHit;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome)},function(module,exports,__webpack_require__){"use strict";function keysToSnakeCaseShallow(object){return _lodash2.default.mapKeys(object,function(value,key){return _lodash2.default.snakeCase(key)})}function keysToCamelCaseShallow(object){return _lodash2.default.mapKeys(object,function(value,key){return _lodash2.default.camelCase(key)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.keysToSnakeCaseShallow=keysToSnakeCaseShallow,exports.keysToCamelCaseShallow=keysToCamelCaseShallow;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function SavedObjectsClientProvider($http,$q,Private){var errorAutoCreateIndex=Private(_error_auto_create_index.ErrorAutoCreateIndexProvider);return new _saved_objects_client.SavedObjectsClient({$http:$http,PromiseConstructor:$q,onCreateFailure:function(error){if(errorAutoCreateIndex.test(error))return errorAutoCreateIndex.takeover();throw error}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectsClientProvider=SavedObjectsClientProvider;var _error_auto_create_index=__webpack_require__(2535),_saved_objects_client=__webpack_require__(1038)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _error_auto_create_index=__webpack_require__(2536);Object.defineProperty(exports,"ErrorAutoCreateIndexProvider",{enumerable:!0,get:function(){return _error_auto_create_index.ErrorAutoCreateIndexProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ErrorAutoCreateIndexProvider(Private,Promise){var kbnUrl=Private(_url.KbnUrlProvider);return new(function(){function ErrorAutoCreateIndex(){_classCallCheck(this,ErrorAutoCreateIndex)}return _createClass(ErrorAutoCreateIndex,[{key:"test",value:function(error){return 503===error.statusCode&&"ES_AUTO_CREATE_INDEX_ERROR"===(0,_lodash.get)(error,"body.code")}},{key:"takeover",value:function(){return kbnUrl.change("/error/action.auto_create_index"),Promise.halt()}}]),ErrorAutoCreateIndex}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ErrorAutoCreateIndexProvider=ErrorAutoCreateIndexProvider;var _lodash=__webpack_require__(1),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_url=__webpack_require__(105);__webpack_require__(2537);var _error_auto_create_index=__webpack_require__(2538),_error_auto_create_index2=_interopRequireDefault(_error_auto_create_index);_routes2.default.when("/error/action.auto_create_index",{template:_error_auto_create_index2.default})},function(module,exports){},function(module,exports){module.exports='<div class="app-container error-auto-create-index">\n  <h3 class="kuiVerticalRhythm">\n    <i aria-hidden="true" class="fa fa-warning text-danger"></i> Oh no!\n  </h3>\n\n  <p class="kuiVerticalRhythm">\n    It looks like your Elasticsearch cluster\'s <code>action.auto_create_index</code> setting is preventing Kibana from automatically creating an index to store saved objects. Kibana uses this Elasticsearch feature because it is the best way to make sure that the saved object index uses the correct mappings/schema, and it allows Kibana to poll Elasticsearch less often.\n  </p>\n\n  <p class="kuiVerticalRhythm">\n    Unfortunately, until this issue is fixed you won\'t be able to save anything in Kibana.\n  </p>\n\n  <h3 class="kuiVerticalRhythm">\n    Ok, how do I fix this?\n  </h3>\n\n  <ol class="kuiVerticalRhythm">\n    <li>Remove <code>action.auto_create_index: false</code> from your Elasticsearch configuration file</li>\n    <li>Restart elasticsearch.</li>\n    <li>Use the browser\'s back button to return to what you were doing.</li>\n  </ol>\n\n  <div class="kuiInfoPanel kuiInfoPanel--info kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span\n        class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"\n        aria-label="Info"\n        role="img"\n      ></span>\n      <span class="kuiInfoPanelHeader__title">\n        Note:\n      </span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div class="kuiInfoPanelBody__message">\n        The <code>action.auto_create_index</code> can also define a whitelist of patterns where this feature should be enabled. We don\'t discuss how to use the setting that way here because it requires knowing all of the other plugins/interations that rely on the feature for the same reasons that Kibana does.\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function findObjectByTitle(savedObjectsClient,type,title){return title?savedObjectsClient.find({type:type,perPage:10,search:'"'+title+'"',searchFields:["title"],fields:["title"]}).then(function(response){return(0,_lodash.find)(response.savedObjects,function(obj){return obj.get("title").toLowerCase()===title.toLowerCase()})}):Promise.resolve()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findObjectByTitle=findObjectByTitle;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function ObjDefine(defaults,prototype){this.obj,this.descs={},this.defaults=defaults||{},this.prototype=prototype||Object.prototype}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjDefine=ObjDefine;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);ObjDefine.REDEFINE_SUPPORTED=function(){var a=Object.create(Object.prototype,{prop:{configurable:!0,value:1}});return Object.defineProperty(a,"prop",{configurable:!0,value:2}),2===a.prop}(),ObjDefine.prototype.writ=function(name,val){this._define(name,val,!0,!0)},ObjDefine.prototype.fact=function(name,val){this._define(name,val,!0)},ObjDefine.prototype.comp=function(name,val){this._define(name,val)},ObjDefine.prototype.create=function(){var self=this;return self.obj=Object.create(this.prototype,self.descs),ObjDefine.REDEFINE_SUPPORTED||self.prototype.toJSON||(self.obj.toJSON=function(){return _lodash2.default.transform(self.obj,function(json,val,key){var desc=self.descs[key];desc&&desc.enumerable&&null==val||(json[key]=val)},{})}),self.obj},ObjDefine.prototype._define=function(name,val,exported,changeable){val=null!=val?val:this.defaults[name],this.descs[name]=this._describe(name,val,!!exported,!!changeable)},ObjDefine.prototype._describe=function(name,val,exported,changeable){var self=this,exists=null!=val;return exported&&ObjDefine.REDEFINE_SUPPORTED?{enumerable:exists,configurable:!0,get:_lodash2.default.constant(val),set:function(update){if(!changeable)return!1;self.descs[name]=self._describe(name,update,exported,changeable),Object.defineProperty(self.obj,name,self.descs[name])}}:exported&&!ObjDefine.REDEFINE_SUPPORTED?{enumerable:!0,configurable:!0,writable:changeable,value:val}:{enumerable:!1,writable:changeable,configurable:!0,value:val}}},function(module,exports,__webpack_require__){"use strict";function IndexPatternsFlattenHitProvider(config){function flattenHit(indexPattern,hit,deep){var flat={},fields=indexPattern.fields.byName;return function flatten(obj,keyPrefix){keyPrefix=keyPrefix?keyPrefix+".":"",_lodash2.default.forOwn(obj,function(val,key){if(key=keyPrefix+key,deep){var isNestedField=fields[key]&&"nested"===fields[key].type;if(Array.isArray(val)&&_lodash2.default.isPlainObject(_lodash2.default.first(val))&&!isNestedField)return void _lodash2.default.each(val,function(v){return flatten(v,key)})}else if(void 0!==flat[key])return;var hasValidMapping=fields[key]&&"conflict"!==fields[key].type,isValue=!_lodash2.default.isPlainObject(val);if(hasValidMapping||isValue)return void(flat[key]?Array.isArray(flat[key])?flat[key].push(val):flat[key]=[flat[key],val]:flat[key]=val);flatten(val,key)})}(hit._source),_lodash2.default.each(metaFields,function(meta){"_source"!==meta&&(flat[meta]=hit[meta])}),_lodash2.default.forOwn(hit.fields,function(val,key){("_"!==key[0]||_lodash2.default.contains(metaFields,key))&&(flat[key]=Array.isArray(val)&&1===val.length?val[0]:val)}),flat}var metaFields=config.get("metaFields");return config.watch("metaFields",function(value){metaFields=value}),function(indexPattern){return function(hit){var deep=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hit.$$_flattened||(hit.$$_flattened=flattenHit(indexPattern,hit,deep))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexPatternsFlattenHitProvider=IndexPatternsFlattenHitProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function createFieldsFetcher(apiClient,config){return new(function(){function FieldsFetcher(){_classCallCheck(this,FieldsFetcher)}return _createClass(FieldsFetcher,[{key:"fetch",value:function(indexPattern){if(indexPattern.isTimeBasedInterval()){var interval=indexPattern.getInterval().name;return this.fetchForTimePattern(indexPattern.title,interval)}return this.fetchForWildcard(indexPattern.title)}},{key:"fetchForTimePattern",value:function(indexPatternId){return apiClient.getFieldsForTimePattern({pattern:indexPatternId,lookBack:config.get("indexPattern:fieldMapping:lookBack"),metaFields:config.get("metaFields")})}},{key:"fetchForWildcard",value:function(indexPatternId){return apiClient.getFieldsForWildcard({pattern:indexPatternId,metaFields:config.get("metaFields")})}}]),FieldsFetcher}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.createFieldsFetcher=createFieldsFetcher},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function createIndexPatternsApiClient($http,basePath){function join(){for(var _len=arguments.length,uriComponents=Array(_len),_key=0;_key<_len;_key++)uriComponents[_key]=arguments[_key];return uriComponents.filter(Boolean).map(encodeURIComponent).join("/")}function getUrl(path,query){var noNullsQuery=(0,_lodash.pick)(query,function(value){return null!=value}),noArraysQuery=(0,_lodash.mapValues)(noNullsQuery,function(value){return Array.isArray(value)?JSON.stringify(value):value});return(0,_url.resolve)(apiBaseUrl,(0,_url.format)({pathname:join.apply(void 0,_toConsumableArray(path)),query:noArraysQuery}))}function request(method,url,body){return $http({method:method,url:url,data:body}).then(function(resp){return resp.data}).catch(function(resp){var respBody=resp.data;if(404===resp.status&&"no_matching_indices"===respBody.code)throw new _errors.IndexPatternMissingIndices(respBody.message);var err=new Error(respBody.message||respBody.error||resp.status+" Response");throw err.status=resp.status,err.body=respBody,err})}var apiBaseUrl=basePath+"/api/index_patterns/",notify=new _notify.Notifier({location:"Index Patterns API"});return new(function(){function IndexPatternsApiClient(){_classCallCheck(this,IndexPatternsApiClient)}return _createClass(IndexPatternsApiClient,[{key:"getFieldsForTimePattern",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pattern=options.pattern,lookBack=options.lookBack,metaFields=options.metaFields,url=getUrl(["_fields_for_time_pattern"],{pattern:pattern,look_back:lookBack,meta_fields:metaFields});return notify.event("getFieldsForTimePattern("+pattern+")",function(){return request("GET",url).then(function(resp){return resp.fields})})}},{key:"getFieldsForWildcard",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pattern=options.pattern,metaFields=options.metaFields,url=getUrl(["_fields_for_wildcard"],{pattern:pattern,meta_fields:metaFields});return notify.event("getFieldsForWildcard("+pattern+")",function(){return request("GET",url).then(function(resp){return resp.fields})})}}]),IndexPatternsApiClient}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.createIndexPatternsApiClient=createIndexPatternsApiClient;var _url=__webpack_require__(59),_lodash=__webpack_require__(1),_errors=__webpack_require__(56),_notify=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function IsUserAwareOfUnsupportedTimePatternProvider(Private,$injector){var BoundToConfigObj=Private(_bound_to_config_obj.BoundToConfigObjProvider),sessionStorage=$injector.get("sessionStorage"),FLAGS=new BoundToConfigObj({enabled:"=indexPatterns:warnAboutUnsupportedTimePatterns"});return function(indexPattern){if(!FLAGS.enabled)return!0;var previousIds=sessionStorage.get("indexPatterns:warnAboutUnsupportedTimePatterns:history")||[];return!!previousIds.includes(indexPattern.id)||(sessionStorage.set("indexPatterns:warnAboutUnsupportedTimePatterns:history",[].concat(_toConsumableArray(previousIds),[indexPattern.id])),!1)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IsUserAwareOfUnsupportedTimePatternProvider=IsUserAwareOfUnsupportedTimePatternProvider;var _bound_to_config_obj=__webpack_require__(1045)},function(module,exports,__webpack_require__){"use strict";function NormalizeSortRequestProvider(config){function normalize(sortable,indexPattern){var normalized={},sortField=_lodash2.default.keys(sortable)[0],sortValue=sortable[sortField],indexField=indexPattern.fields.byName[sortField];if(indexField&&indexField.scripted&&indexField.sortable){var direction=void 0;_lodash2.default.isString(sortValue)&&(direction=sortValue),_lodash2.default.isObject(sortValue)&&sortValue.order&&(direction=sortValue.order),sortField="_script",sortValue={script:{inline:indexField.script,lang:indexField.lang},type:castSortType(indexField.type),order:direction}}else _lodash2.default.isString(sortValue)&&(sortValue={order:sortValue}),sortValue=_lodash2.default.defaults({},sortValue,defaultSortOptions),"_score"===sortField&&delete sortValue.unmapped_type;return normalized[sortField]=sortValue,normalized}var defaultSortOptions=config.get("sort:options");return function(sortObject,indexPattern){return[].concat(sortObject).map(function(sortable){return normalize(sortable,indexPattern)})}}function castSortType(type){var typeCastings={number:"number",string:"string",date:"number",boolean:"string"},castedType=typeCastings[type];if(!castedType)throw new Error("Unsupported script sort type: "+type);return castedType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NormalizeSortRequestProvider=NormalizeSortRequestProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function SegmentedRequestProvider(Private,timefilter,config){var SearchRequest=Private(_search_request.SearchRequestProvider),SegmentedHandle=Private(_segmented_handle.SegmentedHandleProvider),notify=new _notify.Notifier({location:"Segmented Fetch"}),SegmentedReq=function(_SearchRequest){function SegmentedReq(source,defer,initFn){_classCallCheck(this,SegmentedReq);var _this=_possibleConstructorReturn(this,(SegmentedReq.__proto__||Object.getPrototypeOf(SegmentedReq)).call(this,source,defer));return _this.type="segmented",_this._initFn=initFn,_this._desiredSize=null,_this._maxSegments=config.get("courier:maxSegmentCount"),_this._direction="desc",_this._sortFn=null,_this._queueCreated=!1,_this._handle=new SegmentedHandle(_this),_this._hitWindow=null,_this._getFlattenedSource=_lodash2.default.once(_this._getFlattenedSource),_this}return _inherits(SegmentedReq,_SearchRequest),_createClass(SegmentedReq,[{key:"start",value:function(){var _this2=this;return _get(SegmentedReq.prototype.__proto__||Object.getPrototypeOf(SegmentedReq.prototype),"start",this).call(this).then(function(){return _this2._complete=[],_this2._active=null,_this2._segments=[],_this2._all=[],_this2._queue=[],_this2._mergedResp={took:0,hits:{hits:[],total:0,max_score:0}},_lodash2.default.isFunction(_this2._initFn)&&_this2._initFn(_this2._handle),_this2._createQueue()}).then(function(queue){if(!_this2.stopped)return _this2._all=queue.slice(0),_this2._reportStatus()})}},{key:"continue",value:function(){return this._reportStatus()}},{key:"getFetchParams",value:function(){var _this3=this;return this._getFlattenedSource().then(function(flatSource){var params=_lodash2.default.cloneDeep(flatSource),remainingSegments=_this3._maxSegments-_this3._segments.length,indexCount=Math.max(1,Math.floor(_this3._queue.length/remainingSegments)),indices=_this3._active=_this3._queue.splice(0,indexCount);return params.index=indices.map(function(_ref){return _ref.index}).join(","),_lodash2.default.isNumber(_this3._desiredSize)&&(params.body.size=_this3._pickSizeForIndices(indices)),params})}},{key:"handleResponse",value:function(resp){return this._consumeSegment(resp)}},{key:"filterError",value:function(resp){if(/ClusterBlockException.*index\sclosed/.test(resp.error))return this._consumeSegment(!1),!0}},{key:"isIncomplete",value:function(){var queueNotCreated=!this._queueCreated,queueNotEmpty=this._queue.length>0;return queueNotCreated||queueNotEmpty}},{key:"clone",value:function(){return new SegmentedReq(this.source,this.defer,this._initFn)}},{key:"complete",value:function(){return this._reportStatus(),this._handle.emit("complete"),_get(SegmentedReq.prototype.__proto__||Object.getPrototypeOf(SegmentedReq.prototype),"complete",this).call(this)}},{key:"setMaxSegments",value:function(maxSegments){this._maxSegments=Math.max(_lodash2.default.parseInt(maxSegments),1)}},{key:"setDirection",value:function(dir){switch(dir){case"asc":case"desc":return this._direction=dir;default:throw new TypeError('unknown sort direction "'+dir+'"')}}},{key:"setSortFn",value:function(sortFn){this._sortFn=sortFn}},{key:"setSize",value:function(totalSize){this._desiredSize=_lodash2.default.parseInt(totalSize),isNaN(this._desiredSize)&&(this._desiredSize=null)}},{key:"_createQueue",value:function(){var _this4=this,timeBounds=timefilter.getBounds(),indexPattern=this.source.get("index");return this._queueCreated=!1,indexPattern.toDetailedIndexList(timeBounds.min,timeBounds.max,this._direction).then(function(queue){return _this4._queue=queue,_this4._queueCreated=!0,queue})}},{key:"_reportStatus",value:function(){return this._handle.emit("status",{total:this._queueCreated?this._all.length:NaN,complete:this._queueCreated?this._complete.length:NaN,remaining:this._queueCreated?this._queue.length:NaN,hitCount:this._queueCreated?this._mergedResp.hits.hits.length:NaN})}},{key:"_getFlattenedSource",value:function(){return this.source._flatten()}},{key:"_consumeSegment",value:function(seg){var index=this._active;if(this._complete.push(index),seg){var hadHits=_lodash2.default.get(this._mergedResp,"hits.hits.length")>0,gotHits=_lodash2.default.get(seg,"hits.hits.length")>0,firstHits=!hadHits&&gotHits,haveHits=hadHits||gotHits;this._mergeSegment(seg),this.resp=_lodash2.default.omit(this._mergedResp,"_bucketIndex"),firstHits&&this._handle.emit("first",seg),gotHits&&this._handle.emit("segment",seg),haveHits&&this._handle.emit("mergedSegment",this.resp)}}},{key:"_mergeHits",value:function(hits){var mergedHits=this._mergedResp.hits.hits,desiredSize=this._desiredSize,sortFn=this._sortFn;(0,_collection.pushAll)(hits,mergedHits),sortFn&&notify.event("resort rows",function(){mergedHits.sort(sortFn)}),_lodash2.default.isNumber(desiredSize)&&(this._mergedResp.hits.hits=mergedHits.slice(0,desiredSize))}},{key:"_mergeSegment",value:function(seg){var merged=this._mergedResp;this._segments.push(seg),merged.took+=seg.took,merged.hits.total+=seg.hits.total,merged.hits.max_score=Math.max(merged.hits.max_score,seg.hits.max_score),_lodash2.default.size(seg.hits.hits)&&(this._mergeHits(seg.hits.hits),this._detectHitsWindow(merged.hits.hits)),seg.aggregations&&Object.keys(seg.aggregations).forEach(function(aggKey){merged.aggregations||(merged.aggregations={},merged._bucketIndex={}),merged.aggregations[aggKey]||(merged.aggregations[aggKey]={buckets:[]}),seg.aggregations[aggKey].buckets.forEach(function(bucket){var mbucket=merged._bucketIndex[bucket.key];if(mbucket)return void(mbucket.doc_count+=bucket.doc_count);mbucket=merged._bucketIndex[bucket.key]=bucket,merged.aggregations[aggKey].buckets.push(mbucket)})})}},{key:"_detectHitsWindow",value:function(hits){hits=hits||[];var indexPattern=this.source.get("index"),desiredSize=this._desiredSize,size=_lodash2.default.size(hits);if(!_lodash2.default.isNumber(desiredSize)||size<desiredSize)return void(this._hitWindow={size:size,min:-1/0,max:1/0});var min=void 0,max=void 0;hits.forEach(function(deepHit){var hit=indexPattern.flattenHit(deepHit),time=hit[indexPattern.timeFieldName];(null==min||time<min)&&(min=time),(null==max||time>max)&&(max=time)}),this._hitWindow={size:size,min:min,max:max}}},{key:"_pickSizeForIndices",value:function(indices){var hitWindow=this._hitWindow,desiredSize=this._desiredSize;return _lodash2.default.isNumber(desiredSize)?hitWindow?this._sortFn?indices.some(function(index){return index.min<=hitWindow.max&&hitWindow.min<=index.max})?desiredSize:0:Math.max(desiredSize-hitWindow.size,0):desiredSize:null}}]),SegmentedReq}(SearchRequest);return SegmentedReq.prototype.mergedSegment=notify.timed("merge response segment",SegmentedReq.prototype.mergedSegment),SegmentedReq}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};exports.SegmentedRequestProvider=SegmentedRequestProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_notify=__webpack_require__(10),_search_request=__webpack_require__(1048),_segmented_handle=__webpack_require__(2547),_collection=__webpack_require__(295)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function SegmentedHandleProvider(Private){var Events=Private(_events.EventsProvider),segmentedRequest=Symbol("Actual Segmented Request");return function(_Events){function SegmentedHandle(req){_classCallCheck(this,SegmentedHandle);var _this=_possibleConstructorReturn(this,(SegmentedHandle.__proto__||Object.getPrototypeOf(SegmentedHandle)).call(this));return _this[segmentedRequest]=req,_this}return _inherits(SegmentedHandle,_Events),_createClass(SegmentedHandle,[{key:"setDirection",value:function(){var _segmentedRequest;(_segmentedRequest=this[segmentedRequest]).setDirection.apply(_segmentedRequest,arguments)}},{key:"setSize",value:function(){var _segmentedRequest2;(_segmentedRequest2=this[segmentedRequest]).setSize.apply(_segmentedRequest2,arguments)}},{key:"setMaxSegments",value:function(){var _segmentedRequest3;(_segmentedRequest3=this[segmentedRequest]).setMaxSegments.apply(_segmentedRequest3,arguments)}},{key:"setSortFn",value:function(){var _segmentedRequest4;(_segmentedRequest4=this[segmentedRequest]).setSortFn.apply(_segmentedRequest4,arguments)}}]),SegmentedHandle}(Events)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.SegmentedHandleProvider=SegmentedHandleProvider;var _events=__webpack_require__(240)},function(module,exports,__webpack_require__){"use strict";function FetchSoonProvider(Private,Promise){var _this=this,fetchNow=Private(_fetch_now.FetchNowProvider),debouncedFetchNow=_lodash2.default.debounce(function(){var requests=_request_queue.requestQueue.filter(function(req){return req.isFetchRequestedAndPending()});fetchNow(requests)},{wait:10,maxWait:50});this.these=function(requests){return requests.forEach(function(req){return req._setFetchRequested()}),debouncedFetchNow(),Promise.all(requests.map(function(req){return req.getCompletePromise()}))},this.fetchQueued=function(){return _this.these(_request_queue.requestQueue.getStartable())}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchSoonProvider=FetchSoonProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_request_queue=__webpack_require__(360),_fetch_now=__webpack_require__(2549)},function(module,exports,__webpack_require__){"use strict";function FetchNowProvider(Private,Promise){function fetchNow(requests){return fetchSearchResults(requests.map(function(req){return req.started?req.retry():req})).catch(function(error){return(0,_notify.fatalError)(error,_notifier.location)})}function fetchSearchResults(requests){function replaceAbortedRequests(){requests=requests.map(function(r){return r.aborted?ABORTED:r})}return replaceAbortedRequests(),startRequests(requests).then(function(){return replaceAbortedRequests(),callClient(requests)}).then(function(responses){return replaceAbortedRequests(),callResponseHandlers(requests,responses)}).then(function(responses){return replaceAbortedRequests(),continueIncomplete(requests,responses,fetchSearchResults)}).then(function(responses){return replaceAbortedRequests(),responses.map(function(resp){switch(resp){case ABORTED:return null;case DUPLICATE:case INCOMPLETE:throw new Error("Failed to clear incomplete or duplicate request from responses.");default:return resp}})})}function startRequests(requests){return Promise.map(requests,function(req){return req===ABORTED?req:new Promise(function(resolve){resolve((req.started?req.continue:req.start).call(req))}).catch(function(err){return req.handleFailure(err)})})}var callClient=Private(_call_client.CallClientProvider),callResponseHandlers=Private(_call_response_handlers.CallResponseHandlersProvider),continueIncomplete=Private(_continue_incomplete.ContinueIncompleteProvider),ABORTED=_req_status.RequestStatus.ABORTED,DUPLICATE=_req_status.RequestStatus.DUPLICATE,INCOMPLETE=_req_status.RequestStatus.INCOMPLETE;return fetchNow}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchNowProvider=FetchNowProvider;var _notify=__webpack_require__(10),_call_client=__webpack_require__(2550),_call_response_handlers=__webpack_require__(2558),_continue_incomplete=__webpack_require__(2559),_req_status=__webpack_require__(361),_notifier=__webpack_require__(1051)},function(module,exports,__webpack_require__){"use strict";function CallClientProvider(Private,Promise,es){function callClient(requests){var statuses=mergeDuplicateRequests(requests),requestsToFetch=statuses.filter(isRequest),execCount=requestsToFetch.length;if(!execCount)return Promise.resolve([]);var esPromise=void 0,defer=Promise.defer(),respond=function(responses){return responses=responses||[],Promise.map(requests,function(request,i){switch(statuses[i]){case ABORTED:return ABORTED;case DUPLICATE:return request._uniq.resp;default:var index=_lodash2.default.findIndex(requestsToFetch,request);return index<0?ABORTED:responses[index]}}).then(function(res){return defer.resolve(res)},function(err){return defer.reject(err)})},requestWasAborted=Promise.method(function(req,i){if(statuses[i]===ABORTED&&defer.reject(new Error("Request was aborted twice?")),!((execCount-=1)>0))return esPromise&&_lodash2.default.isFunction(esPromise.abort)&&esPromise.abort(),esPromise=ABORTED,respond()});return statuses.forEach(function(req,i){isRequest(req)&&req.whenAborted(function(){requestWasAborted(req,i).catch(defer.reject)})}),Promise.map(requestsToFetch,function(request){return Promise.try(request.getFetchParams,void 0,request).then(function(fetchParams){return request.fetchParams=fetchParams}).then(function(value){return{resolved:value}}).catch(function(error){return{rejected:error}})}).then(function(results){var requestsWithFetchParams=[];return results.forEach(function(result,index){if(result.resolved)requestsWithFetchParams.push(result.resolved);else{requestsToFetch[index].handleFailure(result.rejected),requestsToFetch[index]=void 0}}),requestsToFetch=requestsToFetch.filter(function(request){return void 0!==request}),requestFetchParamsToBody(requestsWithFetchParams)}).then(function(body){if(esPromise===ABORTED)throw ABORTED;return esPromise=es.msearch({body:body})}).then(function(clientResponse){return respond(clientResponse.responses)}).catch(function(error){if(errorAllowExplicitIndex.test(error))return errorAllowExplicitIndex.takeover();error===ABORTED?respond():defer.reject(error)}),defer.promise.catch(function(err){requests.forEach(function(req,i){statuses[i]!==ABORTED&&req.handleFailure(err)})})}var errorAllowExplicitIndex=Private(_error_allow_explicit_index.ErrorAllowExplicitIndexProvider),isRequest=Private(_is_request.IsRequestProvider),mergeDuplicateRequests=Private(_merge_duplicate_requests.MergeDuplicatesRequestProvider),requestFetchParamsToBody=Private(_request_fetch_params_to_body_provider.RequestFetchParamsToBodyProvider),ABORTED=_req_status.RequestStatus.ABORTED,DUPLICATE=_req_status.RequestStatus.DUPLICATE;return callClient}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CallClientProvider=CallClientProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_error_allow_explicit_index=__webpack_require__(2551),_is_request=__webpack_require__(1049),_merge_duplicate_requests=__webpack_require__(2555),_req_status=__webpack_require__(361),_request_fetch_params_to_body_provider=__webpack_require__(2556)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _error_allow_explicit_index=__webpack_require__(2552);Object.defineProperty(exports,"ErrorAllowExplicitIndexProvider",{enumerable:!0,get:function(){return _error_allow_explicit_index.ErrorAllowExplicitIndexProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ErrorAllowExplicitIndexProvider(Private,Promise){var kbnUrl=Private(_url.KbnUrlProvider);return new(function(){function ErrorAllowExplicitIndex(){_classCallCheck(this,ErrorAllowExplicitIndex)}return _createClass(ErrorAllowExplicitIndex,[{key:"test",value:function(error){if(!error||400!==error.status)return!1;var type=(0,_lodash.get)(error,"body.error.type"),reason=(0,_lodash.get)(error,"body.error.reason");return"illegal_argument_exception"===type&&String(reason).includes("explicit index")}},{key:"takeover",value:function(){return kbnUrl.change("/error/multi.allow_explicit_index"),Promise.halt()}}]),ErrorAllowExplicitIndex}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ErrorAllowExplicitIndexProvider=ErrorAllowExplicitIndexProvider;var _lodash=__webpack_require__(1),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_url=__webpack_require__(105);__webpack_require__(2553);var _error_allow_explicit_index=__webpack_require__(2554),_error_allow_explicit_index2=_interopRequireDefault(_error_allow_explicit_index);_routes2.default.when("/error/multi.allow_explicit_index",{template:_error_allow_explicit_index2.default})},function(module,exports){},function(module,exports){module.exports='<div class="app-container error-multi-allow-explicit-index">\n  <h3>\n    <i aria-hidden="true" class="fa fa-warning text-danger"></i> Oh no!\n  </h3>\n  <p>\n    It looks like your Elasticsearch cluster has the <code>rest.action.multi.allow_explicit_index</code> setting set to <code>false</code>, which prevents Kibana from making search requests. We use this ability to send a single request to Elasticsearch that searches multiple indexes so that when there are many panels on a dashboard they will load quickly and uniformly.\n  </p>\n\n  <p>\n    Unfortunately, until this issue is fixed you won\'t be able to use certain apps in Kibana, like Discover, Visualize and Dashboard.\n  </p>\n\n  <h3>Ok, how do I fix this?</h3>\n  <ol>\n    <li>Remove <code>rest.action.multi.allow_explicit_index: false</code> from your Elasticsearch config file.</li>\n    <li>Restart Elasticsearch.</li>\n    <li>Use the browser\'s back button to return to what you were doing.</li>\n  </ol>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function MergeDuplicatesRequestProvider(Private){function mergeDuplicateRequests(requests){var index={};return requests.map(function(req){if(!isRequest(req))return req;var iid=req.source._instanceid;return index[iid]?(req._uniq=index[iid],DUPLICATE):(index[iid]=req,req)})}var isRequest=Private(_is_request.IsRequestProvider),DUPLICATE=_req_status.RequestStatus.DUPLICATE;return mergeDuplicateRequests}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MergeDuplicatesRequestProvider=MergeDuplicatesRequestProvider;var _is_request=__webpack_require__(1049),_req_status=__webpack_require__(361)},function(module,exports,__webpack_require__){"use strict";function RequestFetchParamsToBodyProvider(Promise,timefilter,kbnIndex,sessionId,config,esShardTimeout){return function(requestsFetchParams){return(0,_request_fetch_params_to_body.requestFetchParamsToBody)(requestsFetchParams,Promise,timefilter,kbnIndex,sessionId,config,esShardTimeout)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestFetchParamsToBodyProvider=RequestFetchParamsToBodyProvider;var _request_fetch_params_to_body=__webpack_require__(2557)},function(module,exports,__webpack_require__){"use strict";function emptySearch(){return{query:{bool:{must_not:[{match_all:{}}]}}}}function requestFetchParamsToBody(requestsFetchParams,Promise,timeFilter,kbnIndex,sessionId,config,esShardTimeout){var indexToListMapping={},timeBounds=timeFilter.getActiveBounds(),promises=requestsFetchParams.map(function(fetchParams){return Promise.resolve(fetchParams.index).then(function(indexList){return _lodash2.default.isFunction(_lodash2.default.get(indexList,"toIndexList"))?(indexToListMapping[indexList.id]||(indexToListMapping[indexList.id]=timeBounds?indexList.toIndexList(timeBounds.min,timeBounds.max):indexList.toIndexList()),indexToListMapping[indexList.id].then(function(indexList){return _lodash2.default.clone(indexList)})):indexList}).then(function(indexList){var body=fetchParams.body||{},index=[];Array.isArray(indexList)&&0===indexList.length?(index.push(kbnIndex),body=emptySearch()):index=indexList;var header={index:index,type:fetchParams.type,search_type:fetchParams.search_type,ignore_unavailable:!0,timeout:esShardTimeout};return"sessionId"===config.get("courier:setRequestPreference")?header.preference=sessionId:"custom"===config.get("courier:setRequestPreference")&&(header.preference=config.get("courier:customRequestPreference")),JSON.stringify(header)+"\n"+(0,_aggressive_parse.toJson)(body,JSON.stringify)})});return Promise.all(promises).then(function(requests){return requests.join("\n")+"\n"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.requestFetchParamsToBody=requestFetchParamsToBody;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_aggressive_parse=__webpack_require__(1050)},function(module,exports,__webpack_require__){"use strict";function CallResponseHandlersProvider(Private,Promise){function callResponseHandlers(requests,responses){return Promise.map(requests,function(req,i){function progress(){return req.isIncomplete()?INCOMPLETE:(req.complete(),resp)}if(req===ABORTED||req.aborted)return ABORTED;var resp=responses[i];return resp.timed_out&&_notifier.courierNotifier.warning(new _errors.SearchTimeout),resp._shards&&resp._shards.failed&&_notifier.courierNotifier.warning(new _errors.ShardFailure(resp)),resp.error?req.filterError(resp)?progress():req.handleFailure(new _errors.RequestFailure(null,resp)):Promise.try(function(){return req.handleResponse(resp)}).then(progress)})}var ABORTED=_req_status.RequestStatus.ABORTED,INCOMPLETE=_req_status.RequestStatus.INCOMPLETE;return callResponseHandlers}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CallResponseHandlersProvider=CallResponseHandlersProvider;var _errors=__webpack_require__(56),_req_status=__webpack_require__(361),_notifier=__webpack_require__(1051)},function(module,exports,__webpack_require__){"use strict";function ContinueIncompleteProvider(){function continueIncompleteRequests(requests,responses,fetchSearchResults){var incomplete=[];return responses.forEach(function(resp,i){resp===INCOMPLETE&&incomplete.push(requests[i])}),incomplete.length?fetchSearchResults(incomplete).then(function(completedResponses){return responses.map(function(prevResponse){return prevResponse!==INCOMPLETE?prevResponse:completedResponses.shift()})}):responses}var INCOMPLETE=_req_status.RequestStatus.INCOMPLETE;return continueIncompleteRequests}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContinueIncompleteProvider=ContinueIncompleteProvider;var _req_status=__webpack_require__(361)},function(module,exports,__webpack_require__){"use strict";function FieldWildcardProvider(config){function fieldWildcardMatcher(){var globs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(val){return-1===metaFields.indexOf(val)&&globs.some(function(p){return makeRegEx(p).test(val)})}}function fieldWildcardFilter(){var globs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],matcher=fieldWildcardMatcher(globs);return function(val){return!matcher(val)}}var metaFields=config.get("metaFields"),makeRegEx=(0,_lodash.memoize)(function(glob){return new RegExp("^"+glob.split("*").map(_lodash.escapeRegExp).join(".*")+"$")});return{makeRegEx:makeRegEx,fieldWildcardMatcher:fieldWildcardMatcher,fieldWildcardFilter:fieldWildcardFilter}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldWildcardProvider=FieldWildcardProvider;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _highlight_html=__webpack_require__(634);Object.defineProperty(exports,"getHighlightHtml",{enumerable:!0,get:function(){return _highlight_html.getHighlightHtml}});var _highlight_request=__webpack_require__(2562);Object.defineProperty(exports,"getHighlightRequest",{enumerable:!0,get:function(){return _highlight_request.getHighlightRequest}})},function(module,exports,__webpack_require__){"use strict";function getHighlightRequest(query,getConfig){if(getConfig("doc_table:highlight"))return{pre_tags:[_highlight_tags.highlightTags.pre],post_tags:[_highlight_tags.highlightTags.post],fields:{"*":{}},fragment_size:FRAGMENT_SIZE}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHighlightRequest=getHighlightRequest;var _highlight_tags=__webpack_require__(1036),FRAGMENT_SIZE=Math.pow(2,31)-1},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _build_es_query=__webpack_require__(2564);Object.defineProperty(exports,"BuildESQueryProvider",{enumerable:!0,get:function(){return _build_es_query.BuildESQueryProvider}})},function(module,exports,__webpack_require__){"use strict";function BuildESQueryProvider(Private,config){function buildESQuery(indexPattern){var queries=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],filters=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],validQueries=queries.filter(function(query){return(0,_lodash.has)(query,"query")}),queriesByLanguage=(0,_lodash.groupBy)(validQueries,"language"),kueryQuery=(0,_from_kuery.buildQueryFromKuery)(indexPattern,queriesByLanguage.kuery,config),luceneQuery=(0,_from_lucene.buildQueryFromLucene)(queriesByLanguage.lucene,decorateQuery),filterQuery=(0,_from_filters.buildQueryFromFilters)(filters,decorateQuery,indexPattern);return{bool:{must:[].concat(kueryQuery.must,luceneQuery.must,filterQuery.must),filter:[].concat(kueryQuery.filter,luceneQuery.filter,filterQuery.filter),should:[].concat(kueryQuery.should,luceneQuery.should,filterQuery.should),must_not:[].concat(kueryQuery.must_not,luceneQuery.must_not,filterQuery.must_not)}}}var decorateQuery=Private(_decorate_query.DecorateQueryProvider);return buildESQuery}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildESQueryProvider=BuildESQueryProvider;var _lodash=__webpack_require__(1),_decorate_query=__webpack_require__(639),_from_kuery=__webpack_require__(2565),_from_filters=__webpack_require__(1059),_from_lucene=__webpack_require__(2592)},function(module,exports,__webpack_require__){"use strict";function buildQueryFromKuery(indexPattern){var queries=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],config=arguments[2],allowLeadingWildcards=config.get("query:allowLeadingWildcards");return buildQuery(indexPattern,queries.map(function(query){try{return(0,_kuery.fromKueryExpression)(query.query,{allowLeadingWildcards:allowLeadingWildcards})}catch(parseError){if(parseError instanceof _errors.NoLeadingWildcardsError)throw parseError;try{(0,_kuery.fromLegacyKueryExpression)(query.query)}catch(legacyParseError){throw parseError}throw new Error("It looks like you're using an outdated Kuery syntax. See what changed in the [docs]("+queryDocs.kueryQuerySyntax+")!")}}))}function buildQuery(indexPattern,queryASTs){var compoundQueryAST=_kuery.nodeTypes.function.buildNode("and",queryASTs),kueryQuery=(0,_kuery.toElasticsearchQuery)(compoundQueryAST,indexPattern);return _extends({must:[],filter:[],should:[],must_not:[]},kueryQuery.bool)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.buildQueryFromKuery=buildQueryFromKuery;var _kuery=__webpack_require__(1053),_documentation_links=__webpack_require__(254),_errors=__webpack_require__(1056),queryDocs=_documentation_links.documentationLinks.query},function(module,exports,__webpack_require__){"use strict";function buildNode(functionName){var kueryFunction=_functions.functions[functionName];if(_lodash2.default.isUndefined(kueryFunction))throw new Error('Unknown function "'+functionName+'"');for(var _len=arguments.length,functionArgs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)functionArgs[_key-1]=arguments[_key];return _extends({type:"function",function:functionName},kueryFunction.buildNodeParams.apply(kueryFunction,functionArgs))}function buildNodeWithArgumentNodes(functionName,argumentNodes){if(_lodash2.default.isUndefined(_functions.functions[functionName]))throw new Error('Unknown function "'+functionName+'"');return{type:"function",function:functionName,arguments:argumentNodes}}function toElasticsearchQuery(node,indexPattern){return _functions.functions[node.function].toElasticsearchQuery(node,indexPattern)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.buildNode=buildNode,exports.buildNodeWithArgumentNodes=buildNodeWithArgumentNodes,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_functions=__webpack_require__(2567)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.functions=void 0;var _is=__webpack_require__(2568),is=_interopRequireWildcard(_is),_and=__webpack_require__(2569),and=_interopRequireWildcard(_and),_or=__webpack_require__(2570),or=_interopRequireWildcard(_or),_not=__webpack_require__(2571),not=_interopRequireWildcard(_not),_range=__webpack_require__(2572),range=_interopRequireWildcard(_range),_exists=__webpack_require__(2573),exists=_interopRequireWildcard(_exists),_geo_bounding_box=__webpack_require__(2574),geoBoundingBox=_interopRequireWildcard(_geo_bounding_box),_geo_polygon=__webpack_require__(2575),geoPolygon=_interopRequireWildcard(_geo_polygon);exports.functions={is:is,and:and,or:or,not:not,range:range,exists:exists,geoBoundingBox:geoBoundingBox,geoPolygon:geoPolygon}},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function buildNodeParams(fieldName,value){var isPhrase=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(_lodash2.default.isUndefined(fieldName))throw new Error("fieldName is a required argument");if(_lodash2.default.isUndefined(value))throw new Error("value is a required argument");return{arguments:["string"==typeof fieldName?ast.fromLiteralExpression(fieldName):literal.buildNode(fieldName),"string"==typeof value?ast.fromLiteralExpression(value):literal.buildNode(value),literal.buildNode(isPhrase)]}}function toElasticsearchQuery(node,indexPattern){var _node$arguments=_slicedToArray(node.arguments,3),fieldNameArg=_node$arguments[0],valueArg=_node$arguments[1],isPhraseArg=_node$arguments[2],value=_lodash2.default.isUndefined(valueArg)?valueArg:ast.toElasticsearchQuery(valueArg),type=isPhraseArg.value?"phrase":"best_fields";if(null===fieldNameArg.value)return{multi_match:{type:type,query:value,lenient:!0}};var fields=(0,_get_fields.getFields)(fieldNameArg,indexPattern);fields&&0===fields.length&&fields.push({name:ast.toElasticsearchQuery(fieldNameArg),scripted:!1});var isExistsQuery="wildcard"===valueArg.type&&"*"===value;return isExistsQuery&&fields&&fields.length===indexPattern.fields.length?{match_all:{}}:{bool:{should:fields.reduce(function(accumulator,field){if(!field.scripted){if(isExistsQuery)return[].concat(_toConsumableArray(accumulator),[{exists:{field:field.name}}]);if("wildcard"===valueArg.type)return[].concat(_toConsumableArray(accumulator),[{query_string:{fields:[field.name],query:wildcard.toQueryStringQuery(valueArg)}}]);var queryType="phrase"===type?"match_phrase":"match";return[].concat(_toConsumableArray(accumulator),[_defineProperty({},queryType,_defineProperty({},field.name,value))])}if(!isExistsQuery)return[].concat(_toConsumableArray(accumulator),[{script:_extends({},(0,_phrase.getPhraseScript)(field,value))}])},[]),minimum_should_match:1}}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_ast=__webpack_require__(163),ast=_interopRequireWildcard(_ast),_literal=__webpack_require__(455),literal=_interopRequireWildcard(_literal),_wildcard=__webpack_require__(640),wildcard=_interopRequireWildcard(_wildcard),_phrase=__webpack_require__(253),_get_fields=__webpack_require__(1055)},function(module,exports,__webpack_require__){"use strict";function buildNodeParams(children){return{arguments:children}}function toElasticsearchQuery(node,indexPattern){return{bool:{filter:(node.arguments||[]).map(function(child){return ast.toElasticsearchQuery(child,indexPattern)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast)},function(module,exports,__webpack_require__){"use strict";function buildNodeParams(children){return{arguments:children}}function toElasticsearchQuery(node,indexPattern){return{bool:{should:(node.arguments||[]).map(function(child){return ast.toElasticsearchQuery(child,indexPattern)}),minimum_should_match:1}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast)},function(module,exports,__webpack_require__){"use strict";function buildNodeParams(child){return{arguments:[child]}}function toElasticsearchQuery(node,indexPattern){var _node$arguments=_slicedToArray(node.arguments,1),argument=_node$arguments[0];return{bool:{must_not:ast.toElasticsearchQuery(argument,indexPattern)}}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function buildNodeParams(fieldName,params){return params=_lodash2.default.pick(params,"gt","lt","gte","lte","format"),{arguments:["string"==typeof fieldName?ast.fromLiteralExpression(fieldName):_node_types.nodeTypes.literal.buildNode(fieldName)].concat(_toConsumableArray(_lodash2.default.map(params,function(value,key){return _node_types.nodeTypes.namedArg.buildNode(key,value)})))}}function toElasticsearchQuery(node,indexPattern){var _node$arguments=_toArray(node.arguments),fieldNameArg=_node$arguments[0],args=_node$arguments.slice(1),fields=(0,_get_fields.getFields)(fieldNameArg,indexPattern),namedArgs=extractArguments(args),queryParams=_lodash2.default.mapValues(namedArgs,ast.toElasticsearchQuery);return fields&&0===fields.length&&fields.push({name:ast.toElasticsearchQuery(fieldNameArg),scripted:!1}),{bool:{should:fields.map(function(field){return field.scripted?{script:_extends({},(0,_range2.getRangeScript)(field,queryParams))}:{range:_defineProperty({},field.name,queryParams)}}),minimum_should_match:1}}}function extractArguments(args){if(args.gt&&args.gte||args.lt&&args.lte)throw new Error("range ends cannot be both inclusive and exclusive");var unnamedArgOrder=["gte","lte","format"];return args.reduce(function(acc,arg,index){return"namedArg"===arg.type?acc[arg.name]=arg.value:acc[unnamedArgOrder[index]]=arg,acc},{})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_node_types=__webpack_require__(114),_ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast),_range2=__webpack_require__(185),_get_fields=__webpack_require__(1055)},function(module,exports,__webpack_require__){"use strict";function buildNodeParams(fieldName){return{arguments:[literal.buildNode(fieldName)]}}function toElasticsearchQuery(node,indexPattern){var _node$arguments=_slicedToArray(node.arguments,1),fieldNameArg=_node$arguments[0],fieldName=literal.toElasticsearchQuery(fieldNameArg),field=indexPattern.fields.byName[fieldName];if(field&&field.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:fieldName}}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _literal=__webpack_require__(455),literal=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_literal)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function buildNodeParams(fieldName,params){return params=_lodash2.default.pick(params,"topLeft","bottomRight"),{arguments:[_node_types.nodeTypes.literal.buildNode(fieldName)].concat(_toConsumableArray(_lodash2.default.map(params,function(value,key){var latLon=value.lat+", "+value.lon;return _node_types.nodeTypes.namedArg.buildNode(key,latLon)})))}}function toElasticsearchQuery(node,indexPattern){var _geo_bounding_box,_node$arguments=_toArray(node.arguments),fieldNameArg=_node$arguments[0],args=_node$arguments.slice(1),fieldName=_node_types.nodeTypes.literal.toElasticsearchQuery(fieldNameArg),field=indexPattern.fields.byName[fieldName],queryParams=args.reduce(function(acc,arg){var snakeArgName=_lodash2.default.snakeCase(arg.name);return _extends({},acc,_defineProperty({},snakeArgName,ast.toElasticsearchQuery(arg)))},{});if(field&&field.scripted)throw new Error("Geo bounding box query does not support scripted fields");return{geo_bounding_box:(_geo_bounding_box={},_defineProperty(_geo_bounding_box,fieldName,queryParams),_defineProperty(_geo_bounding_box,"ignore_unmapped",!0),_geo_bounding_box)}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_node_types=__webpack_require__(114),_ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function buildNodeParams(fieldName,points){return{arguments:[_node_types.nodeTypes.literal.buildNode(fieldName)].concat(_toConsumableArray(points.map(function(point){var latLon=point.lat+", "+point.lon;return _node_types.nodeTypes.literal.buildNode(latLon)})))}}function toElasticsearchQuery(node,indexPattern){var _geo_polygon,_node$arguments=_toArray(node.arguments),fieldNameArg=_node$arguments[0],points=_node$arguments.slice(1),fieldName=_node_types.nodeTypes.literal.toElasticsearchQuery(fieldNameArg),field=indexPattern.fields.byName[fieldName],queryParams={points:points.map(ast.toElasticsearchQuery)};if(field&&field.scripted)throw new Error("Geo polygon query does not support scripted fields");return{geo_polygon:(_geo_polygon={},_defineProperty(_geo_polygon,fieldName,queryParams),_defineProperty(_geo_polygon,"ignore_unmapped",!0),_geo_polygon)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNodeParams=buildNodeParams,exports.toElasticsearchQuery=toElasticsearchQuery;var _node_types=__webpack_require__(114),_ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast)},function(module,exports,__webpack_require__){"use strict";function buildNode(name,value){return{type:"namedArg",name:name,value:"literal"===_lodash2.default.get(value,"type")?value:_node_types.nodeTypes.literal.buildNode(value)}}function toElasticsearchQuery(node){return ast.toElasticsearchQuery(node.value)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildNode=buildNode,exports.toElasticsearchQuery=toElasticsearchQuery;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_ast=__webpack_require__(163),ast=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ast),_node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};module.exports=function(){function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(input){function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function peg$computePosDetails(pos){var p,ch,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details=peg$posDetailsCache[p],details={line:details.line,column:details.column,seenCR:details.seenCR};p<pos;)ch=input.charAt(p),"\n"===ch?(details.seenCR||details.line++,details.column=1,details.seenCR=!1):"\r"===ch||"\u2028"===ch||"\u2029"===ch?(details.line++,details.column=1,details.seenCR=!0):(details.column++,details.seenCR=!1),p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildException(message,expected,found,location){return null!==expected&&function(expected){var i=1;for(expected.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});i<expected.length;)expected[i-1]===expected[i]?expected.splice(i,1):i++}(expected),new peg$SyntaxError(null!==message?message:function(expected,found){var expectedDesc,foundDesc,i,expectedDescs=new Array(expected.length);for(i=0;i<expected.length;i++)expectedDescs[i]=expected[i].description;return expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0],foundDesc=found?'"'+function(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0100-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1000-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}(found)+'"':"end of input","Expected "+expectedDesc+" but "+foundDesc+" found."}(expected,found),expected,found,location)}function peg$parsestart(){var s0,s1,s2,s3;for(s0=peg$currPos,s1=[],s2=peg$parseSpace();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseSpace();return s1!==peg$FAILED?(s2=peg$parseOrQuery(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(s3=peg$parseOptionalSpace(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c0(s2,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseOrQuery(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parseAndQuery(),s1!==peg$FAILED?(s2=peg$parseOr(),s2!==peg$FAILED?(s3=peg$parseOrQuery(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c1(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseAndQuery()),s0}function peg$parseAndQuery(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parseNotQuery(),s1!==peg$FAILED?(s2=peg$parseAnd(),s2!==peg$FAILED?(s3=peg$parseAndQuery(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c2(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseNotQuery()),s0}function peg$parseNotQuery(){var s0,s1,s2;return s0=peg$currPos,s1=peg$parseNot(),s1!==peg$FAILED?(s2=peg$parseSubQuery(),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c3(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseSubQuery()),s0}function peg$parseSubQuery(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,40===input.charCodeAt(peg$currPos)?(s1=peg$c4,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c5)),s1!==peg$FAILED){for(s2=[],s3=peg$parseSpace();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseSpace();s2!==peg$FAILED?(s3=peg$parseOrQuery(),s3!==peg$FAILED?(s4=peg$parseOptionalSpace(),s4!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s5=peg$c6,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c7)),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c8(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$parseExpression()),s0}function peg$parseExpression(){var s0;return s0=peg$parseFieldRangeExpression(),s0===peg$FAILED&&(s0=peg$parseFieldValueExpression())===peg$FAILED&&(s0=peg$parseValueExpression()),s0}function peg$parseFieldRangeExpression(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseLiteral())!==peg$FAILED){for(s2=[],s3=peg$parseSpace();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseSpace();if(s2!==peg$FAILED)if((s3=peg$parseRangeOperator())!==peg$FAILED){for(s4=[],s5=peg$parseSpace();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseSpace();s4!==peg$FAILED?(s5=peg$parseQuotedString(),s5===peg$FAILED&&(s5=peg$parseUnquotedLiteral()),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c9(s1,s3,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseFieldValueExpression(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,(s1=peg$parseLiteral())!==peg$FAILED){for(s2=[],s3=peg$parseSpace();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseSpace();if(s2!==peg$FAILED)if(58===input.charCodeAt(peg$currPos)?(s3=peg$c10,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s3!==peg$FAILED){for(s4=[],s5=peg$parseSpace();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseSpace();s4!==peg$FAILED?(s5=peg$parseListOfValues(),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c12(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseValueExpression(){var s0,s1;return s0=peg$currPos,s1=peg$parseValue(),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c13(s1)),s0=s1}function peg$parseListOfValues(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,40===input.charCodeAt(peg$currPos)?(s1=peg$c4,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c5)),s1!==peg$FAILED){for(s2=[],s3=peg$parseSpace();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseSpace();s2!==peg$FAILED?(s3=peg$parseOrListOfValues(),s3!==peg$FAILED?(s4=peg$parseOptionalSpace(),s4!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s5=peg$c6,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c7)),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c14(s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0===peg$FAILED&&(s0=peg$parseValue()),s0}function peg$parseOrListOfValues(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parseAndListOfValues(),s1!==peg$FAILED?(s2=peg$parseOr(),s2!==peg$FAILED?(s3=peg$parseOrListOfValues(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c15(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseAndListOfValues()),s0}function peg$parseAndListOfValues(){var s0,s1,s2,s3;return s0=peg$currPos,s1=peg$parseNotListOfValues(),s1!==peg$FAILED?(s2=peg$parseAnd(),s2!==peg$FAILED?(s3=peg$parseAndListOfValues(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c16(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseNotListOfValues()),s0}function peg$parseNotListOfValues(){var s0,s1,s2;return s0=peg$currPos,s1=peg$parseNot(),s1!==peg$FAILED?(s2=peg$parseListOfValues(),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c17(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseListOfValues()),s0}function peg$parseValue(){var s0,s1;return s0=peg$currPos,s1=peg$parseQuotedString(),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c18(s1)),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parseUnquotedLiteral(),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c19(s1)),s0=s1),s0}function peg$parseOr(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=[],(s2=peg$parseSpace())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseSpace();else s1=peg$FAILED;if(s1!==peg$FAILED)if(input.substr(peg$currPos,2).toLowerCase()===peg$c20?(s2=input.substr(peg$currPos,2),peg$currPos+=2):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s2!==peg$FAILED){if(s3=[],(s4=peg$parseSpace())!==peg$FAILED)for(;s4!==peg$FAILED;)s3.push(s4),s4=peg$parseSpace();else s3=peg$FAILED;s3!==peg$FAILED?(s1=[s1,s2,s3],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseAnd(){var s0,s1,s2,s3,s4;if(s0=peg$currPos,s1=[],(s2=peg$parseSpace())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseSpace();else s1=peg$FAILED;if(s1!==peg$FAILED)if(input.substr(peg$currPos,3).toLowerCase()===peg$c22?(s2=input.substr(peg$currPos,3),peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s2!==peg$FAILED){if(s3=[],(s4=peg$parseSpace())!==peg$FAILED)for(;s4!==peg$FAILED;)s3.push(s4),s4=peg$parseSpace();else s3=peg$FAILED;s3!==peg$FAILED?(s1=[s1,s2,s3],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseNot(){var s0,s1,s2,s3;if(s0=peg$currPos,input.substr(peg$currPos,3).toLowerCase()===peg$c24?(s1=input.substr(peg$currPos,3),peg$currPos+=3):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)),s1!==peg$FAILED){if(s2=[],(s3=peg$parseSpace())!==peg$FAILED)for(;s3!==peg$FAILED;)s2.push(s3),s3=peg$parseSpace();else s2=peg$FAILED;s2!==peg$FAILED?(s1=[s1,s2],s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseLiteral(){var s0;return s0=peg$parseQuotedString(),s0===peg$FAILED&&(s0=peg$parseUnquotedLiteral()),s0}function peg$parseQuotedString(){var s0,s1,s2,s3,s4,s5;if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1=peg$c26,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s1!==peg$FAILED){for(s2=[],s3=peg$parseQuotedCharacter();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseQuotedCharacter();if(s2!==peg$FAILED)if((s3=peg$parseCursor())!==peg$FAILED){for(s4=[],s5=peg$parseQuotedCharacter();s5!==peg$FAILED;)s4.push(s5),s5=peg$parseQuotedCharacter();s4!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s5=peg$c26,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c28(s2,s3,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)if(s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1=peg$c26,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s1!==peg$FAILED){for(s2=[],s3=peg$parseQuotedCharacter();s3!==peg$FAILED;)s2.push(s3),s3=peg$parseQuotedCharacter();s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3=peg$c26,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c27)),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c29(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseQuotedCharacter(){var s0,s1,s2;return s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c30,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c31)),s1!==peg$FAILED?(peg$c32.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c33)),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c34(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,s2=peg$parseCursor(),peg$silentFails--,s2===peg$FAILED?s1=void 0:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED?(peg$c35.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c36)),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c34(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseUnquotedLiteral(){var s0,s1,s2,s3,s4;for(s0=peg$currPos,s1=[],s2=peg$parseUnquotedCharacter();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseUnquotedCharacter();if(s1!==peg$FAILED)if((s2=peg$parseCursor())!==peg$FAILED){for(s3=[],s4=peg$parseUnquotedCharacter();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseUnquotedCharacter();s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c28(s1,s2,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,s1=[],(s2=peg$parseUnquotedCharacter())!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),s2=peg$parseUnquotedCharacter();else s1=peg$FAILED;s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c37(s1)),s0=s1}return s0}function peg$parseUnquotedCharacter(){var s0,s1,s2,s3,s4;return s0=peg$parseEscapedSpecialCharacter(),s0===peg$FAILED&&(s0=peg$parseEscapedKeyword())===peg$FAILED&&(s0=peg$parseWildcard())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,s2=peg$parseSpecialCharacter(),peg$silentFails--,s2===peg$FAILED?s1=void 0:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED?(s2=peg$currPos,peg$silentFails++,s3=peg$parseKeyword(),peg$silentFails--,s3===peg$FAILED?s2=void 0:(peg$currPos=s2,s2=peg$FAILED),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,s4=peg$parseCursor(),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?(input.length>peg$currPos?(s4=input.charAt(peg$currPos),peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c38)),s4!==peg$FAILED?(peg$savedPos=s0,s1=peg$c34(s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)),s0}function peg$parseWildcard(){var s0,s1;return s0=peg$currPos,42===input.charCodeAt(peg$currPos)?(s1=peg$c39,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c40)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c41()),s0=s1}function peg$parseOptionalSpace(){var s0,s1,s2,s3,s4;for(s0=peg$currPos,s1=[],s2=peg$parseSpace();s2!==peg$FAILED;)s1.push(s2),s2=peg$parseSpace();if(s1!==peg$FAILED)if((s2=peg$parseCursor())!==peg$FAILED){for(s3=[],s4=peg$parseSpace();s4!==peg$FAILED;)s3.push(s4),s4=peg$parseSpace();s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c28(s1,s2,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED)for(s0=[],s1=peg$parseSpace();s1!==peg$FAILED;)s0.push(s1),s1=peg$parseSpace();return s0}function peg$parseEscapedSpecialCharacter(){var s0,s1,s2;return s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c30,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c31)),s1!==peg$FAILED?(s2=peg$parseSpecialCharacter(),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c34(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseEscapedKeyword(){var s0,s1,s2;return s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c30,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c31)),s1!==peg$FAILED?(input.substr(peg$currPos,2).toLowerCase()===peg$c20?(s2=input.substr(peg$currPos,2),peg$currPos+=2):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c21)),s2===peg$FAILED&&(input.substr(peg$currPos,3).toLowerCase()===peg$c22?(s2=input.substr(peg$currPos,3),peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c23)),s2===peg$FAILED&&(input.substr(peg$currPos,3).toLowerCase()===peg$c24?(s2=input.substr(peg$currPos,3),peg$currPos+=3):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c25)))),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c42(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}function peg$parseKeyword(){var s0;return s0=peg$parseOr(),s0===peg$FAILED&&(s0=peg$parseAnd())===peg$FAILED&&(s0=peg$parseNot()),s0}function peg$parseSpecialCharacter(){var s0;return peg$c43.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c44)),s0}function peg$parseRangeOperator(){var s0,s1;return s0=peg$currPos,input.substr(peg$currPos,2)===peg$c45?(s1=peg$c45,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c46)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c47()),s0=s1,s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,2)===peg$c48?(s1=peg$c48,peg$currPos+=2):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c49)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c50()),(s0=s1)===peg$FAILED&&(s0=peg$currPos,60===input.charCodeAt(peg$currPos)?(s1=peg$c51,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c52)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c53()),(s0=s1)===peg$FAILED&&(s0=peg$currPos,62===input.charCodeAt(peg$currPos)?(s1=peg$c54,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c56()),s0=s1))),s0}function peg$parseSpace(){var s0;return peg$c57.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c58)),s0}function peg$parseCursor(){var s0,s1,s2;return s0=peg$currPos,peg$savedPos=peg$currPos,s1=peg$c59(),s1=s1?void 0:peg$FAILED,s1!==peg$FAILED?(input.substr(peg$currPos,14)===peg$c60?(s2=peg$c60,peg$currPos+=14):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61)),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c62(),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0}var peg$result,options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart,Literal:peg$parseLiteral},peg$startRuleFunction=peg$parsestart,peg$c0=function(query,trailing){return"cursor"===trailing.type?_extends({},trailing,{suggestionTypes:["conjunction"]}):null!==query?query:nodeTypes.function.buildNode("is","*","*")},peg$c1=function(left,right){var cursor=[left,right].find(function(node){return"cursor"===node.type});return cursor||buildFunctionNode("or",[left,right])},peg$c2=function(left,right){var cursor=[left,right].find(function(node){return"cursor"===node.type});return cursor||buildFunctionNode("and",[left,right])},peg$c3=function(query){return"cursor"===query.type?query:buildFunctionNode("not",[query])},peg$c4="(",peg$c5={type:"literal",value:"(",description:'"("'},peg$c6=")",peg$c7={type:"literal",value:")",description:'")"'},peg$c8=function(query,trailing){return"cursor"===trailing.type?_extends({},trailing,{suggestionTypes:["conjunction"]}):query},peg$c9=function(field,operator,value){if("cursor"===value.type)return _extends({},value,{suggestionTypes:["conjunction"]});var range=buildNamedArgNode(operator,value);return buildFunctionNode("range",[field,range])},peg$c10=":",peg$c11={type:"literal",value:":",description:'":"'},peg$c12=function(field,partial){return"cursor"===partial.type?_extends({},partial,{fieldName:field.value,suggestionTypes:["value","conjunction"]}):partial(field)},peg$c13=function(partial){if("cursor"===partial.type){var fieldName=(""+partial.prefix+partial.suffix).trim();return _extends({},partial,{fieldName:fieldName,suggestionTypes:["field","operator","conjunction"]})}return partial(buildLiteralNode(null))},peg$c14=function(partial,trailing){return"cursor"===trailing.type?_extends({},trailing,{suggestionTypes:["conjunction"]}):partial},peg$c15=function(partialLeft,partialRight){var cursor=[partialLeft,partialRight].find(function(node){return"cursor"===node.type});return cursor?_extends({},cursor,{suggestionTypes:["value"]}):function(field){return buildFunctionNode("or",[partialLeft(field),partialRight(field)])}},peg$c16=function(partialLeft,partialRight){var cursor=[partialLeft,partialRight].find(function(node){return"cursor"===node.type});return cursor?_extends({},cursor,{suggestionTypes:["value"]}):function(field){return buildFunctionNode("and",[partialLeft(field),partialRight(field)])}},peg$c17=function(partial){return"cursor"===partial.type?_extends({},list,{suggestionTypes:["value"]}):function(field){return buildFunctionNode("not",[partial(field)])}},peg$c18=function(value){if("cursor"===value.type)return value;var isPhrase=buildLiteralNode(!0);return function(field){return buildFunctionNode("is",[field,value,isPhrase])}},peg$c19=function(value){if("cursor"===value.type)return value;if(!allowLeadingWildcards&&"wildcard"===value.type&&nodeTypes.wildcard.hasLeadingWildcard(value))throw new errors.NoLeadingWildcardsError;var isPhrase=buildLiteralNode(!1);return function(field){return buildFunctionNode("is",[field,value,isPhrase])}},peg$c20="or",peg$c21={type:"literal",value:"or",description:'"or"'},peg$c22="and",peg$c23={type:"literal",value:"and",description:'"and"'},peg$c24="not",peg$c25={type:"literal",value:"not",description:'"not"'},peg$c26='"',peg$c27={type:"literal",value:'"',description:'"\\""'},peg$c28=function(prefix,cursor,suffix){var _location=location(),start=_location.start,end=_location.end;return{type:"cursor",start:start.offset,end:end.offset-cursor.length,prefix:prefix.join(""),suffix:suffix.join(""),text:text().replace(cursor,"")}},peg$c29=function(chars){return buildLiteralNode(chars.join(""))},peg$c30="\\",peg$c31={type:"literal",value:"\\",description:'"\\\\"'},peg$c32=/^[\\"]/,peg$c33={type:"class",value:'[\\\\"]',description:'[\\\\"]'},peg$c34=function(char){return char},peg$c35=/^[^"]/,peg$c36={type:"class",value:'[^"]',description:'[^"]'},peg$c37=function(chars){var sequence=chars.join("").trim();if("null"===sequence)return buildLiteralNode(null);if("true"===sequence)return buildLiteralNode(!0);if("false"===sequence)return buildLiteralNode(!1);if(chars.includes(wildcardSymbol))return buildWildcardNode(sequence);var number=Number(sequence),value=isNaN(number)?sequence:number;return buildLiteralNode(value)},peg$c38={type:"any",description:"any character"},peg$c39="*",peg$c40={type:"literal",value:"*",description:'"*"'},peg$c41=function(){return wildcardSymbol},peg$c42=function(keyword){return keyword},peg$c43=/^[\\():<>"*]/,peg$c44={type:"class",value:'[\\\\():<>"*]',description:'[\\\\():<>"*]'},peg$c45="<=",peg$c46={type:"literal",value:"<=",description:'"<="'},peg$c47=function(){return"lte"},peg$c48=">=",peg$c49={type:"literal",value:">=",description:'">="'},peg$c50=function(){return"gte"},peg$c51="<",peg$c52={type:"literal",value:"<",description:'"<"'},peg$c53=function(){return"lt"},peg$c54=">",peg$c55={type:"literal",value:">",description:'">"'},peg$c56=function(){return"gt"},peg$c57=/^[ \t\r\n]/,peg$c58={type:"class",value:"[\\ \\t\\r\\n]",description:"[\\ \\t\\r\\n]"},peg$c59=function(){return parseCursor},peg$c60="@kuery-cursor@",peg$c61={type:"literal",value:"@kuery-cursor@",description:'"@kuery-cursor@"'},peg$c62=function(){return cursorSymbol},peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1,seenCR:!1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}var parseCursor=options.parseCursor,cursorSymbol=options.cursorSymbol,_options$allowLeading=options.allowLeadingWildcards,allowLeadingWildcards=void 0===_options$allowLeading||_options$allowLeading,_options$helpers=options.helpers,nodeTypes=_options$helpers.nodeTypes,errors=_options$helpers.errors,buildFunctionNode=nodeTypes.function.buildNodeWithArgumentNodes,buildLiteralNode=nodeTypes.literal.buildNode,buildWildcardNode=nodeTypes.wildcard.buildNode,buildNamedArgNode=nodeTypes.namedArg.buildNode,wildcardSymbol=nodeTypes.wildcard.wildcardSymbol;if((peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end",description:"end of input"}),peg$buildException(null,peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),{SyntaxError:peg$SyntaxError,parse:peg$parse}}()},function(module,exports,__webpack_require__){"use strict";module.exports=function(){function peg$SyntaxError(message,expected,found,location){this.message=message,this.expected=expected,this.found=found,this.location=location,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(input){function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function peg$computePosDetails(pos){var p,ch,details=peg$posDetailsCache[pos];if(details)return details;for(p=pos-1;!peg$posDetailsCache[p];)p--;for(details=peg$posDetailsCache[p],details={line:details.line,column:details.column,seenCR:details.seenCR};p<pos;)ch=input.charAt(p),"\n"===ch?(details.seenCR||details.line++,details.column=1,details.seenCR=!1):"\r"===ch||"\u2028"===ch||"\u2029"===ch?(details.line++,details.column=1,details.seenCR=!0):(details.column++,details.seenCR=!1),p++;return peg$posDetailsCache[pos]=details,details}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){peg$currPos<peg$maxFailPos||(peg$currPos>peg$maxFailPos&&(peg$maxFailPos=peg$currPos,peg$maxFailExpected=[]),peg$maxFailExpected.push(expected))}function peg$buildException(message,expected,found,location){return null!==expected&&function(expected){var i=1;for(expected.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});i<expected.length;)expected[i-1]===expected[i]?expected.splice(i,1):i++}(expected),new peg$SyntaxError(null!==message?message:function(expected,found){var expectedDesc,foundDesc,i,expectedDescs=new Array(expected.length);for(i=0;i<expected.length;i++)expectedDescs[i]=expected[i].description;return expectedDesc=expected.length>1?expectedDescs.slice(0,-1).join(", ")+" or "+expectedDescs[expected.length-1]:expectedDescs[0],foundDesc=found?'"'+function(s){function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(ch){return"\\x0"+hex(ch)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(ch){return"\\x"+hex(ch)}).replace(/[\u0100-\u0FFF]/g,function(ch){return"\\u0"+hex(ch)}).replace(/[\u1000-\uFFFF]/g,function(ch){return"\\u"+hex(ch)})}(found)+'"':"end of input","Expected "+expectedDesc+" but "+foundDesc+" found."}(expected,found),expected,found,location)}function peg$parsestart(){var s0,s1,s2,s3;if(s0=peg$currPos,s1=peg$parsespace(),s1===peg$FAILED&&(s1=null),s1!==peg$FAILED?(s2=peg$parseOrQuery(),s2!==peg$FAILED?(s3=peg$parsespace(),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c0(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED){for(s0=peg$currPos,s1=[],peg$c1.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c2));s2!==peg$FAILED;)s1.push(s2),peg$c1.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c2));s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c3(s1)),s0=s1}return s0}function peg$parseOrQuery(){var s0,s1,s2,s3,s4,s5;return s0=peg$currPos,s1=peg$parseAndQuery(),s1!==peg$FAILED?(s2=peg$parsespace(),s2!==peg$FAILED?(input.substr(peg$currPos,2).toLowerCase()===peg$c4?(s3=input.substr(peg$currPos,2),peg$currPos+=2):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c5)),s3!==peg$FAILED?(s4=peg$parsespace(),s4!==peg$FAILED?(s5=peg$parseOrQuery(),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c6(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseAndQuery()),s0}function peg$parseAndQuery(){var s0,s1,s2,s3,s4,s5;return s0=peg$currPos,s1=peg$parseNegatedClause(),s1!==peg$FAILED?(s2=peg$parsespace(),s2!==peg$FAILED?(input.substr(peg$currPos,3).toLowerCase()===peg$c7?(s3=input.substr(peg$currPos,3),peg$currPos+=3):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s3!==peg$FAILED?(s4=peg$parsespace(),s4!==peg$FAILED?(s5=peg$parseAndQuery(),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c9(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parseNegatedClause(),s1!==peg$FAILED?(s2=peg$parsespace(),s2!==peg$FAILED?(s3=peg$currPos,peg$silentFails++,input.substr(peg$currPos,2).toLowerCase()===peg$c4?(s4=input.substr(peg$currPos,2),peg$currPos+=2):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c5)),peg$silentFails--,s4===peg$FAILED?s3=void 0:(peg$currPos=s3,s3=peg$FAILED),s3!==peg$FAILED?(s4=peg$parseAndQuery(),s4!==peg$FAILED?(peg$savedPos=s0,s1=peg$c9(s1,s4),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseNegatedClause())),s0}function peg$parseNegatedClause(){var s0,s1,s2;return s0=peg$currPos,peg$c10.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c11)),s1!==peg$FAILED?(s2=peg$parseClause(),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c12(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseClause()),s0}function peg$parseClause(){var s0,s1,s2,s3;return s0=peg$currPos,40===input.charCodeAt(peg$currPos)?(s1=peg$c13,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c14)),s1!==peg$FAILED?(s2=peg$parsestart(),s2!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s3=peg$c15,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c17(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parseTerm()),s0}function peg$parseTerm(){var s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,s10;return s0=peg$currPos,s1=peg$parseliteral_arg_type(),s1!==peg$FAILED?(58===input.charCodeAt(peg$currPos)?(s2=peg$c18,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c19)),s2!==peg$FAILED?(s3=peg$parseliteral_arg_type(),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c20(s1,s3),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parseliteral_arg_type(),s1!==peg$FAILED?(input.substr(peg$currPos,2)===peg$c21?(s2=peg$c21,peg$currPos+=2):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c22)),s2!==peg$FAILED?(s3=peg$parsespace(),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(s4=peg$parseliteral_arg_type(),s4!==peg$FAILED?(s5=peg$parsespace(),s5!==peg$FAILED?(input.substr(peg$currPos,2).toLowerCase()===peg$c23?(s6=input.substr(peg$currPos,2),peg$currPos+=2):(s6=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c24)),s6!==peg$FAILED?(s7=peg$parsespace(),s7!==peg$FAILED?(s8=peg$parseliteral_arg_type(),s8!==peg$FAILED?(s9=peg$parsespace(),s9===peg$FAILED&&(s9=null),s9!==peg$FAILED?(93===input.charCodeAt(peg$currPos)?(s10=peg$c25,peg$currPos++):(s10=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c26)),s10!==peg$FAILED?(peg$savedPos=s0,s1=peg$c27(s1,s4,s8),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$parsefunction())===peg$FAILED&&(s0=peg$currPos,s1=peg$currPos,peg$silentFails++,s2=peg$parseKeywords(),peg$silentFails--,s2===peg$FAILED?s1=void 0:(peg$currPos=s1,s1=peg$FAILED),s1!==peg$FAILED?(s2=peg$parseliteral_arg_type(),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c28(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED))),s0}function peg$parsefunction_name(){var s0,s1,s2,s3;if(s0=peg$currPos,s1=[],peg$c29.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30)),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),peg$c29.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c30));else s1=peg$FAILED;if(s1!==peg$FAILED){for(s2=[],peg$c31.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32));s3!==peg$FAILED;)s2.push(s3),peg$c31.test(input.charAt(peg$currPos))?(s3=input.charAt(peg$currPos),peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c32));s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c33(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parsefunction(){var s0,s1,s2,s3,s4,s5,s6,s7;return peg$silentFails++,s0=peg$currPos,s1=peg$parsefunction_name(),s1!==peg$FAILED?(s2=peg$parsespace(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(40===input.charCodeAt(peg$currPos)?(s3=peg$c13,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c14)),s3!==peg$FAILED?(s4=peg$parsespace(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsearg_list(),s5===peg$FAILED&&(s5=null),s5!==peg$FAILED?(s6=peg$parsespace(),s6===peg$FAILED&&(s6=null),s6!==peg$FAILED?(41===input.charCodeAt(peg$currPos)?(s7=peg$c15,peg$currPos++):(s7=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c16)),s7!==peg$FAILED?(peg$savedPos=s0,s1=peg$c35(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c34)),s0}function peg$parsearg_list(){var s0,s1,s2,s3,s4,s5,s6,s7;if(s0=peg$currPos,(s1=peg$parseargument())!==peg$FAILED){for(s2=[],s3=peg$currPos,s4=peg$parsespace(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(44===input.charCodeAt(peg$currPos)?(s5=peg$c36,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c37)),s5!==peg$FAILED?(s6=peg$parsespace(),s6===peg$FAILED&&(s6=null),s6!==peg$FAILED?(s7=peg$parseargument(),s7!==peg$FAILED?(peg$savedPos=s3,s4=peg$c38(s1,s7),s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s3!==peg$FAILED;)s2.push(s3),s3=peg$currPos,s4=peg$parsespace(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(44===input.charCodeAt(peg$currPos)?(s5=peg$c36,peg$currPos++):(s5=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c37)),s5!==peg$FAILED?(s6=peg$parsespace(),s6===peg$FAILED&&(s6=null),s6!==peg$FAILED?(s7=peg$parseargument(),s7!==peg$FAILED?(peg$savedPos=s3,s4=peg$c38(s1,s7),s3=s4):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED)):(peg$currPos=s3,s3=peg$FAILED);s2!==peg$FAILED?(s3=peg$parsespace(),s3===peg$FAILED&&(s3=null),s3!==peg$FAILED?(44===input.charCodeAt(peg$currPos)?(s4=peg$c36,peg$currPos++):(s4=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c37)),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(peg$savedPos=s0,s1=peg$c39(s1,s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;return s0}function peg$parseargument(){var s0,s1,s2,s3,s4,s5;return s0=peg$currPos,s1=peg$parsefunction_name(),s1!==peg$FAILED?(s2=peg$parsespace(),s2===peg$FAILED&&(s2=null),s2!==peg$FAILED?(61===input.charCodeAt(peg$currPos)?(s3=peg$c40,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c41)),s3!==peg$FAILED?(s4=peg$parsespace(),s4===peg$FAILED&&(s4=null),s4!==peg$FAILED?(s5=peg$parsearg_type(),s5!==peg$FAILED?(peg$savedPos=s0,s1=peg$c42(s1,s5),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(s0=peg$currPos,s1=peg$parsearg_type(),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c43(s1)),s0=s1),s0}function peg$parsearg_type(){var s0;return s0=peg$parseOrQuery(),s0===peg$FAILED&&(s0=peg$parseliteral_arg_type()),s0}function peg$parseliteral_arg_type(){var s0,s1;return s0=peg$currPos,s1=peg$parseliteral(),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c44(s1)),s0=s1}function peg$parseKeywords(){var s0;return input.substr(peg$currPos,3).toLowerCase()===peg$c7?(s0=input.substr(peg$currPos,3),peg$currPos+=3):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c8)),s0===peg$FAILED&&(input.substr(peg$currPos,2).toLowerCase()===peg$c4?(s0=input.substr(peg$currPos,2),peg$currPos+=2):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c5))),s0}function peg$parseliteral(){var s0,s1,s2,s3;if(peg$silentFails++,s0=peg$currPos,34===input.charCodeAt(peg$currPos)?(s1=peg$c46,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s1!==peg$FAILED){for(s2=[],s3=peg$parsedq_char();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsedq_char();s2!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s3=peg$c46,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c48(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED){if(s0=peg$currPos,39===input.charCodeAt(peg$currPos)?(s1=peg$c49,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50)),s1!==peg$FAILED){for(s2=[],s3=peg$parsesq_char();s3!==peg$FAILED;)s2.push(s3),s3=peg$parsesq_char();s2!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s3=peg$c49,peg$currPos++):(s3=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50)),s3!==peg$FAILED?(peg$savedPos=s0,s1=peg$c48(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED)}else peg$currPos=s0,s0=peg$FAILED;if(s0===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,4)===peg$c51?(s1=peg$c51,peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c52)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c53()),(s0=s1)===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,5)===peg$c54?(s1=peg$c54,peg$currPos+=5):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c55)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c56()),(s0=s1)===peg$FAILED&&(s0=peg$currPos,input.substr(peg$currPos,4)===peg$c57?(s1=peg$c57,peg$currPos+=4):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c58)),s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c59()),(s0=s1)===peg$FAILED)))){if(s0=peg$currPos,s1=[],peg$c60.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61)),s2!==peg$FAILED)for(;s2!==peg$FAILED;)s1.push(s2),peg$c60.test(input.charAt(peg$currPos))?(s2=input.charAt(peg$currPos),peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c61));else s1=peg$FAILED;s1!==peg$FAILED&&(peg$savedPos=s0,s1=peg$c62(s1)),s0=s1}}return peg$silentFails--,s0===peg$FAILED&&(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c45)),s0}function peg$parsespace(){var s0,s1;if(s0=[],peg$c1.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c2)),s1!==peg$FAILED)for(;s1!==peg$FAILED;)s0.push(s1),peg$c1.test(input.charAt(peg$currPos))?(s1=input.charAt(peg$currPos),peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c2));else s0=peg$FAILED;return s0}function peg$parsedq_char(){var s0,s1,s2;return s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c63,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64)),s1!==peg$FAILED?(34===input.charCodeAt(peg$currPos)?(s2=peg$c46,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c47)),s2===peg$FAILED&&(92===input.charCodeAt(peg$currPos)?(s2=peg$c63,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64))),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c65(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(peg$c66.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c67))),s0}function peg$parsesq_char(){var s0,s1,s2;return s0=peg$currPos,92===input.charCodeAt(peg$currPos)?(s1=peg$c63,peg$currPos++):(s1=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64)),s1!==peg$FAILED?(39===input.charCodeAt(peg$currPos)?(s2=peg$c49,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c50)),s2===peg$FAILED&&(92===input.charCodeAt(peg$currPos)?(s2=peg$c63,peg$currPos++):(s2=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c64))),s2!==peg$FAILED?(peg$savedPos=s0,s1=peg$c65(s2),s0=s1):(peg$currPos=s0,s0=peg$FAILED)):(peg$currPos=s0,s0=peg$FAILED),s0===peg$FAILED&&(peg$c68.test(input.charAt(peg$currPos))?(s0=input.charAt(peg$currPos),peg$currPos++):(s0=peg$FAILED,0===peg$silentFails&&peg$fail(peg$c69))),s0}function addMeta(source,text,location){return options.includeMetadata?Object.assign({},source,{text:text,location:simpleLocation(location)}):source}function simpleLocation(location){return{min:location.start.offset,max:location.end.offset}}var peg$result,options=arguments.length>1?arguments[1]:{},peg$FAILED={},peg$startRuleFunctions={start:peg$parsestart},peg$startRuleFunction=peg$parsestart,peg$c0=function(query){return"literal"===query.type?addMeta(nodeTypes.function.buildNode("and",[query]),text(),location()):query},peg$c1=/^[ \t\r\n]/,peg$c2={type:"class",value:"[\\ \\t\\r\\n]",description:"[\\ \\t\\r\\n]"},peg$c3=function(whitespace){return addMeta(nodeTypes.function.buildNode("is","*","*",!1),text(),location())},peg$c4="or",peg$c5={type:"literal",value:"or",description:'"or"'},peg$c6=function(left,right){return addMeta(nodeTypes.function.buildNode("or",[left,right]),text(),location())},peg$c7="and",peg$c8={type:"literal",value:"and",description:'"and"'},peg$c9=function(left,right){return addMeta(nodeTypes.function.buildNode("and",[left,right]),text(),location())},peg$c10=/^[!]/,peg$c11={type:"class",value:"[!]",description:"[!]"},peg$c12=function(clause){return addMeta(nodeTypes.function.buildNode("not",clause),text(),location())},peg$c13="(",peg$c14={type:"literal",value:"(",description:'"("'},peg$c15=")",peg$c16={type:"literal",value:")",description:'")"'},peg$c17=function(subQuery){return subQuery},peg$c18=":",peg$c19={type:"literal",value:":",description:'":"'},peg$c20=function(field,value){return addMeta(nodeTypes.function.buildNodeWithArgumentNodes("is",[field,value,nodeTypes.literal.buildNode(!0)]),text(),location())},peg$c21=":[",peg$c22={type:"literal",value:":[",description:'":["'},peg$c23="to",peg$c24={type:"literal",value:"to",description:'"to"'},peg$c25="]",peg$c26={type:"literal",value:"]",description:'"]"'},peg$c27=function(field,gt,lt){return addMeta(nodeTypes.function.buildNodeWithArgumentNodes("range",[field,gt,lt]),text(),location())},peg$c28=function(literal){return literal},peg$c29=/^[a-zA-Z]/,peg$c30={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},peg$c31=/^[.a-zA-Z0-9_\-]/,peg$c32={type:"class",value:"[.a-zA-Z0-9_-]",description:"[.a-zA-Z0-9_-]"},peg$c33=function(first,rest){return first.join("")+rest.join("")},peg$c34={type:"other",description:"function"},peg$c35=function(name,arg_list){return addMeta(nodeTypes.function.buildNodeWithArgumentNodes(name,arg_list||[]),text(),location())},peg$c36=",",peg$c37={type:"literal",value:",",description:'","'},peg$c38=function(first,arg){return arg},peg$c39=function(first,rest){return[first].concat(rest)},peg$c40="=",peg$c41={type:"literal",value:"=",description:'"="'},peg$c42=function(name,value){return addMeta(nodeTypes.namedArg.buildNode(name,value),text(),location())},peg$c43=function(element){return element},peg$c44=function(literal){return addMeta(nodeTypes.literal.buildNode(literal),text(),location())},peg$c45={type:"other",description:"literal"},peg$c46='"',peg$c47={type:"literal",value:'"',description:'"\\""'},peg$c48=function(chars){return chars.join("")},peg$c49="'",peg$c50={type:"literal",value:"'",description:'"\'"'},peg$c51="true",peg$c52={type:"literal",value:"true",description:'"true"'},peg$c53=function(){return!0},peg$c54="false",peg$c55={type:"literal",value:"false",description:'"false"'},peg$c56=function(){return!1},peg$c57="null",peg$c58={type:"literal",value:"null",description:'"null"'},peg$c59=function(){return null},peg$c60=/^[^[\]()"',:= \t]/,peg$c61={type:"class",value:"[^\\[\\]()\"',:=\\ \\t]",description:"[^\\[\\]()\"',:=\\ \\t]"},peg$c62=function(string){var result=string.join("");return isNaN(Number(result))?result:Number(result)},peg$c63="\\",peg$c64={type:"literal",value:"\\",description:'"\\\\"'},peg$c65=function(sequence){return sequence},peg$c66=/^[^"]/,peg$c67={type:"class",value:'[^"]',description:'[^"]'},peg$c68=/^[^']/,peg$c69={type:"class",value:"[^']",description:"[^']"},peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1,seenCR:!1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions))throw new Error("Can't start parsing from rule \""+options.startRule+'".');peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}var nodeTypes=options.helpers.nodeTypes;if(void 0===options.includeMetadata&&(options.includeMetadata=!0),(peg$result=peg$startRuleFunction())!==peg$FAILED&&peg$currPos===input.length)return peg$result;throw peg$result!==peg$FAILED&&peg$currPos<input.length&&peg$fail({type:"end",description:"end of input"}),peg$buildException(null,peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}return function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype,child.prototype=new ctor}(peg$SyntaxError,Error),{SyntaxError:peg$SyntaxError,parse:peg$parse}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _filter_to_kuery=__webpack_require__(2580);Object.defineProperty(exports,"filterToKueryAST",{enumerable:!0,get:function(){return _filter_to_kuery.filterToKueryAST}})},function(module,exports,__webpack_require__){"use strict";function filterToKueryAST(filter){var negate=filter.meta.negate,node=conversionChain.reduce(function(acc,converter){if(null!==acc)return acc;try{return converter(filter)}catch(ex){return null}},null);if(!node)throw new Error("Couldn't convert that filter to a kuery");return negate?_node_types.nodeTypes.function.buildNode("not",node):node}Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterToKueryAST=filterToKueryAST;var _node_types=__webpack_require__(114),_phrase=__webpack_require__(2581),_range=__webpack_require__(2582),_exists=__webpack_require__(2583),_geo_bounding_box=__webpack_require__(2584),_geo_polygon=__webpack_require__(2585),conversionChain=[_phrase.convertPhraseFilter,_range.convertRangeFilter,_exists.convertExistsFilter,_geo_bounding_box.convertGeoBoundingBox,_geo_polygon.convertGeoPolygon]},function(module,exports,__webpack_require__){"use strict";function convertPhraseFilter(filter){if("phrase"!==filter.meta.type)throw new Error('Expected filter of type "phrase", got "'+filter.meta.type+'"');var _filter$meta=filter.meta,key=_filter$meta.key,params=_filter$meta.params;return _node_types.nodeTypes.function.buildNode("is",key,params.query)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertPhraseFilter=convertPhraseFilter;var _node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";function convertRangeFilter(filter){if("range"!==filter.meta.type)throw new Error('Expected filter of type "range", got "'+filter.meta.type+'"');var _filter$meta=filter.meta,key=_filter$meta.key,params=_filter$meta.params;return _node_types.nodeTypes.function.buildNode("range",key,params)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertRangeFilter=convertRangeFilter;var _node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";function convertExistsFilter(filter){if("exists"!==filter.meta.type)throw new Error('Expected filter of type "exists", got "'+filter.meta.type+'"');var key=filter.meta.key;return _node_types.nodeTypes.function.buildNode("exists",key)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertExistsFilter=convertExistsFilter;var _node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";function convertGeoBoundingBox(filter){if("geo_bounding_box"!==filter.meta.type)throw new Error('Expected filter of type "geo_bounding_box", got "'+filter.meta.type+'"');var _filter$meta=filter.meta,key=_filter$meta.key,params=_filter$meta.params,camelParams=_lodash2.default.mapKeys(params,function(value,key){return _lodash2.default.camelCase(key)});return _node_types.nodeTypes.function.buildNode("geoBoundingBox",key,camelParams)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertGeoBoundingBox=convertGeoBoundingBox;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";function convertGeoPolygon(filter){if("geo_polygon"!==filter.meta.type)throw new Error('Expected filter of type "geo_polygon", got "'+filter.meta.type+'"');var _filter$meta=filter.meta,key=_filter$meta.key,points=_filter$meta.params.points;return _node_types.nodeTypes.function.buildNode("geoPolygon",key,points)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertGeoPolygon=convertGeoPolygon;var _node_types=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";function getSuggestionsProvider(_ref){var $http=_ref.$http,config=_ref.config,indexPatterns=_ref.indexPatterns,getSuggestionsByType=(0,_lodash.mapValues)({field:_field.getSuggestionsProvider,value:_value.getSuggestionsProvider,operator:_operator.getSuggestionsProvider,conjunction:_conjunction.getSuggestionsProvider},function(provider){return provider({$http:$http,config:config,indexPatterns:indexPatterns})});return function(_ref2){var query=_ref2.query,selectionStart=_ref2.selectionStart,selectionEnd=_ref2.selectionEnd,cursoredQuery=""+query.substr(0,selectionStart)+cursorSymbol+query.substr(selectionEnd),cursorNode=void 0;try{cursorNode=(0,_ast.fromKueryExpression)(cursoredQuery,{cursorSymbol:cursorSymbol,parseCursor:!0})}catch(e){cursorNode={}}var _cursorNode=cursorNode,_cursorNode$suggestio=_cursorNode.suggestionTypes,suggestionTypes=void 0===_cursorNode$suggestio?[]:_cursorNode$suggestio,suggestionsByType=suggestionTypes.map(function(type){return getSuggestionsByType[type](cursorNode)});return Promise.all(suggestionsByType).then(function(suggestionsByType){return dedup((0,_lodash.flatten)(suggestionsByType))})}}function dedup(suggestions){return(0,_lodash.uniq)(suggestions,function(_ref3){return[_ref3.type,_ref3.text,_ref3.start,_ref3.end].join("|")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestionsProvider=getSuggestionsProvider;var _lodash=__webpack_require__(1),_ast=__webpack_require__(163),_field=__webpack_require__(2587),_value=__webpack_require__(2588),_operator=__webpack_require__(2589),_conjunction=__webpack_require__(2590),cursorSymbol="@kuery-cursor@"},function(module,exports,__webpack_require__){"use strict";function getDescription(fieldName){return'<p>Filter results that contain <span class="suggestionItem__callout">'+(0,_lodash.escape)(fieldName)+"</span></p>"}function getSuggestionsProvider(_ref){var indexPatterns=_ref.indexPatterns,allFields=(0,_lodash.flatten)(indexPatterns.map(function(indexPattern){return indexPattern.fields.raw}));return function(_ref2){var start=_ref2.start,end=_ref2.end,prefix=_ref2.prefix,suffix=_ref2.suffix,search=(""+prefix+suffix).toLowerCase(),filterableFields=allFields.filter(function(field){return field.filterable}),fieldNames=filterableFields.map(function(field){return field.name}),matchingFieldNames=fieldNames.filter(function(name){return name.toLowerCase().includes(search)});return(0,_sort_prefix_first.sortPrefixFirst)(matchingFieldNames.sort(keywordComparator),search).map(function(fieldName){var text=(0,_escape_kuery.escapeKuery)(fieldName)+" ",description=getDescription(fieldName);return{type:type,text:text,description:description,start:start,end:end}})}}function keywordComparator(first,second){var extensions=["raw","keyword"];return extensions.map(function(ext){return first+"."+ext}).includes(second)?1:extensions.map(function(ext){return second+"."+ext}).includes(first)?-1:first.localeCompare(second)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestionsProvider=getSuggestionsProvider;var _lodash=__webpack_require__(1),_escape_kuery=__webpack_require__(1057),_sort_prefix_first=__webpack_require__(1058),type="field"},function(module,exports,__webpack_require__){"use strict";function getSuggestionsProvider(_ref){var $http=_ref.$http,config=_ref.config,indexPatterns=_ref.indexPatterns,allFields=(0,_lodash.flatten)(indexPatterns.map(function(indexPattern){return indexPattern.fields.raw})),requestSuggestions=(0,_lodash.memoize)(function(query,field){var queryParams={query:query,field:field.name};return $http.post(baseUrl+"/"+field.indexPattern.title,queryParams)},resolver),shouldSuggestValues=config.get("filterEditor:suggestValues");return function(_ref2){var start=_ref2.start,end=_ref2.end,prefix=_ref2.prefix,suffix=_ref2.suffix,fieldName=_ref2.fieldName,fields=allFields.filter(function(field){return field.name===fieldName}),query=""+prefix+suffix,suggestionsByField=fields.map(function(field){return"boolean"===field.type?wrapAsSuggestions(start,end,query,["true","false"]):shouldSuggestValues&&field.aggregatable&&"string"===field.type?requestSuggestions(query,field).then(function(_ref3){var data=_ref3.data,quotedValues=data.map(function(value){return'"'+(0,_escape_kuery.escapeQuotes)(value)+'"'});return wrapAsSuggestions(start,end,query,quotedValues)}):[]});return Promise.all(suggestionsByField).then(function(suggestions){return(0,_lodash.flatten)(suggestions)})}}function wrapAsSuggestions(start,end,query,values){return values.filter(function(value){return value.toLowerCase().includes(query.toLowerCase())}).map(function(value){return{type:type,text:value+" ",start:start,end:end}})}function resolver(query,field){return[Math.floor(Date.now()/1e3/60),query,field.indexPattern.title,field.name].join("|")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestionsProvider=getSuggestionsProvider;var _lodash=__webpack_require__(1),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_escape_kuery=__webpack_require__(1057),baseUrl=_chrome2.default.addBasePath("/api/kibana/suggestions/values"),type="value"},function(module,exports,__webpack_require__){"use strict";function getDescription(operator){return"<p>"+operators[operator].description+"</p>"}function getSuggestionsProvider(_ref){var indexPatterns=_ref.indexPatterns,allFields=(0,_lodash.flatten)(indexPatterns.map(function(indexPattern){return indexPattern.fields.raw}));return function(_ref2){var end=_ref2.end,fieldName=_ref2.fieldName,fields=allFields.filter(function(field){return field.name===fieldName});return(0,_lodash.flatten)(fields.map(function(field){return Object.keys(operators).filter(function(operator){var fieldTypes=operators[operator].fieldTypes;return!fieldTypes||fieldTypes.includes(field.type)}).map(function(operator){var text=operator+" ",description=getDescription(operator);return{type:type,text:text,description:description,start:end,end:end}})}))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestionsProvider=getSuggestionsProvider;var _lodash=__webpack_require__(1),type="operator",operators={":":{description:'<span class="suggestionItem__callout">equals</span> some value',fieldTypes:["string","number","date","ip","geo_point","geo_shape","boolean"]},"<=":{description:'is <span class="suggestionItem__callout">less than or equal to</span> some value',fieldTypes:["number","date","ip"]},">=":{description:'is <span class="suggestionItem__callout">greater than or equal to</span> to some value',fieldTypes:["number","date","ip"]},"<":{description:'is <span class="suggestionItem__callout">less than</span> some value',fieldTypes:["number","date","ip"]},">":{description:'is <span class="suggestionItem__callout">greater than</span> some value',fieldTypes:["number","date","ip"]},":*":{description:'<span class="suggestionItem__callout">exists</span> in any form'}}},function(module,exports,__webpack_require__){"use strict";function getDescription(conjunction){return conjunctions[conjunction]}function getSuggestionsProvider(){return function(_ref){var text=_ref.text,end=_ref.end;return text.endsWith(" ")?Object.keys(conjunctions).map(function(conjunction){var text=conjunction+" ",description=getDescription(conjunction);return{type:type,text:text,description:description,start:end,end:end}}):[]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSuggestionsProvider=getSuggestionsProvider;var type="conjunction",conjunctions={and:'<p>Requires <span class="suggestionItem__callout">both arguments</span> to be true</p>',or:'<p>Requires <span class="suggestionItem__callout">one or more arguments</span> to be true</p>'}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocLink=void 0;var _lodash=__webpack_require__(1),_documentation_links=__webpack_require__(362);exports.getDocLink=function(id){return(0,_lodash.get)(_documentation_links.documentationLinks,id)}},function(module,exports,__webpack_require__){"use strict";function buildQueryFromLucene(queries,decorateQuery){return{must:[].concat(_lodash2.default.map(queries,function(query){var queryDsl=(0,_lucene_string_to_dsl.luceneStringToDsl)(query.query);return decorateQuery(queryDsl)})),filter:[],should:[],must_not:[]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildQueryFromLucene=buildQueryFromLucene;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_lucene_string_to_dsl=__webpack_require__(456)},function(module,exports,__webpack_require__){"use strict";function SearchLooperProvider(Private,Promise,$rootScope){var fetchSoon=Private(_fetch.FetchSoonProvider),Looper=Private(_looper.LooperProvider),searchLooper=new Looper(null,function(){$rootScope.$broadcast("courier:searchRefresh");var requests=_request_queue.requestQueue.getInactive();return fetchSoon.these(requests),Promise.all(requests.map(function(request){return request.getCompleteOrAbortedPromise()}))});return searchLooper.onHastyLoop=function(){searchLooper.afterHastyQueued||(searchLooper.afterHastyQueued=Promise.resolve(searchLooper.active).then(function(){return searchLooper._loopTheLoop()}).finally(function(){searchLooper.afterHastyQueued=null}))},searchLooper}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchLooperProvider=SearchLooperProvider;var _fetch=__webpack_require__(638),_request_queue=__webpack_require__(360),_looper=__webpack_require__(2594)},function(module,exports,__webpack_require__){"use strict";function LooperProvider($timeout,Promise){function Looper(ms,fn){this._fn=fn,this._ms=void 0===ms?1500:ms,this._timer=null,this._started=!1,this._loopTheLoop=_lodash2.default.bind(this._loopTheLoop,this)}return Looper.prototype.ms=function(ms){if(this._ms=_lodash2.default.parseInt(ms)||0,this._started)return this._ms?this.start(!1):this._unScheduleLoop(),this},Looper.prototype.pause=function(){return this._unScheduleLoop(),this},Looper.prototype.start=function(loopOver){return null==loopOver&&(loopOver=!0),this._started?this._unScheduleLoop():this._started=!0,loopOver?this._loopTheLoop():this._scheduleLoop(),this},Looper.prototype.stop=function(){return this._unScheduleLoop(),this._started=!1,this},Looper.prototype.restart=function(){return this.start(!1),this},Looper.prototype.started=function(){return!!this._started},Looper.prototype.loopInterval=function(){return this._ms},Looper.prototype.onHastyLoop=function(){},Looper.prototype._loopTheLoop=function(){var self=this;if(self.active)return void self.onHastyLoop();self.active=Promise.try(this._fn).then(function(){self._scheduleLoop()}).catch(function(err){self.stop(),(0,_notify.fatalError)(err)}).finally(function(){self.active=null})},Looper.prototype._scheduleLoop=function(){return this._unScheduleLoop(),this._timer=this._ms?$timeout(this._loopTheLoop,this._ms):null,this._timer},Looper.prototype._unScheduleLoop=function(){this._timer&&($timeout.cancel(this._timer),this._timer=null)},Looper.prototype.run=function(){this.start()},Looper}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LooperProvider=LooperProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(354);var _notify=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _saved_object=__webpack_require__(2596);Object.defineProperty(exports,"SavedObjectProvider",{enumerable:!0,get:function(){return _saved_object.SavedObjectProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isErrorNonFatal(error){return!!error&&(error.message===OVERWRITE_REJECTED||error.message===SAVE_DUPLICATE_REJECTED)}function SavedObjectProvider(Promise,Private,Notifier,confirmModalPromise,indexPatterns){function SavedObject(config){var _this=this;_lodash2.default.isObject(config)||(config={});var esType=config.type;this.getDisplayName=function(){return esType},this.getEsType=function(){return esType},this.isSaving=!1,this.defaults=config.defaults||{};var mapping=mappingSetup.expandShorthand(config.mapping),afterESResp=config.afterESResp||_lodash2.default.noop,customInit=config.init||_lodash2.default.noop;this.searchSource=config.searchSource?new SearchSource:void 0,this.id=config.id||void 0,this.copyOnSave=!1;var parseSearchSource=function(searchSourceJson){if(_this.searchSource){var state=void 0;try{state=JSON.parse(searchSourceJson)}catch(e){state={}}var oldState=_this.searchSource.toJSON(),fnProps=_lodash2.default.transform(oldState,function(dynamic,val,name){_lodash2.default.isFunction(val)&&(dynamic[name]=val)},{});_this.searchSource.set(_lodash2.default.defaults(state,fnProps)),_lodash2.default.isUndefined(_this.searchSource.getOwn("query"))||_this.searchSource.set("query",(0,_migrateLegacyQuery.migrateLegacyQuery)(_this.searchSource.getOwn("query")))}};this.hydrateIndexPattern=function(id){if(!_this.searchSource)return Promise.resolve(null);if(config.clearSavedIndexPattern)return _this.searchSource.set("index",void 0),Promise.resolve(null);var index=id||config.indexPattern||_this.searchSource.getOwn("index");return index?(index instanceof indexPatterns.IndexPattern||(index=indexPatterns.get(index)),Promise.resolve(index).then(function(indexPattern){_this.searchSource.set("index",indexPattern)})):Promise.resolve(null)},this.init=_lodash2.default.once(function(){if(!esType)throw new Error("You must define a type name to use SavedObject objects.");return Promise.resolve().then(function(){return _this.id?savedObjectsClient.get(esType,_this.id).then(function(resp){return{_id:resp.id,_type:resp.type,_source:_lodash2.default.cloneDeep(resp.attributes),found:!!resp._version}}).then(_this.applyESResp).catch(_this.applyEsResp):(_lodash2.default.assign(_this,_this.defaults),_this.hydrateIndexPattern().then(function(){return afterESResp.call(_this)}))}).then(function(){return customInit.call(_this)}).then(function(){return _this})}),this.applyESResp=function(resp){if(_this._source=_lodash2.default.cloneDeep(resp._source),null!=resp.found&&!resp.found)throw new _errors.SavedObjectNotFound(esType,_this.id);var meta=resp._source.kibanaSavedObjectMeta||{};return delete resp._source.kibanaSavedObjectMeta,!config.indexPattern&&_this._source.indexPattern&&(config.indexPattern=_this._source.indexPattern,delete _this._source.indexPattern),_lodash2.default.defaults(_this._source,_this.defaults),_lodash2.default.forOwn(mapping,function(fieldMapping,fieldName){fieldMapping._deserialize&&(_this._source[fieldName]=fieldMapping._deserialize(_this._source[fieldName],resp,fieldName,fieldMapping))}),_lodash2.default.assign(_this,_this._source),_this.lastSavedTitle=_this.title,Promise.try(function(){return parseSearchSource(meta.searchSourceJSON),_this.hydrateIndexPattern()}).then(function(){return Promise.cast(afterESResp.call(_this,resp))})},this.serialize=function(){var body={};return _lodash2.default.forOwn(mapping,function(fieldMapping,fieldName){null!=_this[fieldName]&&(body[fieldName]=fieldMapping._serialize?fieldMapping._serialize(_this[fieldName]):_this[fieldName])}),_this.searchSource&&(body.kibanaSavedObjectMeta={searchSourceJSON:_angular2.default.toJson(_lodash2.default.omit(_this.searchSource.toJSON(),["sort","size"]))}),body},this.isTitleChanged=function(){return _this._source&&_this._source.title!==_this.title};var createSource=function(source){return savedObjectsClient.create(esType,source,{id:_this.id}).catch(function(err){if(409===_lodash2.default.get(err,"statusCode")){var confirmMessage="Are you sure you want to overwrite "+_this.title+"?";return confirmModalPromise(confirmMessage,{confirmButtonText:"Overwrite "+_this.getDisplayName()}).then(function(){return savedObjectsClient.create(esType,source,{id:_this.id,overwrite:!0})}).catch(function(){return Promise.reject(new Error(OVERWRITE_REJECTED))})}return Promise.reject(err)})},warnIfDuplicateTitle=function(){return _this.title!==_this.lastSavedTitle||_this.copyOnSave?(0,_saved_objects.findObjectByTitle)(savedObjectsClient,_this.getEsType(),_this.title).then(function(duplicate){if(!duplicate)return!0;if(duplicate.id===_this.id)return!0;var confirmMessage="A "+_this.getDisplayName()+" with the title '"+_this.title+"' already exists. Would you like to save anyway?";return confirmModalPromise(confirmMessage,{confirmButtonText:"Save "+_this.getDisplayName()}).catch(function(){return Promise.reject(new Error(SAVE_DUPLICATE_REJECTED))})}):Promise.resolve()};this.save=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},confirmOverwrite=_ref.confirmOverwrite,originalId=_this.id;_this.copyOnSave&&(_this.id=null);var source=_this.serialize();return _this.isSaving=!0,warnIfDuplicateTitle().then(function(){return confirmOverwrite?createSource(source):savedObjectsClient.create(esType,source,{id:_this.id,overwrite:!0})}).then(function(resp){_this.id=resp.id}).then(function(){return _this.showInRecenltyAccessed&&_this.getFullPath&&_persisted_log.recentlyAccessed.add(_this.getFullPath(),_this.title,_this.id),_this.isSaving=!1,_this.lastSavedTitle=_this.title,_this.id}).catch(function(err){if(_this.isSaving=!1,_this.id=originalId,!isErrorNonFatal(err))return Promise.reject(err)})},this.destroy=function(){_this.searchSource&&_this.searchSource.cancelQueued()},this.delete=function(){return savedObjectsClient.delete(esType,_this.id)}}var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),SearchSource=Private(_search_source.SearchSourceProvider),mappingSetup=Private(_mapping_setup2.default);return SavedObject}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SavedObjectProvider=SavedObjectProvider;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_errors=__webpack_require__(56),_mapping_setup=__webpack_require__(1037),_mapping_setup2=_interopRequireDefault(_mapping_setup),_search_source=__webpack_require__(252),_saved_objects=__webpack_require__(67),_migrateLegacyQuery=__webpack_require__(457),_persisted_log=__webpack_require__(130),OVERWRITE_REJECTED="Overwrite confirmation was rejected",SAVE_DUPLICATE_REJECTED="Save with duplicate title confirmation was rejected"},function(module,exports,__webpack_require__){"use strict";function RedirectWhenMissingProvider($location,kbnUrl,Notifier,Promise){var notify=new Notifier;return function(mapping){return"string"==typeof mapping&&(mapping={"*":mapping}),function(err){var savedObjectNotFound=err instanceof _errors.SavedObjectNotFound;if(0===err.message.indexOf("Invalid type"))err.savedObjectType="visualization";else if(!savedObjectNotFound)throw err;var url=mapping[err.savedObjectType]||mapping["*"];return url||(url="/"),url+=(url.indexOf("?")>=0?"&":"?")+"notFound="+err.savedObjectType,notify.warning(err),kbnUrl.redirect(url),Promise.halt()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectWhenMissingProvider=RedirectWhenMissingProvider;var _errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(2599),__webpack_require__(2600),__webpack_require__(2601),__webpack_require__(2602),__webpack_require__(2603),__webpack_require__(2604),__webpack_require__(2605),__webpack_require__(2606),__webpack_require__(2607),__webpack_require__(2608),__webpack_require__(2609),__webpack_require__(2610),__webpack_require__(2611),__webpack_require__(2612),__webpack_require__(2613),__webpack_require__(2614),__webpack_require__(2615),__webpack_require__(2616),__webpack_require__(2617);var _alert=__webpack_require__(2618),_alert2=_interopRequireDefault(_alert),_datepicker=__webpack_require__(2619),_datepicker2=_interopRequireDefault(_datepicker),_day=__webpack_require__(2620),_day2=_interopRequireDefault(_day),_month=__webpack_require__(2621),_month2=_interopRequireDefault(_month),_popup=__webpack_require__(2622),_popup2=_interopRequireDefault(_popup),_year=__webpack_require__(2623),_year2=_interopRequireDefault(_year),_backdrop=__webpack_require__(2624),_backdrop2=_interopRequireDefault(_backdrop),_window=__webpack_require__(2625),_window2=_interopRequireDefault(_window),_pager=__webpack_require__(2626),_pager2=_interopRequireDefault(_pager),_pagination=__webpack_require__(2627),_pagination2=_interopRequireDefault(_pagination),_tooltipHtmlUnsafePopup=__webpack_require__(2628),_tooltipHtmlUnsafePopup2=_interopRequireDefault(_tooltipHtmlUnsafePopup),_tooltipPopup=__webpack_require__(2629),_tooltipPopup2=_interopRequireDefault(_tooltipPopup),_popover=__webpack_require__(2630),_popover2=_interopRequireDefault(_popover),_bar=__webpack_require__(2631),_bar2=_interopRequireDefault(_bar),_progress=__webpack_require__(2632),_progress2=_interopRequireDefault(_progress),_progressbar=__webpack_require__(2633),_progressbar2=_interopRequireDefault(_progressbar),_rating=__webpack_require__(2634),_rating2=_interopRequireDefault(_rating),_tab=__webpack_require__(2635),_tab2=_interopRequireDefault(_tab),_tabset=__webpack_require__(2636),_tabset2=_interopRequireDefault(_tabset),_timepicker=__webpack_require__(2637),_timepicker2=_interopRequireDefault(_timepicker),_typeaheadMatch=__webpack_require__(2638),_typeaheadMatch2=_interopRequireDefault(_typeaheadMatch),_typeaheadPopup=__webpack_require__(2639),_typeaheadPopup2=_interopRequireDefault(_typeaheadPopup);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html",_alert2.default)}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",_datepicker2.default)}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html",_day2.default)}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html",_month2.default)}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html",_popup2.default)}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html",_year2.default)}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",_backdrop2.default)}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",_window2.default)}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",_pager2.default)}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",_pagination2.default)}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",_tooltipHtmlUnsafePopup2.default)}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",_tooltipPopup2.default)}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",_popover2.default)}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",_bar2.default)}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",_progress2.default)}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",_progressbar2.default)}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",_rating2.default)}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",_tab2.default)}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",_tabset2.default)}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",_timepicker2.default)}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",_typeaheadMatch2.default)}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html",_typeaheadPopup2.default)}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){(angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers)&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(index,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable="close"in $attrs,this.close=$scope.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function($timeout){return{require:"alert",link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){return{link:function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);return currentTransition&&currentTransition.cancel(),currentTransition=newTransition,newTransition.then(newTransitionDone,newTransitionDone),newTransition}function expand(){initialAnimSkip?(initialAnimSkip=!1,expandDone()):(element.removeClass("collapse").addClass("collapsing"),doTransition({height:element[0].scrollHeight+"px"}).then(expandDone))}function expandDone(){element.removeClass("collapsing"),element.addClass("collapse in"),element.css({height:"auto"})}function collapse(){if(initialAnimSkip)initialAnimSkip=!1,collapseDone(),element.css({height:0});else{element.css({height:element[0].scrollHeight+"px"});element[0].offsetWidth;element.removeClass("collapse in").addClass("collapsing"),doTransition({height:0}).then(collapseDone)}}function collapseDone(){element.removeClass("collapsing"),element.addClass("collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function($locale,orderByFilter){function createParser(format){var map=[],regex=format.split("");return angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+code.length;i<n;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,apply:data.apply})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return 1===month&&date>28?29===date&&(year%4==0&&year%100!=0||year%400==0):3!==month&&5!==month&&8!==month&&10!==month||date<31}this.parsers={};var formatCodeToRegex={yyyy:{regex:"\\d{4}",apply:function(value){this.year=+value}},yy:{regex:"\\d{2}",apply:function(value){this.year=+value+2e3}},y:{regex:"\\d{1,4}",apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1}},M:{regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(input,format){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,this.parsers[format]||(this.parsers[format]=createParser(format));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){for(var dt,fields={year:1900,month:0,date:1,hours:0},i=1,n=results.length;i<n;i++){var mapper=map[i-1];mapper.apply&&mapper.apply.call(fields,results[i])}return isValid(fields.year,fields.month,fields.date)&&(dt=new Date(fields.year,fields.month,fields.date,fields.hours)),dt}}}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function($scope,$attrs,$parse,$interpolate,$timeout,$log,dateFilter,datepickerConfig){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(key,index){self[key]=angular.isDefined($attrs[key])?index<8?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key]):datepickerConfig[key]}),angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=value?new Date(value):null,self.refreshView()}):self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode,$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined($attrs.initDate)?$scope.$parent.$eval($attrs.initDate):new Date,$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)&&($scope.activeDateId=dateObject.uid,!0)},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$modelValue){var date=new Date(ngModelCtrl.$modelValue),isValid=!isNaN(date);isValid?this.activeDate=date:$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),ngModelCtrl.$setValidity("date",isValid)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;ngModelCtrl.$setValidity("date-disabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;return{date:date,label:dateFilter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),current:0===this.compare(date,new Date)}},this.isDisabled=function(date){return this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1],focusElement()},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&-1===direction||($scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction],focusElement())},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){$timeout(function(){self.element[0].focus()},0,!1)};$scope.$on("datepicker.focus",focusElement)}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&datepickerCtrl.init(ngModelCtrl)}}}).directive("daypicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getDaysInMonth(year,month){return 1!==month||year%4!=0||year%100==0&&year%400!=0?DAYS_IN_MONTH[month]:29}function getDates(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0;for(current.setHours(12);i<n;)dates[i++]=new Date(current),current.setDate(current.getDate()+1);return dates}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}scope.showWeeks=ctrl.showWeeks,ctrl.step={months:1},ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(1-numDisplayedFromPreviousMonth);for(var days=getDates(firstDate,42),i=0;i<42;i++)days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;j<7;j++)scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle),scope.rows=ctrl.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var weekNumber=getISO8601WeekNumber(scope.rows[0][0].date),numWeeks=scope.rows.length;scope.weekNumbers.push(weekNumber++)<numWeeks;);}},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=ctrl.activeDate.getMonth()+("pageup"===key?-1:1);ctrl.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()));ctrl.activeDate.setDate(date)},ctrl.refreshView()}}}]).directive("monthpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){ctrl.step={years:1},ctrl.element=element,ctrl._refreshView=function(){for(var months=new Array(12),year=ctrl.activeDate.getFullYear(),i=0;i<12;i++)months[i]=angular.extend(ctrl.createDateObject(new Date(year,i,1),ctrl.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle),scope.rows=ctrl.split(months,3)},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=ctrl.activeDate.getFullYear()+("pageup"===key?-1:1);ctrl.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);ctrl.activeDate.setMonth(date)},ctrl.refreshView()}}}]).directive("yearpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var range=ctrl.yearRange;ctrl.step={years:range},ctrl.element=element,ctrl._refreshView=function(){for(var years=new Array(range),i=0,start=getStartingYear(ctrl.activeDate.getFullYear());i<range;i++)years[i]=angular.extend(ctrl.createDateObject(new Date(start+i,0,1),ctrl.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=ctrl.split(years,5),scope.yearRange=ctrl.yearRange},ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=5:"right"===key?date+=1:"down"===key?date+=5:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*ctrl.step.years:"home"===key?date=getStartingYear(ctrl.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(ctrl.activeDate.getFullYear())+range-1),ctrl.activeDate.setFullYear(date)},ctrl.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function($compile,$parse,$document,$position,dateFilter,dateParser,datepickerPopupConfig){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(scope,element,attrs,ngModel){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDate(viewValue){if(viewValue){if(angular.isDate(viewValue)&&!isNaN(viewValue))return ngModel.$setValidity("date",!0),viewValue;if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat)||new Date(viewValue);return isNaN(date)?void ngModel.$setValidity("date",!1):(ngModel.$setValidity("date",!0),date)}return void ngModel.$setValidity("date",!1)}return ngModel.$setValidity("date",!0),null}var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,scope.getText=function(key){return scope[key+"Text"]||datepickerPopupConfig[key+"Text"]},attrs.$observe("datepickerPopup",function(value){dateFormat=value||datepickerPopupConfig.datepickerPopup,ngModel.$render()});var popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection()"});var datepickerEl=angular.element(popupEl.children()[0]);attrs.datepickerOptions&&angular.forEach(scope.$parent.$eval(attrs.datepickerOptions),function(value,option){datepickerEl.attr(cameltoDash(option),value)}),scope.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);if(scope.$parent.$watch(getAttribute,function(value){scope.watchData[key]=value}),datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;scope.$watch("watchData."+key,function(value,oldvalue){value!==oldvalue&&setAttribute(scope.$parent,value)})}}}),attrs.dateDisabled&&datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),ngModel.$parsers.unshift(parseDate),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt),ngModel.$setViewValue(scope.date),ngModel.$render(),closeOnDateSelection&&(scope.isOpen=!1,element[0].focus())},element.bind("input change keyup",function(){scope.$apply(function(){scope.date=ngModel.$modelValue})}),ngModel.$render=function(){var date=ngModel.$viewValue?dateFilter(ngModel.$viewValue,dateFormat):"";element.val(date),scope.date=parseDate(ngModel.$modelValue)};var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){scope.isOpen=!1})},keydown=function(evt,noApply){scope.keydown(evt)};element.bind("keydown",keydown),scope.keydown=function(evt){27===evt.which?(evt.preventDefault(),evt.stopPropagation(),scope.close()):40!==evt.which||scope.isOpen||(scope.isOpen=!0)},scope.$watch("isOpen",function(value){value?(scope.$broadcast("datepicker.focus"),scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),$document.bind("click",documentClickBind)):$document.unbind("click",documentClickBind)}),scope.select=function(date){if("today"===date){var today=new Date;angular.isDate(ngModel.$modelValue)?(date=new Date(ngModel.$modelValue),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}scope.dateSelection(date)},scope.close=function(){scope.isOpen=!1,element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove(),appendToBody?$document.find("body").append($popup):element.after($popup),scope.$on("$destroy",function(){$popup.remove(),element.unbind("keydown",keydown),$document.unbind("click",documentClickBind)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(scope,element,attrs){element.bind("click",function(event){event.preventDefault(),event.stopPropagation()})}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function($document){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",escapeKeyBind)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",escapeKeyBind))};var closeDropdown=function(evt){if(openScope){var toggleElement=openScope.getToggleElement();evt&&toggleElement&&toggleElement[0].contains(evt.target)||openScope.$apply(function(){openScope.isOpen=!1})}},escapeKeyBind=function(evt){27===evt.which&&(openScope.focusToggleElement(),closeDropdown())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate){var getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){$animate[isOpen?"addClass":"removeClass"](self.$element,openClass),isOpen?(scope.focusToggleElement(),dropdownService.open(scope)):dropdownService.close(scope),setIsOpen($scope,isOpen),angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),$scope.$on("$locationChangeSuccess",function(){scope.isOpen=!1}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$timeout",function($timeout){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(scope,element,attrs){scope.backdropClass=attrs.backdropClass||"",scope.animate=!1,$timeout(function(){scope.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function($modalStack,$timeout){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),scope.size=attrs.size,$timeout(function(){scope.animate=!0,element[0].querySelectorAll("[autofocus]").length||element[0].focus()}),scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty(),$element.append(clone)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function($transition,$timeout,$document,$compile,$rootScope,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,300,function(){modalWindow.modalScope.$destroy(),body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0),checkRemoveBackdrop()})}function checkRemoveBackdrop(){if(backdropDomEl&&-1==backdropIndex()){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,150,function(){backdropScopeRef.$destroy(),backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,emulateTime,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),done&&done())}scope.animate=!1;var transitionEndEventName=$transition.transitionEndEventName;if(transitionEndEventName){var timeout=$timeout(afterAnimating,emulateTime);domEl.bind(transitionEndEventName,function(){$timeout.cancel(timeout),afterAnimating(),scope.$apply()})}else $timeout(afterAnimating)}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top())&&modal.value.keyboard&&(evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")}))}),$modalStack.open=function(modalInstance,modal){openedWindows.add(modalInstance,{deferred:modal.deferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element("<div modal-backdrop></div>");angularBackgroundDomEl.attr("backdrop-class",modal.backdropClass),backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope),body.append(backdropDomEl)}var angularDomEl=angular.element("<div modal-window></div>");angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content);var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,body.append(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance))},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance))},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal;)this.dismiss(topModal.key,reason),topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function($injector,$rootScope,$q,$http,$templateCache,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$http.get(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl,{cache:$templateCache}).then(function(result){return result.data})}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){$modalStack.close(modalInstance,result)},dismiss:function(reason){$modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals),modalOptions.controllerAs&&(modalScope[modalOptions.controllerAs]=ctrlInstance)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,content:tplAndVars[0],backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(){modalOpenedDeferred.reject(!1)}),modalInstance},$modal}]};return $modalProvider})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_,this.config=config,ngModelCtrl.$render=function(){self.render()},$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=config.itemsPerPage},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page){$scope.page!==page&&page>0&&page<=$scope.totalPages&&(ngModelCtrl.$setViewValue(page),ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||self.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages},$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),$scope.page>value?$scope.selectPage(value):ngModelCtrl.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,paginationConfig){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,ctrls){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),(endPage=startPage+maxSize-1)>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;number<=endPage;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(endPage<totalPages){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}}return pages}var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks,paginationCtrl.init(ngModelCtrl,paginationConfig),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()});var originalRender=paginationCtrl.render;paginationCtrl.render=function(){originalRender(),scope.page>0&&scope.page<=scope.totalPages&&(scope.pages=getPages(scope.page,scope.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(pagerConfig){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&(scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align,paginationCtrl.init(ngModelCtrl,pagerConfig))}}}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):progressConfig.max,this.addBar=function(bar,element){animate||element.css({transition:"none"}),this.bars.push(bar),bar.$watch("value",function(value){bar.percent=+(100*value/$scope.max).toFixed(2)}),bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff},states[i]);return states},$scope.rate=function(value){!$scope.readonly&&value>=0&&value<=$scope.range.length&&(ngModelCtrl.$setViewValue(value),ngModelCtrl.$render())},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&ratingCtrl.init(ngModelCtrl)}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){tab.active&&tab!==selectedTab&&(tab.active=!1,tab.onDeselect())}),selectedTab.active=!0,selectedTab.onSelect()},ctrl.addTab=function(tab){tabs.push(tab),1===tabs.length?tab.active=!0:tab.active&&ctrl.select(tab)},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=!!angular.isDefined(attrs.vertical)&&scope.$parent.$eval(attrs.vertical),scope.justified=!!angular.isDefined(attrs.justified)&&scope.$parent.$eval(attrs.justified)}}}).directive("tab",["$parse",function($parse){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){scope.$watch("active",function(active){active&&tabsetCtrl.select(scope)}),scope.disabled=!1,attrs.disabled&&scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value}),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm,attrs,tabCtrl){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function($scope,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=parseInt($scope.hours,10);if($scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24)return $scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return minutes>=0&&minutes<60?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours),$scope.minutes="m"===keyboardChange?minutes:pad(minutes),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render;var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1);(angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel)&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&$scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&$scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&$scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()}),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,void($scope.updateMinutes=angular.noop);var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes)};$scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(e){!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(e){!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})})},this.render=function(){var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},$scope.incrementHours=function(){addMinutes(60*hourStep)},$scope.decrementHours=function(){addMinutes(60*-hourStep)},$scope.incrementMinutes=function(){addMinutes(minuteStep)},$scope.decrementMinutes=function(){addMinutes(-minuteStep)},$scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}})},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g;return name.replace(regexp,function(letter,pos){return(pos?"-":"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow;return{show:show,hide:triggerMap[show]||show}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" content="'+startSym+"content"+endSym+'" placement="'+startSym+"placement"+endSym+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){return reposition()}).catch(function(error){if("canceled"!==error)throw error})):show()())}function hideTooltipBind(){scope.$evalAsync(function(){hide()})}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),ttScope.content?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),ttScope.$digest(),positionTooltip(),ttScope.isOpen=!0,ttScope.$digest(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)})}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPlacement(),prepPopupDelay()}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),positionTooltip=function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)};ttScope.isOpen=!1,attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};!function(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))}();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function $transition(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function transitionEndHandler(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}])},function(module,exports,__webpack_require__){"use strict";angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var hasFocus,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=!1!==originalScope.$eval(attrs.typeaheadEditable),isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),focusFirst=!1!==originalScope.$eval(attrs.typeaheadFocusFirst),$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches.length>0){scope.activeIdx=focusFirst?0:-1,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),element.attr("aria-expanded",!0)}else resetMatches();onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,inputValue&&inputValue.length>=minSearch?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)&&(-1!=scope.activeIdx||13!==evt.which&&9!==evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),element.bind("blur",function(evt){hasFocus=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&(resetMatches(),scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),appendToBody&&$popup.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function($http,$templateCache,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$http.get(tplUrl,{cache:$templateCache}).then(function(resp){element.replaceWith($compile(resp.data.trim())(scope))})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}})},function(module,exports){module.exports='<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="euiScreenReaderOnly">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n'},function(module,exports){module.exports='<div ng-switch="datepickerMode" role="application">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>\n'},function(module,exports){module.exports='<table\n  class="kuiDatePicker fullWidth"\n  role="grid"\n  aria-labelledby="{{uniqueId}}-title"\n  aria-activedescendant="{{activeDateId}}"\n>\n  <thead>\n    <tr>\n      <th\n        class="kuiDatePickerNavigationCell"\n        colspan="{{7 + showWeeks}}"\n      >\n        <div class="kuiDatePickerNavigation">\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(-1)"\n            aria-label="Previous month"\n          >\n            <span class="kuiIcon fa-chevron-left"></span>\n          </button>\n\n          <button\n            id="{{uniqueId}}-title"\n            role="heading"\n            aria-live="assertive"\n            aria-atomic="true"\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="toggleMode()"\n          >\n            <strong>{{title}}</strong>\n          </button>\n\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(1)"\n            aria-label="Next month"\n          >\n            <span class="kuiIcon fa-chevron-right"></span>\n          </button>\n        </div>\n      </th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th\n        ng-repeat="label in labels track by $index"\n        class="kuiDatePickerHeaderCell"\n      >\n        <small aria-label="{{label.full}}">{{label.abbr}}</small>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks">\n        <em>{{ weekNumbers[$index] }}</em>\n      </td>\n\n      <td\n        ng-repeat="dt in row track by dt.date"\n        class="kuiDatePickerRowCell"\n        ng-class="{\'kuiDatePickerRowCell-isBlocked\': dt.disabled && !dt.secondary}"\n        id="{{dt.uid}}"\n        aria-disabled="{{!!dt.disabled}}"\n      >\n        <button\n          type="button"\n          class="kuiDatePickerRowCellContent"\n          ng-class="{\'kuiDatePickerRowCellContent-isSelected\': dt.selected, \'kuiDatePickerRowCellContent-isCurrent\': dt.current, \'kuiDatePickerRowCellContent-isOtherMonth\': dt.secondary}"\n          ng-click="select(dt.date)"\n          ng-disabled="dt.disabled"\n        >\n          <span>{{dt.label}}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports){module.exports='<table\n  class="kuiDatePicker fullWidth"\n  role="grid"\n  aria-labelledby="{{uniqueId}}-title"\n  aria-activedescendant="{{activeDateId}}"\n>\n  <thead>\n    <tr>\n      <th\n        class="kuiDatePickerNavigationCell"\n        colspan="3"\n      >\n        <div class="kuiDatePickerNavigation">\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(-1)"\n            aria-label="Previous year"\n          >\n            <span class="kuiIcon fa-chevron-left"></span>\n          </button>\n\n          <button\n            id="{{uniqueId}}-title"\n            role="heading"\n            aria-live="assertive"\n            aria-atomic="true"\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="toggleMode()"\n          >\n            <strong>{{title}}</strong>\n          </button>\n\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(1)"\n            aria-label="Next year"\n          >\n            <span class="kuiIcon fa-chevron-right"></span>\n          </button>\n        </div>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td\n        ng-repeat="dt in row track by dt.date"\n        class="kuiDatePickerRowCell"\n        ng-class="{\'kuiDatePickerRowCell-isBlocked\': dt.disabled && !dt.secondary}"\n        id="{{dt.uid}}"\n        aria-disabled="{{!!dt.disabled}}"\n      >\n        <button\n          type="button"\n          class="kuiDatePickerRowCellContent"\n          ng-class="{\'kuiDatePickerRowCellContent-isSelected\': dt.selected, \'kuiDatePickerRowCellContent-isCurrent\': dt.current}"\n          ng-click="select(dt.date)"\n          ng-disabled="dt.disabled"\n        >\n          <span>{{dt.label}}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports){module.exports='<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="kuiButtonGroup pull-left">\n\t\t\t<button type="button" class="kuiButton kuiButton--small kuiButton--primary" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="kuiButton kuiButton--small kuiButton--danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="kuiButton kuiButton--small kuiButton--primary pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n'},function(module,exports){module.exports='<table\n  class="kuiDatePicker fullWidth"\n  role="grid"\n  aria-labelledby="{{uniqueId}}-title"\n  aria-activedescendant="{{activeDateId}}"\n>\n  <thead>\n    <tr>\n      <th\n        class="kuiDatePickerNavigationCell"\n        colspan="5"\n      >\n        <div class="kuiDatePickerNavigation">\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(-1)"\n            aria-label="Previous {{yearRange}} years"\n          >\n            <span class="kuiIcon fa-chevron-left"></span>\n          </button>\n\n          <button\n            id="{{uniqueId}}-title"\n            role="heading"\n            aria-live="assertive"\n            aria-atomic="true"\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="toggleMode()"\n          >\n            <strong>{{title}}</strong>\n          </button>\n\n          <button\n            type="button"\n            class="kuiDatePickerNavigationButton"\n            ng-click="move(1)"\n            aria-label="Next {{yearRange}} years"\n          >\n            <span class="kuiIcon fa-chevron-right"></span>\n          </button>\n        </div>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td\n        ng-repeat="dt in row track by dt.date"\n        class="kuiDatePickerRowCell"\n        ng-class="{\'kuiDatePickerRowCell-isBlocked\': dt.disabled && !dt.secondary}"\n        id="{{dt.uid}}"\n        aria-disabled="{{!!dt.disabled}}"\n      >\n        <button\n          type="button"\n          class="kuiDatePickerRowCellContent"\n          ng-class="{\'kuiDatePickerRowCellContent-isSelected\': dt.selected, \'kuiDatePickerRowCellContent-isCurrent\': dt.current}"\n          ng-click="select(dt.date)"\n          ng-disabled="dt.disabled"\n        >\n          <span>{{dt.label}}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports){module.exports='<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n'},function(module,exports){module.exports='<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>'},function(module,exports){module.exports='<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>'},function(module,exports){module.exports='<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>'},function(module,exports){module.exports='<div class="bsTooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="bsTooltip-arrow"></div>\n  <div class="bsTooltip-inner" bind-html-unsafe="content"></div>\n</div>\n'},function(module,exports){module.exports='<div class="bsTooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="bsTooltip-arrow"></div>\n  <div class="bsTooltip-inner" ng-bind="content"></div>\n</div>\n'},function(module,exports){module.exports='<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n'},function(module,exports){module.exports='<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>'},function(module,exports){module.exports='<div class="progress" ng-transclude></div>'},function(module,exports){module.exports='<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>'},function(module,exports){module.exports='<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="euiScreenReaderOnly">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>\n'},function(module,exports){module.exports='<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n'},function(module,exports){module.exports='<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n'},function(module,exports){module.exports='<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="kuiButton kuiButton--hollow"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="kuiButton kuiButton--hollow"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="kuiButton kuiButton--basic text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="kuiButton kuiButton--hollow"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="kuiButton kuiButton--hollow"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n'},function(module,exports){module.exports='<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>'},function(module,exports){module.exports='<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2641)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2642),__webpack_require__(1060),__webpack_require__(2645)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2643),__webpack_require__(2).uiModules.get("kibana",["ngAria"]).config(function($ariaProvider){$ariaProvider.config({bindKeydown:!1,bindRoleForClick:!1,tabindex:!1})})},,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("scrolltoActivedescendant",function(){return{link:function(scope,element,attrs){scope.$watch(function(){return attrs.ariaActivedescendant},function(val){if(val){var activeDescendant=element.find("#"+val);activeDescendant.length&&activeDescendant[0].scrollIntoView()}})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(8),__webpack_require__(893),__webpack_require__(643),__webpack_require__(1045),__webpack_require__(353),__webpack_require__(251),__webpack_require__(1062),__webpack_require__(255),__webpack_require__(1065),__webpack_require__(1035),__webpack_require__(240),__webpack_require__(2653),__webpack_require__(1066),__webpack_require__(365),__webpack_require__(358),__webpack_require__(2710),__webpack_require__(10),__webpack_require__(2712),__webpack_require__(130),__webpack_require__(1022),__webpack_require__(354),__webpack_require__(651),__webpack_require__(355),__webpack_require__(865),__webpack_require__(629),__webpack_require__(2719),__webpack_require__(181),__webpack_require__(653),__webpack_require__(1082),__webpack_require__(2744),__webpack_require__(105),__webpack_require__(657),__webpack_require__(630),__webpack_require__(2750),__webpack_require__(658)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(630),__webpack_require__(296);var _modules=__webpack_require__(2),_kbn_top_nav=__webpack_require__(2648),_kbn_top_nav2=_interopRequireDefault(_kbn_top_nav),_kbn_top_nav_controller=__webpack_require__(1061),_navbar_extensions=__webpack_require__(458);__webpack_require__(2651),_modules.uiModules.get("kibana").directive("kbnTopNav",function(Private){var KbnTopNavController=Private(_kbn_top_nav_controller.KbnTopNavControllerProvider),navbarExtensions=Private(_navbar_extensions.NavBarExtensionsRegistryProvider),getNavbarExtensions=_lodash2.default.memoize(function(name){if(!name)throw new Error("navbar directive requires a name attribute");return _lodash2.default.sortBy(navbarExtensions.byAppName[name],"order")});return{restrict:"E",transclude:!0,template:_kbn_top_nav2.default,controller:function($scope,$attrs,$element,$transclude){function initTopNav(newConfig,oldConfig){_lodash2.default.isEqual(oldConfig,newConfig)||(newConfig instanceof KbnTopNavController?(newConfig.addItems(extensions),$scope.kbnTopNav=new KbnTopNavController(newConfig)):(newConfig=newConfig.concat(extensions),$scope.kbnTopNav=new KbnTopNavController(newConfig)),$scope.kbnTopNav._link($scope,$element))}$scope.transcludes={},$transclude(function(clone){var transcludedContentContainer=_lodash2.default.find(clone,function(item){if(item.attributes)return _lodash2.default.find(item.attributes,function(attr){return-1!==attr.name.indexOf("data-transclude-slots")})});if(transcludedContentContainer){var transcludedContent=transcludedContentContainer.children;_lodash2.default.forEach(transcludedContent,function(transcludedItem){var transclusionSlot=transcludedItem.getAttribute("data-transclude-slot");$scope.transcludes[transclusionSlot]=transcludedItem})}});var extensions=getNavbarExtensions($attrs.name),getTopNavConfig=function(){return _lodash2.default.get($scope,$attrs.config,[])},topNavConfig=getTopNavConfig();return topNavConfig instanceof KbnTopNavController||$scope.$watch(getTopNavConfig,initTopNav,!0),initTopNav(topNavConfig,null),$scope.kbnTopNav},link:function(scope){["topLeftCorner","bottomRow"].forEach(function(name){var transcludedItem=scope.transcludes[name];if(transcludedItem){var transclusionSlot=document.querySelector('[data-transclude-slot="'+name+'"]');_angular2.default.element(transclusionSlot).replaceWith(transcludedItem)}})}}})},function(module,exports){module.exports='<div\n  class="kuiLocalNav"\n  ng-show="kbnTopNav.isVisible()"\n  data-test-subj="top-nav"\n>\n  \x3c!-- Top row --\x3e\n  <div class="kuiLocalNavRow">\n    \x3c!-- Top left corner slot, e.g. breadcrumbs, title. --\x3e\n    <div\n      class="kuiLocalNavRow__section"\n      data-transclude-slot="topLeftCorner"\n    ></div>\n\n    \x3c!-- Right-side: menu --\x3e\n    <div class="kuiLocalNavRow__section">\n      <div class="kuiLocalMenu">\n        <button\n          class="kuiLocalMenuItem"\n          ng-repeat="menuItem in kbnTopNav.menuItems"\n          aria-label="{{::menuItem.description}}"\n          aria-haspopup="{{!menuItem.hasFunction}}"\n          aria-expanded="{{kbnTopNav.isCurrent(menuItem.key)}}"\n          ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(menuItem.key), \'kuiLocalMenuItem-isDisabled\': menuItem.disableButton()}"\n          ng-click="kbnTopNav.handleClick(menuItem)"\n          ng-bind="menuItem.label"\n          tooltip="{{menuItem.tooltip()}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          data-test-subj="{{menuItem.testId}}"\n        ></button>\n\n        \x3c!-- Time-picker "menu item" --\x3e\n        <kbn-global-timepicker></kbn-global-timepicker>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Dropdown content, e.g. time-picker. --\x3e\n  <div\n    class="kuiLocalDropdown"\n    ng-show="kbnTopNav.rendered"\n  >\n    <button class="kuiLocalDropdownCloseButton" ng-click="kbnTopNav.close()" aria-label="Close">\n      <span class="kuiIcon fa-chevron-circle-up"></span>\n    </button>\n    <div id="template_wrapper">\n      \x3c!-- Content gets dynamically inserted here. --\x3e\n    </div>\n  </div>\n\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    \x3c!-- Bottom row slot, e.g. tabs. --\x3e\n    <div data-transclude-slot="bottomRow"></div>\n  </div>\n</div>\n'},function(module,exports){module.exports='<kbn-timepicker\n  from="timefilter.time.from"\n  to="timefilter.time.to"\n  mode="timefilter.time.mode"\n  active-tab="\'filter\'"\n  interval="timefilter.refreshInterval"\n  on-filter-select="updateFilter(from, to)"\n  on-interval-select="updateInterval(interval)">\n</kbn-timepicker>\n'},function(module,exports){module.exports='<kbn-timepicker\n  from="timefilter.time.from"\n  to="timefilter.time.to"\n  mode="timefilter.time.mode"\n  active-tab="\'interval\'"\n  interval="timefilter.refreshInterval"\n  on-filter-select="updateFilter(from, to)"\n  on-interval-select="updateInterval(interval)">\n</kbn-timepicker>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _bread_crumbs=__webpack_require__(2652),_bread_crumbs2=_interopRequireDefault(_bread_crumbs),_modules=__webpack_require__(2),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes);_modules.uiModules.get("kibana").directive("breadCrumbs",function(){return{restrict:"E",replace:!0,scope:{omitCurrentPage:"=",omitPages:"=",pageTitle:"=",useLinks:"="},template:_bread_crumbs2.default,controller:function($scope){function omitPagesFilter(crumb){return!$scope.omitPages||!$scope.omitPages.includes(crumb.id)}function omitCurrentPageFilter(crumb){return!($scope.omitCurrentPage&&crumb.current)}$scope.$watchMulti(["[]omitPages","omitCurrentPage"],function(){$scope.breadcrumbs=_routes2.default.getBreadcrumbs().filter(omitPagesFilter).filter(omitCurrentPageFilter)})}}})},function(module,exports){module.exports='<div\n  class="kuiLocalBreadcrumbs"\n  data-test-subj="breadcrumbs"\n  role="heading"\n  aria-level="1"\n>\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="useLinks"\n    ng-repeat="breadcrumb in breadcrumbs"\n  >\n    <a\n      class="kuiLocalBreadcrumb__link"\n      href="{{ breadcrumb.href }}"\n      data-test-subj="lnkBreadcrumb{{$index}}"\n    >\n      {{ breadcrumb.display }}\n    </a>\n  </div>\n\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="!useLinks"\n    ng-repeat="breadcrumb in breadcrumbs"\n  >\n    {{ breadcrumb.display }}\n  </div>\n\n  <div\n    class="kuiLocalBreadcrumb"\n    ng-if="pageTitle"\n    data-test-subj="breadcrumbPageTitle"\n  >\n    {{ pageTitle }}\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2654)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_kbn_form_controller=__webpack_require__(2655),_kbn_model_controller=__webpack_require__(2656);_modules.uiModules.get("kibana").config(function($provide){$provide.decorator("formDirective",_kbn_form_controller.decorateFormController),$provide.decorator("ngFormDirective",_kbn_form_controller.decorateFormController),$provide.decorator("ngModelDirective",_kbn_model_controller.decorateModelController)})},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function decorateFormController($delegate,$injector){var _$delegate=_slicedToArray($delegate,1),directive=_$delegate[0],FormController=directive.controller,KbnFormController=function(_FormController){function KbnFormController($scope,$element){var _ref;_classCallCheck(this,KbnFormController);for(var _len=arguments.length,superArgs=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)superArgs[_key-2]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=KbnFormController.__proto__||Object.getPrototypeOf(KbnFormController)).call.apply(_ref,[this].concat(superArgs))),onSubmit=function(event){_this._markInvalidTouched(event)};return $element.on("submit",onSubmit),$scope.$on("$destroy",function(){$element.off("submit",onSubmit)}),_this}return _inherits(KbnFormController,_FormController),_createClass(KbnFormController,[{key:"errorCount",value:function(){return this._getInvalidModels().length}},{key:"softErrorCount",value:function(){return this._getInvalidModels().filter(function(model){return model.$touched||model.$dirty}).length}},{key:"describeErrors",value:function(){var count=this.softErrorCount();return count+" Error"+(1===count?"":"s")}},{key:"$setTouched",value:function(){this._getInvalidModels().forEach(function(model){return model.$setTouched()})}},{key:"_markInvalidTouched",value:function(event){this.errorCount()&&(event.preventDefault(),event.stopImmediatePropagation(),this.$setTouched())}},{key:"_getInvalidModels",value:function(){return this.$$controls.reduce(function(acc,control){return"function"==typeof control._getInvalidModels?[].concat(_toConsumableArray(acc),_toConsumableArray(control._getInvalidModels())):control.$invalid?[].concat(_toConsumableArray(acc),[control]):acc},[])}}]),KbnFormController}(FormController);return KbnFormController.$inject=["$scope","$element"],directive.controller=[].concat(_toConsumableArray($injector.annotate(KbnFormController)),_toConsumableArray($injector.annotate(FormController)),[function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return new(Function.prototype.bind.apply(KbnFormController,[null].concat(args)))}]),$delegate}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.decorateFormController=decorateFormController},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function decorateModelController($delegate,$injector){var _$delegate=_slicedToArray($delegate,1),directive=_$delegate[0],ModelController=directive.controller,KbnModelController=function(_ModelController){function KbnModelController($scope,$element){var _ref;_classCallCheck(this,KbnModelController);for(var _len=arguments.length,superArgs=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)superArgs[_key-2]=arguments[_key];var _this=_possibleConstructorReturn(this,(_ref=KbnModelController.__proto__||Object.getPrototypeOf(KbnModelController)).call.apply(_ref,[this].concat(superArgs))),onInvalid=function(){_this.$setTouched()};return $element.on("invalid",onInvalid),$scope.$on("$destroy",function(){$element.off("invalid",onInvalid)}),_this}return _inherits(KbnModelController,_ModelController),KbnModelController}(ModelController);return KbnModelController.$inject=["$scope","$element"],directive.controller=[].concat(_toConsumableArray($injector.annotate(KbnModelController)),_toConsumableArray($injector.annotate(ModelController)),[function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return new(Function.prototype.bind.apply(KbnModelController,[null].concat(args)))}]),$delegate}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.decorateModelController=decorateModelController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggleFilterDisabled=exports.enableFilter=exports.disableFilter=void 0;var _disable_filter=__webpack_require__(1067);Object.defineProperty(exports,"disableFilter",{enumerable:!0,get:function(){return _disable_filter.disableFilter}}),Object.defineProperty(exports,"enableFilter",{enumerable:!0,get:function(){return _disable_filter.enableFilter}}),Object.defineProperty(exports,"toggleFilterDisabled",{enumerable:!0,get:function(){return _disable_filter.toggleFilterDisabled}});var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_filter_bar=__webpack_require__(2658),_filter_bar2=_interopRequireDefault(_filter_bar);__webpack_require__(1068),__webpack_require__(2659),__webpack_require__(2688);var _filter_applied_and_unwrap=__webpack_require__(2690),_map_and_flatten_filters=__webpack_require__(650),_map_flatten_and_wrap_filters=__webpack_require__(2703),_extract_time_filter=__webpack_require__(2704),_filter_out_time_based_filter=__webpack_require__(2705),_change_time_filter=__webpack_require__(2706),_query_filter=__webpack_require__(164),_compare_filters=__webpack_require__(460);__webpack_require__(2).uiModules.get("kibana").directive("filterBar",function(Private,Promise,getAppState){var mapAndFlattenFilters=Private(_map_and_flatten_filters.FilterBarLibMapAndFlattenFiltersProvider),mapFlattenAndWrapFilters=Private(_map_flatten_and_wrap_filters.FilterBarLibMapFlattenAndWrapFiltersProvider),extractTimeFilter=Private(_extract_time_filter.FilterBarLibExtractTimeFilterProvider),filterOutTimeBasedFilter=Private(_filter_out_time_based_filter.FilterBarLibFilterOutTimeBasedFilterProvider),changeTimeFilter=Private(_change_time_filter.FilterBarLibChangeTimeFilterProvider),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);return{template:_filter_bar2.default,restrict:"E",scope:{indexPatterns:"="},link:function($scope){function addAndInvertFilters(filters){var existingFilters=queryFilter.getFilters(),inversionFilters=_lodash2.default.filter(existingFilters,function(existingFilter){var newMatchingFilter=_lodash2.default.find(filters,_lodash2.default.partial(_compare_filters.compareFilters,existingFilter));return newMatchingFilter&&newMatchingFilter.meta&&existingFilter.meta&&existingFilter.meta.negate!==newMatchingFilter.meta.negate}),newFilters=_lodash2.default.reject(filters,function(filter){return _lodash2.default.find(inversionFilters,_lodash2.default.partial(_compare_filters.compareFilters,filter))});_lodash2.default.forEach(inversionFilters,$scope.invertFilter),$scope.addFilters(newFilters)}function updateFilters(){var filters=queryFilter.getFilters();mapAndFlattenFilters(filters).then(function(results){$scope.filters=_lodash2.default.sortBy(results,function(filter){return!filter.meta.pinned}),$scope.$emit("filterbar:updated")})}["addFilters","toggleFilter","toggleAll","pinFilter","pinAll","invertFilter","invertAll","removeFilter","removeAll"].forEach(function(method){$scope[method]=queryFilter[method]}),$scope.state=getAppState(),$scope.applyFilters=function(filters){addAndInvertFilters((0,_filter_applied_and_unwrap.filterAppliedAndUnwrap)(filters)),$scope.newFilters=[],$scope.changeTimeFilter&&$scope.changeTimeFilter.meta&&$scope.changeTimeFilter.meta.apply&&changeTimeFilter($scope.changeTimeFilter)},$scope.addFilter=function(){$scope.editingFilter={meta:{isNew:!0}}},$scope.deleteFilter=function(filter){$scope.removeFilter(filter),filter===$scope.editingFilter&&$scope.cancelEdit()},$scope.editFilter=function(filter){$scope.editingFilter=filter},$scope.cancelEdit=function(){delete $scope.editingFilter},$scope.saveEdit=function(filter,newFilter,isPinned){filter.meta.isNew||$scope.removeFilter(filter),delete $scope.editingFilter,$scope.addFilters([newFilter],isPinned)},$scope.clearFilterBar=function(){$scope.newFilters=[],$scope.changeTimeFilter=null},$scope.$listen(queryFilter,"update",function(){updateFilters()}),$scope.$watch(getAppState,function(appState){$scope.state=appState}),$scope.$watch("state.$newFilters",function(filters){if(filters)return filters.length>1?mapFlattenAndWrapFilters(filters).then(function(results){return extractTimeFilter(results).then(function(filter){$scope.changeTimeFilter=filter}),results}).then(filterOutTimeBasedFilter).then(function(results){$scope.newFilters=results}):void(1===filters.length&&Promise.resolve(filters).then(function(filters){return extractTimeFilter(filters).then(function(timeFilter){timeFilter&&changeTimeFilter(timeFilter)}),filters}).then(filterOutTimeBasedFilter).then(addAndInvertFilters))}),updateFilters()}}})},function(module,exports){module.exports='<section aria-label="Filters">\n  <div class="filter-bar-confirm" ng-show="newFilters.length">\n    <form ng-submit="applyFilters(newFilters)">\n    <ul class="list-unstyled">\n      <li>Apply these filters?</li>\n      <li ng-repeat="filter in newFilters track by $index" class="filter" ng-click="filter.meta.apply = !filter.meta.apply"><input type="checkbox" ng-checked="filter.meta.apply"/>\n        <span ng-if="filter.meta.negate">NOT </span> {{ filter.meta.key }}: {{ filter.meta.value }}\n      </li>\n      <li ng-if="changeTimeFilter" class="changeTimeFilter filter" ng-click="changeTimeFilter.meta.apply = !changeTimeFilter.meta.apply"><input type="checkbox" ng-checked="changeTimeFilter.meta.apply"/> <strong>Change time to:</strong> {{changeTimeFilter.meta.value}} </li>\n      <li>\n        <div class="kuiButtonGroup">\n          <button class="kuiButton kuiButton--primary kuiButton--small">\n            Apply Now\n          </button>\n\n          <button\n            class="kuiButton kuiButton--hollow"\n            ng-click="clearFilterBar();"\n          >\n            Cancel\n          </button>\n        </div>\n      </li>\n    </ul>\n    </form>\n  </div>\n\n  <div\n    class="filter-bar"\n  >\n    <filter-pill\n      ng-repeat="filter in filters track by $index"\n      filter="filter"\n      on-toggle-filter="toggleFilter"\n      on-pin-filter="pinFilter"\n      on-invert-filter="invertFilter"\n      on-delete-filter="deleteFilter"\n      on-edit-filter="editFilter"\n    ></filter-pill>\n\n    <div\n      class="filter-link"\n    >\n      <div class="filter-description small">\n        <button\n          ng-click="addFilter()"\n          class="euiLink euiLink--primary"\n          data-test-subj="addFilter"\n        >\n          Add a filter\n          <span class="fa fa-plus"></span>\n        </button>\n      </div>\n    </div>\n\n    <div\n      class="filter-link pull-right"\n      ng-show="filters.length"\n    >\n      <div class="filter-description small">\n        <a\n          ng-click="showFilterActions = !showFilterActions"\n          kbn-accessible-click\n          aria-expanded="{{!!showFilterActions}}"\n          aria-controls="filterActionsAllContainer"\n        >\n          Actions\n          <span\n            class="fa"\n            ng-class="{\n              \'fa-caret-down\': showFilterActions,\n              \'fa-caret-right\': !showFilterActions\n            }"\n            data-test-subj="showFilterActions"\n          ></span>\n        </a>\n      </div>\n    </div>\n\n    <div\n      class="filter-edit-container"\n      ng-if="editingFilter"\n    >\n      <filter-editor\n        filter="editingFilter"\n        index-patterns="indexPatterns"\n        on-delete="deleteFilter(editingFilter)"\n        on-save="saveEdit(filter, newFilter, isPinned)"\n        on-cancel="cancelEdit()"\n      ></filter-editor>\n    </div>\n  </div>\n\n  <div\n    class="filter-bar filter-bar-condensed"\n    ng-show="filters.length && showFilterActions"\n    id="filterActionsAllContainer"\n  >\n    <div class="filter-actions-all">\n      <div class="filter-link">\n        <div class="filter-description"><strong>All filters:</strong></div>\n      </div>\n        <div class="filter-link">\n          <div class="filter-description"><a ng-click="toggleAll(false)" kbn-accessible-click>Enable</a></div>\n        </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="toggleAll(true)" kbn-accessible-click>Disable</a></div>\n      </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="pinAll(true)" kbn-accessible-click>Pin</a></div>\n      </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="pinAll(false)" kbn-accessible-click>Unpin</a></div>\n      </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="invertAll()" kbn-accessible-click>Invert</a></div>\n      </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="toggleAll()" kbn-accessible-click>Toggle</a></div>\n      </div>\n      <div class="filter-link">\n        <div class="filter-description"><a ng-click="removeAll()" data-test-subj="removeAllFilters" kbn-accessible-click>Remove</a></div>\n      </div>\n    </div>\n  </div>\n</section>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2660)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_filter_operators=__webpack_require__(1069),_filter_editor=__webpack_require__(2662),_filter_editor2=_interopRequireDefault(_filter_editor);__webpack_require__(297),__webpack_require__(2663),__webpack_require__(2671),__webpack_require__(2675),__webpack_require__(2677),__webpack_require__(2686);var _filter_editor_utils=__webpack_require__(645),_lib=__webpack_require__(2687),filterBuilder=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_lib),_key_map=__webpack_require__(459);_modules.uiModules.get("kibana").directive("filterEditor",function($timeout,indexPatterns){return{restrict:"E",template:_filter_editor2.default,scope:{indexPatterns:"=",filter:"=",onDelete:"&",onCancel:"&",onSave:"&"},controllerAs:"filterEditor",bindToController:!0,controller:(0,_compat.callAfterBindingsWorkaround)(function($scope,$element){var _this=this;this.init=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var defaultIndexPattern,filter;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if((0,_filter_editor_utils.areIndexPatternsProvided)(_this.indexPatterns)){_context.next=5;break}return _context.next=3,indexPatterns.getDefault();case 3:(defaultIndexPattern=_context.sent)&&(_this.indexPatterns=[defaultIndexPattern]);case 5:filter=_this.filter,_this.alias=filter.meta.alias,_this.isEditingQueryDsl=!1,_this.queryDsl=(0,_filter_editor_utils.getQueryDslFromFilter)(filter),filter.meta.isNew?_this.setFocus("field"):(0,_filter_editor_utils.getFieldFromFilter)(filter,indexPatterns).then(function(field){_this.setField(field),_this.setOperator((0,_filter_editor_utils.getOperatorFromFilter)(filter)),_this.params=(0,_filter_editor_utils.getParamsFromFilter)(filter)});case 10:case"end":return _context.stop()}},_callee,_this)})),$scope.$watch(function(){return _this.filter},this.init),$scope.$watchCollection(function(){return _this.filter.meta},this.init),this.setQueryDsl=function(queryDsl){_this.queryDsl=queryDsl},this.setField=function(field){_this.field=field,_this.operator=null,_this.params={}},this.onFieldSelect=function(field){_this.setField(field),_this.setFocus("operator")},this.setOperator=function(operator){_this.operator=operator},this.onOperatorSelect=function(operator){_this.setOperator(operator),_this.setFocus("params")},this.setParams=function(params){_this.params=params},this.setFocus=function(name){$timeout(function(){return $scope.$broadcast("focus-"+name)})},this.toggleEditingQueryDsl=function(){_this.isEditingQueryDsl=!_this.isEditingQueryDsl},this.isQueryDslEditorVisible=function(){var _filter$meta=_this.filter.meta,type=_filter$meta.type,isNew=_filter$meta.isNew;return _this.isEditingQueryDsl||!isNew&&!_filter_operators.FILTER_OPERATOR_TYPES.includes(type)},this.isValid=function(){if(_this.isQueryDslEditorVisible())return _lodash2.default.isObject(_this.queryDsl);var field=_this.field,operator=_this.operator,params=_this.params;return(0,_filter_editor_utils.isFilterValid)({field:field,operator:operator,params:params})},this.save=function(){var filter=_this.filter,field=_this.field,operator=_this.operator,params=_this.params,alias=_this.alias,newFilter=void 0;if(_this.isQueryDslEditorVisible()){var meta=_lodash2.default.pick(filter.meta,["negate","index"]);meta.index=meta.index||_this.indexPatterns[0].id,newFilter=Object.assign(_this.queryDsl,{meta:meta})}else{var indexPattern=field.indexPattern;newFilter=(0,_filter_editor_utils.buildFilter)({indexPattern:indexPattern,field:field,operator:operator,params:params,filterBuilder:filterBuilder})}newFilter.meta.disabled=filter.meta.disabled,newFilter.meta.alias=alias;var isPinned="globalState"===_lodash2.default.get(filter,["$state","store"]);return _this.onSave({filter:filter,newFilter:newFilter,isPinned:isPinned})},$element.on("keydown",function(event){"escape"===_key_map.keyMap[event.keyCode]&&$timeout(function(){return _this.onCancel()})})})}})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function callAfterBindingsWorkaround(constructor){return function($injector,$attrs,$element,$scope,$transclude){var _this2=this;this.$onInit=function(){$injector.invoke(constructor,_this2,{$attrs:$attrs,$element:$element,$scope:$scope,$transclude:$transclude})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.callAfterBindingsWorkaround=callAfterBindingsWorkaround,(exports.InitAfterBindingsWorkaround=function InitAfterBindingsWorkaround($injector,$attrs,$element,$scope,$transclude){var _this=this;if(_classCallCheck(this,InitAfterBindingsWorkaround),!this.initAfterBindings)throw new Error("When using inheritance you must move the logic in the constructor to the `initAfterBindings` method");this.$onInit=function(){$injector.invoke(_this.initAfterBindings,_this,{$attrs:$attrs,$element:$element,$scope:$scope,$transclude:$transclude})}}).$inject=["$injector","$attrs","$element","$scope","$transclude"]},function(module,exports){module.exports='<div class="filterEditor kuiModal">\n  <div class="kuiModalHeader">\n    <div class="kuiModalHeader__title">\n      <span ng-show="filterEditor.filter.meta.isNew">Add</span>\n      <span ng-hide="filterEditor.filter.meta.isNew">Edit</span>\n      filter\n    </div>\n\n    <button\n      class="kuiModalHeaderCloseButton kuiIcon fa-times"\n      ng-click="filterEditor.onCancel()"\n      aria-label="Close filter popover"\n    ></button>\n  </div>\n\n  <div class="kuiModalBody">\n    \x3c!-- Filter definition --\x3e\n    <div class="kuiVerticalRhythm">\n      <div class="kuiVerticalRhythmSmall filterEditor__labelBar">\n        <label class="kuiLabel">\n          Filter\n        </label>\n\n        <div>\n          <a\n            class="kuiLink"\n            ng-click="filterEditor.toggleEditingQueryDsl()"\n            kbn-accessible-click\n          >\n            <span ng-if="filterEditor.isEditingQueryDsl">\n              Search filter values\n            </span>\n\n            <span ng-if="!filterEditor.isEditingQueryDsl">\n              Edit Query DSL\n            </span>\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Filter dropdowns --\x3e\n      <div\n        class="kuiFieldGroup kuiVerticalRhythmSmall kuiFieldGroup--alignTop"\n        ng-show="!filterEditor.isQueryDslEditorVisible()"\n      >\n        <div class="kuiFieldGroupSection filterEditor__wideField">\n          <filter-field-select\n            index-patterns="filterEditor.indexPatterns"\n            field="filterEditor.field"\n            on-select="filterEditor.onFieldSelect(field)"\n          ></filter-field-select>\n        </div>\n\n        <div class="kuiFieldGroupSection">\n          <filter-operator-select\n            ng-if="filterEditor.field"\n            field="filterEditor.field"\n            operator="filterEditor.operator"\n            on-select="filterEditor.onOperatorSelect(operator)"\n          ></filter-operator-select>\n        </div>\n\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide filterEditor__wideField filterEditorParamsInput">\n          <filter-params-editor\n            ng-if="filterEditor.field && filterEditor.operator"\n            field="filterEditor.field"\n            operator="filterEditor.operator"\n            params="filterEditor.params"\n          ></filter-params-editor>\n        </div>\n      </div>\n\n      \x3c!-- DSL editor --\x3e\n      <div\n        class="kuiVerticalRhythmSmall"\n        ng-show="filterEditor.isQueryDslEditorVisible()"\n      >\n        <filter-query-dsl-editor\n          class="kuiVerticalRhythmSmall"\n          filter="filterEditor.filter"\n          on-change="filterEditor.setQueryDsl(queryDsl)"\n          is-visible="filterEditor.isQueryDslEditorVisible()"\n        ></filter-query-dsl-editor>\n\n        <p class="kuiText kuiVerticalRhythmSmall">\n          Filters are built using the <a class="kuiLink" target="_blank" rel="noopener noreferrer" documentation-href="query.queryDsl">Elasticsearch Query DSL</a>.\n        </p>\n      </div>\n    </div>\n\n    \x3c!-- Label --\x3e\n    <div class="kuiVerticalRhythm">\n      <div class="kuiVerticalRhythmSmall">\n        <label\n          class="kuiLabel"\n          for="filterEditorLabelInput"\n        >\n          Label\n        </label>\n      </div>\n\n      <input\n        class="kuiTextInput kuiVerticalRhythmSmall"\n        placeholder="Optional"\n        type="text"\n        ng-model="filterEditor.alias"\n        id="filterEditorLabelInput"\n      />\n    </div>\n  </div>\n\n  \x3c!-- Footer --\x3e\n  <div class="kuiModalFooter kuiBar">\n    <div class="kuiBarSection" ng-hide="filterEditor.filter.meta.isNew">\n      <button\n        class="kuiButton kuiButton--danger"\n        ng-click="filterEditor.onDelete()"\n        aria-label="Delete filter"\n      >\n        <span\n          class="kuiIcon fa-trash"\n          aria-hidden="true"\n        ></span>\n      </button>\n    </div>\n\n    <div class="kuiBarSection">\n      <button\n        class="kuiButton kuiButton--basic"\n        ng-click="filterEditor.onCancel()"\n      >\n        Cancel\n      </button>\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!filterEditor.isValid()"\n        ng-click="filterEditor.save()"\n        data-test-subj="saveFilter"\n      >\n        Save\n      </button>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(106);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_filter_query_dsl_editor=__webpack_require__(2669),_filter_query_dsl_editor2=_interopRequireDefault(_filter_query_dsl_editor);__webpack_require__(644),_modules.uiModules.get("kibana").directive("filterQueryDslEditor",function(){return{restrict:"E",template:_filter_query_dsl_editor2.default,scope:{isVisible:"=",filter:"=",onChange:"&"},link:{pre:function($scope){var aceEditor=void 0;$scope.queryDsl=_lodash2.default.omit($scope.filter,["meta","$state"]),$scope.aceLoaded=function(editor){aceEditor=editor,editor.$blockScrolling=1/0;var session=editor.getSession();session.setTabSize(2),session.setUseSoftTabs(!0)},$scope.$watch("isVisible",function(isVisible){isVisible&&aceEditor&&aceEditor.renderer.updateFull()})}}}})},,,,,,function(module,exports){module.exports='<div\n  json-input\n  require-keys="true"\n  kbn-ui-ace-keyboard-mode\n  ui-ace="{\n    mode: \'json\',\n    onLoad: aceLoaded\n  }"\n  ng-model="queryDsl"\n  ng-change="onChange({\n    queryDsl: queryDsl\n  })"\n></div>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";__webpack_require__(298);var _modules=__webpack_require__(2),_filter_editor_utils=__webpack_require__(645),_filter_field_select=__webpack_require__(2674),_filter_field_select2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_field_select);__webpack_require__(363),__webpack_require__(364),_modules.uiModules.get("kibana").directive("filterFieldSelect",function(){return{restrict:"E",template:_filter_field_select2.default,scope:{indexPatterns:"=",field:"=",onSelect:"&"},link:function($scope){$scope.$watch("indexPatterns",function(indexPatterns){$scope.fieldOptions=(0,_filter_editor_utils.getFieldOptions)(indexPatterns)}),$scope.getFieldIndexPattern=function(field){return field.indexPattern.title}}}})},,,function(module,exports){module.exports='<ui-select\n  ng-model="field"\n  ui-select-focus-on="focus-field"\n  on-select="onSelect({ field: field })"\n>\n  <ui-select-match placeholder="Fields...">\n    <span\n      class="uiSelectMatch--ellipsis"\n      tooltip="{{$select.selected.name}}"\n    >\n      {{$select.selected.name}}\n    </span>\n  </ui-select-match>\n  <ui-select-choices\n    class="uiSelectChoices--autoWidth"\n    repeat="field in fieldOptions\n      | filter:{ name: $select.search }\n      | orderBy:\'name\'\n      | sortPrefixFirst:$select.search:\'name\'"\n    group-by="getFieldIndexPattern"\n  >\n    <div ng-bind-html="field.name | highlight: $select.search"></div>\n  </ui-select-choices>\n</ui-select>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(298);var _modules=__webpack_require__(2),_filter_editor_utils=__webpack_require__(645),_filter_operator_select=__webpack_require__(2676),_filter_operator_select2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_operator_select);__webpack_require__(363),_modules.uiModules.get("kibana").directive("filterOperatorSelect",function(){return{restrict:"E",template:_filter_operator_select2.default,scope:{field:"=",operator:"=",onSelect:"&"},link:function($scope){$scope.$watch("field",function(field){$scope.operatorOptions=(0,_filter_editor_utils.getOperatorOptions)(field)})}}})},function(module,exports){module.exports='<ui-select\n  ng-model="operator"\n  ui-select-focus-on="focus-operator"\n  on-select="onSelect({ operator: operator })"\n>\n  <ui-select-match placeholder="Operators...">\n    {{$select.selected.name}}\n  </ui-select-match>\n  <ui-select-choices repeat="operator in operatorOptions | filter:{ name: $select.search }">\n    <div ng-bind-html="operator.name | highlight: $select.search"></div>\n  </ui-select-choices>\n</ui-select>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_filter_params_editor=__webpack_require__(2678),_filter_params_editor2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_params_editor);__webpack_require__(2679),__webpack_require__(2682),__webpack_require__(2684),_modules.uiModules.get("kibana").directive("filterParamsEditor",function(){return{restrict:"E",template:_filter_params_editor2.default,scope:{field:"=",operator:"=",params:"="}}})},function(module,exports){module.exports='<ng-switch on="operator.type">\n  <filter-params-phrase-editor\n    ng-switch-when="phrase"\n    field="field"\n    params="params"\n  ></filter-params-phrase-editor>\n\n  <filter-params-phrases-editor\n    ng-switch-when="phrases"\n    field="field"\n    params="params"\n  ></filter-params-phrases-editor>\n\n  <filter-params-range-editor\n    ng-switch-when="range"\n    field="field"\n    params="params"\n  ></filter-params-range-editor>\n</ng-switch>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(298);var _modules=__webpack_require__(2),_filter_params_phrase_editor=__webpack_require__(2680),_filter_params_phrase_editor2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_params_phrase_editor),_filter_params_phrase_controller=__webpack_require__(1070);__webpack_require__(1071),__webpack_require__(297),__webpack_require__(363),__webpack_require__(648),__webpack_require__(364),_modules.uiModules.get("kibana").directive("filterParamsPhraseEditor",function(){return{restrict:"E",template:_filter_params_phrase_editor2.default,scope:{field:"=",params:"="},controllerAs:"filterParamsPhraseEditor",controller:_filter_params_phrase_controller.filterParamsPhraseController}})},function(module,exports){module.exports='<ui-select\n  ng-if="filterParamsPhraseEditor.shouldSuggestValues && field.aggregatable && field.type === \'string\'"\n  ng-model="params.phrase"\n  ui-select-focus-on="focus-params"\n  spinner-enabled="true"\n  spinner-class="kuiIcon kuiIcon--basic fa-spinner fa-spin"\n>\n  <ui-select-match placeholder="Values...">\n    <span\n      class="uiSelectMatch--ellipsis"\n      tooltip="{{$select.selected}}"\n    >\n      {{$select.selected}}\n    </span>\n  </ui-select-match>\n  <ui-select-choices\n    class="uiSelectChoices--autoWidth"\n    repeat="value in filterParamsPhraseEditor.compactUnion([$select.search, $select.selected], valueSuggestions) | filter:$select.search | sortPrefixFirst:$select.search"\n    refresh="filterParamsPhraseEditor.refreshValueSuggestions($select.search)"\n    refresh-delay="500"\n  >\n    <div ng-bind="value"></div>\n  </ui-select-choices>\n</ui-select>\n\n<filter-params-input-type\n  ng-if="!(filterParamsPhraseEditor.shouldSuggestValues && field.aggregatable && field.type === \'string\')"\n  placeholder="Value..."\n  type="field.type"\n  value="params.phrase"\n  on-change="params.phrase = value"\n  focus-on="focus-params"\n></filter-params-input-type>\n\n<small>\n  <a\n    ng-if="field.type === \'date\'"\n    class="kuiLink"\n    documentation-href="date.dateMath"\n    target="_blank"\n    rel="noopener noreferrer"\n  >\n    Accepted date formats\n  </a>\n</small>\n'},function(module,exports){module.exports='<div\n  ng-switch="type"\n  class="kuiFieldGroupSection kuiFieldGroupSection--wide"\n>\n  <input\n    ng-switch-when="string"\n    type="text"\n    placeholder="{{placeholder}}"\n    class="kuiTextInput"\n    ng-model="value"\n    ng-change="onChange({ value: value })"\n  />\n  <input\n    ng-switch-when="number"\n    string-to-number\n    type="number"\n    placeholder="{{placeholder}}"\n    step="any"\n    class="kuiTextInput"\n    ng-model="value"\n    ng-change="onChange({ value: value })"\n  />\n  <input\n    ng-switch-when="date"\n    type="text"\n    placeholder="{{placeholder}}"\n    validate-date-math\n    class="kuiTextInput"\n    ng-model="value"\n    ng-change="onChange({ value: value })"\n  />\n  <input\n    ng-switch-when="ip"\n    type="text"\n    placeholder="{{placeholder}}"\n    validate-ip\n    class="kuiTextInput"\n    ng-model="value"\n    ng-change="onChange({ value: value })"\n  />\n  <div ng-switch-when="boolean">\n    <select\n      class="kuiSelect"\n      ng-model="value"\n      ng-options="option for option in boolOptions"\n      ng-change="onChange({ value: value })"\n      ng-init="setDefaultBool()"\n    ></select>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(298);var _modules=__webpack_require__(2),_filter_params_phrases_editor=__webpack_require__(2683),_filter_params_phrases_editor2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_params_phrases_editor),_filter_params_phrase_controller=__webpack_require__(1070);__webpack_require__(363),__webpack_require__(364),_modules.uiModules.get("kibana").directive("filterParamsPhrasesEditor",function(){return{restrict:"E",template:_filter_params_phrases_editor2.default,scope:{field:"=",params:"="},controllerAs:"filterParamsPhrasesEditor",controller:_filter_params_phrase_controller.filterParamsPhraseController}})},function(module,exports){module.exports='<ui-select\n  ng-model="params.phrases"\n  multiple\n  ui-select-focus-on="focus-params"\n  spinner-enabled="true"\n  spinner-class="kuiIcon kuiIcon--basic fa-spinner fa-spin"\n>\n  <ui-select-match\n    placeholder="Values..."\n    class="uiSelectMatch--restrictToParent"\n  >\n    <span\n      data-test-subj="filterEditorPhrases"\n      class="uiSelectMatch--pillWithTooltip"\n      tooltip="{{$item}}"\n    >\n      {{$item}}\n    </span>\n  </ui-select-match>\n  <ui-select-choices\n    class="uiSelectChoices--autoWidth"\n    repeat="value in filterParamsPhrasesEditor.compactUnion([$select.search], valueSuggestions) | filter:$select.search | sortPrefixFirst:$select.search"\n    refresh="filterParamsPhrasesEditor.refreshValueSuggestions($select.search)"\n    refresh-delay="500"\n  >\n    <div ng-bind-html="value | highlight: $select.search"></div>\n  </ui-select-choices>\n</ui-select>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_filter_params_range_editor=__webpack_require__(2685),_filter_params_range_editor2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_filter_params_range_editor);__webpack_require__(1071),__webpack_require__(297),__webpack_require__(648),_modules.uiModules.get("kibana").directive("filterParamsRangeEditor",function(){return{restrict:"E",template:_filter_params_range_editor2.default,scope:{field:"=",params:"="}}})},function(module,exports){module.exports='<div class="kuiVerticalRhythm">\n  <filter-params-input-type\n    placeholder="From..."\n    type="field.type"\n    value="params.range.from"\n    on-change="params.range.from = value"\n    focus-on="focus-params"\n  ></filter-params-input-type>\n</div>\n\n<div class="kuiVerticalRhythm">\n  <filter-params-input-type\n    placeholder="To..."\n    type="field.type"\n    value="params.range.to"\n    on-change="params.range.to = value"\n  ></filter-params-input-type>\n</div>\n\n<small>\n  <a\n    ng-if="field.type === \'date\'"\n    class="kuiLink"\n    documentation-href="date.dateMath"\n    target="_blank"\n    rel="noopener noreferrer"\n  >\n    Accepted date formats\n  </a>\n</small>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _exists=__webpack_require__(1074);Object.defineProperty(exports,"buildExistsFilter",{enumerable:!0,get:function(){return _exists.buildExistsFilter}});var _phrase=__webpack_require__(253);Object.defineProperty(exports,"buildPhraseFilter",{enumerable:!0,get:function(){return _phrase.buildPhraseFilter}});var _phrases=__webpack_require__(649);Object.defineProperty(exports,"buildPhrasesFilter",{enumerable:!0,get:function(){return _phrases.buildPhrasesFilter}});var _query=__webpack_require__(1075);Object.defineProperty(exports,"buildQueryFilter",{enumerable:!0,get:function(){return _query.buildQueryFilter}});var _range=__webpack_require__(185);Object.defineProperty(exports,"buildRangeFilter",{enumerable:!0,get:function(){return _range.buildRangeFilter}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_filter_pill=__webpack_require__(2689),_filter_pill2=_interopRequireDefault(_filter_pill);__webpack_require__(2).uiModules.get("kibana").directive("filterPill",function(){return{template:_filter_pill2.default,restrict:"E",scope:{filter:"=",onToggleFilter:"=",onPinFilter:"=",onInvertFilter:"=",onDeleteFilter:"=",onEditFilter:"="},bindToController:!0,controllerAs:"pill",controller:function(){var _this=this;this.activateActions=function(){_this.areActionsActivated=!0},this.deactivateActions=function(){_this.areActionsActivated=!1},this.isControlledByPanel=function(){return _lodash2.default.has(_this.filter,"meta.controlledBy")}}}})},function(module,exports){module.exports='<div\n  class="filter"\n  ng-class="{ negate: pill.filter.meta.negate, disabled: pill.filter.meta.disabled }"\n  data-test-subj="filter filter-{{ pill.filter.meta.disabled ? \'disabled\' : \'enabled\' }} {{ pill.filter.meta.key ? \'filter-key-\' + pill.filter.meta.key : \'\' }} {{ pill.filter.meta.value ? \'filter-value-\' + pill.filter.meta.value : \'\' }}"\n  ng-mouseover="pill.activateActions()"\n  ng-mouseleave="pill.deactivateActions()"\n>\n\n  <div\n    class="filter-description"\n    ng-class="{\'filter-description-deactivated\': pill.areActionsActivated}"\n    tabindex="0"\n    aria-disabled="{{pill.filter.meta.disabled}}"\n  >\n    <span ng-if="pill.filter.$state.store == \'globalState\'"><span class="fa fa-fw fa-thumb-tack pinned"></span></span>\n    <span ng-if="pill.filter.meta.negate">NOT</span>\n    <span ng-if="pill.filter.meta.alias">{{ pill.filter.meta.alias }}</span>\n    <span ng-if="!pill.filter.meta.alias">{{ pill.filter.meta.key }}:</span>\n    <span ng-if="!pill.filter.meta.alias">"{{ pill.filter.meta.value }}"</span>\n  </div>\n\n  <div class="filter-actions" ng-class="{\'filter-actions-activated\': pill.areActionsActivated}">\n    <button\n      class="action filter-toggle"\n      ng-click="pill.onToggleFilter(pill.filter)"\n      data-test-subj="disableFilter-{{ pill.filter.meta.key }}"\n      ng-focus="pill.activateActions()"\n      ng-blur="pill.deactivateActions()"\n      aria-label="{{pill.filter.meta.disabled ? \'Enable filter\' : \'Disable filter\'}}"\n      tooltip="{{pill.filter.meta.disabled ? \'Enable filter\' : \'Disable filter\'}}"\n      tooltip-append-to-body="true"\n    >\n      <span ng-show="pill.filter.meta.disabled" class="fa fa-fw fa-square-o disabled"></span>\n      <span ng-hide="pill.filter.meta.disabled" class="fa fa-fw fa-check-square-o enabled"></span>\n    </button>\n\n    <button\n      class="action filter-pin"\n      ng-click="pill.onPinFilter(pill.filter)"\n      data-test-subj="pinFilter-{{ pill.filter.meta.key }}"\n      ng-focus="pill.activateActions()"\n      ng-blur="pill.deactivateActions()"\n      aria-label="{{pill.filter.$state.store == \'globalState\' ? \'Unpin filter\' : \'Pin filter\'}}"\n      tooltip="{{pill.filter.$state.store == \'globalState\' ? \'Unpin filter\' : \'Pin filter\'}}"\n      tooltip-append-to-body="true"\n    >\n      <span ng-show="pill.filter.$state.store == \'globalState\'" class="fa fa-fw fa-thumb-tack pinned"></span>\n      <span ng-hide="pill.filter.$state.store == \'globalState\'" class="fa fa-fw fa-thumb-tack fa-rotate-270 unpinned"></span>\n    </button>\n\n    <button\n      class="action filter-invert"\n      ng-click="pill.onInvertFilter(pill.filter)"\n      data-test-subj="invertFilter-{{ pill.filter.meta.key }}"\n      ng-focus="pill.activateActions()"\n      ng-blur="pill.deactivateActions()"\n      aria-label="{{pill.filter.meta.negate ? \'Include matches\' : \'Exclude matches\'}}"\n      tooltip="{{pill.filter.meta.negate ? \'Include matches\' : \'Exclude matches\'}}"\n      tooltip-append-to-body="true"\n    >\n      <span ng-show="pill.filter.meta.negate" class="fa fa-fw fa-search-plus negative"></span>\n      <span ng-hide="pill.filter.meta.negate" class="fa fa-fw fa-search-minus positive"></span>\n    </button>\n\n    <button\n      class="action filter-remove"\n      ng-click="pill.onDeleteFilter(pill.filter)"\n      ng-focus="pill.activateActions()"\n      ng-blur="pill.deactivateActions()"\n      aria-label="Remove filter"\n      tooltip="Remove filter"\n      tooltip-append-to-body="true"\n    >\n      <span class="fa fa-fw fa-trash" data-test-subj="removeFilter-{{ pill.filter.meta.key }}"></span>\n    </button>\n\n    <button\n      class="action filter-edit"\n      ng-click="pill.onEditFilter(pill.filter)"\n      ng-disabled="pill.isControlledByPanel()"\n      ng-focus="pill.activateActions()"\n      ng-blur="pill.deactivateActions()"\n      aria-label="Edit filter"\n      tooltip="Edit filter"\n      tooltip-append-to-body="true"\n      data-test-subj="editFilter"\n    >\n      <span\n        ng-show="pill.isControlledByPanel()"\n        tooltip="Edit disabled because filter is controlled by Kibana"\n        class="fa fa-fw fa-edit fa-disabled"\n      ></span>\n      <span ng-hide="pill.isControlledByPanel()" class="fa fa-fw fa-edit"></span>\n    </button>\n\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function filterAppliedAndUnwrap(filters){return _lodash2.default.filter(filters,"meta.apply")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.filterAppliedAndUnwrap=filterAppliedAndUnwrap;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapFilterProvider(Promise,Private){var generateMappingChain=Private(_generate_mapping_chain.FilterBarLibGenerateMappingChainProvider),mappers=[Private(_map_match_all.FilterBarLibMapMatchAllProvider),Private(_map_range.FilterBarLibMapRangeProvider),Private(_map_phrase.FilterBarLibMapPhraseProvider),Private(_map_phrases.FilterBarLibMapPhrasesProvider),Private(_map_exists.FilterBarLibMapExistsProvider),Private(_map_missing.FilterBarLibMapMissingProvider),Private(_map_query_string.FilterBarLibMapQueryStringProvider),Private(_map_geo_bounding_box.FilterBarLibMapGeoBoundingBoxProvider),Private(_map_geo_polygon.FilterBarLibMapGeoPolygonProvider),Private(_map_default.FilterBarLibMapDefaultProvider)],noop=function(){return Promise.reject(new Error("No mappings have been found for filter."))},mapFn=_lodash2.default.reduceRight(mappers,function(memo,map){return generateMappingChain(map)(memo)},noop);return function(filter){return mapFn(filter).then(function(result){return filter.meta=filter.meta||{},filter.meta.type=result.type,filter.meta.key=result.key,filter.meta.value=result.value,filter.meta.params=result.params,filter.meta.disabled=!!filter.meta.disabled,filter.meta.negate=!!filter.meta.negate,filter.meta.alias=filter.meta.alias||null,filter})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapFilterProvider=FilterBarLibMapFilterProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_generate_mapping_chain=__webpack_require__(2692),_map_match_all=__webpack_require__(2693),_map_phrase=__webpack_require__(2694),_map_phrases=__webpack_require__(2695),_map_range=__webpack_require__(2696),_map_exists=__webpack_require__(2697),_map_missing=__webpack_require__(2698),_map_query_string=__webpack_require__(2699),_map_geo_bounding_box=__webpack_require__(2700),_map_geo_polygon=__webpack_require__(2701),_map_default=__webpack_require__(2702)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibGenerateMappingChainProvider(Promise){var noop=function(){return Promise.reject(new Error("No mappings have been found for filter."))};return function(fn){return function(next){return next=next||noop,function(filter){return fn(filter).catch(function(result){return result===filter?next(filter):Promise.reject(result)})}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibGenerateMappingChainProvider=FilterBarLibGenerateMappingChainProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapMatchAllProvider(Promise){return function(filter){if(filter.match_all){var key=filter.meta.field,value=filter.meta.formattedValue||"all";return Promise.resolve({type:"match_all",key:key,value:value})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapMatchAllProvider=FilterBarLibMapMatchAllProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapPhraseProvider(Promise,courier){return function(filter){function getParams(indexPattern){var key=isScriptedPhraseFilter?filter.meta.field:Object.keys(filter.query.match)[0],params=isScriptedPhraseFilter?filter.script.script.params:filter.query.match[key],query=isScriptedPhraseFilter?params.value:params.query;return{type:"phrase",key:key,value:indexPattern?indexPattern.fields.byName[key].format.convert(query):query,params:params}}var isScriptedPhraseFilter=isScriptedPhrase(filter);return _lodash2.default.has(filter,["query","match"])||isScriptedPhraseFilter?courier.indexPatterns.get(filter.meta.index).then(getParams).catch(function(error){if(error instanceof _errors.SavedObjectNotFound)return getParams();throw error}):Promise.reject(filter)}}function isScriptedPhrase(filter){var params=_lodash2.default.get(filter,["script","script","params"]);return params&&params.value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapPhraseProvider=FilterBarLibMapPhraseProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapPhrasesProvider(Promise){return function(filter){var _filter$meta=filter.meta,type=_filter$meta.type,key=_filter$meta.key,value=_filter$meta.value,params=_filter$meta.params;return"phrases"!==type?Promise.reject(filter):Promise.resolve({type:type,key:key,value:value,params:params})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapPhrasesProvider=FilterBarLibMapPhrasesProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapRangeProvider(Promise,courier){return function(filter){function getParams(indexPattern){var key=isScriptedRangeFilter?filter.meta.field:Object.keys(filter.range)[0],params=isScriptedRangeFilter?filter.script.script.params:filter.range[key],left=(0,_lodash.has)(params,"gte")?params.gte:params.gt;null==left&&(left=-1/0);var right=(0,_lodash.has)(params,"lte")?params.lte:params.lt;null==right&&(right=1/0);var value=left+" to "+right;if(indexPattern){var convert=indexPattern.fields.byName[key].format.getConverterFor("text");value=convert(left)+" to "+convert(right)}return{type:"range",key:key,value:value,params:params}}var isScriptedRangeFilter=isScriptedRange(filter);return filter.range||isScriptedRangeFilter?courier.indexPatterns.get(filter.meta.index).then(getParams).catch(function(error){if(error instanceof _errors.SavedObjectNotFound)return getParams();throw error}):Promise.reject(filter)}}function isScriptedRange(filter){var params=(0,_lodash.get)(filter,["script","script","params"]);return params&&Object.keys(params).find(function(key){return["gte","gt","lte","lt"].includes(key)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapRangeProvider=FilterBarLibMapRangeProvider;var _lodash=__webpack_require__(1),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapExistsProvider(Promise){return function(filter){if(filter.exists){var key=filter.exists.field;return Promise.resolve({type:"exists",key:key,value:"exists"})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapExistsProvider=FilterBarLibMapExistsProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapMissingProvider(Promise){return function(filter){if(filter.missing){var key=filter.missing.field;return Promise.resolve({type:"missing",key:key,value:"missing"})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapMissingProvider=FilterBarLibMapMissingProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapQueryStringProvider(Promise){return function(filter){if(filter.query&&filter.query.query_string){var value=filter.query.query_string.query;return Promise.resolve({type:"query_string",key:"query",value:value})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapQueryStringProvider=FilterBarLibMapQueryStringProvider},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapGeoBoundingBoxProvider(Promise,courier){return function(filter){if(filter.geo_bounding_box){var getParams=function(indexPattern){var key=_lodash2.default.keys(filter.geo_bounding_box).filter(function(key){return"ignore_unmapped"!==key})[0],params=filter.geo_bounding_box[key];return{type:"geo_bounding_box",key:key,value:(indexPattern?indexPattern.fields.byName[key].format.convert(params.top_left):JSON.stringify(params.top_left))+" to "+(indexPattern?indexPattern.fields.byName[key].format.convert(params.bottom_right):JSON.stringify(params.bottom_right)),params:params}};return courier.indexPatterns.get(filter.meta.index).then(getParams).catch(function(error){if(error instanceof _errors.SavedObjectNotFound)return getParams();throw error})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapGeoBoundingBoxProvider=FilterBarLibMapGeoBoundingBoxProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapGeoPolygonProvider(Promise,courier){return function(filter){if(filter.geo_polygon){var getParams=function(indexPattern){var key=_lodash2.default.keys(filter.geo_polygon).filter(function(key){return"ignore_unmapped"!==key})[0],params=filter.geo_polygon[key],points=params.points.map(function(point){return indexPattern?indexPattern.fields.byName[key].format.convert(point):JSON.stringify(point)}),value=points.join(", ");return{type:"geo_polygon",key:key,value:value,params:params}};return courier.indexPatterns.get(filter.meta.index).then(getParams).catch(function(error){if(error instanceof _errors.SavedObjectNotFound)return getParams();throw error})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapGeoPolygonProvider=FilterBarLibMapGeoPolygonProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FilterBarLibMapDefaultProvider(Promise){var metaProperty=/(^\$|meta)/;return function(filter){var key=_lodash2.default.find(_lodash2.default.keys(filter),function(key){return!key.match(metaProperty)});if(key){var value=_angular2.default.toJson(filter[key]);return Promise.resolve({type:"custom",key:key,value:value})}return Promise.reject(filter)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapDefaultProvider=FilterBarLibMapDefaultProvider;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibMapFlattenAndWrapFiltersProvider(Private){var mapAndFlattenFilters=Private(_map_and_flatten_filters.FilterBarLibMapAndFlattenFiltersProvider);return function(filters){return mapAndFlattenFilters(filters).then(function(filters){return _lodash2.default.map(filters,function(filter){return filter.meta=filter.meta||{},filter.meta.apply=!0,filter})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibMapFlattenAndWrapFiltersProvider=FilterBarLibMapFlattenAndWrapFiltersProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_map_and_flatten_filters=__webpack_require__(650)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibExtractTimeFilterProvider(courier,Promise){return Promise.method(function(filters){var id=_lodash2.default.get(filters,"[0].meta.index");if(null!=id)return courier.indexPatterns.get(id).then(function(indexPattern){var filter=_lodash2.default.find(filters,function(obj){return _lodash2.default.keys(obj.range)[0]===indexPattern.timeFieldName});if(filter&&filter.range)return filter})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibExtractTimeFilterProvider=FilterBarLibExtractTimeFilterProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function FilterBarLibFilterOutTimeBasedFilterProvider(courier,Promise){return Promise.method(function(filters){var id=_lodash2.default.get(filters,"[0].meta.index");if(null!=id)return courier.indexPatterns.get(id).then(function(indexPattern){return _lodash2.default.filter(filters,function(filter){return!(filter.range&&filter.range[indexPattern.timeFieldName])})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibFilterOutTimeBasedFilterProvider=FilterBarLibFilterOutTimeBasedFilterProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FilterBarLibChangeTimeFilterProvider(timefilter){return function(filter){var key=_lodash2.default.keys(filter.range)[0],values=filter.range[key];timefilter.time.from=(0,_moment2.default)(values.gt||values.gte),timefilter.time.to=(0,_moment2.default)(values.lt||values.lte),timefilter.time.mode="absolute"}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterBarLibChangeTimeFilterProvider=FilterBarLibChangeTimeFilterProvider;var _moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash)},function(module,exports,__webpack_require__){"use strict";function onlyDisabled(newFilters,oldFilters){return _lodash2.default.every(newFilters.concat(oldFilters),function(newFilter){return pluckDisabled(newFilter)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onlyDisabled=onlyDisabled;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),pluckDisabled=function(filter){return _lodash2.default.get(filter,"meta.disabled")}},function(module,exports,__webpack_require__){"use strict";function onlyStateChanged(newFilters,oldFilters){return _lodash2.default.every(newFilters,function(newFilter){return!!_lodash2.default.find(oldFilters,function(oldFilter){return(0,_compare_filters.compareFilters)(newFilter,oldFilter,compareOptions)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onlyStateChanged=onlyStateChanged;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_compare_filters=__webpack_require__(460),compareOptions={disabled:!0,negate:!0}},function(module,exports,__webpack_require__){"use strict";function FilterManagerProvider(Private){var queryFilter=Private(_query_filter.FilterBarQueryFilterProvider),filterManager={};return filterManager.generate=function(field,values,operation,index){values=Array.isArray(values)?values:[values];var fieldName=_lodash2.default.isObject(field)?field.name:field,filters=_lodash2.default.flatten([queryFilter.getAppFilters()]),newFilters=[],negate="-"===operation;return _lodash2.default.each(values,function(value){var filter=void 0,existing=_lodash2.default.find(filters,function(filter){if(filter)return"_exists_"===fieldName&&filter.exists?filter.exists.field===value:_lodash2.default.has(filter,"query.match")?filter.query.match[fieldName]&&filter.query.match[fieldName].query===value:filter.script?filter.meta.field===fieldName&&filter.script.script.params.value===value:void 0});if(existing)return existing.meta.disabled=!1,void(existing.meta.negate!==negate&&queryFilter.invertFilter(existing));switch(fieldName){case"_exists_":filter={meta:{negate:negate,index:index},exists:{field:value}};break;default:field.scripted?filter={meta:{negate:negate,index:index,field:fieldName},script:(0,_phrase.getPhraseScript)(field,value)}:(filter={meta:{negate:negate,index:index},query:{match:{}}},filter.query.match[fieldName]={query:value,type:"phrase"})}newFilters.push(filter)}),newFilters},filterManager.add=function(field,values,operation,index){var newFilters=this.generate(field,values,operation,index);return queryFilter.addFilters(newFilters)},filterManager}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterManagerProvider=FilterManagerProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_query_filter=__webpack_require__(164),_phrase=__webpack_require__(253)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2711)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").run(function($rootScope){$rootScope.constructor.prototype.$listen=function(emitter,eventName,handler){emitter.on(eventName,handler),this.$on("$destroy",function(){emitter.off(eventName,handler)})}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2713)},function(module,exports,__webpack_require__){"use strict";var _to_user=__webpack_require__(2714),_from_user=__webpack_require__(2715);__webpack_require__(2).uiModules.get("kibana").directive("parseQuery",function(Private){var fromUser=Private(_from_user.ParseQueryLibFromUserProvider);return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function($scope,elem,attr,ngModel){ngModel.$parsers.push(fromUser),ngModel.$formatters.push(_to_user.toUser),function(){$scope.ngModel=fromUser($scope.ngModel)}()}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function toUser(text){return null==text?"":_lodash2.default.isObject(text)?text.match_all?"":text.query_string?toUser(text.query_string.query):_angular2.default.toJson(text):""+text}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toUser=toUser;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular)},function(module,exports,__webpack_require__){"use strict";function ParseQueryLibFromUserProvider(){return function(userInput){if(_lodash2.default.isObject(userInput))return Object.keys(userInput).length?userInput:"";if(userInput=(userInput||"").trim(),0===userInput.length)return"";if("{"!==userInput[0])return userInput;try{return JSON.parse(userInput)}catch(e){return userInput}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParseQueryLibFromUserProvider=ParseQueryLibFromUserProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports){module.exports='<confirm-modal\n  data-test-subj="confirmModal"\n  on-cancel="onCancel"\n  on-confirm="onConfirm"\n  confirm-button-text="confirmButtonText"\n  cancel-button-text="cancelButtonText"\n  children="message"\n  data-title="title"\n  default-focused-button="defaultFocusedButton"\n></confirm-modal>\n'},function(module,exports){module.exports='<div class="euiOverlayMask" data-test-subj="modalOverlay"></div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);__webpack_require__(651),_modules.uiModules.get("kibana").factory("confirmModalPromise",function(Promise,confirmModal){return function(message,customOptions){return new Promise(function(resolve,reject){var defaultOptions={onConfirm:resolve,onCancel:reject},confirmOptions=Object.assign(defaultOptions,customOptions);confirmModal(message,confirmOptions)})}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2720)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(353);var _modules=__webpack_require__(2),$style=(0,_jquery2.default)("<style>").appendTo("head").attr("id","style-compile");_modules.uiModules.get("kibana").run(function($rootScope,$compile,config){var template=_lodash2.default.template(__webpack_require__(2721)),locals={};$rootScope.$watch(function(){return config.get("truncate:maxHeight")},function(maxHeight){maxHeight>0?(locals.truncateMaxHeight=maxHeight+"px !important",locals.truncateGradientTop=maxHeight-15+"px"):(locals.truncateMaxHeight="none",locals.truncateGradientTop="-15px"),$style.html(template(locals))})})},function(module,exports){module.exports=".truncate-by-height {\n  max-height: <%= truncateMaxHeight %>;\n  display: inline-block;\n}\n.truncate-by-height:before {\n  top: <%= truncateGradientTop %>;\n}\n"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _timepicker=__webpack_require__(2723),_timepicker2=_interopRequireDefault(_timepicker);__webpack_require__(2724),__webpack_require__(2727),__webpack_require__(2730),__webpack_require__(2733);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_relative_options=__webpack_require__(654),_parse_relative_parts=__webpack_require__(2736),_datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_notify=__webpack_require__(10);__webpack_require__(2737),__webpack_require__(1081),__webpack_require__(655),__webpack_require__(2738),__webpack_require__(2739);var _modules=__webpack_require__(2),_modes=__webpack_require__(1020),_time_units=__webpack_require__(1080),_module=_modules.uiModules.get("ui/timepicker"),notify=new _notify.Notifier({location:"timepicker"});_module.directive("kbnTimepicker",function(refreshIntervals){return{restrict:"E",scope:{from:"=",to:"=",mode:"=",interval:"=",activeTab:"=",onFilterSelect:"&",onIntervalSelect:"&"},template:_timepicker2.default,controller:function($scope){function getRelativeString(key){var count=_lodash2.default.get($scope,"relative."+key+".count",0),round=_lodash2.default.get($scope,"relative."+key+".round",!1),matches=_lodash2.default.get($scope,"relative."+key+".unit","s").match(/([smhdwMy])(\+)?/),unit=void 0,operator="-";if(matches&&matches[1]&&(unit=matches[1]),matches&&matches[2]&&(operator=matches[2]),0===count&&!round)return"now";var result="now"+operator+count+unit;return result+=round?"/"+unit:""}$scope.format="MMMM Do YYYY, HH:mm:ss.SSS",$scope.modes=Object.values(_modes.TIME_MODES),$scope.activeTab=$scope.activeTab||"filter",_lodash2.default.isUndefined($scope.mode)&&($scope.mode=_modes.TIME_MODES.QUICK),$scope.refreshLists=(0,_lodash2.default)(refreshIntervals).groupBy("section").values().value(),$scope.relative={from:{count:1,unit:"m",preview:void 0,round:!1},to:{count:0,unit:"s",preview:void 0,round:!1}},$scope.absolute={from:(0,_moment2.default)(),to:(0,_moment2.default)()},$scope.units=_time_units.timeUnits,$scope.relativeOptions=_relative_options.relativeOptions,$scope.$watch("from",function(date){_moment2.default.isMoment(date)&&$scope.mode===_modes.TIME_MODES.ABSOLUTE&&($scope.absolute.from=date)}),$scope.$watch("to",function(date){_moment2.default.isMoment(date)&&$scope.mode===_modes.TIME_MODES.ABSOLUTE&&($scope.absolute.to=date)}),$scope.$watch("absolute.from",function(newDate){_lodash2.default.set($scope,"browserAbsolute.from",new Date(newDate.year(),newDate.month(),newDate.date()))}),$scope.$watch("absolute.to",function(newDate){_lodash2.default.set($scope,"browserAbsolute.to",new Date(newDate.year(),newDate.month(),newDate.date()))}),$scope.pickFromDate=function(date){if(!date)return _lodash2.default.get($scope,"browserAbsolute.from");var defaultTimeZoneDate=(0,_moment2.default)({year:date.getFullYear(),month:date.getMonth(),day:date.getDate(),hour:0,minute:0,second:0,millisecond:0});return $scope.absolute.from=defaultTimeZoneDate},$scope.pickToDate=function(date){if(!date)return _lodash2.default.get($scope,"browserAbsolute.to");var defaultTimeZoneDate=(0,_moment2.default)({year:date.getFullYear(),month:date.getMonth(),day:date.getDate(),hour:23,minute:59,second:59,millisecond:999});return $scope.absolute.to=defaultTimeZoneDate},$scope.setMode=function(thisMode){switch(thisMode){case _modes.TIME_MODES.QUICK:case _modes.TIME_MODES.RECENT:break;case _modes.TIME_MODES.RELATIVE:$scope.relative=(0,_parse_relative_parts.parseRelativeParts)($scope.from,$scope.to),$scope.formatRelative("from"),$scope.formatRelative("to");break;case _modes.TIME_MODES.ABSOLUTE:$scope.absolute.from=_datemath2.default.parse($scope.from||(0,_moment2.default)().subtract(15,"minutes")),$scope.absolute.to=_datemath2.default.parse($scope.to||(0,_moment2.default)(),{roundUp:!0})}$scope.mode=thisMode},$scope.setQuick=function(from,to){$scope.onFilterSelect({from:from,to:to})},$scope.setToNow=function(key){$scope.absolute[key]=(0,_moment2.default)()},$scope.setRelativeToNow=function(key){$scope.relative[key].count=0,$scope.relative[key].round=!1,$scope.formatRelative(key)},$scope.checkRelative=function(){if(null!=$scope.relative.from.count&&null!=$scope.relative.to.count){var from=_datemath2.default.parse(getRelativeString("from")),to=_datemath2.default.parse(getRelativeString("to"),{roundUp:!0});return!to||!from||to.isBefore(from)}},$scope.formatRelative=function(key){var relativeString=getRelativeString(key),parsed=_datemath2.default.parse(relativeString,{roundUp:"to"===key}),preview=void 0;return preview="now"===relativeString?"Now":parsed?parsed.format($scope.format):void 0,_lodash2.default.set($scope,"relative."+key+".preview",preview),parsed},$scope.applyRelative=function(){$scope.onFilterSelect({from:getRelativeString("from"),to:getRelativeString("to")})},$scope.applyAbsolute=function(){$scope.onFilterSelect({from:(0,_moment2.default)($scope.absolute.from),to:(0,_moment2.default)($scope.absolute.to)})},$scope.setRefreshInterval=function(interval){interval=_lodash2.default.clone(interval||{}),notify.log("before: "+interval.pause),interval.pause=null!=interval.pause&&!1!==interval.pause,notify.log("after: "+interval.pause),$scope.onIntervalSelect({interval:interval})},$scope.setMode($scope.mode)}}})},function(module,exports){module.exports='<div class="kbn-timepicker" data-test-subj="timePicker">\n\n  <div class="tab-content kbn-timepicker-content">\n    \x3c!-- Filters --\x3e\n    <div ng-show="activeTab === \'filter\'" role="tabpanel" class="tab-pane active">\n      <div class="kbn-timepicker-title">\n        <h2 class="kuiLocalDropdownTitle kbn-timepicker-title__text">\n          Time Range\n        </h2>\n      </div>\n\n      <div class="kuiVerticalRhythmSmall">\n        <div role="tablist" class="euiTabs euiTabs--small kbn-timepicker-modes kbn-timepicker-title__section">\n          <button\n            id="timepickerQuick"\n            role="tab"\n            class="euiTab"\n            ng-class="{\'euiTab-isSelected\': mode === \'quick\' }"\n            ng-click="setMode(\'quick\')"\n            aria-selected="{{mode === \'quick\'}}"\n            data-test-subj="timepicker-quick-button"\n          >\n            Quick\n          </button>\n\n          <button\n            id="timepickerRelative"\n            role="tab"\n            class="euiTab"\n            ng-class="{\'euiTab-isSelected\': mode === \'relative\' }"\n            ng-click="setMode(\'relative\')"\n            aria-selected="{{mode === \'relative\'}}"\n            data-test-subj="timepicker-relative-button"\n          >\n            Relative\n          </button>\n\n          <button\n            id="timepickerAbsolute"\n            role="tab"\n            class="euiTab"\n            ng-class="{\'euiTab-isSelected\': mode === \'absolute\' }"\n            ng-click="setMode(\'absolute\')"\n            aria-selected="{{mode === \'absolute\'}}"\n            data-test-subj="timepicker-absolute-button"\n          >\n            Absolute\n          </button>\n\n          <button\n            id="timepickerRecent"\n            role="tab"\n            class="euiTab"\n            ng-class="{\'euiTab-isSelected\': mode === \'recent\' }"\n            ng-click="setMode(\'recent\')"\n            aria-selected="{{mode === \'recent\'}}"\n            data-test-subj="timepicker-recent-button"\n          >\n            Recent\n          </button>\n        </div>\n      </div>\n\n      <div\n        class="kuiVerticalRhythmSmall"\n        ng-switch\n        on="mode"\n      >\n        <kbn-timepicker-quick-panel\n          ng-switch-when="quick"\n          set-quick="setQuick(from, to)"\n          role="tabpanel"\n          aria-labelledby="timepickerQuick"\n        ></kbn-timepicker-quick-panel>\n\n        <kbn-timepicker-recent-panel\n          ng-switch-when="recent"\n          set-quick="setQuick(from, to)"\n          role="tabpanel"\n          aria-labelledby="timepickerRecent"\n        ></kbn-timepicker-recent-panel>\n\n        <kbn-timepicker-relative-panel\n          ng-switch-when="relative"\n          apply-relative="applyRelative()"\n          check-relative="checkRelative()"\n          format-relative="formatRelative(key)"\n          relative="relative"\n          relative-options="relativeOptions"\n          set-relative-to-now="setRelativeToNow(key)"\n          units="units"\n          role="tabpanel"\n          aria-labelledby="timepickerRelative"\n        ></kbn-timepicker-relative-panel>\n\n        <kbn-timepicker-absolute-panel\n          ng-switch-when="absolute"\n          absolute="absolute"\n          apply-absolute="applyAbsolute()"\n          format="format"\n          pick-from-date="pickFromDate"\n          pick-to-date="pickToDate"\n          set-to-now="setToNow(key)"\n          role="tabpanel"\n          aria-labelledby="timepickerAbsolute"\n        ></kbn-timepicker-absolute-panel>\n      </div>\n    </div>\n\n    \x3c!-- Refresh Intervals --\x3e\n    <div ng-show="activeTab === \'interval\'" role="tabpanel" class="tab-pane active">\n      <h2 class="kuiLocalDropdownTitle">\n        Refresh Interval\n      </h2>\n\n      <div ng-repeat="list in refreshLists" class="kbn-refresh-section">\n        <ul class="list-unstyled">\n          <li ng-repeat="inter in list">\n            <a\n              class="refresh-interval"\n              ng-class="{ \'refresh-interval-active\': interval.value === inter.value }"\n              ng-click="setRefreshInterval(inter)"\n              kbn-accessible-click\n            >\n              {{inter.display}}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2725)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_kbn_timepicker_quick_panel=__webpack_require__(2726),_kbn_timepicker_quick_panel2=_interopRequireDefault(_kbn_timepicker_quick_panel);__webpack_require__(2).uiModules.get("ui/timepicker").directive("kbnTimepickerQuickPanel",function(config){return{restrict:"E",replace:!0,scope:{setQuick:"&"},template:_kbn_timepicker_quick_panel2.default,controller:function($scope){var quickRanges=config.get("timepicker:quickRanges");$scope.quickLists=(0,_lodash2.default)(quickRanges).groupBy("section").values().value()}}})},function(module,exports){module.exports='<div class="kbn-timepicker-body">\n  <div ng-repeat="list in quickLists" class="kbn-timepicker-section kbn-timepicker-quick-section">\n    <ul class="list-unstyled">\n      <li ng-repeat="option in list">\n        <a\n          class="kuiLink"\n          ng-click="setQuick({from: option.from, to: option.to})"\n          ng-bind="::option.display"\n          kbn-accessible-click\n        ></a>\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2728)},function(module,exports,__webpack_require__){"use strict";var _kbn_timepicker_recent_panel=__webpack_require__(2729),_kbn_timepicker_recent_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_timepicker_recent_panel),_modules=__webpack_require__(2),_time_history=__webpack_require__(1018),_pretty_duration=__webpack_require__(1079);_modules.uiModules.get("ui/timepicker").directive("kbnTimepickerRecentPanel",function(){return{restrict:"E",replace:!0,scope:{setQuick:"&"},template:_kbn_timepicker_recent_panel2.default,controller:function($scope,config){var getConfig=function(){return config.get.apply(config,arguments)};$scope.recent=_time_history.timeHistory.get().map(function(time){return time.display=(0,_pretty_duration.prettyDuration)(time.from,time.to,getConfig),time})}}})},function(module,exports){module.exports='<div class="kbn-timepicker-body">\n\n  <div ng-show="recent.length === 0" class="euiText">\n    <p>\n      No time history. Your most recent time ranges show up here, so you can easily view them later.\n    </p>\n  </div>\n\n  <div class="kbn-timepicker-section">\n    <ul class="list-unstyled">\n      <li ng-repeat="option in recent">\n        <a\n          class="kuiLink"\n          ng-click="setQuick({from: option.from, to: option.to})"\n          ng-bind="::option.display"\n          kbn-accessible-click\n        ></a>\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2731)},function(module,exports,__webpack_require__){"use strict";var _kbn_timepicker_relative_panel=__webpack_require__(2732),_kbn_timepicker_relative_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_timepicker_relative_panel);__webpack_require__(2).uiModules.get("ui/timepicker").directive("kbnTimepickerRelativePanel",function(){return{restrict:"E",replace:!0,scope:{applyRelative:"&",checkRelative:"&",formatRelative:"&",relative:"=",relativeOptions:"=",setRelativeToNow:"&",units:"="},template:_kbn_timepicker_relative_panel2.default,controller:function(){}}})},function(module,exports){module.exports='<form role="form" ng-submit="applyRelative()" class="form-inline" name="relativeTime">\n  <div class="kbn-timepicker-body kuiVerticalRhythm">\n    <div class="kbn-timepicker-section kbn-timepicker-body-column">\n      <div class="kuiLocalDropdownHeader kbn-timepicker-form-header">\n        <label class="kuiLocalDropdownHeader__label">\n          From\n        </label>\n\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            class="kuiLocalDropdownHeader__action"\n            ng-click="setRelativeToNow({key:\'from\'})"\n            kbn-accessible-click\n          >\n            Set To Now\n          </a>\n        </div>\n      </div>\n\n      <div class="kuiLocalDropdownFormNote kuiVerticalRhythmSmall">\n        <span ng-show="relative.from.preview">\n          {{relative.from.preview}}\n        </span>\n        <span ng-hide="relative.from.preview">\n          <em>Invalid Expression</em>\n        </span>\n      </div>\n\n      <div class="kuiFieldGroup kuiVerticalRhythmSmall">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <input\n            required\n            ng-model="relative.from.count"\n            ng-change="formatRelative({key:\'from\'})"\n            greater-than="-1"\n            min="0"\n            type="number"\n            ng-class="{ \'kuiTextInput-isInvalid\' : checkRelative() }"\n            class="kuiTextInput fullWidth"\n          >\n        </div>\n\n        <div class="kuiFieldGroupSection">\n          <select\n            ng-model="relative.from.unit"\n            ng-options="opt.value as opt.text for opt in relativeOptions"\n            ng-change="formatRelative({key:\'from\'})"\n            ng-class="{ \'kuiSelect-isInvalid\': checkRelative() }"\n            class="kuiSelect fullWidth"\n          >\n          </select>\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythmSmall">\n        <label class="kuiCheckBoxLabel">\n          <input\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="relative.from.round"\n            ng-checked="relative.from.round"\n            ng-change="formatRelative({key:\'from\'})"\n          >\n          <span class="kuiCheckBoxLabel__text">\n            round to the {{units[relative.from.unit.substring(0,1)]}}\n          </span>\n        </label>\n      </div>\n    </div>\n\n    <div class="kbn-timepicker-section kbn-timepicker-body-column">\n      <div class="kuiLocalDropdownHeader kbn-timepicker-form-header">\n        <label class="kuiLocalDropdownHeader__label">\n          To\n        </label>\n\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            class="kuiLocalDropdownHeader__action"\n            ng-click="setRelativeToNow({key:\'to\'})"\n            kbn-accessible-click\n          >\n            Set To Now\n          </a>\n        </div>\n      </div>\n\n      <div class="kuiLocalDropdownFormNote kuiVerticalRhythmSmall">\n        <span ng-show="relative.to.preview">\n          {{relative.to.preview}}\n        </span>\n        <span ng-hide="relative.to.preview">\n          <em>Invalid Expression</em>\n        </span>\n      </div>\n\n      <div class="kuiFieldGroup kuiVerticalRhythmSmall">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <input\n            required\n            ng-model="relative.to.count"\n            ng-change="formatRelative({key:\'to\'})"\n            greater-than="-1"\n            min="0"\n            type="number"\n            ng-class="{ \'kuiTextInput-isInvalid\': checkRelative() }"\n            class="kuiTextInput fullWidth"\n          >\n        </div>\n\n        <div class="kuiFieldGroupSection">\n          <select\n            ng-model="relative.to.unit"\n            ng-options="opt.value as opt.text for opt in relativeOptions"\n            ng-change="formatRelative({key:\'to\'})"\n            ng-class="{ \'kuiSelect-isInvalid\': checkRelative() }"\n            class="kuiSelect fullWidth"\n          >\n          </select>\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythmSmall">\n        <label class="kuiCheckBoxLabel">\n          <input\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="relative.to.round"\n            ng-checked="relative.to.round"\n            ng-change="formatRelative({key:\'to\'})"\n          >\n          <span class="kuiCheckBoxLabel__text">\n            round to the {{units[relative.to.unit.substring(0,1)]}}\n          </span>\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div class="kbn-timepicker-actions kuiVerticalRhythm">\n    <span\n      class="kbn-timepicker-action-item kbn-timepicker-error"\n      ng-show="checkRelative()"\n    >\n      <strong>From</strong> must occur before <strong>To</strong>\n    </span>\n    <button\n      type="submit"\n      class="kuiButton kuiButton--primary kbn-timepicker-submit-button"\n      ng-disabled="!(relative.from.preview && relative.to.preview) || checkRelative()"\n      data-test-subj="timepickerGoButton"\n    >\n      Go\n    </button>\n  </div>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2734)},function(module,exports,__webpack_require__){"use strict";var _kbn_timepicker_absolute_panel=__webpack_require__(2735),_kbn_timepicker_absolute_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_timepicker_absolute_panel);__webpack_require__(2).uiModules.get("ui/timepicker").directive("kbnTimepickerAbsolutePanel",function(){return{restrict:"E",replace:!0,scope:{absolute:"=",applyAbsolute:"&",format:"=",pickFromDate:"=",pickToDate:"=",setToNow:"&"},template:_kbn_timepicker_absolute_panel2.default,controller:function(){}}})},function(module,exports){module.exports='<form name="absoluteTime" ng-submit="applyAbsolute()">\n  <div class="kbn-timepicker-body">\n    <div class="kbn-timepicker-section kbn-timepicker-body-column">\n      <div class="kuiLocalDropdownHeader kbn-timepicker-form-header">\n        <label class="kuiLocalDropdownHeader__label">\n          From\n        </label>\n\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            class="kuiLocalDropdownHeader__action"\n            ng-click="setToNow({key:\'from\'})"\n            kbn-accessible-click\n          >\n            Set To Now\n          </a>\n        </div>\n      </div>\n\n      <input\n        type="text"\n        required\n        class="kuiTextInput fullWidth"\n        input-datetime="{{format}}"\n        ng-model="absolute.from"\n      >\n      <div ng-show="!absolute.from"><em>Invalid Date</em></div>\n\n      <div>\n        <datepicker ng-model="pickFromDate" ng-model-options="{ getterSetter: true }" max-date="pickToDate()" show-weeks="false"></datepicker>\n      </div>\n    </div>\n\n    <div class="kbn-timepicker-section kbn-timepicker-body-column">\n      <div class="kuiLocalDropdownHeader kbn-timepicker-form-header">\n        <label class="kuiLocalDropdownHeader__label">\n          To\n        </label>\n\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            class="kuiLocalDropdownHeader__action"\n            ng-click="setToNow({key:\'to\'})"\n            kbn-accessible-click\n          >\n            Set To Now\n          </a>\n        </div>\n      </div>\n\n      <span ng-show="!absolute.to"><em>Invalid Date</em></span>\n      <input\n        type="text"\n        required\n        class="kuiTextInput fullWidth"\n        input-datetime="{{format}}"\n        ng-model="absolute.to"\n      >\n\n      <div>\n        <datepicker ng-model="pickToDate" ng-model-options="{ getterSetter: true }" min-date="pickFromDate()" show-weeks="false"></datepicker>\n      </div>\n    </div>\n  </div>\n\n  <div class="kbn-timepicker-actions kuiVerticalRhythm">\n    <span\n      class="kbn-timepicker-action-item kbn-timepicker-error"\n      ng-show="absolute.from > absolute.to"\n    >\n      <strong>From</strong> must occur before <strong>To</strong>\n    </span>\n    <button\n      type="submit"\n      class="kuiButton kuiButton--primary kbn-timepicker-submit-button"\n      ng-disabled="absolute.from > absolute.to || !absolute.from || !absolute.to"\n      data-test-subj="timepickerGoButton"\n    >\n      Go\n    </button>\n  </div>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function parseRelativeString(part){var results={},matches=_lodash2.default.isString(part)&&part.match(/now(([\-\+])([0-9]+)([smhdwMy])(\/[smhdwMy])?)?/),isNow=matches&&!matches[1],opperator=matches&&matches[2],count=matches&&matches[3],unit=matches&&matches[4],roundBy=matches&&matches[5];if(isNow)return{count:0,unit:"s",round:!1};if(count&&unit)return results.count=parseInt(count,10),results.unit=unit,"+"===opperator&&(results.unit+="+"),results.round=!!roundBy,results;results={count:0,unit:"s",round:!1};for(var duration=_moment2.default.duration((0,_moment2.default)().diff(_datemath2.default.parse(part))),units=_lodash2.default.pluck(_lodash2.default.clone(_relative_options.relativeOptions).reverse(),"value").filter(function(s){return/^[smhdwMy]$/.test(s)}),unitOp="",i=0;i<units.length;i++){var as=duration.as(units[i]);if(as<0&&(unitOp="+"),Math.abs(as)>1){results.count=Math.round(Math.abs(as)),results.unit=units[i]+unitOp,results.round=!1;break}}return results}function parseRelativeParts(from,to){var results={};if(results.from=parseRelativeString(from),results.to=parseRelativeString(to),results.from&&results.to)return results}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRelativeString=parseRelativeString,exports.parseRelativeParts=parseRelativeParts;var _datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_relative_options=__webpack_require__(654)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").constant("refreshIntervals",[{value:0,display:"Off",section:0},{value:5e3,display:"5 seconds",section:1},{value:1e4,display:"10 seconds",section:1},{value:3e4,display:"30 seconds",section:1},{value:45e3,display:"45 seconds",section:1},{value:6e4,display:"1 minute",section:2},{value:3e5,display:"5 minutes",section:2},{value:9e5,display:"15 minutes",section:2},{value:18e5,display:"30 minutes",section:2},{value:36e5,display:"1 hour",section:3},{value:72e5,display:"2 hour",section:3},{value:432e5,display:"12 hour",section:3},{value:864e5,display:"1 day",section:3}])},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_lodash=__webpack_require__(1),_kbn_global_timepicker=__webpack_require__(2740),_kbn_global_timepicker2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_global_timepicker),_time_navigation=__webpack_require__(2741);_modules.uiModules.get("kibana").directive("kbnGlobalTimepicker",function(timefilter,globalState,$rootScope){var listenForUpdates=(0,_lodash.once)(function($scope){$scope.$listen(timefilter,"update",function(){globalState.time=(0,_lodash.clone)(timefilter.time),globalState.refreshInterval=(0,_lodash.clone)(timefilter.refreshInterval),globalState.save()})});return{template:_kbn_global_timepicker2.default,replace:!0,require:"^kbnTopNav",link:function($scope,element,attributes,kbnTopNav){listenForUpdates($rootScope),$rootScope.timefilter=timefilter,$rootScope.toggleRefresh=function(){timefilter.refreshInterval.pause=!timefilter.refreshInterval.pause},$scope.forward=function(){timefilter.time=_time_navigation.timeNavigation.stepForward(timefilter.getBounds())},$scope.back=function(){timefilter.time=_time_navigation.timeNavigation.stepBackward(timefilter.getBounds())},$scope.updateFilter=function(from,to){timefilter.time.from=from,timefilter.time.to=to,kbnTopNav.close("filter")},$scope.updateInterval=function(interval){timefilter.refreshInterval=interval,kbnTopNav.close("interval")},$scope.getSharedTimeFilterFromDate=function(){return timefilter.isAutoRefreshSelectorEnabled||timefilter.isTimeRangeSelectorEnabled?timefilter.getBounds().min.clone().utc().format():null},$scope.getSharedTimeFilterToDate=function(){return timefilter.isAutoRefreshSelectorEnabled||timefilter.isTimeRangeSelectorEnabled?timefilter.getBounds().max.clone().utc().format():null}}}})},function(module,exports){module.exports='<div\n  ng-show="timefilter.isAutoRefreshSelectorEnabled || timefilter.isTimeRangeSelectorEnabled"\n  data-shared-timefilter-from="{{ getSharedTimeFilterFromDate() }}"\n  data-shared-timefilter-to="{{ getSharedTimeFilterToDate() }}"\n  class="kuiLocalMenu"\n  data-test-subj="globalTimepicker"\n>\n  <button\n    class="kuiLocalMenuItem"\n    aria-label="{{ timefilter.refreshInterval.pause ? \'Resume refreshing data\' : \'Pause refreshing data\' }}"\n    ng-click="toggleRefresh()"\n    ng-show="timefilter.isAutoRefreshSelectorEnabled && (timefilter.refreshInterval.value > 0)"\n    data-test-subj="globalTimepickerAutoRefreshButton"\n    data-test-subj-state="{{ timefilter.refreshInterval.pause ? \'inactive\' : \'active\' }}"\n  >\n    <span\n      class="kuiIcon"\n      aria-hidden="true"\n      ng-class="timefilter.refreshInterval.pause ? \'fa-play\' : \'fa-pause\'"\n    ></span>\n  </button>\n\n  <button\n    class="kuiLocalMenuItem navbar-timepicker-auto-refresh-desc"\n    ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(\'interval\') }"\n    ng-show="timefilter.isAutoRefreshSelectorEnabled"\n    ng-click="kbnTopNav.toggle(\'interval\')"\n  >\n    <span ng-show="timefilter.refreshInterval.value === 0">\n      <span aria-hidden="true" class="kuiIcon fa-repeat"></span> Auto-refresh\n    </span>\n\n    <span\n      ng-show="timefilter.refreshInterval.value > 0"\n      aria-label="{{ \'Data will refresh every \' + timefilter.refreshInterval.display }}"\n    >\n      {{ timefilter.refreshInterval.display }}\n    </span>\n  </button>\n\n  <button\n    ng-show="timefilter.isTimeRangeSelectorEnabled"\n    class="kuiLocalMenuItem"\n    ng-click="back()"\n    aria-label="Move backward in time"\n  >\n    <span\n      class="kuiIcon fa-chevron-left"\n      aria-hidden="true"\n      tooltip="Move backward in time"\n    ></span>\n  </button>\n\n  <button\n    ng-show="timefilter.isTimeRangeSelectorEnabled"\n    data-test-subj="globalTimepickerButton"\n    class="kuiLocalMenuItem navbar-timepicker-time-desc"\n    ng-class="{\'kuiLocalMenuItem-isSelected\': kbnTopNav.isCurrent(\'filter\')}"\n    ng-click="kbnTopNav.toggle(\'filter\')"\n    aria-label="Open time range picker"\n    aria-haspopup="true"\n  >\n    <span aria-hidden="true" class="kuiIcon fa-clock-o"></span>\n    <pretty-duration\n      from="timefilter.time.from"\n      to="timefilter.time.to"\n      data-test-subj="globalTimepickerRange"\n    ></pretty-duration>\n  </button>\n\n  <button\n    ng-show="timefilter.isTimeRangeSelectorEnabled"\n    class="kuiLocalMenuItem"\n    ng-click="forward()"\n    aria-label="Move forward in time"\n  >\n    <span\n      aria-hidden="true"\n      class="kuiIcon fa-chevron-right"\n      tooltip="Move forward in time"\n    ></span>\n  </button>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timeNavigation=void 0;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);exports.timeNavigation={stepForward:function(_ref){var min=_ref.min,max=_ref.max,diff=max.diff(min);return{from:(0,_moment2.default)(max).add(1,"ms").toISOString(),to:(0,_moment2.default)(max).add(diff+1,"ms").toISOString(),mode:"absolute"}},stepBackward:function(_ref2){var min=_ref2.min,max=_ref2.max,diff=max.diff(min);return{from:(0,_moment2.default)(min).subtract(diff+1,"ms").toISOString(),to:(0,_moment2.default)(min).subtract(1,"ms").toISOString(),mode:"absolute"}},zoomOut:function(_ref3){var min=_ref3.min,max=_ref3.max,diff=max.diff(min);return{from:(0,_moment2.default)(min).subtract(diff/2,"ms").toISOString(),to:(0,_moment2.default)(max).add(diff/2,"ms").toISOString(),mode:"absolute"}},zoomIn:function(_ref4){var min=_ref4.min,max=_ref4.max,diff=max.diff(min);return{from:(0,_moment2.default)(min).add(diff/4,"ms").toISOString(),to:(0,_moment2.default)(max).subtract(diff/4,"ms").toISOString(),mode:"absolute"}}}},function(module,exports,__webpack_require__){"use strict";var _tooltip=__webpack_require__(2743),_tooltip2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tooltip);__webpack_require__(642).config(function($tooltipProvider){$tooltipProvider.options({placement:"bottom",animation:!0,popupDelay:150,appendToBody:!1})}).directive("kbnTooltip",function(){return{restrict:"E",template:_tooltip2.default,transclude:!0,replace:!0,scope:!0,link:function($scope,$el,attr){$scope.text=attr.text,$scope.placement=attr.placement||"top",$scope.delay=attr.delay||400,$scope.appendToBody=attr.appendToBody||0}}})},function(module,exports){module.exports='<span\n  tooltip="{{text}}"\n  tooltip-placement="{{placement}}"\n  tooltip-popup-delay="{{delay}}"\n  tooltip-append-to-body="{{appendToBody}}"\n  ng-transclude></span>'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2745)},function(module,exports,__webpack_require__){"use strict";var _typeahead=__webpack_require__(2746),_typeahead2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_typeahead),_modules=__webpack_require__(2),_eui=__webpack_require__(5);__webpack_require__(656),__webpack_require__(2747),__webpack_require__(2748),__webpack_require__(2749);var UP=_eui.comboBoxKeyCodes.UP,DOWN=_eui.comboBoxKeyCodes.DOWN,ENTER=_eui.comboBoxKeyCodes.ENTER,TAB=_eui.comboBoxKeyCodes.TAB,ESCAPE=_eui.comboBoxKeyCodes.ESCAPE;_modules.uiModules.get("kibana/typeahead").directive("kbnTypeahead",function(){return{template:_typeahead2.default,transclude:!0,restrict:"E",scope:{items:"=",itemTemplate:"=",onSelect:"&"},bindToController:!0,controllerAs:"typeahead",controller:function($scope,$element){var _this=this;this.isHidden=!0,this.selectedIndex=null,this.submit=function(){var item=_this.items[_this.selectedIndex];_this.onSelect({item:item}),_this.selectedIndex=null},this.selectPrevious=function(){null!==_this.selectedIndex&&_this.selectedIndex>0?_this.selectedIndex--:_this.selectedIndex=_this.items.length-1,_this.scrollSelectedIntoView()},this.selectNext=function(){null!==_this.selectedIndex&&_this.selectedIndex<_this.items.length-1?_this.selectedIndex++:_this.selectedIndex=0,_this.scrollSelectedIntoView()},this.scrollSelectedIntoView=function(){var parent=$element.find(".typeahead-items")[0],child=$element.find(".typeahead-item").eq(_this.selectedIndex)[0];parent.scrollTop=Math.min(parent.scrollTop,child.offsetTop),parent.scrollTop=Math.max(parent.scrollTop,child.offsetTop+child.offsetHeight-parent.offsetHeight)},this.isVisible=function(){var isFocusedOrMousedOver=_this.isFocused||_this.isMousedOver;return!_this.isHidden&&_this.items&&_this.items.length>0&&isFocusedOrMousedOver},this.resetLimit=function(){_this.limit=50},this.increaseLimit=function(){_this.limit+=50},this.onKeyDown=function(event){var keyCode=event.keyCode;keyCode===ESCAPE&&(_this.isHidden=!0),[TAB,ENTER].includes(keyCode)&&!_this.hidden&&null!==_this.selectedIndex?(event.preventDefault(),_this.submit()):keyCode===UP&&_this.items.length>0?(event.preventDefault(),_this.isHidden=!1,_this.selectPrevious()):keyCode===DOWN&&_this.items.length>0?(event.preventDefault(),_this.isHidden=!1,_this.selectNext()):_this.selectedIndex=null},this.onKeyPress=function(){_this.isHidden=!1},this.onItemClick=function(){_this.submit(),$scope.$broadcast("focus"),$scope.$evalAsync(function(){return _this.isHidden=!1})},this.onFocus=function(){_this.isFocused=!0,_this.isHidden=!0,_this.resetLimit()},this.onBlur=function(){_this.isFocused=!1},this.onMouseEnter=function(){_this.isMousedOver=!0},this.onMouseLeave=function(){_this.isMousedOver=!1}}}})},function(module,exports){module.exports='<div\n  class="typeahead"\n  ng-keydown="typeahead.onKeyDown($event)"\n  ng-keypress="typeahead.onKeyPress($event)"\n>\n  <ng-transclude></ng-transclude>\n  <div\n    class="typeahead-popover"\n    ng-show="typeahead.isVisible()"\n    ng-mouseenter="typeahead.onMouseEnter()"\n    ng-mouseleave="typeahead.onMouseLeave()"\n  >\n    <div\n      class="typeahead-items"\n      kbn-scroll-bottom="typeahead.increaseLimit()"\n    >\n      <div\n        class="typeahead-item"\n        ng-repeat="item in typeahead.items | limitTo: typeahead.limit"\n        ng-class="{active: $index === typeahead.selectedIndex}"\n        ng-click="typeahead.onItemClick()"\n        ng-mouseenter="typeahead.selectedIndex = $index"\n      >\n        <kbn-typeahead-item\n          item="item"\n          template="typeahead.itemTemplate"\n        >\n        </kbn-typeahead-item>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana/typeahead").directive("kbnTypeaheadInput",function(){return{restrict:"A",require:"^kbnTypeahead",link:function($scope,$el,$attr,typeahead){$el.attr("autocomplete","off"),$el.on("focus",function(){$scope.$evalAsync(function(){return typeahead.onFocus()})}),$el.on("blur",function(){$scope.$evalAsync(function(){return typeahead.onBlur()})}),$scope.$on("focus",function(){$el.focus()}),$scope.$on("$destroy",function(){$el.off()})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana/typeahead").directive("kbnTypeaheadItem",function($compile){return{restrict:"E",scope:{item:"=",template:"="},link:function(scope,element){element.html(scope.template||"{{item}}"),$compile(element.contents())(scope)}}})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_saved_object_save_as_checkbox=__webpack_require__(2751),_saved_object_save_as_checkbox2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_saved_object_save_as_checkbox);_modules.uiModules.get("kibana").directive("savedObjectSaveAsCheckBox",function(){return{restrict:"E",template:_saved_object_save_as_checkbox2.default,replace:!0,scope:{savedObject:"="}}})},function(module,exports){module.exports='<div ng-hide="!savedObject.id || savedObject.isSaving">\n  <div ng-hide="!savedObject.isTitleChanged() || savedObject.copyOnSave" class="kuiLocalDropdownWarning kuiVerticalRhythmSmall">\n    In previous versions of Kibana, changing the name of a {{savedObject.getDisplayName()}} would make a copy with the new name. Use the \'Save as a new {{savedObject.getDisplayName()}}\' checkbox to do this now.\n  </div>\n\n  <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n    <input\n      class="kuiCheckBox"\n      type="checkbox"\n      data-test-subj="saveAsNewCheckbox"\n      ng-model="savedObject.copyOnSave"\n      ng-checked="savedObject.copyOnSave"\n    >\n\n    <span class="kuiCheckBoxLabel__text">\n      Save as a new {{savedObject.getDisplayName()}}\n    </span>\n  </label>\n</div>\n\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var context=__webpack_require__(2879);context.keys().forEach(function(key){return context(key)})},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./auto_select_if_only_one.js":2880,"./click_focus.js":2881,"./confirm_click.js":660,"./css_truncate.js":661,"./documentation_href.js":297,"./field_name.js":662,"./file_upload.js":1102,"./focus_on.js":648,"./inequality.js":655,"./infinite_scroll.js":1103,"./input_base64.js":2892,"./input_datetime.js":1081,"./input_focus.js":296,"./input_number.js":3173,"./json_input.js":1068,"./kbn_href.js":1024,"./kbn_src.js":1023,"./match_pairs.js":1134,"./paginate.js":1135,"./paginated_selectable_list.js":1136,"./pretty_duration.js":3176,"./rows.js":3177,"./saved_object_finder.js":670,"./scroll_bottom.js":656,"./string_to_number.js":1073,"./truncated.js":626,"./ui_select_focus_on.js":363,"./validate_agg.js":1137,"./validate_cidr_mask.js":1138,"./validate_date_math.js":646,"./validate_index_pattern.js":3181,"./validate_ip.js":647,"./validate_json.js":1140,"./validate_lowercase.js":3182};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2879},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("autoSelectIfOnlyOne",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attributes,ngModelCtrl){scope.$watchCollection(attributes.autoSelectIfOnlyOne,function(options){options&&1===options.length&&(ngModelCtrl.$setViewValue(options[0]),ngModelCtrl.$render())})}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2).uiModules.get("kibana").directive("clickFocus",function(){return{scope:{clickFocus:"="},restrict:"A",link:function($scope,$elem){function handler(){var focusElem=_jquery2.default.find("input[name="+$scope.clickFocus+"]");focusElem[0]&&focusElem[0].focus()}$elem.bind("click",handler),$scope.$on("$destroy",_lodash2.default.bindKey($elem,"unbind","click",handler))}}})},function(module,exports){module.exports='<span\n  aria-label="Boolean field"\n  class="field-name-icon kuiIcon fa-adjust"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="Conflicting field"\n  class="field-name-icon kuiIcon fa-warning"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="Date field"\n  class="field-name-icon kuiIcon fa-clock-o"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="Geo-point field"\n  class="field-name-icon kuiIcon fa-globe"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="IP address field"\n  class="field-name-icon kuiIcon fa-laptop"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="Murmur3 field"\n  class="field-name-icon"\n>\n  <strong aria-hidden="true">h</strong>\n</span>\n'},function(module,exports){module.exports='<span\n  aria-label="Number field"\n  class="field-name-icon"\n>\n  <strong aria-hidden="true">#</strong>\n</span>\n'},function(module,exports){module.exports='<span\n  aria-label="Source field"\n  class="field-name-icon kuiIcon fa-file-text-o"\n></span>\n'},function(module,exports){module.exports='<span\n  aria-label="String field"\n  class="field-name-icon"\n>\n  <strong aria-hidden="true">t</strong>\n</span>\n'},function(module,exports){module.exports='<span\n  aria-label="Unknown field"\n  class="field-name-icon"\n>\n  <strong aria-hidden="true">?</strong>\n</span>\n'},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_modules=__webpack_require__(2),_Rx=__webpack_require__(462),_module=_modules.uiModules.get("kibana"),multipleUsageErrorMessage="Cannot use input-base-sixty-four directive on input with `multiple` attribute",createFileContent$=function(file){return _Rx.Observable.create(function(observer){var reader=new FileReader;return reader.onerror=function(err){observer.error(err)},reader.onload=function(){observer.next(reader.result),observer.complete()},reader.readAsDataURL(file),function(){reader.abort()}})};_module.directive("inputBaseSixtyFour",function(){return{restrict:"A",require:"ngModel",scope:"isolate",link:function($scope,$elem,attrs,ngModel){if($elem.prop("multiple"))throw new Error(multipleUsageErrorMessage);var maxSizeValidator=function(dataUrl){return{errorKey:"maxSize",isValid:""===attrs.max||dataUrl.length<=parseInt(attrs.max)}},validators=[maxSizeValidator],fileContent$=_Rx.Observable.fromEvent($elem,"change").map(function(e){return e.target.files}).switchMap(function(files){if(0===files.length)return[];if(files.length>1)throw new Error(multipleUsageErrorMessage);return createFileContent$(files[0])}).share(),validations$=fileContent$.map(function(fileContent){return validators.map(function(validator){return validator(fileContent)})}),unsubscribe=_Rx.Observable.combineLatest(fileContent$,validations$).subscribe(function(_ref){var _ref2=_slicedToArray(_ref,2),fileContent=_ref2[0],validations=_ref2[1];$scope.$evalAsync(function(){validations.forEach(function(validation){ngModel.$setValidity(validation.errorKey,validation.isValid)}),validations.every(function(validation){return validation.isValid})&&ngModel.$setViewValue(fileContent)})},function(err){throw err});$scope.$on("destroy",unsubscribe)}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("inputNumber",function(){return{restrict:"A",require:"ngModel",link:function($scope,$elem,attrs,ngModel){function checkNumber(value){return ngModel.$setValidity("number",!isNaN(parseFloat(value))),value}ngModel.$parsers.push(checkNumber),ngModel.$formatters.push(checkNumber)}}})},function(module,exports){module.exports='<button\n  class="kuiLink"\n  ng-if="linkToTop"\n  ng-click="paginate.goToTop()"\n  data-test-subj="paginateControlsLinkToTop"\n>\n  Scroll to top\n</button>\n\n<div\n  class="pagination-other-pages"\n  data-test-subj="paginationControls"\n>\n  <ul class="pagination-other-pages-list pagination-sm" ng-if="page.count > 1">\n    <li ng-style="{\'visibility\':\'hidden\'}" ng-if="page.first">\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(page.prev)"\n      >\n        <span class="euiButtonEmpty__content">«</span>\n      </button>\n    </li>\n    <li ng-style="{\'visibility\':\'visible\'}" ng-if="!page.first">\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(page.prev)"\n      >\n        <span class="euiButtonEmpty__content">«</span>\n      </button>\n    </li>\n\n    <li ng-if="!otherPages.containsFirst">\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(1)"\n      >\n        <span class="euiButtonEmpty__content">1</span>\n      </button>\n      ...\n    </li>\n\n    <li\n      ng-repeat="other in otherPages"\n      ng-class="{ active: other.number === page.number }"\n    >\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-class="{ \'euiPaginationButton-isActive\': other.number === page.number }"\n        ng-click="paginate.goToPage(other)"\n      >\n        <span class="euiButtonEmpty__content">{{other.number}}</span>\n      </button>\n    </li>\n\n    <li ng-if="!otherPages.containsLast">\n      ...\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(page.count)"\n      >\n        <span class="euiButtonEmpty__content">{{page.count}}</span>\n      </button>\n    </li>\n\n    <li ng-style="{\'visibility\':\'hidden\'}" ng-if="page.last">\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(page.next)"\n      >\n        <span class="euiButtonEmpty__content">»</span>\n      </button>\n    </li>\n    <li ng-style="{\'visibility\':\'visible\'}" ng-if="!page.last">\n      <button\n        class="euiButtonEmpty euiButtonEmpty--text euiButtonEmpty--small euiPaginationButton"\n        ng-click="paginate.goToPage(page.next)"\n      >\n        <span class="euiButtonEmpty__content">»</span>\n      </button>\n    </li>\n  </ul>\n</div>\n\n<form class="form-inline pagination-size" ng-if="showSelector">\n  <div class="form-group">\n    <label>Page Size</label>\n    <select\n      ng-model="paginate.perPage"\n      ng-options="opt.value as opt.title for opt in paginate.sizeOptions"\n      data-test-subj="paginateControlsPageSizeSelect"\n    ></select>\n  </div>\n</form>\n'},function(module,exports){module.exports='<form\n  role="form"\n  class="kuiVerticalRhythm"\n>\n  <div class="kuiBar">\n    <div class="kuiBarSection">\n      <div class="kuiSearchInput fullWidth">\n        <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n        <input\n          class="kuiSearchInput__input"\n          input-focus\n          disable-input-focus="disableAutoFocus"\n          ng-model="query"\n          placeholder="Filter..."\n          class="form-control"\n          name="query"\n          type="text"\n          autocomplete="off"\n        >\n      </div>\n    </div>\n\n    <div class="kuiBarSection">\n      <p class="kuiText kuiSubduedText">\n        {{ (hits | filter: query).length }} of {{ hitCount }}\n      </p>\n    </div>\n  </div>\n</form>\n\n<paginate\n  list="hits | filter: query"\n  per-page="{{ perPage }}"\n  class="kuiVerticalRhythm"\n>\n  <button\n    class="paginate-heading list-group-item list-sort-button"\n    ng-click="sortHits(hits)"\n    aria-live="assertive"\n  >\n    <span class="kuiScreenReaderOnly">Sort by</span>\n    Name\n    <span\n      class="fa"\n      ng-class="isAscending ? \'fa-caret-up\' : \'fa-caret-down\'">\n      <span class="kuiScreenReaderOnly">({{isAscending ? \'ascending\' : \'descending\'}})</span>\n    </span>\n  </button>\n  <ul class="li-striped list-group list-group-menu">\n    <li class="list-group-item list-group-menu-item" ng-repeat="hit in page">\n      <a\n        data-test-subj="paginatedListItem-{{accessor(hit)}}"\n        ng-show="userMakeUrl"\n        kbn-href="{{ makeUrl(hit) }}">\n        <span>{{ accessor(hit) }}</span>\n      </a>\n\n      <div ng-show="userOnSelect" ng-click="onSelect(hit, $event)">\n        <span>{{ accessor(hit) }}</span>\n      </div>\n    </li>\n\n    <li class="list-group-item list-group-no-results" ng-if="(hits | filter: query).length === 0">\n      <p>No matches found.</p>\n    </li>\n  </ul>\n</paginate>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_pretty_duration=__webpack_require__(1079);_modules.uiModules.get("kibana").directive("prettyDuration",function(config){return{restrict:"E",scope:{from:"=",to:"="},link:function($scope,$elem){function setText(text){$elem.text(text),$elem.attr("aria-label","Current time range is "+text)}function stringify(){setText((0,_pretty_duration.prettyDuration)($scope.from,$scope.to,getConfig))}var getConfig=function(){return config.get.apply(config,arguments)};$scope.$watch("from",stringify),$scope.$watch("to",stringify)}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_config_result=__webpack_require__(299),_agg_config_result2=_interopRequireDefault(_agg_config_result),_filter_bar_click_handler=__webpack_require__(371),_modules=__webpack_require__(2),_table_cell_filter=__webpack_require__(3179),_table_cell_filter2=_interopRequireDefault(_table_cell_filter),_numeric=__webpack_require__(636);_modules.uiModules.get("kibana").directive("kbnRows",function($compile,$rootScope,getAppState,Private){var filterBarClickHandler=Private(_filter_bar_click_handler.FilterBarClickHandlerProvider);return{restrict:"A",link:function($scope,$el,attr){function addCell($tr,contents){function createCell(){return(0,_jquery2.default)(document.createElement("td"))}var $cell=void 0,$cellContent=void 0;if(contents instanceof _agg_config_result2.default){var field=contents.aggConfig.getField();!contents.aggConfig.isFilterable()||field&&!field.filterable?$cell=$cellContent=createCell():($cell=function(aggConfigResult){var $template=(0,_jquery2.default)(_table_cell_filter2.default);$template.addClass("cell-hover");var scope=$scope.$new(),$state=getAppState(),addFilter=filterBarClickHandler($state);return scope.onFilterClick=function(event,negate){(0,_jquery2.default)(event.target).is("a")||addFilter({point:{aggConfigResult:aggConfigResult},negate:negate})},$compile($template)(scope)}(contents),$cellContent=$cell.find("[data-cell-content]")),contents=contents.toString("html")}else $cell=$cellContent=createCell(),(0,_numeric.isNumeric)(contents)&&$cell.addClass("numeric-value");_lodash2.default.isObject(contents)?(contents.attr&&$cellContent.attr(contents.attr),contents.class&&$cellContent.addClass(contents.class),contents.scope?$cellContent=$compile($cellContent.prepend(contents.markup))(contents.scope):$cellContent.prepend(contents.markup),contents.attr&&$cellContent.attr(contents.attr)):""===contents?$cellContent.prepend("&nbsp;"):$cellContent.prepend(contents),$tr.append($cell)}function maxRowSize(max,row){return Math.max(max,row.length)}$scope.$watchMulti([attr.kbnRows,attr.kbnRowsMin],function(vals){var rows=vals[0],min=vals[1];$el.empty(),Array.isArray(rows)||(rows=[]);var width=rows.reduce(maxRowSize,0);if(isFinite(min)&&rows.length<min){rows=_lodash2.default.clone(rows);var emptyRow=new Array(width);_lodash2.default.times(width,function(i){emptyRow[i]=""}),_lodash2.default.times(min-rows.length,function(){rows.push(emptyRow)})}rows.forEach(function(row){var $tr=(0,_jquery2.default)(document.createElement("tr")).appendTo($el);row.forEach(function(cell){addCell($tr,cell)})})})}}})},function(module,exports,__webpack_require__){"use strict";function findByParam(values,param){if(Array.isArray(values)){var index=_lodash2.default.findIndex(values,param);if(-1===index)return;return values[index][param]}return values[param]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findByParam=findByParam;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports){module.exports='<td>\n  <div\n    data-cell-content\n    class="cell-hover"\n  >\n    <span class="table-cell-filter">\n      <span\n        ng-click="onFilterClick($event, false)"\n        class="fa fa-search-plus"\n        tooltip="Filter for value"\n        tooltip-append-to-body="1"\n      ></span>\n\n      <span\n        ng-click="onFilterClick($event, true)"\n        class="fa fa-search-minus"\n        tooltip="Filter out value"\n        tooltip-append-to-body="1"\n      ></span>\n    </span>\n  </div>\n</td>\n'},function(module,exports){module.exports='<form\n  role="form"\n  class="kuiVerticalRhythm"\n>\n  <div class="kuiBar">\n    <div class="kuiBarSection">\n      <div class="kuiSearchInput fullWidth">\n        <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n        <input\n          class="kuiSearchInput__input"\n          input-focus\n          disable-input-focus="disableAutoFocus"\n          ng-model="filter"\n          ng-attr-placeholder="{{ finder.properties.nouns | label }} Filter..."\n          ng-keydown="finder.filterKeyDown($event)"\n          name="filter"\n          type="text"\n          autocomplete="off"\n          data-test-subj="savedObjectFinderSearchInput"\n        >\n      </div>\n    </div>\n\n    <div class="kuiBarSection">\n      <p class="kuiText kuiSubduedText">\n        {{ pageFirstItem }}-{{ pageLastItem }} of {{ finder.hitCount }}\n      </p>\n\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-if="onAddNew"\n          ng-click="onAddNew()"\n          data-test-subj="addNewSavedObjectLink"\n        >\n          Add new {{ finder.properties.noun }}\n        </button>\n\n        <button\n          class="kuiButton kuiButton--secondary"\n          ng-if="!useLocalManagement"\n          ng-click="finder.manageObjects(finder.properties.name)"\n        >\n          Manage {{ finder.properties.nouns }}\n        </button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<paginate\n  list="finder.hits"\n  per-page="20"\n  class="kuiVerticalRhythm"\n>\n  <button\n    class="paginate-heading list-group-item list-sort-button"\n    ng-click="finder.sortHits(finder.hits)"\n    aria-live="assertive"\n  >\n    <span class="kuiScreenReaderOnly">Sort by</span>\n    Name\n    <span\n      class="fa"\n      ng-class="finder.isAscending ? \'fa-caret-up\' : \'fa-caret-down\'">\n      <span class="kuiScreenReaderOnly">({{finder.isAscending ? \'ascending\' : \'descending\'}})</span>\n    </span>\n  </button>\n  <ul class="li-striped list-group list-group-menu" ng-class="{\'select-mode\': finder.selector.enabled}">\n    <li\n      class="list-group-item list-group-menu-item"\n      ng-class="{\'active\': finder.selector.index === $index && finder.selector.enabled}"\n      ng-repeat="hit in page"\n      ng-keydown="finder.hitKeyDown($event, page, paginate)"\n      ng-click="finder.onChoose(hit, $event)">\n\n      <a ng-href="{{finder.makeUrl(hit)}}"\n          ng-blur="finder.hitBlur($event)"\n          ng-click="finder.preventClick($event)">\n          <span aria-hidden="true" class="finder-type fa" ng-if="hit.icon" ng-class="hit.icon"></span>\n          <div class="kuiIcon fa-flask ng-scope" ng-if="hit.type.shouldMarkAsExperimentalInUI()"></div>\n          <span>{{hit.title}}</span>\n          <p ng-if="hit.description" ng-bind="hit.description"></p>\n      </a>\n    </li>\n    <li\n      class="list-group-item list-group-no-results"\n      ng-if="finder.hits.length === 0">\n      <p ng-bind="\'No matching \' + finder.properties.nouns + \' found.\'"></p>\n    </li>\n  </ul>\n</paginate>\n'},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("kibana").directive("validateIndexPattern",function(){return{restrict:"A",require:"ngModel",link:function($scope,elem,attr,ngModel){var illegalCharacters=["\\","/","?",'"',"<",">","|"," "];!_lodash2.default.isUndefined(attr.validateIndexPatternAllowWildcard)&&"false"!==attr.validateIndexPatternAllowWildcard||illegalCharacters.push("*");var isValid=function(input){return null==input||""===input?1==!attr.required:"."!==input&&".."!==input&&!_lodash2.default.find(illegalCharacters,function(character){return input.indexOf(character)>=0})};ngModel.$validators.indexPattern=function(modelValue,viewValue){return isValid(viewValue)}}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("validateLowercase",function(){return{restrict:"A",require:"ngModel",link:function($scope,elem,attr,ctrl){ctrl.$validators.lowercase=function(modelValue,viewValue){return!!ctrl.$isEmpty(modelValue)||viewValue.toLowerCase()===viewValue}}}})},function(module,exports,__webpack_require__){"use strict";var context=__webpack_require__(3184);context.keys().forEach(function(key){return context(key)})},function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./comma_list.js":3185,"./field_type.js":671,"./label.js":1141,"./markdown.js":625,"./match_any.js":1142,"./moment.js":257,"./rison.js":1027,"./short_dots.js":359,"./sort_prefix_first.js":364,"./start_from.js":1143,"./trust_as_html.js":1144,"./unique.js":1145,"./uriescape.js":1026};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=3184},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_utils=__webpack_require__(285);_modules.uiModules.get("kibana").filter("commaList",function(){return function(input){var inclusive=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_utils.formatListAsProse)((0,_utils.parseCommaSeparatedList)(input),{inclusive:inclusive})}})},function(module,exports,__webpack_require__){"use strict";function registerTheme(theme,styles){themes[theme]=styles}function applyTheme(newTheme){currentTheme=newTheme;var styleNode=document.getElementById("themeCss");if(styleNode){var css=themes[currentTheme];styleNode.styleSheet?styleNode.styleSheet.cssText=css:styleNode.appendChild(document.createTextNode(css))}}function getCurrentTheme(){return currentTheme}Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerTheme=registerTheme,exports.applyTheme=applyTheme,exports.getCurrentTheme=getCurrentTheme;var themes={},currentTheme=void 0},,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./base.less":3191,"./callout.less":3192,"./config.less":3193,"./control_group.less":3194,"./dark-theme.less":3195,"./dark-variables.less":3196,"./hintbox.less":3197,"./input.less":3198,"./list-group-menu.less":3199,"./local_search.less":3200,"./navbar.less":3201,"./pagination.less":1147,"./react-input-range.less":3202,"./react-select.less":3203,"./sidebar.less":3204,"./spinner.less":3205,"./table.less":3206,"./theme.less":3207,"./truncate.less":3208,"./ui_select.less":3209};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=3190},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},function(module,exports){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FieldParamType(config){FieldParamType.Super.call(this,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldParamType=void 0;var _errors=__webpack_require__(56),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_field=__webpack_require__(3313),_field2=_interopRequireDefault(_field),_base=__webpack_require__(304);__webpack_require__(671);var _indexed_array=__webpack_require__(131),_notify=__webpack_require__(10),_prop_filter=__webpack_require__(672),_legacy_class=__webpack_require__(55),notifier=new _notify.Notifier;(0,_legacy_class.createLegacyClass)(FieldParamType).inherits(_base.BaseParamType),FieldParamType.prototype.editor=_field2.default,FieldParamType.prototype.scriptable=!0,FieldParamType.prototype.filterFieldTypes="*",FieldParamType.prototype.onlyAggregatable=!0,FieldParamType.prototype.serialize=function(field){return field.name},FieldParamType.prototype.getFieldOptions=function(aggConfig){var indexPattern=aggConfig.getIndexPattern(),fields=indexPattern.fields.raw;if(this.onlyAggregatable&&(fields=fields.filter(function(f){return f.aggregatable})),this.scriptable||(fields=fields.filter(function(field){return!field.scripted})),this.filterFieldTypes){var filters=this.filterFieldTypes;_lodash2.default.isFunction(this.filterFieldTypes)&&(filters=this.filterFieldTypes.bind(this,aggConfig.vis)),fields=(0,_prop_filter.propFilter)("type")(fields,filters),fields=_lodash2.default.sortBy(fields,["type","name"])}return new _indexed_array.IndexedArray({index:["name"],group:["type"],initialSet:fields})},FieldParamType.prototype.deserialize=function(fieldName,aggConfig){if(!aggConfig.getIndexPattern().fields.byName[fieldName])throw new _errors.SavedObjectNotFound("index-pattern-field",fieldName);var validField=this.getFieldOptions(aggConfig).byName[fieldName];return validField||notifier.error('Saved "field" parameter is now invalid. Please select a new field.'),validField},FieldParamType.prototype.write=function(aggConfig,output){var field=aggConfig.getField();if(!field)throw new TypeError('"field" is a required parameter');field.scripted?output.params.script={inline:field.script,lang:field.lang}:output.params.field=field.name},exports.FieldParamType=FieldParamType},function(module,exports){module.exports='<div class="form-group">\n  <label>\n    Field\n  </label>\n\n  <ui-select\n    title="Aggregation Field"\n    name="field"\n    required\n    class="vis-editor-field-ui-select field-select"\n    ng-show="indexedFields.length"\n    ng-model="agg.params.field"\n    on-select="aggParam.onChange(agg)"\n    uis-open-close="limit = 100"\n  >\n    <ui-select-match placeholder="Select a field">\n      {{$select.selected.displayName}}\n    </ui-select-match>\n    <ui-select-choices\n      group-by="\'type\'"\n      kbn-scroll-bottom="limit = limit + 100"\n      repeat="field in indexedFields | filter: { displayName: $select.search } | sortPrefixFirst:$select.search:\'name\' | limitTo: limit"\n    >\n      <div\n        data-test-subj="{{field.displayName}}"\n        class="vis-editor-field-ui-select__field-entry"\n        ng-bind-html="field.displayName | highlight: $select.search"\n        title="{{field.displayName}}"\n      ></div>\n    </ui-select-choices>\n  </ui-select>\n\n  <div class="hintbox" ng-if="!indexedFields.length">\n    <p>\n      <i class="fa fa-danger text-danger"></i>\n      <strong>No Compatible Fields:</strong> The "{{ vis.indexPattern.title }}" index pattern does not contain any of the following field types: {{ agg.type.params.byName.field.filterFieldTypes | commaList:false }}\n    </p>\n  </div>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function OptionedParamType(config){OptionedParamType.Super.call(this,config),this.options=new _indexed_array.IndexedArray({index:["val"],immutable:!0,initialSet:this.options})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionedParamType=void 0;var _indexed_array=__webpack_require__(131),_base=__webpack_require__(304);(0,__webpack_require__(55).createLegacyClass)(OptionedParamType).inherits(_base.BaseParamType),OptionedParamType.prototype.serialize=function(selected){return selected.val},OptionedParamType.prototype.deserialize=function(val){return this.options.byVal[val]},OptionedParamType.prototype.write=function(aggConfig,output){output.params[this.name]=aggConfig.params[this.name].val},exports.OptionedParamType=OptionedParamType},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function RegexParamType(config){_lodash2.default.defaults(config,{pattern:""}),RegexParamType.Super.call(this,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegexParamType=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_regular_expression=__webpack_require__(3316),_regular_expression2=_interopRequireDefault(_regular_expression),_base=__webpack_require__(304);(0,__webpack_require__(55).createLegacyClass)(RegexParamType).inherits(_base.BaseParamType),RegexParamType.prototype.editor=_regular_expression2.default,RegexParamType.prototype.disabled=function(){return!1},RegexParamType.prototype.write=function(aggConfig,output){var param=aggConfig.params[this.name],paramType=aggConfig.type.params.byName[this.name];if(param&&param.pattern&&param.pattern.length&&!paramType.disabled(aggConfig)){var obj={pattern:param.pattern};output.params[this.name]=obj}},exports.RegexParamType=RegexParamType},function(module,exports){module.exports='<div ng-if="!aggParam.disabled(agg)">\n  <div class="form-group regex">\n    <label for="visEditorRegexInput{{agg.id}}{{aggParam.name}}">{{ aggParam.name | label }} Pattern</label>\n    <input\n      id="visEditorRegexInput{{agg.id}}{{aggParam.name}}"\n      type="text"\n      class="form-control"\n      ng-model="agg.params[aggParam.name].pattern"\n    >\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function StringParamType(config){StringParamType.Super.call(this,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StringParamType=void 0;var _string=__webpack_require__(3318),_string2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_string),_base=__webpack_require__(304);(0,__webpack_require__(55).createLegacyClass)(StringParamType).inherits(_base.BaseParamType),StringParamType.prototype.editor=_string2.default,StringParamType.prototype.write=function(aggConfig,output){aggConfig.params[this.name]&&aggConfig.params[this.name].length&&(output.params[this.name]=aggConfig.params[this.name])},exports.StringParamType=StringParamType},function(module,exports){module.exports='<div class="form-group">\n  <div class="euiSpacer euiSpacer--m"></div>\n\n  <label for="visEditorStringInput{{agg.id}}{{aggParam.name}}">{{ aggParam.name | label }}</label>\n  <div>\n    <input\n      type="text"\n      id="visEditorStringInput{{agg.id}}{{aggParam.name}}"\n      ng-model="agg.params[aggParam.name]"\n      class="form-control"\n    >\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function JsonParamType(config){config=_lodash2.default.defaults(config,{name:"json"}),JsonParamType.Super.call(this,config)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonParamType=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_raw_json=__webpack_require__(3320),_raw_json2=_interopRequireDefault(_raw_json),_base=__webpack_require__(304);(0,__webpack_require__(55).createLegacyClass)(JsonParamType).inherits(_base.BaseParamType),JsonParamType.prototype.editor=_raw_json2.default,JsonParamType.prototype.write=function(aggConfig,output){var paramJson=void 0,param=aggConfig.params[this.name];if(param){try{paramJson=JSON.parse(param)}catch(err){return}output.params=function(srcA,srcB){function mergeObjs(a,b){return(0,_lodash2.default)(a).keys().union(_lodash2.default.keys(b)).transform(function(dest,key){var val=compare(a[key],b[key]);void 0!==val&&(dest[key]=val)},{}).value()}function mergeArrays(a,b){return _lodash2.default.times(Math.max(a.length,b.length),function(i){return compare(a[i],b[i])})}function compare(a,b){return _lodash2.default.isPlainObject(a)&&_lodash2.default.isPlainObject(b)?mergeObjs(a,b):Array.isArray(a)&&Array.isArray(b)?mergeArrays(a,b):null!==b?void 0!==b?b:a:void 0}return compare(srcA,srcB)}(output.params,paramJson)}},exports.JsonParamType=JsonParamType},function(module,exports){module.exports='<div class="form-group regex">\n    <span class="hintbox-label">\n      <label for="visEditorRawJson{{agg.id}}">\n        JSON Input\n        <icon-tip\n          position="\'right\'"\n          content="\'Any JSON formatted properties you add here will be merged with the elasticsearch aggregation definition for this section. For example \\\'shard_size\\\' on a terms aggregation.\'"\n        ></icon-tip>\n      </label>\n    </span>\n  <p>\n    <textarea\n      type="text"\n      id="visEditorRawJson{{agg.id}}"\n      class="form-control"\n      ng-model="agg.params.json"\n      validate-json\n      ></textarea>\n  </p>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsCountProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"count",title:"Count",hasNoDsl:!0,makeLabel:function(){return"Count"},getFormat:function(){return _field_formats.fieldFormats.getDefaultInstance("number")},getValue:function(agg,bucket){return bucket.doc_count},isScalable:function(){return!0}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsCountProvider=AggTypesMetricsCountProvider;var _metric_agg_type=__webpack_require__(61),_field_formats=__webpack_require__(99)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsAvgProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"avg",title:"Average",makeLabel:function(aggConfig){return"Average "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsAvgProvider=AggTypesMetricsAvgProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsSumProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"sum",title:"Sum",makeLabel:function(aggConfig){return"Sum of "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}],isScalable:function(){return!0}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsSumProvider=AggTypesMetricsSumProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsMedianProvider(Private){var MetricAggType=Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider),percentiles=Private(_percentiles.AggTypesMetricsPercentilesProvider);return new MetricAggType({name:"median",dslName:"percentiles",title:"Median",makeLabel:function(aggConfig){return"Median "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"percents",default:[50]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:percentiles.getResponseAggs,getValue:percentiles.getValue})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsMedianProvider=AggTypesMetricsMedianProvider;var _metric_agg_type=__webpack_require__(61),_percentiles=__webpack_require__(1166)},function(module,exports){module.exports='<div class="form-group">\n  <label id="visEditorPercentileLabel{{agg.id}}">Percents</label>\n  <kbn-number-list\n    ng-model="agg.params.percents"\n    unit-name="percent"\n    range="[0,100]"\n    validate-ascending-order="false"\n    labelledby-id="visEditorPercentileLabel{{agg.id}}"\n    >\n  </kbn-number-list>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_range=__webpack_require__(3327);__webpack_require__(3328);var _modules=__webpack_require__(2),_number_list=__webpack_require__(3329),_number_list2=_interopRequireDefault(_number_list);_modules.uiModules.get("kibana").directive("kbnNumberList",function(){return{restrict:"E",template:_number_list2.default,controllerAs:"numberListCntr",require:"ngModel",scope:{validateAscendingOrder:"=?",labelledbyId:"@"},controller:function($scope,$attrs,$parse){var self=this;self.labelledbyId=$scope.labelledbyId,self.init=function(modelCntr){self.modelCntr=modelCntr,self.getList=function(){return self.modelCntr.$modelValue},self.getUnitName=_lodash2.default.partial($parse($attrs.unit),$scope);var defaultRange=self.range=(0,_range.parseRange)("[0,Infinity)");self.validateAscOrder=!!_lodash2.default.isUndefined($scope.validateAscendingOrder)||$scope.validateAscendingOrder,$scope.$watch(function(){return $attrs.range},function(range){if(!range)return void(self.range=defaultRange);try{self.range=(0,_range.parseRange)(range)}catch(e){throw new TypeError("Unable to parse range: "+e.message)}}),self.remove=function(index){var list=self.getList();list&&list.splice(index,1)},self.add=function(){var list=self.getList();list&&list.push(_lodash2.default.last(list)+1)},self.tooShort=function(){return _lodash2.default.size(self.getList())<1},self.undefinedLength=function(){return self.tooShort()&&self.modelCntr.$untouched&&self.modelCntr.$pristine},self.invalidLength=function(){return self.tooShort()&&!self.undefinedLength()},$scope.$watchCollection(self.getList,function(){self.modelCntr.$setValidity("numberListLength",!self.tooShort())})}},link:{pre:function($scope,$el,attrs,ngModelCntr){$scope.numberListCntr.init(ngModelCntr)}}}})},function(module,exports,__webpack_require__){"use strict";function parseRange(input){var match=String(input).match(RANGE_RE);if(!match)throw new TypeError("expected input to be in interval notation eg. (100, 200]");return new Range("["===match[1],parseFloat(match[2]),parseFloat(match[3]),"]"===match[4])}function Range(){var args=_lodash2.default.toArray(arguments);args[1]>args[2]&&args.reverse(),this.minInclusive=args[0],this.min=args[1],this.max=args[2],this.maxInclusive=args[3]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseRange=parseRange;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_RE_NUMBER="(\\-?(?:\\d+(?:\\.\\d+)?|Infinity))",RANGE_RE=new RegExp("^\\s*([\\[|\\(])\\s*"+_RE_NUMBER+"\\s*,\\s*"+_RE_NUMBER+"\\s*([\\]|\\)])\\s*$");Range.prototype.within=function(n){return!(this.min===n&&!this.minInclusive)&&(!(this.min>n)&&(!(this.max===n&&!this.maxInclusive)&&!(this.max<n)))}},function(module,exports,__webpack_require__){"use strict";var _key_map=__webpack_require__(459),_modules=__webpack_require__(2),INVALID={},FLOATABLE=/^[\d\.e\-\+]+$/i,VALIDATION_ERROR="numberListRangeAndOrder";_modules.uiModules.get("kibana").directive("kbnNumberListInput",function($parse){return{restrict:"A",require:["ngModel","^kbnNumberList"],link:function($scope,$el,attrs,controllers){function removeIfEmpty(event){return ngModelCntr.$viewValue||($get("prev").focus(),numberListCntr.remove($scope.$index),event.preventDefault()),!1}function $get(dir){return $repeater[dir]().find("[kbn-number-list-input]")}function go(dir){return function(){var $to=$get(dir);if(!$to.length)return!1;$to.focus()}}function idKey(event){var id=[];return event.ctrlKey&&id.push("ctrl"),event.shiftKey&&id.push("shift"),event.metaKey&&id.push("meta"),event.altKey&&id.push("alt"),id.push(_key_map.keyMap[event.keyCode]||event.keyCode),id.join("-")}function add(n,val){return parse(val+n)}function addTenth(n,val,str){var int=Math.floor(val),dec=parseInt(str.split(".")[1]||0,10);return dec+=parseInt(n,10),(dec<0||dec>9)&&(int+=Math.floor(dec/10),dec<0?dec=10+dec%10:dec%=10),parse(int+"."+dec)}function change(using,mod){return function(){var str=String(ngModelCntr.$viewValue),val=parse(str);if(val!==INVALID){var next=using(mod,val,str);next!==INVALID&&($el.val(next),ngModelCntr.$setViewValue(next))}}}function onKeydown(event){var handler=handlers[idKey(event)];handler&&(!1!==handler(event)&&event.preventDefault(),$scope.$apply())}function parse(viewValue){var num=viewValue;if("number"!=typeof num||isNaN(num)){if(num=String(viewValue||0).trim(),!FLOATABLE.test(num))return INVALID;if(num=parseFloat(num),isNaN(num))return INVALID}if(!numberListCntr.range.within(num))return INVALID;if(numberListCntr.validateAscOrder&&$scope.$index>0){var i=$scope.$index-1;if(num<=numberListCntr.getList()[i])return INVALID}return num}function validate(then){return function(input){var value=parse(input),valid=value!==INVALID;return value=valid?value:input,ngModelCntr.$setValidity(VALIDATION_ERROR,valid),then&&then(input,value),value}}var ngModelCntr=controllers[0],numberListCntr=controllers[1],$setModel=$parse(attrs.ngModel).assign,$repeater=$el.closest("[ng-repeat]"),handlers={up:change(add,1),"shift-up":change(addTenth,1),down:change(add,-1),"shift-down":change(addTenth,-1),tab:go("next"),"shift-tab":go("prev"),"shift-enter":numberListCntr.add,backspace:removeIfEmpty,delete:removeIfEmpty};$el.on("keydown",onKeydown),$scope.$on("$destroy",function(){$el.off("keydown",onKeydown)}),$scope.$watchMulti(["$index",{fn:$scope.$watchCollection,get:function(){return numberListCntr.getList()}}],function(){var valid=parse(ngModelCntr.$viewValue)!==INVALID;ngModelCntr.$setValidity(VALIDATION_ERROR,valid)}),ngModelCntr.$parsers.push(validate()),ngModelCntr.$formatters.push(validate(function(input,value){input!==value&&$setModel($scope,value)})),parse(ngModelCntr.$viewValue)===INVALID&&ngModelCntr.$setTouched()}}})},function(module,exports){module.exports='<div\n  ng-repeat="value in numberListCntr.getList() track by $index"\n  class="form-group kuiFieldGroup"\n>\n  <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n    <input\n      ng-model="numberListCntr.getList()[$index]"\n      kbn-number-list-input\n      input-focus\n      aria-labelledby="{{numberListCntr.labelledbyId}}"\n      class="form-control"\n    >\n  </div>\n\n  <div class="kuiFieldGroupSection">\n    <button\n      aria-label="Remove this rank value"\n      ng-click="numberListCntr.remove($index, 1)"\n      class="kuiButton kuiButton--danger kuiButton--small"\n      type="button"\n    >\n      <span class="kuiIcon fa-times"></span>\n    </button>\n  </div>\n</div>\n\n<p ng-show="numberListCntr.invalidLength()" class="text-danger text-center">\n  You must specify at least one {{numberListCntr.getUnitName()}}\n</p>\n\n<p ng-show="numberListCntr.undefinedLength()" class="text-primary text-center">\n  \x3c!-- be a bit more polite when the form is first init\'d --\x3e\n  Please specify at least one {{numberListCntr.getUnitName()}}\n</p>\n\n<div class="euiSpacer euiSpacer--s"></div>\n\n<button\n  ng-click="numberListCntr.add()"\n  type="button"\n  class="kuiButton kuiButton--primary kuiButton--fullWidth"\n>\n  <i class="fa fa-plus"></i> Add {{numberListCntr.getUnitName()}}\n</button>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsMinProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"min",title:"Min",makeLabel:function(aggConfig){return"Min "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number,date"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsMinProvider=AggTypesMetricsMinProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsMaxProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"max",title:"Max",makeLabel:function(aggConfig){return"Max "+aggConfig.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number,date"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsMaxProvider=AggTypesMetricsMaxProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function AggTypesMetricsTopHitProvider(Private){var MetricAggType=Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider),isNumber=function(type){return"number"===type};return new MetricAggType({name:"top_hits",title:"Top Hit",makeLabel:function(aggConfig){var prefix="desc"===aggConfig.params.sortOrder.val?"Last":"First";1!==aggConfig.params.size&&(prefix+=" "+aggConfig.params.size);var field=aggConfig.params.field;return prefix+" "+(field?field.displayName:"")},params:[{name:"field",onlyAggregatable:!1,filterFieldTypes:function(vis,value){return"table"===vis.type.name||"metric"===vis.type.name||"number"===value},write:function(agg,output){var field=agg.params.field;output.params={},field.scripted?output.params.script_fields=_defineProperty({},field.name,{script:{inline:field.script,lang:field.lang}}):(field.readFromDocValues&&(output.params.docvalue_fields=[field.name]),output.params._source="_source"===field.name||field.name)}},{name:"aggregate",type:"optioned",editor:_top_aggregate_and_size2.default,options:[{display:"Min",isCompatibleType:isNumber,isCompatibleVis:_lodash2.default.constant(!0),disabled:!0,val:"min"},{display:"Max",isCompatibleType:isNumber,isCompatibleVis:_lodash2.default.constant(!0),disabled:!0,val:"max"},{display:"Sum",isCompatibleType:isNumber,isCompatibleVis:_lodash2.default.constant(!0),disabled:!0,val:"sum"},{display:"Average",isCompatibleType:isNumber,isCompatibleVis:_lodash2.default.constant(!0),disabled:!0,val:"average"},{display:"Concatenate",isCompatibleType:_lodash2.default.constant(!0),isCompatibleVis:function(name){return"metric"===name||"table"===name},disabled:!0,val:"concat"}],controller:function($scope){$scope.options=[],$scope.$watchGroup(["agg.vis.type.name","agg.params.field.type"],function(_ref){var _ref2=_slicedToArray(_ref,2),visName=_ref2[0],fieldType=_ref2[1];fieldType&&visName&&($scope.options=_lodash2.default.filter($scope.aggParam.options,function(option){return option.isCompatibleVis(visName)&&option.isCompatibleType(fieldType)}),1===$scope.options.length&&($scope.agg.params.aggregate=$scope.options[0]))})},write:_lodash2.default.noop},{name:"size",editor:null,default:1},{name:"sortField",type:"field",editor:null,filterFieldTypes:["number","date","ip","string"],default:function(agg){return agg.vis.indexPattern.timeFieldName},write:_lodash2.default.noop},{name:"sortOrder",type:"optioned",default:"desc",editor:_top_sort2.default,options:[{display:"Descending",val:"desc"},{display:"Ascending",val:"asc"}],write:function(agg,output){var sortField=agg.params.sortField,sortOrder=agg.params.sortOrder;sortField.scripted?output.params.sort=[{_script:{script:{inline:sortField.script,lang:sortField.lang},type:sortField.type,order:sortOrder.val}}]:output.params.sort=[_defineProperty({},sortField.name,{order:sortOrder.val})]}}],getValue:function(agg,bucket){var hits=_lodash2.default.get(bucket,agg.id+".hits.hits");if(!hits||!hits.length)return null;var path=agg.params.field.name,values=(0,_lodash2.default)(hits).map(function(hit){return"_source"===path?hit._source:agg.vis.indexPattern.flattenHit(hit,!0)[path]}).flatten().value();if(1===values.length&&(values=values[0]),Array.isArray(values)){if(!_lodash2.default.compact(values).length)return null;switch(agg.params.aggregate.val){case"max":return _lodash2.default.max(values);case"min":return _lodash2.default.min(values);case"sum":return _lodash2.default.sum(values);case"average":return _lodash2.default.sum(values)/values.length}}return values}})}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.AggTypesMetricsTopHitProvider=AggTypesMetricsTopHitProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_metric_agg_type=__webpack_require__(61),_top_sort=__webpack_require__(3333),_top_sort2=_interopRequireDefault(_top_sort),_top_aggregate_and_size=__webpack_require__(3334),_top_aggregate_and_size2=_interopRequireDefault(_top_aggregate_and_size)},function(module,exports){module.exports='<div class="form-group">\n  <label>\n    Sort On\n  </label>\n\n  <ui-select\n    name="field"\n    sortField\n    title="Sort on"\n    class="vis-editor-field-ui-select"\n    ng-show="sortFieldOptions.length"\n    ng-model="agg.params.sortField"\n    uis-open-close="limit = 100"\n    auto-select-if-only-one="sortFieldOptions"\n  >\n    <ui-select-match placeholder="Select a field">\n      {{$select.selected.displayName}}\n    </ui-select-match>\n    <ui-select-choices\n      group-by="\'type\'"\n      kbn-scroll-bottom="limit = limit + 100"\n      repeat="field in sortFieldOptions | filter: { displayName: $select.search } | sortPrefixFirst:$select.search:\'name\' | limitTo: limit"\n    >\n      <div ng-bind-html="field.displayName | highlight: $select.search"></div>\n    </ui-select-choices>\n  </ui-select>\n</div>\n\n<div class="form-group">\n  <label for="visEditorTopSort{{agg.id}}">\n    Order\n  </label>\n\n  <select\n     id="visEditorTopSort{{agg.id}}"\n     name="sortOrder"\n     ng-model="agg.params.sortOrder"\n     required\n     ng-options="opt as opt.display for opt in aggParam.options track by opt.val"\n     class="form-control">\n  </select>\n</div>\n'},function(module,exports){module.exports='<div ng-controller="aggParam.controller" class="vis-editor-agg-form-row">\n  <div class="form-group vis-editor-agg-form-row__even-split">\n    <label for="visEditorTopHitsAggregate{{agg.id}}">\n      Aggregate with\n      <icon-tip\n        content="\'Choose a strategy for combining multiple hits or a multi-valued field into a single metric\'"\n      ></icon-tip>\n    </label>\n\n    <select\n      required\n      id="visEditorTopHitsAggregate{{agg.id}}"\n      name="aggregate"\n      ng-model="agg.params.aggregate"\n      ng-options="opt as opt.display for opt in options| orderBy: \'display\' track by opt.val"\n      class="form-control"\n    ></select>\n  </div>\n  <div class="form-group vis-editor-agg-form-row__even-split">\n    <label for="visEditorTopHitsSize{{agg.id}}">\n      Size\n      <icon-tip\n        content="\'Request top-K hits. Multiple hits will be combined via \\\'aggregate with\\\'.\'"\n      ></icon-tip>\n    </label>\n\n    <input\n       required\n       id="visEditorTopHitsSize{{agg.id}}"\n       name="size"\n       ng-model="agg.params.size"\n       class="form-control"\n       type="number"\n       min="1"\n    ></input>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsStdDeviationProvider(Private){var MetricAggType=Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider),getResponseAggConfigClass=Private(_get_response_agg_config_class.AggTypesMetricsGetResponseAggConfigClassProvider),responseAggConfigProps={valProp:function(){return this.keyedDetails(this.params.customLabel)[this.key].valProp},makeLabel:function(){var fieldDisplayName=this.getFieldDisplayName(),details=this.keyedDetails(this.params.customLabel,fieldDisplayName);return _lodash2.default.get(details,[this.key,"title"])},keyedDetails:function(customLabel,fieldDisplayName){var label=customLabel||"Standard Deviation of "+fieldDisplayName;return{std_lower:{valProp:["std_deviation_bounds","lower"],title:"Lower "+label},std_upper:{valProp:["std_deviation_bounds","upper"],title:"Upper "+label}}}};return new MetricAggType({name:"std_dev",dslName:"extended_stats",title:"Standard Deviation",makeLabel:function(agg){return"Standard Deviation of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,responseAggConfigProps);return[new ValueAggConfig("std_lower"),new ValueAggConfig("std_upper")]},getValue:function(agg,bucket){return _lodash2.default.get(bucket[agg.parentId],agg.valProp())}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsStdDeviationProvider=AggTypesMetricsStdDeviationProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_metric_agg_type=__webpack_require__(61),_get_response_agg_config_class=__webpack_require__(679)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsCardinalityProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"cardinality",title:"Unique Count",makeLabel:function(aggConfig){return"Unique count of "+aggConfig.getFieldDisplayName()},getFormat:function(){return _field_formats.fieldFormats.getDefaultInstance("number")},params:[{name:"field"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsCardinalityProvider=AggTypesMetricsCardinalityProvider;var _metric_agg_type=__webpack_require__(61),_field_formats=__webpack_require__(99)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsGeoBoundsProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"geo_bounds",title:"Geo Bounds",makeLabel:function(){return"Geo Bounds"},params:[{name:"field",filterFieldTypes:"geo_point"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsGeoBoundsProvider=AggTypesMetricsGeoBoundsProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsGeoCentroidProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"geo_centroid",title:"Geo Centroid",makeLabel:function(){return"Geo Centroid"},params:[{name:"field",filterFieldTypes:"geo_point"}],getValue:function(agg,bucket){return bucket[agg.id]&&bucket[agg.id].location}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsGeoCentroidProvider=AggTypesMetricsGeoCentroidProvider;var _metric_agg_type=__webpack_require__(61)},function(module,exports,__webpack_require__){"use strict";function AggTypesMetricsPercentileRanksProvider(Private){var MetricAggType=Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider),getResponseAggConfigClass=Private(_get_response_agg_config_class.AggTypesMetricsGetResponseAggConfigClassProvider),valueProps={makeLabel:function(){var field=this.getField(),format=field&&field.format||_field_formats.fieldFormats.getDefaultInstance("number"),label=this.params.customLabel||this.getFieldDisplayName();return"Percentile rank "+format.convert(this.key,"text")+' of "'+label+'"'}};return new MetricAggType({name:"percentile_ranks",title:"Percentile Ranks",makeLabel:function(agg){return"Percentile ranks of "+agg.getFieldDisplayName()},params:[{name:"field",filterFieldTypes:"number"},{name:"values",editor:_percentile_ranks2.default,default:[]},{write:function(agg,output){output.params.keyed=!1}}],getResponseAggs:function(agg){var ValueAggConfig=getResponseAggConfigClass(agg,valueProps);return agg.params.values.map(function(value){return new ValueAggConfig(value)})},getFormat:function(){return _field_formats.fieldFormats.getInstance("percent")||_field_formats.fieldFormats.getDefaultInstance("number")},getValue:function(agg,bucket){return(0,_percentiles_get_value.getPercentileValue)(agg,bucket)/100}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsPercentileRanksProvider=AggTypesMetricsPercentileRanksProvider;var _percentile_ranks=__webpack_require__(3340),_percentile_ranks2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_percentile_ranks);__webpack_require__(1168);var _metric_agg_type=__webpack_require__(61),_get_response_agg_config_class=__webpack_require__(679),_field_formats=__webpack_require__(99),_percentiles_get_value=__webpack_require__(1169)},function(module,exports){module.exports='<div class="form-group">\n  <label id="visEditorPercentileRanksLabel{{agg.id}}">Values</label>\n  <kbn-number-list\n    ng-model="agg.params.values"\n    unit-name="value"\n    range="[-Infinity,Infinity]"\n    labelledby-id="visEditorPercentileRanksLabel{{agg.id}}"\n    >\n  </kbn-number-list>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsDerivativeProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"derivative",title:"Derivative",subtype:_parent_pipeline_agg_helper.parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"derivative")},params:[].concat(_toConsumableArray(_parent_pipeline_agg_helper.parentPipelineAggHelper.params())),getFormat:_parent_pipeline_agg_helper.parentPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsDerivativeProvider=AggTypesMetricsDerivativeProvider;var _metric_agg_type=__webpack_require__(61),_parent_pipeline_agg_helper=__webpack_require__(478),_make_nested_label=__webpack_require__(210)},function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group">\n    <label for="visEditorSubAggMetric{{agg.id}}">Metric</label>\n    <select\n      id="visEditorSubAggMetric{{agg.id}}"\n      name="metricAgg"\n      ng-model="agg.params.metricAgg"\n      agg="agg"\n      required\n      validate-agg\n      class="form-control">\n      <option\n        ng-repeat="respAgg in responseValueAggs track by respAgg.id"\n        value="{{respAgg.id}}"\n        ng-if="respAgg.type.name !== agg.type.name"\n        ng-disabled="isDisabledAgg(respAgg)"\n        ng-selected="agg.params.metricAgg === respAgg.id">\n        metric: {{safeMakeLabel(respAgg)}}\n      </option>\n      <option value="custom" ng-selected="agg.params.metricAgg === \'custom\'">\n        Custom Metric\n      </option>\n    </select>\n  </div>\n  <div ng-if="agg.params.metricAgg === \'custom\'" class="vis-editor-agg-order-agg">\n    <ng-form name="customMetricForm">\n      <vis-editor-agg-params\n        agg="agg.params.customMetric"\n        group-name="\'metrics\'">\n      </vis-editor-agg-params>\n    </ng-form>\n  </div>\n</div>\n'},function(module,exports){module.exports='<div class="form-group">\n  <div class="kuiButtonGroup">\n    <button\n      type="button"\n      class="kuiButton kuiButton--basic kuiButton--small"\n      ng-model="agg.params.row"\n      btn-radio="true">\n      Rows\n    </button>\n    <button\n      type="button"\n      class="kuiButton kuiButton--basic kuiButton--small"\n      ng-model="agg.params.row"\n      btn-radio="false">\n      Columns\n    </button>\n  </div>\n</div>\n'},function(module,exports){module.exports='<div>\n  <label>\n    Dot size ratio\n    <icon-tip\n      content="\'Change the ratio of the radius of the smallest point to the largest point\'"\n      position="\'right\'"\n    ></icon-tip>\n  </label>\n  <input type="range" step="2" min="1" max="100" class="form-control" ng-model="vis.params.radiusRatio" />\n</div>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parentPipelineAggController=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_safe_make_label=__webpack_require__(1170),parentPipelineAggController=function($scope){function checkBuckets(){var lastBucket=_lodash2.default.findLast($scope.vis.getAggConfig(),function(agg){return"buckets"===agg.schema.group}),bucketHasType=lastBucket&&lastBucket.type,bucketIsHistogram=bucketHasType&&["date_histogram","histogram"].includes(lastBucket.type.name),canUseAggregation=lastBucket&&bucketIsHistogram;if(_lodash2.default.each($scope.vis.aggs,function(agg){agg.error&&delete agg.error}),$scope.aggForm.agg&&$scope.aggForm.agg.$setValidity("bucket",canUseAggregation),canUseAggregation)lastBucket.params.min_doc_count="histogram"===lastBucket.type.name?1:0;else if(lastBucket){var type=$scope.agg.type.title;lastBucket.error='Last bucket aggregation must be "Date Histogram" or \n        "Histogram" when using "'+type+'" metric aggregation!'}}function updateOrderAgg(){var agg=$scope.agg,params=agg.params,metricAgg=params.metricAgg,paramDef=agg.type.params.byName.customMetric;if(checkBuckets(),"custom"!==metricAgg)return $scope.vis.getAggConfig().find(function(agg){return agg.id===metricAgg})||(params.metricAgg=null),void(params.customMetric=null);params.customMetric=params.customMetric||paramDef.makeAgg(agg)}$scope.safeMakeLabel=_safe_make_label.safeMakeLabel,$scope.$watch("responseValueAggs",updateOrderAgg),$scope.$watch("agg.params.metricAgg",updateOrderAgg),$scope.$on("$destroy",function(){var lastBucket=_lodash2.default.findLast($scope.vis.getAggConfig(),function(agg){return"buckets"===agg.schema.group});$scope.aggForm&&$scope.aggForm.agg&&$scope.aggForm.agg.$setValidity("bucket",!0),lastBucket&&lastBucket.error&&delete lastBucket.error}),$scope.isDisabledAgg=function(agg){var invalidAggs=["top_hits","percentiles","percentile_ranks","median","std_dev"];return Boolean(invalidAggs.find(function(invalidAgg){return invalidAgg===agg.type.name}))}};exports.parentPipelineAggController=parentPipelineAggController},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parentPipelineAggWritter=function(agg,output){var vis=agg.vis,selectedMetric=agg.params.customMetric||vis.aggs.getResponseAggById(agg.params.metricAgg);agg.params.customMetric&&"count"!==agg.params.customMetric.type.name&&(output.parentAggs=(output.parentAggs||[]).concat(selectedMetric)),output.params={},"count"===selectedMetric.type.name?output.params.buckets_path="_count":output.params.buckets_path=selectedMetric.id};exports.parentPipelineAggWritter=parentPipelineAggWritter},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsCumulativeSumProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"cumulative_sum",title:"Cumulative Sum",subtype:_parent_pipeline_agg_helper.parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"cumulative sum")},params:[].concat(_toConsumableArray(_parent_pipeline_agg_helper.parentPipelineAggHelper.params())),getFormat:_parent_pipeline_agg_helper.parentPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsCumulativeSumProvider=AggTypesMetricsCumulativeSumProvider;var _metric_agg_type=__webpack_require__(61),_parent_pipeline_agg_helper=__webpack_require__(478),_make_nested_label=__webpack_require__(210)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsMovingAvgProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"moving_avg",title:"Moving Avg",subtype:_parent_pipeline_agg_helper.parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"moving avg")},params:[].concat(_toConsumableArray(_parent_pipeline_agg_helper.parentPipelineAggHelper.params())),getFormat:_parent_pipeline_agg_helper.parentPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsMovingAvgProvider=AggTypesMetricsMovingAvgProvider;var _metric_agg_type=__webpack_require__(61),_parent_pipeline_agg_helper=__webpack_require__(478),_make_nested_label=__webpack_require__(210)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsSerialDiffProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"serial_diff",title:"Serial Diff",subtype:_parent_pipeline_agg_helper.parentPipelineAggHelper.subtype,makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"serial diff")},params:[].concat(_toConsumableArray(_parent_pipeline_agg_helper.parentPipelineAggHelper.params())),getFormat:_parent_pipeline_agg_helper.parentPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsSerialDiffProvider=AggTypesMetricsSerialDiffProvider;var _metric_agg_type=__webpack_require__(61),_parent_pipeline_agg_helper=__webpack_require__(478),_make_nested_label=__webpack_require__(210)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AggTypesBucketsDateHistogramProvider(timefilter,config,Private){function getInterval(agg){var interval=_lodash2.default.get(agg,["params","interval"]);return interval&&"custom"===interval.val?_lodash2.default.get(agg,["params","customInterval"]):interval}function getBounds(vis){if(timefilter.isTimeRangeSelectorEnabled&&vis.filters)return timefilter.calculateBounds(vis.filters.timeRange)}function setBounds(agg,force){if(!agg.buckets._alreadySet||force){agg.buckets._alreadySet=!0;var bounds=getBounds(agg.vis);agg.buckets.setBounds(agg.fieldIsTimeField()&&bounds)}}var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),TimeBuckets=Private(_time_buckets.TimeBucketsProvider),createFilter=Private(_date_histogram.AggTypesBucketsCreateFilterDateHistogramProvider),intervalOptions=Private(_interval_options.AggTypesBucketsIntervalOptionsProvider),detectedTimezone=_jstimezonedetect.jstz.determine().name(),tzOffset=(0,_moment2.default)().format("Z");return new BucketAggType({name:"date_histogram",title:"Date Histogram",ordered:{date:!0},makeLabel:function(agg){var output=this.params.write(agg);return agg.getFieldDisplayName()+" per "+(output.metricScaleText||output.bucketInterval.description)},createFilter:createFilter,decorateAggConfig:function(){var buckets=void 0;return{buckets:{configurable:!0,get:function(){return buckets||(buckets=new TimeBuckets,buckets.setInterval(getInterval(this)),setBounds(this),buckets)}}}},getFormat:function(agg){return agg.buckets.getScaledDateFormatter()},params:[{name:"field",filterFieldTypes:"date",default:function(agg){return agg.vis.indexPattern.timeFieldName},onChange:function(agg){"auto"!==_lodash2.default.get(agg,"params.interval.val")||agg.fieldIsTimeField()||delete agg.params.interval,setBounds(agg,!0)}},{name:"interval",type:"optioned",deserialize:function(state){return _lodash2.default.find(intervalOptions,{val:state})||_lodash2.default.find(intervalOptions,function(option){return Number(_moment2.default.duration(1,state))===Number(_moment2.default.duration(1,option.val))})},default:"auto",options:intervalOptions,editor:_time_interval2.default,modifyAggConfigOnSearchRequestStart:function(agg){setBounds(agg,!0)},write:function(agg,output){setBounds(agg),agg.buckets.setInterval(getInterval(agg));var interval=agg.buckets.getInterval();output.bucketInterval=interval,output.params.interval=interval.expression;var isDefaultTimezone=config.isDefault("dateFormat:tz");(output.params.time_zone=isDefaultTimezone?detectedTimezone||tzOffset:config.get("dateFormat:tz"),interval.scaled&&interval.scale<1)&&(_lodash2.default.every(agg.vis.getAggConfig().bySchemaGroup.metrics,function(agg){return agg.type&&agg.type.isScalable()})&&(output.metricScale=interval.scale,output.metricScaleText=interval.preScaled.description))}},{name:"customInterval",default:"2h",write:_lodash2.default.noop},{name:"format"},{name:"min_doc_count",default:1},{name:"extended_bounds",default:{},write:function(agg,output){var val=agg.params.extended_bounds;if(null!=val.min||null!=val.max)return void(output.params.extended_bounds={min:(0,_moment2.default)(val.min).valueOf(),max:(0,_moment2.default)(val.max).valueOf()})}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsDateHistogramProvider=AggTypesBucketsDateHistogramProvider;var _jstimezonedetect=__webpack_require__(680),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment);__webpack_require__(671),__webpack_require__(657);var _bucket_agg_type=__webpack_require__(167),_time_buckets=__webpack_require__(168),_date_histogram=__webpack_require__(3353),_interval_options=__webpack_require__(1173),_time_interval=__webpack_require__(3354),_time_interval2=_interopRequireDefault(_time_interval)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeBucketsProvider(Private,timefilter,config){function isValidMoment(m){return m&&"isValid"in m&&m.isValid()}function TimeBuckets(){return TimeBuckets.__cached__(this)}var calcAuto=Private(_calc_auto_interval.TimeBucketsCalcAutoIntervalProvider),calcEsInterval=Private(_calc_es_interval.TimeBucketsCalcEsIntervalProvider),getConfig=function(){return config.get.apply(config,arguments)};return TimeBuckets.prototype.setBounds=function(input){if(!input)return this.clearBounds();var bounds=void 0;bounds=_lodash2.default.isPlainObject(input)?[input.min,input.max]:Array.isArray(input)?input:[];var moments=(0,_lodash2.default)(bounds).map(_lodash2.default.ary(_moment2.default,1)).sortBy(Number);if(2!==moments.size()||!moments.every(isValidMoment))throw this.clearBounds(),new Error("invalid bounds set: "+input);if(this._lb=moments.shift(),this._ub=moments.pop(),this.getDuration().asSeconds()<0)throw new TypeError("Intervals must be positive")},TimeBuckets.prototype.clearBounds=function(){this._lb=this._ub=null},TimeBuckets.prototype.hasBounds=function(){return isValidMoment(this._ub)&&isValidMoment(this._lb)},TimeBuckets.prototype.getBounds=function(){if(this.hasBounds())return{min:this._lb,max:this._ub}},TimeBuckets.prototype.getDuration=function(){if(this.hasBounds())return _moment2.default.duration(this._ub-this._lb,"ms")},TimeBuckets.prototype.setInterval=function(input){var interval=input;if(_lodash2.default.isObject(input)&&(interval=input.val),!interval||"auto"===interval)return void(this._i="auto");if(_lodash2.default.isString(interval)&&(input=interval,0==+(interval=(0,_parse_interval.parseInterval)(interval))&&(interval=null)),!_moment2.default.isDuration(interval))throw new TypeError('"'+input+'" is not a valid interval.');this._i=interval},TimeBuckets.prototype.getInterval=function(){function decorateInterval(interval){var esInterval=calcEsInterval(interval);interval.esValue=esInterval.value,interval.esUnit=esInterval.unit,interval.expression=esInterval.expression,interval.overflow=duration>interval&&_moment2.default.duration(interval-duration);var prettyUnits=_moment2.default.normalizeUnits(esInterval.unit);return 1===esInterval.value?interval.description=prettyUnits:interval.description=esInterval.value+" "+prettyUnits+"s",interval}var self=this,duration=self.getDuration();return decorateInterval(function(interval){if(!self.hasBounds())return interval;var maxLength=config.get("histogram:maxBars"),approxLen=duration/interval,scaled=void 0;return approxLen>maxLength?+(scaled=calcAuto.lessThan(maxLength,duration))==+interval?interval:(decorateInterval(interval),_lodash2.default.assign(scaled,{preScaled:interval,scale:interval/scaled,scaled:!0})):interval}(function(){var interval=self._i;return _moment2.default.isDuration(interval)?interval:calcAuto.near(config.get("histogram:barTarget"),duration)}()))},TimeBuckets.prototype.getScaledDateFormat=function(){for(var interval=this.getInterval(),rules=config.get("dateFormat:scaled"),i=rules.length-1;i>=0;i--){var rule=rules[i];if(!rule[0]||interval>=_moment2.default.duration(rule[0]))return rule[1]}return config.get("dateFormat")},TimeBuckets.prototype.getScaledDateFormatter=function(){return new(_field_formats.fieldFormats.getType("date"))({pattern:this.getScaledDateFormat()},getConfig)},TimeBuckets.__cached__=function(self){function cachedGetter(prop){return{value:function(){return cache.hasOwnProperty(prop)?cache[prop]:cache[prop]=self[prop]()}}}function cacheBreaker(prop){var resource=resources[breakers[prop]],setup=resource.setup,changes=resource.changes,fn=self[prop];return{value:function(){var prev=setup.call(self),ret=fn.apply(self,arguments);return changes.call(self,prev)&&(cache={}),ret}}}function same(checkType){return function(a,b){return a===b||checkType(a)===checkType(b)&&+a==+b}}var cache={},sameMoment=same(_moment2.default.isMoment),sameDuration=same(_moment2.default.isDuration),desc={__cached__:{value:self}},breakers={setBounds:"bounds",clearBounds:"bounds",setInterval:"interval"},resources={bounds:{setup:function(){return[self._lb,self._ub]},changes:function(prev){return!sameMoment(prev[0],self._lb)||!sameMoment(prev[1],self._ub)}},interval:{setup:function(){return self._i},changes:function(prev){return!sameDuration(prev,this._i)}}};return _lodash2.default.forOwn(TimeBuckets.prototype,function(fn,prop){"_"!==prop[0]&&(breakers.hasOwnProperty(prop)?desc[prop]=cacheBreaker(prop):desc[prop]=cachedGetter(prop))}),Object.create(self,desc)},TimeBuckets}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeBucketsProvider=TimeBucketsProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_parse_interval=__webpack_require__(107),_calc_auto_interval=__webpack_require__(3352),_calc_es_interval=__webpack_require__(1172),_field_formats=__webpack_require__(99)},function(module,exports,__webpack_require__){"use strict";function TimeBucketsCalcAutoIntervalProvider(){function find(rules,check,last){function pick(buckets,duration){for(var target=duration/buckets,lastResp=void 0,i=0;i<rules.length;i++){var rule=rules[i],resp=check(rule[0],rule[1],target);if(null==resp){if(!last)continue;if(lastResp)return lastResp;break}if(!last)return resp;lastResp=resp}var ms=Math.max(Math.floor(target),1);return _moment2.default.duration(ms,"ms")}return function(buckets,duration){var interval=pick(buckets,duration);if(interval)return _moment2.default.duration(interval._data)}}var roundingRules=[[d(500,"ms"),d(100,"ms")],[d(5,"second"),d(1,"second")],[d(7.5,"second"),d(5,"second")],[d(15,"second"),d(10,"second")],[d(45,"second"),d(30,"second")],[d(3,"minute"),d(1,"minute")],[d(9,"minute"),d(5,"minute")],[d(20,"minute"),d(10,"minute")],[d(45,"minute"),d(30,"minute")],[d(2,"hour"),d(1,"hour")],[d(6,"hour"),d(3,"hour")],[d(24,"hour"),d(12,"hour")],[d(1,"week"),d(1,"d")],[d(3,"week"),d(1,"week")],[d(1,"year"),d(1,"month")],[1/0,d(1,"year")]],revRoundingRules=roundingRules.slice(0).reverse();return{near:find(revRoundingRules,function(bound,interval,target){if(bound>target)return interval},!0),lessThan:find(revRoundingRules,function(bound,interval,target){if(interval<target)return interval}),atLeast:find(revRoundingRules,function(bound,interval,target){if(interval<=target)return interval})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeBucketsCalcAutoIntervalProvider=TimeBucketsCalcAutoIntervalProvider;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment),d=_moment2.default.duration},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterDateHistogramProvider(){return function(agg,key){var start=(0,_moment2.default)(key),interval=agg.buckets.getInterval();return(0,_range.buildRangeFilter)(agg.params.field,{gte:start.valueOf(),lt:start.add(interval).valueOf(),format:"epoch_millis"},agg.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterDateHistogramProvider=AggTypesBucketsCreateFilterDateHistogramProvider;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment),_range=__webpack_require__(185)},function(module,exports){module.exports='<div class="form-group">\n  <label for="visEditorInterval{{agg.id}}">\n    Interval\n    <icon-tip\n      ng-show="agg.buckets.getInterval().scaled"\n      type="\'alert\'"\n      position="\'right\'"\n      content="\'This interval creates {{ agg.buckets.getInterval().scale > 1 ? \'buckets that are too large\' : \'too many buckets\' }} to show in the selected time range, so it has been scaled to {{ agg.buckets.getInterval().description }}\'"\n    ></icon-tip>\n  </label>\n  <select\n    id="visEditorInterval{{agg.id}}"\n    ng-model="agg.params.interval"\n    ng-change="agg.write()"\n    required\n    ng-options="opt as opt.display for opt in aggParam.options.raw | filter: optionEnabled"\n    class="form-control"\n    name="interval">\n    <option value="">-- select a valid interval --</option>\n  </select>\n  <input\n    aria-label="Custom interval"\n    type="text"\n    name="customInterval"\n    ng-model="agg.params.customInterval"\n    validate-date-interval\n    ng-change="aggForm.customInterval.$valid && agg.write()"\n    ng-if="agg.params.interval.val == \'custom\'"\n    class="form-control"\n    required />\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AggTypesBucketsHistogramProvider(Private,config){var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),createFilter=Private(_histogram.AggTypesBucketsCreateFilterHistogramProvider);return new BucketAggType({name:"histogram",title:"Histogram",ordered:{},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()},createFilter:createFilter,decorateAggConfig:function(){var autoBounds=void 0;return{setAutoBounds:{configurable:!0,value:function(newValue){autoBounds=newValue}},getAutoBounds:{configurable:!0,value:function(){return autoBounds}}}},params:[{name:"field",filterFieldTypes:"number"},{name:"interval",editor:_number_interval2.default,modifyAggConfigOnSearchRequestStart:function(aggConfig,searchSource){var field=aggConfig.getField(),aggBody=field.scripted?{script:{inline:field.script,lang:field.lang}}:{field:field.name};return searchSource.extend().size(0).aggs({maxAgg:{max:aggBody},minAgg:{min:aggBody}}).fetchAsRejectablePromise().then(function(resp){aggConfig.setAutoBounds({min:_lodash2.default.get(resp,"aggregations.minAgg.value"),max:_lodash2.default.get(resp,"aggregations.maxAgg.value")})})},write:function(aggConfig,output){var interval=parseFloat(aggConfig.params.interval);if(interval<=0&&(interval=1),aggConfig.getAutoBounds()){var range=aggConfig.getAutoBounds().max-aggConfig.getAutoBounds().min;if(range/interval>config.get("histogram:maxBars")){for(var minInterval=range/config.get("histogram:maxBars"),orderOfMaginute=Math.pow(10,Math.floor(Math.log10(minInterval))),roundInterval=orderOfMaginute;roundInterval<minInterval;)roundInterval+=orderOfMaginute;interval=roundInterval}}output.params.interval=interval}},{name:"min_doc_count",default:null,editor:_min_doc_count2.default,write:function(aggConfig,output){aggConfig.params.min_doc_count?output.params.min_doc_count=0:output.params.min_doc_count=1}},{name:"extended_bounds",default:{},editor:_extended_bounds2.default,write:function(aggConfig,output){var val=aggConfig.params.extended_bounds;!aggConfig.params.min_doc_count||null==val.min&&null==val.max||(output.params.extended_bounds={min:val.min,max:val.max})},shouldShow:function(aggConfig){var field=aggConfig.params.field;if(field&&("number"===field.type||"date"===field.type))return aggConfig.params.min_doc_count}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsHistogramProvider=AggTypesBucketsHistogramProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(657);var _bucket_agg_type=__webpack_require__(167),_histogram=__webpack_require__(3356),_number_interval=__webpack_require__(3357),_number_interval2=_interopRequireDefault(_number_interval),_min_doc_count=__webpack_require__(3358),_min_doc_count2=_interopRequireDefault(_min_doc_count),_extended_bounds=__webpack_require__(3359),_extended_bounds2=_interopRequireDefault(_extended_bounds)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterHistogramProvider(){return function(aggConfig,key){var value=parseInt(key,10);return(0,_range.buildRangeFilter)(aggConfig.params.field,{gte:value,lt:value+aggConfig.params.interval},aggConfig.vis.indexPattern,aggConfig.fieldFormatter()(key))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterHistogramProvider=AggTypesBucketsCreateFilterHistogramProvider;var _range=__webpack_require__(185)},function(module,exports){module.exports='<div class="form-group">\n  <label for="visEditorInterval{{agg.id}}">\n    Minimum Interval\n    &nbsp;\n    <icon-tip\n      position="\'right\'"\n      content="\'Interval will be automatically scaled in the event that the provided value creates more buckets than specified by Advanced Setting\\\'s histogram:maxBars\'"\n    ></icon-tip>\n  </label>\n  <input\n    id="visEditorInterval{{agg.id}}"\n    ng-model="agg.params.interval"\n    required\n    type="number"\n    class="form-control"\n    name="interval"\n    min="0"\n    input-number\n    >\n</div>\n'},function(module,exports){module.exports='<div class="checkbox">\n  <label>\n    <input ng-model="agg.params.min_doc_count" type="checkbox">\n    Show empty buckets\n    &nbsp;\n    <icon-tip\n      position="\'right\'"\n      content="\'Show all buckets, not only the buckets with results\'"\n    ></icon-tip>\n  </label>\n</div>\n'},function(module,exports){module.exports='<div ng-if="aggParam.shouldShow(agg)">\n  <div>\n    <label id="extendedBoundsLabel{{agg.id}}">\n      Extended Bounds\n      &nbsp;\n      <icon-tip\n        position="\'right\'"\n        content="\'Min and Max do not filter the results, but rather extend the bounds of the result set\'"\n      ></icon-tip>\n    </label>\n  </div>\n  <div class="vis-editor-agg-form-row">\n    <div class="form-group">\n      <label\n        id="extendedBoundsMinLabel{{agg.id}}"\n        for="extendedBoundsMinInput{{agg.id}}"\n      >\n        Min <small>(optional)</small>\n      </label>\n      <input\n        id="extendedBoundsMinInput{{agg.id}}"\n        aria-labelledby="extendedBoundsLabel{{agg.id}} extendedBoundsMinLabel{{agg.id}}"\n        ng-model="agg.params.extended_bounds.min"\n        type="number"\n        class="form-control"\n        name="extended_bounds.min" />\n    </div>\n    <div class="form-group">\n      <label\n        id="extendedBoundsMaxLabel{{agg.id}}"\n        for="extendedBoundsMaxInput{{agg.id}}"\n      >\n        Max <small>(optional)</small>\n      </label>\n      <input\n        id="extendedBoundsMaxInput{{agg.id}}"\n        aria-labelledby="extendedBoundsLabel{{agg.id}} extendedBoundsMaxLabel{{agg.id}}"\n        ng-model="agg.params.extended_bounds.max"\n        type="number"\n        class="form-control"\n        name="extended_bounds.max" />\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsRangeProvider(Private){var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),createFilter=Private(_range.AggTypesBucketsCreateFilterRangeProvider),RangeKey=Private(_range_key.RangeKeyProvider),keyCaches=new WeakMap,formats=new WeakMap;return new BucketAggType({name:"range",title:"Range",createFilter:createFilter,makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" ranges"},getKey:function(bucket,key,agg){var keys=keyCaches.get(agg);keys||(keys=new Map,keyCaches.set(agg,keys));var id=RangeKey.idBucket(bucket);return key=keys.get(id),key||(key=new RangeKey(bucket),keys.set(id,key)),key},getFormat:function(agg){var format=formats.get(agg);return format||(format=new(_field_format.FieldFormat.from(function(range){var format=agg.fieldOwnFormatter();return format(range.gte)+" to "+format(range.lt)})),formats.set(agg,format),format)},params:[{name:"field",filterFieldTypes:["number"]},{name:"ranges",default:[{from:0,to:1e3},{from:1e3,to:2e3}],editor:_ranges2.default,write:function(aggConfig,output){output.params.ranges=aggConfig.params.ranges,output.params.keyed=!0}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsRangeProvider=AggTypesBucketsRangeProvider;var _bucket_agg_type=__webpack_require__(167),_range=__webpack_require__(3361),_field_format=__webpack_require__(453),_range_key=__webpack_require__(3362),_ranges=__webpack_require__(3363),_ranges2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ranges)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterRangeProvider(){return function(aggConfig,key){return(0,_range.buildRangeFilter)(aggConfig.params.field,key,aggConfig.vis.indexPattern,aggConfig.fieldFormatter()(key))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterRangeProvider=AggTypesBucketsCreateFilterRangeProvider;var _range=__webpack_require__(185)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function RangeKeyProvider(){var id=Symbol("id");return function(){function RangeKey(bucket){_classCallCheck(this,RangeKey),this.gte=null==bucket.from?-1/0:bucket.from,this.lt=null==bucket.to?1/0:bucket.to,this[id]=RangeKey.idBucket(bucket)}return _createClass(RangeKey,[{key:"toString",value:function(){return this[id]}}],[{key:"idBucket",value:function(bucket){return"from:"+bucket.from+",to:"+bucket.to}}]),RangeKey}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.RangeKeyProvider=RangeKeyProvider},function(module,exports){module.exports='<table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.length">\n  <tr>\n    <th scope="col">\n      <label id="visEditorRangeFrom{{agg.id}}">From</label>\n    </th>\n    <th scope="col" colspan="2">\n      <label id="visEditorRangeTo{{agg.id}}">To</label>\n    </th>\n  </tr>\n\n  <tr\n    ng-repeat="range in agg.params.ranges track by $index">\n    <td>\n      <input\n        aria-labelledby="visEditorRangeFrom{{agg.id}}"\n        ng-model="range.from"\n        type="number"\n        class="form-control"\n        name="range.from"\n        step="any" />\n    </td>\n    <td>\n      <input\n        aria-labelledby="visEditorRangeTo{{agg.id}}"\n        ng-model="range.to"\n        type="number"\n        class="form-control"\n        name="range.to"\n        step="any" />\n    </td>\n    <td>\n      <button\n        type="button"\n        aria-label="Remove this range"\n        ng-click="agg.params.ranges.splice($index, 1)"\n        class="kuiButton kuiButton--danger kuiButton--small">\n        <i class="fa fa-times"></i>\n      </button>\n    </td>\n  </tr>\n</table>\n\n<input ng-model="agg.params.ranges.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n<div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n  <p>\n    <i class="fa fa-danger text-danger"></i>\n    <strong>Required:</strong> You must specify at least one range.\n  </p>\n</div>\n\n<button\n  ng-click="agg.params.ranges.push({})"\n  class="kuiButton kuiButton--primary kuiButton--fullWidth"\n>\n  Add Range\n</button>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsDateRangeProvider(Private){return new(Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider))({name:"date_range",title:"Date Range",createFilter:Private(_date_range2.AggTypesBucketsCreateFilterDateRangeProvider),getKey:function(bucket,key,agg){var formatter=agg.fieldOwnFormatter("text",_field_formats.fieldFormats.getDefaultInstance("date"));return _date_range.dateRange.toString(bucket,formatter)},getFormat:function(){return _field_formats.fieldFormats.getDefaultInstance("string")},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" date ranges"},params:[{name:"field",filterFieldTypes:"date",default:function(agg){return agg.vis.indexPattern.timeFieldName}},{name:"ranges",default:[{from:"now-1w/w",to:"now"}],editor:_date_ranges2.default}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsDateRangeProvider=AggTypesBucketsDateRangeProvider;var _date_range=__webpack_require__(1174);__webpack_require__(646),__webpack_require__(297);var _bucket_agg_type=__webpack_require__(167),_date_range2=__webpack_require__(3365),_field_formats=__webpack_require__(99),_date_ranges=__webpack_require__(3366),_date_ranges2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_date_ranges)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterDateRangeProvider(config){return function(agg,key){var range=_date_range.dateRange.parse(key,config.get("dateFormat")),filter={};return range.from&&(filter.gte=+range.from),range.to&&(filter.lt=+range.to),range.to&&range.from&&(filter.format="epoch_millis"),(0,_range.buildRangeFilter)(agg.params.field,filter,agg.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterDateRangeProvider=AggTypesBucketsCreateFilterDateRangeProvider;var _date_range=__webpack_require__(1174),_range=__webpack_require__(185)},function(module,exports){module.exports='<div>\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.length">\n      <tr>\n        <th scope="col">\n          <label id="visEditorDateRangeFrom{{agg.id}}">From</label>\n        </th>\n        <th scope="col" colspan="2">\n          <label id="visEditorDateRangeTo{{agg.id}}">To</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges track by $index">\n        <td>\n          <input\n            aria-labelledby="visEditorDateRangeFrom{{agg.id}}"\n            ng-model="range.from"\n            validate-date-math\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td>\n          <input\n            aria-labelledby="visEditorDateRangeTo{{agg.id}}"\n            ng-model="range.to"\n            validate-date-math\n            class="form-control"\n            name="range.to" />\n        </td>\n        <td>\n          <button\n            type="button"\n            aria-label="Remove this range"\n            ng-click="agg.params.ranges.splice($index, 1)"\n            class="kuiButton kuiButton--danger kuiButton--small">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n      <tr>\n        <td colspan="3">\n          <small>\n            <a\n              class="kuiLink"\n              documentation-href="date.dateMath"\n              target="_blank"\n              rel="noopener noreferrer"\n            >\n              Accepted date formats\n            </a>\n          </small>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-model="agg.params.ranges.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one date range.\n      </p>\n    </div>\n\n    <button\n      ng-click="agg.params.ranges.push({})"\n      class="kuiButton kuiButton--primary kuiButton--fullWidth"\n    >\n      Add Range\n    </button>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AggTypesBucketsIpRangeProvider(Private){return new(Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider))({name:"ip_range",title:"IPv4 Range",createFilter:Private(_ip_range.AggTypesBucketsCreateFilterIpRangeProvider),getKey:function(bucket,key){return key||_lodash2.default.get(bucket,"from","-Infinity")+" to "+_lodash2.default.get(bucket,"to","Infinity")},makeLabel:function(aggConfig){return aggConfig.getFieldDisplayName()+" IP ranges"},params:[{name:"field",filterFieldTypes:"ip"},{name:"ipRangeType",default:"fromTo",write:_lodash2.default.noop},{name:"ranges",default:{fromTo:[{from:"0.0.0.0",to:"127.255.255.255"},{from:"128.0.0.0",to:"191.255.255.255"}],mask:[{mask:"0.0.0.0/1"},{mask:"128.0.0.0/2"}]},editor:_ip_ranges2.default,write:function(aggConfig,output){var ipRangeType=aggConfig.params.ipRangeType,ranges=aggConfig.params.ranges[ipRangeType];"fromTo"===ipRangeType&&(ranges=_lodash2.default.map(ranges,function(range){return _lodash2.default.omit(range,_lodash2.default.isNull)})),output.params.ranges=ranges}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsIpRangeProvider=AggTypesBucketsIpRangeProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(647),__webpack_require__(1138);var _bucket_agg_type=__webpack_require__(167),_ip_range=__webpack_require__(3368),_ip_ranges=__webpack_require__(3369),_ip_ranges2=_interopRequireDefault(_ip_ranges)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterIpRangeProvider(){return function(aggConfig,key){var range=void 0;if("mask"===aggConfig.params.ipRangeType)range=new _cidr_mask.CidrMask(key).getRange();else{var _key$split=key.split(/\s+to\s+/),_key$split2=_slicedToArray(_key$split,2),from=_key$split2[0],to=_key$split2[1];range={from:"-Infinity"===from?-1/0:from,to:"Infinity"===to?1/0:to}}return(0,_range.buildRangeFilter)(aggConfig.params.field,{gte:range.from,lte:range.to},aggConfig.vis.indexPattern)}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.AggTypesBucketsCreateFilterIpRangeProvider=AggTypesBucketsCreateFilterIpRangeProvider;var _cidr_mask=__webpack_require__(1139),_range=__webpack_require__(185)},function(module,exports){module.exports='<div>\n\n  <p>\n    <button type="button" class="kuiButton kuiButton--secondary" ng-show="agg.params.ipRangeType == \'mask\'" ng-click="agg.params.ipRangeType = \'fromTo\'">Use From/To</button>\n    <button type="button" class="kuiButton kuiButton--secondary" ng-show="agg.params.ipRangeType != \'mask\'" ng-click="agg.params.ipRangeType = \'mask\'">Use CIDR Masks</button>\n  </p>\n\n  <div class="euiSpacer euiSpacer--s"></div>\n\n  <div ng-show="agg.params.ipRangeType != \'mask\'">\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.fromTo.length">\n      <tr>\n        <th scope="col">\n          <label id="visEditorIpRangeFromLabel{{agg.id}}">From</label>\n        </th>\n        <th scope="col" colspan="2">\n          <label id="visEditorIpRangeToLabel{{agg.id}}">To</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges.fromTo track by $index">\n        <td>\n          <input\n            aria-labelledby="visEditorIpRangeFromLabel{{agg.id}}"\n            validate-ip\n            ng-model="range.from"\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td>\n          <input\n            aria-labelledby="visEditorIpRangeToLabel{{agg.id}}"\n            validate-ip\n            ng-model="range.to"\n            class="form-control"\n            name="range.to" />\n        </td>\n        <td>\n          <button\n            type="button"\n            aria-label="Remove this range"\n            ng-click="agg.params.ranges.fromTo.splice($index, 1)"\n            class="kuiButton kuiButton--danger kuiButton--small">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-if="agg.params.ipRangeType != \'mask\'" ng-model="agg.params.ranges.fromTo.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one IP range.\n      </p>\n    </div>\n\n    <button\n      ng-click="agg.params.ranges.fromTo.push({})"\n      class="kuiButton kuiButton--primary kuiButton--fullWidth"\n    >\n      Add Range\n    </button>\n  </div>\n\n  <div ng-show="agg.params.ipRangeType == \'mask\'">\n    <table class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.mask.length">\n      <tr>\n        <th scope="col">\n          <label id="visEditorIpRangeCidrLabel{{agg.id}}">CIDR Mask</label>\n        </th>\n      </tr>\n\n      <tr\n        ng-repeat="range in agg.params.ranges.mask track by $index">\n        <td>\n          <input\n            aria-labelledby="visEditorIpRangeCidrLabel{{agg.id}}"\n            validate-cidr-mask\n            ng-model="range.mask"\n            type="text"\n            class="form-control"\n            name="range.from" />\n        </td>\n        <td>\n          <button\n            type="button"\n            aria-label="Remove this CIDR mask"\n            ng-click="agg.params.ranges.mask.splice($index, 1)"\n            class="kuiButton kuiButton--danger kuiButton--small">\n            <i class="fa fa-times" ></i>\n          </button>\n        </td>\n      </tr>\n    </table>\n\n    <input ng-if="agg.params.ipRangeType == \'mask\'" ng-model="agg.params.ranges.mask.length" name="rangeLength" required min="1" type="number" class="ng-hide" />\n    <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">\n      <p>\n        <i class="fa fa-danger text-danger"></i>\n        <strong>Required:</strong> You must specify at least one IP range.\n      </p>\n    </div>\n\n    <button\n      ng-click="agg.params.ranges.mask.push({})"\n      class="kuiButton kuiButton--primary  kuiButton--fullWidth"\n    >\n      Add Range\n    </button>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function AggTypesBucketsTermsProvider(Private){function isNotType(type){return function(agg){var field=agg.params.field;return!field||field.type!==type}}var _this=this,BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),createFilter=Private(_terms.AggTypesBucketsCreateFilterTermsProvider),routeBasedNotifier=Private(_route_based_notifier.RouteBasedNotifierProvider),_Private=Private(_terms_other_bucket_helper.OtherBucketHelperProvider),buildOtherBucketAgg=_Private.buildOtherBucketAgg,mergeOtherBucketAggResponse=_Private.mergeOtherBucketAggResponse,updateMissingBucket=_Private.updateMissingBucket,aggFilter=["!top_hits","!percentiles","!median","!std_dev","!derivative","!moving_avg","!serial_diff","!cumulative_sum","!avg_bucket","!max_bucket","!min_bucket","!sum_bucket"],orderAggSchema=new _schemas.Schemas([{group:"none",name:"orderAgg",title:"Order Agg",hideCustomLabel:!0,aggFilter:aggFilter}]).all[0],migrateIncludeExcludeFormat={serialize:function(value){return!value||_lodash2.default.isString(value)?value:value.pattern},write:function(aggConfig,output){var value=aggConfig.params[this.name];_lodash2.default.isObject(value)?output.params[this.name]=value.pattern:value&&(output.params[this.name]=value)}};return new BucketAggType({name:"terms",title:"Terms",makeLabel:function(agg){var params=agg.params;return agg.getFieldDisplayName()+": "+params.order.display},createFilter:createFilter,postFlightRequest:function(){function postFlightRequest(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(resp,aggConfigs,aggConfig,nestedSearchSource){var filterAgg,response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!aggConfig.params.otherBucket){_context.next=7;break}return filterAgg=buildOtherBucketAgg(aggConfigs,aggConfig,resp),nestedSearchSource.set("aggs",filterAgg),_context.next=5,nestedSearchSource.fetchAsRejectablePromise();case 5:response=_context.sent,resp=mergeOtherBucketAggResponse(aggConfigs,resp,response,aggConfig,filterAgg());case 7:return aggConfig.params.missingBucket&&(resp=updateMissingBucket(resp,aggConfigs,aggConfig)),_context.abrupt("return",resp);case 9:case"end":return _context.stop()}},_callee,_this)}));return postFlightRequest}(),params:[{name:"field",filterFieldTypes:["number","boolean","date","ip","string"]},{name:"otherBucket",default:!1,write:_lodash2.default.noop},{name:"otherBucketLabel",default:"Other",write:_lodash2.default.noop},{name:"missingBucket",default:!1,write:_lodash2.default.noop},{name:"missingBucketLabel",default:"Missing",write:_lodash2.default.noop},_extends({name:"exclude",type:"string",advanced:!0,disabled:isNotType("string")},migrateIncludeExcludeFormat),_extends({name:"include",type:"string",advanced:!0,disabled:isNotType("string")},migrateIncludeExcludeFormat),{name:"size",default:5},{name:"orderAgg",type:_agg_config.AggConfig,default:null,editor:_order_agg2.default,serialize:function(orderAgg){return orderAgg.toJSON()},deserialize:function(state,agg){return this.makeOrderAgg(agg,state)},makeOrderAgg:function(termsAgg,state){state=state||{},state.schema=orderAggSchema;var orderAgg=new _agg_config.AggConfig(termsAgg.vis,state);return orderAgg.id=termsAgg.id+"-orderAgg",orderAgg},controller:function($scope){function updateOrderAgg(){if($scope.responseValueAggs){var agg=$scope.agg,params=agg.params,orderBy=params.orderBy,paramDef=agg.type.params.byName.orderAgg;if(!orderBy&&prevOrderBy===INIT){var respAgg=(0,_lodash2.default)($scope.responseValueAggs).filter(function(agg){return!$scope.rejectAgg(agg)}).first();return respAgg||(respAgg={id:"_term"}),void(params.orderBy=respAgg.id)}if(prevOrderBy=orderBy,!orderBy||"custom"!==orderBy){params.orderAgg=null;return void((0,_lodash2.default)($scope.responseValueAggs).filter(function(agg){return!$scope.rejectAgg(agg)}).find({id:orderBy})||(params.orderBy="_term"))}params.orderAgg=params.orderAgg||paramDef.makeOrderAgg(agg)}}$scope.safeMakeLabel=function(agg){try{return agg.makeLabel()}catch(e){return"- agg not valid -"}};var INIT={},prevOrderBy=INIT;$scope.$watch("responseValueAggs",updateOrderAgg),$scope.$watch("agg.params.orderBy",updateOrderAgg),$scope.rejectAgg=function(agg){return aggFilter.includes("!"+agg.type.name)},$scope.$watch("agg.params.field.type",function(type){"string"!==type&&($scope.agg.params.missingBucket=!1)})},write:function(agg,output){var vis=agg.vis,dir=agg.params.order.val,order=output.params.order={},orderAgg=agg.params.orderAgg||vis.aggs.getResponseAggById(agg.params.orderBy);if(output.params.script&&(output.params.valueType="number"===agg.getField().type?"float":agg.getField().type),agg.params.missingBucket&&"string"===agg.params.field.type&&(output.params.missing="__missing__"),!orderAgg)return void(order[agg.params.orderBy||"_count"]=dir);if("count"===orderAgg.type.name)return"asc"===dir&&routeBasedNotifier.warning("Sorting in Ascending order by Count in Terms aggregations is deprecated"),void(order._count=dir);var orderAggId=orderAgg.id;orderAgg.parentId&&(orderAgg=vis.aggs.byId[orderAgg.parentId]),output.subAggs=(output.subAggs||[]).concat(orderAgg),order[orderAggId]=dir}},{name:"order",type:"optioned",default:"desc",editor:_order_and_size2.default,options:[{display:"Descending",val:"desc"},{display:"Ascending",val:"asc"}],write:_lodash2.default.noop},{name:"orderBy",write:_lodash2.default.noop}]})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.AggTypesBucketsTermsProvider=AggTypesBucketsTermsProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_bucket_agg_type=__webpack_require__(167),_agg_config=__webpack_require__(193),_schemas=__webpack_require__(85),_terms=__webpack_require__(1175),_order_agg=__webpack_require__(3371),_order_agg2=_interopRequireDefault(_order_agg),_order_and_size=__webpack_require__(1176),_order_and_size2=_interopRequireDefault(_order_and_size),_route_based_notifier=__webpack_require__(3372),_terms_other_bucket_helper=__webpack_require__(3373)},function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group">\n    <label for="visEditorOrder{{agg.id}}">Order By</label>\n    <select\n      id="visEditorOrder{{agg.id}}"\n      name="orderBy"\n      ng-model="agg.params.orderBy"\n      required\n      class="form-control">\n      <option\n        ng-repeat="respAgg in responseValueAggs track by respAgg.id"\n        value="{{respAgg.id}}"\n        ng-disabled="rejectAgg(respAgg)"\n        ng-selected="agg.params.orderBy === respAgg.id">\n        metric: {{safeMakeLabel(respAgg)}}\n      </option>\n      <option value="custom" ng-selected="agg.params.orderBy === \'custom\'">\n        Custom Metric\n      </option>\n       <option value="_term" ng-selected="agg.params.orderBy === \'_term\'">\n        Term\n      </option>\n    </select>\n  </div>\n  <div ng-show="agg.params.orderAgg" class="vis-editor-agg-order-agg">\n    <vis-editor-agg-params\n      agg="agg.params.orderAgg"\n      ng-if="agg.params.orderAgg"\n      group-name="\'metrics\'">\n    </vis-editor-agg-params>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function RouteBasedNotifierProvider($rootScope){function executeIfNew(messages,message,notifyFn){(0,_lodash.includes)(messages,message)||(messages.push(message),notifyFn.call(notifier,message))}var notifier=new _notify.Notifier,notifications={warnings:[]};return $rootScope.$on("$routeChangeSuccess",function(){notifications=(0,_lodash.mapValues)(notifications,function(){return[]})}),{warning:function(message){executeIfNew(notifications.warnings,message,notifier.warning)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RouteBasedNotifierProvider=RouteBasedNotifierProvider;var _lodash=__webpack_require__(1),_notify=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OtherBucketHelperProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_agg_config=__webpack_require__(193),_phrases=__webpack_require__(649),_exists=__webpack_require__(1074),_from_filters=__webpack_require__(1059),getNestedAggDSL=function getNestedAggDSL(aggNestedDsl,startFromAggId){return aggNestedDsl[startFromAggId]?aggNestedDsl[startFromAggId]:getNestedAggDSL(_lodash2.default.values(aggNestedDsl)[0].aggs,startFromAggId)},getAggResultBuckets=function(aggConfigs,response,aggWithOtherBucket,key){var keyParts=key.split("-"),responseAgg=response;for(var i in keyParts)!function(i){if(keyParts[i]){var agg=_lodash2.default.values(responseAgg)[0],aggKey=_lodash2.default.keys(responseAgg)[0],aggConfig=_lodash2.default.find(aggConfigs,function(agg){return agg.id===aggKey}),bucket=_lodash2.default.find(agg.buckets,function(bucket,bucketObjKey){return aggConfig.getKey(bucket,Number.isInteger(bucketObjKey)?null:bucketObjKey).toString()===keyParts[i]});bucket&&(responseAgg=bucket)}}(i);return responseAgg[aggWithOtherBucket.id]?responseAgg[aggWithOtherBucket.id].buckets:[]},getAggConfigResultMissingBuckets=function getAggConfigResultMissingBuckets(responseAggs,aggId){var resultBuckets=[];if(responseAggs[aggId]){var matchingBucket=responseAggs[aggId].buckets.find(function(bucket){return"__missing__"===bucket.key});return matchingBucket&&resultBuckets.push(matchingBucket),resultBuckets}return _lodash2.default.each(responseAggs,function(agg){agg.buckets&&_lodash2.default.each(agg.buckets,function(bucket){resultBuckets=[].concat(_toConsumableArray(resultBuckets),_toConsumableArray(getAggConfigResultMissingBuckets(bucket,aggId,"__missing__")))})}),resultBuckets},getOtherAggTerms=function(requestAgg,key,otherAgg){return requestAgg["other-filter"].filters.filters[key].bool.must_not.filter(function(filter){return filter.match_phrase&&filter.match_phrase[otherAgg.params.field.name]}).map(function(filter){return filter.match_phrase[otherAgg.params.field.name].query})};exports.OtherBucketHelperProvider=function(){return{buildOtherBucketAgg:function(aggConfigs,aggWithOtherBucket,response){var bucketAggs=aggConfigs.filter(function(agg){return"buckets"===agg.type.type}),index=bucketAggs.findIndex(function(agg){return agg.id===aggWithOtherBucket.id}),aggs=aggConfigs.toDsl(),indexPattern=aggWithOtherBucket.params.field.indexPattern,filterAgg=new _agg_config.AggConfig(aggConfigs[index].vis,{type:"filters",id:"other",schema:{group:"buckets"}}),resultAgg={aggs:getNestedAggDSL(aggs,aggWithOtherBucket.id).aggs,filters:filterAgg.toDsl()};return function walkBucketTree(aggIndex,aggs,aggId,filters,key){var agg=aggs[aggId],newAggIndex=aggIndex+1,newAgg=bucketAggs[newAggIndex],currentAgg=bucketAggs[aggIndex];if(aggIndex<index)return void _lodash2.default.each(agg.buckets,function(bucket,bucketObjKey){var bucketKey=currentAgg.getKey(bucket,Number.isInteger(bucketObjKey)?null:bucketObjKey),filter=_lodash2.default.cloneDeep(bucket.filter)||currentAgg.createFilter(bucketKey),newFilters=[].concat(_toConsumableArray(filters),[filter]);walkBucketTree(newAggIndex,bucket,newAgg.id,newFilters,key+"-"+bucketKey.toString())});aggWithOtherBucket.params.missingBucket&&!agg.buckets.some(function(bucket){return"__missing__"===bucket.key})||filters.push((0,_exists.buildExistsFilter)(aggWithOtherBucket.params.field,aggWithOtherBucket.params.field.indexPattern)),_lodash2.default.each(agg.buckets,function(bucket){if("__missing__"!==bucket.key){var filter=currentAgg.createFilter(bucket.key);filter.meta.negate=!0,filters.push(filter)}}),resultAgg.filters.filters[key]={bool:(0,_from_filters.buildQueryFromFilters)(filters,_lodash2.default.noop,indexPattern)}}(0,response.aggregations,bucketAggs[0].id,[],""),function(){return{"other-filter":resultAgg}}},mergeOtherBucketAggResponse:function(aggsConfig,response,otherResponse,otherAgg,requestAgg){var updatedResponse=_lodash2.default.cloneDeep(response);return _lodash2.default.each(otherResponse.aggregations["other-filter"].buckets,function(bucket,key){if(bucket.doc_count){var bucketKey=key.replace(/^-/,""),aggResultBuckets=getAggResultBuckets(aggsConfig,updatedResponse.aggregations,otherAgg,bucketKey),requestFilterTerms=getOtherAggTerms(requestAgg,key,otherAgg),phraseFilter=(0,_phrases.buildPhrasesFilter)(otherAgg.params.field,requestFilterTerms,otherAgg.params.field.indexPattern);phraseFilter.meta.negate=!0,bucket.filters=[phraseFilter],bucket.key=otherAgg.params.otherBucketLabel,aggResultBuckets.some(function(bucket){return"__missing__"===bucket.key})&&bucket.filters.push((0,_exists.buildExistsFilter)(otherAgg.params.field,otherAgg.params.field.indexPattern)),aggResultBuckets.push(bucket)}}),updatedResponse},updateMissingBucket:function(response,aggConfigs,agg){var updatedResponse=_lodash2.default.cloneDeep(response);return getAggConfigResultMissingBuckets(updatedResponse.aggregations,agg.id).forEach(function(bucket){bucket.key=agg.params.missingBucketLabel;var existsFilter=(0,_exists.buildExistsFilter)(agg.params.field,agg.params.field.indexPattern);existsFilter.meta.negate=!0,bucket.filters=[existsFilter]}),updatedResponse}}}},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsFilterProvider(Private){return new(Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider))({name:"filter",title:"Filter",params:[{name:"geo_bounding_box"}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsFilterProvider=AggTypesBucketsFilterProvider;var _bucket_agg_type=__webpack_require__(167)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AggTypesBucketsFiltersProvider(Private,Notifier){var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),createFilter=Private(_filters.AggTypesBucketsCreateFilterFiltersProvider),decorateQuery=Private(_decorate_query.DecorateQueryProvider),notif=new Notifier({location:"Filters Agg"});return new BucketAggType({name:"filters",title:"Filters",createFilter:createFilter,customLabels:!1,params:[{name:"filters",editor:_filters3.default,default:[{input:{},label:""}],write:function(aggConfig,output){var inFilters=aggConfig.params.filters;if(_lodash2.default.size(inFilters)){var outFilters=_lodash2.default.transform(inFilters,function(filters,filter){var input=_lodash2.default.cloneDeep(filter.input);if(!input)return notif.log('malformed filter agg params, missing "input" query');var query=input.query=(0,_lucene_string_to_dsl.luceneStringToDsl)(input.query);if(!query)return notif.log('malformed filter agg params, missing "query" on input');decorateQuery(query);var matchAllLabel=""===filter.input.query&&_lodash2.default.has(query,"match_all")?"*":"";filters[filter.label||matchAllLabel||_lodash2.default.get(query,"query_string.query")||_angular2.default.toJson(query)]=input},{});if(_lodash2.default.size(outFilters)){(output.params||(output.params={})).filters=outFilters}}}}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsFiltersProvider=AggTypesBucketsFiltersProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_lucene_string_to_dsl=__webpack_require__(456),_bucket_agg_type=__webpack_require__(167),_filters=__webpack_require__(3376),_decorate_query=__webpack_require__(639),_filters2=__webpack_require__(3377),_filters3=_interopRequireDefault(_filters2)},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsCreateFilterFiltersProvider(){return function(aggConfig,key){var dslFilters=_lodash2.default.get(aggConfig.toDsl(),"filters.filters"),filter=dslFilters[key];if(filter)return(0,_query.buildQueryFilter)(filter.query,aggConfig.vis.indexPattern.id)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsCreateFilterFiltersProvider=AggTypesBucketsCreateFilterFiltersProvider;var _query=__webpack_require__(1075),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports){module.exports='<div class="form-group">\n  <div ng-repeat="filter in agg.params.filters">\n    <div class="vis-editor-agg-header">\n      <label for="visEditorFilterInput{{agg.id}}">\n          Filter {{$index + 1}}\n          <span ng-if="filter.label">- {{ filter.label }}</span>\n      </label>\n\n      <div class="kuiButtonGroup kuiButtonGroup--united">\n        <button\n          ng-click="showConfig = !showConfig"\n          type="button"\n          aria-label="Toggle filter label"\n          aria-expanded="{{!!showConfig}}"\n          aria-controls="visEditorFilterLabel{{agg.id}}"\n          class="kuiButton kuiButton--basic kuiButton--small">\n          <i class="fa fa-tag"></i>\n        </button>\n        <button\n          type="button"\n          aria-label="Remove this filter"\n          ng-click="agg.params.filters.splice($index, 1)"\n          class="kuiButton kuiButton--danger kuiButton--small">\n          <i class="fa fa-times"></i>\n        </button>\n      </div>\n    </div>\n\n    <div class="form-group">\n      <input\n        id="visEditorFilterInput{{agg.id}}"\n        parse-query\n        ng-model="filter.input.query"\n        type="text"\n        class="form-control"\n        name="filter{{$index}}">\n    </div>\n\n    <div class="form-group" ng-show="showConfig" id="visEditorFilterLabel{{agg.id}}">\n      <label for="visEditorFilterLabelInput{{agg.id}}">Filter {{$index + 1}} label</label>\n      <input\n        id="visEditorFilterLabelInput{{agg.id}}"\n        ng-model="filter.label"\n        placeholder="Label"\n        type="text"\n        class="form-control"\n        name="label{{$index}}">\n    </div>\n  </div>\n</div>\n\n<input ng-model="agg.params.filters.length" name="filterLength" required min="1" type="number" class="ng-hide" />\n<div class="hintbox" ng-show="aggForm.filterLength.$invalid">\n  <p>\n    <i class="fa fa-danger text-danger"></i>\n    <strong>Required:</strong> You must specify at least one filter.\n  </p>\n</div>\n\n<button\n  click-focus="\'filter\'+(agg.params.filters.length-1)"\n  ng-click="agg.params.filters.push({input:{}})"\n  class="kuiButton kuiButton--primary kuiButton--fullWidth"\n>\n  Add Filter\n</button>\n\n<div class="euiSpacer euiSpacer--s"></div>\n'},function(module,exports,__webpack_require__){"use strict";function AggTypesBucketsSignificantTermsProvider(Private){var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),createFilter=Private(_terms.AggTypesBucketsCreateFilterTermsProvider);return new BucketAggType({name:"significant_terms",title:"Significant Terms",makeLabel:function(aggConfig){return"Top "+aggConfig.params.size+" unusual terms in "+aggConfig.getFieldDisplayName()},createFilter:createFilter,params:[{name:"field",scriptable:!1,filterFieldTypes:"string"},{name:"size",editor:_order_and_size2.default},{name:"exclude",type:"regex",advanced:!0},{name:"include",type:"regex",advanced:!0}]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsSignificantTermsProvider=AggTypesBucketsSignificantTermsProvider;var _bucket_agg_type=__webpack_require__(167),_terms=__webpack_require__(1175),_order_and_size=__webpack_require__(1176),_order_and_size2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_order_and_size)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function AggTypesBucketsGeoHashProvider(Private,config){function getPrecision(precision){return precision=parseInt(precision,10),isNaN(precision)&&(precision=defaultPrecision),precision>maxPrecision?maxPrecision:precision}function getMapZoom(vis){return vis.hasUiState()&&parseInt(vis.uiStateVal("mapZoom"))>=0?parseInt(vis.uiStateVal("mapZoom")):vis.params.mapZoom}function isOutsideCollar(bounds,collar){return bounds&&collar&&!(0,_geo_utils.geoContains)(collar,bounds)}for(var BucketAggType=Private(_bucket_agg_type.AggTypesBucketsBucketAggTypeProvider),defaultPrecision=2,maxPrecision=parseInt(config.get("visualization:tileMap:maxPrecision"),10)||12,zoomPrecision={},zoom=0;zoom<=21;zoom+=1){var worldPixels=256*Math.pow(2,zoom);zoomPrecision[zoom]=1;for(var precision=2;precision<=maxPrecision;precision+=1){if(!(worldPixels/(0,_decode_geo_hash.geohashColumns)(precision)>=16))break;zoomPrecision[zoom]=precision}}return new BucketAggType({name:"geohash_grid",title:"Geohash",params:[{name:"field",filterFieldTypes:"geo_point"},{name:"autoPrecision",default:!0,write:_lodash2.default.noop},{name:"isFilteredByCollar",default:!0,write:_lodash2.default.noop},{name:"useGeocentroid",default:!0,write:_lodash2.default.noop},{name:"mapZoom",write:_lodash2.default.noop},{name:"mapCenter",write:_lodash2.default.noop},{name:"precision",editor:_precision2.default,default:defaultPrecision,deserialize:getPrecision,controller:function(){},write:function(aggConfig,output){var vis=aggConfig.vis,currZoom=getMapZoom(vis),autoPrecisionVal=zoomPrecision[currZoom];output.params.precision=aggConfig.params.autoPrecision?autoPrecisionVal:getPrecision(aggConfig.params.precision)}}],getRequestAggs:function(agg){var aggs=[];if(agg.params.isFilteredByCollar&&agg.getField()){var vis=agg.vis,mapBounds=vis.sessionState.mapBounds,mapZoom=getMapZoom(vis);if(mapBounds){var lastMapCollar=vis.sessionState.mapCollar,mapCollar=void 0;!lastMapCollar||lastMapCollar.zoom!==mapZoom||isOutsideCollar(mapBounds,lastMapCollar)?(mapCollar=(0,_geo_utils.scaleBounds)(mapBounds),mapCollar.zoom=mapZoom,vis.sessionState.mapCollar=mapCollar):mapCollar=lastMapCollar;var boundingBox=_defineProperty({ignore_unmapped:!0},agg.getField().name,{top_left:mapCollar.top_left,bottom_right:mapCollar.bottom_right});aggs.push(new _agg_config.AggConfig(agg.vis,{type:"filter",id:"filter_agg",enabled:!0,params:{geo_bounding_box:boundingBox},schema:{group:"buckets"}}))}}return aggs.push(agg),agg.params.useGeocentroid&&aggs.push(new _agg_config.AggConfig(agg.vis,{type:"geo_centroid",enabled:!0,params:{field:agg.getField()},schema:"metric"})),aggs}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesBucketsGeoHashProvider=AggTypesBucketsGeoHashProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_bucket_agg_type=__webpack_require__(167),_agg_config=__webpack_require__(193),_precision=__webpack_require__(3380),_precision2=_interopRequireDefault(_precision),_decode_geo_hash=__webpack_require__(681),_geo_utils=__webpack_require__(3381)},function(module,exports){module.exports='<div class="vis-editor-agg-form-row" ng-controller="agg.type.params.byName.precision.controller">\n  <div ng-if="!agg.params.autoPrecision" class="form-group">\n    <label for="visEditorMapPrecision{{agg.id}}">Precision</label>\n    <div class="vis-editor-agg-form-row">\n      <input\n        id="visEditorMapPrecision{{agg.id}}"\n        name="precision"\n        ng-model="agg.params.precision"\n        required\n        class="form-control"\n        type="range"\n        min="1"\n        max="{{config.get(\'visualization:tileMap:maxPrecision\')}}"\n        >\n      <div class="form-group vis-editor-agg-form-value">\n        {{agg.params.precision}}\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="vis-option-item">\n  <label>\n    <input type="checkbox"\n    name="autoPrecision"\n    ng-model="agg.params.autoPrecision">\n    Change precision on map zoom\n  </label>\n</div>\n\n<div class="vis-option-item">\n  <label>\n    <input type="checkbox"\n           name="useGeocentroid"\n           ng-model="agg.params.useGeocentroid">\n    Place markers off grid (use geocentroid)\n  </label>\n</div>\n\n<div class="vis-option-item">\n  <label>\n    <input\n      type="checkbox"\n      data-test-subj="isFilteredByCollarCheckbox"\n      name="isFilteredByCollar"\n      ng-model="agg.params.isFilteredByCollar"\n    >\n\n    Only request data around map extent\n\n    <icon-tip\n      position="\'right\'"\n      content="\'Apply geo_bounding_box filter aggregation to narrow the subject area to the map view box with collar\'"\n    ></icon-tip>\n  </label>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function geoContains(collar,bounds){return!(bounds.top_left.lat>collar.top_left.lat||bounds.top_left.lon<collar.top_left.lon)&&!(bounds.bottom_right.lat<collar.bottom_right.lat||bounds.bottom_right.lon>collar.bottom_right.lon)}function scaleBounds(bounds){if(bounds){var topLeft=bounds.top_left,bottomRight=bounds.bottom_right,latDiff=_lodash2.default.round(Math.abs(topLeft.lat-bottomRight.lat),5),lonDiff=_lodash2.default.round(Math.abs(bottomRight.lon-topLeft.lon),5);0===latDiff&&(latDiff=lonDiff);var latDelta=.5*latDiff,topLeftLat=_lodash2.default.round(topLeft.lat,5)+latDelta;topLeftLat>90&&(topLeftLat=90);var bottomRightLat=_lodash2.default.round(bottomRight.lat,5)-latDelta;bottomRightLat<-90&&(bottomRightLat=-90);var lonDelta=.5*lonDiff,topLeftLon=_lodash2.default.round(topLeft.lon,5)-lonDelta;topLeftLon<-180&&(topLeftLon=-180);var bottomRightLon=_lodash2.default.round(bottomRight.lon,5)+lonDelta;return bottomRightLon>180&&(bottomRightLon=180),{top_left:{lat:topLeftLat,lon:topLeftLon},bottom_right:{lat:bottomRightLat,lon:bottomRightLon}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.geoContains=geoContains,exports.scaleBounds=scaleBounds;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketSumProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"sum_bucket",title:"Sum Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall sum")},subtype:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.subtype,params:[].concat(_toConsumableArray(_sibling_pipeline_agg_helper.siblingPipelineAggHelper.params())),getFormat:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsBucketSumProvider=AggTypesMetricsBucketSumProvider;var _metric_agg_type=__webpack_require__(61),_make_nested_label=__webpack_require__(210),_sibling_pipeline_agg_helper=__webpack_require__(479)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.siblingPipelineAggController=void 0;var _safe_make_label=__webpack_require__(1170),siblingPipelineAggController=function(type){return function($scope){$scope.aggType=type,$scope.aggTitle="customMetric"===type?"Metric":"Bucket",$scope.aggGroup="customMetric"===type?"metrics":"buckets",$scope.safeMakeLabel=_safe_make_label.safeMakeLabel,function(){var agg=$scope.agg,params=agg.params,paramDef=agg.type.params.byName[type];params[type]=params[type]||paramDef.makeAgg(agg)}()}};exports.siblingPipelineAggController=siblingPipelineAggController},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var siblingPipelineAggWritter=function(agg,output){if(agg.params.customMetric){var metricAgg=agg.params.customMetric,bucketAgg=agg.params.customBucket;"count"!==metricAgg.type.name?(bucketAgg.subAggs=(output.subAggs||[]).concat(metricAgg),output.params.buckets_path=bucketAgg.id+">"+metricAgg.id):output.params.buckets_path=bucketAgg.id+">_count",output.parentAggs=(output.parentAggs||[]).concat(bucketAgg)}};exports.siblingPipelineAggWritter=siblingPipelineAggWritter},function(module,exports){module.exports='<div ng-controller="aggParam.controller">\n  <div class="form-group" ng-if="agg.params[aggType]">\n    <label>{{aggTitle}}</label>\n    <div class="vis-editor-agg-order-agg">\n      <ng-form name="{{aggType}}Form">\n        <vis-editor-agg-params\n          agg="agg.params[aggType]"\n          group-name="\'{{aggGroup}}\'">\n        </vis-editor-agg-params>\n      </ng-form>\n    </div>\n  </div>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketAvgProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"avg_bucket",title:"Average Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall average")},subtype:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.subtype,params:[].concat(_toConsumableArray(_sibling_pipeline_agg_helper.siblingPipelineAggHelper.params())),getFormat:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.getFormat,getValue:function(agg,bucket){var customMetric=agg.params.customMetric,scaleMetrics=customMetric.type&&customMetric.type.isScalable(),value=bucket[agg.id]&&bucket[agg.id].value;if(scaleMetrics){var aggInfo=agg.params.customBucket.write();value*=(0,_lodash.get)(aggInfo,"bucketInterval.scale",1)}return value}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsBucketAvgProvider=AggTypesMetricsBucketAvgProvider;var _lodash=__webpack_require__(1),_metric_agg_type=__webpack_require__(61),_make_nested_label=__webpack_require__(210),_sibling_pipeline_agg_helper=__webpack_require__(479)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketMinProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"min_bucket",title:"Min Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall min")},subtype:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.subtype,params:[].concat(_toConsumableArray(_sibling_pipeline_agg_helper.siblingPipelineAggHelper.params())),getFormat:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsBucketMinProvider=AggTypesMetricsBucketMinProvider;var _metric_agg_type=__webpack_require__(61),_make_nested_label=__webpack_require__(210),_sibling_pipeline_agg_helper=__webpack_require__(479)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function AggTypesMetricsBucketMaxProvider(Private){return new(Private(_metric_agg_type.AggTypesMetricsMetricAggTypeProvider))({name:"max_bucket",title:"Max Bucket",makeLabel:function(agg){return(0,_make_nested_label.makeNestedLabel)(agg,"overall max")},subtype:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.subtype,params:[].concat(_toConsumableArray(_sibling_pipeline_agg_helper.siblingPipelineAggHelper.params())),getFormat:_sibling_pipeline_agg_helper.siblingPipelineAggHelper.getFormat})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggTypesMetricsBucketMaxProvider=AggTypesMetricsBucketMaxProvider;var _metric_agg_type=__webpack_require__(61),_make_nested_label=__webpack_require__(210),_sibling_pipeline_agg_helper=__webpack_require__(479)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function validateElArg(el){var $el=(0,_jquery2.default)(el);if(1!==$el.length)throw new TypeError("ResizeChecker must be constructed with a single DOM element.");return $el.get(0)}function getSize(el){return[el.clientWidth,el.clientHeight]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResizeChecker=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_resizeObserverPolyfill=__webpack_require__(3546),_resizeObserverPolyfill2=_interopRequireDefault(_resizeObserverPolyfill),_lodash=__webpack_require__(1),_events=__webpack_require__(126),_events2=_interopRequireDefault(_events);exports.ResizeChecker=function(_EventEmitter){function ResizeChecker(el){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ResizeChecker);var _this=_possibleConstructorReturn(this,(ResizeChecker.__proto__||Object.getPrototypeOf(ResizeChecker)).call(this));return _this._el=validateElArg(el),_this._observer=new _resizeObserverPolyfill2.default(function(){if(_this._expectedSize){var sameSize=(0,_lodash.isEqual)(getSize(_this._el),_this._expectedSize);if(_this._expectedSize=null,sameSize)return}_this.emit("resize")}),args.disabled||_this.enable(),_this}return _inherits(ResizeChecker,_EventEmitter),_createClass(ResizeChecker,[{key:"enable",value:function(){this._destroyed||(this._expectedSize=getSize(this._el),this._observer.observe(this._el))}},{key:"modifySizeWithoutTriggeringResize",value:function(block){try{block()}finally{this._expectedSize=getSize(this._el)}}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._observer.disconnect(),this._observer=null,this._expectedSize=null,this._el=null,this.removeAllListeners())}}]),ResizeChecker}(_events2.default)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_tool_bar_pager_text=__webpack_require__(3577),_tool_bar_pager_text2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tool_bar_pager_text);_modules.uiModules.get("kibana").directive("toolBarPagerText",function(){return{restrict:"E",replace:!0,template:_tool_bar_pager_text2.default,scope:{startItem:"=",endItem:"=",totalItems:"="},controllerAs:"toolBarPagerText",bindToController:!0,controller:function ToolBarPagerTextController(){_classCallCheck(this,ToolBarPagerTextController)}}})},function(module,exports){module.exports='<div class="kuiToolBarText">\n  {{ toolBarPagerText.startItem | number }}&ndash;{{ toolBarPagerText.endItem | number }} of {{ toolBarPagerText.totalItems | number }}\n</div>'},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_tool_bar_pager_buttons=__webpack_require__(3579),_tool_bar_pager_buttons2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tool_bar_pager_buttons);_modules.uiModules.get("kibana").directive("toolBarPagerButtons",function(){return{restrict:"E",replace:!0,template:_tool_bar_pager_buttons2.default,scope:{hasNextPage:"=",hasPreviousPage:"=",onPageNext:"=",onPagePrevious:"="},controllerAs:"toolBarPagerButtons",bindToController:!0,controller:function ToolBarPagerButtonsController(){var _this=this;_classCallCheck(this,ToolBarPagerButtonsController),this.nextPage=function(){_this.onPageNext()},this.previousPage=function(){_this.onPagePrevious()}}}})},function(module,exports){module.exports='<div class="kuiButtonGroup">\n  <button\n    class="kuiButton kuiButton--basic kuiButton--icon"\n    ng-click="toolBarPagerButtons.previousPage()"\n    ng-disabled="!toolBarPagerButtons.hasPreviousPage"\n    data-test-subj="btnPrevPage"\n  >\n    <span class="kuiButton__icon kuiIcon fa-chevron-left"></span>\n  </button>\n  <button\n    class="kuiButton kuiButton--basic kuiButton--icon"\n    ng-click="toolBarPagerButtons.nextPage()"\n    ng-disabled="!toolBarPagerButtons.hasNextPage"\n    data-test-subj="btnNextPage"\n  >\n    <span class="kuiButton__icon kuiIcon fa-chevron-right"></span>\n  </button>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _modules=__webpack_require__(2),_pager=__webpack_require__(1192);_modules.uiModules.get("kibana").factory("pagerFactory",function(){return{create:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return new(Function.prototype.bind.apply(_pager.Pager,[null].concat(_toConsumableArray(args))))}}})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_sortable_column=__webpack_require__(3582),_sortable_column2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_sortable_column);_modules.uiModules.get("kibana").directive("sortableColumn",function(){return{restrict:"E",transclude:!0,template:_sortable_column2.default,scope:{field:"@",sortField:"=",sortReverse:"=",onSortChange:"="},controllerAs:"sortableColumn",bindToController:!0,controller:function(){function SortableColumnController(){var _this=this;_classCallCheck(this,SortableColumnController),this.toggle=function(){_this.sortField===_this.field?_this.onSortChange(_this.field,!_this.sortReverse):_this.onSortChange(_this.field,!1)}}return _createClass(SortableColumnController,[{key:"getAriaLabel",value:function(){var direction=this.isSortedAscending()?"descending":"ascending";return"Sort "+this.field+" "+direction}},{key:"isSorted",value:function(){return this.sortField===this.field}},{key:"isSortedAscending",value:function(){return this.isSorted()&&!this.sortReverse}},{key:"isSortedDescending",value:function(){return this.isSorted()&&this.sortReverse}}]),SortableColumnController}()}})},function(module,exports){module.exports='<button\n  class="kuiTableHeaderCellButton"\n  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sortableColumn.isSorted()}"\n  ng-click="sortableColumn.toggle()"\n  aria-label="{{sortableColumn.getAriaLabel()}}"\n>\n  <span class="kuiTableHeaderCell__liner">\n    <span ng-transclude></span>\n    <span\n    class="kuiTableSortIcon kuiIcon"\n    ng-class="sortableColumn.isSortedAscending() ? \'fa-long-arrow-up\' : \'fa-long-arrow-down\'"\n    ></span>\n  </span>\n</button>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _angular=__webpack_require__(13),_angular2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_angular),_modules=__webpack_require__(2),_dashboard_constants=__webpack_require__(138),_legacy_class=__webpack_require__(55);_modules.uiModules.get("app/dashboard").factory("SavedDashboard",function(courier,config){function SavedDashboard(id){SavedDashboard.Super.call(this,{type:SavedDashboard.type,mapping:SavedDashboard.mapping,searchSource:SavedDashboard.searchsource,id:id,defaults:{title:"New Dashboard",hits:0,description:"",panelsJSON:"[]",optionsJSON:_angular2.default.toJson({darkTheme:config.get("dashboard:defaultDarkTheme"),useMargins:!id,hidePanelTitles:!1}),version:1,timeRestore:!1,timeTo:void 0,timeFrom:void 0,refreshInterval:void 0},clearSavedIndexPattern:!0}),this.showInRecenltyAccessed=!0}return(0,_legacy_class.createLegacyClass)(SavedDashboard).inherits(courier.SavedObject),SavedDashboard.type="dashboard",SavedDashboard.mapping={title:"text",hits:"integer",description:"text",panelsJSON:"text",optionsJSON:"text",uiStateJSON:"text",version:"integer",timeRestore:"boolean",timeTo:"keyword",timeFrom:"keyword",refreshInterval:{type:"object",properties:{display:{type:"keyword"},pause:{type:"boolean"},section:{type:"integer"},value:{type:"integer"}}}},SavedDashboard.fieldOrder=["title","description"],SavedDashboard.searchsource=!0,SavedDashboard.prototype.getFullPath=function(){return"/app/kibana#"+(0,_dashboard_constants.createDashboardEditUrl)(this.id)},SavedDashboard})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scanner=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),Scanner=exports.Scanner=function($http){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},index=_ref.index,type=_ref.type;if(!index)throw new Error("Expected index");if(!type)throw new Error("Expected type");if(!$http)throw new Error("Expected $http");this.$http=$http,this.index=index,this.type=type};Scanner.prototype.start=function(searchBody){var addBasePath=_chrome2.default.addBasePath,scrollStartPath=addBasePath("/api/kibana/legacy_scroll_start");return this.$http.post(scrollStartPath,searchBody)},Scanner.prototype.continue=function(scrollId){var addBasePath=_chrome2.default.addBasePath,scrollContinuePath=addBasePath("/api/kibana/legacy_scroll_continue");return this.$http.post(scrollContinuePath,{scrollId:scrollId})},Scanner.prototype.scanAndMap=function(searchString,options,mapFn){var _this=this,bool={must:[],filter:[]},scrollId=void 0,allResults={hits:[],total:0},opts=_lodash2.default.defaults(options||{},{pageSize:100,docCount:1e3});return this.type&&bool.filter.push({bool:{should:[{term:{_type:this.type}},{term:{type:this.type}}]}}),searchString?bool.must.push({simple_query_string:{query:searchString+"*",fields:["title^3","description"],default_operator:"AND"}}):bool.must.push({match_all:{}}),new Promise(function(resolve,reject){var getMoreUntilDone=function getMoreUntilDone(error,response){if(error)return void reject(error);var scanAllResults=opts.docCount===1/0;allResults.total=scanAllResults?response.hits.total:Math.min(response.hits.total,opts.docCount),scrollId=response._scroll_id||scrollId;var hits=response.hits.hits.slice(0,allResults.total-allResults.hits.length);hits=hits.map(function(hit){return"doc"===hit._type?{_id:hit._id.replace(_this.type+":",""),_type:_this.type,_source:hit._source[_this.type],_meta:{savedObjectVersion:2}}:_lodash2.default.pick(hit,["_id","_type","_source"])}),mapFn&&(hits=hits.map(mapFn)),allResults.hits=allResults.hits.concat(hits),allResults.total===allResults.hits.length?resolve(allResults):_this.continue(scrollId).then(function(response){return getMoreUntilDone(null,response.data)}).catch(function(error){return getMoreUntilDone(error)})},searchBody={index:_this.index,size:opts.pageSize,body:{query:{bool:bool}}};_this.start(searchBody).then(function(response){return getMoreUntilDone(null,response.data)}).catch(function(error){return getMoreUntilDone(error)})})}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.StringUtils=function(){function StringUtils(){_classCallCheck(this,StringUtils)}return _createClass(StringUtils,null,[{key:"upperFirst",value:function(str){return str?str.charAt(0).toUpperCase()+str.slice(1):""}}]),StringUtils}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__(10);var _modules=__webpack_require__(2),_legacy_class=__webpack_require__(55);_modules.uiModules.get("discover/saved_searches",["kibana/notify","kibana/courier"]).factory("SavedSearch",function(courier){function SavedSearch(id){courier.SavedObject.call(this,{type:SavedSearch.type,mapping:SavedSearch.mapping,searchSource:SavedSearch.searchSource,id:id,defaults:{title:"New Saved Search",description:"",columns:[],hits:0,sort:[],version:1}}),this.showInRecenltyAccessed=!0}return(0,_legacy_class.createLegacyClass)(SavedSearch).inherits(courier.SavedObject),SavedSearch.type="search",SavedSearch.mapping={title:"text",description:"text",hits:"integer",columns:"keyword",sort:"keyword",version:"integer"},SavedSearch.fieldOrder=["title","description"],SavedSearch.searchSource=!0,SavedSearch.prototype.getFullPath=function(){return"/app/kibana#/discover/"+this.id},SavedSearch})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createUrlFormat(FieldFormat){var UrlFormat=function(_FieldFormat){function UrlFormat(params){_classCallCheck(this,UrlFormat);var _this=_possibleConstructorReturn(this,(UrlFormat.__proto__||Object.getPrototypeOf(UrlFormat)).call(this,params));return _this._compileTemplate=_lodash2.default.memoize(_this._compileTemplate),_this}return _inherits(UrlFormat,_FieldFormat),_createClass(UrlFormat,[{key:"getParamDefaults",value:function(){return{type:"a",urlTemplate:null,labelTemplate:null}}},{key:"_formatLabel",value:function(value,url){var template=this.param("labelTemplate");return null==url&&(url=this._formatUrl(value)),template?this._compileTemplate(template)({value:value,url:url}):url}},{key:"_formatUrl",value:function(value){var template=this.param("urlTemplate");return template?this._compileTemplate(template)({value:encodeURIComponent(value),rawValue:value}):value}},{key:"_compileTemplate",value:function(template){var parts=template.split(templateMatchRE).map(function(part,i){return i%2?part.trim():part});return function(locals){for(var output="",i=-1;++i<parts.length;)if(i%2){if(locals.hasOwnProperty(parts[i])){var local=locals[parts[i]];output+=null==local?"":local}}else output+=parts[i];return output}}}]),UrlFormat}(FieldFormat);return UrlFormat.id="url",UrlFormat.title="Url",UrlFormat.fieldType=["number","boolean","date","ip","string","murmur3","unknown","conflict"],UrlFormat.prototype._convert={text:function(value){return this._formatLabel(value)},html:function(rawValue,field,hit,parsedUrl){var url=_lodash2.default.escape(this._formatUrl(rawValue)),label=_lodash2.default.escape(this._formatLabel(rawValue,url));switch(this.param("type")){case"audio":return'<audio controls preload="none" src="'+url+'">';case"img":return'<img src="'+url+'" alt="'+(label===url?"A dynamically-specified image located at "+url:label)+'">';default:var inWhitelist=whitelistUrlSchemes.some(function(scheme){return 0===url.indexOf(scheme)});if(!inWhitelist&&!parsedUrl)return url;var prefix="";inWhitelist||(prefix="#"===url[0]?""+parsedUrl.origin+parsedUrl.pathname:0===url.indexOf(parsedUrl.basePath||"/")?""+parsedUrl.origin:""+parsedUrl.origin+parsedUrl.basePath+"/app/");var linkLabel=void 0;linkLabel=hit&&hit.highlight&&hit.highlight[field.name]?(0,_highlight_html.getHighlightHtml)(label,hit.highlight[field.name]):label;var linkTarget=this.param("openLinkInCurrentTab")?"_self":"_blank";return'<a href="'+prefix+url+'" target="'+linkTarget+'" rel="noopener noreferrer">'+linkLabel+"</a>"}}},UrlFormat}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createUrlFormat=createUrlFormat;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_highlight_html=__webpack_require__(634),templateMatchRE=/{{([\s\S]+?)}}/g,whitelistUrlSchemes=["http://","https://"]},function(module,exports,__webpack_require__){"use strict";function createBytesFormat(FieldFormat){return(0,_numeral.createNumeralFormat)(FieldFormat,{id:"bytes",title:"Bytes"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createBytesFormat=createBytesFormat;var _numeral=__webpack_require__(693)},,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createDateFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function DateFormat(params,getConfig){_classCallCheck(this,DateFormat);var _this=_possibleConstructorReturn(this,(DateFormat.__proto__||Object.getPrototypeOf(DateFormat)).call(this,params));return _this.getConfig=getConfig,_this}return _inherits(DateFormat,_FieldFormat),_createClass(DateFormat,[{key:"getParamDefaults",value:function(){return{pattern:this.getConfig("dateFormat"),timezone:this.getConfig("dateFormat:tz")}}},{key:"_convert",value:function(val){var pattern=this.param("pattern"),timezone=this.param("timezone"),timezoneChanged=this._timeZone!==timezone,datePatternChanged=this._memoizedPattern!==pattern;return(timezoneChanged||datePatternChanged)&&(this._timeZone=timezone,this._memoizedPattern=pattern,this._memoizedConverter=_lodash2.default.memoize(function(val){if(null===val||void 0===val)return"-";var date=(0,_moment2.default)(val);return date.isValid()?date.format(pattern):val})),this._memoizedConverter(val)}}]),DateFormat}(FieldFormat),_class.id="date",_class.title="Date",_class.fieldType="date",_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createDateFormat=createDateFormat;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createRelativeDateFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function RelativeDateFormat(params){return _classCallCheck(this,RelativeDateFormat),_possibleConstructorReturn(this,(RelativeDateFormat.__proto__||Object.getPrototypeOf(RelativeDateFormat)).call(this,params))}return _inherits(RelativeDateFormat,_FieldFormat),_createClass(RelativeDateFormat,[{key:"_convert",value:function(val){if(null===val||void 0===val)return"-";var date=(0,_moment2.default)(val);return date.isValid()?date.fromNow():val}}]),RelativeDateFormat}(FieldFormat),_class.id="relative_date",_class.title="Relative Date",_class.fieldType="date",_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRelativeDateFormat=createRelativeDateFormat;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createIpFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function IpFormat(){return _classCallCheck(this,IpFormat),_possibleConstructorReturn(this,(IpFormat.__proto__||Object.getPrototypeOf(IpFormat)).apply(this,arguments))}return _inherits(IpFormat,_FieldFormat),_createClass(IpFormat,[{key:"_convert",value:function(val){return void 0===val||null===val?"-":isFinite(val)?[val>>>24,val>>>16&255,val>>>8&255,255&val].join("."):val}}]),IpFormat}(FieldFormat),_class.id="ip",_class.title="IP Address",_class.fieldType="ip",_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createIpFormat=createIpFormat},function(module,exports,__webpack_require__){"use strict";function createNumberFormat(FieldFormat){return(0,_numeral.createNumeralFormat)(FieldFormat,{id:"number",title:"Number"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createNumberFormat=createNumberFormat;var _numeral=__webpack_require__(693)},function(module,exports,__webpack_require__){"use strict";function createPercentFormat(FieldFormat){return(0,_numeral.createNumeralFormat)(FieldFormat,{id:"percent",title:"Percentage",getParamDefaults:function(getConfig){return{pattern:getConfig("format:percent:defaultPattern"),fractional:!0}},afterConvert:function(val){return this.param("fractional")?val:val/100}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPercentFormat=createPercentFormat;var _numeral=__webpack_require__(693)},function(module,exports,__webpack_require__){"use strict";(function(Buffer){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createStringFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function StringFormat(){return _classCallCheck(this,StringFormat),_possibleConstructorReturn(this,(StringFormat.__proto__||Object.getPrototypeOf(StringFormat)).apply(this,arguments))}return _inherits(StringFormat,_FieldFormat),_createClass(StringFormat,[{key:"getParamDefaults",value:function(){return{transform:!1}}},{key:"_base64Decode",value:function(val){try{return Buffer.from(val,"base64").toString("utf8")}catch(e){return(0,_as_pretty_string.asPrettyString)(val)}}},{key:"_toTitleCase",value:function(val){return val.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}},{key:"_convert",value:function(val){switch(this.param("transform")){case"lower":return String(val).toLowerCase();case"upper":return String(val).toUpperCase();case"title":return this._toTitleCase(val);case"short":return(0,_shorten_dotted_string.shortenDottedString)(val);case"base64":return this._base64Decode(val);default:return(0,_as_pretty_string.asPrettyString)(val)}}}]),StringFormat}(FieldFormat),_class.id="string",_class.title="String",_class.fieldType=["number","boolean","date","ip","attachment","geo_point","geo_shape","string","murmur3","unknown","conflict"],_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStringFormat=createStringFormat;var _as_pretty_string=__webpack_require__(454),_shorten_dotted_string=__webpack_require__(633)}).call(exports,__webpack_require__(28).Buffer)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createSourceFormat(FieldFormat){var SourceFormat=function(_FieldFormat){function SourceFormat(params,getConfig){_classCallCheck(this,SourceFormat);var _this=_possibleConstructorReturn(this,(SourceFormat.__proto__||Object.getPrototypeOf(SourceFormat)).call(this,params));return _this.getConfig=getConfig,_this}return _inherits(SourceFormat,_FieldFormat),SourceFormat}(FieldFormat);return SourceFormat.id="_source",SourceFormat.title="_source",SourceFormat.fieldType="_source",SourceFormat.prototype._convert={text:function(value){return(0,_aggressive_parse.toJson)(value)},html:function(source,field,hit){if(!field)return this.getConverterFor("text")(source,field,hit);var highlights=hit&&hit.highlight||{},formatted=field.indexPattern.formatHit(hit),highlightPairs=[],sourcePairs=[],isShortDots=this.getConfig("shortDots:enable");return _lodash2.default.keys(formatted).forEach(function(key){var pairs=highlights[key]?highlightPairs:sourcePairs,field=isShortDots?(0,_shorten_dotted_string.shortenDottedString)(key):key,val=formatted[key];pairs.push([field,val])},[]),template({defPairs:highlightPairs.concat(sourcePairs)})}},SourceFormat}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSourceFormat=createSourceFormat;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_no_white_space=__webpack_require__(1198),_aggressive_parse=__webpack_require__(1050),_shorten_dotted_string=__webpack_require__(633),template=_lodash2.default.template((0,_no_white_space.noWhiteSpace)("\n  <dl class=\"source truncate-by-height\">\n    <% defPairs.forEach(function (def) { %>\n      <dt><%- def[0] %>:</dt>\n      <dd><%= def[1] %></dd>\n      <%= ' ' %>\n    <% }); %>\n  </dl>"))},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createColorFormat(FieldFormat){var ColorFormat=function(_FieldFormat){function ColorFormat(){return _classCallCheck(this,ColorFormat),_possibleConstructorReturn(this,(ColorFormat.__proto__||Object.getPrototypeOf(ColorFormat)).apply(this,arguments))}return _inherits(ColorFormat,_FieldFormat),_createClass(ColorFormat,[{key:"getParamDefaults",value:function(){return{fieldType:null,colors:[_lodash2.default.cloneDeep(_color_default.DEFAULT_COLOR)]}}},{key:"findColorRuleForVal",value:function(val){switch(this.param("fieldType")){case"string":return _lodash2.default.findLast(this.param("colors"),function(colorParam){return new RegExp(colorParam.regex).test(val)});case"number":return _lodash2.default.findLast(this.param("colors"),function(_ref){var range=_ref.range;if(range){var _range$split=range.split(":"),_range$split2=_slicedToArray(_range$split,2),start=_range$split2[0],end=_range$split2[1];return val>=Number(start)&&val<=Number(end)}});default:return null}}}]),ColorFormat}(FieldFormat);return ColorFormat.id="color",ColorFormat.title="Color",ColorFormat.fieldType=["number","string"],ColorFormat.prototype._convert={html:function(val){var color=this.findColorRuleForVal(val);if(!color)return _lodash2.default.escape((0,_as_pretty_string.asPrettyString)(val));var style="";return color.text&&(style+="color: "+color.text+";"),color.background&&(style+="background-color: "+color.background+";"),convertTemplate({val:val,style:style})}},ColorFormat}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createColorFormat=createColorFormat;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_as_pretty_string=__webpack_require__(454),_color_default=__webpack_require__(1199),convertTemplate=_lodash2.default.template('<span style="<%- style %>"><%- val %></span>')},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createTruncateFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function TruncateFormat(){return _classCallCheck(this,TruncateFormat),_possibleConstructorReturn(this,(TruncateFormat.__proto__||Object.getPrototypeOf(TruncateFormat)).apply(this,arguments))}return _inherits(TruncateFormat,_FieldFormat),_createClass(TruncateFormat,[{key:"_convert",value:function(val){var length=this.param("fieldLength");return length>0?_lodash2.default.trunc(val,{length:length+omission.length,omission:omission}):val}}]),TruncateFormat}(FieldFormat),_class.id="truncate",_class.title="Truncated String",_class.fieldType=["string"],_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTruncateFormat=createTruncateFormat;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),omission="..."},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function createBoolFormat(FieldFormat){var _class,_temp;return _temp=_class=function(_FieldFormat){function BoolFormat(){return _classCallCheck(this,BoolFormat),_possibleConstructorReturn(this,(BoolFormat.__proto__||Object.getPrototypeOf(BoolFormat)).apply(this,arguments))}return _inherits(BoolFormat,_FieldFormat),_createClass(BoolFormat,[{key:"_convert",value:function(value){switch("string"==typeof value&&(value=value.trim().toLowerCase()),value){case!1:case 0:case"false":case"no":return"false";case!0:case 1:case"true":case"yes":return"true";default:return(0,_as_pretty_string.asPrettyString)(value)}}}]),BoolFormat}(FieldFormat),_class.id="boolean",_class.title="Boolean",_class.fieldType=["boolean","number","string"],_temp}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.createBoolFormat=createBoolFormat;var _as_pretty_string=__webpack_require__(454)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VisProvider(Private,Promise,indexPatterns,timefilter,getAppState){var visTypes=Private(_vis_types.VisTypesRegistryProvider),AggConfigs=Private(_agg_configs.VisAggConfigsProvider),brushEvent=Private(_brush_event.UtilsBrushEventProvider),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider),filterBarClickHandler=Private(_filter_bar_click_handler.FilterBarClickHandlerProvider),SearchSource=Private(_search_source.SearchSourceProvider),savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),Vis=function(_EventEmitter){function Vis(indexPattern,visState){_classCallCheck(this,Vis);var _this=_possibleConstructorReturn(this,(Vis.__proto__||Object.getPrototypeOf(Vis)).call(this));return visState=visState||{},_lodash2.default.isString(visState)&&(visState={type:visState}),_this.indexPattern=indexPattern,_this._setUiState(new _persisted_state.PersistedState),_this.setCurrentState(visState),_this.setState(_this.getCurrentState(),!1),_this.sessionState={},_this.API={savedObjectsClient:savedObjectsClient,SearchSource:SearchSource,indexPatterns:indexPatterns,timeFilter:timefilter,queryFilter:queryFilter,queryManager:(0,_query_manager.queryManagerFactory)(getAppState),events:{filter:function(event){var appState=getAppState();filterBarClickHandler(appState)(event)},brush:function(event){var appState=getAppState();brushEvent(appState)(event)}},createInheritedSearchSource:function(parentSearchSource){if(!parentSearchSource)throw new Error("Unable to inherit search source, visualize saved object does not have search source.");return(new SearchSource).inherits(parentSearchSource)}},_this}return _inherits(Vis,_EventEmitter),_createClass(Vis,[{key:"isEditorMode",value:function(){return this.editorMode||!1}},{key:"setCurrentState",value:function(state){this.title=state.title||"";var type=state.type||this.type;if(_lodash2.default.isString(type)){if(this.type=visTypes.byName[type],!this.type)throw new Error('Invalid type "'+type+'"')}else this.type=type;this.params=_lodash2.default.defaults({},_lodash2.default.cloneDeep(state.params||{}),_lodash2.default.cloneDeep(this.type.visConfig.defaults||{})),(0,_vis_update.updateVisualizationConfig)(state.params,this.params),this.aggs=new AggConfigs(this,state.aggs)}},{key:"setState",value:function(state){var updateCurrentState=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=_lodash2.default.cloneDeep(state),updateCurrentState&&this.resetState()}},{key:"updateState",value:function(){this.setState(this.getCurrentState(!0)),this.emit("update")}},{key:"resetState",value:function(){this.setCurrentState(this._state)}},{key:"forceReload",value:function(){this.emit("reload")}},{key:"getCurrentState",value:function(includeDisabled){return{title:this.title,type:this.type.name,params:this.params,aggs:this.aggs.map(function(agg){return agg.toJSON()}).filter(function(agg){return includeDisabled||agg.enabled}).filter(Boolean)}}},{key:"getStateInternal",value:function(includeDisabled){return{title:this._state.title,type:this._state.type,params:this._state.params,aggs:this._state.aggs.filter(function(agg){return includeDisabled||agg.enabled})}}},{key:"getEnabledState",value:function(){return this.getStateInternal(!1)}},{key:"getAggConfig",value:function(){return new AggConfigs(this,this.aggs.raw.filter(function(agg){return agg.enabled}))}},{key:"getState",value:function(){return this.getStateInternal(!0)}},{key:"onSearchRequestStart",value:function(searchSource,searchRequest){return Promise.map(this.aggs.getRequestAggs(),function(agg){return agg.onSearchRequestStart(searchSource,searchRequest)})}},{key:"isHierarchical",value:function(){return _lodash2.default.isFunction(this.type.hierarchicalData)?!!this.type.hierarchicalData(this):!!this.type.hierarchicalData}},{key:"hasSchemaAgg",value:function(schemaName,aggTypeName){return(this.aggs.bySchemaName[schemaName]||[]).some(function(agg){return!(!agg.type||!agg.type.name)&&agg.type.name===aggTypeName})}},{key:"hasUiState",value:function(){return!!this.__uiState}},{key:"_setUiState",value:function(uiState){uiState instanceof _persisted_state.PersistedState&&(this.__uiState=uiState)}},{key:"getUiState",value:function(){return this.__uiState}},{key:"uiStateVal",value:function(key,val){return this.hasUiState()?_lodash2.default.isUndefined(val)?this.__uiState.get(key):this.__uiState.set(key,val):val}}]),Vis}(_events.EventEmitter);return Vis.prototype.type="histogram",Vis}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VisProvider=VisProvider;var _events=__webpack_require__(126),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_vis_types=__webpack_require__(94),_agg_configs=__webpack_require__(3627),_persisted_state=__webpack_require__(356),_brush_event=__webpack_require__(1202),_query_filter=__webpack_require__(164),_filter_bar_click_handler=__webpack_require__(371),_vis_update=__webpack_require__(3628),_query_manager=__webpack_require__(3629),_search_source=__webpack_require__(252),_saved_objects=__webpack_require__(67)},function(module,exports,__webpack_require__){"use strict";function VisAggConfigsProvider(Private){function AggConfigs(vis,configStates){var self=this;self.vis=vis,configStates=_agg_config.AggConfig.ensureIds(configStates||[]),AggConfigs.Super.call(self,{index:["id"],group:["schema.group","type.name","schema.name"],initialSet:configStates.map(function(aggConfigState){return aggConfigState instanceof _agg_config.AggConfig?aggConfigState:new _agg_config.AggConfig(vis,aggConfigState)})}),vis&&vis.type&&vis.type.schemas&&vis.type.schemas.all&&(0,_lodash2.default)(vis.type.schemas.all).filter(function(schema){return Array.isArray(schema.defaults)&&schema.defaults.length>0}).each(function(schema){if(!self.bySchemaName[schema.name]){var defaults=schema.defaults.slice(0,schema.max);_lodash2.default.each(defaults,function(defaultState){var state=_lodash2.default.defaults({id:_agg_config.AggConfig.nextId(self)},defaultState);self.push(new _agg_config.AggConfig(vis,state))})}}).commit()}function removeParentAggs(obj){for(var prop in obj)"parentAggs"===prop?delete obj[prop]:"object"===_typeof(obj[prop])&&removeParentAggs(obj[prop])}function parseParentAggs(dslLvlCursor,dsl){dsl.parentAggs&&_lodash2.default.each(dsl.parentAggs,function(agg,key){dslLvlCursor[key]=agg,parseParentAggs(dslLvlCursor,agg)})}return _agg_config.AggConfig.aggTypes=Private(_agg_types.AggTypesIndexProvider),(0,_legacy_class.createLegacyClass)(AggConfigs).inherits(_indexed_array.IndexedArray),AggConfigs.prototype.jsonDataEquals=function(aggConfigs){if(aggConfigs.length!==this.length)return!1;for(var i=0;i<this.length;i+=1)if(!_lodash2.default.isEqual(aggConfigs[i].toJSON(),this[i].toJSON()))return!1;return!0},AggConfigs.prototype.toDsl=function(){var dslTopLvl={},dslLvlCursor=void 0,nestedMetrics=void 0;return this.vis.isHierarchical()&&(nestedMetrics=(0,_lodash2.default)(this.vis.aggs.bySchemaGroup.metrics).filter(function(agg){return"count"!==agg.type.name}).map(function(agg){return{config:agg,dsl:agg.toDsl()}}).value()),this.getRequestAggs().filter(function(config){return!config.type.hasNoDsl}).forEach(function(config,i,list){if(dslLvlCursor){var prevConfig=list[i-1],prevDsl=dslLvlCursor[prevConfig.id];dslLvlCursor=prevDsl.aggs||dslLvlCursor}else dslLvlCursor=dslTopLvl;var dsl=dslLvlCursor[config.id]=config.toDsl(),subAggs=void 0;parseParentAggs(dslLvlCursor,dsl),"buckets"===config.schema.group&&i<list.length-1&&(subAggs=dsl.aggs||(dsl.aggs={})),subAggs&&nestedMetrics&&nestedMetrics.forEach(function(agg){subAggs[agg.config.id]=agg.dsl})}),removeParentAggs(dslTopLvl),dslTopLvl},AggConfigs.prototype.getRequestAggs=function(){var aggregations=this.reduce(function(requestValuesAggs,agg){var aggs=agg.getRequestAggs();return aggs?requestValuesAggs.concat(aggs):requestValuesAggs},[]);return _lodash2.default.sortBy(aggregations,function(agg){return"metrics"===agg.schema.group?1:0})},AggConfigs.prototype.getResponseAggs=function(){return this.getRequestAggs().reduce(function(responseValuesAggs,agg){var aggs=agg.getResponseAggs();return aggs?responseValuesAggs.concat(aggs):responseValuesAggs},[])},AggConfigs.prototype.getResponseAggById=function(id){id=String(id);var reqAgg=_lodash2.default.find(this.getRequestAggs(),function(agg){return id.substr(0,String(agg.id).length)===agg.id});if(reqAgg)return _lodash2.default.find(reqAgg.getResponseAggs(),{id:id})},AggConfigs}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.VisAggConfigsProvider=VisAggConfigsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_indexed_array=__webpack_require__(131),_agg_config=__webpack_require__(193),_agg_types=__webpack_require__(259),_legacy_class=__webpack_require__(55)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},updateVisualizationConfig=function(stateConfig,config){if(stateConfig&&!stateConfig.seriesParams&&["line","area","histogram"].includes(config.type)){var isUserDefinedYAxis=config.setYExtents,mode=["stacked","overlap"].includes(config.mode)?"normal":config.mode||"normal";config.valueAxes[0].scale=_extends({},config.valueAxes[0].scale,{type:config.scale||"linear",setYExtents:config.setYExtents||!1,defaultYExtents:config.defaultYExtents||!1,min:isUserDefinedYAxis?config.yAxis.min:void 0,max:isUserDefinedYAxis?config.yAxis.max:void 0,mode:mode});var interpolate=config.smoothLines?"cardinal":config.interpolate,stacked=["stacked","percentage","wiggle","silhouette"].includes(config.mode);config.seriesParams[0]=_extends({},config.seriesParams[0],{type:config.type||"line",mode:stacked?"stacked":"normal",interpolate:interpolate,drawLinesBetweenPoints:config.drawLinesBetweenPoints,showCircles:config.showCircles,radiusRatio:config.radiusRatio})}};exports.updateVisualizationConfig=updateVisualizationConfig},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _query_manager=__webpack_require__(3630);Object.defineProperty(exports,"queryManagerFactory",{enumerable:!0,get:function(){return _query_manager.queryManagerFactory}})},function(module,exports,__webpack_require__){"use strict";function queryManagerFactory(getState){function getQuery(){return _extends({},getState().query)}function setQuery(newQuery){var state=getState();state.query=newQuery,_lodash2.default.isFunction(state.save)&&state.save()}return{getQuery:getQuery,setQuery:setQuery}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.queryManagerFactory=queryManagerFactory;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function convertHeatmapLabelColor(visState){var hasOverwriteColorParam=void 0!==_lodash2.default.get(visState,"params.valueAxes[0].labels.overwriteColor");if("heatmap"===visState.type&&visState.params&&!hasOverwriteColorParam){var showLabels=_lodash2.default.get(visState,"params.valueAxes[0].labels.show",!1),color=_lodash2.default.get(visState,"params.valueAxes[0].labels.color","#555");_lodash2.default.set(visState,"params.valueAxes[0].labels.overwriteColor",showLabels&&"#555"!==color)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateOldState=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.updateOldState=function(visState){if(!visState)return visState;var newState=_lodash2.default.cloneDeep(visState);return"gauge"===visState.type&&visState.fontSize&&(delete newState.fontSize,_lodash2.default.set(newState,"gauge.style.fontSize",visState.fontSize)),["gauge","metric"].includes(visState.type)&&"Metric"===_lodash2.default.get(visState.params,"gauge.gaugeType",null)&&(newState.type="metric",newState.params.addLegend=!1,newState.params.type="metric",newState.params.metric=newState.params.gauge,delete newState.params.gauge,delete newState.params.metric.gaugeType,delete newState.params.metric.gaugeStyle,delete newState.params.metric.backStyle,delete newState.params.metric.scale,delete newState.params.metric.type,delete newState.params.metric.orientation,delete newState.params.metric.verticalSplit,delete newState.params.metric.autoExtend,newState.params.metric.metricColorMode=newState.params.metric.gaugeColorMode,delete newState.params.metric.gaugeColorMode),convertHeatmapLabelColor(newState),newState}},,,,,,,,function(module,exports,__webpack_require__){"use strict";function Panel(name,config){if(this.name=name,this.help=config.help||"",this.render=config.render,!config.render)throw new Error("Panel must have a rendering function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Panel,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function timechartFn(Private,config,$rootScope,timefilter,$compile){return function(){return{help:"Draw a timeseries chart",render:function($scope,$elem){function unhighlightSeries(){null!==hightlightedSeries&&(hightlightedSeries=null,focusedSeries=null,$scope.chart.forEach(function(series){series.color=originalColorMap.get(series)}),drawPlot($scope.chart))}function setLegendNumbers(pos){unhighlightSeries();var plot=$scope.plot,axes=plot.getAxes();if(!(pos.x<axes.xaxis.min||pos.x>axes.xaxis.max)){var i=void 0,j=void 0,dataset=plot.getData();for(legendCaption&&legendCaption.text((0,_momentTimezone2.default)(pos.x).format(_lodash2.default.get(dataset,"[0]._global.legend.timeFormat",_lib.DEFAULT_TIME_FORMAT))),i=0;i<dataset.length;++i){var series=dataset[i],precision=_lodash2.default.get(series,"_meta.precision",2);if(!series._hide){for(j=0;j<series.data.length&&!(series.data[j][0]>pos.x);++j);var y=void 0;try{y=series.data[j][1]}catch(e){y=null}if(null!=y){var label=y.toFixed(precision);series.yaxis.tickFormatter&&(label=series.yaxis.tickFormatter(label,series.yaxis)),legendValueNumbers.eq(i).text("("+label+")")}else legendValueNumbers.eq(i).empty()}}}}function clearLegendNumbers(){legendCaption&&legendCaption.html(emptyCaption),_lodash2.default.each(legendValueNumbers,function(num){(0,_jquery2.default)(num).empty()})}function drawPlot(plotConfig){(0,_jquery2.default)(".chart-canvas",$elem).length||$elem.html(template);var canvasElem=(0,_jquery2.default)(".chart-canvas",$elem);if(0!==canvasElem.height()&&0!==canvasElem.width()){var title=(0,_lodash2.default)(plotConfig).map("_title").compact().last();(0,_jquery2.default)(".chart-top-title",$elem).text(null==title?"":title);var options=_lodash2.default.cloneDeep(defaultOptions),time=timefilter.getBounds(),interval=(0,_lib.calculateInterval)(time.min.valueOf(),time.max.valueOf(),config.get("timelion:target_buckets")||200,$scope.interval,config.get("timelion:min_interval")||"1ms"),format=getxAxisFormatter(interval);options.xaxis.tickFormatter=function(val){return(0,_momentTimezone2.default)(val).format(format)};options.xaxis.ticks=Math.floor($elem.width()/(7*format.length+45));var series=_lodash2.default.map(plotConfig,function(series,index){if(series=_lodash2.default.cloneDeep(_lodash2.default.defaults(series,{shadowSize:0,lines:{lineWidth:3}})),series._id=index,series.color){var span=document.createElement("span");span.style.color=series.color,series.color=span.style.color}return series._hide&&(series.data=[],series.stack=!1,series.label="(hidden) "+series.label),series._global&&_lodash2.default.merge(options,series._global,function(objVal,srcVal){return null==objVal?srcVal:null==srcVal?objVal:void 0}),series});if(options.yaxes&&options.yaxes.forEach(function(yaxis){if(yaxis&&yaxis.units){yaxis.tickFormatter=tickFormatters[yaxis.units.type];["bytes","bytes/s"].includes(yaxis.units.type)&&(yaxis.tickGenerator=generateTicks)}}),$scope.plot=_jquery2.default.plot(canvasElem,_lodash2.default.compact(series),options),$scope.plot&&$scope.$emit("timelionChartRendered"),legendScope.$destroy(),legendScope=$scope.$new(),legendValueNumbers=canvasElem.find(".ngLegendValueNumber"),_lodash2.default.each(canvasElem.find(".ngLegendValue"),function(elem){$compile(elem)(legendScope)}),_lodash2.default.get($scope.plot.getData(),"[0]._global.legend.showTime",!0)&&(legendCaption=(0,_jquery2.default)('<caption class="timelionLegendCaption"></caption>'),legendCaption.html(emptyCaption),canvasElem.find("div.legend table").append(legendCaption),focusedSeries||0===focusedSeries)){canvasElem.find("div.legend table .legendLabel>span").get(focusedSeries).focus()}}}var template='<div class="chart-top-title"></div><div class="chart-canvas"></div>',tickFormatters=__webpack_require__(3654)(),getxAxisFormatter=Private(__webpack_require__(3655)),generateTicks=Private(__webpack_require__(3656));_momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz"));var render=$scope.seriesList.render||{};$scope.chart=$scope.seriesList.list,$scope.interval=$scope.interval,$scope.search=$scope.search||_lodash2.default.noop;var legendValueNumbers=void 0,legendCaption=void 0,debouncedSetLegendNumbers=_lodash2.default.debounce(setLegendNumbers,DEBOUNCE_DELAY,{maxWait:DEBOUNCE_DELAY,leading:!0,trailing:!1}),emptyCaption="<br>",defaultOptions={xaxis:{mode:"time",tickLength:5,timezone:"browser"},selection:{mode:"x",color:"#ccc"},crosshair:{mode:"x",color:"#C66",lineWidth:2},grid:{show:render.grid,borderWidth:0,borderColor:null,margin:10,hoverable:!0,autoHighlight:!1},legend:{backgroundColor:null,position:"nw",labelBoxBorderColor:"rgb(255,255,255,0)",labelFormatter:function(label,series){var wrapperSpan=document.createElement("span"),labelSpan=document.createElement("span"),numberSpan=document.createElement("span");return wrapperSpan.setAttribute("class","ngLegendValue"),wrapperSpan.setAttribute("kbn-accessible-click",""),wrapperSpan.setAttribute("ng-click","toggleSeries("+series._id+")"),wrapperSpan.setAttribute("ng-focus","focusSeries("+series._id+")"),wrapperSpan.setAttribute("ng-mouseover","highlightSeries("+series._id+")"),labelSpan.setAttribute("ng-non-bindable",""),labelSpan.appendChild(document.createTextNode(label)),numberSpan.setAttribute("class","ngLegendValueNumber"),wrapperSpan.appendChild(labelSpan),wrapperSpan.appendChild(numberSpan),wrapperSpan.outerHTML}},colors:["#01A4A4","#C66","#D0D102","#616161","#00A1CB","#32742C","#F18D05","#113F8C","#61AE24","#D70060"]},originalColorMap=new Map;$scope.chart.forEach(function(series,seriesIndex){if(!series.color){var colorIndex=seriesIndex%defaultOptions.colors.length;series.color=defaultOptions.colors[colorIndex]}originalColorMap.set(series,series.color)});var hightlightedSeries=void 0,focusedSeries=void 0;$scope.highlightSeries=_lodash2.default.debounce(function(id){hightlightedSeries!==id&&(hightlightedSeries=id,$scope.chart.forEach(function(series,seriesIndex){series.color=seriesIndex!==id?"rgba(128,128,128,0.1)":originalColorMap.get(series)}),drawPlot($scope.chart))},DEBOUNCE_DELAY),$scope.focusSeries=function(id){focusedSeries=id,$scope.highlightSeries(id)},$scope.toggleSeries=function(id){var series=$scope.chart[id];series._hide=!series._hide,drawPlot($scope.chart)};var cancelResize=(0,_observe_resize2.default)($elem,function(){drawPlot($scope.chart)});$scope.$on("$destroy",function(){cancelResize(),$elem.off("plothover"),$elem.off("plotselected"),$elem.off("mouseleave")}),$elem.on("plothover",function(event,pos,item){$rootScope.$broadcast("timelionPlotHover",event,pos,item)}),$elem.on("plotselected",function(event,ranges){timefilter.time.from=(0,_momentTimezone2.default)(ranges.xaxis.from),timefilter.time.to=(0,_momentTimezone2.default)(ranges.xaxis.to),timefilter.time.mode="absolute",$scope.$apply()}),$elem.on("mouseleave",function(){$rootScope.$broadcast("timelionPlotLeave")}),$scope.$on("timelionPlotHover",function(angularEvent,flotEvent,pos){$scope.plot&&($scope.plot.setCrosshair(pos),debouncedSetLegendNumbers(pos))}),$scope.$on("timelionPlotLeave",function(){$scope.plot&&($scope.plot.clearCrosshair(),clearLegendNumbers())});var legendScope=$scope.$new();$scope.$watch("chart",drawPlot)}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=timechartFn;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_momentTimezone=__webpack_require__(109),_momentTimezone2=_interopRequireDefault(_momentTimezone),_observe_resize=__webpack_require__(3641),_observe_resize2=_interopRequireDefault(_observe_resize),_lib=__webpack_require__(3642);__webpack_require__(3645),__webpack_require__(3653);var DEBOUNCE_DELAY=50;module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($elem,fn,frequency){function checkLoop(){timeout=setTimeout(function(){currentHeight===$elem.height()&&currentWidth===$elem.width()||(currentHeight=$elem.height(),(currentWidth=$elem.width())>0&&currentWidth>0&&fn()),checkLoop()},frequency)}frequency=frequency||500;var currentHeight=$elem.height(),currentWidth=$elem.width(),timeout=void 0;return checkLoop(),function(){clearTimeout(timeout)}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _calculate_interval=__webpack_require__(3643);Object.defineProperty(exports,"calculateInterval",{enumerable:!0,get:function(){return _calculate_interval.calculateInterval}});exports.DEFAULT_TIME_FORMAT="MMMM Do YYYY, HH:mm:ss.SSS"},function(module,exports,__webpack_require__){"use strict";function roundInterval(interval){switch(!0){case interval<=500:return"100ms";case interval<=5e3:return"1s";case interval<=7500:return"5s";case interval<=15e3:return"10s";case interval<=45e3:return"30s";case interval<=18e4:return"1m";case interval<=45e4:return"5m";case interval<=12e5:return"10m";case interval<=27e5:return"30m";case interval<=72e5:return"1h";case interval<=216e5:return"3h";case interval<=864e5:return"12h";case interval<=6048e5:return"24h";case interval<=18144e5:return"1w";case interval<36288e5:return"30d";default:return"1y"}}function calculateInterval(from,to,size,interval,min){if("auto"!==interval)return interval;var dateMathInterval=roundInterval((to-from)/size);return(0,_to_milliseconds2.default)(dateMathInterval)<(0,_to_milliseconds2.default)(min)?min:dateMathInterval}Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateInterval=calculateInterval;var _to_milliseconds=__webpack_require__(3644),_to_milliseconds2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_to_milliseconds)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(expr){var match=expr.match(parseRE);if(match){if("M"===match[2]&&"1"!==match[1])throw new Error("Invalid interval. 1M is only valid monthly interval.");return parseFloat(match[1]||1)*vals[match[2]]}};var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),vals=_lodash2.default.transform([["ms","milliseconds","millisecond"],["s","seconds","second","sec"],["m","minutes","minute","min"],["h","hours","hour"],["d","days","day"],["w","weeks","week"],["M","months","month"],["quarter"],["y","years","year"]],function(vals,units){var normal=_moment2.default.normalizeUnits(units[0]),val=_moment2.default.duration(1,normal).asMilliseconds();[].concat(normal,units).forEach(function(unit){vals[unit]=val})},{}),parseRE=new RegExp("^(\\d+(?:\\.\\d*)?)?\\s*("+_lodash2.default.keys(vals).join("|")+")$");module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3646),__webpack_require__(3647),__webpack_require__(3648),__webpack_require__(3649),__webpack_require__(3650),__webpack_require__(3651),__webpack_require__(3652)},function(module,exports){!function($){$.color={},$.color.make=function(r,g,b,a){var o={};return o.r=r||0,o.g=g||0,o.b=b||0,o.a=null!=a?a:1,o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()},o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}return o.r=clamp(0,parseInt(o.r),255),o.g=clamp(0,parseInt(o.g),255),o.b=clamp(0,parseInt(o.b),255),o.a=clamp(0,o.a,1),o},o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)},o.normalize()},$.color.extract=function(elem,css){var c;do{if(""!=(c=elem.css(css).toLowerCase())&&"transparent"!=c)break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));return"rgba(0, 0, 0, 0)"==c&&(c="transparent"),$.color.parse(c)},$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]));if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]),parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();return"transparent"==name?m(255,255,255,0):(res=lookupColors[name]||[0,0,0],m(res[0],res[1],res[2]))};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function($){function Canvas(cls,container){var element=container.children("."+cls)[0];if(null==element&&(element=document.createElement("canvas"),element.className=cls,$(element).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(container),!element.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");element=window.G_vmlCanvasManager.initElement(element)}this.element=element;var context=this.context=element.getContext("2d"),devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio,this.resize(container.width(),container.height()),this.textContainer=null,this.text={},this._textCache={}}function Plot(placeholder,data_,options_,plugins){function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i)hook[i].apply(this,args)}function setData(d){series=parseData(d),fillInSeriesOptions(),processData()}function parseData(d){for(var res=[],i=0;i<d.length;++i){var s=$.extend(!0,{},options.series);null!=d[i].data?(s.data=d[i].data,delete d[i].data,$.extend(!0,s,d[i]),d[i].data=s.data):s.data=d[i],res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];return"object"==typeof a&&(a=a.n),"number"!=typeof a&&(a=1),a}function allAxes(){return $.grep(xaxes.concat(yaxes),function(a){return a})}function canvasToAxisCoords(pos){var i,axis,res={};for(i=0;i<xaxes.length;++i)(axis=xaxes[i])&&axis.used&&(res["x"+axis.n]=axis.c2p(pos.left));for(i=0;i<yaxes.length;++i)(axis=yaxes[i])&&axis.used&&(res["y"+axis.n]=axis.c2p(pos.top));return void 0!==res.x1&&(res.x=res.x1),void 0!==res.y1&&(res.y=res.y1),res}function axisToCanvasCoords(pos){var i,axis,key,res={};for(i=0;i<xaxes.length;++i)if((axis=xaxes[i])&&axis.used&&(key="x"+axis.n,null==pos[key]&&1==axis.n&&(key="x"),null!=pos[key])){res.left=axis.p2c(pos[key]);break}for(i=0;i<yaxes.length;++i)if((axis=yaxes[i])&&axis.used&&(key="y"+axis.n,null==pos[key]&&1==axis.n&&(key="y"),null!=pos[key])){res.top=axis.p2c(pos[key]);break}return res}function getOrCreateAxis(axes,number){return axes[number-1]||(axes[number-1]={n:number,direction:axes==xaxes?"x":"y",options:$.extend(!0,{},axes==xaxes?options.xaxis:options.yaxis)}),axes[number-1]}function fillInSeriesOptions(){var i,neededColors=series.length,maxIndex=-1;for(i=0;i<series.length;++i){var sc=series[i].color;null!=sc&&(neededColors--,"number"==typeof sc&&sc>maxIndex&&(maxIndex=sc))}neededColors<=maxIndex&&(neededColors=maxIndex+1);var c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++)c=$.color.parse(colorPool[i%colorPoolSize]||"#666"),i%colorPoolSize==0&&i&&(variation=variation>=0?variation<.5?-variation-.2:0:-variation),colors[i]=c.scale("rgb",1+variation);var s,colori=0;for(i=0;i<series.length;++i){if(s=series[i],null==s.color?(s.color=colors[colori].toString(),++colori):"number"==typeof s.color&&(s.color=colors[s.color].toString()),null==s.lines.show){var v,show=!0;for(v in s)if(s[v]&&s[v].show){show=!1;break}show&&(s.lines.show=!0)}null==s.lines.zero&&(s.lines.zero=!!s.lines.fill),s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x")),s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){function updateAxis(axis,min,max){min<axis.datamin&&min!=-fakeInfinity&&(axis.datamin=min),max>axis.datamax&&max!=fakeInfinity&&(axis.datamax=max)}var i,j,k,m,s,points,ps,val,f,p,data,format,topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE;for($.each(allAxes(),function(_,axis){axis.datamin=topSentry,axis.datamax=bottomSentry,axis.used=!1}),i=0;i<series.length;++i)s=series[i],s.datapoints={points:[]},executeHooks(hooks.processRawData,[s,s.data,s.datapoints]);for(i=0;i<series.length;++i){if(s=series[i],data=s.data,!(format=s.datapoints.format)){if(format=[],format.push({x:!0,number:!0,required:!0}),format.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:autoscale}),s.bars.horizontal&&(delete format[format.length-1].y,format[format.length-1].x=!0)}s.datapoints.format=format}if(null==s.datapoints.pointsize){s.datapoints.pointsize=format.length,ps=s.datapoints.pointsize,points=s.datapoints.points;var insertSteps=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,j=k=0;j<data.length;++j,k+=ps){p=data[j];var nullify=null==p;if(!nullify)for(m=0;m<ps;++m)val=p[m],f=format[m],f&&(f.number&&null!=val&&(val=+val,isNaN(val)?val=null:val==1/0?val=fakeInfinity:val==-1/0&&(val=-fakeInfinity)),null==val&&(f.required&&(nullify=!0),null!=f.defaultValue&&(val=f.defaultValue))),points[k+m]=val;if(nullify)for(m=0;m<ps;++m)val=points[k+m],null!=val&&(f=format[m],!1!==f.autoscale&&(f.x&&updateAxis(s.xaxis,val,val),f.y&&updateAxis(s.yaxis,val,val))),points[k+m]=null;else if(insertSteps&&k>0&&null!=points[k-ps]&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m)points[k+ps+m]=points[k+m];points[k+1]=points[k-ps+1],k+=ps}}}}for(i=0;i<series.length;++i)s=series[i],executeHooks(hooks.processDatapoints,[s,s.datapoints]);for(i=0;i<series.length;++i){s=series[i],points=s.datapoints.points,ps=s.datapoints.pointsize,format=s.datapoints.format;var xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps)if(null!=points[j])for(m=0;m<ps;++m)val=points[j+m],(f=format[m])&&!1!==f.autoscale&&val!=fakeInfinity&&val!=-fakeInfinity&&(f.x&&(val<xmin&&(xmin=val),val>xmax&&(xmax=val)),f.y&&(val<ymin&&(ymin=val),val>ymax&&(ymax=val)));if(s.bars.show){var delta;switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}s.bars.horizontal?(ymin+=delta,ymax+=delta+s.bars.barWidth):(xmin+=delta,xmax+=delta+s.bars.barWidth)}updateAxis(s.xaxis,xmin,xmax),updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),function(_,axis){axis.datamin==topSentry&&(axis.datamin=null),axis.datamax==bottomSentry&&(axis.datamax=null)})}function shutdown(){redrawTimeout&&clearTimeout(redrawTimeout),eventHolder.unbind("mousemove",onMouseMove),eventHolder.unbind("mouseleave",onMouseLeave),eventHolder.unbind("click",onClick),executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;"x"==axis.direction?(s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min)),m=Math.min(t(axis.max),t(axis.min))):(s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min)),s=-s,m=Math.max(t(axis.max),t(axis.min))),axis.p2c=t==identity?function(p){return(p-m)*s}:function(p){return(t(p)-m)*s},axis.c2p=it?function(c){return it(m+c/s)}:function(c){return m+c/s}}function measureTickLabels(axis){for(var opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||("x"==axis.direction?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel",i=0;i<ticks.length;++i){var t=ticks[i];if(t.label){var info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width),labelHeight=Math.max(labelHeight,info.height)}}axis.labelWidth=opts.labelWidth||labelWidth,axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis="x"===axis.direction,tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=!0,outermost=!0,first=!0,found=!1;$.each(isXAxis?xaxes:yaxes,function(i,a){a&&(a.show||a.reserveSpace)&&(a===axis?found=!0:a.options.position===pos&&(found?outermost=!1:innermost=!1),found||(first=!1))}),outermost&&(axisMargin=0),null==tickLength&&(tickLength=first?"full":5),isNaN(+tickLength)||(padding+=+tickLength),isXAxis?(lh+=padding,"bottom"==pos?(plotOffset.bottom+=lh+axisMargin,axis.box={top:surface.height-plotOffset.bottom,height:lh}):(axis.box={top:plotOffset.top+axisMargin,height:lh},plotOffset.top+=lh+axisMargin)):(lw+=padding,"left"==pos?(axis.box={left:plotOffset.left+axisMargin,width:lw},plotOffset.left+=lw+axisMargin):(plotOffset.right+=lw+axisMargin,axis.box={left:surface.width-plotOffset.right,width:lw})),axis.position=pos,axis.tickLength=tickLength,axis.box.padding=padding,axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){"x"==axis.direction?(axis.box.left=plotOffset.left-axis.labelWidth/2,axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth):(axis.box.top=plotOffset.top-axis.labelHeight/2,axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight)}function adjustLayoutForThingsStickingOut(){var i,minMargin=options.grid.minBorderMargin;if(null==minMargin)for(minMargin=0,i=0;i<series.length;++i)minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2));var margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),function(_,axis){axis.reserveSpace&&axis.ticks&&axis.ticks.length&&("x"===axis.direction?(margins.left=Math.max(margins.left,axis.labelWidth/2),margins.right=Math.max(margins.right,axis.labelWidth/2)):(margins.bottom=Math.max(margins.bottom,axis.labelHeight/2),margins.top=Math.max(margins.top,axis.labelHeight/2)))}),plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left)),plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right)),plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top)),plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(){var i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){var margin=options.grid.margin||0;plotOffset[a]="number"==typeof margin?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset)"object"==typeof options.grid.borderWidth?plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0:plotOffset[a]+=showGrid?options.grid.borderWidth:0;if($.each(axes,function(_,axis){var axisOpts=axis.options;axis.show=null==axisOpts.show?axis.used:axisOpts.show,axis.reserveSpace=null==axisOpts.reserveSpace?axis.show:axisOpts.reserveSpace,setRange(axis)}),showGrid){var allocatedAxes=$.grep(axes,function(axis){return axis.show||axis.reserveSpace});for($.each(allocatedAxes,function(_,axis){setupTickGeneration(axis),setTicks(axis),snapRangeToTicks(axis,axis.ticks),measureTickLabels(axis)}),i=allocatedAxes.length-1;i>=0;--i)allocateAxisBoxFirstPhase(allocatedAxes[i]);adjustLayoutForThingsStickingOut(),$.each(allocatedAxes,function(_,axis){allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right,plotHeight=surface.height-plotOffset.bottom-plotOffset.top,$.each(axes,function(_,axis){setTransformationHelpers(axis)}),showGrid&&drawAxisLabels(),insertLegend()}function setRange(axis){var opts=axis.options,min=+(null!=opts.min?opts.min:axis.datamin),max=+(null!=opts.max?opts.max:axis.datamax),delta=max-min;if(0==delta){var widen=0==max?1:.01;null==opts.min&&(min-=widen),null!=opts.max&&null==opts.min||(max+=widen)}else{var margin=opts.autoscaleMargin;null!=margin&&(null==opts.min&&(min-=delta*margin)<0&&null!=axis.datamin&&axis.datamin>=0&&(min=0),null==opts.max&&(max+=delta*margin)>0&&null!=axis.datamax&&axis.datamax<=0&&(max=0))}axis.min=min,axis.max=max}function setupTickGeneration(axis){var noTicks,opts=axis.options;noTicks="number"==typeof opts.ticks&&opts.ticks>0?opts.ticks:.3*Math.sqrt("x"==axis.direction?surface.width:surface.height);var delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;null!=maxDec&&dec>maxDec&&(dec=maxDec);var size,magn=Math.pow(10,-dec),norm=delta/magn;if(norm<1.5?size=1:norm<3?(size=2,norm>2.25&&(null==maxDec||dec+1<=maxDec)&&(size=2.5,++dec)):size=norm<7.5?5:10,size*=magn,null!=opts.minTickSize&&size<opts.minTickSize&&(size=opts.minTickSize),axis.delta=delta,axis.tickDecimals=Math.max(0,null!=maxDec?maxDec:dec),axis.tickSize=opts.tickSize||size,"time"==opts.mode&&!axis.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(axis.tickGenerator||(axis.tickGenerator=function(axis){var prev,ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN;do{prev=v,v=start+i*axis.tickSize,ticks.push(v),++i}while(v<axis.max&&v!=prev);return ticks},axis.tickFormatter=function(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){var decimal=formatted.indexOf("."),precision=-1==decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}),$.isFunction(opts.tickFormatter)&&(axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)}),null!=opts.alignTicksWithAxis){var otherAxis=("x"==axis.direction?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){var niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0&&(null==opts.min&&(axis.min=Math.min(axis.min,niceTicks[0])),null==opts.max&&niceTicks.length>1&&(axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1]))),axis.tickGenerator=function(axis){var v,i,ticks=[];for(i=0;i<otherAxis.ticks.length;++i)v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min),v=axis.min+v*(axis.max-axis.min),ticks.push(v);return ticks},!axis.mode&&null==opts.tickDecimals){var extraDec=Math.max(0,1-Math.floor(Math.log(axis.delta)/Math.LN10)),ts=axis.tickGenerator(axis);ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))||(axis.tickDecimals=extraDec)}}}}function setTicks(axis){var oticks=axis.options.ticks,ticks=[];null==oticks||"number"==typeof oticks&&oticks>0?ticks=axis.tickGenerator(axis):oticks&&(ticks=$.isFunction(oticks)?oticks(axis):oticks);var i,v;for(axis.ticks=[],i=0;i<ticks.length;++i){var label=null,t=ticks[i];"object"==typeof t?(v=+t[0],t.length>1&&(label=t[1])):v=+t,null==label&&(label=axis.tickFormatter(v,axis)),isNaN(v)||axis.ticks.push({v:v,label:label})}}function snapRangeToTicks(axis,ticks){axis.options.autoscaleMargin&&ticks.length>0&&(null==axis.options.min&&(axis.min=Math.min(axis.min,ticks[0].v)),null==axis.options.max&&ticks.length>1&&(axis.max=Math.max(axis.max,ticks[ticks.length-1].v)))}function draw(){surface.clear(),executeHooks(hooks.drawBackground,[ctx]);var grid=options.grid;grid.show&&grid.backgroundColor&&drawBackground(),grid.show&&!grid.aboveData&&drawGrid();for(var i=0;i<series.length;++i)executeHooks(hooks.drawSeries,[ctx,series[i]]),drawSeries(series[i]);executeHooks(hooks.draw,[ctx]),grid.show&&grid.aboveData&&drawGrid(),surface.render(),triggerRedrawOverlay()}function extractRange(ranges,coord){for(var axis,from,to,key,axes=allAxes(),i=0;i<axes.length;++i)if(axis=axes[i],axis.direction==coord&&(key=coord+axis.n+"axis",ranges[key]||1!=axis.n||(key=coord+"axis"),ranges[key])){from=ranges[key].from,to=ranges[key].to;break}if(ranges[key]||(axis="x"==coord?xaxes[0]:yaxes[0],from=ranges[coord+"1"],to=ranges[coord+"2"]),null!=from&&null!=to&&from>to){var tmp=from;from=to,to=tmp}return{from:from,to:to,axis:axis}}function drawBackground(){ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)"),ctx.fillRect(0,0,plotWidth,plotHeight),ctx.restore()}function drawGrid(){var i,axes,bw,bc;ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var markings=options.grid.markings;if(markings)for($.isFunction(markings)&&(axes=plot.getAxes(),axes.xmin=axes.xaxis.min,axes.xmax=axes.xaxis.max,axes.ymin=axes.yaxis.min,axes.ymax=axes.yaxis.max,markings=markings(axes)),i=0;i<markings.length;++i){var m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");if(null==xrange.from&&(xrange.from=xrange.axis.min),null==xrange.to&&(xrange.to=xrange.axis.max),null==yrange.from&&(yrange.from=yrange.axis.min),null==yrange.to&&(yrange.to=yrange.axis.max),!(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)){xrange.from=Math.max(xrange.from,xrange.axis.min),xrange.to=Math.min(xrange.to,xrange.axis.max),yrange.from=Math.max(yrange.from,yrange.axis.min),yrange.to=Math.min(yrange.to,yrange.axis.max);var xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(!xequal||!yequal)if(xrange.from=Math.floor(xrange.axis.p2c(xrange.from)),xrange.to=Math.floor(xrange.axis.p2c(xrange.to)),yrange.from=Math.floor(yrange.axis.p2c(yrange.from)),yrange.to=Math.floor(yrange.axis.p2c(yrange.to)),xequal||yequal){var lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?.5:0;ctx.beginPath(),ctx.strokeStyle=m.color||options.grid.markingsColor,ctx.lineWidth=lineWidth,xequal?(ctx.moveTo(xrange.to+subPixel,yrange.from),ctx.lineTo(xrange.to+subPixel,yrange.to)):(ctx.moveTo(xrange.from,yrange.to+subPixel),ctx.lineTo(xrange.to,yrange.to+subPixel)),ctx.stroke()}else ctx.fillStyle=m.color||options.grid.markingsColor,ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}axes=allAxes(),bw=options.grid.borderWidth;for(var j=0;j<axes.length;++j){var x,y,xoff,yoff,axis=axes[j],box=axis.box,t=axis.tickLength;if(axis.show&&0!=axis.ticks.length){for(ctx.lineWidth=1,"x"==axis.direction?(x=0,y="full"==t?"top"==axis.position?0:plotHeight:box.top-plotOffset.top+("top"==axis.position?box.height:0)):(y=0,x="full"==t?"left"==axis.position?0:plotWidth:box.left-plotOffset.left+("left"==axis.position?box.width:0)),axis.innermost||(ctx.strokeStyle=axis.options.color,ctx.beginPath(),xoff=yoff=0,"x"==axis.direction?xoff=plotWidth+1:yoff=plotHeight+1,1==ctx.lineWidth&&("x"==axis.direction?y=Math.floor(y)+.5:x=Math.floor(x)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff),ctx.stroke()),ctx.strokeStyle=axis.options.tickColor,ctx.beginPath(),i=0;i<axis.ticks.length;++i){var v=axis.ticks[i].v;xoff=yoff=0,isNaN(v)||v<axis.min||v>axis.max||"full"==t&&("object"==typeof bw&&bw[axis.position]>0||bw>0)&&(v==axis.min||v==axis.max)||("x"==axis.direction?(x=axis.p2c(v),yoff="full"==t?-plotHeight:t,"top"==axis.position&&(yoff=-yoff)):(y=axis.p2c(v),xoff="full"==t?-plotWidth:t,"left"==axis.position&&(xoff=-xoff)),1==ctx.lineWidth&&("x"==axis.direction?x=Math.floor(x)+.5:y=Math.floor(y)+.5),ctx.moveTo(x,y),ctx.lineTo(x+xoff,y+yoff))}ctx.stroke()}}bw&&(bc=options.grid.borderColor,"object"==typeof bw||"object"==typeof bc?("object"!=typeof bw&&(bw={top:bw,right:bw,bottom:bw,left:bw}),"object"!=typeof bc&&(bc={top:bc,right:bc,bottom:bc,left:bc}),bw.top>0&&(ctx.strokeStyle=bc.top,ctx.lineWidth=bw.top,ctx.beginPath(),ctx.moveTo(0-bw.left,0-bw.top/2),ctx.lineTo(plotWidth,0-bw.top/2),ctx.stroke()),bw.right>0&&(ctx.strokeStyle=bc.right,ctx.lineWidth=bw.right,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right/2,0-bw.top),ctx.lineTo(plotWidth+bw.right/2,plotHeight),ctx.stroke()),bw.bottom>0&&(ctx.strokeStyle=bc.bottom,ctx.lineWidth=bw.bottom,ctx.beginPath(),ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2),ctx.lineTo(0,plotHeight+bw.bottom/2),ctx.stroke()),bw.left>0&&(ctx.strokeStyle=bc.left,ctx.lineWidth=bw.left,ctx.beginPath(),ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom),ctx.lineTo(0-bw.left/2,0),ctx.stroke())):(ctx.lineWidth=bw,ctx.strokeStyle=options.grid.borderColor,ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw))),ctx.restore()}function drawAxisLabels(){$.each(allAxes(),function(_,axis){var tick,x,y,halign,valign,box=axis.box,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel";if(surface.removeText(layer),axis.show&&0!=axis.ticks.length)for(var i=0;i<axis.ticks.length;++i)tick=axis.ticks[i],!tick.label||tick.v<axis.min||tick.v>axis.max||("x"==axis.direction?(halign="center",x=plotOffset.left+axis.p2c(tick.v),"bottom"==axis.position?y=box.top+box.padding:(y=box.top+box.height-box.padding,valign="bottom")):(valign="middle",y=plotOffset.top+axis.p2c(tick.v),"left"==axis.position?(x=box.left+box.width-box.padding,halign="right"):x=box.left+box.padding),surface.addText(layer,x,y,tick.label,font,null,null,halign,valign))})}function drawSeries(series){series.lines.show&&drawSeriesLines(series),series.bars.show&&drawSeriesBars(series),series.points.show&&drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(var i=ps;i<points.length;i+=ps){var x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null!=x1&&null!=x2){if(y1<=y2&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}x1==prevx&&y1==prevy||ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset),prevx=x2,prevy=y2,ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}}ctx.stroke()}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineJoin="round";var lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw,ctx.strokeStyle="rgba(0,0,0,0.1)";var angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis),ctx.lineWidth=sw/2,plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw,ctx.strokeStyle=series.color;var fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);fillStyle&&(ctx.fillStyle=fillStyle,function(datapoints,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,areaOpen=!1,ypos=1,segmentStart=0,segmentEnd=0;!(ps>0&&i>points.length+ps);){i+=ps;var x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&null!=x1&&null==x2){segmentEnd=i,ps=-ps,ypos=2;continue}if(ps<0&&i==segmentStart+ps){ctx.fill(),areaOpen=!1,ps=-ps,ypos=1,i=segmentStart=segmentEnd+ps;continue}}if(null!=x1&&null!=x2){if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1,x2=axisx.max}if(areaOpen||(ctx.beginPath(),ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom)),areaOpen=!0),y1>=axisy.max&&y2>=axisy.max)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));else if(y1<=axisy.min&&y2<=axisy.min)ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));else{var x1old=x1,x2old=x2;y1<=y2&&y1<axisy.min&&y2>=axisy.min?(x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.min):y2<=y1&&y2<axisy.min&&y1>=axisy.min&&(x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.min),y1>=y2&&y1>axisy.max&&y2<=axisy.max?(x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y1=axisy.max):y2>=y1&&y2>axisy.max&&y1<=axisy.max&&(x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1,y2=axisy.max),x1!=x1old&&ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1)),ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),x2!=x2old&&(ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2)),ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2)))}}}}(series.datapoints,series.xaxis,series.yaxis)),lw>0&&plotLine(series.datapoints,0,0,series.xaxis,series.yaxis),ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps){var x=points[i],y=points[i+1];null==x||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max||(ctx.beginPath(),x=axisx.p2c(x),y=axisy.p2c(y)+offset,"circle"==symbol?ctx.arc(x,y,radius,0,shadow?Math.PI:2*Math.PI,!1):symbol(ctx,x,y,radius,shadow),ctx.closePath(),fillStyle&&(ctx.fillStyle=fillStyle,ctx.fill()),ctx.stroke())}}ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(0==lw&&(lw=1e-4),lw>0&&sw>0){var w=sw/2;ctx.lineWidth=w,ctx.strokeStyle="rgba(0,0,0,0.1)",plotPoints(series.datapoints,radius,null,w+w/2,!0,series.xaxis,series.yaxis,symbol),ctx.strokeStyle="rgba(0,0,0,0.2)",plotPoints(series.datapoints,radius,null,w/2,!0,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw,ctx.strokeStyle=series.color,plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,!1,series.xaxis,series.yaxis,symbol),ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;horizontal?(drawBottom=drawRight=drawTop=!0,drawLeft=!1,left=b,right=x,top=y+barLeft,bottom=y+barRight,right<left&&(tmp=right,right=left,left=tmp,drawLeft=!0,drawRight=!1)):(drawLeft=drawRight=drawTop=!0,drawBottom=!1,left=x+barLeft,right=x+barRight,bottom=b,(top=y)<bottom&&(tmp=top,top=bottom,bottom=tmp,drawBottom=!0,drawTop=!1)),right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max||(left<axisx.min&&(left=axisx.min,drawLeft=!1),right>axisx.max&&(right=axisx.max,drawRight=!1),bottom<axisy.min&&(bottom=axisy.min,drawBottom=!1),top>axisy.max&&(top=axisy.max,drawTop=!1),left=axisx.p2c(left),bottom=axisy.p2c(bottom),right=axisx.p2c(right),top=axisy.p2c(top),fillStyleCallback&&(c.fillStyle=fillStyleCallback(bottom,top),c.fillRect(left,top,right-left,bottom-top)),lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)&&(c.beginPath(),c.moveTo(left,bottom),drawLeft?c.lineTo(left,top):c.moveTo(left,top),drawTop?c.lineTo(right,top):c.moveTo(right,top),drawRight?c.lineTo(right,bottom):c.moveTo(right,bottom),drawBottom?c.lineTo(left,bottom):c.moveTo(left,bottom),c.stroke()))}function drawSeriesBars(series){ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),ctx.lineWidth=series.bars.lineWidth,ctx.strokeStyle=series.color;var barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}var fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;!function(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){for(var points=datapoints.points,ps=datapoints.pointsize,i=0;i<points.length;i+=ps)null!=points[i]&&drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis),ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);var c=$.color.parse(seriesColor);return c.a="number"==typeof fill?fill:.4,c.normalize(),c.toString()}function insertLegend(){if(null!=options.legend.container?$(options.legend.container).html(""):placeholder.find(".legend").remove(),options.legend.show){for(var s,label,fragments=[],entries=[],rowStarted=!1,lf=options.legend.labelFormatter,i=0;i<series.length;++i)s=series[i],s.label&&(label=lf?lf(s.label,s):s.label)&&entries.push({label:label,color:s.color});if(options.legend.sorted)if($.isFunction(options.legend.sorted))entries.sort(options.legend.sorted);else if("reverse"==options.legend.sorted)entries.reverse();else{var ascending="descending"!=options.legend.sorted;entries.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=ascending?1:-1})}for(var i=0;i<entries.length;++i){var entry=entries[i];i%options.legend.noColumns==0&&(rowStarted&&fragments.push("</tr>"),fragments.push("<tr>"),rowStarted=!0),fragments.push('<td class="legendColorBox"><div style="border:1px solid '+options.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+entry.label+"</td>")}if(rowStarted&&fragments.push("</tr>"),0!=fragments.length){var table='<table style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+"</table>";if(null!=options.legend.container)$(options.legend.container).html(table);else{var pos="",p=options.legend.position,m=options.legend.margin;null==m[0]&&(m=[m,m]),"n"==p.charAt(0)?pos+="top:"+(m[1]+plotOffset.top)+"px;":"s"==p.charAt(0)&&(pos+="bottom:"+(m[1]+plotOffset.bottom)+"px;"),"e"==p.charAt(1)?pos+="right:"+(m[0]+plotOffset.right)+"px;":"w"==p.charAt(1)&&(pos+="left:"+(m[0]+plotOffset.left)+"px;");var legend=$('<div class="legend">'+table.replace('style="','style="position:absolute;'+pos+";")+"</div>").appendTo(placeholder);if(0!=options.legend.backgroundOpacity){var c=options.legend.backgroundColor;null==c&&(c=options.grid.backgroundColor,c=c&&"string"==typeof c?$.color.parse(c):$.color.extract(legend,"background-color"),c.a=1,c=c.toString());var div=legend.children();$('<div style="position:absolute;width:'+div.width()+"px;height:"+div.height()+"px;"+pos+"background-color:"+c+';"> </div>').prependTo(legend).css("opacity",options.legend.backgroundOpacity)}}}}}function findNearbyItem(mouseX,mouseY,seriesFilter){var i,j,ps,maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null;for(i=series.length-1;i>=0;--i)if(seriesFilter(series[i])){var s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;if(ps=s.datapoints.pointsize,axisx.options.inverseTransform&&(maxx=Number.MAX_VALUE),axisy.options.inverseTransform&&(maxy=Number.MAX_VALUE),s.lines.show||s.points.show)for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(null!=x&&!(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy)){var dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;dist<smallestDistance&&(smallestDistance=dist,item=[i,j/ps])}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}for(barRight=barLeft+s.bars.barWidth,j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];null!=x&&((series[i].bars.horizontal?mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&my<=y+barRight:mx>=x+barLeft&&mx<=x+barRight&&my>=Math.min(b,y)&&my<=Math.max(b,y))&&(item=[i,j/ps]))}}}return item?(i=item[0],j=item[1],ps=series[i].datapoints.pointsize,{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}):null}function onMouseMove(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return 0!=s.hoverable})}function onMouseLeave(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return!1})}function onClick(e){triggerClickHoverEvent("plotclick",e,function(s){return 0!=s.clickable})}function triggerClickHoverEvent(eventname,event,seriesFilter){var offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX,pos.pageY=event.pageY;var item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item&&(item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10),item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)),options.grid.autoHighlight){for(var i=0;i<highlights.length;++i){var h=highlights[i];h.auto!=eventname||item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]||unhighlight(h.series,h.point)}item&&highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;if(-1==t)return void drawOverlay();redrawTimeout||(redrawTimeout=setTimeout(drawOverlay,t))}function drawOverlay(){redrawTimeout=null,octx.save(),overlay.clear(),octx.translate(plotOffset.left,plotOffset.top);var i,hi;for(i=0;i<highlights.length;++i)hi=highlights[i],hi.series.bars.show?drawBarHighlight(hi.series,hi.point):drawPointHighlight(hi.series,hi.point);octx.restore(),executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);-1==i?(highlights.push({series:s,point:point,auto:auto}),triggerRedrawOverlay()):auto||(highlights[i].auto=!1)}function unhighlight(s,point){if(null==s&&null==point)return highlights=[],void triggerRedrawOverlay();if("number"==typeof s&&(s=series[s]),"number"==typeof point){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);-1!=i&&(highlights.splice(i,1),triggerRedrawOverlay())}function indexOfHighlight(s,p){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString();if(!(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)){var pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius,octx.strokeStyle=highlightColor;var radius=1.5*pointRadius;x=axisx.p2c(x),y=axisy.p2c(y),octx.beginPath(),"circle"==series.points.symbol?octx.arc(x,y,radius,0,2*Math.PI,!1):series.points.symbol(octx,x,y,radius,!1),octx.closePath(),octx.stroke()}}function drawBarHighlight(series,point){var barLeft,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString(),fillStyle=highlightColor;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth,octx.strokeStyle=highlightColor,drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,function(){return fillStyle},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if("string"==typeof spec)return spec;for(var gradient=ctx.createLinearGradient(0,top,0,bottom),i=0,l=spec.colors.length;i<l;++i){var c=spec.colors[i];if("string"!=typeof c){var co=$.color.parse(defaultColor);null!=c.brightness&&(co=co.scale("rgb",c.brightness)),null!=c.opacity&&(co.a*=c.opacity),c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}var series=[],options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData,plot.setupGrid=setupGrid,plot.draw=draw,plot.getPlaceholder=function(){return placeholder},plot.getCanvas=function(){return surface.element},plot.getPlotOffset=function(){return plotOffset},plot.width=function(){return plotWidth},plot.height=function(){return plotHeight},plot.offset=function(){var o=eventHolder.offset();return o.left+=plotOffset.left,o.top+=plotOffset.top,o},plot.getData=function(){return series},plot.getAxes=function(){var res={};return $.each(xaxes.concat(yaxes),function(_,axis){axis&&(res[axis.direction+(1!=axis.n?axis.n:"")+"axis"]=axis)}),res},plot.getXAxes=function(){return xaxes},plot.getYAxes=function(){return yaxes},plot.c2p=canvasToAxisCoords,plot.p2c=axisToCanvasCoords,plot.getOptions=function(){return options},plot.highlight=highlight,plot.unhighlight=unhighlight,plot.triggerRedrawOverlay=triggerRedrawOverlay,plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}},plot.shutdown=shutdown,plot.destroy=function(){shutdown(),placeholder.removeData("plot").empty(),series=[],options=null,surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],hooks=null,highlights=[],plot=null},plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height),overlay.resize(width,height)},plot.hooks=hooks,function(){for(var classes={Canvas:Canvas},i=0;i<plugins.length;++i){var p=plugins[i];p.init(plot,classes),p.options&&$.extend(!0,options,p.options)}}(),function(opts){$.extend(!0,options,opts),opts&&opts.colors&&(options.colors=opts.colors),null==options.xaxis.color&&(options.xaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.yaxis.color&&(options.yaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString()),null==options.xaxis.tickColor&&(options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color),null==options.yaxis.tickColor&&(options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color),null==options.grid.borderColor&&(options.grid.borderColor=options.grid.color),null==options.grid.tickColor&&(options.grid.tickColor=$.color.parse(options.grid.color).scale("a",.22).toString());var i,axisOptions,axisCount,fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={style:placeholder.css("font-style"),size:Math.round(.8*fontSizeDefault),variant:placeholder.css("font-variant"),weight:placeholder.css("font-weight"),family:placeholder.css("font-family")};for(axisCount=options.xaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.xaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.xaxis,axisOptions),options.xaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(axisCount=options.yaxes.length||1,i=0;i<axisCount;++i)axisOptions=options.yaxes[i],axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color),axisOptions=$.extend(!0,{},options.yaxis,axisOptions),options.yaxes[i]=axisOptions,axisOptions.font&&(axisOptions.font=$.extend({},fontDefaults,axisOptions.font),axisOptions.font.color||(axisOptions.font.color=axisOptions.color),axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size)));for(options.xaxis.noTicks&&null==options.xaxis.ticks&&(options.xaxis.ticks=options.xaxis.noTicks),options.yaxis.noTicks&&null==options.yaxis.ticks&&(options.yaxis.ticks=options.yaxis.noTicks),options.x2axis&&(options.xaxes[1]=$.extend(!0,{},options.xaxis,options.x2axis),options.xaxes[1].position="top",null==options.x2axis.min&&(options.xaxes[1].min=null),null==options.x2axis.max&&(options.xaxes[1].max=null)),options.y2axis&&(options.yaxes[1]=$.extend(!0,{},options.yaxis,options.y2axis),options.yaxes[1].position="right",null==options.y2axis.min&&(options.yaxes[1].min=null),null==options.y2axis.max&&(options.yaxes[1].max=null)),options.grid.coloredAreas&&(options.grid.markings=options.grid.coloredAreas),options.grid.coloredAreasColor&&(options.grid.markingsColor=options.grid.coloredAreasColor),options.lines&&$.extend(!0,options.series.lines,options.lines),options.points&&$.extend(!0,options.series.points,options.points),options.bars&&$.extend(!0,options.series.bars,options.bars),null!=options.shadowSize&&(options.series.shadowSize=options.shadowSize),null!=options.highlightColor&&(options.series.highlightColor=options.highlightColor),i=0;i<options.xaxes.length;++i)getOrCreateAxis(xaxes,i+1).options=options.xaxes[i];for(i=0;i<options.yaxes.length;++i)getOrCreateAxis(yaxes,i+1).options=options.yaxes[i];for(var n in hooks)options.hooks[n]&&options.hooks[n].length&&(hooks[n]=hooks[n].concat(options.hooks[n]));executeHooks(hooks.processOptions,[options])}(options_),function(){placeholder.css("padding",0).children().filter(function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass("flot-base")}).remove(),"static"==placeholder.css("position")&&placeholder.css("position","relative"),surface=new Canvas("flot-base",placeholder),overlay=new Canvas("flot-overlay",placeholder),ctx=surface.context,octx=overlay.context,eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");existing&&(existing.shutdown(),overlay.clear()),placeholder.data("plot",plot)}(),setData(data_),setupGrid(),draw(),function(){options.grid.hoverable&&(eventHolder.mousemove(onMouseMove),eventHolder.bind("mouseleave",onMouseLeave)),options.grid.clickable&&eventHolder.click(onClick),executeHooks(hooks.bindEvents,[eventHolder])}();var highlights=[],redrawTimeout=null}function floorInBase(n,base){return base*Math.floor(n/base)}var hasOwnProperty=Object.prototype.hasOwnProperty;$.fn.detach||($.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),Canvas.prototype.resize=function(width,height){if(width<=0||height<=0)throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height);var element=this.element,context=this.context,pixelRatio=this.pixelRatio;this.width!=width&&(element.width=width*pixelRatio,element.style.width=width+"px",this.width=width),this.height!=height&&(element.height=height*pixelRatio,element.style.height=height+"px",this.height=height),context.restore(),context.save(),context.scale(pixelRatio,pixelRatio)},Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},Canvas.prototype.render=function(){var cache=this._textCache;for(var layerKey in cache)if(hasOwnProperty.call(cache,layerKey)){var layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key)){for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active?position.rendered||(layer.append(position.element),position.rendered=!0):(positions.splice(i--,1),position.rendered&&position.element.detach());0==positions.length&&delete styleCache[key]}}layer.show()}},Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];return null==layer&&(null==this.textContainer&&(this.textContainer=$("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),layer=this.text[classes]=$("<div></div>").addClass(classes).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),layer},Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info;if(text=""+text,textStyle="object"==typeof font?font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family:font,layerCache=this._textCache[layer],null==layerCache&&(layerCache=this._textCache[layer]={}),styleCache=layerCache[textStyle],null==styleCache&&(styleCache=layerCache[textStyle]={}),null==(info=styleCache[text])){var element=$("<div></div>").html(text).css({position:"absolute","max-width":width,top:-9999}).appendTo(this.getTextLayer(layer));"object"==typeof font?element.css({font:textStyle,color:font.color}):"string"==typeof font&&element.addClass(font),info=styleCache[text]={width:element.outerWidth(!0),height:element.outerHeight(!0),element:element,positions:[]},element.detach()}return info},Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;"center"==halign?x-=info.width/2:"right"==halign&&(x-=info.width),"middle"==valign?y-=info.height/2:"bottom"==valign&&(y-=info.height);for(var position,i=0;position=positions[i];i++)if(position.x==x&&position.y==y)return void(position.active=!0);position={active:!0,rendered:!1,element:positions.length?info.element.clone():info.element,x:x,y:y},positions.push(position),position.element.css({top:Math.round(y),left:Math.round(x),"text-align":halign})},Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(null==text){var layerCache=this._textCache[layer];if(null!=layerCache)for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache)if(hasOwnProperty.call(styleCache,key))for(var position,positions=styleCache[key].positions,i=0;position=positions[i];i++)position.active=!1}}else for(var position,positions=this.getTextInfo(layer,text,font,angle).positions,i=0;position=positions[i];i++)position.x==x&&position.y==y&&(position.active=!1)},$.plot=function(placeholder,data,options){return new Plot($(placeholder),data,options,$.plot.plugins)},$.plot.version="0.8.3",$.plot.plugins=[],$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})}}(jQuery)},function(module,exports){!function($){function floorInBase(n,base){return base*Math.floor(n/base)}function formatDate(d,fmt,monthNames,dayNames){if("function"==typeof d.strftime)return d.strftime(fmt);var leftPad=function(n,pad){return n=""+n,pad=""+(null==pad?"0":pad),1==n.length?pad+n:n},r=[],escape=!1,hours=d.getHours(),isAM=hours<12;null==monthNames&&(monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==dayNames&&(dayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var hours12;hours12=hours>12?hours-12:0==hours?12:hours;for(var i=0;i<fmt.length;++i){var c=fmt.charAt(i);if(escape){switch(c){case"a":c=""+dayNames[d.getDay()];break;case"b":c=""+monthNames[d.getMonth()];break;case"d":c=leftPad(d.getDate());break;case"e":c=leftPad(d.getDate()," ");break;case"h":case"H":c=leftPad(hours);break;case"I":c=leftPad(hours12);break;case"l":c=leftPad(hours12," ");break;case"m":c=leftPad(d.getMonth()+1);break;case"M":c=leftPad(d.getMinutes());break;case"q":c=""+(Math.floor(d.getMonth()/3)+1);break;case"S":c=leftPad(d.getSeconds());break;case"y":c=leftPad(d.getFullYear()%100);break;case"Y":c=""+d.getFullYear();break;case"p":c=isAM?"am":"pm";break;case"P":c=isAM?"AM":"PM";break;case"w":c=""+d.getDay()}r.push(c),escape=!1}else"%"==c?escape=!0:r.push(c)}return r.join("")}function makeUtcWrapper(d){function addProxyMethod(sourceObj,sourceMethod,targetObj,targetMethod){sourceObj[sourceMethod]=function(){return targetObj[targetMethod].apply(targetObj,arguments)}}var utc={date:d};void 0!=d.strftime&&addProxyMethod(utc,"strftime",d,"strftime"),addProxyMethod(utc,"getTime",d,"getTime"),addProxyMethod(utc,"setTime",d,"setTime");for(var props=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],p=0;p<props.length;p++)addProxyMethod(utc,"get"+props[p],d,"getUTC"+props[p]),addProxyMethod(utc,"set"+props[p],d,"setUTC"+props[p]);return utc}function dateGenerator(ts,opts){if("browser"==opts.timezone)return new Date(ts);if(opts.timezone&&"utc"!=opts.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var d=new timezoneJS.Date;return d.setTimezone(opts.timezone),d.setTime(ts),d}return makeUtcWrapper(new Date(ts))}return makeUtcWrapper(new Date(ts))}function init(plot){plot.hooks.processOptions.push(function(plot,options){$.each(plot.getAxes(),function(axisName,axis){var opts=axis.options;"time"==opts.mode&&(axis.tickGenerator=function(axis){var ticks=[],d=dateGenerator(axis.min,opts),minSize=0,spec=opts.tickSize&&"quarter"===opts.tickSize[1]||opts.minTickSize&&"quarter"===opts.minTickSize[1]?specQuarters:specMonths;null!=opts.minTickSize&&(minSize="number"==typeof opts.tickSize?opts.tickSize:opts.minTickSize[0]*timeUnitSize[opts.minTickSize[1]]);for(var i=0;i<spec.length-1&&!(axis.delta<(spec[i][0]*timeUnitSize[spec[i][1]]+spec[i+1][0]*timeUnitSize[spec[i+1][1]])/2&&spec[i][0]*timeUnitSize[spec[i][1]]>=minSize);++i);var size=spec[i][0],unit=spec[i][1];if("year"==unit){if(null!=opts.minTickSize&&"year"==opts.minTickSize[1])size=Math.floor(opts.minTickSize[0]);else{var magn=Math.pow(10,Math.floor(Math.log(axis.delta/timeUnitSize.year)/Math.LN10)),norm=axis.delta/timeUnitSize.year/magn;size=norm<1.5?1:norm<3?2:norm<7.5?5:10,size*=magn}size<1&&(size=1)}axis.tickSize=opts.tickSize||[size,unit];var tickSize=axis.tickSize[0];unit=axis.tickSize[1];var step=tickSize*timeUnitSize[unit];"second"==unit?d.setSeconds(floorInBase(d.getSeconds(),tickSize)):"minute"==unit?d.setMinutes(floorInBase(d.getMinutes(),tickSize)):"hour"==unit?d.setHours(floorInBase(d.getHours(),tickSize)):"month"==unit?d.setMonth(floorInBase(d.getMonth(),tickSize)):"quarter"==unit?d.setMonth(3*floorInBase(d.getMonth()/3,tickSize)):"year"==unit&&d.setFullYear(floorInBase(d.getFullYear(),tickSize)),d.setMilliseconds(0),step>=timeUnitSize.minute&&d.setSeconds(0),step>=timeUnitSize.hour&&d.setMinutes(0),step>=timeUnitSize.day&&d.setHours(0),step>=4*timeUnitSize.day&&d.setDate(1),step>=2*timeUnitSize.month&&d.setMonth(floorInBase(d.getMonth(),3)),step>=2*timeUnitSize.quarter&&d.setMonth(floorInBase(d.getMonth(),6)),step>=timeUnitSize.year&&d.setMonth(0);var prev,carry=0,v=Number.NaN;do{if(prev=v,v=d.getTime(),ticks.push(v),"month"==unit||"quarter"==unit)if(tickSize<1){d.setDate(1);var start=d.getTime();d.setMonth(d.getMonth()+("quarter"==unit?3:1));var end=d.getTime();d.setTime(v+carry*timeUnitSize.hour+(end-start)*tickSize),carry=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+tickSize*("quarter"==unit?3:1));else"year"==unit?d.setFullYear(d.getFullYear()+tickSize):d.setTime(v+step)}while(v<axis.max&&v!=prev);return ticks},axis.tickFormatter=function(v,axis){var d=dateGenerator(v,axis.options);if(null!=opts.timeformat)return formatDate(d,opts.timeformat,opts.monthNames,opts.dayNames);var fmt,useQuarters=axis.options.tickSize&&"quarter"==axis.options.tickSize[1]||axis.options.minTickSize&&"quarter"==axis.options.minTickSize[1],t=axis.tickSize[0]*timeUnitSize[axis.tickSize[1]],span=axis.max-axis.min,suffix=opts.twelveHourClock?" %p":"",hourCode=opts.twelveHourClock?"%I":"%H";return fmt=t<timeUnitSize.minute?hourCode+":%M:%S"+suffix:t<timeUnitSize.day?span<2*timeUnitSize.day?hourCode+":%M"+suffix:"%b %d "+hourCode+":%M"+suffix:t<timeUnitSize.month?"%b %d":useQuarters&&t<timeUnitSize.quarter||!useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"%b":"%b %Y":useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"Q%q":"Q%q %Y":"%Y",formatDate(d,fmt,opts.monthNames,opts.dayNames)})})})}var options={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},timeUnitSize={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},baseSpec=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],specMonths=baseSpec.concat([[3,"month"],[6,"month"],[1,"year"]]),specQuarters=baseSpec.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);$.plot.plugins.push({init:init,options:options,name:"time",version:"1.0"}),$.plot.formatDate=formatDate,$.plot.dateGenerator=dateGenerator}(jQuery)},function(module,exports){!function($){function processRawData(plot,series,datapoints){var handlers={square:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.rect(x-size,y-size,size+size,size+size)},diamond:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI/2);ctx.moveTo(x-size,y),ctx.lineTo(x,y-size),ctx.lineTo(x+size,y),ctx.lineTo(x,y+size),ctx.lineTo(x-size,y)},triangle:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),height=size*Math.sin(Math.PI/3);ctx.moveTo(x-size/2,y+height/2),ctx.lineTo(x+size/2,y+height/2),shadow||(ctx.lineTo(x,y-height/2),ctx.lineTo(x-size/2,y+height/2))},cross:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.moveTo(x-size,y-size),ctx.lineTo(x+size,y+size),ctx.moveTo(x-size,y+size),ctx.lineTo(x+size,y-size)}},s=series.points.symbol;handlers[s]&&(series.points.symbol=handlers[s])}function init(plot){plot.hooks.processDatapoints.push(processRawData)}$.plot.plugins.push({init:init,name:"symbols",version:"1.0"})}(jQuery)},function(module,exports){!function($){function init(plot){function onMouseOut(e){crosshair.locked||-1!=crosshair.x&&(crosshair.x=-1,plot.triggerRedrawOverlay())}function onMouseMove(e){if(!crosshair.locked){if(plot.getSelection&&plot.getSelection())return void(crosshair.x=-1);var offset=plot.offset();crosshair.x=Math.max(0,Math.min(e.pageX-offset.left,plot.width())),crosshair.y=Math.max(0,Math.min(e.pageY-offset.top,plot.height())),plot.triggerRedrawOverlay()}}var crosshair={x:-1,y:-1,locked:!1};plot.setCrosshair=function(pos){if(pos){var o=plot.p2c(pos);crosshair.x=Math.max(0,Math.min(o.left,plot.width())),crosshair.y=Math.max(0,Math.min(o.top,plot.height()))}else crosshair.x=-1;plot.triggerRedrawOverlay()},plot.clearCrosshair=plot.setCrosshair,plot.lockCrosshair=function(pos){pos&&plot.setCrosshair(pos),crosshair.locked=!0},plot.unlockCrosshair=function(){crosshair.locked=!1},plot.hooks.bindEvents.push(function(plot,eventHolder){plot.getOptions().crosshair.mode&&(eventHolder.mouseout(onMouseOut),eventHolder.mousemove(onMouseMove))}),plot.hooks.drawOverlay.push(function(plot,ctx){var c=plot.getOptions().crosshair;if(c.mode){var plotOffset=plot.getPlotOffset();if(ctx.save(),ctx.translate(plotOffset.left,plotOffset.top),-1!=crosshair.x){var adj=plot.getOptions().crosshair.lineWidth%2?.5:0;if(ctx.strokeStyle=c.color,ctx.lineWidth=c.lineWidth,ctx.lineJoin="round",ctx.beginPath(),-1!=c.mode.indexOf("x")){var drawX=Math.floor(crosshair.x)+adj;ctx.moveTo(drawX,0),ctx.lineTo(drawX,plot.height())}if(-1!=c.mode.indexOf("y")){var drawY=Math.floor(crosshair.y)+adj;ctx.moveTo(0,drawY),ctx.lineTo(plot.width(),drawY)}ctx.stroke()}ctx.restore()}}),plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind("mouseout",onMouseOut),eventHolder.unbind("mousemove",onMouseMove)})}var options={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};$.plot.plugins.push({init:init,options:options,name:"crosshair",version:"1.0"})}(jQuery)},function(module,exports){!function($){function init(plot){function onMouseMove(e){selection.active&&(updateSelection(e),plot.getPlaceholder().trigger("plotselecting",[getSelection()]))}function onMouseDown(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==savedhandlers.onselectstart&&(savedhandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==savedhandlers.ondrag&&(savedhandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),setSelectionPos(selection.first,e),selection.active=!0,mouseUpHandler=function(e){onMouseUp(e)},$(document).one("mouseup",mouseUpHandler))}function onMouseUp(e){return mouseUpHandler=null,void 0!==document.onselectstart&&(document.onselectstart=savedhandlers.onselectstart),void 0!==document.ondrag&&(document.ondrag=savedhandlers.ondrag),selection.active=!1,updateSelection(e),selectionIsSane()?triggerSelectedEvent():(plot.getPlaceholder().trigger("plotunselected",[]),plot.getPlaceholder().trigger("plotselecting",[null])),!1}function getSelection(){if(!selectionIsSane())return null;if(!selection.show)return null;var r={},c1=selection.first,c2=selection.second;return $.each(plot.getAxes(),function(name,axis){if(axis.used){var p1=axis.c2p(c1[axis.direction]),p2=axis.c2p(c2[axis.direction]);r[name]={from:Math.min(p1,p2),to:Math.max(p1,p2)}}}),r}function triggerSelectedEvent(){var r=getSelection();plot.getPlaceholder().trigger("plotselected",[r]),r.xaxis&&r.yaxis&&plot.getPlaceholder().trigger("selected",[{x1:r.xaxis.from,y1:r.yaxis.from,x2:r.xaxis.to,y2:r.yaxis.to}])}function clamp(min,value,max){return value<min?min:value>max?max:value}function setSelectionPos(pos,e){var o=plot.getOptions(),offset=plot.getPlaceholder().offset(),plotOffset=plot.getPlotOffset();pos.x=clamp(0,e.pageX-offset.left-plotOffset.left,plot.width()),pos.y=clamp(0,e.pageY-offset.top-plotOffset.top,plot.height()),"y"==o.selection.mode&&(pos.x=pos==selection.first?0:plot.width()),"x"==o.selection.mode&&(pos.y=pos==selection.first?0:plot.height())}function updateSelection(pos){null!=pos.pageX&&(setSelectionPos(selection.second,pos),selectionIsSane()?(selection.show=!0,plot.triggerRedrawOverlay()):clearSelection(!0))}function clearSelection(preventEvent){selection.show&&(selection.show=!1,plot.triggerRedrawOverlay(),preventEvent||plot.getPlaceholder().trigger("plotunselected",[]))}function extractRange(ranges,coord){var axis,from,to,key,axes=plot.getAxes();for(var k in axes)if(axis=axes[k],axis.direction==coord&&(key=coord+axis.n+"axis",ranges[key]||1!=axis.n||(key=coord+"axis"),ranges[key])){from=ranges[key].from,to=ranges[key].to;break}if(ranges[key]||(axis="x"==coord?plot.getXAxes()[0]:plot.getYAxes()[0],from=ranges[coord+"1"],to=ranges[coord+"2"]),null!=from&&null!=to&&from>to){var tmp=from;from=to,to=tmp}return{from:from,to:to,axis:axis}}function setSelection(ranges,preventEvent){var range,o=plot.getOptions();"y"==o.selection.mode?(selection.first.x=0,selection.second.x=plot.width()):(range=extractRange(ranges,"x"),selection.first.x=range.axis.p2c(range.from),selection.second.x=range.axis.p2c(range.to)),"x"==o.selection.mode?(selection.first.y=0,selection.second.y=plot.height()):(range=extractRange(ranges,"y"),selection.first.y=range.axis.p2c(range.from),selection.second.y=range.axis.p2c(range.to)),selection.show=!0,plot.triggerRedrawOverlay(),!preventEvent&&selectionIsSane()&&triggerSelectedEvent()}function selectionIsSane(){var minSize=plot.getOptions().selection.minSize;return Math.abs(selection.second.x-selection.first.x)>=minSize&&Math.abs(selection.second.y-selection.first.y)>=minSize}var selection={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},savedhandlers={},mouseUpHandler=null;plot.clearSelection=clearSelection,plot.setSelection=setSelection,plot.getSelection=getSelection,plot.hooks.bindEvents.push(function(plot,eventHolder){null!=plot.getOptions().selection.mode&&(eventHolder.mousemove(onMouseMove),eventHolder.mousedown(onMouseDown))}),plot.hooks.drawOverlay.push(function(plot,ctx){if(selection.show&&selectionIsSane()){var plotOffset=plot.getPlotOffset(),o=plot.getOptions();ctx.save(),ctx.translate(plotOffset.left,plotOffset.top);var c=$.color.parse(o.selection.color);ctx.strokeStyle=c.scale("a",.8).toString(),ctx.lineWidth=1,ctx.lineJoin=o.selection.shape,ctx.fillStyle=c.scale("a",.4).toString();var x=Math.min(selection.first.x,selection.second.x)+.5,y=Math.min(selection.first.y,selection.second.y)+.5,w=Math.abs(selection.second.x-selection.first.x)-1,h=Math.abs(selection.second.y-selection.first.y)-1;ctx.fillRect(x,y,w,h),ctx.strokeRect(x,y,w,h),ctx.restore()}}),plot.hooks.shutdown.push(function(plot,eventHolder){eventHolder.unbind("mousemove",onMouseMove),eventHolder.unbind("mousedown",onMouseDown),mouseUpHandler&&$(document).unbind("mouseup",mouseUpHandler)})}$.plot.plugins.push({init:init,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)},function(module,exports){!function($){function init(plot){function findMatchingSeries(s,allseries){for(var res=null,i=0;i<allseries.length&&s!=allseries[i];++i)allseries[i].stack==s.stack&&(res=allseries[i]);return res}function stackData(plot,s,datapoints){if(null!=s.stack&&!1!==s.stack){var other=findMatchingSeries(s,plot.getData());if(other){for(var px,py,intery,qx,qy,bottom,l,m,ps=datapoints.pointsize,points=datapoints.points,otherps=other.datapoints.pointsize,otherpoints=other.datapoints.points,newpoints=[],withlines=s.lines.show,horizontal=s.bars.horizontal,withbottom=ps>2&&(horizontal?datapoints.format[2].x:datapoints.format[2].y),withsteps=withlines&&s.lines.steps,fromgap=!0,keyOffset=horizontal?1:0,accumulateOffset=horizontal?0:1,i=0,j=0;;){if(i>=points.length)break;if(l=newpoints.length,null==points[i]){for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(j>=otherpoints.length){if(!withlines)for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(null==otherpoints[j]){for(m=0;m<ps;++m)newpoints.push(null);fromgap=!0,j+=otherps}else{if(px=points[i+keyOffset],py=points[i+accumulateOffset],qx=otherpoints[j+keyOffset],qy=otherpoints[j+accumulateOffset],bottom=0,px==qx){for(m=0;m<ps;++m)newpoints.push(points[i+m]);newpoints[l+accumulateOffset]+=qy,bottom=qy,i+=ps,j+=otherps}else if(px>qx){if(withlines&&i>0&&null!=points[i-ps]){for(intery=py+(points[i-ps+accumulateOffset]-py)*(qx-px)/(points[i-ps+keyOffset]-px),newpoints.push(qx),newpoints.push(intery+qy),m=2;m<ps;++m)newpoints.push(points[i+m]);bottom=qy}j+=otherps}else{if(fromgap&&withlines){i+=ps;continue}for(m=0;m<ps;++m)newpoints.push(points[i+m]);withlines&&j>0&&null!=otherpoints[j-otherps]&&(bottom=qy+(otherpoints[j-otherps+accumulateOffset]-qy)*(px-qx)/(otherpoints[j-otherps+keyOffset]-qx)),newpoints[l+accumulateOffset]+=bottom,i+=ps}fromgap=!1,l!=newpoints.length&&withbottom&&(newpoints[l+2]+=bottom)}if(withsteps&&l!=newpoints.length&&l>0&&null!=newpoints[l]&&newpoints[l]!=newpoints[l-ps]&&newpoints[l+1]!=newpoints[l-ps+1]){for(m=0;m<ps;++m)newpoints[l+ps+m]=newpoints[l+m];newpoints[l+1]=newpoints[l-ps+1]}}datapoints.points=newpoints}}}plot.hooks.processDatapoints.push(stackData)}var options={series:{stack:null}};$.plot.plugins.push({init:init,options:options,name:"stack",version:"1.2"})}(jQuery)},function(module,exports){!function($){function canvasSupported(){return!!document.createElement("canvas").getContext}function canvasTextSupported(){return!!canvasSupported()&&"function"==typeof document.createElement("canvas").getContext("2d").fillText}function css3TransitionSupported(){var div=document.createElement("div");return void 0!==div.style.MozTransition||void 0!==div.style.OTransition||void 0!==div.style.webkitTransition||void 0!==div.style.transition}function AxisLabel(axisName,position,padding,plot,opts){this.axisName=axisName,this.position=position,this.padding=padding,this.plot=plot,this.opts=opts,this.width=0,this.height=0}function CanvasAxisLabel(axisName,position,padding,plot,opts){AxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts)}function HtmlAxisLabel(axisName,position,padding,plot,opts){AxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts),this.elem=null}function CssTransformAxisLabel(axisName,position,padding,plot,opts){HtmlAxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts)}function IeTransformAxisLabel(axisName,position,padding,plot,opts){CssTransformAxisLabel.prototype.constructor.call(this,axisName,position,padding,plot,opts),this.requiresResize=!1}function init(plot){plot.hooks.processOptions.push(function(plot,options){if(options.axisLabels.show){var secondPass=!1,axisLabels={};plot.hooks.draw.push(function(plot,ctx){var hasAxisLabels=!1;secondPass?(secondPass=!1,$.each(plot.getAxes(),function(axisName,axis){var opts=axis.options||plot.getOptions()[axisName];opts&&opts.axisLabel&&axis.show&&axisLabels[axisName].draw(axis.box)})):($.each(plot.getAxes(),function(axisName,axis){var opts=axis.options||plot.getOptions()[axisName];if(axisName in axisLabels&&(axis.labelHeight=axis.labelHeight-axisLabels[axisName].height,axis.labelWidth=axis.labelWidth-axisLabels[axisName].width,opts.labelHeight=axis.labelHeight,opts.labelWidth=axis.labelWidth,axisLabels[axisName].cleanup(),delete axisLabels[axisName]),opts&&opts.axisLabel&&axis.show){hasAxisLabels=!0;var renderer=null;if(opts.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)renderer=opts.axisLabelUseHtml||!css3TransitionSupported()&&!canvasTextSupported()&&!opts.axisLabelUseCanvas?HtmlAxisLabel:opts.axisLabelUseCanvas||!css3TransitionSupported()?CanvasAxisLabel:CssTransformAxisLabel;else{var ua=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(ua)&&(rv=parseFloat(RegExp.$1)),renderer=rv>=9&&!opts.axisLabelUseCanvas&&!opts.axisLabelUseHtml?CssTransformAxisLabel:opts.axisLabelUseCanvas||opts.axisLabelUseHtml?opts.axisLabelUseCanvas?CanvasAxisLabel:HtmlAxisLabel:IeTransformAxisLabel}var padding=void 0===opts.axisLabelPadding?2:opts.axisLabelPadding;axisLabels[axisName]=new renderer(axisName,axis.position,padding,plot,opts),axisLabels[axisName].calculateSize(),opts.labelHeight=axis.labelHeight+axisLabels[axisName].height,opts.labelWidth=axis.labelWidth+axisLabels[axisName].width}}),hasAxisLabels&&(secondPass=!0,plot.setupGrid(),plot.draw()))})}})}var options={axisLabels:{show:!0}};AxisLabel.prototype.cleanup=function(){},CanvasAxisLabel.prototype=new AxisLabel,CanvasAxisLabel.prototype.constructor=CanvasAxisLabel,CanvasAxisLabel.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels,this.padding,this.opts.axisLabelFontSizePixels,this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},CanvasAxisLabel.prototype.draw=function(box){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var ctx=this.plot.getCanvas().getContext("2d");ctx.save(),ctx.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily,ctx.fillStyle=this.opts.axisLabelColour;var x,y,width=ctx.measureText(this.opts.axisLabel).width,height=this.opts.axisLabelFontSizePixels,angle=0;"top"==this.position?(x=box.left+box.width/2-width/2,y=box.top+.72*height):"bottom"==this.position?(x=box.left+box.width/2-width/2,y=box.top+box.height-.72*height):"left"==this.position?(x=box.left+.72*height,y=box.height/2+box.top+width/2,angle=-Math.PI/2):"right"==this.position&&(x=box.left+box.width-.72*height,y=box.height/2+box.top-width/2,angle=Math.PI/2),ctx.translate(x,y),ctx.rotate(angle),ctx.fillText(this.opts.axisLabel,0,0),ctx.restore()},HtmlAxisLabel.prototype=new AxisLabel,HtmlAxisLabel.prototype.constructor=HtmlAxisLabel,HtmlAxisLabel.prototype.calculateSize=function(){var elem=$('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(elem),this.labelWidth=elem.outerWidth(!0),this.labelHeight=elem.outerHeight(!0),elem.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},HtmlAxisLabel.prototype.cleanup=function(){this.elem&&this.elem.remove()},HtmlAxisLabel.prototype.draw=function(box){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove(),this.elem=$('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem),"top"==this.position?(this.elem.css("left",box.left+box.width/2-this.labelWidth/2+"px"),this.elem.css("top",box.top+"px")):"bottom"==this.position?(this.elem.css("left",box.left+box.width/2-this.labelWidth/2+"px"),this.elem.css("top",box.top+box.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",box.top+box.height/2-this.labelHeight/2+"px"),this.elem.css("left",box.left+"px")):"right"==this.position&&(this.elem.css("top",box.top+box.height/2-this.labelHeight/2+"px"),this.elem.css("left",box.left+box.width-this.labelWidth+"px"))},CssTransformAxisLabel.prototype=new HtmlAxisLabel,CssTransformAxisLabel.prototype.constructor=CssTransformAxisLabel,CssTransformAxisLabel.prototype.calculateSize=function(){HtmlAxisLabel.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},CssTransformAxisLabel.prototype.transforms=function(degrees,x,y){var stransforms={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=x||0!=y){var stdTranslate=" translate("+x+"px, "+y+"px)";stransforms["-moz-transform"]+=stdTranslate,stransforms["-webkit-transform"]+=stdTranslate,stransforms["-o-transform"]+=stdTranslate,stransforms["-ms-transform"]+=stdTranslate}if(0!=degrees){var stdRotate=" rotate("+degrees+"deg)";stransforms["-moz-transform"]+=stdRotate,stransforms["-webkit-transform"]+=stdRotate,stransforms["-o-transform"]+=stdRotate,stransforms["-ms-transform"]+=stdRotate}var s="top: 0; left: 0; ";for(var prop in stransforms)stransforms[prop]&&(s+=prop+":"+stransforms[prop]+";");return s+=";"},CssTransformAxisLabel.prototype.calculateOffsets=function(box){var offsets={x:0,y:0,degrees:0};return"bottom"==this.position?(offsets.x=box.left+box.width/2-this.labelWidth/2,offsets.y=box.top+box.height-this.labelHeight):"top"==this.position?(offsets.x=box.left+box.width/2-this.labelWidth/2,offsets.y=box.top):"left"==this.position?(offsets.degrees=-90,offsets.x=box.left-this.labelWidth/2+this.labelHeight/2,offsets.y=box.height/2+box.top):"right"==this.position&&(offsets.degrees=90,offsets.x=box.left+box.width-this.labelWidth/2-this.labelHeight/2,offsets.y=box.height/2+box.top),offsets.x=Math.round(offsets.x),offsets.y=Math.round(offsets.y),offsets},CssTransformAxisLabel.prototype.draw=function(box){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var offsets=this.calculateOffsets(box);this.elem=$('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; '+this.transforms(offsets.degrees,offsets.x,offsets.y)+'">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem)},IeTransformAxisLabel.prototype=new CssTransformAxisLabel,IeTransformAxisLabel.prototype.constructor=IeTransformAxisLabel,IeTransformAxisLabel.prototype.transforms=function(degrees,x,y){var s="";if(0!=degrees){for(var rotation=degrees/90;rotation<0;)rotation+=4;s+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+rotation+"); ",this.requiresResize="right"==this.position}return 0!=x&&(s+="left: "+x+"px; "),0!=y&&(s+="top: "+y+"px; "),s},IeTransformAxisLabel.prototype.calculateOffsets=function(box){var offsets=CssTransformAxisLabel.prototype.calculateOffsets.call(this,box);return"top"==this.position?offsets.y=box.top+1:"left"==this.position?(offsets.x=box.left,offsets.y=box.height/2+box.top-this.labelWidth/2):"right"==this.position&&(offsets.x=box.left+box.width-this.labelHeight,offsets.y=box.height/2+box.top-this.labelWidth/2),offsets},IeTransformAxisLabel.prototype.draw=function(box){CssTransformAxisLabel.prototype.draw.call(this,box),this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))},$.plot.plugins.push({init:init,options:options,name:"axisLabels",version:"2.0"})}(jQuery)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function baseTickFormatter(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){var decimal=formatted.indexOf("."),precision=-1===decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}function unitFormatter(divisor,units){return function(val){var index=0,isNegative=val<0;for(val=Math.abs(val);val>=divisor&&index<units.length;)val/=divisor,index++;return""+Math.round(100*val)/100*(isNegative?-1:1)+units[index]}}function tickFormatters(){return{bits:unitFormatter(1e3,["b","kb","mb","gb","tb","pb"]),"bits/s":unitFormatter(1e3,["b/s","kb/s","mb/s","gb/s","tb/s","pb/s"]),bytes:unitFormatter(1024,["B","KB","MB","GB","TB","PB"]),"bytes/s":unitFormatter(1024,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"]),currency:function(val,axis){return val.toLocaleString("en",{style:"currency",currency:axis.options.units.prefix||"USD"})},percent:function(val,axis){var precision=_lodash2.default.get(axis,"tickDecimals",0)-_lodash2.default.get(axis,"options.units.tickDecimalsShift",0);return precision<0?precision=0:precision>20&&(precision=20),(100*val).toFixed(precision)+"%"},custom:function(val,axis){var formattedVal=baseTickFormatter(val,axis);return axis.options.units.prefix+formattedVal+axis.options.units.suffix}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=tickFormatters;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function xaxisFormatterProvider(config){function getFormat(esInterval){var parts=esInterval.match(/(\d+)(ms|s|m|h|d|w|M|y|)/);if(null==parts||null==parts[1]||null==parts[2])throw new Error("Unknown interval");for(var interval=_moment2.default.duration(Number(parts[1]),parts[2]),rules=config.get("dateFormat:scaled"),i=rules.length-1;i>=0;i--){var rule=rules[i];if(!rule[0]||interval>=_moment2.default.duration(rule[0]))return rule[1]}return config.get("dateFormat")}return function(esInterval){return getFormat(esInterval)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=xaxisFormatterProvider;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function generateTicksProvider(){function floorInBase(n,base){return base*Math.floor(n/base)}function generateTicks(axis){for(var returnTicks=[],tickSize=2,delta=axis.delta,steps=0,tickVal=void 0,tickCount=0;Math.abs(delta)>=1024;)steps++,delta/=1024;for(;tickSize<=1024&&!(delta<=tickSize);)tickSize*=2;axis.tickSize=tickSize*Math.pow(1024,steps);var tickMin=floorInBase(axis.min,axis.tickSize);do{tickVal=tickMin+tickCount++*axis.tickSize,returnTicks.push(tickVal)}while(tickVal<axis.max);return returnTicks}return function(axis){return generateTicks(axis)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=generateTicksProvider,module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){module.exports="/*\n * Timelion syntax parser\n */\n\n{\n function ltoo (literal) {\n  return {type: 'literal', value: literal}\n }\n\n function simpleLocation (location) {\n  // Returns an object representing the position of the function within the expression,\n  // demarcated by the position of its first character and last character. We calculate these values\n  // using the offset because the expression could span multiple lines, and we don't want to deal\n  // with column and line values.\n  return {\n   min: location.start.offset,\n   max: location.end.offset\n  }\n }\n\n var currentFunction;\n var currentArgs = [];\n\n var functions = [];\n var args = [];\n var variables = {};\n\n}\n\nstart\n = space? tree:series {\n  return {\n    tree: tree.filter(function (o) {return o != null}),\n    functions: functions,\n    args: args,\n    variables: variables\n  }\n }\n\narg_list\n = first:argument rest:(space? ',' space? arg:argument {return arg})* space? ','? {\n  return [first].concat(rest);\n }\n\nargument\n = name:argument_name space? '=' space? value:arg_type {\n  var arg = {\n   type: 'namedArg',\n   name: name,\n   value: value,\n   location: simpleLocation(location()),\n   text: text()\n  };\n  currentArgs.push(arg);\n  return arg;\n }\n / space? '=' space? value:arg_type? {\n  var exception = {\n   type: 'incompleteArgument',\n   currentArgs: currentArgs,\n   currentFunction: currentFunction,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n / name:argument_name space? '=' {\n  var exception = {\n   type: 'incompleteArgumentValue',\n   currentArgs: currentArgs,\n   currentFunction: currentFunction,\n   name: name,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n / element:arg_type {return element}\n\narg_type\n = variable_get\n / series_type\n / literal:literal {\n  var result = ltoo(literal);\n  result.location = simpleLocation(location()),\n  result.text = text();\n  return result;\n }\n\nvariable_get\n = '$' name:argument_name {\n  if (variables[name]) {\n   return variables[name];\n  } else {\n   error('$' + name + ' is not defined')\n  }\n }\n\nvariable_set\n = '$' name:argument_name space? '=' space? value:arg_type {\n  variables[name] = value;\n }\n\nseries_type\n = variable_set\n / variable_get\n / group\n / chain\n / reference\n\nseries\n = first:series_type rest:(space? ',' space? series:series_type {return series})* ','? {\n  return [first].concat(rest)\n }\n\nfunction_name\n = first:[a-zA-Z]+ rest:[.a-zA-Z0-9_-]* {\n  currentFunction = first.join('') + rest.join('');\n  currentArgs = [];\n  return currentFunction;\n}\n\nargument_name\n = first:[a-zA-Z]+ rest:[.a-zA-Z0-9_-]* { return first.join('') + rest.join('') }\n\nfunction \"function\"\n = space? '.' name:function_name space? '(' space? arg_list:arg_list? space? ')' space? {\n  var result = {\n    type: 'function',\n    function: name,\n    arguments: arg_list || [],\n    location: simpleLocation(location()),\n    text: text()\n  }\n\n  result.arguments.forEach(function (arg) {\n   arg.function = name;\n   args.push(arg);\n  })\n\n  functions.push(result)\n  return result;\n }\n / '.' func:function_name? {\n  var exception = {\n   type: 'incompleteFunction',\n   function: func,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n\nreference\n = '@' plot:integer ':' series:integer {\n  return {\n   type: 'reference',\n   plot: plot,\n   series: series\n  }\n }\n / '@' plot:integer {\n  return {\n   type: 'reference',\n   plot: plot\n  }\n }\n\n\nchain\n = func:function space? rest:function* {return {type: 'chain', chain: [func].concat(rest)}}\n\ngroup\n = '(' space? grouped:series space? ')' functions:function* {\n  var first = {\n    type: 'chainList',\n    list: grouped\n  }\n  first.label = text();\n\n  return {type: \"chain\", chain: [first].concat(functions)};\n }\n\n /* ----- Core types ----- */\n\nliteral \"literal\"\n  =  '\"' chars:dq_char* '\"' { return chars.join(''); } // double quoted string\n  / \"'\" chars:sq_char* \"'\" { return chars.join(''); } // single quoted string\n  / 'true'  { return true; } // unquoted literals from here down\n  / 'false' { return false; }\n  / 'null'  { return null; }\n  / string:[^()\"',=\\ \\t]+ { // this also matches numbers via Number()\n   var result = string.join('');\n   // Sort of hacky, but PEG doesn't have backtracking so\n   // a number rule is hard to read, and performs worse\n   if (isNaN(Number(result))) return result;\n   return Number(result)\n  }\n\nspace\n = [\\ \\t\\r\\n]+\n\ndq_char\n  = \"\\\\\" sequence:('\"' / \"\\\\\") { return sequence; }\n  / [^\"] // everything except \"\n\nsq_char\n  = \"\\\\\" sequence:(\"'\" / \"\\\\\") { return sequence; }\n  / [^'] // everything except '\n\ninteger\n = digits:[0-9]+ {return parseInt(digits.join(''))}\n"},function(module,exports,__webpack_require__){"use strict";var _timelion_expression_suggestions=__webpack_require__(3695),_timelion_expression_suggestions2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_timelion_expression_suggestions);__webpack_require__(2).get("apps/timelion",[]).directive("timelionExpressionSuggestions",function(){return{restrict:"E",scope:{suggestions:"=",suggestionsType:"=",selectedIndex:"=",onClickSuggestion:"&",shouldPopover:"="},replace:!0,template:_timelion_expression_suggestions2.default,link:function(scope){scope.onMouseDown=function(e){return e.preventDefault()}}}})},function(module,exports){module.exports='<div\n  id="timelionSuggestionList"\n  class="suggestions"\n  role="listbox"\n  ng-class="{ \'suggestions-isPopover\': shouldPopover === \'true\' }"\n  data-suggestions-list\n>\n  <div\n    class="suggestion"\n    id="timelionSuggestion{{$index}}"\n    role="option"\n    tabindex="0"\n    data-suggestion-list-item\n    ng-class="{active: $index === selectedIndex}"\n    ng-repeat="suggestion in suggestions track by suggestion.name"\n    ng-mousedown="onMouseDown($event)"\n    ng-click="onClickSuggestion({ suggestionIndex: $index })"\n    aria-label="{{suggestion.name}}"\n    aria-describedby="timelionSuggestionDescription{{$index}}"\n    data-test-subj="timelionSuggestionListItem"\n  >\n\n    <div ng-switch on="suggestionsType">\n\n      <div ng-switch-when="functions">\n        <h4>\n          <strong>.{{suggestion.name}}()</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            {{suggestion.help}}\n            {{suggestion.chainable ? \'(Chainable)\' : \'(Data Source)\'}}\n          </small>\n        </h4>\n\n        <div ng-show="suggestion.args.length > (suggestion.chainable ? 1: 0)">\n          <div ng-show="suggestions.length > 1">\n            <strong>Arguments:</strong>\n            <span ng-repeat="arg in suggestion.args" ng-hide="$index < 1 && suggestion.chainable">\n              <strong>{{arg.name}}</strong>=(<em>{{arg.types.join(\' | \')}}</em>)\n              <em ng-show="!$last">,</em>\n            </span>\n          </div>\n\n          <div class="suggestion-details" ng-show="suggestions.length === 1">\n            <table class="table table-striped table-condensed table-bordered">\n            <thead>\n              <th scope="col">Argument Name</th>\n              <th scope="col">Accepted Types</th>\n              <th scope="col">Information</th>\n            </thead>\n            <tr ng-repeat="arg in suggestion.args" ng-hide="$index < 1 && suggestion.chainable">\n              <td>{{arg.name}}</td>\n              <td><em>{{arg.types.join(\', \')}}</em></td>\n              <td>{{arg.help}}</td>\n            </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <div ng-switch-when="arguments">\n        <h4>\n          <strong>{{suggestion.name}}=</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            {{suggestion.help}}\n          </small>\n        </h4>\n        <div>\n          <strong>Accepts:</strong>\n          <em>{{suggestion.types.join(\', \')}}</em>\n        </div>\n      </div>\n\n      <div ng-switch-when="argument_value">\n        <h4>\n          <strong>{{suggestion.name}}</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            {{suggestion.help}}\n          </small>\n        </h4>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},function(module,exports){module.exports='<div\n  class="timelionExpressionInputContainer"\n  role="combobox"\n  aria-expanded="{{suggestions.isVisible}}"\n  aria-owns="timelionSuggestionList"\n  aria-haspopup="true"\n>\n  \x3c!-- The `role=textbox` is required by VoiceOver to properly detect the autocompletion.\n       For some reasons it doesn\'t work without it (even though the default role of\n       the element is textbox anyway). --\x3e\n  <textarea\n    data-expression-input\n    role="textbox"\n    rows="{{ rows }}"\n    class="timelionExpressionInput kuiTextArea fullWidth"\n    placeholder="Try a query with .es(*)"\n    ng-model="sheet"\n    ng-focus="onFocusInput()"\n    ng-keydown="onKeyDownInput($event)"\n    ng-keyup="onKeyUpInput($event)"\n    ng-blur="onBlurInput()"\n    ng-mousedown="onMouseDownInput()"\n    ng-mouseup="onMouseUpInput()"\n    ng-click="onClickExpression()"\n    aria-label="Timelion expression"\n    aria-multiline="false"\n    aria-autocomplete="list"\n    aria-controls="timelionSuggestionList"\n    aria-activedescendant="{{ getActiveSuggestionId() }}"\n    data-test-subj="timelionExpressionTextArea"\n  ></textarea>\n\n  <timelion-expression-suggestions\n    ng-show="suggestions.isVisible"\n    suggestions="suggestions.list"\n    suggestions-type="suggestions.type"\n    selected-index="suggestions.index"\n    on-click-suggestion="onClickSuggestion(suggestionIndex)"\n    should-popover="shouldPopoverSuggestions"\n  ></timelion-expression-suggestions>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function inLocation(cursorPosition,location){return cursorPosition>=location.min&&cursorPosition<=location.max}function getArgumentsHelp(functionHelp){var functionArgs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!functionHelp)return[];var argsHelp=functionHelp.chainable?functionHelp.args.slice(1):functionHelp.args.slice(0),functionArgNames=functionArgs.map(function(arg){return arg.name});return argsHelp.filter(function(arg){return!functionArgNames.includes(arg.name)})}function insertAtLocation(valueToInsert,destination,replacementRangeStart,replacementRangeEnd){return""+destination.slice(0,replacementRangeStart)+valueToInsert+destination.slice(replacementRangeEnd,destination.length)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.suggest=exports.Suggestions=exports.SUGGESTION_TYPE=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),extractSuggestionsFromParsedResult=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(result,cursorPosition,functionList,argValueSuggestions){var activeFunc,functionHelp,openParen,activeArg,functionName,functionArgs,argName,partialInput,valueSuggestions,_functionHelp$args$fi,staticSuggestions,argsHelp,argumentSuggestions,location;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(activeFunc=result.functions.find(function(func){return cursorPosition>=func.location.min&&cursorPosition<func.location.max})){_context.next=3;break}return _context.abrupt("return");case 3:if(functionHelp=functionList.find(function(func){return func.name===activeFunc.function}),openParen=activeFunc.location.min+activeFunc.function.length+2,!(cursorPosition<openParen)){_context.next=7;break}return _context.abrupt("return",{list:[functionHelp],location:activeFunc.location,type:SUGGESTION_TYPE.FUNCTIONS});case 7:if(!(activeArg=activeFunc.arguments.find(function(argument){return inLocation(cursorPosition,argument.location)}))||"namedArg"!==activeArg.type||!inLocation(cursorPosition,activeArg.value.location)){_context.next=21;break}if(functionName=activeFunc.function,functionArgs=activeFunc.arguments,argName=activeArg.name,partialInput=activeArg.value.text,valueSuggestions=void 0,!argValueSuggestions.hasDynamicSuggestionsForArgument(functionName,argName)){_context.next=18;break}return _context.next=15,argValueSuggestions.getDynamicSuggestionsForArgument(functionName,argName,functionArgs,partialInput);case 15:valueSuggestions=_context.sent,_context.next=20;break;case 18:_functionHelp$args$fi=functionHelp.args.find(function(arg){return arg.name===activeArg.name}),staticSuggestions=_functionHelp$args$fi.suggestions,valueSuggestions=argValueSuggestions.getStaticSuggestionsForInput(partialInput,staticSuggestions);case 20:return _context.abrupt("return",{list:valueSuggestions,location:activeArg.value.location,type:SUGGESTION_TYPE.ARGUMENT_VALUE});case 21:return argsHelp=getArgumentsHelp(functionHelp,activeFunc.arguments),argumentSuggestions=argsHelp.filter(function(arg){return"namedArg"===_lodash2.default.get(activeArg,"type")?_lodash2.default.startsWith(arg.name,activeArg.name):!activeArg||_lodash2.default.startsWith(arg.name,activeArg.text)}),location=activeArg?activeArg.location:{min:cursorPosition,max:cursorPosition},_context.abrupt("return",{list:argumentSuggestions,location:location,type:SUGGESTION_TYPE.ARGUMENTS});case 25:case"end":return _context.stop()}},_callee,this)}));return function(_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}();exports.suggest=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(expression,functionList,Parser,cursorPosition,argValueSuggestions){var result,message,list,_message,functionName,functionArgs,functionHelp,_message2,argName,_functionName,_functionArgs,valueSuggestions,_functionHelp,argHelp;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,Parser.parse(expression);case 3:return result=_context2.sent,_context2.next=6,extractSuggestionsFromParsedResult(result,cursorPosition,functionList,argValueSuggestions);case 6:return _context2.abrupt("return",_context2.sent);case 9:_context2.prev=9,_context2.t0=_context2.catch(0),message=void 0,_context2.prev=12,message=JSON.parse(_context2.t0.message),_context2.next=19;break;case 16:return _context2.prev=16,_context2.t1=_context2.catch(12),_context2.abrupt("return");case 19:_context2.t2=message.type,_context2.next="incompleteFunction"===_context2.t2?22:"incompleteArgument"===_context2.t2?25:"incompleteArgumentValue"===_context2.t2?28:39;break;case 22:return list=void 0,list=message.function?functionList.filter(function(func){return _lodash2.default.startsWith(func.name,message.function)}):functionList,_context2.abrupt("return",{list:list,location:message.location,type:SUGGESTION_TYPE.FUNCTIONS});case 25:return _message=message,functionName=_message.currentFunction,functionArgs=_message.currentArgs,functionHelp=functionList.find(function(func){return func.name===functionName}),_context2.abrupt("return",{list:getArgumentsHelp(functionHelp,functionArgs),location:message.location,type:SUGGESTION_TYPE.ARGUMENTS});case 28:if(_message2=message,argName=_message2.name,_functionName=_message2.currentFunction,_functionArgs=_message2.currentArgs,valueSuggestions=[],!argValueSuggestions.hasDynamicSuggestionsForArgument(_functionName,argName)){_context2.next=36;break}return _context2.next=33,argValueSuggestions.getDynamicSuggestionsForArgument(_functionName,argName,_functionArgs);case 33:valueSuggestions=_context2.sent,_context2.next=38;break;case 36:_functionHelp=functionList.find(function(func){return func.name===_functionName}),_functionHelp&&(argHelp=_functionHelp.args.find(function(arg){return arg.name===argName}))&&argHelp.suggestions&&(valueSuggestions=argHelp.suggestions);case 38:return _context2.abrupt("return",{list:valueSuggestions,location:{min:cursorPosition,max:cursorPosition},type:SUGGESTION_TYPE.ARGUMENT_VALUE});case 39:case"end":return _context2.stop()}},_callee2,this,[[0,9],[12,16]])}));return function(_x6,_x7,_x8,_x9,_x10){return _ref2.apply(this,arguments)}}();exports.insertAtLocation=insertAtLocation;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),SUGGESTION_TYPE=exports.SUGGESTION_TYPE={ARGUMENTS:"arguments",ARGUMENT_VALUE:"argument_value",FUNCTIONS:"functions"};exports.Suggestions=function(){function Suggestions(){_classCallCheck(this,Suggestions),this.reset()}return _createClass(Suggestions,[{key:"reset",value:function(){this.index=-1,this.list=[],this.type=null,this.isVisible=!1}},{key:"setList",value:function(list,type){this.list=list.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}),this.type=type,this.index>-1&&(this.index=Math.max(0,Math.min(this.index,this.list.length-1)))}},{key:"getCount",value:function(){return this.list.length}},{key:"isEmpty",value:function(){return 0===this.list.length}},{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"stepForward",value:function(){this.index>0&&(this.index-=1)}},{key:"stepBackward",value:function(){this.index<this.list.length-1&&(this.index+=1)}}]),Suggestions}()},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function ArgValueSuggestionsProvider(Private,indexPatterns){function containsFieldName(partial,field){return!partial||field.name.includes(partial)}var _this=this,getIndexPattern=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(functionArgs){var indexPatternArg,indexPatternTitle,resp,indexPatternSavedObject;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(indexPatternArg=functionArgs.find(function(argument){return"index"===argument.name})){_context.next=3;break}return _context.abrupt("return");case 3:return indexPatternTitle=_lodash2.default.get(indexPatternArg,"value.text"),_context.next=6,savedObjectsClient.find({type:"index-pattern",fields:["title"],search:'"'+indexPatternTitle+'"',search_fields:["title"],perPage:10});case 6:if(resp=_context.sent,indexPatternSavedObject=resp.savedObjects.find(function(savedObject){return savedObject.attributes.title===indexPatternTitle})){_context.next=10;break}return _context.abrupt("return");case 10:return _context.next=12,indexPatterns.get(indexPatternSavedObject.id);case 12:return _context.abrupt("return",_context.sent);case 13:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _ref.apply(this,arguments)}}(),savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),customHandlers={es:{index:function(){function index(_x2){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(partial){var search,resp;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return search=partial?partial+"*":"*",_context2.next=3,savedObjectsClient.find({type:"index-pattern",fields:["title"],search:""+search,search_fields:["title"],perPage:25});case 3:return resp=_context2.sent,_context2.abrupt("return",resp.savedObjects.map(function(savedObject){return{name:savedObject.attributes.title}}));case 5:case"end":return _context2.stop()}},_callee2,this)}));return index}(),metric:function(){function metric(_x3,_x4){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(partial,functionArgs){var indexPattern,valueSplit;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(partial&&partial.includes(":")){_context3.next=2;break}return _context3.abrupt("return",[{name:"avg:"},{name:"cardinality:"},{name:"count"},{name:"max:"},{name:"min:"},{name:"percentiles:"},{name:"sum:"}]);case 2:return _context3.next=4,getIndexPattern(functionArgs);case 4:if(indexPattern=_context3.sent){_context3.next=7;break}return _context3.abrupt("return",[]);case 7:return valueSplit=partial.split(":"),_context3.abrupt("return",indexPattern.fields.filter(function(field){return field.aggregatable&&"number"===field.type&&containsFieldName(valueSplit[1],field)}).map(function(field){return{name:valueSplit[0]+":"+field.name,help:field.type}}));case 9:case"end":return _context3.stop()}},_callee3,this)}));return metric}(),split:function(){function split(_x5,_x6){return _ref4.apply(this,arguments)}var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(partial,functionArgs){var indexPattern;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,getIndexPattern(functionArgs);case 2:if(indexPattern=_context4.sent){_context4.next=5;break}return _context4.abrupt("return",[]);case 5:return _context4.abrupt("return",indexPattern.fields.filter(function(field){return field.aggregatable&&["number","boolean","date","ip","string"].includes(field.type)&&containsFieldName(partial,field)}).map(function(field){return{name:field.name,help:field.type}}));case 6:case"end":return _context4.stop()}},_callee4,this)}));return split}(),timefield:function(){function timefield(_x7,_x8){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(partial,functionArgs){var indexPattern;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,getIndexPattern(functionArgs);case 2:if(indexPattern=_context5.sent){_context5.next=5;break}return _context5.abrupt("return",[]);case 5:return _context5.abrupt("return",indexPattern.fields.filter(function(field){return"date"===field.type&&containsFieldName(partial,field)}).map(function(field){return{name:field.name}}));case 6:case"end":return _context5.stop()}},_callee5,this)}));return timefield}()}};return{hasDynamicSuggestionsForArgument:function(functionName,argName){return customHandlers[functionName]&&customHandlers[functionName][argName]},getDynamicSuggestionsForArgument:function(){function getDynamicSuggestionsForArgument(_x10,_x11,_x12){return _ref6.apply(this,arguments)}var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(functionName,argName,functionArgs){var partialInput=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,customHandlers[functionName][argName](partialInput,functionArgs);case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}},_callee6,_this)}));return getDynamicSuggestionsForArgument}(),getStaticSuggestionsForInput:function(){var partialInput=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",staticSuggestions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return partialInput?staticSuggestions.filter(function(suggestion){return suggestion.name.includes(partialInput)}):staticSuggestions}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArgValueSuggestionsProvider=ArgValueSuggestionsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_saved_objects=__webpack_require__(67)},,,function(module,exports){module.exports='<input\n  input-focus\n  aria-label="Custom interval"\n  class="kuiTextInput timelion-interval-custom"\n  ng-show="interval === \'other\'"\n  ng-class="{ \'timelion-interval-custom-compact\': interval === \'other\' }"\n  ng-model="otherInterval"\n><select\n  id="timelionInterval"\n  aria-label="Select interval"\n  class="kuiSelect timelion-interval-presets"\n  ng-class="{ \'timelion-interval-presets-compact\': interval === \'other\'}"\n  ng-model="interval"\n>\n  <option\n    ng-repeat="intervalOption in intervalOptions"\n    aria-label="{{::intervalLabels[intervalOption]}}"\n    value="{{::intervalOption}}"\n  >\n      {{::intervalOption}}\n  </option>\n</select>\n'},function(module,exports){},,function(module,exports,__webpack_require__){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function AngularVisTypeProvider(Private,$compile,$rootScope){var VisType=Private(_.VisTypeProvider),AngularVisController=function(){function AngularVisController(domeElement,vis){_classCallCheck(this,AngularVisController),this.el=(0,_jquery2.default)(domeElement),this.vis=vis}return _createClass(AngularVisController,[{key:"render",value:function(esResponse,status){var _this=this;return new Promise(function(resolve,reject){var updateScope=function(){_this.$scope.vis=_this.vis,_this.$scope.visState=_this.vis.getState(),_this.$scope.esResponse=esResponse,_this.$scope.renderComplete=resolve,_this.$scope.renderFailed=reject,_this.$scope.resize=Date.now(),_this.$scope.updateStatus=status,_this.$scope.$apply()};_this.$scope?updateScope():(_this.$scope=$rootScope.$new(),updateScope(),_this.$scope.uiState=_this.vis.getUiState(),_this.el.html($compile(_this.vis.type.visConfig.template)(_this.$scope)))})}},{key:"destroy",value:function(){this.$scope&&(this.$scope.$destroy(),this.$scope=null)}}]),AngularVisController}();return function(_VisType){function AngularVisType(opts){_classCallCheck(this,AngularVisType),opts.visualization=AngularVisController;var _this2=_possibleConstructorReturn(this,(AngularVisType.__proto__||Object.getPrototypeOf(AngularVisType)).call(this,opts));if(_this2.visConfig.template=opts.visConfig?opts.visConfig.template:opts.template,!_this2.visConfig.template)throw new Error("Missing template for AngularVisType");return _this2}return _inherits(AngularVisType,_VisType),AngularVisType}(VisType)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.AngularVisTypeProvider=AngularVisTypeProvider;var _=__webpack_require__(698),_jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibVisTypeProvider(Private,$rootScope,$timeout,$compile){var VisType=Private(_base_vis_type.VisTypeProvider),pointSeries=Private(_point_series.AggResponsePointSeriesProvider),vislib=Private(_vislib2.default),legendClassName={top:"vislib-container--legend-top",bottom:"vislib-container--legend-bottom",left:"vislib-container--legend-left",right:"vislib-container--legend-right"},VislibVisController=function(){function VislibVisController(el,vis){_classCallCheck(this,VislibVisController),this.el=el,this.vis=vis,this.container=document.createElement("div"),this.container.className="vislib-container",this.el.appendChild(this.container),this.chartEl=document.createElement("div"),this.chartEl.className="vislib-chart",this.container.appendChild(this.chartEl)}return _createClass(VislibVisController,[{key:"render",value:function(esResponse){var _this=this;return this.vis.vislibVis&&this.destroy(),new Promise(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(resolve){var $scope,legendHtml;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0!==_this.el.clientWidth&&0!==_this.el.clientHeight){_context.next=2;break}return _context.abrupt("return",resolve());case 2:$scope=void 0,_this.vis.params.addLegend&&((0,_jquery2.default)(_this.container).attr("class",function(i,cls){return cls.replace(/vislib-container--legend-\S+/g,"")}).addClass(legendClassName[_this.vis.params.legendPosition]),$scope=$rootScope.$new(),$scope.refreshLegend=0,$scope.vis=_this.vis,$scope.visData=esResponse,$scope.uiState=$scope.vis.getUiState(),legendHtml=$compile("<visualize-legend></visualize-legend>")($scope),_this.container.appendChild(legendHtml[0]),$scope.$digest()),_this.vis.vislibVis=new vislib.Vis(_this.chartEl,_this.vis.params),_this.vis.vislibVis.on("brush",_this.vis.API.events.brush),_this.vis.vislibVis.on("click",_this.vis.API.events.filter),_this.vis.vislibVis.on("renderComplete",resolve),_this.vis.vislibVis.render(esResponse,_this.vis.getUiState()),_this.vis.params.addLegend&&($scope.refreshLegend++,$scope.$digest());case 10:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref.apply(this,arguments)}}())}},{key:"destroy",value:function(){this.vis.vislibVis&&(this.vis.vislibVis.off("brush",this.vis.API.events.brush),this.vis.vislibVis.off("click",this.vis.API.events.filter),this.vis.vislibVis.destroy(),delete this.vis.vislibVis),(0,_jquery2.default)(this.container).find("visualize-legend").remove()}}]),VislibVisController}();return function(_VisType){function VislibVisType(opts){_classCallCheck(this,VislibVisType),opts.responseHandler||(opts.responseHandler="basic"),opts.responseConverter||(opts.responseConverter=pointSeries),opts.visualization=VislibVisController;var _this2=_possibleConstructorReturn(this,(VislibVisType.__proto__||Object.getPrototypeOf(VislibVisType)).call(this,opts));return _this2.refreshLegend=0,_this2}return _inherits(VislibVisType,_VisType),VislibVisType}(VisType)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisTypeProvider=VislibVisTypeProvider,__webpack_require__(699),__webpack_require__(3707),__webpack_require__(3709),__webpack_require__(3711),__webpack_require__(3713),__webpack_require__(3715),__webpack_require__(1219);var _base_vis_type=__webpack_require__(1218),_point_series=__webpack_require__(1223),_vislib=__webpack_require__(492),_vislib2=_interopRequireDefault(_vislib),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery)},function(module,exports){module.exports='<div class="form-group">\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="visualizeBasicSettingsLegendPosition">\n      Legend Position\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="visualizeBasicSettingsLegendPosition"\n        class="form-control"\n        ng-model="vis.params.legendPosition"\n        ng-options="position.value as position.text for position in vis.type.editorConfig.collections.legendPositions"\n      >\n      </select>\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="showTooltip">\n      Show Tooltip\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input id="showTooltip" type="checkbox" ng-model="vis.params.addTooltip">\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(655);var _modules=__webpack_require__(2),_point_series_options=__webpack_require__(3708),_point_series_options2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_point_series_options);_modules.uiModules.get("kibana").directive("pointSeriesOptions",function(){return{restrict:"E",template:_point_series_options2.default,replace:!0}})},function(module,exports){module.exports='<div>\n  <div class="vis-option-item" ng-show="vis.hasSchemaAgg(\'segment\', \'date_histogram\')">\n    <label>\n      <input type="checkbox" ng-model="vis.params.addTimeMarker" ng-checked="vis.params.addTimeMarker">\n      Current time marker\n    </label>\n  </div>\n  <div class="vis-option-item">\n    <label>\n      <input type="checkbox" ng-model="vis.params.setYExtents">\n      Set Y-Axis Extents\n    </label>\n    <div ng-if="vis.params.setYExtents">\n      <label>\n        y-max\n        <input name="yMax"\n               class="form-control"\n               type="number"\n               step="0.1"\n               greater-than="{{vis.params.yAxis.min}}"\n               ng-model="vis.params.yAxis.max"\n               ng-required="vis.params.setYExtents">\n      </label>\n      <div ng-show="vis.params.yAxis.min >= vis.params.yAxis.max">\n        <span class="text-danger">Max must be greater than min</span>\n      </div>\n      <label>\n        y-min\n        <input name="yMin"\n               class="form-control"\n               type="number"\n               step="0.1"\n               less-than="{{vis.params.yAxis.max}}"\n               greater-than="{{vis.params.scale === \'log\' ? 0 : \'\'}}"\n               ng-model="vis.params.yAxis.min"\n               ng-required="vis.params.setYExtents">\n      </label>\n    </div>\n    <div ng-show="vis.params.setYExtents && vis.params.scale === \'log\' && vis.params.yAxis.min <= 0">\n      <span class="text-danger">Min must exceed 0 when a log scale is selected</span>\n    </div>\n    <div class="vis-option-item">\n      <label>\n        <input type="checkbox" ng-model="vis.params.defaultYExtents" ng-disabled="vis.params.setYExtents">\n        Scale Y-Axis to Data Bounds\n      </label>\n    </div>\n    <div class="vis-option-item">\n      <label>\n        <input type="checkbox" ng-model="vis.params.orderBucketsBySum">\n        Order buckets by descending sum\n      </label>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_line_interpolation_option=__webpack_require__(3710),_line_interpolation_option2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_line_interpolation_option);_modules.uiModules.get("kibana").directive("lineInterpolationOption",function(){return{restrict:"E",template:_line_interpolation_option2.default,replace:!0}})},function(module,exports){module.exports='<div>\n  <label>\n    Line Mode\n  </label>\n  <select\n    class="form-control"\n    ng-model="vis.params.interpolate"\n    ng-options="mode.value as mode.text for mode in vis.type.params.interpolationModes"\n  >\n  </select>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _modules=__webpack_require__(2),_heatmap_options=__webpack_require__(3712),_heatmap_options2=_interopRequireDefault(_heatmap_options),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);_modules.uiModules.get("kibana").directive("heatmapOptions",function(){return{restrict:"E",template:_heatmap_options2.default,replace:!0,link:function($scope){$scope.collections=$scope.vis.type.editorConfig.collections,$scope.showColorRange=!1,$scope.showLabels=!1,$scope.customColors=!1,$scope.valueAxis=$scope.vis.params.valueAxes[0],$scope.options={rotateLabels:270===$scope.valueAxis.labels.rotate},$scope.$watch("options.rotateLabels",function(rotate){$scope.vis.params.valueAxes[0].labels.rotate=rotate?270:0}),$scope.resetColors=function(){$scope.uiState.set("vis.colors",null),$scope.customColors=!1},$scope.toggleColorRangeSection=function(){var checkbox=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$scope.showColorRange=!$scope.showColorRange,checkbox&&!$scope.vis.params.setColorRange&&($scope.showColorRange=!1),checkbox||!$scope.showColorRange||$scope.vis.params.setColorRange||($scope.vis.params.setColorRange=!0)},$scope.toggleLabelSection=function(){var checkbox=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$scope.showLabels=!$scope.showLabels,checkbox&&!$scope.valueAxis.labels.show&&($scope.showLabels=!1),$scope.showLabels&&!$scope.valueAxis.labels.show&&($scope.vis.params.valueAxes[0].labels.show=!0)},$scope.getGreaterThan=function(index){if(0!==index)return $scope.vis.params.colorsRange[index-1].to},$scope.addRange=function(){var previousRange=_lodash2.default.last($scope.vis.params.colorsRange),from=previousRange?previousRange.to:0;$scope.vis.params.colorsRange.push({from:from,to:null})},$scope.removeRange=function(index){$scope.vis.params.colorsRange.splice(index,1)},$scope.getColor=function(index){var defaultColors=this.uiState.get("vis.defaultColors"),overwriteColors=this.uiState.get("vis.colors"),colors=defaultColors?_lodash2.default.defaults({},overwriteColors,defaultColors):overwriteColors;return colors?Object.values(colors)[index]:"transparent"},$scope.uiState.on("colorChanged",function(){$scope.customColors=!0})}}})},function(module,exports){module.exports='<div>\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="colorSchema">\n      Color Schema\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="colorSchema"\n        class="kuiSelect kuiSideBarSelect"\n        ng-model="vis.params.colorSchema"\n        ng-options="mode for mode in collections.colorSchemas"\n      ></select>\n    </div>\n    <div\n      class="text-info text-center"\n      ng-show="customColors"\n      ng-click="resetColors()"\n      kbn-accessible-click\n    >\n      reset colors\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="invertColors">\n      Reverse Color Schema\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="invertColors" type="checkbox" ng-model="vis.params.invertColors">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="axisScale">\n      Color Scale\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="axisScale"\n        class="kuiSelect kuiSideBarSelect"\n        ng-model="vis.params.valueAxes[0].scale.type"\n        ng-options="mode for mode in collections.scales"\n      ></select>\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="defaultYExtents">\n      Scale to Data Bounds\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="defaultYExtents" type="checkbox" ng-model="vis.params.valueAxes[0].scale.defaultYExtents">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow" ng-if="!vis.params.setColorRange">\n    <label class="kuiSideBarFormRow__label" for="percentageMode">\n      Percentage Mode\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="percentageMode" type="checkbox" ng-model="vis.params.percentageMode">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow" ng-if="!vis.params.setColorRange">\n    <label class="kuiSideBarFormRow__label" for="colorsNumber">\n      Number of colors\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input\n        id="colorsNumber"\n        class="kuiSideBarInput"\n        ng-model="vis.params.colorsNumber"\n        type="number"\n        greater-than="1"\n        less-than="11"\n      >\n    </div>\n  </div>\n\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="toggleColorRangeSection()"\n        kbn-accessible-click\n        aria-expanded="{{!!showColorRange}}"\n        aria-controls="heatmapOptionsRanges"\n        aria-label="Toggle custom ranges options"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{ \'fa-caret-down\': showColorRange, \'fa-caret-right\': !showColorRange }"\n          class="kuiIcon fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          Custom Ranges\n        </span>\n      </div>\n      <input\n        aria-label="Enable custom ranges"\n        ng-model="vis.params.setColorRange"\n        type="checkbox"\n        class="kuiSideBarSectionTitle__action"\n        ng-click="toggleColorRangeSection(true)"\n        kbn-accessible-click\n      >\n    </div>\n\n    <div\n      id="heatmapOptionsRanges"\n      ng-if="vis.params.setColorRange"\n      ng-show="showColorRange"\n      class="kuiSideBarCollapsibleSection"\n    >\n      <div class="kuiSideBarSection">\n        <table class="vis-editor-agg-editor-ranges form-group" ng-show="vis.params.colorsRange.length">\n          <tr>\n            <th scope="col">\n              <label id="heatmapCustomRangeFrom">From</label>\n            </th>\n            <th scope="col" colspan="2">\n              <label id="heatmapCustomRangeTo">To</label>\n            </th>\n          </tr>\n\n          <tr ng-repeat="range in vis.params.colorsRange track by $index">\n            <td>\n              <input\n                aria-labelledby="heatmapCustomRangeFrom"\n                ng-model="range.from"\n                type="number"\n                class="form-control"\n                name="range.from"\n                greater-or-equal-than="{{getGreaterThan($index)}}"\n                step="any" />\n            </td>\n            <td>\n              <input\n                aria-labelledby="heatmapCustomRangeTo"\n                ng-model="range.to"\n                type="number"\n                class="form-control"\n                name="range.to"\n                greater-than="range.from"\n                step="any" />\n            </td>\n            <td>\n              <button\n                type="button"\n                ng-click="removeRange($index)"\n                class="kuiButton kuiButton--danger kuiButton--small"\n              >\n                <span class="kuiIcon fa-times"></span>\n              </button>\n            </td>\n          </tr>\n        </table>\n\n        <div class="hintbox" ng-show="!vis.params.colorsRange.length">\n          <p>\n            <span class="kuiIcon fa-danger text-danger"></span>\n            <strong>Required:</strong> You must specify at least one range.\n          </p>\n        </div>\n\n        <button\n          ng-click="addRange()"\n          class="kuiButton kuiButton--primary kuiButton--fullWidth"\n        >\n          Add Range\n        </button>\n        <div class="euiSpacer euiSpacer--s"></div>\n        <div class="text text-center text-info">Note: colors can be changed in the legend</div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="toggleLabelSection()"\n        kbn-accessible-click\n        aria-expanded="{{!!showLabels}}"\n        aria-controls="heatmapOptionsLabels"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{\n          \'fa-caret-down\': showLabels,\n          \'fa-caret-right\': !showLabels\n          }"\n          class="kuiIcon fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          Show Labels\n        </span>\n      </div>\n      <input\n        aria-label="Show labels"\n        ng-model="vis.params.valueAxes[0].labels.show"\n        type="checkbox"\n        class="kuiSideBarSectionTitle__action"\n      >\n    </div>\n    <div\n      id="heatmapOptionsLabels"\n      ng-if="vis.params.valueAxes[0].labels.show"\n      ng-show="showLabels"\n      class="kuiSideBarCollapsibleSection"\n    >\n      <div class="kuiSideBarSection">\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="rotateLabels">\n            Rotate\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="rotateLabels" type="checkbox" ng-model="options.rotateLabels">\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="overwriteColor">\n            Overwrite automatic color\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="overwriteColor" type="checkbox" ng-model="vis.params.valueAxes[0].labels.overwriteColor">\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow" ng-show="vis.params.valueAxes[0].labels.overwriteColor">\n          <label class="kuiSideBarFormRow__label" for="labelColor">\n            Color\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input\n              id="labelColor"\n              class="kuiSideBarInput"\n              ng-model="vis.params.valueAxes[0].labels.color"\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _modules=__webpack_require__(2),_gauge_options=__webpack_require__(3714),_gauge_options2=_interopRequireDefault(_gauge_options),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);_modules.uiModules.get("kibana").directive("gaugeOptions",function(){return{restrict:"E",template:_gauge_options2.default,replace:!0,link:function($scope){$scope.collections=$scope.vis.type.editorConfig.collections,$scope.showColorRange=!0,$scope.$watch("vis.params.gauge.gaugeType",function(type){switch(type){case"Arc":$scope.vis.params.gauge.type="meter",$scope.vis.params.gauge.minAngle=void 0,$scope.vis.params.gauge.maxAngle=void 0;break;case"Circle":$scope.vis.params.gauge.type="meter",$scope.vis.params.gauge.minAngle=0,$scope.vis.params.gauge.maxAngle=2*Math.PI;break;case"Metric":$scope.vis.params.gauge.type="simple"}});var updateLegend=function(){$scope.vis.params.gauge.style.bgColor||$scope.vis.params.gauge.style.labelColor?$scope.vis.params.addLegend=!0:$scope.vis.params.addLegend=!1};$scope.$watch("vis.params.gauge.gaugeColorMode",function(newValue){switch(newValue){case"Labels":$scope.vis.params.gauge.style.labelColor=!0,$scope.vis.params.gauge.style.bgColor=!1;break;case"Background":$scope.vis.params.gauge.style.labelColor=!1,$scope.vis.params.gauge.style.bgColor=!0;break;case"None":$scope.vis.params.gauge.style.labelColor=!1,$scope.vis.params.gauge.style.bgColor=!1}updateLegend()}),$scope.resetColors=function(){$scope.uiState.set("vis.colors",null),$scope.customColors=!1},$scope.getGreaterThan=function(index){return 0===index?0:$scope.vis.params.gauge.colorsRange[index-1].to},$scope.addRange=function(){var previousRange=_lodash2.default.last($scope.vis.params.gauge.colorsRange),from=previousRange?previousRange.to:0,to=previousRange?from+(previousRange.to-previousRange.from):100;$scope.vis.params.gauge.colorsRange.push({from:from,to:to})},$scope.removeRange=function(index){$scope.vis.params.gauge.colorsRange.splice(index,1)},$scope.getColor=function(index){var defaultColors=this.uiState.get("vis.defaultColors"),overwriteColors=this.uiState.get("vis.colors"),colors=defaultColors?_lodash2.default.defaults({},overwriteColors,defaultColors):overwriteColors;return colors?Object.values(colors)[index]:"transparent"},$scope.uiState.on("colorChanged",function(){$scope.customColors=!0})}}})},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="gaugeType">\n      Gauge Type\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="gaugeType"\n        class="kuiSelect kuiSideBarSelect"\n        ng-model="vis.params.gauge.gaugeType"\n        ng-options="mode for mode in collections.gaugeTypes"\n      ></select>\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="percentageMode">\n      Percentage Mode\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="percentageMode" type="checkbox" ng-model="vis.params.gauge.percentageMode">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow" ng-hide="vis.params.gauge.type === \'simple\'">\n    <label class="kuiSideBarFormRow__label" for="verticalSplit">\n      Vertical Split\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="verticalSplit" type="checkbox" ng-model="vis.params.gauge.verticalSplit">&nbsp;\n      <icon-tip\n        content="\'Shows gauges one under another\'"\n        position="\'right\'"\n      ></icon-tip>\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="displayWarnings">\n      Display warnings\n    </label>\n\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="displayWarnings" type="checkbox" ng-model="vis.params.isDisplayWarning">\n      &nbsp;\n      <icon-tip\n        content="\'Turns on/off warnings. When turned on, a warning will be shown if not all labels could be displayed.\'"\n        position="\'right\'"\n      ></icon-tip>\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="addLegend">\n      Show Legend\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="addLegend" type="checkbox" ng-model="vis.params.addLegend">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="showLabels">\n      Show Labels\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="showLabels" type="checkbox" ng-model="vis.params.gauge.labels.show">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow" ng-show="vis.params.gauge.labels.show">\n    <label class="kuiSideBarFormRow__label" for="subText">\n      Sub Text\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input\n        id="subText"\n        class="kuiInput kuiSideBarInput"\n        ng-model="vis.params.gauge.style.subText"\n        type="text"\n      >\n    </div>\n  </div>\n\n  <div\n    class="kuiSideBarFormRow"\n    ng-hide="vis.params.gauge.type === \'simple\'"\n    ng-show="vis.params.gauge.colorsRange.length > 1"\n  >\n    <label class="kuiSideBarFormRow__label" for="extendRange">\n      Auto Extend Range\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="extendRange" type="checkbox" ng-model="vis.params.gauge.extendRange">\n      &nbsp;\n      <icon-tip\n        content="\'Extends range to the maximum value in your data\'"\n        position="\'right\'"\n      ></icon-tip>\n    </div>\n  </div>\n\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showColorRange}}"\n        aria-controls="gaugeOptionsRanges"\n        aria-label="Toggle range options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showColorRange = !showColorRange"\n      >\n      <span\n        aria-hidden="true"\n        ng-class="{ \'fa-caret-down\': showColorRange, \'fa-caret-right\': !showColorRange }"\n        class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n      ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n        Ranges\n      </span>\n      </div>\n    </div>\n\n    <div id="gaugeOptionsRanges" ng-show="showColorRange" class="kuiSideBarCollapsibleSection">\n      <div class="kuiSideBarSection">\n        <table class="vis-editor-agg-editor-ranges form-group" ng-show="vis.params.gauge.colorsRange.length">\n          <tr>\n            <th scope="col">\n              <label id="gaugeOptionsCustomRangeFrom">From</label>\n            </th>\n            <th scope="col" colspan="2">\n              <label id="gaugeOptionsCustomRangeTo">To</label>\n            </th>\n          </tr>\n\n          <tr ng-repeat="range in vis.params.gauge.colorsRange track by $index">\n            <td>\n              <input\n                aria-labelledby="gaugeOptionsCustomRangeFrom"\n                ng-model="range.from"\n                type="number"\n                class="form-control"\n                name="range.from"\n                greater-or-equal-than="{{getGreaterThan($index)}}"\n                required\n                step="any" />\n            </td>\n            <td>\n              <input\n                aria-labelledby="gaugeOptionsCustomRangeTo"\n                ng-model="range.to"\n                type="number"\n                class="form-control"\n                name="range.to"\n                greater-or-equal-than="{{range.from}}"\n                required\n                step="any" />\n            </td>\n            <td>\n              <button\n                type="button"\n                ng-click="removeRange($index)"\n                ng-show="vis.params.gauge.colorsRange.length > 1"\n                class="kuiButton kuiButton--danger kuiButton--small">\n                <i class="fa fa-times"></i>\n              </button>\n            </td>\n          </tr>\n        </table>\n\n        <div class="hintbox" ng-show="!vis.params.gauge.colorsRange.length">\n          <p>\n            <i class="fa fa-danger text-danger"></i>\n            <strong>Required:</strong> You must specify at least one range.\n          </p>\n        </div>\n\n        <div\n          ng-click="addRange()"\n          class="kuiButton kuiButton--primary kuiButton--fullWidth">\n          Add Range\n        </div>\n        <div class="euiSpacer euiSpacer--s"></div>\n        <div class="text text-center text-info">Note: colors can be changed in the legend</div>\n      </div>\n    </div>\n  </div>\n  <div ng-show="vis.params.gauge.colorsRange.length > 1">\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showColorOptions}}"\n        aria-controls="gaugeOptionsColors"\n        aria-label="Toggle color options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showColorOptions = !showColorOptions"\n      >\n      <span\n        aria-hidden="true"\n        ng-class="{\n        \'fa-caret-down\': showColorOptions,\n        \'fa-caret-right\': !showColorOptions\n        }"\n        class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n      ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n        Color Options\n      </span>\n      </div>\n    </div>\n    <div id="gaugeOptionsColors" ng-if="showColorOptions" class="kuiSideBarCollapsibleSection">\n      <div class="kuiSideBarSection">\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="colorSchema">\n            Color Schema\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="colorSchema"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="vis.params.gauge.colorSchema"\n              ng-options="mode for mode in collections.colorSchemas"\n            ></select>\n          </div>\n          <div class="text-info text-center" ng-show="customColors" ng-click="resetColors()">reset colors</div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="invertColors">\n            Reverse Color Schema\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="invertColors" type="checkbox" ng-model="vis.params.gauge.invertColors">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showStyle}}"\n        aria-controls="gaugeOptionsStyle"\n        aria-label="Toggle style options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showStyle = !showStyle"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{\n          \'fa-caret-down\': showStyle,\n          \'fa-caret-right\': !showStyle\n          }"\n          class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          Style\n        </span>\n      </div>\n    </div>\n    <div id="gaugeOptionsStyle" ng-if="showStyle" class="kuiSideBarCollapsibleSection">\n\n      <div class="kuiSideBarSection">\n        <div ng-hide="vis.params.gauge.type === \'simple\'">\n          <div class="kuiSideBarFormRow" ng-show="vis.params.gauge.colorsRange.length > 1">\n            <label class="kuiSideBarFormRow__label" for="labelColor">\n              Color Labels\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input class="kuiCheckBox" id="labelColor" type="checkbox" ng-model="vis.params.gauge.style.labelColor">\n            </div>\n          </div>\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="showScale">\n              Show Scale\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input class="kuiCheckBox" id="showScale" type="checkbox" ng-model="vis.params.gauge.scale.show">\n            </div>\n          </div>\n        </div>\n        <div ng-show="vis.params.gauge.type === \'simple\'">\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="gaugeColorMode">\n              Color\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <select\n                id="gaugeColorMode"\n                class="kuiSelect kuiSideBarSelect"\n                ng-model="vis.params.gauge.gaugeColorMode"\n                ng-options="mode for mode in collections.gaugeColorMode"\n              ></select>\n            </div>\n          </div>\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="backColor">\n              Back/Text Color\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input\n                id="backTextColor"\n                class="kuiInput kuiSideBarInput"\n                ng-model="vis.params.gauge.style.bgFill"\n              >\n            </div>\n          </div>\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="showScale">\n              Font Size (<span ng-bind="vis.params.gauge.style.fontSize"></span>pt)\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input type="range" ng-model="vis.params.gauge.style.fontSize" class="form-control" min="12" max="120" />\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(3716),__webpack_require__(3718),__webpack_require__(3720),__webpack_require__(3722)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_value_axes=__webpack_require__(3717),_value_axes2=_interopRequireDefault(_value_axes);_modules.uiModules.get("kibana").directive("vislibValueAxes",function(){return{restrict:"E",template:_value_axes2.default,replace:!0,link:function($scope){function mapPosition(position){switch(position){case"bottom":return"left";case"top":return"right";case"left":return"bottom";case"right":return"top"}}function mapPositionOposite(position){switch(position){case"bottom":return"top";case"top":return"bottom";case"left":return"right";case"right":return"left"}}var isCategoryAxisHorizontal=!0;$scope.rotateOptions=[{name:"horizontal",value:0},{name:"vertical",value:90},{name:"angled",value:75}],$scope.$watch("vis.params.categoryAxes[0].position",function(position){isCategoryAxisHorizontal=["top","bottom"].includes(position),$scope.vis.params.valueAxes.forEach(function(axis){["top","bottom"].includes(axis.position)===isCategoryAxisHorizontal&&(axis.position=mapPosition(axis.position),$scope.updateAxisName(axis))})}),$scope.getSeries=function(axis){var isFirst=$scope.vis.params.valueAxes[0]===axis;return $scope.vis.params.seriesParams.filter(function(series){return series.valueAxis===axis.id||isFirst&&!series.valueAxis}).map(function(series){return series.data.label}).join(", ")},$scope.getSeriesShort=function(axis){return $scope.getSeries(axis).substring(0,30)},$scope.isPositionDisabled=function(position){return isCategoryAxisHorizontal?["top","bottom"].includes(position):["left","right"].includes(position)},$scope.addValueAxis=function(){var firstAxis=$scope.vis.params.valueAxes[0],newAxis=_lodash2.default.cloneDeep(firstAxis);newAxis.id="ValueAxis-"+$scope.vis.params.valueAxes.reduce(function(value,axis){if("ValueAxis-"===axis.id.substr(0,10)){var num=parseInt(axis.id.substr(10));num>=value&&(value=num+1)}return value},1),newAxis.position=mapPositionOposite(firstAxis.position);var axisName=_lodash2.default.capitalize(newAxis.position)+"Axis-";return newAxis.name=axisName+$scope.vis.params.valueAxes.reduce(function(value,axis){if(axis.name.substr(0,axisName.length)===axisName){var num=parseInt(axis.name.substr(axisName.length));num>=value&&(value=num+1)}return value},1),$scope.vis.params.valueAxes.push(newAxis),newAxis},$scope.removeValueAxis=function(axis){$scope.vis.params.valueAxes.length>1&&_lodash2.default.remove($scope.vis.params.valueAxes,function(valAxis){return valAxis.id===axis.id})},$scope.updateExtents=function(axis){axis.scale.setYExtents||(delete axis.scale.min,delete axis.scale.max)},$scope.updateAxisName=function(axis){var axisName=_lodash2.default.capitalize(axis.position)+"Axis-";axis.name=axisName+$scope.vis.params.valueAxes.reduce(function(value,axis){if(axis.name.substr(0,axisName.length)===axisName){var num=parseInt(axis.name.substr(axisName.length));num>=value&&(value=num+1)}return value},1)};var lastAxisTitles={};$scope.updateAxisTitle=function(){$scope.vis.params.valueAxes.forEach(function(axis,axisNumber){var label="",isFirst=0===axisNumber,matchingSeries=[];$scope.vis.params.seriesParams.forEach(function(series,i){if(isFirst&&!series.valueAxis||series.valueAxis===axis.id){var seriesNumber=0;$scope.vis.getAggConfig().forEach(function(agg){"metric"===agg.schema.name&&(seriesNumber===i&&matchingSeries.push(agg),seriesNumber++)})}}),1===matchingSeries.length&&(label=matchingSeries[0].makeLabel()),lastAxisTitles[axis.id]!==label&&""!==label&&(lastAxisTitles[axis.id]=label,axis.title.text=label)})},$scope.$watch(function(){return $scope.vis.getAggConfig().map(function(agg){return agg.makeLabel()}).join()},function(){$scope.updateAxisTitle()})}}})},function(module,exports){module.exports='<div class="kuiSideBarSection kuiSideBarSection__main">\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">\n      Y-Axes\n    </div>\n\n    <button\n      data-test-subj="visualizeAddYAxisButton"\n      aria-label="Add Y axis"\n      ng-click="addValueAxis()"\n      tooltip="Add Y axis"\n      tooltip-append-to-body="true"\n      type="button"\n      class="kuiIcon fa-plus kuiSideBarSectionTitle__action"\n    ></button>\n  </div>\n\n  <div\n    ng-repeat="axis in vis.params.valueAxes track by axis.id"\n    class="kuiSideBarSection"\n  >\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="isValueAxisOpen = !isValueAxisOpen"\n        kbn-accessible-click\n        aria-expanded="{{!!isValueAxisOpen}}"\n        aria-controls="axisOptions{{axis.id}}"\n        aria-label="Toggle {{axis.name}} options"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{ \'fa-caret-down\': isValueAxisOpen, \'fa-caret-right\': !isValueAxisOpen }"\n          class="kuiIcon fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          {{axis.name}}\n        </span>\n      </div>\n\n      <div tooltip="{{getSeries(axis)}}">{{getSeriesShort(axis)}}</div>\n\n      <button\n        ng-hide="vis.params.valueAxes.length === 1"\n        aria-label="Remove Y axis"\n        ng-click="removeValueAxis(axis)"\n        tooltip="Remove Y axis"\n        tooltip-append-to-body="true"\n        type="button"\n        class="kuiIcon fa-remove kuiSideBarCollapsibleTitle__action"\n      ></button>\n    </div>\n\n    <div id="axisOptions{{axis.id}}" ng-show="isValueAxisOpen" class="kuiSideBarCollapsibleSection">\n      \x3c!-- General --\x3e\n      <div class="kuiSideBarSection">\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{ \'valueAxisShow\' + $index }">\n            Show\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="{ \'valueAxisShow\' + $index }" type="checkbox" ng-model="axis.show">\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisTitle\' + $index }}">\n            Title\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input\n              id="{{ \'valueAxisTitle\' + $index }}"\n              class="kuiInput kuiSideBarInput"\n              type="text"\n              ng-model="axis.title.text"\n            >\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisPosition\' + $index }}">\n            Position\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'valueAxisPosition\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-change="updateAxisName(axis)"\n              ng-model="axis.position"\n              ng-options="mode disable when isPositionDisabled(mode) for mode in vis.type.editorConfig.collections.positions"\n            ></select>\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisMode\' + $index }}">\n            Mode\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'valueAxisMode\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="axis.scale.mode"\n              ng-options="mode for mode in vis.type.editorConfig.collections.axisModes"\n            ></select>\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisScaleType\' + $index }}">\n            Scale Type\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'valueAxisScaleType\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="axis.scale.type"\n              ng-options="type for type in vis.type.editorConfig.collections.scaleTypes"\n            ></select>\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Advanced options --\x3e\n      <div class="kuiSideBarSection">\n        <a\n          class="kuiSideBarOptionsLink"\n          ng-click="isValueAxisAdvancedOptionsOpen = !isValueAxisAdvancedOptionsOpen"\n          kbn-accessible-click\n        >\n          <span\n            aria-hidden="true"\n            ng-class="{ \'fa-caret-down\': isValueAxisAdvancedOptionsOpen, \'fa-caret-right\': !isValueAxisAdvancedOptionsOpen }"\n            class="kuiIcon fa-caret-right kuiSideBarOptionsLink__caret"\n          ></span>\n          <span class="kuiSideBarOptionsLink__text">\n            <span ng-show="!isValueAxisAdvancedOptionsOpen">\n              Show\n            </span>\n            <span ng-show="isValueAxisAdvancedOptionsOpen">\n              Hide\n            </span>\n            Advanced Options\n          </span>\n        </a>\n\n        <div ng-show="isValueAxisAdvancedOptionsOpen">\n\n          \x3c!-- Labels --\x3e\n          <div class="kuiSideBarSection">\n            <h6 class="kuiSideBarFormSectionTitle">\n              Labels\n            </h6>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisShowLabels\' + $index }}">\n                Show Labels\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <input class="kuiCheckBox" id="{{ \'valueAxisShowLabels\' + $index }}" type="checkbox" ng-model="axis.labels.show">\n              </div>\n            </div>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisFilterLabels\' + $index }}">\n                Filter Labels\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <input class="kuiCheckBox" id="{{ \'valueAxisFilterLabels\' + $index }}" type="checkbox" ng-model="axis.labels.filter">\n              </div>\n            </div>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisRotateLabels\' + $index }}">\n                Rotate\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <select\n                  id="{{ \'valueAxisRotateLabels\' + $index }}"\n                  class="kuiSelect kuiSideBarSelect"\n                  ng-model="axis.labels.rotate"\n                  ng-options="mode.value as mode.name for mode in rotateOptions"\n                ></select>\n              </div>\n            </div>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{{ \'valueAxisTruncateLabels\' + $index }}">\n                Truncate\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <input\n                  id="{{ \'valueAxisTruncateLabels\' + $index }}"\n                  class="kuiInput kuiSideBarInput"\n                  type="number"\n                  ng-model="axis.labels.truncate"\n                >\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- Custom Extents --\x3e\n          <div class="kuiSideBarSection">\n            <h6 class="kuiSideBarFormSectionTitle">\n              Custom Extents\n            </h6>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{ \'defaultYExtents\' + $index }">\n                Scale to Data Bounds\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <input class="kuiCheckBox" id="{ \'defaultYExtents\' + $index }" type="checkbox" ng-model="axis.scale.defaultYExtents">\n              </div>\n            </div>\n\n            <div class="kuiSideBarFormRow">\n              <label class="kuiSideBarFormRow__label" for="{ \'setYExtents\' + $index }">\n                Set Axis Extents\n              </label>\n              <div class="kuiSideBarFormRow__control">\n                <input class="kuiCheckBox" id="{ \'setYExtents\' + $index }" type="checkbox" ng-model="axis.scale.setYExtents" ng-change="updateExtents(axis)">\n              </div>\n            </div>\n\n            <div ng-if="axis.scale.setYExtents">\n              <div class="kuiSideBarFormRow">\n                <label class="kuiSideBarFormRow__label">\n                  Max\n                </label>\n                <div class="kuiSideBarFormRow__control">\n                  <input\n                    name="yMax"\n                    class="kuiInput kuiSideBarInput"\n                    type="number"\n                    step="0.1"\n                    ng-model="axis.scale.max"\n                  >\n                </div>\n              </div>\n\n              <div class="kuiSideBarFormRow">\n                <label class="kuiSideBarFormRow__label">\n                  Min\n                </label>\n                <div class="kuiSideBarFormRow__control">\n                  <input\n                    name="yMin"\n                    class="kuiInput kuiSideBarInput"\n                    type="number"\n                    step="0.1"\n                    greater-than="{{axis.scale.type === \'log\' ? 0 : \'\'}}"\n                    ng-model="axis.scale.min"\n                  >\n                </div>\n              </div>\n              <div ng-show="axis.scale.type === \'log\' && axis.scale.min <= 0">\n                <span class="text-danger">Min must exceed 0 when a log scale is selected</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div style="height: 10px"></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_category_axis=__webpack_require__(3719),_category_axis2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_category_axis);_modules.uiModules.get("kibana").directive("vislibCategoryAxis",function(){return{restrict:"E",template:_category_axis2.default,replace:!0,link:function($scope){$scope.rotateOptions=[{name:"horizontal",value:0},{name:"vertical",value:90},{name:"angled",value:75}]}}})},function(module,exports){module.exports='<div class="kuiSideBarSection kuiSideBarSection__main">\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">\n      X-Axis\n    </div>\n  </div>\n\n  \x3c!-- General --\x3e\n  <div class="kuiSideBarSection">\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="categoryAxisShow">\n        Show\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="categoryAxisShow" type="checkbox" ng-model="vis.params.categoryAxes[0].show">\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="categoryAxisPosition">\n        Position\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <select\n          id="categoryAxisPosition"\n          class="kuiSelect kuiSideBarSelect"\n          ng-model="vis.params.categoryAxes[0].position"\n          ng-options="mode for mode in vis.type.editorConfig.collections.positions"\n        ></select>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Advanced options --\x3e\n  <div class="kuiSideBarSection">\n    <a\n      class="kuiSideBarOptionsLink"\n      ng-click="isCategoryAxisAdvancedOptionsOpen = !isCategoryAxisAdvancedOptionsOpen"\n      kbn-accessible-click\n    >\n      <span\n        aria-hidden="true"\n        ng-class="{ \'fa-caret-down\': isCategoryAxisAdvancedOptionsOpen, \'fa-caret-right\': !isCategoryAxisAdvancedOptionsOpen }"\n        class="kuiIcon fa-caret-right kuiSideBarOptionsLink__caret"\n      ></span>\n      <span class="kuiSideBarOptionsLink__text">\n        <span ng-show="!isCategoryAxisAdvancedOptionsOpen">\n          Show\n        </span>\n        <span ng-show="isCategoryAxisAdvancedOptionsOpen">\n          Hide\n        </span>\n        Advanced Options\n      </span>\n    </a>\n\n    <div ng-show="isCategoryAxisAdvancedOptionsOpen">\n      \x3c!-- Labels --\x3e\n      <div class="kuiSideBarSection">\n        <h6 class="kuiSideBarFormSectionTitle">\n          Labels\n        </h6>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="categoryAxisShowLabels">\n            Show Labels\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="categoryAxisShowLabels" type="checkbox" ng-model="vis.params.categoryAxes[0].labels.show">\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="categoryAxisShowFilter">\n            Filter Labels\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="categoryAxisShowFilter" type="checkbox" ng-model="vis.params.categoryAxes[0].labels.filter">\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="categoryAxisSotateLabels">\n            Rotate\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="categoryAxisSotateLabels"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="vis.params.categoryAxes[0].labels.rotate"\n              ng-options="mode.value as mode.name for mode in rotateOptions"\n            ></select>\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="categoryAxisSruncateLabels">\n            Truncate\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input\n              id="categoryAxisSruncateLabels"\n              class="kuiInput kuiSideBarInput"\n              type="number"\n              ng-model="vis.params.categoryAxes[0].labels.truncate"\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_series=__webpack_require__(3721),_series2=_interopRequireDefault(_series);_modules.uiModules.get("kibana").directive("vislibSeries",function(){return{restrict:"E",template:_series2.default,replace:!0,link:function($scope){function makeSerie(id,label){var last=$scope.series[$scope.series.length-1];return{show:!0,mode:last?last.mode:"normal",type:last?last.type:"line",drawLinesBetweenPoints:!last||last.drawLinesBetweenPoints,showCircles:!last||last.showCircles,interpolate:last?last.interpolate:"linear",lineWidth:last?last.lineWidth:2,data:{id:id,label:label},valueAxis:last?last.valueAxis:$scope.vis.params.valueAxes[0].id}}$scope.series=$scope.vis.params.seriesParams,$scope.$watch(function(){return $scope.vis.aggs.map(function(agg){return agg.makeLabel()}).join()},function(){var schemaTitle=$scope.vis.type.schemas.metrics[0].title,metrics=$scope.vis.aggs.filter(function(agg){return agg.type&&"metrics"===agg.type.type&&agg.schema.title===schemaTitle});$scope.vis.params.seriesParams=metrics.map(function(agg){var params=$scope.vis.params.seriesParams.find(function(param){return param.data.id===agg.id});return params?(params.data.label=agg.makeLabel(),params):makeSerie(agg.id,agg.makeLabel())})}),$scope.$watch(function(){return $scope.vis.params.seriesParams.map(function(series){return series.type}).join()},function(){var types=_lodash2.default.uniq(_lodash2.default.map($scope.vis.params.seriesParams,"type"));$scope.vis.type.type=1===types.length?types[0]:"histogram"}),$scope.$watch("vis.params.valueAxes.length",function(){$scope.vis.params.seriesParams.forEach(function(series){$scope.vis.params.valueAxes.find(function(axis){return axis.id===series.valueAxis})||(series.valueAxis=$scope.vis.params.valueAxes[0].id)})}),$scope.changeValueAxis=function(index){var series=$scope.vis.params.seriesParams[index];if("new"===series.valueAxis){var axis=$scope.addValueAxis();series.valueAxis=axis.id}$scope.updateAxisTitle()}}}})},function(module,exports){module.exports='<div class="kuiSideBarSection kuiSideBarSection__main">\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">\n      Metrics\n    </div>\n  </div>\n\n  <div\n    ng-repeat="chart in vis.params.seriesParams track by $index"\n    class="kuiSideBarSection"\n  >\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        ng-init="isSeriesOpen = ($index === 0)"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="isSeriesOpen = !isSeriesOpen"\n        kbn-accessible-click\n        aria-expanded="{{!!isSeriesOpen}}"\n        aria-controls="visSeriesOptions{{$index}}"\n        aria-label="Toggle {{chart.data.label}} options"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{ \'fa-caret-down\': isSeriesOpen, \'fa-caret-right\': !isSeriesOpen }"\n          class="kuiIcon fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          {{chart.data.label}}\n        </span>\n      </div>\n    </div>\n\n    <div id="visSeriesOptions{{$index}}" ng-show="isSeriesOpen" class="kuiSideBarCollapsibleSection">\n      \x3c!-- General --\x3e\n      <div class="kuiSideBarSection">\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'seriesType\' + $index }}">\n            Chart Type\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'seriesType\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="chart.type"\n              ng-options="mode.value as mode.text for mode in vis.type.editorConfig.collections.chartTypes"\n            ></select>\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'seriesMode\' + $index }}">\n            Mode\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'seriesMode\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="chart.mode"\n              ng-options="mode for mode in vis.type.editorConfig.collections.chartModes"\n            ></select>\n          </div>\n        </div>\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="{{ \'seriesValueAxis\' + $index }}">\n            Value Axis\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="{{ \'seriesValueAxis\' + $index }}"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="chart.valueAxis"\n              ng-change="changeValueAxis($index)"\n            >\n              <option ng-repeat="axis in vis.params.valueAxes track by axis.id" value="{{axis.id}}">{{axis.name}}</option>\n              <option value="new">New Axis ...</option>\n            </select>\n          </div>\n        </div>\n\n        <div ng-show="chart.type == \'line\' || chart.type == \'area\'">\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="{{ \'lineMode\' + $index }}">\n              Line Mode\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <select\n                id="{{ \'lineMode\' + $index }}"\n                class="kuiSelect kuiSideBarSelect"\n                ng-model="chart.interpolate"\n                ng-options="mode.value as mode.text for mode in vis.type.editorConfig.collections.interpolationModes"\n              >\n              </select>\n            </div>\n          </div>\n        </div>\n        <div ng-show="chart.type == \'line\'">\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="{{ \'drawLines\' + $index }}">\n              Show Line\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input class="kuiCheckBox" id="{{ \'drawLines\' + $index }}" type="checkbox" ng-model="chart.drawLinesBetweenPoints">\n            </div>\n          </div>\n\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label" for="{{ \'showCircles\' + $index }}">\n              Show Circles\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input class="kuiCheckBox" id="{{ \'showCircles\' + $index }}" type="checkbox" ng-model="chart.showCircles">\n            </div>\n          </div>\n\n          <div class="kuiSideBarFormRow">\n            <label class="kuiSideBarFormRow__label">\n              Line Width\n            </label>\n            <div class="kuiSideBarFormRow__control">\n              <input name="lineWidth"\n                     class="kuiInput kuiSideBarInput"\n                     type="number"\n                     step="0.5"\n                     ng-model="chart.lineWidth"\n              >\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div style="height: 10px"></div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_grid=__webpack_require__(3723),_grid2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_grid);_modules.uiModules.get("kibana").directive("vislibGrid",function(){return{restrict:"E",template:_grid2.default,replace:!0,link:function($scope){$scope.isGridOpen=!0}}})},function(module,exports){module.exports='<div>\n  <div class="kuiSideBarCollapsibleTitle">\n    <div\n      class="kuiSideBarCollapsibleTitle__label"\n      ng-click="isGridOpen = !isGridOpen"\n      kbn-accessible-click\n      aria-expanded="{{!!isGridOpen}}"\n      aria-controls="visGridOptions"\n      aria-label="Toggle grid options"\n    >\n      <span\n        aria-hidden="true"\n        ng-class="{ \'fa-caret-down\': isGridOpen, \'fa-caret-right\': !isGridOpen }"\n        class="kuiIcon fa-caret-right kuiSideBarCollapsibleTitle__caret"\n      ></span>\n      <span class="kuiSideBarCollapsibleTitle__text">\n        Grid\n      </span>\n    </div>\n  </div>\n\n  <div id="visGridOptions" ng-show="isGridOpen" class="kuiSideBarCollapsibleSection">\n    \x3c!-- General --\x3e\n    <div class="kuiSideBarSection">\n      <div class="kuiSideBarFormRow">\n        <label class="kuiSideBarFormRow__label" for="showCategoryLines">\n          X-Axis Lines\n        </label>\n        <div class="kuiSideBarFormRow__control">\n          <input class="kuiCheckBox" id="showCategoryLines" type="checkbox" ng-model="vis.params.grid.categoryLines">\n        </div>\n      </div>\n\n      <div class="kuiSideBarFormRow">\n        <label class="kuiSideBarFormRow__label" for="gridAxis">\n          Y-Axis Lines\n        </label>\n        <div class="kuiSideBarFormRow__control">\n          <select\n            id="gridAxis"\n            class="kuiSelect kuiSideBarSelect"\n            ng-model="vis.params.grid.valueAxis"\n            ng-options="axis.id as axis.name for axis in vis.params.valueAxes track by axis.id"\n          >\n            <option value="">Don\'t show</option>\n          </select>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n'},function(module,exports){module.exports='<div class="legend-col-wrapper" ng-if="labels.length">\n  <button\n    type="button"\n    ng-click="toggleLegend()"\n    class="kuiCollapseButton legend-collapse-button"\n    aria-label="Toggle legend"\n    aria-expanded="{{!!open}}"\n    aria-controls="{{::legendId}}"\n  >\n    <span class="kuiIcon {{getToggleLegendClasses()}}"></span>\n  </button>\n  <ul class="legend-ul" ng-show="open" id="{{::legendId}}">\n\n    <li\n      ng-repeat="legendData in labels track by legendData.label"\n      ng-mouseenter="highlight($event)"\n      ng-mouseleave="unhighlight($event)"\n      data-label="{{legendData.label}}"\n      class="legend-value color"\n    >\n\n      <div class="legend-value-container" ng-keydown="onLegendEntryKeydown($event, this)">\n        <div\n          kbn-accessible-click\n          data-label="{{legendData.label}}"\n          ng-focus="highlight($event)"\n          ng-blur="unhighlight($event)"\n          ng-click="showDetails = !showDetails"\n          ng-class="showDetails ? \'legend-value-full\' : \'legend-value-truncate\'"\n          class="legend-value-title"\n          tooltip="{{legendData.label}}"\n          tooltip-animation="false"\n          aria-label="{{legendData.label}}, toggle options"\n          data-test-subj="legend-{{legendData.label}}"\n        >\n          <i\n            class="fa fa-circle"\n            ng-style="{color: getColor(legendData.label)}"\n            data-test-subj="legendSelectedColor-{{getColor(legendData.label)}}"\n          ></i>\n          {{legendData.label}}\n        </div>\n\n        <div ng-if="showDetails" class="legend-value-details">\n          <div\n            class="kuiButtonGroup kuiButtonGroup--united kuiButtonGroup--fullWidth"\n            ng-show="canFilter(legendData)"\n          >\n            <button\n              class="kuiButton kuiButton--basic kuiButton--small"\n              ng-click="filter(legendData, false)"\n              aria-label="Filter for value {{legendData.label}}"\n            >\n              <span class="kuiIcon fa-search-plus"></span>\n            </button>\n\n            <button\n              class="kuiButton kuiButton--basic kuiButton--small"\n              ng-click="filter(legendData, true)"\n              aria-label="Filter out value {{legendData.label}}"\n            >\n              <span class="kuiIcon fa-search-minus"></span>\n            </button>\n          </div>\n\n          <div class="legend-value-color-picker" role="listbox">\n            <span\n              id="{{legendId}}ColorPickerDesc"\n              class="kuiScreenReaderOnly"\n            >\n              Set color for value {{legendData.label}}\n            </span>\n            <i\n              ng-repeat="choice in colors"\n              kbn-accessible-click\n              role="option"\n              aria-label="{{choice}}"\n              aria-describedby="{{legendId}}ColorPickerDesc"\n              aria-selected="{{choice === getColor(legendData.label)}}"\n              ng-click="setColor(legendData.label, choice)"\n              ng-class="choice == getColor(legendData.label) ? \'fa-circle-o\' : \'fa-circle\'"\n              ng-style="{color: choice}" class="fa dot"\n              data-test-subj="legendSelectColor-{{choice}}"\n            >\n            </i>\n          </div>\n\n        </div>\n      </div>\n\n    </li>\n  </ul>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function VislibComponentsZeroInjectionInjectZerosProvider(Private){var orderXValues=Private(_ordered_x_keys.VislibComponentsZeroInjectionOrderedXKeysProvider),createZeroFilledArray=Private(_zero_filled_array.VislibComponentsZeroInjectionZeroFilledArrayProvider),zeroFillDataArray=Private(_zero_fill_data_array.VislibComponentsZeroInjectionZeroFillDataArrayProvider);return function(obj,data){var orderBucketsBySum=arguments.length>2&&void 0!==arguments[2]&&arguments[2],keys=orderXValues(data,orderBucketsBySum);return obj.forEach(function(series){var zeroArray=createZeroFilledArray(keys,series.label);series.values=zeroFillDataArray(zeroArray,series.values)}),obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionInjectZerosProvider=VislibComponentsZeroInjectionInjectZerosProvider;var _ordered_x_keys=__webpack_require__(1220),_zero_filled_array=__webpack_require__(3728),_zero_fill_data_array=__webpack_require__(3729)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsZeroInjectionUniqKeysProvider(Private){var flattenDataArray=Private(_flatten_data.VislibComponentsZeroInjectionFlattenDataProvider);return function(obj){if(!_lodash2.default.isObject(obj))throw new TypeError("UniqueXValuesUtilService expects an object");var flattenedData=flattenDataArray(obj),uniqueXValues=new Map,charts=void 0;charts=obj.series?[obj]:obj.rows?obj.rows:obj.columns;var isDate=charts.every(function(chart){return chart.ordered&&chart.ordered.date}),isOrdered=charts.every(function(chart){return chart.ordered});return flattenedData.forEach(function(d,i){var key=d.x,prev=uniqueXValues.get(key),sum=d.y;prev&&(i=Math.min(i,prev.index),sum+=prev.sum),uniqueXValues.set(key,{index:i,isDate:isDate,isOrdered:isOrdered,isNumber:_lodash2.default.isNumber(key),sum:sum})}),uniqueXValues}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionUniqKeysProvider=VislibComponentsZeroInjectionUniqKeysProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_flatten_data=__webpack_require__(3727)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsZeroInjectionFlattenDataProvider(){return function(obj){var charts=void 0;if(!_lodash2.default.isObject(obj)||!obj.rows&&!obj.columns&&!obj.series)throw new TypeError("FlattenDataObjUtilService expects an object with a series, rows, or columns key");return obj.series||(charts=obj.rows?obj.rows:obj.columns),(0,_lodash2.default)(charts||[obj]).pluck("series").flattenDeep().pluck("values").flattenDeep().filter(Boolean).value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionFlattenDataProvider=VislibComponentsZeroInjectionFlattenDataProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsZeroInjectionZeroFilledArrayProvider(){return function(arr,label){if(!Array.isArray(arr))throw new Error("ZeroFilledArrayUtilService expects an array of strings or numbers");var zeroFilledArray=[];return arr.forEach(function(val){zeroFilledArray.push({x:val,xi:1/0,y:0,series:label})}),zeroFilledArray}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionZeroFilledArrayProvider=VislibComponentsZeroInjectionZeroFilledArrayProvider},function(module,exports,__webpack_require__){"use strict";function VislibComponentsZeroInjectionZeroFillDataArrayProvider(){return function(arr1,arr2){if(!Array.isArray(arr1)||!Array.isArray(arr2))throw new TypeError("ZeroFillDataArrayUtilService expects 2 arrays");var i=void 0,val=void 0,index=void 0,max=arr2.length,getX=function(d){return d.x===val.x};for(i=0;i<max;i++)val=arr2[i],index=_lodash2.default.findIndex(arr1,getX),arr1.splice(index,1,val);return arr1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsZeroInjectionZeroFillDataArrayProvider=VislibComponentsZeroInjectionZeroFillDataArrayProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsLabelsLabelsProvider(Private){var createArr=Private(_data_array.VislibComponentsLabelsDataArrayProvider),getArrOfUniqLabels=Private(_uniq_labels.VislibComponentsLabelsUniqLabelsProvider);return function(obj){if(!_lodash2.default.isObject(obj))throw new TypeError("LabelUtil expects an object");return getArrOfUniqLabels(createArr(obj))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsLabelsLabelsProvider=VislibComponentsLabelsLabelsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_data_array=__webpack_require__(3731),_uniq_labels=__webpack_require__(3733)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsLabelsDataArrayProvider(Private){var flattenSeries=Private(_flatten_series.VislibComponentsLabelsFlattenSeriesProvider);return function(obj){if(!_lodash2.default.isObject(obj)||!obj.rows&&!obj.columns&&!obj.series)throw new TypeError("GetArrayUtilService expects an object with a series, rows, or columns key");return obj.series?obj.series:flattenSeries(obj)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsLabelsDataArrayProvider=VislibComponentsLabelsDataArrayProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_flatten_series=__webpack_require__(3732)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsLabelsFlattenSeriesProvider(){return function(obj){if(!_lodash2.default.isObject(obj)||!obj.rows&&!obj.columns)throw new TypeError("GetSeriesUtilService expects an object with either a rows or columns key");return obj=obj.rows?obj.rows:obj.columns,_lodash2.default.chain(obj).pluck("series").flattenDeep().value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsLabelsFlattenSeriesProvider=VislibComponentsLabelsFlattenSeriesProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsLabelsUniqLabelsProvider(){return function(arr){if(!Array.isArray(arr))throw new TypeError("UniqLabelUtil expects an array of objects");return(0,_lodash2.default)(arr).pluck("label").unique().value()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsLabelsUniqLabelsProvider=VislibComponentsLabelsUniqLabelsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function VislibComponentsColorColorProvider(Private){var mappedColors=Private(_mapped_colors.VisColorMappedColorsProvider);return function(arrayOfStringsOrNumbers,colorMapping){if(colorMapping=colorMapping||{},!Array.isArray(arrayOfStringsOrNumbers))throw new Error("ColorUtil expects an array");return arrayOfStringsOrNumbers.forEach(function(val){if(!_lodash2.default.isString(val)&&!_lodash2.default.isNumber(val)&&!_lodash2.default.isUndefined(val))throw new TypeError("ColorUtil expects an array of strings, numbers, or undefined values")}),mappedColors.mapKeys(arrayOfStringsOrNumbers),function(value){return colorMapping[value]||mappedColors.get(value)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibComponentsColorColorProvider=VislibComponentsColorColorProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_mapped_colors=__webpack_require__(3735)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VisColorMappedColorsProvider(config,$rootScope){function getConfigColorMapping(){return _lodash2.default.mapValues(config.get("visualization:colorMapping"),standardizeColor)}var standardizeColor=function(color){return _d2.default.rgb(color).toString()};return new(function(){function MappedColors(){var _this=this;_classCallCheck(this,MappedColors),$rootScope.$on("$routeChangeStart",function(){return _this.purge()}),this.oldMap={},this.mapping={}}return _createClass(MappedColors,[{key:"get",value:function(key){return getConfigColorMapping()[key]||this.mapping[key]}},{key:"flush",value:function(){this.oldMap=_lodash2.default.clone(this.mapping),this.mapping={}}},{key:"purge",value:function(){this.oldMap={},this.mapping={}}},{key:"mapKeys",value:function(keys){var _this2=this,configMapping=getConfigColorMapping(),configColors=_lodash2.default.values(configMapping),oldColors=_lodash2.default.values(this.oldMap),keysToMap=[];_lodash2.default.each(keys,function(key){configMapping[key]&&delete _this2.mapping[key],_lodash2.default.contains(configColors,_this2.mapping[key])&&keysToMap.push(key),_this2.oldMap[key]&&(_this2.mapping[key]=_this2.oldMap[key]),null==_this2.get(key)&&keysToMap.push(key)});for(var allColors=(0,_lodash2.default)(this.mapping).values().union(configColors).union(oldColors).value(),colorPalette=(0,_color_palette.createColorPalette)(allColors.length+keysToMap.length),newColors=_lodash2.default.difference(colorPalette,allColors);keysToMap.length>newColors.length;)newColors=newColors.concat(_lodash2.default.sample(allColors,keysToMap.length-newColors.length));_lodash2.default.merge(this.mapping,_lodash2.default.zipObject(keysToMap,newColors))}}]),MappedColors}())}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VisColorMappedColorsProvider=VisColorMappedColorsProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_color_palette=__webpack_require__(1221)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function PointSeriesGetSeriesProvider(Private){var getPoint=Private(_get_point.PointSeriesGetPointProvider),addToSiri=Private(_add_to_siri.PointSeriesAddToSiriProvider);return function(rows,chart){var aspects=chart.aspects,multiY=Array.isArray(aspects.y),yScale=chart.yScale,partGetPoint=_lodash2.default.partial(getPoint,aspects.x,aspects.series,yScale),series=(0,_lodash2.default)(rows).transform(function(series,row){if(!multiY){var point=partGetPoint(row,aspects.y,aspects.z);return void(point&&addToSiri(series,point,point.series,point.series,aspects.y.agg))}aspects.y.forEach(function(y){var point=partGetPoint(row,y,aspects.z);if(point){var seriesId=y.agg.id,seriesLabel=y.col.title;if(aspects.series){var prefix=point.series?point.series+": ":"";seriesId=prefix+seriesId,seriesLabel=prefix+seriesLabel}addToSiri(series,point,seriesId,seriesLabel,y.agg)}})},new Map).thru(function(series){return[].concat(_toConsumableArray(series.values()))}).value();return multiY&&(series=_lodash2.default.sortBy(series,function(siri){var firstVal=siri.values[0],y=void 0;if(firstVal){var agg=firstVal.aggConfigResult.aggConfig;y=_lodash2.default.find(aspects.y,function(y){return y.agg===agg})}return y?y.i:series.length})),series}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesGetSeriesProvider=PointSeriesGetSeriesProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_get_point=__webpack_require__(3737),_add_to_siri=__webpack_require__(3738)},function(module,exports,__webpack_require__){"use strict";function PointSeriesGetPointProvider(){function unwrap(aggConfigResult,def){return aggConfigResult?aggConfigResult.value:def}return function(x,series,yScale,row,y,z){var zRow=z&&row[z.i],xRow=row[x.i],point={x:unwrap(xRow,"_all"),y:unwrap(row[y.i]),z:zRow&&unwrap(zRow),aggConfigResult:row[y.i],extraMetrics:_lodash2.default.compact([zRow]),yScale:yScale};if("NaN"!==point.y)return series?(point.aggConfig=series.agg,point.series=series.agg.fieldFormatter()(unwrap(row[series.i]))):y&&(point.aggConfig=y.col.aggConfig,point.series=y.col.title),yScale&&(point.y*=yScale),point}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesGetPointProvider=PointSeriesGetPointProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function PointSeriesAddToSiriProvider(){return function(series,point,id,label,agg){if(id=null==id?"":id+"",series.has(id))return void series.get(id).values.push(point);series.set(id,{label:null==label?id:label,aggLabel:agg.type?agg.type.makeLabel(agg):label,aggId:agg.parentId?agg.parentId:agg.id,count:0,values:[point]})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesAddToSiriProvider=PointSeriesAddToSiriProvider},function(module,exports,__webpack_require__){"use strict";function PointSeriesGetAspectsProvider(Private){function columnToAspect(aspects,col,i){var schema=col.aggConfig.schema.name,name=map[schema];if(!name)throw new TypeError('unknown schema name "'+schema+'"');var aspect={i:i,col:col,agg:col.aggConfig};aspects[name]||(aspects[name]=[]),aspects[name].push(aspect)}var fakeXAspect=Private(_fake_x_aspect.PointSeriesFakeXAxisProvider),map={segment:"x",metric:"y",radius:"z",width:"width",group:"series"};return function(vis,table){var aspects=(0,_lodash2.default)(table.columns).transform(columnToAspect,{}).transform(function(aspects,group,name){if("y"!==name&&group.length>1)throw new TypeError("Only multiple metrics are supported in point series");aspects[name]=group.length>1?group:group[0]}).value();return aspects.x||(aspects.x=fakeXAspect(vis)),aspects}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesGetAspectsProvider=PointSeriesGetAspectsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_fake_x_aspect=__webpack_require__(3740)},function(module,exports,__webpack_require__){"use strict";function PointSeriesFakeXAxisProvider(Private){var AggType=Private(_agg_type.AggTypesAggTypeProvider),allAgg=new AggType({name:"all",title:"All docs",ordered:!1,hasNoDsl:!0});return function(vis){var fake=new _agg_config.AggConfig(vis,{type:allAgg,schema:vis.type.schemas.all.byName.segment});return{i:-1,agg:fake,col:{aggConfig:fake,label:fake.makeLabel()}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesFakeXAxisProvider=PointSeriesFakeXAxisProvider;var _agg_config=__webpack_require__(193),_agg_type=__webpack_require__(678)},function(module,exports,__webpack_require__){"use strict";function PointSeriesInitYAxisProvider(){return function(chart){var y=chart.aspects.y;Array.isArray(y)?(chart.yAxisFormatter=y[0].agg.fieldFormatter(),chart.yAxisLabel=""):(chart.yAxisFormatter=y.agg.fieldFormatter(),chart.yAxisLabel=y.col.title);var z=chart.aspects.series;z&&(Array.isArray(z)?(chart.zAxisFormatter=z[0].agg.fieldFormatter(),chart.zAxisLabel=""):(chart.zAxisFormatter=z.agg.fieldFormatter(),chart.zAxisLabel=z.col.title))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesInitYAxisProvider=PointSeriesInitYAxisProvider},function(module,exports,__webpack_require__){"use strict";function PointSeriesInitXAxisProvider(){return function(chart){var x=chart.aspects.x;if(chart.xAxisFormatter=x.agg?x.agg.fieldFormatter():String,chart.xAxisLabel=x.col.title,x.agg&&x.agg.type.ordered){chart.indexPattern=x.agg.vis.indexPattern,chart.xAxisField=x.agg.params.field,chart.ordered={};var xAggOutput=x.agg.write();xAggOutput.params.interval&&(chart.ordered.interval=xAggOutput.params.interval)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesInitXAxisProvider=PointSeriesInitXAxisProvider},function(module,exports,__webpack_require__){"use strict";function PointSeriesOrderedDateAxisProvider(){return function(vis,chart){var xAgg=chart.aspects.x.agg,buckets=xAgg.buckets,format=buckets.getScaledDateFormat();chart.xAxisFormatter=function(val){return(0,_moment2.default)(val).format(format)},chart.ordered={date:!0,interval:buckets.getInterval()};var axisOnTimeField=xAgg.fieldIsTimeField(),bounds=buckets.getBounds();bounds&&axisOnTimeField?(chart.ordered.min=bounds.min,chart.ordered.max=bounds.max):chart.ordered.endzones=!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesOrderedDateAxisProvider=PointSeriesOrderedDateAxisProvider;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment)},function(module,exports,__webpack_require__){"use strict";function PointSeriesTooltipFormatter($compile,$rootScope){var $tooltipScope=$rootScope.$new(),$tooltip=(0,_jquery2.default)(__webpack_require__(3745));return $compile($tooltip)($tooltipScope),function(event){function addDetail(result){var agg=result.aggConfig,value=result.value,detail={value:agg.fieldFormatter()(value),label:agg.makeLabel()};agg===datum.aggConfigResult.aggConfig&&(detail.percent=event.percent,null!=datum.yScale&&(detail.value=agg.fieldFormatter()(value*datum.yScale))),details.push(detail)}var datum=event.datum;if(!datum||!datum.aggConfigResult)return"";var details=$tooltipScope.details=[],result={$parent:datum.aggConfigResult};for(datum.extraMetrics.forEach(addDetail);(result=result.$parent)&&result.aggConfig;)addDetail(result);return $tooltipScope.$apply(),$tooltip[0].outerHTML}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PointSeriesTooltipFormatter=PointSeriesTooltipFormatter;var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery)},function(module,exports){module.exports='<table>\n  <tbody>\n    <tr ng-repeat="detail in details" >\n      <td class="tooltip-label">{{detail.label}}</td>\n      <td class="tooltip-value">\n          {{detail.value}}\n          <span ng-if="detail.percent"> ({{detail.percent}})</span>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";function VislibProvider(Private){return{version:"0.0.0",Vis:Private(_vis.VislibVisProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibProvider=VislibProvider,__webpack_require__(1224),__webpack_require__(1225),__webpack_require__(1226),__webpack_require__(1227),__webpack_require__(700),__webpack_require__(1228),__webpack_require__(1231);var _vis=__webpack_require__(3775)},function(module,exports,__webpack_require__){"use strict";function vislibGaugeProvider(){return function(config){return config}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vislibGaugeProvider=vislibGaugeProvider},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutTypesColumnLayoutProvider(Private){var chartSplit=Private(_chart_split.VislibLibLayoutSplitsColumnChartChartSplitProvider),yAxisSplit=Private(_y_axis_split.VislibLibLayoutSplitsColumnChartYAxisSplitProvider),xAxisSplit=Private(_x_axis_split.VislibLibLayoutSplitsColumnChartXAxisSplitProvider),chartTitleSplit=Private(_chart_title_split.VislibLibLayoutSplitsColumnChartChartTitleSplitProvider);return function(el,data){if(!el||!data)throw new Error("Both an el and data need to be specified");return[{parent:el,type:"div",class:"vis-wrapper",datum:data,children:[{type:"div",class:"y-axis-col-wrapper",children:[{type:"div",class:"y-axis-spacer-block y-axis-spacer-block-top"},{type:"div",class:"y-axis-col axis-wrapper-left",children:[{type:"div",class:"y-axis-chart-title",splits:chartTitleSplit},{type:"div",class:"y-axis-div-wrapper",splits:yAxisSplit}]},{type:"div",class:"y-axis-spacer-block y-axis-spacer-block-bottom"}]},{type:"div",class:"vis-col-wrapper",children:[{type:"div",class:"x-axis-wrapper axis-wrapper-top",children:[{type:"div",class:"x-axis-div-wrapper",splits:xAxisSplit}]},{type:"div",class:"chart-wrapper",splits:chartSplit},{type:"div",class:"vis-alerts"},{type:"div",class:"x-axis-wrapper axis-wrapper-bottom",children:[{type:"div",class:"x-axis-div-wrapper",splits:xAxisSplit},{type:"div",class:"x-axis-chart-title",splits:chartTitleSplit}]}]},{type:"div",class:"y-axis-col-wrapper",children:[{type:"div",class:"y-axis-spacer-block y-axis-spacer-block-top"},{type:"div",class:"y-axis-col axis-wrapper-right",children:[{type:"div",class:"y-axis-div-wrapper",splits:yAxisSplit}]},{type:"div",class:"y-axis-spacer-block y-axis-spacer-block-bottom"}]}]}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutTypesColumnLayoutProvider=VislibLibLayoutTypesColumnLayoutProvider;var _chart_split=__webpack_require__(3749),_y_axis_split=__webpack_require__(3750),_x_axis_split=__webpack_require__(3751),_chart_title_split=__webpack_require__(3752)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutSplitsColumnChartChartSplitProvider(){return function split(selection,parent){selection.each(function(data){var div=_d2.default.select(this).attr("class",function(){return data.rows?"chart-wrapper-row":data.columns?"chart-wrapper-column":parent?"chart-first chart-last chart-wrapper":this.className+" chart-wrapper"}),divClass="",chartsNumber=void 0,charts=div.selectAll("charts").append("div").data(function(d){return d.rows?(chartsNumber=d.rows.length,d.rows):d.columns?(chartsNumber=d.columns.length,d.columns):(divClass="chart",chartsNumber=1,[d])}).enter().append("div").attr("class",function(d,i){var fullDivClass=divClass;return"chart"!==fullDivClass&&(chartsNumber>1?0===i?fullDivClass+=" chart-first":i===chartsNumber-1&&(fullDivClass+=" chart-last"):fullDivClass+=" chart-first chart-last"),fullDivClass});data.series||charts.call(split)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsColumnChartChartSplitProvider=VislibLibLayoutSplitsColumnChartChartSplitProvider;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutSplitsColumnChartYAxisSplitProvider(){return function(selection){selection.each(function(){var div=_d2.default.select(this),rows=void 0;div.selectAll(".y-axis-div").append("div").data(function(d){return rows=d.rows?d.rows.length:1,d.rows?d.rows:[d]}).enter().append("div").attr("class",function(d,i){var divClass="";return 0===i&&(divClass+=" chart-first"),i===rows-1&&(divClass+=" chart-last"),"y-axis-div axis-div"+divClass})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsColumnChartYAxisSplitProvider=VislibLibLayoutSplitsColumnChartYAxisSplitProvider;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutSplitsColumnChartXAxisSplitProvider(){return function(selection){selection.each(function(){var div=_d2.default.select(this),columns=void 0;div.selectAll(".x-axis-div").append("div").data(function(d){return columns=d.columns?d.columns.length:1,d.columns?d.columns:[d]}).enter().append("div").attr("class",function(d,i){var divClass="";return 0===i&&(divClass+=" chart-first"),i===columns-1&&(divClass+=" chart-last"),"x-axis-div axis-div"+divClass})})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsColumnChartXAxisSplitProvider=VislibLibLayoutSplitsColumnChartXAxisSplitProvider;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VislibLibLayoutSplitsColumnChartChartTitleSplitProvider(){return function(selection){selection.each(function(data){var div=_d2.default.select(this),parent=(0,_jquery2.default)(this).parents(".vis-wrapper");return data.series?_d2.default.select(this).remove():(div.selectAll(".chart-title").data(function(d){return d.rows?d.rows:d.columns}).enter().append("div").attr("class","chart-title"),data.rows?parent.find(".x-axis-chart-title").remove():parent.find(".y-axis-chart-title").remove(),div)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsColumnChartChartTitleSplitProvider=VislibLibLayoutSplitsColumnChartChartTitleSplitProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutTypesPieLayoutProvider(Private){var chartSplit=Private(_chart_split.VislibLibLayoutSplitsPieChartChartSplitProvider),chartTitleSplit=Private(_chart_title_split.VislibLibLayoutSplitsPieChartChartTitleSplitProvider);return function(el,data){if(!el||!data)throw new Error("Both an el and data need to be specified");return[{parent:el,type:"div",class:"vis-wrapper",datum:data,children:[{type:"div",class:"y-axis-chart-title",splits:chartTitleSplit},{type:"div",class:"vis-col-wrapper",children:[{type:"div",class:"chart-wrapper",splits:chartSplit},{type:"div",class:"x-axis-chart-title",splits:chartTitleSplit}]}]}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutTypesPieLayoutProvider=VislibLibLayoutTypesPieLayoutProvider;var _chart_split=__webpack_require__(3754),_chart_title_split=__webpack_require__(3755)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutSplitsPieChartChartSplitProvider(){return function split(selection){selection.each(function(data){var div=_d2.default.select(this).attr("class",function(){return data.rows?"chart-wrapper-row":data.columns?"chart-wrapper-column":"chart-wrapper"}),divClass=void 0,charts=div.selectAll("charts").append("div").data(function(d){return d.rows?(divClass="chart-row",d.rows):d.columns?(divClass="chart-column",d.columns):(divClass="chart",[d])}).enter().append("div").attr("class",function(){return divClass});data.slices||charts.call(split)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsPieChartChartSplitProvider=VislibLibLayoutSplitsPieChartChartSplitProvider;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function VislibLibLayoutSplitsPieChartChartTitleSplitProvider(){return function(selection,parent){selection.each(function(data){var div=_d2.default.select(this);return data.slices?_d2.default.select(this).remove():(div.selectAll(".chart-title").append("div").data(function(d){return d.rows?d.rows:d.columns}).enter().append("div").attr("class","chart-title"),data.rows?_d2.default.select(parent).select(".x-axis-chart-title").remove():_d2.default.select(parent).select(".y-axis-chart-title").remove(),div)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibLibLayoutSplitsPieChartChartTitleSplitProvider=VislibLibLayoutSplitsPieChartChartTitleSplitProvider;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function GaugeLayoutProvider(Private){var chartSplit=Private(_chart_split2.default);return function(el,data){if(!el||!data)throw new Error("Both an el and data need to be specified");return[{parent:el,type:"div",class:"vis-wrapper",datum:data,children:[{type:"div",class:"y-axis-chart-title"},{type:"div",class:"vis-col-wrapper",children:[{type:"div",class:"chart-wrapper",splits:chartSplit},{type:"div",class:"vis-alerts"},{type:"div",class:"x-axis-chart-title"}]}]}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GaugeLayoutProvider=GaugeLayoutProvider;var _chart_split=__webpack_require__(3757),_chart_split2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chart_split)},function(module,exports,__webpack_require__){"use strict";function ChartSplitFactory(){return function split(selection){selection.each(function(data){var div=_d2.default.select(this).attr("class",function(){return data.rows?"chart-wrapper-row":data.columns?"chart-wrapper-column":"chart-wrapper"}),divClass=void 0,charts=div.selectAll("charts").append("div").data(function(d){return d.rows?(divClass="chart-row",d.rows):d.columns?(divClass="chart-column",d.columns):(divClass="chart",[d])}).enter().append("div").attr("class",function(){return divClass});data.series||charts.call(split)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ChartSplitFactory;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsPointSeriesProvider(Private){var Chart=Private(_chart.VislibVisualizationsChartProvider),Tooltip=Private(_tooltip.TooltipProvider),TimeMarker=Private(_time_marker.VislibVisualizationsTimeMarkerProvider),seriTypes=Private(_series_types.VislibVisualizationsSeriesTypesProvider),touchdownTmpl=_lodash2.default.template(__webpack_require__(3770));return function(_Chart){function PointSeries(handler,chartEl,chartData){_classCallCheck(this,PointSeries);var _this=_possibleConstructorReturn(this,(PointSeries.__proto__||Object.getPrototypeOf(PointSeries)).call(this,handler,chartEl,chartData));return _this.handler=handler,_this.chartData=chartData,_this.chartEl=chartEl,_this.chartConfig=_this.findChartConfig(),_this.handler.pointSeries=_this,_this}return _inherits(PointSeries,_Chart),_createClass(PointSeries,[{key:"findChartConfig",value:function(){return this.handler.visConfig.get("charts")[this.handler.data.chartData().indexOf(this.chartData)]}},{key:"getSeries",value:function(seriesId){return this.series.find(function(series){return series.chartData.aggId===seriesId})}},{key:"addBackground",value:function(svg,width,height){return svg.append("rect").attr("x",0).attr("y",0).attr("width",width).attr("height",height).attr("fill","transparent").attr("class","background")}},{key:"addGrid",value:function(svg){var _svg$node$getBBox=svg.node().getBBox(),width=_svg$node$getBBox.width,height=_svg$node$getBBox.height;return svg.append("g").attr("class","grid").call(this.handler.grid.draw(width,height))}},{key:"addClipPath",value:function(svg){var _svg$node$getBBox2=svg.node().getBBox(),width=_svg$node$getBBox2.width,height=_svg$node$getBBox2.height;return this.clipPathId="chart-area"+_lodash2.default.uniqueId(),svg.append("clipPath").attr("id",this.clipPathId).append("rect").attr("x",0).attr("y",0).attr("width",width).attr("height",height)}},{key:"addEvents",value:function(svg){if(this.events.isBrushable()){var brush=this.events.addBrushEvent(svg);return svg.call(brush)}}},{key:"createEndZones",value:function(svg){function callPlay(event){var boundData=event.target.__data__,mouseChartXCoord=event.clientX-self.chartEl.getBoundingClientRect().left,mouseChartYCoord=event.clientY-self.chartEl.getBoundingClientRect().top,wholeBucket=boundData&&null!=boundData.x,min=drawInverted?leftEndzone.w:rightEndzone.w,max=drawInverted?rightEndzone.x:leftEndzone.x,xLeft=isHorizontal?mouseChartXCoord:mouseChartYCoord,xRight=isHorizontal?mouseChartXCoord:mouseChartYCoord;return wholeBucket&&(xLeft=xScale(boundData.x),xRight=xScale(xAxis.addInterval(boundData.x))),{wholeBucket:wholeBucket,touchdown:min>xLeft||max<xRight}}function textFormatter(){return touchdownTmpl(callPlay(_d2.default.event))}var self=this,xAxis=this.handler.categoryAxes[0],xScale=xAxis.getScale(),ordered=xAxis.ordered,isHorizontal=xAxis.axisConfig.isHorizontal();if(ordered&&!_lodash2.default.isUndefined(ordered.min)&&!_lodash2.default.isUndefined(ordered.max)&&!1!==ordered.endzones){var _svg$node$getBBox3=svg.node().getBBox(),width=_svg$node$getBBox3.width,height=_svg$node$getBBox3.height,oneUnit=(ordered.units||_lodash2.default.identity)(1),drawInverted=isHorizontal||xAxis.axisConfig.get("scale.inverted",!1),size=isHorizontal?width:height,leftEndzone={x:drawInverted?0:Math.max(xScale(ordered.min),0),w:drawInverted?Math.max(xScale(ordered.min),0):height-Math.max(xScale(ordered.min),0)},expandLastBucket=xAxis.axisConfig.get("scale.expandLastBucket"),rightLastVal=expandLastBucket?ordered.max:Math.min(ordered.max,_lodash2.default.last(xAxis.values)),rightStart=rightLastVal+oneUnit,rightEndzone={x:drawInverted?xScale(rightStart):0,w:drawInverted?Math.max(size-xScale(rightStart),0):xScale(rightStart)};this.endzones=svg.selectAll(".layer").data([leftEndzone,rightEndzone]).enter().insert("g",".brush").attr("class","endzone").append("rect").attr("class","zone").attr("x",function(d){return isHorizontal?d.x:0}).attr("y",function(d){return isHorizontal?0:d.x}).attr("height",function(d){return isHorizontal?height:d.w}).attr("width",function(d){return isHorizontal?d.w:width});var endzoneTT=new Tooltip("endzones",this.handler.el,textFormatter,null);this.tooltips.push(endzoneTT),endzoneTT.order=0,endzoneTT.showCondition=function(){return callPlay(_d2.default.event).touchdown},endzoneTT.render()(svg)}}},{key:"calculateRadiusLimits",value:function(data){this.radii=(0,_lodash2.default)(data.series).map(function(series){return _lodash2.default.map(series.values,"z")}).flattenDeep().reduce(function(result,val){return result.min>val&&(result.min=val),result.max<val&&(result.max=val),result},{min:1/0,max:-1/0})}},{key:"draw",value:function(){var self=this,$elem=(0,_jquery2.default)(this.chartEl),width=this.chartConfig.width=$elem.width(),height=this.chartConfig.height=$elem.height(),xScale=this.handler.categoryAxes[0].getScale(),addTimeMarker=this.chartConfig.addTimeMarker,times=this.chartConfig.times||[],div=void 0,svg=void 0;return function(selection){selection.each(function(data){var el=this;if(div=_d2.default.select(el),svg=div.append("svg").attr("width",width).attr("height",height),self.addBackground(svg,width,height),self.addGrid(svg),self.addClipPath(svg),self.addEvents(svg),self.createEndZones(svg),self.calculateRadiusLimits(data),self.series=[],_lodash2.default.each(self.chartConfig.series,function(seriArgs,i){if(seriArgs.show){var SeriClass=seriTypes[seriArgs.type||self.handler.visConfig.get("chart.type")]||seriTypes.line,series=new SeriClass(self.handler,svg,data.series[i],seriArgs);series.events=self.events,svg.call(series.draw()),self.series.push(series)}}),addTimeMarker){new Date(xScale.domain()[1].getTime()+6e4)>new Date&&new TimeMarker(times,xScale,height).render(svg)}return svg})}}}]),PointSeries}(Chart)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsPointSeriesProvider=VislibVisualizationsPointSeriesProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_tooltip=__webpack_require__(701),_chart=__webpack_require__(702),_time_marker=__webpack_require__(3764),_series_types=__webpack_require__(3765)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Tooltip(id,el,formatter,events){if(!(this instanceof Tooltip))return new Tooltip(id,el,formatter,events);this.id=id,this.el=el,this.order=100,this.formatter=formatter,this.events=events,this.containerClass="vis-wrapper",this.tooltipClass="vis-tooltip",this.tooltipSizerClass="vis-tooltip-sizing-clone",this.showCondition=_lodash2.default.constant(!0),this.binder=new _binder.Binder}function TooltipProvider(){return Tooltip}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tooltip=Tooltip,exports.TooltipProvider=TooltipProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_binder=__webpack_require__(1229),_position_tooltip=__webpack_require__(3761),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),allContents=[];Tooltip.prototype.$get=_lodash2.default.once(function(){return(0,_jquery2.default)("<div>").addClass(this.tooltipClass).appendTo(document.body)}),Tooltip.prototype.$getSizer=_lodash2.default.once(function(){return this.$get().clone().removeClass(this.tooltipClass).addClass(this.tooltipSizerClass).appendTo(document.body)}),Tooltip.prototype.show=function(){var $tooltip=this.$get(),$chart=this.$getChart(),html=$tooltip.html();if($chart){var placement=(0,_position_tooltip.positionTooltip)({$window:(0,_jquery2.default)(window),$chart:$chart,$el:$tooltip,$sizer:this.$getSizer(),event:_d2.default.event},html);$tooltip.css({visibility:"visible",left:placement.left,top:placement.top})}},Tooltip.prototype.hide=function(){var $tooltip=this.$get();allContents=[],$tooltip.css({visibility:"hidden",left:"-500px",top:"-500px"})},Tooltip.prototype.$getChart=function(){var chart=(0,_jquery2.default)(this.container&&this.container.node());return!!chart.length&&chart},Tooltip.prototype.render=function(){var self=this;return function(selection){var $tooltip=self.$get(),id=self.id,order=self.order;void 0!==self.container&&self.container===_d2.default.select(self.el).select("."+self.containerClass)||(self.container=_d2.default.select(self.el).select("."+self.containerClass));var $chart=self.$getChart();$chart&&self.binder.jqOn($chart,"mouseleave",function(){$chart.removeData("previousPlacement")}),selection.each(function(d,i){function render(html){allContents=_lodash2.default.filter(allContents,function(content){return content.id!==id}),html&&allContents.push({id:id,html:html,order:order});var allHtml=(0,_lodash2.default)(allContents).sortBy("order").pluck("html").compact().join("\n");allHtml?($tooltip.html(allHtml),self.show()):self.hide()}var element=_d2.default.select(this);self.binder.fakeD3Bind(this,"mousemove",function(){if(!self.showCondition.call(element,d,i))return render();var events=self.events?self.events.eventResponse(d,i):d;return render(self.formatter(events))}),self.binder.fakeD3Bind(this,"mouseleave",function(){render()})})}},Tooltip.prototype.destroy=function(){this.hide(),this.binder.destroy()}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Binder=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_binder=__webpack_require__(581);exports.Binder=function(_BinderBase){function Binder($scope){_classCallCheck(this,Binder);var _this=_possibleConstructorReturn(this,(Binder.__proto__||Object.getPrototypeOf(Binder)).call(this));return $scope&&$scope.$on("$destroy",function(){return _this.destroy()}),_this}return _inherits(Binder,_BinderBase),_createClass(Binder,[{key:"jqOn",value:function(el){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var $el=(0,_jquery2.default)(el);$el.on.apply($el,args),this.disposal.push(function(){return $el.off.apply($el,args)})}},{key:"fakeD3Bind",value:function(el,event,handler){var _this2=this;this.jqOn(el,event,function(e){var o=_d2.default.event;_d2.default.event=e;try{handler.apply(_this2,[_this2.__data__])}finally{_d2.default.event=o}})}}]),Binder}(_binder.BinderBase)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function positionTooltip(opts,html){if(opts){var $chart=(0,_jquery2.default)(opts.$chart),$el=(0,_jquery2.default)(opts.$el),$window=(0,_jquery2.default)(opts.$window||window),$sizer=(0,_jquery2.default)(opts.$sizer),prev=$chart.data("previousPlacement")||{},event=opts.event;if($chart.length&&$el.length){var size=getTtSize(html||$el.html(),$sizer),pos=getBasePosition(size,event),overflow=getOverflow(size,pos,[$chart,$window]),placement=placeToAvoidOverflow(pos,prev,overflow);return $chart.data("previousPlacement",placement),placement}}}function getTtSize(ttHtml,$sizer){return $sizer.html()!==ttHtml&&$sizer.html(ttHtml),{width:$sizer.outerWidth(),height:$sizer.outerHeight()}}function getBasePosition(size,event){return{east:event.clientX+OFFSET,west:event.clientX-size.width-OFFSET,south:event.clientY+OFFSET,north:event.clientY-size.height-OFFSET}}function getBounds($el){var bounds=_jquery2.default.isWindow($el[0])?{top:0,left:0}:$el.offset();return bounds.top+=$el.scrollTop(),bounds.left+=$el.scrollLeft(),bounds.bottom=bounds.top+$el.outerHeight(),bounds.right=bounds.left+$el.outerWidth(),bounds.area=(bounds.bottom-bounds.top)*(bounds.right-bounds.left),bounds}function getOverflow(size,pos,containers){var overflow={};return containers.map(getBounds).sort(function(a,b){return a.area-b.area}).forEach(function(bounds){mergeOverflows(overflow,{north:bounds.top-pos.north,east:pos.east+size.width-bounds.right,south:pos.south+size.height-bounds.bottom,west:bounds.left-pos.west})}),(window.overflows||(window.overflows=[])).push(overflow),overflow}function mergeOverflows(dest,src){_lodash2.default.merge(dest,src,function(a,b){return null==a||null==b?a||b:a<0&&b<0?Math.min(a,b):Math.max(a,b)}),dest.east&&dest.west&&dest.east>0&&dest.west>0&&(src.east<0||src.west<0)&&(src.east<src.west?dest.east=src.east:dest.west=src.west)}function pickPlacement(prop,pos,overflow,prev,pref,fallback,placement){for(var stash="_"+prop,dirs=_lodash2.default.unique([prev[stash],pref,fallback].filter(Boolean)),dir=void 0,value=void 0,i=0;i<dirs.length;i++)if(dir=dirs[i],!(overflow[dir]>0)){value=pos[dir];break}if(null==value){dir=dirs[0];var offset=overflow[dir];propDirs[prop]===dir&&(offset*=-1),value=pos[dir]-offset}placement[prop]=value,placement[stash]=dir}function placeToAvoidOverflow(pos,prev,overflow){var placement={};return pickPlacement("top",pos,overflow,prev,"south","north",placement),pickPlacement("left",pos,overflow,prev,"east","west",placement),placement}Object.defineProperty(exports,"__esModule",{value:!0}),exports.positionTooltip=positionTooltip;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),OFFSET=10,$clone=void 0,propDirs={top:"north",left:"west"};positionTooltip.getTtSize=getTtSize,positionTooltip.getBasePosition=getBasePosition,positionTooltip.getOverflow=getOverflow,positionTooltip.getBounds=getBounds,positionTooltip.placeToAvoidOverflow=placeToAvoidOverflow,positionTooltip.removeClone=function(){$clone&&$clone.remove(),$clone=null}},function(module,exports,__webpack_require__){"use strict";function dataLabel(selection,label){_d2.default.select(selection).attr("data-label",label)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dataLabel=dataLabel;var _d=__webpack_require__(15),_d2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_d)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibLibDispatchProvider(Private,config){function isQuantitativeScale(scale){return!!scale.invert}function validBrushClick(event){return 0===event.button}function justifyOpacity(opacity){var decimalNumber=parseFloat(opacity,10);return 0<=decimalNumber&&decimalNumber<=1?decimalNumber:.5}return function(_SimpleEmitter){function Dispatch(handler){_classCallCheck(this,Dispatch);var _this=_possibleConstructorReturn(this,(Dispatch.__proto__||Object.getPrototypeOf(Dispatch)).call(this));return _this.handler=handler,_this._listeners={},_this}return _inherits(Dispatch,_SimpleEmitter),_createClass(Dispatch,[{key:"eventResponse",value:function(d,i){var datum=d._input||d,data=_d2.default.event.target.nearestViewportElement?_d2.default.event.target.nearestViewportElement.__data__:_d2.default.event.target.__data__,label=d.label?d.label:d.series||"Count",isSeries=!(!data||!data.series),isSlices=!(!data||!data.slices),series=isSeries?data.series:void 0,slices=isSlices?data.slices:void 0,handler=this.handler,color=_lodash2.default.get(handler,"data.color"),eventData={value:d.y,point:datum,datum:datum,label:label,color:color?color(label):void 0,pointIndex:i,series:series,slices:slices,config:handler&&handler.visConfig,data:data,e:_d2.default.event,handler:handler};if(isSeries){var percentageMode=!1,isSeriesChart=handler.charts&&handler.charts[0]&&handler.charts[0].getSeries,parentNode=_d2.default.event.target.parentNode,parentData=parentNode?parentNode.__data__:null;if(isSeriesChart&&parentData){var aggId=parentData.aggId,seriesFromAggId=handler.charts[0].getSeries(aggId);seriesFromAggId&&seriesFromAggId.getValueAxis&&(percentageMode=seriesFromAggId.getValueAxis().axisConfig.isPercentage())}var object=_lodash2.default.find(series,{label:label});object&&(eventData.value=+object.values[i].y,percentageMode&&(eventData.percent=(100*d.y).toFixed(1)+"%"))}return eventData}},{key:"addEvent",value:function(event,callback){return function(selection){selection.each(function(){var element=_d2.default.select(this);if("function"==typeof callback)return element.on(event,callback)})}}},{key:"addHoverEvent",value:function(){function hover(d,i){isClickable&&self.addMousePointer.call(this,arguments),self.handler.highlight.call(this,$el),self.emit("hover",self.eventResponse(d,i))}var self=this,isClickable=this.listenerCount("click")>0,addEvent=this.addEvent,$el=this.handler.el;return this.handler.highlight||(this.handler.highlight=self.highlight),addEvent("mouseover",hover)}},{key:"addMouseoutEvent",value:function(){function mouseout(){self.handler.unHighlight.call(this,$el)}var self=this,addEvent=this.addEvent,$el=this.handler.el;return this.handler.unHighlight||(this.handler.unHighlight=self.unHighlight),addEvent("mouseout",mouseout)}},{key:"addClickEvent",value:function(){function click(d,i){self.emit("click",self.eventResponse(d,i))}var self=this;return(0,this.addEvent)("click",click)}},{key:"allowBrushing",value:function(){var xAxis=this.handler.categoryAxes[0];return Boolean(xAxis.ordered)}},{key:"isBrushable",value:function(){return this.allowBrushing()&&this.listenerCount("brush")>0}},{key:"addBrushEvent",value:function(svg){function simulateClickWithBrushEnabled(d,i){if(validBrushClick(_d2.default.event))if(isQuantitativeScale(xScale)){var bar=_d2.default.select(this),startX=_d2.default.mouse(svg.node()),startXInv=xScale.invert(startX[0]);brush.extent([startXInv,startXInv]),svg.call(brush),bar.call(brush)}else self.emit("click",self.eventResponse(d,i))}if(this.isBrushable()){var self=this,xScale=this.handler.categoryAxes[0].getScale(),brush=this.createBrush(xScale,svg);return this.addEvent("mousedown",simulateClickWithBrushEnabled)}}},{key:"addMousePointer",value:function(){return _d2.default.select(this).style("cursor","pointer")}},{key:"highlight",value:function(element){var label=this.getAttribute("data-label");if(label){var dimming=config.get("visualization:dimmingOpacity");(0,_jquery2.default)(element).parent().find("[data-label]").css("opacity",1).not(function(els,el){return String((0,_jquery2.default)(el).data("label"))===label}).css("opacity",justifyOpacity(dimming))}}},{key:"unHighlight",value:function(element){(0,_jquery2.default)("[data-label]",element.parentNode).css("opacity",1)}},{key:"createBrush",value:function(xScale,svg){var self=this,visConfig=self.handler.visConfig,_svg$node$getBBox=svg.node().getBBox(),width=_svg$node$getBBox.width,height=_svg$node$getBBox.height,isHorizontal=self.handler.categoryAxes[0].axisConfig.isHorizontal(),brush=_d2.default.svg.brush();if(isHorizontal?brush.x(xScale):brush.y(xScale),brush.on("brushend",function(){var data=_d2.default.select(this).data()[0],isTimeSeries=data.ordered&&data.ordered.date,selected=xScale.domain().filter(function(d){return brush.extent()[0]<=xScale(d)&&xScale(d)<=brush.extent()[1]}),range=isTimeSeries?brush.extent():selected;return self.emit("brush",{range:range,config:visConfig,e:_d2.default.event,data:data})}),self.listenerCount("brush")){var rect=svg.insert("g","g").attr("class","brush").call(brush).call(function(brushG){var brushHandler=brushG.on("mousedown.brush");brushHandler&&brushG.on("mousedown.brush",function(){validBrushClick(_d2.default.event)&&brushHandler.apply(this,arguments)})}).selectAll("rect");return isHorizontal?rect.attr("height",height):rect.attr("width",width),brush}}}]),Dispatch}(_simple_emitter.SimpleEmitter)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibDispatchProvider=VislibLibDispatchProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_simple_emitter=__webpack_require__(628)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibVisualizationsTimeMarkerProvider(){return function(){function TimeMarker(times,xScale,height){_classCallCheck(this,TimeMarker);var currentTimeArr=[{time:(new Date).getTime(),class:"time-marker",color:"#c80000",opacity:.3,width:2}];this.xScale=xScale,this.height=height,this.times=times.length?times.map(function(d){return{time:_datemath2.default.parse(d.time),class:d.class||"time-marker",color:d.color||"#c80000",opacity:d.opacity||.3,width:d.width||2}}):currentTimeArr}return _createClass(TimeMarker,[{key:"_isTimeBasedChart",value:function(selection){return selection.data().every(function(datum){return datum.ordered&&datum.ordered.date})}},{key:"render",value:function(selection){var self=this;self._isTimeBasedChart(selection)&&selection.each(function(){_d2.default.select(this).selectAll("time-marker").data(self.times).enter().append("line").attr("class",function(d){return d.class}).attr("pointer-events","none").attr("stroke",function(d){return d.color}).attr("stroke-width",function(d){return d.width}).attr("stroke-opacity",function(d){return d.opacity}).attr("x1",function(d){return self.xScale(d.time)}).attr("x2",function(d){return self.xScale(d.time)}).attr("y1",self.height).attr("y2",self.xScale.range()[0])})}}]),TimeMarker}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsTimeMarkerProvider=VislibVisualizationsTimeMarkerProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath)},function(module,exports,__webpack_require__){"use strict";function VislibVisualizationsSeriesTypesProvider(Private){return{histogram:Private(_column_chart.VislibVisualizationsColumnChartProvider),line:Private(_line_chart.VislibVisualizationsLineChartProvider),area:Private(_area_chart.VislibVisualizationsAreaChartProvider),heatmap:Private(_heatmap_chart.VislibVisualizationsHeatmapChartProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VislibVisualizationsSeriesTypesProvider=VislibVisualizationsSeriesTypesProvider;var _column_chart=__webpack_require__(3766),_line_chart=__webpack_require__(3767),_area_chart=__webpack_require__(3768),_heatmap_chart=__webpack_require__(3769)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsColumnChartProvider(Private){function datumWidth(defaultWidth,datum,nextDatum,scale,gutterWidth){var groupCount=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,datumWidth=defaultWidth;return nextDatum&&(datumWidth=(scale(nextDatum.x)-scale(datum.x)-gutterWidth)/groupCount)>defaultWidth&&(datumWidth=defaultWidth),datumWidth}var PointSeries=Private(_point_series.VislibVisualizationsPointSeriesProvider),defaults={mode:"normal",showTooltip:!0,color:void 0,fillColor:void 0};return function(_PointSeries){function ColumnChart(handler,chartEl,chartData,seriesConfigArgs){_classCallCheck(this,ColumnChart);var _this=_possibleConstructorReturn(this,(ColumnChart.__proto__||Object.getPrototypeOf(ColumnChart)).call(this,handler,chartEl,chartData,seriesConfigArgs));return _this.seriesConfig=_lodash2.default.defaults(seriesConfigArgs||{},defaults),_this}return _inherits(ColumnChart,_PointSeries),_createClass(ColumnChart,[{key:"addBars",value:function(svg,data){var self=this,color=this.handler.data.getColorFunc(),tooltip=this.baseChart.tooltip,isTooltip=this.handler.visConfig.get("tooltip.show"),layer=svg.append("g").attr("class","series histogram").attr("clip-path","url(#"+this.baseChart.clipPathId+")"),bars=layer.selectAll("rect").data(data.values.filter(function(d){return!_lodash2.default.isNull(d.y)}));return bars.exit().remove(),bars.enter().append("rect").attr("data-label",data.label).attr("fill",function(){return color(data.label)}).attr("stroke",function(){return color(data.label)}),self.updateBars(bars),isTooltip&&bars.call(tooltip.render()),bars}},{key:"updateBars",value:function(bars){return"stacked"===this.seriesConfig.mode?this.addStackedBars(bars):this.addGroupedBars(bars)}},{key:"addStackedBars",value:function(bars){function x(d,i){return isTimeScale?xScale(d.x)+datumWidth(barWidth,d,bars.data()[i+1],xScale,gutterWidth,groupCount)*groupNum:xScale(d.x)+xScale.rangeBand()/groupCount*groupNum}function y(d){return yScale(isHorizontal&&d.y<0||!isHorizontal&&d.y>0?d.y0:d.y0+d.y)}function widthFunc(d,i){return isTimeScale?datumWidth(barWidth,d,bars.data()[i+1],xScale,gutterWidth,groupCount):xScale.rangeBand()/groupCount}function heightFunc(d){return 0===d.y0&&yMin>0?yScale(yMin)-yScale(d.y):Math.abs(yScale(d.y0)-yScale(d.y0+d.y))}var xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),isTimeScale=this.getCategoryAxis().axisConfig.isTimeDomain(),yMin=yScale.domain()[0],groupCount=this.getGroupedCount(),groupNum=this.getGroupedNum(this.chartData),barWidth=void 0,gutterWidth=void 0;if(isTimeScale){var _handler$data$get=this.handler.data.get("ordered"),min=_handler$data$get.min,interval=_handler$data$get.interval,intervalWidth=xScale(min+interval)-xScale(min);intervalWidth=Math.abs(intervalWidth),gutterWidth=.15*intervalWidth,barWidth=(intervalWidth-gutterWidth)/groupCount}return bars.attr("x",isHorizontal?x:y).attr("width",isHorizontal?widthFunc:heightFunc).attr("y",isHorizontal?y:x).attr("height",isHorizontal?heightFunc:widthFunc),bars}},{key:"addGroupedBars",value:function(bars){function x(d,i){return isTimeScale?xScale(d.x)+datumWidth(barWidth,d,bars.data()[i+1],xScale,gutterWidth,groupCount)*groupNum:xScale(d.x)+xScale.rangeBand()/groupCount*groupNum}function y(d){return yScale(isHorizontal&&d.y<0||!isHorizontal&&d.y>0?0:d.y)}function widthFunc(d,i){return isTimeScale?datumWidth(barWidth,d,bars.data()[i+1],xScale,gutterWidth,groupCount):xScale.rangeBand()/groupCount}function heightFunc(d){var baseValue=isLogScale?1:0;return Math.abs(yScale(baseValue)-yScale(d.y))}var xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),groupCount=this.getGroupedCount(),groupNum=this.getGroupedNum(this.chartData),isTimeScale=this.getCategoryAxis().axisConfig.isTimeDomain(),isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),isLogScale=this.getValueAxis().axisConfig.isLogScale(),barWidth=void 0,gutterWidth=void 0;if(isTimeScale){var _handler$data$get2=this.handler.data.get("ordered"),min=_handler$data$get2.min,interval=_handler$data$get2.interval,intervalWidth=xScale(min+interval)-xScale(min);intervalWidth=Math.abs(intervalWidth),gutterWidth=.15*intervalWidth,barWidth=(intervalWidth-gutterWidth)/groupCount}return bars.attr("x",isHorizontal?x:y).attr("width",isHorizontal?widthFunc:heightFunc).attr("y",isHorizontal?y:x).attr("height",isHorizontal?heightFunc:widthFunc),bars}},{key:"draw",value:function(){var self=this;return function(selection){selection.each(function(){var svg=self.chartEl.append("g");svg.data([self.chartData]);var bars=self.addBars(svg,self.chartData);return self.addCircleEvents(bars),self.events.emit("rendered",{chart:self.chartData}),svg})}}}]),ColumnChart}(PointSeries)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsColumnChartProvider=VislibVisualizationsColumnChartProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_point_series=__webpack_require__(493)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsLineChartProvider(Private){var PointSeries=Private(_point_series.VislibVisualizationsPointSeriesProvider),defaults={mode:"normal",showCircles:!0,radiusRatio:9,showLines:!0,interpolate:"linear",lineWidth:2,color:void 0,fillColor:void 0};return function(_PointSeries){function LineChart(handler,chartEl,chartData,seriesConfigArgs){_classCallCheck(this,LineChart);var _this=_possibleConstructorReturn(this,(LineChart.__proto__||Object.getPrototypeOf(LineChart)).call(this,handler,chartEl,chartData,seriesConfigArgs));return _this.seriesConfig=_lodash2.default.defaults(seriesConfigArgs||{},defaults),_this}return _inherits(LineChart,_PointSeries),_createClass(LineChart,[{key:"addCircles",value:function(svg,data){function cx(d){return ordered&&ordered.date?xScale(d.x):xScale(d.x)+xScale.rangeBand()/2}function cy(d){var y0=d.y0||0,y=d.y||0;return yScale(y0+y)}function cColor(d){return color(d.series)}function colorCircle(d){var parent=_d2.default.select(this).node().parentNode,lengthOfParent=_d2.default.select(parent).data()[0].length,isVisible=1===lengthOfParent;return showCircles||isVisible?cColor(d):"none"}function getCircleRadiusFn(modifier){return function(d){var width=self.baseChart.chartConfig.width,height=self.baseChart.chartConfig.height,circleRadius=(d.z-radii.min)/radiusStep,base=circleRadius?Math.sqrt(circleRadius+2)+lineWidth:lineWidth;return _lodash2.default.min([base,width,height])+(modifier||0)}}var self=this,showCircles=this.seriesConfig.showCircles,color=this.handler.data.getColorFunc(),xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),ordered=this.handler.data.get("ordered"),tooltip=this.baseChart.tooltip,isTooltip=this.handler.visConfig.get("tooltip.show"),isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),lineWidth=this.seriesConfig.lineWidth,radii=this.baseChart.radii,radiusStep=(radii.max-radii.min||100*radii.max)/Math.pow(this.seriesConfig.radiusRatio,2),layer=svg.append("g").attr("class","points line").attr("clip-path","url(#"+this.baseChart.clipPathId+")"),circles=layer.selectAll("circle").data(function(){return data.values.filter(function(d){return!_lodash2.default.isNull(d.y)})});return circles.exit().remove(),circles.enter().append("circle").attr("r",getCircleRadiusFn()).attr("fill-opacity",this.seriesConfig.drawLinesBetweenPoints?1:.7).attr("cx",isHorizontal?cx:cy).attr("cy",isHorizontal?cy:cx).attr("class","circle-decoration").attr("data-label",data.label).attr("fill",colorCircle),circles.enter().append("circle").attr("r",getCircleRadiusFn(10)).attr("cx",isHorizontal?cx:cy).attr("cy",isHorizontal?cy:cx).attr("fill","transparent").attr("class","circle").attr("data-label",data.label).attr("stroke",cColor).attr("stroke-width",0),isTooltip&&circles.call(tooltip.render()),circles}},{key:"addLine",value:function(svg,data){function cx(d){return ordered&&ordered.date?xScale(d.x):xScale(d.x)+xScale.rangeBand()/2}function cy(d){var y=d.y||0,y0=d.y0||0;return yScale(y0+y)}var xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),color=this.handler.data.getColorFunc(),ordered=this.handler.data.get("ordered"),lineWidth=this.seriesConfig.lineWidth,interpolate=this.seriesConfig.interpolate,isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),line=svg.append("g").attr("class","pathgroup lines").attr("clip-path","url(#"+this.baseChart.clipPathId+")");return line.append("path").attr("data-label",data.label).attr("d",function(){return _d2.default.svg.line().defined(function(d){return!_lodash2.default.isNull(d.y)}).interpolate(interpolate).x(isHorizontal?cx:cy).y(isHorizontal?cy:cx)(data.values.filter(function(d){return!_lodash2.default.isNull(d.y)}))}).attr("fill","none").attr("stroke",function(){return color(data.label)}).attr("stroke-width",lineWidth),line}},{key:"draw",value:function(){var self=this;return function(selection){selection.each(function(){var svg=self.chartEl.append("g");svg.data([self.chartData]),self.seriesConfig.drawLinesBetweenPoints&&self.addLine(svg,self.chartData);var circles=self.addCircles(svg,self.chartData);return self.addCircleEvents(circles),self.events.emit("rendered",{chart:self.chartData}),svg})}}}]),LineChart}(PointSeries)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsLineChartProvider=VislibVisualizationsLineChartProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_point_series=__webpack_require__(493)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsAreaChartProvider(Private){var PointSeries=Private(_point_series.VislibVisualizationsPointSeriesProvider),defaults={mode:"normal",showCircles:!0,radiusRatio:9,showLines:!0,interpolate:"linear",color:void 0,fillColor:void 0};return function(_PointSeries){function AreaChart(handler,chartEl,chartData,seriesConfigArgs){_classCallCheck(this,AreaChart);var _this=_possibleConstructorReturn(this,(AreaChart.__proto__||Object.getPrototypeOf(AreaChart)).call(this,handler,chartEl,chartData,seriesConfigArgs));if(_this.seriesConfig=_lodash2.default.defaults(seriesConfigArgs||{},defaults),_this.isOverlapping="stacked"!==_this.seriesConfig.mode,_this.isOverlapping){_this.seriesConfig.defaultOpacity=.6,handler.highlight=function(element){var label=this.getAttribute("data-label");if(label){var highlightElements=(0,_jquery2.default)("[data-label]",element.parentNode).filter(function(els,el){return""+(0,_jquery2.default)(el).data("label")===label});(0,_jquery2.default)("[data-label]",element.parentNode).not(highlightElements).css("opacity",.3),highlightElements.css("opacity",.8)}},handler.unHighlight=function(element){(0,_jquery2.default)("[data-label]",element).css("opacity",.6),(0,_jquery2.default)("[data-label]",(0,_jquery2.default)(element).siblings()).css("opacity",1)}}return _this}return _inherits(AreaChart,_PointSeries),_createClass(AreaChart,[{key:"addPath",value:function(svg,data){function x(d){return isTimeSeries?xScale(d.x):xScale(d.x)+xScale.rangeBand()/2}function y1(d){var y0=d.y0||0,y=d.y||0;return yScale(y0+y)}function y0(d){var y0=d.y0||0;return yScale(y0)}function getArea(){return isHorizontal?_d2.default.svg.area().x(x).y0(y0).y1(y1):_d2.default.svg.area().y(x).x0(y0).x1(y1)}var ordered=this.handler.data.get("ordered"),isTimeSeries=ordered&&ordered.date,isOverlapping=this.isOverlapping,color=this.handler.data.getColorFunc(),xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),interpolate=this.seriesConfig.interpolate,isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),layer=svg.append("g").attr("class",function(d,i){return"series series-"+i}),path=layer.append("path").attr("data-label",data.label).style("fill",function(){return color(data.label)}).style("stroke",function(){return color(data.label)}).classed("overlap_area",function(){return isOverlapping}).attr("clip-path","url(#"+this.baseChart.clipPathId+")");return path.attr("d",function(){return getArea().defined(function(d){return!_lodash2.default.isNull(d.y)}).interpolate(interpolate)(data.values.filter(function(d){return!_lodash2.default.isNull(d.y)}))}).style("stroke-width","1px"),path}},{key:"addCircles",value:function(svg,data){function cx(d){return ordered&&ordered.date?xScale(d.x):xScale(d.x)+xScale.rangeBand()/2}function cy(d){var y=d.y||0;return yScale(isOverlapping?y:d.y0+y)}var color=this.handler.data.getColorFunc(),xScale=this.getCategoryAxis().getScale(),yScale=this.getValueAxis().getScale(),ordered=this.handler.data.get("ordered"),tooltip=this.baseChart.tooltip,isTooltip=this.handler.visConfig.get("tooltip.show"),isOverlapping=this.isOverlapping,isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),layer=svg.append("g").attr("class","points area").attr("clip-path","url(#"+this.baseChart.clipPathId+")"),circles=layer.selectAll("circles").data(function(){return data.values.filter(function(d){return 0!==d.y&&!_lodash2.default.isNull(d.y)})});return circles.exit().remove(),circles.enter().append("circle").attr("data-label",data.label).attr("stroke",function(){return color(data.label)}).attr("fill","transparent").attr("stroke-width",0),circles.attr("cx",isHorizontal?cx:cy).attr("cy",isHorizontal?cy:cx).attr("r",12),isTooltip&&circles.call(tooltip.render()),circles}},{key:"addPathEvents",value:function(path){var events=this.events;if(this.handler.visConfig.get("enableHover")){var hover=events.addHoverEvent(),mouseout=events.addMouseoutEvent();path.call(hover).call(mouseout)}}},{key:"draw",value:function(){var self=this;return function(selection){selection.each(function(){var svg=self.chartEl.append("g");svg.data([self.chartData]);var path=self.addPath(svg,self.chartData);self.addPathEvents(path);var circles=self.addCircles(svg,self.chartData);return self.addCircleEvents(circles),self.events.emit("rendered",{chart:self.chartData}),svg})}}}]),AreaChart}(PointSeries)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsAreaChartProvider=VislibVisualizationsAreaChartProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_point_series=__webpack_require__(493)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsHeatmapChartProvider(Private){var PointSeries=Private(_point_series.VislibVisualizationsPointSeriesProvider),defaults={color:void 0,fillColor:void 0};return function(_PointSeries){function HeatmapChart(handler,chartEl,chartData,seriesConfigArgs){_classCallCheck(this,HeatmapChart);var _this=_possibleConstructorReturn(this,(HeatmapChart.__proto__||Object.getPrototypeOf(HeatmapChart)).call(this,handler,chartEl,chartData,seriesConfigArgs));_this.seriesConfig=_lodash2.default.defaults(seriesConfigArgs||{},defaults),_this.handler.visConfig.set("legend",{labels:_this.getHeatmapLabels(_this.handler.visConfig),colors:_this.getHeatmapColors(_this.handler.visConfig)});var colors=_this.handler.visConfig.get("legend.colors",null);return colors&&(_this.handler.vis.uiState.setSilent("vis.defaultColors",null),_this.handler.vis.uiState.setSilent("vis.defaultColors",colors)),_this}return _inherits(HeatmapChart,_PointSeries),_createClass(HeatmapChart,[{key:"getHeatmapLabels",value:function(cfg){var percentageMode=cfg.get("percentageMode"),colorsNumber=cfg.get("colorsNumber"),colorsRange=cfg.get("colorsRange"),zAxisConfig=this.getValueAxis().axisConfig,zAxisFormatter=zAxisConfig.get("labels.axisFormatter"),zScale=this.getValueAxis().getScale(),_zScale$domain=zScale.domain(),_zScale$domain2=_slicedToArray(_zScale$domain,2),min=_zScale$domain2[0],max=_zScale$domain2[1],labels=[];if(cfg.get("setColorRange"))colorsRange.forEach(function(range){var from=isFinite(range.from)?zAxisFormatter(range.from):range.from,to=isFinite(range.to)?zAxisFormatter(range.to):range.to;labels.push(from+" - "+to)});else{if(max===min)return[min.toString()];for(var i=0;i<colorsNumber;i++){var label=void 0,val=i/colorsNumber,nextVal=(i+1)/colorsNumber;percentageMode?(val=Math.ceil(100*val),nextVal=Math.ceil(100*nextVal),label=val+"% - "+nextVal+"%"):(val=val*(max-min)+min,nextVal=nextVal*(max-min)+min,max>1&&(val=Math.ceil(val),nextVal=Math.ceil(nextVal)),isFinite(val)&&(val=zAxisFormatter(val)),isFinite(nextVal)&&(nextVal=zAxisFormatter(nextVal)),label=val+" - "+nextVal),labels.push(label)}}return labels}},{key:"getHeatmapColors",value:function(cfg){var colorsNumber=cfg.get("colorsNumber"),invertColors=cfg.get("invertColors"),colorSchema=cfg.get("colorSchema"),labels=this.getHeatmapLabels(cfg),colors={};for(var i in labels)if(labels[i]){var val=invertColors?1-i/colorsNumber:i/colorsNumber;colors[labels[i]]=(0,_heatmap_color.getHeatmapColors)(val,colorSchema)}return colors}},{key:"addSquares",value:function(svg,data){function x(d){return xScale(d.x)}function y(d){return yScale(d.series)}function getColorBucket(d){var val=0;if(setColorRange&&colorsRange.length){var bucket=_lodash2.default.find(colorsRange,function(range){return range.from<=d.y&&range.to>d.y});return bucket?colorsRange.indexOf(bucket):-1}return isNaN(min)||isNaN(max)?val=colorsNumber-1:min===max?val=0:(val=(d.y-min)/(max-min),val=Math.min(colorsNumber-1,Math.floor(val*colorsNumber))),isNaN(val)?-1:val}function label(d){var colorBucket=getColorBucket(d);return-1===colorBucket&&(d.hide=!0),labels[colorBucket]}function z(d){return""===label(d)?"transparent":color(label(d))}var xScale=this.getCategoryAxis().getScale(),yScale=this.handler.categoryAxes[1].getScale(),zScale=this.getValueAxis().getScale(),tooltip=this.baseChart.tooltip,isTooltip=this.handler.visConfig.get("tooltip.show"),isHorizontal=this.getCategoryAxis().axisConfig.isHorizontal(),colorsNumber=this.handler.visConfig.get("colorsNumber"),setColorRange=this.handler.visConfig.get("setColorRange"),colorsRange=this.handler.visConfig.get("colorsRange"),color=this.handler.data.getColorFunc(),labels=this.handler.visConfig.get("legend.labels"),zAxisConfig=this.getValueAxis().axisConfig,zAxisFormatter=zAxisConfig.get("labels.axisFormatter"),showLabels=zAxisConfig.get("labels.show"),overwriteLabelColor=zAxisConfig.get("labels.overwriteColor",!1),layer=svg.append("g").attr("class","series"),squares=layer.selectAll("g.square").data(data.values);squares.exit().remove();var barWidth=void 0;if(this.getCategoryAxis().axisConfig.isTimeDomain()){var _handler$data$get=this.handler.data.get("ordered"),_min=_handler$data$get.min,interval=_handler$data$get.interval,start=_min,end=(0,_moment2.default)(_min).add(interval).valueOf();barWidth=xScale(end)-xScale(start),isHorizontal||(barWidth*=-1)}var _zScale$domain3=zScale.domain(),_zScale$domain4=_slicedToArray(_zScale$domain3,2),min=_zScale$domain4[0],max=_zScale$domain4[1],squareWidth=barWidth||xScale.rangeBand(),squareHeight=yScale.rangeBand();if(squares.enter().append("g").attr("class","square"),squares.append("rect").attr("x",x).attr("width",squareWidth).attr("y",y).attr("height",squareHeight).attr("data-label",label).attr("fill",z).attr("style","cursor: pointer; stroke: black; stroke-width: 0.1px").style("display",function(d){return d.hide?"none":"initial"}),showLabels){var rotate=zAxisConfig.get("labels.rotate"),rotateRad=rotate*Math.PI/180,maxLength=Math.min(Math.abs(squareWidth/Math.cos(rotateRad)),Math.abs(squareHeight/Math.sin(rotateRad)))-5,maxHeight=Math.min(Math.abs(squareWidth/Math.sin(rotateRad)),Math.abs(squareHeight/Math.cos(rotateRad)))-5,labelColor=void 0;labelColor=overwriteLabelColor?zAxisConfig.get("labels.color"):function(d){var bgColor=z(d),color=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(bgColor);return color&&(0,_eui.isColorDark)(parseInt(color[1]),parseInt(color[2]),parseInt(color[3]))?"#FFF":"#222"};var hiddenLabels=!1;squares.append("text").text(function(d){return zAxisFormatter(d.y)}).style("display",function(d){var textLength=this.getBBox().width,textHeight=this.getBBox().height,textTooLong=textLength>maxLength,textTooWide=textHeight>maxHeight;return d.hide||!textTooLong&&!textTooWide||(hiddenLabels=!0),d.hide||textTooLong||textTooWide?"none":"initial"}).style("dominant-baseline","central").style("text-anchor","middle").style("fill",labelColor).attr("x",function(d){return x(d)+squareWidth/2}).attr("y",function(d){return y(d)+squareHeight/2}).attr("transform",function(d){var horizontalCenter=x(d)+squareWidth/2,verticalCenter=y(d)+squareHeight/2;return"rotate("+rotate+","+horizontalCenter+","+verticalCenter+")"}),hiddenLabels&&this.baseChart.handler.alerts.show("Some labels were hidden due to size constraints")}return isTooltip&&squares.call(tooltip.render()),squares.selectAll("rect")}},{key:"draw",value:function(){var self=this;return function(selection){selection.each(function(){var svg=self.chartEl.append("g");svg.data([self.chartData]);var squares=self.addSquares(svg,self.chartData);return self.addCircleEvents(squares),self.events.emit("rendered",{chart:self.chartData}),svg})}}}]),HeatmapChart}(PointSeries)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsHeatmapChartProvider=VislibVisualizationsHeatmapChartProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_point_series=__webpack_require__(493),_heatmap_color=__webpack_require__(703),_eui=__webpack_require__(5)},function(module,exports){module.exports='<p class="vis-tooltip-header bg-info">\n  <i class="fa fa-info-circle vis-tooltip-header-icon"></i>\n  <span class="vis-tooltip-header-text">\n    <%= wholeBucket ? \'Part of this bucket\' : \'This area\' %>\n    may contain partial data. <br> The selected time range does not fully cover it.\n  </span>\n</p>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisualizationsPieChartProvider(Private){var Chart=Private(_chart.VislibVisualizationsChartProvider),defaults={isDonut:!1,showTooltip:!0,color:void 0,fillColor:void 0};return function(_Chart){function PieChart(handler,chartEl,chartData){_classCallCheck(this,PieChart);var _this=_possibleConstructorReturn(this,(PieChart.__proto__||Object.getPrototypeOf(PieChart)).call(this,handler,chartEl,chartData)),charts=_this.handler.data.getVisData();return _this._validatePieData(charts),_this._attr=_lodash2.default.defaults(handler.visConfig.get("chart",{}),defaults),_this}return _inherits(PieChart,_Chart),_createClass(PieChart,[{key:"_validatePieData",value:function(charts){if(charts.every(function(chart){return 0===chart.slices.children.length}))throw new _errors.PieContainsAllZeros}},{key:"addPathEvents",value:function(element){var events=this.events;return element.call(events.addHoverEvent()).call(events.addMouseoutEvent()).call(events.addClickEvent())}},{key:"convertToPercentage",value:function(slices){!function assignPercentages(slices){if(null==slices.sumOfChildren){var parent=slices,children=parent.children,parentPercent=parent.percentOfParent,sum=parent.sumOfChildren=Math.abs(children.reduce(function(sum,child){return sum+Math.abs(child.size)},0));children.forEach(function(child){child.percentOfGroup=Math.abs(child.size)/sum,child.percentOfParent=child.percentOfGroup,null!=parentPercent&&(child.percentOfParent*=parentPercent),child.children&&assignPercentages(child)})}}(slices)}},{key:"addPath",value:function(width,height,svg,slices){var self=this,isDonut=self._attr.isDonut,radius=Math.min(width,height)/2*.95,color=self.handler.data.getPieColorFunc(),tooltip=self.tooltip,isTooltip=self._attr.addTooltip,arcs=svg.append("g").attr("class","arcs"),labels=svg.append("g").attr("class","labels"),showLabels=self._attr.labels.show,showValues=self._attr.labels.values,truncateLabelLength=self._attr.labels.truncate,showOnlyOnLastLevel=self._attr.labels.last_level,partition=_d2.default.layout.partition().sort(null).value(function(d){return 100*d.percentOfParent}),x=_d2.default.scale.linear().range([0,2*Math.PI]),y=_d2.default.scale.sqrt().range([0,showLabels?.7*radius:radius]),startAngle=function(d){return Math.max(0,Math.min(2*Math.PI,x(d.x)))},endAngle=function(d){return d.dx<1e-8?x(d.x):Math.max(0,Math.min(2*Math.PI,x(d.x+d.dx)))},arc=_d2.default.svg.arc().startAngle(startAngle).endAngle(endAngle).innerRadius(function(d){return 1!==d.depth||isDonut?Math.max(0,y(d.y)):0}).outerRadius(function(d){return Math.max(0,y(d.y+d.dy))}),outerArc=_d2.default.svg.arc().startAngle(startAngle).endAngle(endAngle).innerRadius(.8*radius).outerRadius(.8*radius),maxDepth=0,path=arcs.datum(slices).selectAll("path").data(partition.nodes).enter().append("path").attr("d",arc).attr("class",function(d){if(0!==d.depth)return d.depth>maxDepth&&(maxDepth=d.depth),"slice"}).attr("data-test-subj",function(d){if(d.name)return"pieSlice-"+d.name.split(" ").join("-")}).call(self._addIdentifier,"name").style("fill",function(d){return 0===d.depth?"none":color(d.name)});if(showLabels){var labelGroups=labels.datum(slices).selectAll(".label").data(partition.nodes),svgParentNode=svg.node().parentNode.parentNode,svgBBox={width:svgParentNode.clientWidth,height:svgParentNode.clientHeight},labelLayout=_d2.default.geom.quadtree().extent([[-svgBBox.width,-svgBBox.height],[svgBBox.width,svgBBox.height]]).x(function(d){return d.position.x}).y(function(d){return d.position.y})([]);labelGroups.enter().append("g").attr("class","label").append("text").text(function(d){if(0===d.depth)return void _d2.default.select(this.parentNode).remove();if(showValues){var value=(0,_numeral2.default)(d.value/100).format("0.[00]%");return d.name+" ("+value+")"}return d.name}).text(function(){return(0,_truncate_labels.truncateLabel)(this,truncateLabelLength)}).attr("text-anchor",function(d){return startAngle(d)+(endAngle(d)-startAngle(d))/2<Math.PI?"start":"end"}).attr("class","label-text").each(function(d){if(0!==d.depth){var parentNode=this.parentNode;if(showOnlyOnLastLevel&&maxDepth!==d.depth)return void _d2.default.select(parentNode).remove();var bbox=this.getBBox(),pos=outerArc.centroid(d),midAngle=startAngle(d)+(endAngle(d)-startAngle(d))/2;pos[1]+=4,pos[0]=(.7+d.depth/10)*radius*(midAngle<Math.PI?1:-1),d.position={x:pos[0],y:pos[1],left:midAngle<Math.PI?pos[0]:pos[0]-bbox.width,right:midAngle>Math.PI?pos[0]+bbox.width:pos[0],bottom:pos[1]+5,top:pos[1]-bbox.height-5};var conflicts=[];if(labelLayout.visit(function(node){if(node.point){if(conflicts.length)return!0;var point=node.point.position,current=d.position;if(point){var horizontalConflict=point.left<0&&current.left<0||point.left>0&&current.left>0,verticalConflict=point.top>=current.top&&point.top<=current.bottom||point.top<=current.top&&point.bottom>=current.top;return horizontalConflict&&verticalConflict&&(point.point=node.point,conflicts.push(point)),!0}}}),conflicts.length)return void _d2.default.select(parentNode).remove();labelLayout.add(d)}}).attr("x",function(d){if(0!==d.depth&&d.position)return d.position.x}).attr("y",function(d){if(0!==d.depth&&d.position)return d.position.y}),labelGroups.append("polyline").attr("points",function(d){if(0!==d.depth&&d.position){var pos1=outerArc.centroid(d),x2=d.position.x>0?d.position.x-10:d.position.x+10,pos2=[x2,d.position.y-4];return pos1[1]=pos2[1],[arc.centroid(d),pos1,pos2]}}).attr("class","label-line")}return isTooltip&&path.call(tooltip.render()),path}},{key:"_validateContainerSize",value:function(width,height){if(width<=20||height<=20)throw new _errors.ContainerTooSmall}},{key:"draw",value:function(){var self=this;return function(selection){selection.each(function(data){var slices=data.slices,div=_d2.default.select(this),width=(0,_jquery2.default)(this).width(),height=(0,_jquery2.default)(this).height();if(slices.children.length){self.convertToPercentage(slices),self._validateContainerSize(width,height);var svg=div.append("svg").attr("width",width).attr("height",height).append("g").attr("transform","translate("+width/2+","+height/2+")"),path=self.addPath(width,height,svg,slices);return self.addPathEvents(path),self.events.emit("rendered",{chart:data}),svg}})}}}]),PieChart}(Chart)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisualizationsPieChartProvider=VislibVisualizationsPieChartProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_numeral=__webpack_require__(431),_numeral2=_interopRequireDefault(_numeral),_errors=__webpack_require__(56),_chart=__webpack_require__(702),_truncate_labels=__webpack_require__(1230)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function GaugeChartProvider(Private){var Chart=Private(_chart.VislibVisualizationsChartProvider),gaugeTypes=Private(_gauge_types.GaugeTypesProvider);return function(_Chart){function GaugeChart(handler,chartEl,chartData){_classCallCheck(this,GaugeChart);var _this=_possibleConstructorReturn(this,(GaugeChart.__proto__||Object.getPrototypeOf(GaugeChart)).call(this,handler,chartEl,chartData));return _this.gaugeConfig=handler.visConfig.get("gauge",{}),_this.gauge=new gaugeTypes[_this.gaugeConfig.type](_this),_this}return _inherits(GaugeChart,_Chart),_createClass(GaugeChart,[{key:"addEvents",value:function(element){var events=this.events;return element.call(events.addHoverEvent()).call(events.addMouseoutEvent()).call(events.addClickEvent())}},{key:"draw",value:function(){var self=this,verticalSplit=this.gaugeConfig.verticalSplit;return function(selection){selection.each(function(data){var div=_d2.default.select(this),containerWidth=(0,_jquery2.default)(this).width()-20,containerHeight=(0,_jquery2.default)(this).height()-20,width=Math.floor(verticalSplit?(0,_jquery2.default)(this).width():containerWidth/data.series.length),height=Math.floor((verticalSplit?containerHeight/data.series.length:(0,_jquery2.default)(this).height())-25);if(!(height<0||width<0))return div.style("text-align","center").style("overflow-y","auto"),data.series.forEach(function(series){var svg=div.append("svg").style("display","inline-block").style("overflow","hidden").attr("width",width),g=svg.append("g"),gauges=self.gauge.drawGauge(g,series,width,height);svg.attr("height",height);var transformX=width/2,transformY="Arc"===self.gaugeConfig.gaugeType?height/1.5:height/2;g.attr("transform","translate("+transformX+", "+transformY+")"),self.addEvents(gauges)}),div.append("div").attr("class","chart-title").style("text-align","center").text(data.label||data.yAxisLabel),self.events.emit("rendered",{chart:data}),div})}}}]),GaugeChart}(Chart)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.GaugeChartProvider=GaugeChartProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_chart=__webpack_require__(702),_gauge_types=__webpack_require__(3773)},function(module,exports,__webpack_require__){"use strict";function GaugeTypesProvider(Private){return{meter:Private(_meter.MeterGaugeProvider)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GaugeTypesProvider=GaugeTypesProvider;var _meter=__webpack_require__(3774)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function MeterGaugeProvider(){var defaultConfig={showTooltip:!0,percentageMode:!0,maxAngle:2*Math.PI*1.3,minAngle:2*Math.PI*.7,innerSpace:5,extents:[0,1e4],scale:{show:!0,color:"#666",width:2,ticks:10,tickLength:8},labels:{show:!0,color:"#666"},style:{bgWidth:.5,width:.9}};return function(){function MeterGauge(gaugeChart){_classCallCheck(this,MeterGauge),this.gaugeChart=gaugeChart,this.gaugeConfig=gaugeChart.gaugeConfig,this.gaugeConfig=_lodash2.default.defaultsDeep(this.gaugeConfig,defaultConfig),this.gaugeChart.handler.visConfig.set("legend",{labels:this.getLabels(),colors:this.getColors()});var colors=this.gaugeChart.handler.visConfig.get("legend.colors",null);colors&&(this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",null),this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",colors)),this.colorFunc=this.gaugeChart.handler.data.getColorFunc()}return _createClass(MeterGauge,[{key:"getLabels",value:function(){var isPercentageMode=this.gaugeConfig.percentageMode,colorsRange=this.gaugeConfig.colorsRange,max=_lodash2.default.last(colorsRange).to,labels=[];return colorsRange.forEach(function(range){var from=isPercentageMode?Math.round(100*range.from/max):range.from,to=isPercentageMode?Math.round(100*range.to/max):range.to;labels.push(from+" - "+to)}),labels}},{key:"getColors",value:function(){for(var invertColors=this.gaugeConfig.invertColors,colorSchema=this.gaugeConfig.colorSchema,colorsRange=this.gaugeConfig.colorsRange,labels=this.getLabels(),colors={},i=0;i<labels.length;i+=1){var divider=Math.max(colorsRange.length-1,1),val=invertColors?1-i/divider:i/divider;colors[labels[i]]=(0,_heatmap_color.getHeatmapColors)(val,colorSchema)}return colors}},{key:"getBucket",value:function(val){var bucket=_lodash2.default.findIndex(this.gaugeConfig.colorsRange,function(range){return range.from<=val&&range.to>val});return-1===bucket&&(bucket=val<this.gaugeConfig.colorsRange[0].from?0:this.gaugeConfig.colorsRange.length-1),bucket}},{key:"getLabel",value:function(val){var bucket=this.getBucket(val);return this.gaugeChart.handler.visConfig.get("legend.labels")[bucket]}},{key:"getColorBucket",value:function(val){var bucket=this.getBucket(val),labels=this.gaugeChart.handler.visConfig.get("legend.labels");return this.colorFunc(labels[bucket])}},{key:"drawScale",value:function(svg,radius,angle){var _this=this,scaleWidth=this.gaugeConfig.scale.width,tickLength=this.gaugeConfig.scale.tickLength,scaleTicks=this.gaugeConfig.scale.ticks,scale=svg.append("g");this.gaugeConfig.colorsRange.forEach(function(range){var color=_this.getColorBucket(range.from),scaleArc=_d2.default.svg.arc().startAngle(angle(range.from)).endAngle(angle(range.to)).innerRadius(radius).outerRadius(radius+scaleWidth);scale.append("path").attr("d",scaleArc).style("stroke",color).style("fill",color)});for(var extents=angle.domain(),i=0;i<=scaleTicks;i++){var val=i*(extents[1]-extents[0])/scaleTicks,tickAngle=angle(val)-Math.PI/2,x0=Math.cos(tickAngle)*radius,x1=Math.cos(tickAngle)*(radius-tickLength),y0=Math.sin(tickAngle)*radius,y1=Math.sin(tickAngle)*(radius-tickLength),color=this.getColorBucket(val);scale.append("line").attr("x1",x0).attr("x2",x1).attr("y1",y0).attr("y2",y1).style("stroke-width",scaleWidth).style("stroke",color)}return scale}},{key:"drawGauge",value:function(svg,data,width,height){var _this2=this,self=this,tooltip=this.gaugeChart.tooltip,isTooltip=this.gaugeChart.handler.visConfig.get("addTooltip"),isDisplayWarning=this.gaugeChart.handler.visConfig.get("isDisplayWarning",!1),maxAngle=this.gaugeConfig.maxAngle,minAngle=this.gaugeConfig.minAngle,angleFactor="Arc"===this.gaugeConfig.gaugeType?.75:1,maxRadius=Math.min(width,height/angleFactor)/2*.95,extendRange=this.gaugeConfig.extendRange,maxY=_lodash2.default.max(data.values,"y").y,min=this.gaugeConfig.colorsRange[0].from,max=_lodash2.default.last(this.gaugeConfig.colorsRange).to,angle=_d2.default.scale.linear().range([minAngle,maxAngle]).domain([min,extendRange&&max<maxY?maxY:max]),radius=_d2.default.scale.linear().range([0,maxRadius]).domain([this.gaugeConfig.innerSpace+1,0]),totalWidth=Math.abs(radius(0)-radius(1)),bgPadding=totalWidth*(1-this.gaugeConfig.style.bgWidth)/2,gaugePadding=totalWidth*(1-this.gaugeConfig.style.width)/2,arc=_d2.default.svg.arc().startAngle(minAngle).endAngle(function(d){return Math.max(0,Math.min(maxAngle,angle(Math.max(min,d.y))))}).innerRadius(function(d,i,j){return Math.max(0,radius(j+1)+gaugePadding)}).outerRadius(function(d,i,j){return Math.max(0,radius(j)-gaugePadding)}),bgArc=_d2.default.svg.arc().startAngle(minAngle).endAngle(maxAngle).innerRadius(function(d,i,j){return Math.max(0,radius(j+1)+bgPadding)}).outerRadius(function(d,i,j){return Math.max(0,radius(j)-bgPadding)}),gaugeHolders=svg.selectAll("path").data([data]).enter().append("g").attr("data-label",function(d){return _this2.getLabel(d.values[0].y)}),gauges=gaugeHolders.selectAll("g").data(function(d){return d.values}).enter();gauges.append("path").attr("d",bgArc).style("fill",this.gaugeConfig.style.bgFill);var series=gauges.append("path").attr("d",arc).style("fill",function(d){return self.getColorBucket(Math.max(min,d.y))}),smallContainer=svg.node().getBBox().height<70,hiddenLabels=smallContainer;return this.gaugeConfig.labels.show&&(svg.append("text").attr("class","chart-label").text(data.label).attr("y",-30).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",function(){var textLength=this.getBBox().width,textTooLong=textLength>maxRadius;return textTooLong&&(hiddenLabels=!0),smallContainer||textTooLong?"none":"initial"}),svg.append("text").attr("class","chart-label").text(this.gaugeConfig.style.subText).attr("y",20).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",function(){var textLength=this.getBBox().width,textTooLong=textLength>maxRadius;return textTooLong&&(hiddenLabels=!0),smallContainer||textTooLong?"none":"initial"})),gauges.append("text").attr("class","chart-label").attr("y",-5).text(function(d){if(_this2.gaugeConfig.percentageMode){return Math.round(100*(d.y-min)/(max-min))+"%"}if(_lodash2.default.has(d,"aggConfigResult.aggConfig")){return d.aggConfigResult.aggConfig.fieldFormatter("text")(d.y)}return d.y}).attr("style","dominant-baseline: central;").style("text-anchor","middle").style("font-size","2em").style("display",function(){var textLength=this.getBBox().width,textTooLong=textLength>maxRadius;return textTooLong&&(hiddenLabels=!0),textTooLong?"none":"initial"}),this.gaugeConfig.scale.show&&this.drawScale(svg,radius(1),angle),isTooltip&&series.each(function(){_d2.default.select(this).call(tooltip.render())}),hiddenLabels&&isDisplayWarning&&this.gaugeChart.handler.alerts.show("Some labels were hidden due to size constraints"),series}}]),MeterGauge}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.MeterGaugeProvider=MeterGaugeProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_heatmap_color=__webpack_require__(703)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function VislibVisProvider(Private){var Events=Private(_events.EventsProvider),VisConfig=Private(_vis_config.VislibVisConfigProvider),Handler=Private(_handler.VisHandlerProvider);return function(_Events){function Vis($el,visConfigArgs){_classCallCheck(this,Vis);var _this=_possibleConstructorReturn(this,(Vis.__proto__||Object.getPrototypeOf(Vis)).call(this,arguments));return _this.el=$el.get?$el.get(0):$el,_this.visConfigArgs=_lodash2.default.cloneDeep(visConfigArgs),_this}return _inherits(Vis,_Events),_createClass(Vis,[{key:"hasLegend",value:function(){return this.visConfigArgs.addLegend}},{key:"render",value:function(data,uiState){if(!data)throw new Error("No valid data!");this.handler&&(this.data=null,this._runOnHandler("destroy")),this.data=data,this.uiState=uiState,this.visConfig=new VisConfig(this.visConfigArgs,this.data,this.uiState,this.el),this.handler=new Handler(this,this.visConfig),this._runOnHandler("render")}},{key:"getLegendLabels",value:function(){return this.visConfig?this.visConfig.get("legend.labels",null):null}},{key:"getLegendColors",value:function(){return this.visConfig?this.visConfig.get("legend.colors",null):null}},{key:"_runOnHandler",value:function(method){try{this.handler[method]()}catch(error){if(!(error instanceof _errors.KbnError))throw error;error.displayToScreen(this.handler)}}},{key:"destroy",value:function(){var selection=_d2.default.select(this.el).select(".vis-wrapper");this.handler&&this._runOnHandler("destroy"),selection.remove()}},{key:"set",value:function(name,val){this.visConfigArgs[name]=val,this.render(this.data,this.uiState)}},{key:"get",value:function(name){return this.visConfig.get(name)}},{key:"on",value:function(event,listener){var first=0===this.listenerCount(event),ret=Events.prototype.on.call(this,event,listener),added=this.listenerCount(event)>0;return first&&added&&this.handler&&this.handler.enable(event),ret}},{key:"off",value:function(event,listener){var last=1===this.listenerCount(event),ret=Events.prototype.off.call(this,event,listener),removed=0===this.listenerCount(event);return last&&removed&&this.handler&&this.handler.disable(event),ret}}]),Vis}(Events)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisProvider=VislibVisProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_errors=__webpack_require__(56),_events=__webpack_require__(240);__webpack_require__(1231);var _vis_config=__webpack_require__(3776),_handler=__webpack_require__(3777)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibVisConfigProvider(Private){var Data=Private(_data.VislibLibDataProvider),visTypes=Private(_types.VislibTypesProvider),DEFAULT_VIS_CONFIG={style:{margin:{top:10,right:3,bottom:5,left:3}},alerts:[],categoryAxes:[],valueAxes:[],grid:{}};return function(){function VisConfig(visConfigArgs,data,uiState,el){_classCallCheck(this,VisConfig),this.data=new Data(data,uiState);var visType=visTypes[visConfigArgs.type],typeDefaults=visType(visConfigArgs,this.data);this._values=_lodash2.default.defaultsDeep({},typeDefaults,DEFAULT_VIS_CONFIG),this._values.el=el}return _createClass(VisConfig,[{key:"get",value:function(property,defaults){if(_lodash2.default.has(this._values,property)||void 0!==defaults)return _lodash2.default.get(this._values,property,defaults);throw new Error("Accessing invalid config property: "+property)}},{key:"set",value:function(property,value){return _lodash2.default.set(this._values,property,value)}}]),VisConfig}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibVisConfigProvider=VislibVisConfigProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_types=__webpack_require__(1226),_data=__webpack_require__(700)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VisHandlerProvider(Private){var chartTypes=Private(_vis_types.VislibVisualizationsVisTypesProvider),Layout=Private(_layout.VislibLibLayoutLayoutProvider),ChartTitle=Private(_chart_title.VislibLibChartTitleProvider),Alerts=Private(_alerts.VislibLibAlertsProvider),Axis=Private(_axis.VislibLibAxisProvider),Grid=Private(_chart_grid.VislibGridProvider);return function(){function Handler(vis,visConfig){_classCallCheck(this,Handler),this.el=visConfig.get("el"),this.ChartClass=chartTypes[visConfig.get("type")],this.charts=[],this.vis=vis,this.visConfig=visConfig,this.data=visConfig.data,this.categoryAxes=visConfig.get("categoryAxes").map(function(axisArgs){return new Axis(visConfig,axisArgs)}),this.valueAxes=visConfig.get("valueAxes").map(function(axisArgs){return new Axis(visConfig,axisArgs)}),this.chartTitle=new ChartTitle(visConfig),this.alerts=new Alerts(this,visConfig.get("alerts")),this.grid=new Grid(this,visConfig.get("grid")),"point_series"===visConfig.get("type")&&this.data.stackData(this),visConfig.get("resize",!1)&&(this.resize=visConfig.get("resize")),this.layout=new Layout(visConfig),this.binder=new _binder.Binder,this.renderArray=_lodash2.default.filter([this.layout,this.chartTitle,this.alerts],Boolean),this.renderArray=this.renderArray.concat(this.valueAxes).concat(this.categoryAxes.slice().reverse()),this.getProxyHandler=_lodash2.default.memoize(function(event){var self=this;return function(e){self.vis.emit(event,e)}}),this.enable=this.chartEventProxyToggle("on"),this.disable=this.chartEventProxyToggle("off")}return _createClass(Handler,[{key:"_validateData",value:function(){if(!this.data.type)throw new _errors.NoResults}},{key:"render",value:function(){if(this.visConfig.get("error",null))return this.error(this.visConfig.get("error"));var self=this,binder=this.binder,_charts=this.charts,charts=void 0===_charts?[]:_charts,selection=_d2.default.select(this.el);selection.selectAll("*").remove(),this._validateData(),this.renderArray.forEach(function(property){"function"==typeof property.render&&property.render()});var loadedCount=0,chartSelection=selection.selectAll(".chart");chartSelection.each(function(chartData){var chart=new self.ChartClass(self,this,chartData);self.vis.activeEvents().forEach(function(event){self.enable(event,chart)}),binder.on(chart.events,"rendered",function(){++loadedCount===chartSelection.length&&self.vis.emit("renderComplete")}),charts.push(chart),chart.render()})}},{key:"chartEventProxyToggle",value:function(method){return function(event,chart){var proxyHandler=this.getProxyHandler(event);_lodash2.default.each(chart?[chart]:this.charts,function(chart){chart.events[method](event,proxyHandler)})}}},{key:"removeAll",value:function(el){return _d2.default.select(el).selectAll("*").remove()}},{key:"error",value:function(message){this.removeAll(this.el);var div=_d2.default.select(this.el).append("div").attr("class","visualize-error chart error");return"No results found"===message?(div.append("div").attr("class","text-center visualize-error visualize-chart").append("div").attr("class","item top").append("div").attr("class","item").append("h2").html('<i class="fa fa-meh-o"></i>').append("h4").text(message),div.append("div").attr("class","item bottom")):div.append("h4").text(markdownIt.renderInline(message)),(0,_render_complete.dispatchRenderComplete)(this.el),div}},{key:"destroy",value:function(){this.binder.destroy(),this.renderArray.forEach(function(renderable){_lodash2.default.isFunction(renderable.destroy)&&renderable.destroy()}),this.charts.splice(0).forEach(function(chart){_lodash2.default.isFunction(chart.destroy)&&chart.destroy()})}}]),Handler}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VisHandlerProvider=VisHandlerProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_markdownIt=__webpack_require__(344),_markdownIt2=_interopRequireDefault(_markdownIt),_errors=__webpack_require__(56),_binder=__webpack_require__(1229),_layout=__webpack_require__(3778),_chart_title=__webpack_require__(1234),_alerts=__webpack_require__(3785),_axis=__webpack_require__(1232),_chart_grid=__webpack_require__(3786),_vis_types=__webpack_require__(1228),_render_complete=__webpack_require__(494),markdownIt=new _markdownIt2.default({html:!1,linkify:!0})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibLayoutLayoutProvider(Private){var layoutType=Private(_layout_types.VislibLibLayoutLayoutTypesProvider),Axis=Private(_axis.VislibLibAxisProvider),ChartTitle=Private(_chart_title.VislibLibChartTitleProvider);return function(){function Layout(config){_classCallCheck(this,Layout),this.el=config.get("el"),this.data=config.data.data,this.opts=config,this.layoutType=layoutType[config.get("type")](this.el,this.data)}return _createClass(Layout,[{key:"render",value:function(){this.removeAll(this.el),this.createLayout(this.layoutType),"point_series"===this.opts.get("type")&&this.updateCategoryAxisSize()}},{key:"createLayout",value:function(arr){var _this=this;return _lodash2.default.each(arr,function(obj){_this.layout(obj)})}},{key:"updateCategoryAxisSize",value:function(){var visConfig=this.opts,axisConfig=visConfig.get("categoryAxes[0]"),axis=new Axis(visConfig,axisConfig),position=axis.axisConfig.get("position"),chartTitle=new ChartTitle(visConfig),axisWrapperElement=(0,_jquery2.default)(this.el).find(".axis-wrapper-"+position);axisWrapperElement.css("visibility","hidden"),axis.render(),chartTitle.render();var width=axisWrapperElement.width(),height=axisWrapperElement.height();if(axis.destroy(),(0,_jquery2.default)(this.el).find(".chart-title svg").remove(),axisWrapperElement.css("visibility",""),axis.axisConfig.isHorizontal()){(0,_jquery2.default)(this.el).find(".y-axis-spacer-block-"+position).height(height+"px")}else axisWrapperElement.find(".y-axis-div-wrapper").width(width+"px")}},{key:"layout",value:function(obj){if(!obj.parent)throw new Error("No parent element provided");if(!obj.type)throw new Error("No element type provided");if("string"!=typeof obj.type)throw new Error(obj.type+" must be a string");"string"==typeof obj.parent&&"."!==obj.parent.charAt(0)&&(obj.parent="."+obj.parent);var childEl=this.appendElem(obj.parent,obj.type,obj.class);if(obj.datum&&childEl.datum(obj.datum),obj.splits&&childEl.call(obj.splits,obj.parent,this.opts),obj.children){var newParent=childEl[0][0];_lodash2.default.forEach(obj.children,function(obj){obj.parent||(obj.parent=newParent)}),this.createLayout(obj.children)}return childEl}},{key:"appendElem",value:function(el,type,className){if(!el||!type||!className)throw new Error("Function requires that an el, type, and class be provided");return"string"==typeof el&&(el=_d2.default.select(this.el).select(el)[0][0]),_d2.default.select(el).append(type).attr("class",className)}},{key:"removeAll",value:function(el){return _d2.default.select(el).selectAll("*").remove()}}]),Layout}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibLayoutLayoutProvider=VislibLibLayoutLayoutProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_layout_types=__webpack_require__(1227),_axis=__webpack_require__(3779),_chart_title=__webpack_require__(1234)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _axis=__webpack_require__(1232);Object.defineProperty(exports,"VislibLibAxisProvider",{enumerable:!0,get:function(){return _axis.VislibLibAxisProvider}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibAxisTitleProvider(){return function(){function AxisTitle(axisConfig){_classCallCheck(this,AxisTitle),this.axisConfig=axisConfig,this.elSelector=this.axisConfig.get("title.elSelector").replace("{pos}",this.axisConfig.get("position"))}return _createClass(AxisTitle,[{key:"render",value:function(){_d2.default.select(this.axisConfig.get("rootEl")).selectAll(this.elSelector).call(this.draw())}},{key:"destroy",value:function(){(0,_jquery2.default)(this.axisConfig.get("rootEl")).find(this.elSelector).find("svg").remove()}},{key:"draw",value:function(){var config=this.axisConfig;return function(selection){selection.each(function(){if(config.get("show")||config.get("title.show",!1)){var el=this,div=_d2.default.select(el),width=(0,_jquery2.default)(el).width(),height=(0,_jquery2.default)(el).height(),axisPrefix=config.isHorizontal()?"x":"y",svg=div.append("svg").attr("width",width).attr("height",height).attr("class","axis-title "+axisPrefix+"-axis-title"),bbox=svg.append("text").attr("transform",function(){return config.isHorizontal()?"translate("+width/2+",0)":"translate(0,"+height/2+") rotate(270)"}).attr("text-anchor","middle").attr("dominant-baseline","hanging").text(config.get("title.text")).node().getBBox();config.isHorizontal()?svg.attr("height",Math.ceil(bbox.height)):svg.attr("width",Math.ceil(bbox.height))}})}}}]),AxisTitle}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibAxisTitleProvider=VislibLibAxisTitleProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibAxisLabelsProvider(){return function(){function AxisLabels(axisConfig,scale){_classCallCheck(this,AxisLabels),this.axisConfig=axisConfig,this.axisScale=scale}return _createClass(AxisLabels,[{key:"render",value:function(selection){selection.call(this.draw())}},{key:"rotateAxisLabels",value:function(){var config=this.axisConfig;return function(selection){var text=selection.selectAll(".tick text");config.get("labels.rotate")&&text.style("text-anchor",function(){var currentValue=(0,_jquery2.default)(this).css("text-anchor"),rotateDeg=config.get("labels.rotate");if(!rotateDeg)return currentValue;switch(config.get("position")){case"top":case"bottom":return"end";default:return 90===rotateDeg||-90===rotateDeg?"middle":currentValue}}).attr("dy",function(){return config.isHorizontal()?"0.3em":"0"}).attr("transform",function(d,j){var position=config.get("position"),rotateDeg="top"===position?config.get("labels.rotate"):-config.get("labels.rotate");if("middle"===(0,_jquery2.default)(this).css("text-anchor")){var coord=text[0][j].getBBox();return"rotate("+rotateDeg+", "+(coord.x+coord.width/2)+", "+(coord.y+coord.height/2)+")"}return"rotate("+rotateDeg+", "+this.attributes.x.nodeValue+", "+this.attributes.y.nodeValue+")"})}}},{key:"truncateLabels",value:function(){var config=this.axisConfig;return function(selection){config.get("labels.truncate")&&selection.selectAll(".tick text").text(function(){return(0,_truncate_labels.truncateLabel)(this,config.get("labels.truncate"))})}}},{key:"filterAxisLabels",value:function(){var self=this,config=this.axisConfig,startPos=0;return function(selection){config.get("labels.filter")&&selection.selectAll(".tick text").text(function(d){var par=_d2.default.select(this.parentNode).node(),el=(0,_jquery2.default)(config.get("rootEl")).find(config.get("elSelector")),maxSize=config.isHorizontal()?el.width():el.height(),myPos=config.isHorizontal()?self.axisScale.scale(d):maxSize-self.axisScale.scale(d),mySize=1.1*(config.isHorizontal()?par.getBBox().width:par.getBBox().height),halfSize=mySize/2;if(startPos+halfSize<myPos&&maxSize>myPos+halfSize)return startPos=myPos+halfSize,this.textContent;_d2.default.select(this.parentNode).remove()})}}},{key:"draw",value:function(){var self=this,config=this.axisConfig;return function(selection){selection.each(function(){selection.selectAll("text").attr("style",function(){return _d2.default.select(this).attr("style")+" font-size: "+config.get("labels.fontSize")+";"}),config.get("labels.show")||selection.selectAll("text").attr("style","display: none;"),selection.call(self.truncateLabels()),selection.call(self.rotateAxisLabels()),selection.call(self.filterAxisLabels())})}}}]),AxisLabels}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibAxisLabelsProvider=VislibAxisLabelsProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_truncate_labels=__webpack_require__(1230)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibAxisScaleProvider(){return function(){function AxisScale(axisConfig,visConfig){_classCallCheck(this,AxisScale),this.axisConfig=axisConfig,this.visConfig=visConfig,"category"===this.axisConfig.get("type")&&(this.values=this.axisConfig.values,this.ordered=this.axisConfig.ordered)}return _createClass(AxisScale,[{key:"getScaleType",value:function(){return this.axisConfig.getScaleType()}},{key:"validateUserExtents",value:function(domain){var config=this.axisConfig;return domain.map(function(val){if(val=parseFloat(val),isNaN(val))throw new Error(val+" is not a valid number");return config.isPercentage()&&config.isUserDefined()?val/100:val})}},{key:"getTimeDomain",value:function(data){return[this.minExtent(data),this.maxExtent(data)]}},{key:"minExtent",value:function(data){return this.calculateExtent(data||this.values,"min")}},{key:"maxExtent",value:function(data){return this.calculateExtent(data||this.values,"max")}},{key:"calculateExtent",value:function(data,extent){var ordered=this.ordered,opts=[ordered[extent]],point=_d2.default[extent](data);return this.axisConfig.get("scale.expandLastBucket")&&"max"===extent&&(point=this.addInterval(point)),opts.push(point),_d2.default[extent](opts.reduce(function(opts,v){return _lodash2.default.isNumber(v)||(v=+v),isNaN(v)||opts.push(v),opts},[]))}},{key:"addInterval",value:function(x){return this.modByInterval(x,1)}},{key:"subtractInterval",value:function(x){return this.modByInterval(x,-1)}},{key:"modByInterval",value:function(x,n){var ordered=this.ordered;if(!ordered)return x;var interval=ordered.interval;if(!interval)return x;if(!ordered.date)return x+=ordered.interval*n;var y=(0,_moment2.default)(x),method=n>0?"add":"subtract";return _lodash2.default.times(Math.abs(n),function(){y[method](interval)}),y.valueOf()}},{key:"getAllPoints",value:function(){var _this=this,config=this.axisConfig,data=this.visConfig.data.chartData();return _lodash2.default.reduce(data,function(chartPoints,chart,chartIndex){var points=chart.series.reduce(function(points,seri,seriIndex){var seriConfig=_this.visConfig.get("charts["+chartIndex+"].series["+seriIndex+"]"),matchingValueAxis=!!seriConfig.valueAxis&&seriConfig.valueAxis===config.get("id"),isFirstAxis=config.get("id")===_this.visConfig.get("valueAxes[0].id");if(matchingValueAxis||!seriConfig.valueAxis&&isFirstAxis){var axisPoints=seri.values.map(function(val){return val.y0?val.y0+val.y:val.y});return points.concat(axisPoints)}return points},[]);return chartPoints.concat(points)},[])}},{key:"getYMin",value:function(){return _d2.default.min(this.getAllPoints())}},{key:"getYMax",value:function(){return _d2.default.max(this.getAllPoints())}},{key:"getExtents",value:function(){if("category"===this.axisConfig.get("type")){if(this.axisConfig.isTimeDomain())return this.getTimeDomain(this.values);if(this.axisConfig.isOrdinal())return this.values}var min=this.axisConfig.get("scale.min",this.getYMin()),max=this.axisConfig.get("scale.max",this.getYMax()),domain=[min,max];return this.axisConfig.isUserDefined()?this.validateUserExtents(domain):this.axisConfig.isLogScale()?this.logDomain(min,max):this.axisConfig.isYExtents()?domain:[Math.min(0,min),Math.max(0,max)]}},{key:"getRange",value:function(length){return this.axisConfig.isHorizontal()?this.axisConfig.get("scale.inverted")?[length,0]:[0,length]:this.axisConfig.get("scale.inverted")?[0,length]:[length,0]}},{key:"throwCustomError",value:function(message){throw new Error(message)}},{key:"throwLogScaleValuesError",value:function(){throw new _errors.InvalidLogScaleValues}},{key:"logDomain",value:function(min,max){return min<0||max<0?this.throwLogScaleValuesError():[1,max]}},{key:"getD3Scale",value:function(scaleTypeArg){var scaleType=scaleTypeArg||"linear";return"square root"===scaleType&&(scaleType="sqrt"),this.axisConfig.isTimeDomain()?_d2.default.time.scale.utc():this.axisConfig.isOrdinal()?_d2.default.scale.ordinal():"function"!=typeof _d2.default.scale[scaleType]?this.throwCustomError("Axis.getScaleType: "+scaleType+" is not a function"):_d2.default.scale[scaleType]()}},{key:"canApplyNice",value:function(){var config=this.axisConfig;return!(config.isUserDefined()||config.isYExtents()||config.isOrdinal()||config.isTimeDomain())}},{key:"getScale",value:function(length){var config=this.axisConfig,scale=this.getD3Scale(config.getScaleType()),domain=this.getExtents(),range=this.getRange(length),padding=config.get("style.rangePadding"),outerPadding=config.get("style.rangeOuterPadding");return this.scale=scale.domain(domain),config.isOrdinal()?this.scale.rangeBands(range,padding,outerPadding):this.scale.range(range),this.canApplyNice()&&this.scale.nice(),this.scale.clamp&&this.scale.clamp(!0),this.validateScale(this.scale),this.scale}},{key:"validateScale",value:function(scale){if(!scale||_lodash2.default.isNaN(scale))throw new Error("scale is "+scale)}}]),AxisScale}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibAxisScaleProvider=VislibAxisScaleProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_errors=__webpack_require__(56)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibAxisConfigProvider(){var defaults={show:!0,type:"value",elSelector:".axis-wrapper-{pos} .axis-div",position:"left",scale:{type:"linear",expandLastBucket:!0,inverted:!1,setYExtents:null,defaultYExtents:null,min:null,max:null,mode:_scale_modes.SCALE_MODES.NORMAL},style:{color:"#ddd",lineWidth:"1px",opacity:1,tickColor:"#ddd",tickWidth:"1px",tickLength:"6px",rangePadding:.1,rangeOuterPadding:0},labels:{axisFormatter:null,show:!0,rotate:0,rotateAnchor:"center",filter:!1,color:"#ddd",font:'"Open Sans", "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"8pt",truncate:100},title:{text:"",elSelector:".axis-wrapper-{pos} .axis-div"}},categoryDefaults={type:"category",position:"bottom"},valueDefaults={labels:{axisFormatter:_d2.default.format("n")}},horizontalDefaults={labels:{rotate:0,rotateAnchor:"end",filter:!0,truncate:0}},verticalDefaults={labels:{rotateAnchor:"middle"}};return function(){function AxisConfig(chartConfig,axisConfigArgs){_classCallCheck(this,AxisConfig);var typeDefaults="category"===axisConfigArgs.type?categoryDefaults:valueDefaults,axisConfigArgsClone=_lodash2.default.cloneDeep(axisConfigArgs),isCategoryAxis="category"===axisConfigArgsClone.type,isHorizontal=axisConfigArgsClone.position&&["top","bottom"].includes(axisConfigArgsClone.position);if(_lodash2.default.merge(typeDefaults,isHorizontal||isCategoryAxis?horizontalDefaults:verticalDefaults),this._values=_lodash2.default.defaultsDeep({},axisConfigArgsClone,typeDefaults,defaults),this._values.elSelector=this._values.elSelector.replace("{pos}",this._values.position),this._values.rootEl=chartConfig.get("el"),this.data=chartConfig.data,isCategoryAxis&&(this._values.values?this.values=this._values.values:(this.values=this.data.xValues(chartConfig.get("orderBucketsBySum",!1)),this.ordered=this.data.get("ordered")),this._values.labels.axisFormatter||(this._values.labels.axisFormatter=this.data.data.xAxisFormatter||this.data.get("xAxisFormatter"))),"value"===this.get("type")){(this.get("scale.mode")===_scale_modes.SCALE_MODES.WIGGLE||this.get("scale.mode")===_scale_modes.SCALE_MODES.SILHOUETTE)&&(this._values.scale.defaultYExtents=!1,axisConfigArgs.show||(this._values.show=!1,this._values.title.show=!0)),this.isPercentage()&&(this._values.labels.axisFormatter=_d2.default.format("%")),this.isLogScale()&&(this._values.labels.filter=!0)}if(null==axisConfigArgs.title||null==axisConfigArgs.title.text){var label=isCategoryAxis?"xAxisLabel":"yAxisLabel";this.set("title.text",this.data.get(label))}this.isHorizontal()&&this.isOrdinal()&&(this._values.labels.filter=_lodash2.default.get(axisConfigArgs,"labels.filter",!1),this._values.labels.rotate=_lodash2.default.get(axisConfigArgs,"labels.rotate",90),this._values.labels.truncate=_lodash2.default.get(axisConfigArgs,"labels.truncate",100)),"category"!==this.get("type")||this.isHorizontal()||(this._values.scale.inverted=_lodash2.default.get(axisConfigArgs,"scale.inverted",!0));var offset=void 0,stacked=!0;switch(this.get("scale.mode")){case _scale_modes.SCALE_MODES.NORMAL:offset="zero",stacked=!1;break;case _scale_modes.SCALE_MODES.GROUPED:offset="group",stacked=!1;break;case _scale_modes.SCALE_MODES.PERCENTAGE:offset=function(data){for(var n=data.length,m=data[0].length,y0=[],j=0;j<m;++j){for(var o=0,i=0;i<n;i++)o+=data[i][j][1];if(o)for(var _i=0;_i<n;_i++)data[_i][j][1]/=o}for(var _j=0;_j<m;++_j)y0[_j]=0;return y0};break;default:offset=this.get("scale.mode")}this.set("scale.offset",_lodash2.default.get(axisConfigArgs,"scale.offset",offset)),this.set("scale.stacked",stacked)}return _createClass(AxisConfig,[{key:"get",value:function(property,defaults){if(void 0===defaults&&!_lodash2.default.has(this._values,property))throw new Error("Accessing invalid config property: "+property);var val=_lodash2.default.get(this._values,property,defaults);return null==val&&null!=defaults?defaults:val}},{key:"set",value:function(property,value){return _lodash2.default.set(this._values,property,value)}},{key:"isHorizontal",value:function(){return"top"===this._values.position||"bottom"===this._values.position}},{key:"isOrdinal",value:function(){return!!this.values&&!this.isTimeDomain()}},{key:"isTimeDomain",value:function(){return this.ordered&&this.ordered.date}},{key:"isPercentage",value:function(){return this._values.scale.mode===_scale_modes.SCALE_MODES.PERCENTAGE}},{key:"isUserDefined",value:function(){return this._values.scale.setYExtents}},{key:"isYExtents",value:function(){return this._values.scale.defaultYExtents}},{key:"isLogScale",value:function(){return"log"===this.getScaleType()}},{key:"getScaleType",value:function(){return this._values.scale.type}}]),AxisConfig}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibAxisConfigProvider=VislibLibAxisConfigProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_scale_modes=__webpack_require__(3784)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SCALE_MODES={NORMAL:"normal",PERCENTAGE:"percentage",WIGGLE:"wiggle",SILHOUETTE:"silhouette",GROUPED:"grouped",ALL:["normal","percentage","wiggle","silhouette"]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibLibAlertsProvider(){return function(){function Alerts(vis,alertDefs){var _this=this;_classCallCheck(this,Alerts),this.vis=vis,this.data=vis.data,this.alertDefs=_lodash2.default.cloneDeep(alertDefs),this.alerts=(0,_lodash2.default)(alertDefs).map(function(alertDef){if(alertDef&&(!alertDef.test||alertDef.test(vis,_this.data)))return _this._addAlert(alertDef)}).compact()}return _createClass(Alerts,[{key:"_addAlert",value:function(alertDef){var type=alertDef.type||"info",icon=alertDef.icon||type,msg=alertDef.msg,$icon=(0,_jquery2.default)("<i>").addClass("vis-alerts-icon fa fa-"+icon),$text=(0,_jquery2.default)("<p>").addClass("vis-alerts-text").text(msg),$closeIcon=(0,_jquery2.default)("<i>").addClass("fa fa-close"),$closeDiv=(0,_jquery2.default)("<div>").addClass("vis-alerts-close").append($closeIcon),$alert=(0,_jquery2.default)("<div>").addClass("vis-alert vis-alert-"+type).append([$icon,$text,$closeDiv]);return $closeDiv.on("click",function(){$alert.remove()}),$alert}},{key:"render",value:function(){var alerts=this.alerts,vis=this.vis;(0,_jquery2.default)(vis.el).find(".vis-alerts").append((0,_jquery2.default)("<div>").addClass("vis-alerts-tray")),alerts.size()&&(0,_jquery2.default)(vis.el).find(".vis-alerts-tray").append(alerts.value())}},{key:"show",value:function(msg,type){var vis=this.vis,alert={msg:msg,type:type};this.alertDefs.find(function(alertDef){return alertDef.msg===alert.msg})||(this.alertDefs.push(alert),(0,_jquery2.default)(vis.el).find(".vis-alerts-tray").append(this._addAlert(alert)))}},{key:"destroy",value:function(){(0,_jquery2.default)(this.vis.el).find(".vis-alerts").remove()}}]),Alerts}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibLibAlertsProvider=VislibLibAlertsProvider;var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VislibGridProvider(){var defaults={style:{color:"#eee"},categoryLines:!1,valueAxis:void 0};return function(){function ChartGrid(handler,gridConfig){_classCallCheck(this,ChartGrid),gridConfig&&(this._handler=handler,this._values=_lodash2.default.defaultsDeep({},gridConfig,defaults))}return _createClass(ChartGrid,[{key:"drawLine",value:function(svg,tick,axis,width,height){var isHorizontal=axis.axisConfig.isHorizontal(),scale=axis.getScale();svg.append("path").attr("d",function(){var x0=isHorizontal?tick:0,x1=isHorizontal?tick:width,y0=isHorizontal?0:tick,y1=isHorizontal?height:tick;return _d2.default.svg.line().x(function(d){return isHorizontal?scale(d[0]):d[0]}).y(function(d){return isHorizontal?d[1]:scale(d[1])})([[x0,y0],[x1,y1]])}).attr("fill","none").attr("stroke",this.get("style.color")).attr("stroke-width",1)}},{key:"drawCategoryLines",value:function(svg,width,height){var _this=this,axis=this._handler.categoryAxes[0];if(axis){var ticks=axis.getScale().ticks;ticks&&ticks().forEach(function(tick){_this.drawLine(svg,tick,axis,width,height)})}}},{key:"drawValueLines",value:function(svg,width,height){var _this2=this,axis=this._handler.valueAxes.find(function(axis){return axis.axisConfig.get("id")===_this2.get("valueAxis")});if(axis){var ticks=axis.getScale().ticks;ticks&&ticks().forEach(function(tick){_this2.drawLine(svg,tick,axis,width,height)})}}},{key:"draw",value:function(width,height){var self=this;return function(selection){self._values&&selection.each(function(){self.get("categoryLines")&&self.drawCategoryLines(_d2.default.select(this),width,height),self.get("valueAxis",!1)&&self.drawValueLines(_d2.default.select(this),width,height)})}}},{key:"get",value:function(property,defaults){if(_lodash2.default.has(this._values,property)||void 0!==defaults)return _lodash2.default.get(this._values,property,defaults);throw new Error("Accessing invalid config property: "+property)}},{key:"set",value:function(property,value){return _lodash2.default.set(this._values,property,value)}}]),ChartGrid}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VislibGridProvider=VislibGridProvider;var _d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash)},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2);_modules.uiModules.get("kibana").directive("renderComplete",function(){return{controller:function($scope,$element){var el=$element[0],start=function(){return $element.attr("data-render-complete",!1),!0},complete=function(){return $element.attr("data-render-complete",!0),!0},teardown=function(){el.removeEventListener("renderStart",start),el.removeEventListener("renderComplete",complete)};this.disable=function(){$element.attr("data-render-complete","disabled"),teardown()},function(){$element.attr("data-render-complete",!1),el.addEventListener("renderStart",start),el.addEventListener("renderComplete",complete),$scope.$on("$destroy",teardown)}()}}})},function(module,exports,__webpack_require__){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ReactVisTypeProvider(Private,getAppState,config){var VisType=Private(_.VisTypeProvider),ReactVisController=function(){function ReactVisController(el,vis){_classCallCheck(this,ReactVisController),this.el=el,this.vis=vis}return _createClass(ReactVisController,[{key:"render",value:function(visData,updateStatus){var _this=this;return this.visData=visData,new Promise(function(resolve){var Component=_this.vis.type.visConfig.component;(0,_reactDom.render)(_react2.default.createElement(Component,{config:config,vis:_this.vis,appState:getAppState(),visData:visData,renderComplete:resolve,updateStatus:updateStatus}),_this.el)})}},{key:"destroy",value:function(){(0,_reactDom.unmountComponentAtNode)(this.el)}}]),ReactVisController}();return function(_VisType){function ReactVisType(opts){_classCallCheck(this,ReactVisType),opts.visualization=ReactVisController;var _this2=_possibleConstructorReturn(this,(ReactVisType.__proto__||Object.getPrototypeOf(ReactVisType)).call(this,opts));if(!_this2.visConfig.component)throw new Error("Missing component for ReactVisType");return _this2}return _inherits(ReactVisType,_VisType),ReactVisType}(VisType)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ReactVisTypeProvider=ReactVisTypeProvider;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(17),_=__webpack_require__(698)},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"3c9862715546cd524edf3b9fa7516994.svg"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimelionRequestHandlerProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_dashboard_context=__webpack_require__(704),_timezone=__webpack_require__(695),TimelionRequestHandlerProvider=function(Private,Notifier,$http){var timezone=Private(_timezone.timezoneProvider)(),dashboardContext=Private(_dashboard_context.dashboardContextProvider),notify=new Notifier({location:"Timelion"});return{name:"timelion",handler:function(vis,_ref){var timeRange=_ref.timeRange;return new Promise(function(resolve,reject){var expression=vis.params.expression;if(expression){$http.post("../api/timelion/run",{sheet:[expression],extended:{es:{filter:dashboardContext()}},time:_lodash2.default.extend(timeRange,{interval:vis.params.interval,timezone:timezone})}).then(function(resp){return resp.data}).catch(function(resp){throw resp.data}).then(function(resp){resolve(resp)}).catch(function(resp){var err=new Error(resp.message);err.stack=resp.stack,notify.error(err),reject(err)})}})}}};exports.TimelionRequestHandlerProvider=TimelionRequestHandlerProvider},function(module,exports,__webpack_require__){"use strict";__webpack_require__(696),__webpack_require__(1215),__webpack_require__(355),__webpack_require__(2).uiModules.get("kibana/timelion_vis",["kibana"]).controller("TimelionVisController",function($scope){$scope.$on("timelionChartRendered",function(event){event.stopPropagation(),$scope.renderComplete()})})},function(module,exports){},function(module,exports){module.exports='<div ng-controller="TimelionVisController" class="timelion-vis">\n    <div chart="esResponse.sheet[0]" interval="visState.params.interval"></div>\n</div>\n'},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="form-group">\n    <label for="timelionInterval">Interval</label>\n    <div class="form-group">\n      <timelion-interval model="vis.params.interval"></timelion-interval>\n    </div>\n  </div>\n\n  <div class="form-group">\n    <div>\n      <label>Timelion Expression</label>\n    </div>\n\n    <timelion-expression-input\n      sheet="vis.params.expression"\n      rows="9"\n    ></timelion-expression-input>\n  </div>\n\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_modules=__webpack_require__(2),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_theme=__webpack_require__(1146),_notify=__webpack_require__(10);__webpack_require__(734);var _dashboard_strings=__webpack_require__(4115),_dashboard_view_mode=__webpack_require__(196),_top_nav_ids=__webpack_require__(1287),_confirm_modal=__webpack_require__(652),_query_filter=__webpack_require__(164),_doc_title=__webpack_require__(255),_get_top_nav_config=__webpack_require__(4116),_dashboard_constants=__webpack_require__(138),_visualize_constants=__webpack_require__(312),_dashboard_state_manager=__webpack_require__(4121),_lib=__webpack_require__(1319),_show_clone_modal=__webpack_require__(4227),_migrateLegacyQuery=__webpack_require__(457),_dashboard_container_api=__webpack_require__(4229),_filter=__webpack_require__(1320),filterActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_filter),_filter_manager=__webpack_require__(365),_embeddable_factories_registry=__webpack_require__(514),_dashboard_viewport_provider=__webpack_require__(4233),app=_modules.uiModules.get("app/dashboard",["elasticsearch","ngRoute","react","kibana/courier","kibana/config","kibana/notify","kibana/typeahead"]);app.directive("dashboardViewportProvider",function(reactDirective){return reactDirective(_dashboard_viewport_provider.DashboardViewportProvider)}),app.directive("dashboardApp",function($injector){var Notifier=$injector.get("Notifier"),courier=$injector.get("courier"),AppState=$injector.get("AppState"),timefilter=$injector.get("timefilter"),kbnUrl=$injector.get("kbnUrl"),confirmModal=$injector.get("confirmModal"),config=$injector.get("config"),Private=$injector.get("Private");return{restrict:"E",controllerAs:"dashboardApp",controller:function($scope,$rootScope,$route,$routeParams,$location,getAppState,$compile,dashboardConfig,localStorage){function updateViewMode(newMode){$scope.topNavMenu=(0,_get_top_nav_config.getTopNavConfig)(newMode,navActions,dashboardConfig.getHideWriteControls()),dashboardStateManager.switchViewMode(newMode),$scope.dashboardViewMode=newMode}function updateTheme(){dashboardStateManager.getDarkTheme()?setDarkTheme():setLightTheme()}function setDarkTheme(){_chrome2.default.removeApplicationClass(["theme-light"]),_chrome2.default.addApplicationClass("theme-dark"),(0,_theme.applyTheme)("dark")}function setLightTheme(){_chrome2.default.removeApplicationClass(["theme-dark"]),_chrome2.default.addApplicationClass("theme-light"),(0,_theme.applyTheme)("light")}var _this=this,filterManager=Private(_filter_manager.FilterManagerProvider),filterBar=Private(_query_filter.FilterBarQueryFilterProvider),docTitle=Private(_doc_title.DocTitleProvider),notify=new Notifier({location:"Dashboard"}),embeddableFactories=Private(_embeddable_factories_registry.EmbeddableFactoriesRegistryProvider);$scope.getEmbeddableFactory=function(panelType){return embeddableFactories.byName[panelType]};var dash=$scope.dash=$route.current.locals.dash;dash.id&&docTitle.change(dash.title);var dashboardStateManager=new _dashboard_state_manager.DashboardStateManager(dash,AppState,dashboardConfig.getHideWriteControls());$scope.getDashboardState=function(){return dashboardStateManager},$scope.appState=dashboardStateManager.getAppState(),$scope.containerApi=new _dashboard_container_api.DashboardContainerAPI(dashboardStateManager,function(field,value,operator,index){filterActions.addFilter(field,value,operator,index,dashboardStateManager.getAppState(),filterManager),dashboardStateManager.saveState()}),$scope.getContainerApi=function(){return $scope.containerApi},dashboardStateManager.getIsTimeSavedWithDashboard()&&!getAppState.previouslyStored()&&dashboardStateManager.syncTimefilterWithDashboard(timefilter,config.get("timepicker:quickRanges"));var updateState=function(){$scope.model={query:dashboardStateManager.getQuery(),useMargins:dashboardStateManager.getUseMargins(),hidePanelTitles:dashboardStateManager.getHidePanelTitles(),darkTheme:dashboardStateManager.getDarkTheme(),timeRestore:dashboardStateManager.getTimeRestore(),title:dashboardStateManager.getTitle(),description:dashboardStateManager.getDescription()},$scope.panels=dashboardStateManager.getPanels(),$scope.indexPatterns=dashboardStateManager.getPanelIndexPatterns()};this.appStatus={dirty:!dash.id},this.getSharingTitle=function(){return dash.title},this.getSharingType=function(){return"dashboard"},dashboardStateManager.registerChangeListener(function(status){_this.appStatus.dirty=status.dirty||!dash.id,updateState()}),dashboardStateManager.applyFilters(dashboardStateManager.getQuery()||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filterBar.getFilters()),timefilter.enableAutoRefreshSelector(),timefilter.enableTimeRangeSelector(),dash.searchSource.highlightAll(!0),dash.searchSource.version(!0),courier.setRootSearchSource(dash.searchSource),updateState(),$scope.refresh=function(){$rootScope.$broadcast("fetch"),courier.fetch.apply(courier,arguments)},$scope.timefilter=timefilter,$scope.expandedPanel=null,$scope.dashboardViewMode=dashboardStateManager.getViewMode(),$scope.landingPageUrl=function(){return"#"+_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH},$scope.hasExpandedPanel=function(){return null!==$scope.expandedPanel},$scope.getDashTitle=function(){return(0,_dashboard_strings.getDashboardTitle)(dashboardStateManager.getTitle(),dashboardStateManager.getViewMode(),dashboardStateManager.getIsDirty(timefilter))},$scope.newDashboard=function(){kbnUrl.change(_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL,{})},$scope.saveState=function(){return dashboardStateManager.saveState()},$scope.getShouldShowEditHelp=function(){return!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsEditMode()&&!dashboardConfig.getHideWriteControls()},$scope.getShouldShowViewHelp=function(){return!dashboardStateManager.getPanels().length&&dashboardStateManager.getIsViewMode()&&!dashboardConfig.getHideWriteControls()},$scope.minimizeExpandedPanel=function(){$scope.expandedPanel=null},$scope.expandPanel=function(panelIndex){$scope.expandedPanel=dashboardStateManager.getPanels().find(function(panel){return panel.panelIndex===panelIndex})},$scope.updateQueryAndFetch=function(query){$scope.model.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query),dashboardStateManager.applyFilters($scope.model.query,filterBar.getFilters()),$scope.refresh()},$scope.addVis=function(hit){var showToast=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];dashboardStateManager.addNewPanel(hit.id,"visualization"),showToast&&_notify.toastNotifications.addSuccess({title:"Visualization was added to your dashboard","data-test-subj":"addVisualizationToDashboardSuccess"})},$scope.addSearch=function(hit){dashboardStateManager.addNewPanel(hit.id,"search"),_notify.toastNotifications.addSuccess({title:"Saved search was added to your dashboard","data-test-subj":"addSavedSearchToDashboardSuccess"})},$scope.$watch("model.hidePanelTitles",function(){dashboardStateManager.setHidePanelTitles($scope.model.hidePanelTitles)}),$scope.$watch("model.useMargins",function(){dashboardStateManager.setUseMargins($scope.model.useMargins)}),$scope.$watch("model.darkTheme",function(){dashboardStateManager.setDarkTheme($scope.model.darkTheme),updateTheme()}),$scope.$watch("model.description",function(){return dashboardStateManager.setDescription($scope.model.description)}),$scope.$watch("model.title",function(){return dashboardStateManager.setTitle($scope.model.title)}),$scope.$watch("model.timeRestore",function(){return dashboardStateManager.setTimeRestore($scope.model.timeRestore)}),$scope.indexPatterns=[],$scope.registerPanelIndexPattern=function(panelIndex,pattern){dashboardStateManager.registerPanelIndexPatternMap(panelIndex,pattern),$scope.indexPatterns=dashboardStateManager.getPanelIndexPatterns()},$scope.onPanelRemoved=function(panelIndex){dashboardStateManager.removePanel(panelIndex),$scope.indexPatterns=dashboardStateManager.getPanelIndexPatterns()},$scope.$watch("model.query",$scope.updateQueryAndFetch),$scope.$listen(timefilter,"fetch",$scope.refresh);var onChangeViewMode=function(newMode){function revertChangesAndExitEditMode(){dashboardStateManager.resetState(),kbnUrl.change(dash.id?(0,_dashboard_constants.createDashboardEditUrl)(dash.id):_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL),updateViewMode(_dashboard_view_mode.DashboardViewMode.VIEW),dashboardStateManager.getIsTimeSavedWithDashboard()&&dashboardStateManager.syncTimefilterWithDashboard(timefilter,config.get("timepicker:quickRanges"))}if(newMode===dashboardStateManager.getViewMode()||newMode!==_dashboard_view_mode.DashboardViewMode.VIEW||!dashboardStateManager.getIsDirty(timefilter))return void updateViewMode(newMode);confirmModal("Once you discard your changes, there's no getting them back.",{onConfirm:revertChangesAndExitEditMode,onCancel:_lodash2.default.noop,confirmButtonText:"Discard changes",cancelButtonText:"Continue editing",defaultFocusedButton:_confirm_modal.ConfirmationButtonTypes.CANCEL,title:"Discard changes to dashboard?"})};$scope.save=function(){return(0,_lib.saveDashboard)(_angular2.default.toJson,timefilter,dashboardStateManager).then(function(id){return $scope.kbnTopNav.close("save"),id&&(_notify.toastNotifications.addSuccess({title:"Dashboard '"+dash.title+"' was saved","data-test-subj":"saveDashboardSuccess"}),dash.id!==$routeParams.id?kbnUrl.change((0,_dashboard_constants.createDashboardEditUrl)(dash.id)):(docTitle.change(dash.lastSavedTitle),updateViewMode(_dashboard_view_mode.DashboardViewMode.VIEW))),id}).catch(notify.error)},$scope.showFilterBar=function(){return filterBar.getFilters().length>0||!dashboardStateManager.getFullScreenMode()},$scope.showAddPanel=function(){dashboardStateManager.setFullScreenMode(!1),$scope.kbnTopNav.open("add")},$scope.enterEditMode=function(){dashboardStateManager.setFullScreenMode(!1),$scope.kbnTopNav.click("edit")};var navActions={};if(navActions[_top_nav_ids.TopNavIds.FULL_SCREEN]=function(){return dashboardStateManager.setFullScreenMode(!0)},navActions[_top_nav_ids.TopNavIds.EXIT_EDIT_MODE]=function(){return onChangeViewMode(_dashboard_view_mode.DashboardViewMode.VIEW)},navActions[_top_nav_ids.TopNavIds.ENTER_EDIT_MODE]=function(){return onChangeViewMode(_dashboard_view_mode.DashboardViewMode.EDIT)},navActions[_top_nav_ids.TopNavIds.CLONE]=function(){var currentTitle=$scope.model.title,onClone=function(newTitle){return dashboardStateManager.savedDashboard.copyOnSave=!0,dashboardStateManager.setTitle(newTitle),$scope.save().then(function(id){return id||($scope.model.title=currentTitle,dashboardStateManager.setTitle(currentTitle)),id})};(0,_show_clone_modal.showCloneModal)(onClone,currentTitle,$rootScope,$compile)},updateViewMode(dashboardStateManager.getViewMode()),$scope.$listen(filterBar,"update",function(){dashboardStateManager.applyFilters($scope.model.query,filterBar.getFilters())}),$scope.$listen(filterBar,"fetch",$scope.refresh),$scope.$on("$destroy",function(){dashboardStateManager.destroy(),setLightTheme()}),$route.current.params&&$route.current.params[_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM]){$scope.addVis({id:$route.current.params[_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM]},!1),kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM),kbnUrl.removeParam(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM)}var addNewVis=function(){kbnUrl.change(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH+"?"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM)};$scope.opts={displayName:dash.getDisplayName(),dashboard:dash,save:$scope.save,addVis:$scope.addVis,addNewVis:addNewVis,addSearch:$scope.addSearch,timefilter:$scope.timefilter}}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_query_bar=__webpack_require__(4111),_query_bar2=_interopRequireDefault(_query_bar),_suggestion=__webpack_require__(4112),_suggestion2=_interopRequireDefault(_suggestion),_kuery=__webpack_require__(1053);__webpack_require__(4113),__webpack_require__(1134),__webpack_require__(4114),_modules.uiModules.get("kibana").directive("queryBar",function(){return{restrict:"E",template:_query_bar2.default,scope:{query:"=",appName:"=?",onSubmit:"&",disableAutoFocus:"=",indexPatterns:"="},controllerAs:"queryBar",bindToController:!0,controller:(0,_compat.callAfterBindingsWorkaround)(function($scope,$element,$http,$timeout,config,PersistedLog,indexPatterns){var _this=this;this.appName=this.appName||"global",this.getIndexPatterns=function(){return(0,_lodash.compact)(_this.indexPatterns).length?Promise.resolve(_this.indexPatterns):Promise.all([indexPatterns.getDefault()])},this.submit=function(){_this.localQuery.query&&_this.persistedLog.add(_this.localQuery.query),_this.onSubmit({$query:_this.localQuery}),_this.suggestions=[]},this.selectLanguage=function(language){_this.localQuery.language=language,_this.localQuery.query="",_this.submit()},this.suggestionTemplate=_suggestion2.default,this.handleKeyDown=function(event){["ArrowLeft","ArrowRight","Home","End"].includes(event.key)&&_this.updateSuggestions()},this.updateSuggestions=function(){var query=(0,_lodash.get)(_this,"localQuery.query");if(void 0!==query&&(_this.suggestions=_this.getRecentSearchSuggestions(query),"kuery"===_this.localQuery.language&&_this.getKuerySuggestions)){var _$element$find$=$element.find("input")[0],selectionStart=_$element$find$.selectionStart,selectionEnd=_$element$find$.selectionEnd;_this.getKuerySuggestions({query:query,selectionStart:selectionStart,selectionEnd:selectionEnd}).then(function(suggestions){$scope.$apply(function(){return _this.suggestions=[].concat(_toConsumableArray(suggestions),_toConsumableArray(_this.suggestions))})})}},this.onSuggestionSelect=function(_ref){var type=_ref.type,text=_ref.text,start=_ref.start,end=_ref.end,query=_this.localQuery.query,inputEl=$element.find("input")[0],selectionStart=inputEl.selectionStart,selectionEnd=inputEl.selectionEnd,value=query.substr(0,selectionStart)+query.substr(selectionEnd);_this.localQuery.query=inputEl.value=value.substr(0,start)+text+value.substr(end),inputEl.setSelectionRange(start+text.length,start+text.length),"recentSearch"===type?_this.submit():_this.updateSuggestions()},this.getRecentSearchSuggestions=function(query){return _this.persistedLog.get().filter(function(search){return search.includes(query)}).map(function(recentSearch){return{type:"recentSearch",text:recentSearch,start:0,end:query.length}})},$scope.$watch("queryBar.localQuery.language",function(language){language&&(_this.persistedLog=new PersistedLog("typeahead:"+_this.appName+"-"+language,{maxLength:config.get("history:limit"),filterDuplicates:!0}),_this.updateSuggestions())}),$scope.$watch("queryBar.query",function(newQuery){_this.localQuery=_extends({},newQuery)},!0),$scope.$watch("queryBar.indexPatterns",function(){_this.getIndexPatterns().then(function(indexPatterns){_this.getKuerySuggestions=(0,_kuery.getSuggestionsProvider)({$http:$http,config:config,indexPatterns:indexPatterns}),_this.updateSuggestions()})})})}})},function(module,exports){module.exports='<form\n  role="form"\n  name="queryBarForm"\n  ng-submit="queryBar.submit()"\n>\n  <kbn-typeahead\n    items="queryBar.suggestions"\n    item-template="queryBar.suggestionTemplate"\n    on-select="queryBar.onSuggestionSelect(item)"\n    class="suggestionTypeahead"\n  >\n    <div\n      class="kuiLocalSearch"\n      role="search"\n    >\n\n      <div class="kuiLocalSearchAssistedInput">\n        \x3c!-- Lucene input --\x3e\n        <input\n          ng-if="queryBar.localQuery.language === \'lucene\'"\n          parse-query\n          input-focus\n          disable-input-focus="queryBar.disableAutoFocus"\n          kbn-typeahead-input\n          ng-change="queryBar.updateSuggestions()"\n          ng-model="queryBar.localQuery.query"\n          placeholder="Search... (e.g. status:200 AND extension:PHP)"\n          aria-label="Search input"\n          type="text"\n          class="kuiLocalSearchInput"\n          ng-class="{\'kuiLocalSearchInput-isInvalid\': queryBarForm.$invalid}"\n          data-test-subj="queryInput"\n        >\n\n        \x3c!-- kuery input --\x3e\n        <input\n          ng-if="queryBar.localQuery.language === \'kuery\'"\n          ng-model="queryBar.localQuery.query"\n          ng-model-options="{ debounce: 100 }"\n          ng-trim="false"\n          ng-keydown="queryBar.handleKeyDown($event)"\n          ng-change="queryBar.updateSuggestions()"\n          ng-click="queryBar.updateSuggestions()"\n          input-focus\n          match-pairs\n          disable-input-focus="queryBar.disableAutoFocus"\n          kbn-typeahead-input\n          placeholder="Search... (e.g. status:200 AND extension:PHP)"\n          aria-label="Search input"\n          type="text"\n          class="kuiLocalSearchInput"\n          ng-class="{\'kuiLocalSearchInput-isInvalid\': queryBarForm.$invalid}"\n          data-test-subj="queryInput"\n        />\n        <div class="kuiLocalSearchAssistedInput__assistance">\n            <query-popover\n              language="queryBar.localQuery.language"\n              on-select-language="queryBar.selectLanguage($language)"\n            ></query-popover>\n        </div>\n      </div>\n\n      <button\n        type="submit"\n        aria-label="Search"\n        class="kuiLocalSearchButton"\n        ng-disabled="queryBarForm.$invalid"\n        data-test-subj="querySubmitButton"\n      >\n        <span class="fa fa-search" aria-hidden="true"></span>\n      </button>\n    </div>\n  </kbn-typeahead>\n</form>\n'},function(module,exports){module.exports='<div class="suggestionItem suggestionItem--{{item.type}}">\n  <div class="suggestionItem__type">\n    <div ng-switch="item.type">\n      <div ng-switch-when="field">\n        <icon type="\'kqlField\'"></icon>\n      </div>\n      <div ng-switch-when="value">\n        <icon type="\'kqlValue\'"></icon>\n      </div>\n      <div ng-switch-when="recentSearch">\n        <icon type="\'search\'"></icon>\n      </div>\n      <div ng-switch-when="conjunction">\n        <icon type="\'kqlSelector\'"></icon>\n      </div>\n      <div ng-switch-when="operator">\n        <icon type="\'kqlOperand\'"></icon>\n      </div>\n    </div>\n  </div>\n  <div class="suggestionItem__text">{{item.text}}</div>\n  <div class="suggestionItem__description" ng-bind-html="item.description"></div>\n</div>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactDom2=_interopRequireDefault(_reactDom),_modules=__webpack_require__(2),_documentation_links=__webpack_require__(362),_eui=__webpack_require__(5),luceneQuerySyntaxDocs=_documentation_links.documentationLinks.query.luceneQuerySyntax,kueryQuerySyntaxDocs=_documentation_links.documentationLinks.query.kueryQuerySyntax;_modules.uiModules.get("app/kibana",["react"]).directive("queryPopover",function(localStorage){return{restrict:"E",scope:{language:"<",onSelectLanguage:"&"},link:function($scope,$element){function togglePopover(){$scope.$evalAsync(function(){$scope.isPopoverOpen=!$scope.isPopoverOpen})}function closePopover(){$scope.$evalAsync(function(){$scope.isPopoverOpen=!1})}function onSwitchChange(){$scope.$evalAsync(function(){var newLanguage="lucene"===$scope.language?"kuery":"lucene";localStorage.set("kibana.userQueryLanguage",newLanguage),$scope.onSelectLanguage({$language:newLanguage})})}function render(){var button=_react2.default.createElement(_eui.EuiButtonEmpty,{size:"xs",onClick:togglePopover},"Options"),popover=_react2.default.createElement(_eui.EuiPopover,{id:"popover",ownFocus:!0,anchorPosition:"downRight",button:button,isOpen:$scope.isPopoverOpen,closePopover:closePopover,withTitle:!0},_react2.default.createElement(_eui.EuiPopoverTitle,null,"Syntax options"),_react2.default.createElement("div",{style:{width:"350px"}},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Our experimental autocomplete and simple syntax features can help you create your queries. Just start typing and you’ll see matches related to your data. See docs ",_react2.default.createElement(_eui.EuiLink,{href:kueryQuerySyntaxDocs,target:"_blank"},"here"),".")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiSwitch,{id:"queryEnhancementOptIn",name:"popswitch",label:"Turn on query features",checked:"kuery"===$scope.language,onChange:onSwitchChange}))),_react2.default.createElement(_eui.EuiHorizontalRule,{margin:"s"}),_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("p",null,"Not ready yet? Find our lucene docs ",_react2.default.createElement(_eui.EuiLink,{href:luceneQuerySyntaxDocs,target:"_blank"},"here"),"."))));_reactDom2.default.render(popover,$element[0])}$scope.isPopoverOpen=!1,$scope.$watch("isPopoverOpen",render),$scope.$watch("language",render)}}})},function(module,exports,__webpack_require__){"use strict";function getDashboardTitle(title,viewMode,isDirty){var isEditMode=viewMode===_dashboard_view_mode.DashboardViewMode.EDIT,unsavedSuffix=isEditMode&&isDirty?" (unsaved)":"",displayTitle=""+title+unsavedSuffix;return isEditMode?"Editing "+displayTitle:displayTitle}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDashboardTitle=getDashboardTitle;var _dashboard_view_mode=__webpack_require__(196)},function(module,exports,__webpack_require__){"use strict";function getTopNavConfig(dashboardMode,actions,hideWriteControls){switch(dashboardMode){case _dashboard_view_mode.DashboardViewMode.VIEW:return hideWriteControls?[getFullScreenConfig(actions[_top_nav_ids.TopNavIds.FULL_SCREEN])]:[getFullScreenConfig(actions[_top_nav_ids.TopNavIds.FULL_SCREEN]),getShareConfig(),getCloneConfig(actions[_top_nav_ids.TopNavIds.CLONE]),getEditConfig(actions[_top_nav_ids.TopNavIds.ENTER_EDIT_MODE])];case _dashboard_view_mode.DashboardViewMode.EDIT:return[getSaveConfig(),getViewConfig(actions[_top_nav_ids.TopNavIds.EXIT_EDIT_MODE]),getAddConfig(),getOptionsConfig(),getShareConfig()];default:return[]}}function getFullScreenConfig(action){return{key:"full screen",description:"Full Screen Mode",testId:"dashboardFullScreenMode",run:action}}function getEditConfig(action){return{key:"edit",description:"Switch to edit mode",testId:"dashboardEditMode",run:action}}function getSaveConfig(){return{key:"save",description:"Save your dashboard",testId:"dashboardSaveMenuItem",template:__webpack_require__(4117)}}function getViewConfig(action){return{key:"cancel",description:"Cancel editing and switch to view-only mode",testId:"dashboardViewOnlyMode",run:action}}function getCloneConfig(action){return{key:"clone",description:"Create a copy of your dashboard",testId:"dashboardClone",run:action}}function getAddConfig(){return{key:_top_nav_ids.TopNavIds.ADD,description:"Add a panel to the dashboard",testId:"dashboardAddPanelButton",template:__webpack_require__(4118)}}function getShareConfig(){return{key:_top_nav_ids.TopNavIds.SHARE,description:"Share Dashboard",testId:"dashboardShareButton",template:__webpack_require__(4119)}}function getOptionsConfig(){return{key:_top_nav_ids.TopNavIds.OPTIONS,description:"Options",testId:"dashboardOptionsButton",template:__webpack_require__(4120)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTopNavConfig=getTopNavConfig;var _dashboard_view_mode=__webpack_require__(196),_top_nav_ids=__webpack_require__(1287)},function(module,exports){module.exports='<form\n  role="form"\n  ng-submit="opts.save()"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Save {{opts.displayName}}\n  </h2>\n\n  <div class="kuiLocalDropdownSection">\n    <div class="kuiLocalDropdownHeader">\n      <label\n        class="kuiLocalDropdownHeader__label"\n        for="saveDashboardTitle"\n      >\n        Title\n      </label>\n    </div>\n\n    <input\n      id="saveDashboardTitle"\n      class="kuiLocalDropdownInput"\n      data-test-subj="dashboardTitle"\n      type="text"\n      ng-model="model.title"\n      placeholder="Dashboard title"\n      input-focus="select"\n    >\n  </div>\n\n  <div class="kuiLocalDropdownSection">\n    <div class="kuiLocalDropdownHeader">\n      <label\n        class="kuiLocalDropdownHeader__label"\n        for="saveDashboardDescription"\n      >\n        Description\n      </label>\n    </div>\n\n    <input\n      id="saveDashboardDescription"\n      class="kuiLocalDropdownInput"\n      data-test-subj="dashboardDescription"\n      type="text"\n      ng-model="model.description"\n      placeholder="Dashboard description"\n    >\n  </div>\n\n  <saved-object-save-as-check-box\n    class="kuiVerticalRhythmSmall"\n    saved-object="opts.dashboard"\n  ></saved-object-save-as-check-box>\n\n  <div class="kuiVerticalRhythm">\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="model.timeRestore"\n        ng-checked="model.timeRestore"\n        data-test-subj="storeTimeWithDashboard"\n      >\n\n      <span class="kuiCheckBoxLabel__text">\n        Store time with {{opts.displayName}}\n      </span>\n    </label>\n\n    <div class="kuiLocalDropdownFormNote kuiVerticalRhythmSmall">\n      This changes the time filter to the currently selected time each time this dashboard is loaded.\n    </div>\n  </div>\n\n  <button\n    data-test-subj="confirmSaveDashboardButton"\n    type="submit"\n    ng-disabled="!model.title"\n    class="kuiButton kuiButton--primary kuiVerticalRhythm"\n    aria-label="Save dashboard"\n  >\n    Save\n  </button>\n</form>\n'},function(module,exports){module.exports='<div\n  ng-switch="mode"\n  ng-init="mode = \'visualization\'"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Add Panels\n  </h2>\n\n  <div class="kuiTabs">\n    <button\n      ng-class="{ \'kuiTab-isSelected\': mode == \'visualization\'}"\n      class="kuiTab"\n      ng-click="mode=\'visualization\'"\n      aria-label="List visualizations"\n      data-test-subj="addVisualizationTab"\n    >\n      Visualization\n    </button>\n\n    <button\n      ng-class="{ \'kuiTab-isSelected\': mode == \'search\' }"\n      class="kuiTab"\n      ng-click="mode=\'search\'"\n      aria-label="List saved searches"\n      data-test-subj="addSavedSearchTab"\n    >\n      Saved Search\n    </button>\n  </div>\n\n  <div class="list-group-item list-group-item--noBorder" ng-switch-when="visualization">\n    <saved-object-finder\n      use-local-management="true"\n      type="visualizations"\n      on-add-new="opts.addNewVis"\n      on-choose="opts.addVis">\n    </saved-object-finder>\n  </div>\n\n  <div class="list-group-item list-group-item--noBorder" ng-switch-when="search">\n    <saved-object-finder\n      type="searches"\n      use-local-management="true"\n      on-choose="opts.addSearch"\n    ></saved-object-finder>\n  </div>\n</div>\n'},function(module,exports){module.exports='<share\n  object-type="dashboard"\n  object-id="{{opts.dashboard.id}}">\n</share>\n'},function(module,exports){module.exports='<form role="form">\n  <h2 class="kuiLocalDropdownTitle">\n    Options\n  </h2>\n\n  <div class="kuiLocalDropdownSection">\n    <label class="kuiCheckBoxLabel">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="model.darkTheme"\n        ng-checked="model.darkTheme"\n        data-test-subj="dashboardDarkThemeCheckbox"\n      >\n\n      <span class="kuiCheckBoxLabel__text">\n        Use dark theme\n      </span>\n    </label>\n    <label class="kuiCheckBoxLabel">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="model.useMargins"\n        ng-checked="model.useMargins"\n        data-test-subj="dashboardMarginsCheckbox"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Use margins between panels\n      </span>\n    </label>\n    <label class="kuiCheckBoxLabel">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="model.hidePanelTitles"\n        ng-checked="model.hidePanelTitles"\n        data-test-subj="dashboardPanelTitlesCheckbox"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Hide all panel titles\n      </span>\n    </label>\n  </div>\n</form>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardStateManager=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_dashboard_view_mode=__webpack_require__(196),_filter_utils=__webpack_require__(735),_panel_utils=__webpack_require__(1288),_store=__webpack_require__(1289),_actions=__webpack_require__(172),_state_monitor_factory=__webpack_require__(396),_panel=__webpack_require__(1311),_lib=__webpack_require__(1319),_selectors=__webpack_require__(4225);exports.DashboardStateManager=function(){function DashboardStateManager(savedDashboard,AppState,hideWriteControls){var _this=this;_classCallCheck(this,DashboardStateManager),this.savedDashboard=savedDashboard,this.hideWriteControls=hideWriteControls,this.stateDefaults=(0,_lib.getAppStateDefaults)(this.savedDashboard,this.hideWriteControls),this.appState=new AppState(this.stateDefaults),(0,_lib.migrateAppState)(this.appState),this.isDirty=!1,this.lastSavedDashboardFilters=this.getFilterState(),this.panelIndexPatternMapping={},_panel_utils.PanelUtils.initPanelIndexes(this.getPanels()),this.createStateMonitor(),_store.store.dispatch((0,_actions.minimizePanel)()),_store.store.dispatch((0,_actions.setPanels)({})),this.embeddableConfigChangeListeners={},this._pushAppStateChangesToStore(),this.changeListeners=[],this.unsubscribe=_store.store.subscribe(function(){return _this._handleStoreChanges()}),this.stateMonitor.onChange(function(status){_this.changeListeners.forEach(function(listener){return listener(status)}),_this._pushAppStateChangesToStore()})}return _createClass(DashboardStateManager,[{key:"registerEmbeddableConfigChangeListener",value:function(panelIndex,callback){var panelListeners=this.embeddableConfigChangeListeners[panelIndex];panelListeners||(panelListeners=this.embeddableConfigChangeListeners[panelIndex]=[]),panelListeners.push(callback)}},{key:"registerChangeListener",value:function(callback){this.changeListeners.push(callback)}},{key:"_areStoreAndAppStatePanelsEqual",value:function(){var state=_store.store.getState(),storePanels=(0,_selectors.getPanels)(_store.store.getState()),appStatePanels=this.getPanels();return Object.values(storePanels).length===appStatePanels.length&&appStatePanels.every(function(appStatePanel){var storePanel=(0,_selectors.getPanel)(state,appStatePanel.panelIndex);return _lodash2.default.isEqual(appStatePanel,storePanel)})}},{key:"triggerEmbeddableConfigUpdateListeners",value:function(){var _this2=this,state=_store.store.getState(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this.appState.panels[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var appStatePanel=_step.value;!function(appStatePanel){var storePanel=(0,_selectors.getPanel)(state,appStatePanel.panelIndex);if(storePanel&&!_lodash2.default.isEqual(appStatePanel.embeddableConfig,storePanel.embeddableConfig)){var panelListeners=_this2.embeddableConfigChangeListeners[appStatePanel.panelIndex];panelListeners&&panelListeners.forEach(function(listener){return listener(appStatePanel.embeddableConfig)})}}(appStatePanel)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"_pushAppStateChangesToStore",value:function(){if(!this._areStoreAndAppStatePanelsEqual()){this.triggerEmbeddableConfigUpdateListeners();var panelsMap=this.getPanels().reduce(function(acc,panel){return acc[panel.panelIndex]=_extends({},panel),acc},{});_store.store.dispatch((0,_actions.setPanels)(panelsMap))}var state=_store.store.getState();(0,_selectors.getTitle)(state)!==this.getTitle()&&_store.store.dispatch((0,_actions.updateTitle)(this.getTitle())),(0,_selectors.getDescription)(state)!==this.getDescription()&&_store.store.dispatch((0,_actions.updateDescription)(this.getDescription())),(0,_selectors.getViewMode)(state)!==this.getViewMode()&&_store.store.dispatch((0,_actions.updateViewMode)(this.getViewMode())),(0,_selectors.getUseMargins)(state)!==this.getUseMargins()&&_store.store.dispatch((0,_actions.updateUseMargins)(this.getUseMargins())),(0,_selectors.getHidePanelTitles)(state)!==this.getHidePanelTitles()&&_store.store.dispatch((0,_actions.updateHidePanelTitles)(this.getHidePanelTitles())),(0,_selectors.getFullScreenMode)(state)!==this.getFullScreenMode()&&_store.store.dispatch((0,_actions.updateIsFullScreenMode)(this.getFullScreenMode())),(0,_selectors.getTitle)(state)!==this.getTitle()&&_store.store.dispatch((0,_actions.updateTitle)(this.getTitle())),(0,_selectors.getDescription)(state)!==this.getDescription()&&_store.store.dispatch((0,_actions.updateDescription)(this.getDescription()))}},{key:"_handleStoreChanges",value:function(){var _this3=this,dirty=!1;if(!this._areStoreAndAppStatePanelsEqual()){var panels=(0,_selectors.getPanels)(_store.store.getState());this.appState.panels=[],Object.values(panels).map(function(panel){_this3.appState.panels.push(_extends({},panel))}),dirty=!0}var fullScreen=(0,_selectors.getFullScreenMode)(_store.store.getState());fullScreen!==this.getFullScreenMode()&&this.setFullScreenMode(fullScreen),this.changeListeners.forEach(function(listener){return listener({dirty:dirty})}),this.saveState()}},{key:"getFullScreenMode",value:function(){return this.appState.fullScreenMode}},{key:"setFullScreenMode",value:function(fullScreenMode){this.appState.fullScreenMode=fullScreenMode,this.saveState()}},{key:"registerPanelIndexPatternMap",value:function(panelIndex,indexPattern){indexPattern&&(this.panelIndexPatternMapping[panelIndex]=indexPattern)}},{key:"getPanelIndexPatterns",value:function(){return _lodash2.default.uniq(Object.values(this.panelIndexPatternMapping))}},{key:"resetState",value:function(){this.savedDashboard.title=this.savedDashboard.lastSavedTitle,this.stateDefaults=(0,_lib.getAppStateDefaults)(this.savedDashboard,this.hideWriteControls),this.stateDefaults.query=this.lastSavedDashboardFilters.query,this.stateDefaults.filters=[].concat(_toConsumableArray(this.getLastSavedFilterBars())),this.isDirty=!1,this.appState.setDefaults(this.stateDefaults),this.appState.reset(),this.stateMonitor.setInitialState(this.appState.toJSON())}},{key:"getFilterState",value:function(){return{timeTo:this.savedDashboard.timeTo,timeFrom:this.savedDashboard.timeFrom,filterBars:this.getDashboardFilterBars(),query:this.getDashboardQuery()}}},{key:"getTitle",value:function(){return this.appState.title}},{key:"getDescription",value:function(){return this.appState.description}},{key:"setDescription",value:function(description){this.appState.description=description,this.saveState()}},{key:"setTitle",value:function(title){this.appState.title=title,this.savedDashboard.title=title,this.saveState()}},{key:"getAppState",value:function(){return this.appState}},{key:"getQuery",value:function(){return this.appState.query}},{key:"getUseMargins",value:function(){return void 0!==this.appState.options.useMargins&&this.appState.options.useMargins}},{key:"setUseMargins",value:function(useMargins){this.appState.options.useMargins=useMargins,this.saveState()}},{key:"getHidePanelTitles",value:function(){return this.appState.options.hidePanelTitles}},{key:"setHidePanelTitles",value:function(hidePanelTitles){this.appState.options.hidePanelTitles=hidePanelTitles,this.saveState()}},{key:"getDarkTheme",value:function(){return this.appState.options.darkTheme}},{key:"setDarkTheme",value:function(darkTheme){this.appState.options.darkTheme=darkTheme,this.saveState()}},{key:"getTimeRestore",value:function(){return this.appState.timeRestore}},{key:"setTimeRestore",value:function(timeRestore){this.appState.timeRestore=timeRestore,this.saveState()}},{key:"getIsTimeSavedWithDashboard",value:function(){return this.savedDashboard.timeRestore}},{key:"getDashboardFilterBars",value:function(){return _filter_utils.FilterUtils.getFilterBarsForDashboard(this.savedDashboard)}},{key:"getDashboardQuery",value:function(){return _filter_utils.FilterUtils.getQueryFilterForDashboard(this.savedDashboard)}},{key:"getLastSavedFilterBars",value:function(){return this.lastSavedDashboardFilters.filterBars}},{key:"getLastSavedQuery",value:function(){return this.lastSavedDashboardFilters.query}},{key:"getQueryChanged",value:function(){var currentQuery=this.appState.query,lastSavedQuery=this.getLastSavedQuery();return _lodash2.default.isString(lastSavedQuery)&&_lodash2.default.isPlainObject(currentQuery)&&_lodash2.default.has(currentQuery,"query")?lastSavedQuery!==currentQuery.query:!_lodash2.default.isEqual(currentQuery,lastSavedQuery)}},{key:"getFilterBarChanged",value:function(){return!_lodash2.default.isEqual(_filter_utils.FilterUtils.cleanFiltersForComparison(this.appState.filters),_filter_utils.FilterUtils.cleanFiltersForComparison(this.getLastSavedFilterBars()))}},{key:"getTimeChanged",value:function(timeFilter){return!_filter_utils.FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeFrom,timeFilter.time.from)||!_filter_utils.FilterUtils.areTimesEqual(this.lastSavedDashboardFilters.timeTo,timeFilter.time.to)}},{key:"getViewMode",value:function(){return this.hideWriteControls?_dashboard_view_mode.DashboardViewMode.VIEW:this.appState.viewMode}},{key:"getIsViewMode",value:function(){return this.getViewMode()===_dashboard_view_mode.DashboardViewMode.VIEW}},{key:"getIsEditMode",value:function(){return this.getViewMode()===_dashboard_view_mode.DashboardViewMode.EDIT}},{key:"getIsDirty",value:function(timeFilter){return this.isDirty||this.getFiltersChanged(timeFilter)}},{key:"getPanels",value:function(){return this.appState.panels}},{key:"updatePanel",value:function(panelIndex,panelAttributes){var panel=this.getPanels().find(function(panel){return panel.panelIndex===panelIndex});return Object.assign(panel,panelAttributes),this.saveState(),panel}},{key:"addNewPanel",value:function(id,type){var maxPanelIndex=_panel_utils.PanelUtils.getMaxPanelIndex(this.getPanels()),newPanel=(0,_panel.createPanelState)(id,type,maxPanelIndex,this.getPanels());this.getPanels().push(newPanel),this.saveState()}},{key:"removePanel",value:function(panelIndex){var _this4=this;_lodash2.default.remove(this.getPanels(),function(panel){return panel.panelIndex===panelIndex&&(delete _this4.panelIndexPatternMapping[panelIndex],!0)}),this.saveState()}},{key:"getChangedFilterTypes",value:function(timeFilter){var changedFilters=[];return this.getFilterBarChanged()&&changedFilters.push("filter"),this.getQueryChanged()&&changedFilters.push("query"),this.savedDashboard.timeRestore&&this.getTimeChanged(timeFilter)&&changedFilters.push("time range"),changedFilters}},{key:"getFiltersChanged",value:function(timeFilter){return this.getChangedFilterTypes(timeFilter).length>0}},{key:"syncTimefilterWithDashboard",value:function(timeFilter,quickTimeRanges){var _this5=this;if(!this.getIsTimeSavedWithDashboard())throw new Error("The time is not saved with this dashboard so should not be synced.");if(timeFilter.time.to=this.savedDashboard.timeTo,timeFilter.time.from=this.savedDashboard.timeFrom,(0,_moment2.default)(this.savedDashboard.timeTo).isValid())timeFilter.time.mode="absolute";else{var quickTime=_lodash2.default.find(quickTimeRanges,function(timeRange){return timeRange.from===_this5.savedDashboard.timeFrom&&timeRange.to===_this5.savedDashboard.timeTo});timeFilter.time.mode=quickTime?"quick":"relative"}this.savedDashboard.refreshInterval&&(timeFilter.refreshInterval=this.savedDashboard.refreshInterval)}},{key:"saveState",value:function(){this.appState.save()}},{key:"applyFilters",value:function(query,filters){this.appState.query=query,this.savedDashboard.searchSource.set("query",query),this.savedDashboard.searchSource.set("filter",filters),this.saveState()}},{key:"createStateMonitor",value:function(){var _this6=this;this.stateMonitor=_state_monitor_factory.stateMonitorFactory.create(this.appState,this.stateDefaults),this.stateMonitor.ignoreProps("viewMode"),this.stateMonitor.ignoreProps("filters"),this.stateMonitor.ignoreProps("query"),this.stateMonitor.onChange(function(status){_this6.isDirty=status.dirty})}},{key:"switchViewMode",value:function(newMode){this.appState.viewMode=newMode,this.saveState()}},{key:"destroy",value:function(){this.stateMonitor&&this.stateMonitor.destroy(),this.savedDashboard.destroy(),this.unsubscribe()}}]),DashboardStateManager}()},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.reducers=void 0;var _redux=__webpack_require__(117),_reducers=__webpack_require__(4136);exports.reducers=(0,_redux.combineReducers)({dashboard:_reducers.dashboard})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dashboard=void 0;var _redux=__webpack_require__(117),_embeddables=__webpack_require__(4137),_panels=__webpack_require__(4186),_view=__webpack_require__(4187),_metadata=__webpack_require__(4188);exports.dashboard=(0,_redux.combineReducers)({view:_view.view,panels:_panels.panels,embeddables:_embeddables.embeddables,metadata:_metadata.metadata})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.embeddables=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_actions=__webpack_require__(172);exports.embeddables=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.destroyEmbeddable,function(embeddables,_ref){var payload=_ref.payload,embeddablesCopy=_extends({},embeddables);return delete embeddablesCopy[payload],embeddablesCopy}),_defineProperty(_handleActions,_actions.embeddableRenderFinished,function(embeddables,_ref2){var payload=_ref2.payload;return _extends({},embeddables,_defineProperty({},payload.panelId,_extends({},payload.embeddable,{error:void 0})))}),_defineProperty(_handleActions,_actions.embeddableRenderError,function(embeddables,_ref3){var payload=_ref3.payload;return _extends({},embeddables,_defineProperty({},payload.panelId,_extends({},embeddables[payload.panelId],{error:payload.error})))}),_handleActions),{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateHidePanelTitles=exports.updateUseMargins=exports.updateIsFullScreenMode=exports.minimizePanel=exports.maximizePanel=exports.updateViewMode=void 0;var _reduxActions=__webpack_require__(30);exports.updateViewMode=(0,_reduxActions.createAction)("UPDATE_VIEW_MODE"),exports.maximizePanel=(0,_reduxActions.createAction)("MAXIMIZE_PANEl"),exports.minimizePanel=(0,_reduxActions.createAction)("MINIMIZE_PANEL"),exports.updateIsFullScreenMode=(0,_reduxActions.createAction)("UPDATE_IS_FULL_SCREEN_MODE"),exports.updateUseMargins=(0,_reduxActions.createAction)("UPDATE_USE_MARGINS"),exports.updateHidePanelTitles=(0,_reduxActions.createAction)("HIDE_PANEL_TITLES")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setPanels=exports.updatePanels=exports.setPanelTitle=exports.resetPanelTitle=exports.updatePanel=exports.deletePanel=void 0;var _reduxActions=__webpack_require__(30);exports.deletePanel=(0,_reduxActions.createAction)("DELETE_PANEL"),exports.updatePanel=(0,_reduxActions.createAction)("UPDATE_PANEL"),exports.resetPanelTitle=(0,_reduxActions.createAction)("RESET_PANEl_TITLE"),exports.setPanelTitle=(0,_reduxActions.createAction)("SET_PANEl_TITLE",function(title,panelIndex){return{title:title,panelIndex:panelIndex}}),exports.updatePanels=(0,_reduxActions.createAction)("UPDATE_PANELS"),exports.setPanels=(0,_reduxActions.createAction)("SET_PANELS")},function(module,exports,__webpack_require__){"use strict";function renderEmbeddable(embeddableFactory,panelElement,panel,containerApi){return function(dispatch){return embeddableFactory?embeddableFactory.render(panelElement,panel,containerApi).then(function(embeddable){return dispatch(embeddableRenderFinished(panel.panelIndex,embeddable))}).catch(function(error){dispatch(embeddableRenderError(panel.panelIndex,error.message))}):void dispatch(embeddableRenderError(panel.panelIndex,new Error('Invalid embeddable type "'+panel.type+'"')))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.embeddableRenderError=exports.embeddableRenderFinished=exports.destroyEmbeddable=void 0,exports.renderEmbeddable=renderEmbeddable;var _reduxActions=__webpack_require__(30),embeddableRenderFinished=(exports.destroyEmbeddable=(0,_reduxActions.createAction)("DESTROY_EMBEDDABLE",function(panelId,embeddableFactory){return embeddableFactory&&embeddableFactory.destroy(panelId),panelId}),exports.embeddableRenderFinished=(0,_reduxActions.createAction)("EMBEDDABLE_RENDER_FINISHED",function(panelId,embeddable){return{embeddable:embeddable,panelId:panelId}})),embeddableRenderError=exports.embeddableRenderError=(0,_reduxActions.createAction)("EMBEDDABLE_RENDER_ERROR",function(panelId,error){return{panelId:panelId,error:error}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateTitle=exports.updateDescription=void 0;var _reduxActions=__webpack_require__(30);exports.updateDescription=(0,_reduxActions.createAction)("UPDATE_DESCRIPTION"),exports.updateTitle=(0,_reduxActions.createAction)("UPDATE_TITLE")},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function mergePanelData(panel,panels){return _lodash2.default.defaultsDeep(panel,panels[panel.panelIndex])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.panels=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_reduxActions=__webpack_require__(30),_actions=__webpack_require__(172);exports.panels=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.setPanels,function(panels,_ref){var payload=_ref.payload;return _lodash2.default.cloneDeep(payload)}),_defineProperty(_handleActions,_actions.updatePanels,function(panels,_ref2){var payload=_ref2.payload,panelsCopy=_extends({},panels);return Object.values(payload).forEach(function(panel){panelsCopy[panel.panelIndex]=mergePanelData(panel,panels)}),panelsCopy}),_defineProperty(_handleActions,_actions.deletePanel,function(panels,_ref3){var payload=_ref3.payload,panelsCopy=_extends({},panels);return delete panelsCopy[payload],panelsCopy}),_defineProperty(_handleActions,_actions.updatePanel,function(panels,_ref4){var payload=_ref4.payload;return _extends({},panels,_defineProperty({},payload.panelIndex,mergePanelData(payload,panels)))}),_defineProperty(_handleActions,_actions.resetPanelTitle,function(panels,_ref5){var payload=_ref5.payload;return _extends({},panels,_defineProperty({},payload,_extends({},panels[payload],{title:void 0})))}),_defineProperty(_handleActions,_actions.setPanelTitle,function(panels,_ref6){var payload=_ref6.payload;return _extends({},panels,_defineProperty({},payload.panelIndex,mergePanelData(payload,panels)))}),_handleActions),{})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.view=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_actions=__webpack_require__(172),_dashboard_view_mode=__webpack_require__(196);exports.view=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.updateViewMode,function(state,_ref){var payload=_ref.payload;return _extends({},state,{viewMode:payload})}),_defineProperty(_handleActions,_actions.updateUseMargins,function(state,_ref2){var payload=_ref2.payload;return _extends({},state,{useMargins:payload})}),_defineProperty(_handleActions,_actions.updateHidePanelTitles,function(state,_ref3){var payload=_ref3.payload;return _extends({},state,{hidePanelTitles:payload})}),_defineProperty(_handleActions,(0,_reduxActions.combineActions)(_actions.maximizePanel,_actions.minimizePanel),function(state,_ref4){var payload=_ref4.payload;return _extends({},state,{maximizedPanelId:payload})}),_defineProperty(_handleActions,_actions.updateIsFullScreenMode,function(state,_ref5){var payload=_ref5.payload;return _extends({},state,{isFullScreenMode:payload})}),_handleActions),{isFullScreenMode:!1,viewMode:_dashboard_view_mode.DashboardViewMode.VIEW,maximizedPanelId:void 0,useMargins:!0,hidePanelTitles:!1})},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.metadata=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_actions=__webpack_require__(172);exports.metadata=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.updateTitle,function(state,_ref){var payload=_ref.payload;return _extends({},state,{title:payload})}),_defineProperty(_handleActions,_actions.updateDescription,function(state,_ref2){var payload=_ref2.payload;return _extends({},state,{description:payload})}),_handleActions),{title:"",description:""})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardPanelContainer=void 0;var _reactRedux=__webpack_require__(25),_propTypes=__webpack_require__(3),_propTypes2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_propTypes),_dashboard_panel=__webpack_require__(4210),_dashboard_view_mode=__webpack_require__(196),_actions=__webpack_require__(172),_selectors=__webpack_require__(321),mapStateToProps=function(_ref,_ref2){var dashboard=_ref.dashboard,panelId=_ref2.panelId,embeddable=(0,_selectors.getEmbeddable)(dashboard,panelId);return{title:embeddable?(0,_selectors.getEmbeddableTitle)(dashboard,panelId):"",editUrl:embeddable?(0,_selectors.getEmbeddableEditUrl)(dashboard,panelId):"",error:embeddable?(0,_selectors.getEmbeddableError)(dashboard,panelId):"",viewOnlyMode:(0,_selectors.getFullScreenMode)(dashboard)||(0,_selectors.getViewMode)(dashboard)===_dashboard_view_mode.DashboardViewMode.VIEW,isExpanded:(0,_selectors.getMaximizedPanelId)(dashboard)===panelId,panel:(0,_selectors.getPanel)(dashboard,panelId)}},mapDispatchToProps=function(dispatch,_ref3){var embeddableFactory=_ref3.embeddableFactory,panelId=_ref3.panelId,getContainerApi=_ref3.getContainerApi;return{renderEmbeddable:function(panelElement,panel){return dispatch((0,_actions.renderEmbeddable)(embeddableFactory,panelElement,panel,getContainerApi()))},onDestroy:function(){return dispatch((0,_actions.destroyEmbeddable)(panelId,embeddableFactory))}}};(exports.DashboardPanelContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_dashboard_panel.DashboardPanel)).propTypes={panelId:_propTypes2.default.string.isRequired,embeddableFactory:_propTypes2.default.shape({destroy:_propTypes2.default.func.isRequired,render:_propTypes2.default.func.isRequired,addDestroyEmeddable:_propTypes2.default.func.isRequired}).isRequired,getContainerApi:_propTypes2.default.func.isRequired}},,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardPanel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_panel_header=__webpack_require__(4211),_panel_error=__webpack_require__(4219);(exports.DashboardPanel=function(_React$Component){function DashboardPanel(){var _ref,_temp,_this,_ret;_classCallCheck(this,DashboardPanel);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=DashboardPanel.__proto__||Object.getPrototypeOf(DashboardPanel)).call.apply(_ref,[this].concat(args))),_this.onFocus=function(){var _this$props=_this.props,onPanelFocused=_this$props.onPanelFocused,panel=_this$props.panel;onPanelFocused&&onPanelFocused(panel.panelIndex)},_this.onBlur=function(){var _this$props2=_this.props,onPanelBlurred=_this$props2.onPanelBlurred,panel=_this$props2.panel;onPanelBlurred&&onPanelBlurred(panel.panelIndex)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(DashboardPanel,_React$Component),_createClass(DashboardPanel,[{key:"componentDidMount",value:function(){function componentDidMount(){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:this.props.renderEmbeddable(this.panelElement,this.props.panel);case 1:case"end":return _context.stop()}},_callee,this)}));return componentDidMount}()},{key:"componentWillUnmount",value:function(){this.props.onDestroy()}},{key:"renderEmbeddedContent",value:function(){var _this2=this;return _react2.default.createElement("div",{id:"embeddedPanel",className:"panel-content",ref:function(panelElement){return _this2.panelElement=panelElement}})}},{key:"renderEmbeddedError",value:function(){return _react2.default.createElement(_panel_error.PanelError,{error:this.props.error})}},{key:"render",value:function(){var _props=this.props,viewOnlyMode=_props.viewOnlyMode,error=_props.error,panel=_props.panel,embeddableFactory=_props.embeddableFactory,classes=(0,_classnames2.default)("panel panel-default",this.props.className,{"panel--edit-mode":!viewOnlyMode});return _react2.default.createElement("div",{className:"dashboard-panel",onFocus:this.onFocus,onBlur:this.onBlur},_react2.default.createElement("div",{className:classes,"data-test-subj":"dashboardPanel"},_react2.default.createElement(_panel_header.PanelHeader,{embeddableFactory:embeddableFactory,panelId:panel.panelIndex}),error?this.renderEmbeddedError():this.renderEmbeddedContent()))}}]),DashboardPanel}(_react2.default.Component)).propTypes={panel:_propTypes2.default.shape({panelIndex:_propTypes2.default.string}),renderEmbeddable:_propTypes2.default.func.isRequired,viewOnlyMode:_propTypes2.default.bool.isRequired,onDestroy:_propTypes2.default.func.isRequired,onPanelFocused:_propTypes2.default.func,onPanelBlurred:_propTypes2.default.func,error:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]),embeddableFactory:_propTypes2.default.object.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _panel_header_container=__webpack_require__(4212);Object.defineProperty(exports,"PanelHeader",{enumerable:!0,get:function(){return _panel_header_container.PanelHeaderContainer}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelHeaderContainer=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_reactRedux=__webpack_require__(25),_panel_header=__webpack_require__(4213),_panel_options_menu_container=__webpack_require__(4214),_panel_maximize_icon=__webpack_require__(4217),_panel_minimize_icon=__webpack_require__(4218),_dashboard_view_mode=__webpack_require__(196),_actions=__webpack_require__(172),_selectors=__webpack_require__(321),mapStateToProps=function(_ref,_ref2){var dashboard=_ref.dashboard,panelId=_ref2.panelId,embeddable=(0,_selectors.getEmbeddable)(dashboard,panelId),panel=(0,_selectors.getPanel)(dashboard,panelId),embeddableTitle=embeddable?embeddable.title:"";return{title:void 0===panel.title?embeddableTitle:panel.title,isExpanded:(0,_selectors.getMaximizedPanelId)(dashboard)===panelId,isViewOnlyMode:(0,_selectors.getFullScreenMode)(dashboard)||(0,_selectors.getViewMode)(dashboard)===_dashboard_view_mode.DashboardViewMode.VIEW,hidePanelTitles:(0,_selectors.getHidePanelTitles)(dashboard)}},mapDispatchToProps=function(dispatch,_ref3){var panelId=_ref3.panelId;return{onMaximizePanel:function(){return dispatch((0,_actions.maximizePanel)(panelId))},onMinimizePanel:function(){return dispatch((0,_actions.minimizePanel)())}}},mergeProps=function(stateProps,dispatchProps,ownProps){var isExpanded=stateProps.isExpanded,isViewOnlyMode=stateProps.isViewOnlyMode,title=stateProps.title,hidePanelTitles=stateProps.hidePanelTitles,onMaximizePanel=dispatchProps.onMaximizePanel,onMinimizePanel=dispatchProps.onMinimizePanel,panelId=ownProps.panelId,embeddableFactory=ownProps.embeddableFactory,actions=void 0;return actions=isViewOnlyMode?isExpanded?_react2.default.createElement(_panel_minimize_icon.PanelMinimizeIcon,{onMinimize:onMinimizePanel}):_react2.default.createElement(_panel_maximize_icon.PanelMaximizeIcon,{onMaximize:onMaximizePanel}):_react2.default.createElement(_panel_options_menu_container.PanelOptionsMenuContainer,{panelId:panelId,embeddableFactory:embeddableFactory}),{title:title,actions:actions,isViewOnlyMode:isViewOnlyMode,hidePanelTitles:hidePanelTitles}};(exports.PanelHeaderContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,mergeProps)(_panel_header.PanelHeader)).propTypes={panelId:_propTypes2.default.string.isRequired,embeddableFactory:_propTypes2.default.shape({destroy:_propTypes2.default.func.isRequired,render:_propTypes2.default.func.isRequired,addDestroyEmeddable:_propTypes2.default.func.isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelHeader(_ref){var title=_ref.title,actions=_ref.actions,isViewOnlyMode=_ref.isViewOnlyMode,hidePanelTitles=_ref.hidePanelTitles;return!isViewOnlyMode||title&&!hidePanelTitles?_react2.default.createElement("div",{className:"panel-heading"},_react2.default.createElement("span",{"data-test-subj":"dashboardPanelTitle",className:"panel-title",title:title,"aria-label":"Dashboard panel: "+title},hidePanelTitles?"":title),_react2.default.createElement("div",{className:"kuiMicroButtonGroup"},actions)):_react2.default.createElement("div",{className:"panel-heading-floater"},_react2.default.createElement("div",{className:"kuiMicroButtonGroup"},actions))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelHeader=PanelHeader;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);PanelHeader.propTypes={isViewOnlyMode:_propTypes2.default.bool,title:_propTypes2.default.string,actions:_propTypes2.default.node,hidePanelTitles:_propTypes2.default.bool.isRequired}},function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelOptionsMenuContainer=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reactRedux=__webpack_require__(25),_propTypes=__webpack_require__(3),_propTypes2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_propTypes),_panel_options_menu=__webpack_require__(4215),_actions=__webpack_require__(172),_selectors=__webpack_require__(321),mapStateToProps=function(_ref,_ref2){var dashboard=_ref.dashboard,panelId=_ref2.panelId,embeddable=(0,_selectors.getEmbeddable)(dashboard,panelId),panel=(0,_selectors.getPanel)(dashboard,panelId),embeddableTitle=embeddable?embeddable.title:"";return{panelTitle:void 0===panel.title?embeddableTitle:panel.title,editUrl:embeddable?(0,_selectors.getEmbeddableEditUrl)(dashboard,panelId):null,isExpanded:(0,_selectors.getMaximizedPanelId)(dashboard)===panelId}},mapDispatchToProps=function(dispatch,_ref3){var embeddableFactory=_ref3.embeddableFactory,panelId=_ref3.panelId;return{onDeletePanel:function(){dispatch((0,_actions.deletePanel)(panelId)),dispatch((0,_actions.destroyEmbeddable)(panelId,embeddableFactory))},onMaximizePanel:function(){return dispatch((0,_actions.maximizePanel)(panelId))},onMinimizePanel:function(){return dispatch((0,_actions.minimizePanel)())},onResetPanelTitle:function(){return dispatch((0,_actions.resetPanelTitle)(panelId))},onUpdatePanelTitle:function(newTitle){return dispatch((0,_actions.setPanelTitle)(newTitle,panelId))}}},mergeProps=function(stateProps,dispatchProps){var isExpanded=stateProps.isExpanded,editUrl=stateProps.editUrl,panelTitle=stateProps.panelTitle,onMaximizePanel=dispatchProps.onMaximizePanel,onMinimizePanel=dispatchProps.onMinimizePanel,dispatchers=_objectWithoutProperties(dispatchProps,["onMaximizePanel","onMinimizePanel"]);return _extends({panelTitle:panelTitle,toggleExpandedPanel:function(){return isExpanded?onMinimizePanel():onMaximizePanel()},isExpanded:isExpanded,editUrl:editUrl},dispatchers)};(exports.PanelOptionsMenuContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps,mergeProps)(_panel_options_menu.PanelOptionsMenu)).propTypes={panelId:_propTypes2.default.string.isRequired,embeddableFactory:_propTypes2.default.shape({destroy:_propTypes2.default.func.isRequired,render:_propTypes2.default.func.isRequired,addDestroyEmeddable:_propTypes2.default.func.isRequired}).isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelOptionsMenu=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_components=__webpack_require__(22),_panel_options_menu_form=__webpack_require__(4216);(exports.PanelOptionsMenu=function(_React$Component){function PanelOptionsMenu(){var _ref,_temp,_this,_ret;_classCallCheck(this,PanelOptionsMenu);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=PanelOptionsMenu.__proto__||Object.getPrototypeOf(PanelOptionsMenu)).call.apply(_ref,[this].concat(args))),_this.state={isPopoverOpen:!1},_this.toggleMenu=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})},_this.closePopover=function(){return _this.setState({isPopoverOpen:!1})},_this.onEditPanel=function(){window.location=_this.props.editUrl},_this.onDeletePanel=function(){_this.props.onDeletePanel&&_this.props.onDeletePanel()},_this.onToggleExpandPanel=function(){_this.closePopover(),_this.props.toggleExpandedPanel()},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(PanelOptionsMenu,_React$Component),_createClass(PanelOptionsMenu,[{key:"buildMainMenuPanel",value:function(){var isExpanded=this.props.isExpanded,mainPanelMenuItems=[{name:"Edit visualization","data-test-subj":"dashboardPanelEditLink",icon:_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiButton__icon kuiIcon fa-edit"}),onClick:this.onEditPanel,disabled:!this.props.editUrl},{name:"Customize panel","data-test-subj":"dashboardPanelOptionsSubMenuLink",icon:_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiButton__icon kuiIcon fa-edit"}),panel:"panelSubOptionsMenu"},{name:isExpanded?"Minimize":"Full screen","data-test-subj":"dashboardPanelExpandIcon",icon:_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiButton__icon kuiIcon "+(isExpanded?"fa-compress":"fa-expand")}),onClick:this.onToggleExpandPanel}];return this.props.isExpanded||mainPanelMenuItems.push({name:"Delete from dashboard","data-test-subj":"dashboardPanelRemoveIcon",icon:_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiButton__icon kuiIcon fa-trash"}),onClick:this.onDeletePanel}),{title:"Options",id:"mainMenu",items:mainPanelMenuItems}}},{key:"buildPanelOptionsSubMenu",value:function(){return{title:"Customize panel",id:"panelSubOptionsMenu",content:_react2.default.createElement(_panel_options_menu_form.PanelOptionsMenuForm,{onReset:this.props.onResetPanelTitle,onUpdatePanelTitle:this.props.onUpdatePanelTitle,title:this.props.panelTitle,onClose:this.closePopover})}}},{key:"renderPanels",value:function(){return[this.buildMainMenuPanel(),this.buildPanelOptionsSubMenu()]}},{key:"render",value:function(){var button=_react2.default.createElement(_components.KuiKeyboardAccessible,null,_react2.default.createElement("span",{"aria-label":"Panel options",className:"kuiButton__icon kuiIcon panel-dropdown fa fa-gear","data-test-subj":"dashboardPanelToggleMenuIcon",onClick:this.toggleMenu}));return _react2.default.createElement(_components.KuiPopover,{className:"dashboardPanelPopOver",button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:"right",withTitle:!0},_react2.default.createElement(_components.KuiContextMenu,{initialPanelId:"mainMenu",panels:this.renderPanels()}))}}]),PanelOptionsMenu}(_react2.default.Component)).propTypes={panelTitle:_propTypes2.default.string,onUpdatePanelTitle:_propTypes2.default.func.isRequired,onResetPanelTitle:_propTypes2.default.func.isRequired,editUrl:_propTypes2.default.string,toggleExpandedPanel:_propTypes2.default.func.isRequired,isExpanded:_propTypes2.default.bool.isRequired,onDeletePanel:_propTypes2.default.func}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelOptionsMenuForm(_ref){function onInputChange(event){onUpdatePanelTitle(event.target.value)}function onKeyDown(event){event.keyCode===_eui.keyCodes.ENTER&&onClose()}var title=_ref.title,onReset=_ref.onReset,onUpdatePanelTitle=_ref.onUpdatePanelTitle,onClose=_ref.onClose;return _react2.default.createElement("div",{className:"kuiVerticalRhythm dashboardPanelMenuOptionsForm","data-test-subj":"dashboardPanelTitleInputMenuItem"},_react2.default.createElement("label",{className:"kuiFormLabel",htmlFor:"panelTitleInput"},"Panel title"),_react2.default.createElement("input",{id:"panelTitleInput",name:"min",type:"text",className:"kuiTextInput",value:title,onChange:onInputChange,onKeyDown:onKeyDown}),_react2.default.createElement(_components.KuiButton,{buttonType:"hollow",onClick:onReset},"Reset title"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelOptionsMenuForm=PanelOptionsMenuForm;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_components=__webpack_require__(22),_eui=__webpack_require__(5);PanelOptionsMenuForm.propTypes={title:_propTypes2.default.string,onUpdatePanelTitle:_propTypes2.default.func.isRequired,onReset:_propTypes2.default.func.isRequired,onClose:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelMaximizeIcon(_ref){var onMaximize=_ref.onMaximize;return _react2.default.createElement("button",{className:"kuiMicroButton viewModeExpandPanelToggle","aria-label":"Maximize panel","data-test-subj":"dashboardPanelExpandIcon",onClick:onMaximize},_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiIcon fa-expand"}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelMaximizeIcon=PanelMaximizeIcon;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);PanelMaximizeIcon.propTypes={onMaximize:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelMinimizeIcon(_ref){var onMinimize=_ref.onMinimize;return _react2.default.createElement("button",{className:"kuiMicroButton viewModeExpandPanelToggle","aria-label":"Minimize panel","data-test-subj":"dashboardPanelExpandIcon",onClick:onMinimize},_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiIcon fa-compress"}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelMinimizeIcon=PanelMinimizeIcon;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);PanelMinimizeIcon.propTypes={onMinimize:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelError(_ref){var error=_ref.error;return _react2.default.createElement("div",{className:"load-error"},_react2.default.createElement("span",{"aria-hidden":"true",className:"kuiIcon fa-exclamation-triangle"}),_react2.default.createElement("span",null,error))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PanelError=PanelError;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);PanelError.propTypes={error:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.node])}},function(module,exports,__webpack_require__){"use strict";function findTopLeftMostOpenSpace(width,height,currentPanels){for(var maxY=-1,i=0;i<currentPanels.length;i++){var panel=currentPanels[i];maxY=Math.max(panel.gridData.y+panel.gridData.h,maxY)}if(maxY<0)return{x:0,y:0};for(var grid=new Array(maxY),y=0;y<maxY;y++)grid[y]=new Array(_dashboard_constants.DASHBOARD_GRID_COLUMN_COUNT).fill(0);for(var _i=0;_i<currentPanels.length;_i++)for(var _panel=currentPanels[_i],x=_panel.gridData.x;x<_panel.gridData.x+_panel.gridData.w;x++)for(var _y=_panel.gridData.y;_y<_panel.gridData.y+_panel.gridData.h;_y++)grid[_y][x]=1;for(var _y2=0;_y2<maxY;_y2++)for(var _x=0;_x<_dashboard_constants.DASHBOARD_GRID_COLUMN_COUNT;_x++)if(1!==grid[_y2][_x])for(var h=_y2;h<Math.min(_y2+height,maxY);h++)for(var w=_x;w<Math.min(_x+width,_dashboard_constants.DASHBOARD_GRID_COLUMN_COUNT);w++){var spaceIsEmpty=0===grid[h][w],fitsPanelWidth=w===_x+width-1,fitsPanelHeight=h===Math.min(_y2+height-1,maxY-1);if(spaceIsEmpty&&fitsPanelWidth&&fitsPanelHeight)return{x:_x,y:_y2};if(1===grid[h][w])break}return{x:0,y:1/0}}function createPanelState(id,type,panelIndex,currentPanels){var _findTopLeftMostOpenS=findTopLeftMostOpenSpace(_dashboard_constants.DEFAULT_PANEL_WIDTH,_dashboard_constants.DEFAULT_PANEL_HEIGHT,currentPanels),x=_findTopLeftMostOpenS.x,y=_findTopLeftMostOpenS.y;return{gridData:{w:_dashboard_constants.DEFAULT_PANEL_WIDTH,h:_dashboard_constants.DEFAULT_PANEL_HEIGHT,x:x,y:y,i:panelIndex.toString()},version:_chrome2.default.getKibanaVersion(),panelIndex:panelIndex.toString(),type:type,id:id,embeddableConfig:{}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPanelState=createPanelState;var _dashboard_constants=__webpack_require__(138),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome)},function(module,exports,__webpack_require__){"use strict";function saveDashboard(toJson,timeFilter,dashboardStateManager){dashboardStateManager.saveState();var savedDashboard=dashboardStateManager.savedDashboard,appState=dashboardStateManager.appState;return(0,_update_saved_dashboard.updateSavedDashboard)(savedDashboard,appState,timeFilter,toJson),savedDashboard.save().then(function(id){return dashboardStateManager.lastSavedDashboardFilters=dashboardStateManager.getFilterState(),dashboardStateManager.resetState(),id})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.saveDashboard=saveDashboard;var _update_saved_dashboard=__webpack_require__(4222)},function(module,exports,__webpack_require__){"use strict";function updateSavedDashboard(savedDashboard,appState,timeFilter,toJson){savedDashboard.title=appState.title,savedDashboard.description=appState.description,savedDashboard.timeRestore=appState.timeRestore,savedDashboard.panelsJSON=toJson(appState.panels),savedDashboard.optionsJSON=toJson(appState.options),savedDashboard.timeFrom=savedDashboard.timeRestore?_filter_utils.FilterUtils.convertTimeToString(timeFilter.time.from):void 0,savedDashboard.timeTo=savedDashboard.timeRestore?_filter_utils.FilterUtils.convertTimeToString(timeFilter.time.to):void 0;var timeRestoreObj=_lodash2.default.pick(timeFilter.refreshInterval,["display","pause","section","value"]);savedDashboard.refreshInterval=savedDashboard.timeRestore?timeRestoreObj:void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateSavedDashboard=updateSavedDashboard;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_filter_utils=__webpack_require__(735)},function(module,exports,__webpack_require__){"use strict";function getAppStateDefaults(savedDashboard,hideWriteControls){var appState={fullScreenMode:!1,title:savedDashboard.title,description:savedDashboard.description,timeRestore:savedDashboard.timeRestore,panels:savedDashboard.panelsJSON?JSON.parse(savedDashboard.panelsJSON):[],options:savedDashboard.optionsJSON?JSON.parse(savedDashboard.optionsJSON):{},query:_filter_utils.FilterUtils.getQueryFilterForDashboard(savedDashboard),filters:_filter_utils.FilterUtils.getFilterBarsForDashboard(savedDashboard),viewMode:savedDashboard.id||hideWriteControls?_dashboard_view_mode.DashboardViewMode.VIEW:_dashboard_view_mode.DashboardViewMode.EDIT};if(savedDashboard.uiStateJSON){var uiState=JSON.parse(savedDashboard.uiStateJSON);appState.panels.forEach(function(panel){panel.embeddableConfig=uiState["P-"+panel.panelIndex]}),delete savedDashboard.uiStateJSON}return appState}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAppStateDefaults=getAppStateDefaults;var _dashboard_view_mode=__webpack_require__(196),_filter_utils=__webpack_require__(735)},function(module,exports,__webpack_require__){"use strict";function migrateAppState(appState){appState.uiState&&(appState.panels.forEach(function(panel){panel.embeddableConfig=appState.uiState["P-"+panel.panelIndex]}),delete appState.uiState,appState.save())}Object.defineProperty(exports,"__esModule",{value:!0}),exports.migrateAppState=migrateAppState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard_selectors=__webpack_require__(4226);Object.keys(_dashboard_selectors).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _dashboard_selectors[key]}})})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDescription=exports.getTitle=exports.getHidePanelTitles=exports.getUseMargins=exports.getMaximizedPanelId=exports.getFullScreenMode=exports.getViewMode=exports.getEmbeddableEditUrl=exports.getEmbeddableTitle=exports.getEmbeddableError=exports.getPanelType=exports.getPanel=exports.getPanels=exports.getDashboard=void 0;var _selectors=__webpack_require__(321),DashboardSelectors=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_selectors),getDashboard=exports.getDashboard=function(state){return state.dashboard};exports.getPanels=function(state){return DashboardSelectors.getPanels(getDashboard(state))},exports.getPanel=function(state,panelId){return DashboardSelectors.getPanel(getDashboard(state),panelId)},exports.getPanelType=function(state,panelId){return DashboardSelectors.getPanelType(getDashboard(state),panelId)},exports.getEmbeddableError=function(state,panelId){return DashboardSelectors.getEmbeddableError(getDashboard(state),panelId)},exports.getEmbeddableTitle=function(state,panelId){return DashboardSelectors.getEmbeddableTitle(getDashboard(state),panelId)},exports.getEmbeddableEditUrl=function(state,panelId){return DashboardSelectors.getEmbeddableEditUrl(getDashboard(state),panelId)},exports.getViewMode=function(state){return DashboardSelectors.getViewMode(getDashboard(state))},exports.getFullScreenMode=function(state){return DashboardSelectors.getFullScreenMode(getDashboard(state))},exports.getMaximizedPanelId=function(state){return DashboardSelectors.getMaximizedPanelId(getDashboard(state))},exports.getUseMargins=function(state){return DashboardSelectors.getUseMargins(getDashboard(state))},exports.getHidePanelTitles=function(state){return DashboardSelectors.getHidePanelTitles(getDashboard(state))},exports.getTitle=function(state){return DashboardSelectors.getTitle(getDashboard(state))},exports.getDescription=function(state){return DashboardSelectors.getDescription(getDashboard(state))}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function showCloneModal(onClone,title){var container=document.createElement("div"),closeModal=function(){_reactDom2.default.unmountComponentAtNode(container),document.body.removeChild(container)},onCloneConfirmed=function(newTitle){onClone(newTitle).then(function(id){id&&closeModal()})};document.body.appendChild(container);var element=_react2.default.createElement(_clone_modal.DashboardCloneModal,{onClone:onCloneConfirmed,onClose:closeModal,title:title+" Copy"});_reactDom2.default.render(element,container)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.showCloneModal=showCloneModal;var _clone_modal=__webpack_require__(4228),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactDom2=_interopRequireDefault(_reactDom)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardCloneModal=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.DashboardCloneModal=function(_React$Component){function DashboardCloneModal(props){_classCallCheck(this,DashboardCloneModal);var _this=_possibleConstructorReturn(this,(DashboardCloneModal.__proto__||Object.getPrototypeOf(DashboardCloneModal)).call(this,props));return _this.cloneDashboard=function(){_this.props.onClone(_this.state.newDashboardName)},_this.onInputChange=function(event){_this.setState({newDashboardName:event.target.value})},_this.state={newDashboardName:props.title},_this}return _inherits(DashboardCloneModal,_React$Component),_createClass(DashboardCloneModal,[{key:"render",value:function(){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiModal,{"data-tests-subj":"dashboardCloneModal",className:"dashboardCloneModal",onClose:this.props.onClose},_react2.default.createElement(_eui.EuiModalHeader,null,_react2.default.createElement(_eui.EuiModalHeaderTitle,null,"Clone Dashboard")),_react2.default.createElement(_eui.EuiModalBody,null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Please enter a new name for your dashboard.")),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFieldText,{autoFocus:!0,"data-test-subj":"clonedDashboardTitle",value:this.state.newDashboardName,onChange:this.onInputChange})),_react2.default.createElement(_eui.EuiModalFooter,null,_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"cloneCancelButton",onClick:this.props.onClose},"Cancel"),_react2.default.createElement(_eui.EuiButton,{fill:!0,"data-test-subj":"cloneConfirmButton",onClick:this.cloneDashboard},"Confirm Clone"))))}}]),DashboardCloneModal}(_react2.default.Component)).propTypes={onClone:_propTypes2.default.func,onClose:_propTypes2.default.func,title:_propTypes2.default.string}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardContainerAPI=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_embeddable=__webpack_require__(744);exports.DashboardContainerAPI=function(_ContainerAPI){function DashboardContainerAPI(dashboardState,addFilter){_classCallCheck(this,DashboardContainerAPI);var _this=_possibleConstructorReturn(this,(DashboardContainerAPI.__proto__||Object.getPrototypeOf(DashboardContainerAPI)).call(this));return _this.dashboardState=dashboardState,_this.addFilter=addFilter,_this}return _inherits(DashboardContainerAPI,_ContainerAPI),_createClass(DashboardContainerAPI,[{key:"updatePanel",value:function(panelIndex,panelAttributes){return this.dashboardState.updatePanel(panelIndex,panelAttributes)}},{key:"registerPanelIndexPattern",value:function(panelIndex,pattern){this.dashboardState.registerPanelIndexPatternMap(panelIndex,pattern),this.dashboardState.saveState()}},{key:"getHidePanelTitles",value:function(){return this.dashboardState.getHidePanelTitles()}},{key:"onEmbeddableConfigChanged",value:function(panelIndex,listener){this.dashboardState.registerEmbeddableConfigChangeListener(panelIndex,listener)}}]),DashboardContainerAPI}(_embeddable.ContainerAPI)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.EmbeddableFactory=function(){function EmbeddableFactory(){_classCallCheck(this,EmbeddableFactory),this.destroyEmbeddableMap={}}return _createClass(EmbeddableFactory,[{key:"render",value:function(){throw new Error("Must implement render.")}},{key:"addDestroyEmeddable",value:function(panelIndex,destroyEmbeddable){this.destroyEmbeddableMap[panelIndex]=destroyEmbeddable}},{key:"destroy",value:function(panelIndex){this.destroyEmbeddableMap[panelIndex]&&(this.destroyEmbeddableMap[panelIndex](),delete this.destroyEmbeddableMap[panelIndex])}}]),EmbeddableFactory}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.Embeddable=function Embeddable(config){_classCallCheck(this,Embeddable),this.title=config.title||"",this.editUrl=config.editUrl||""}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ContainerAPI=function(){function ContainerAPI(){_classCallCheck(this,ContainerAPI)}return _createClass(ContainerAPI,[{key:"addFilter",value:function(){throw new Error("Must implement addFilter.")}},{key:"registerPanelIndexPattern",value:function(){throw new Error("Must implement registerPanelIndexPattern.")}},{key:"updatePanel",value:function(){throw new Error("Must implement updatePanel.")}},{key:"getHidePanelTitles",value:function(){return this.dashboardState.getHidePanelTitles()}}]),ContainerAPI}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DashboardViewportProvider(props){return _react2.default.createElement(_reactRedux.Provider,{store:_store.store},_react2.default.createElement(_dashboard_viewport_container.DashboardViewportContainer,props))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardViewportProvider=DashboardViewportProvider;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_store=__webpack_require__(1289),_reactRedux=__webpack_require__(25),_dashboard_viewport_container=__webpack_require__(4234);DashboardViewportProvider.propTypes={getContainerApi:_propTypes2.default.func.isRequired,getEmbeddableFactory:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardViewportContainer=void 0;var _reactRedux=__webpack_require__(25),_dashboard_viewport=__webpack_require__(4235),_actions=__webpack_require__(172),_selectors=__webpack_require__(321),mapStateToProps=function(_ref){var dashboard=_ref.dashboard;return{maximizedPanelId:(0,_selectors.getMaximizedPanelId)(dashboard),panelCount:Object.keys((0,_selectors.getPanels)(dashboard)).length,description:(0,_selectors.getDescription)(dashboard),title:(0,_selectors.getTitle)(dashboard),useMargins:(0,_selectors.getUseMargins)(dashboard),isFullScreenMode:(0,_selectors.getFullScreenMode)(dashboard)}},mapDispatchToProps=function(dispatch){return{onExitFullScreenMode:function(){return dispatch((0,_actions.updateIsFullScreenMode)(!1))}}};exports.DashboardViewportContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_dashboard_viewport.DashboardViewport)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DashboardViewport(_ref){var getContainerApi=_ref.getContainerApi,maximizedPanelId=_ref.maximizedPanelId,getEmbeddableFactory=_ref.getEmbeddableFactory,panelCount=_ref.panelCount,title=_ref.title,description=_ref.description,useMargins=_ref.useMargins,isFullScreenMode=_ref.isFullScreenMode,onExitFullScreenMode=_ref.onExitFullScreenMode;return _react2.default.createElement("div",{"data-shared-items-count":panelCount,"data-shared-items-container":!0,"data-title":title,"data-description":description,className:useMargins?"dashboard-viewport-with-margins":"dashboard-viewport"},isFullScreenMode&&_react2.default.createElement(_exit_full_screen_button.ExitFullScreenButton,{onExitFullScreenMode:onExitFullScreenMode}),_react2.default.createElement(_grid.DashboardGrid,{getEmbeddableFactory:getEmbeddableFactory,getContainerApi:getContainerApi,maximizedPanelId:maximizedPanelId}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardViewport=DashboardViewport;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_grid=__webpack_require__(4236),_exit_full_screen_button=__webpack_require__(4273);DashboardViewport.propTypes={getContainerApi:_propTypes2.default.func,getEmbeddableFactory:_propTypes2.default.func,maximizedPanelId:_propTypes2.default.string,panelCount:_propTypes2.default.number,title:_propTypes2.default.string,description:_propTypes2.default.string,useMargins:_propTypes2.default.bool.isRequired}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard_grid_container=__webpack_require__(4237);Object.defineProperty(exports,"DashboardGrid",{enumerable:!0,get:function(){return _dashboard_grid_container.DashboardGridContainer}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardGridContainer=void 0;var _reactRedux=__webpack_require__(25),_dashboard_grid=__webpack_require__(4238),_actions=__webpack_require__(172),_selectors=__webpack_require__(321),mapStateToProps=function(_ref){var dashboard=_ref.dashboard;return{panels:(0,_selectors.getPanels)(dashboard),dashboardViewMode:(0,_selectors.getViewMode)(dashboard),useMargins:(0,_selectors.getUseMargins)(dashboard)}},mapDispatchToProps=function(dispatch){return{onPanelsUpdated:function(updatedPanels){return dispatch((0,_actions.updatePanels)(updatedPanels))}}};exports.DashboardGridContainer=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_dashboard_grid.DashboardGrid)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function ensureWindowScrollsToBottom(layout,oldResizeItem,l,placeholder,event){event.clientY>window.innerHeight-10&&window.scrollTo(0,event.pageY+10-window.innerHeight)}function ResponsiveGrid(_ref){var size=_ref.size,isViewMode=_ref.isViewMode,layout=_ref.layout,onLayoutChange=_ref.onLayoutChange,children=_ref.children,maximizedPanelId=_ref.maximizedPanelId,useMargins=_ref.useMargins;lastValidGridSize=size.width>0?size.width:lastValidGridSize;var classes=(0,_classnames2.default)({"layout-view":isViewMode,"layout-edit":!isViewMode,"layout-maximized-panel":void 0!==maximizedPanelId,"layout-with-margins":useMargins}),MARGINS=useMargins?8:0;return _react2.default.createElement(_reactGridLayout2.default,{width:lastValidGridSize,className:classes,isDraggable:!0,isResizable:!0,useCSSTransforms:!1,margin:[MARGINS,MARGINS],cols:_dashboard_constants.DASHBOARD_GRID_COLUMN_COUNT,rowHeight:_dashboard_constants.DASHBOARD_GRID_HEIGHT,draggableHandle:isViewMode?".doesnt-exist":".panel-title",layout:layout,onLayoutChange:onLayoutChange,measureBeforeMount:!1,onResize:ensureWindowScrollsToBottom},children)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardGrid=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_reactGridLayout=__webpack_require__(4239),_reactGridLayout2=_interopRequireDefault(_reactGridLayout),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_panel_utils=__webpack_require__(1288),_dashboard_view_mode=__webpack_require__(196),_panel=__webpack_require__(1311),_notify=__webpack_require__(10),_dashboard_constants=__webpack_require__(138),_reactSizeme=__webpack_require__(4250),_reactSizeme2=_interopRequireDefault(_reactSizeme),config={monitorWidth:!0},lastValidGridSize=0,ResponsiveSizedGrid=(0,_reactSizeme2.default)(config)(ResponsiveGrid),_initialiseProps=function(){var _this5=this;this.onLayoutChange=function(layout){(0,_this5.props.onPanelsUpdated)(layout.reduce(function(updatedPanelsAcc,panelLayout){return updatedPanelsAcc[panelLayout.i]={panelIndex:panelLayout.i,gridData:_lodash2.default.pick(panelLayout,["x","y","w","h","i"])},updatedPanelsAcc},{}))},this.onPanelFocused=function(focusedPanelIndex){_this5.setState({focusedPanelIndex:focusedPanelIndex})},this.onPanelBlurred=function(blurredPanelIndex){_this5.state.focusedPanelIndex===blurredPanelIndex&&_this5.setState({focusedPanelIndex:void 0})}};(exports.DashboardGrid=function(_React$Component){function DashboardGrid(props){_classCallCheck(this,DashboardGrid);var _this=_possibleConstructorReturn(this,(DashboardGrid.__proto__||Object.getPrototypeOf(DashboardGrid)).call(this,props));_initialiseProps.call(_this),_this.gridItems={};var isLayoutInvalid=!1,layout=void 0;try{layout=_this.buildLayoutFromPanels()}catch(error){isLayoutInvalid=!0,_notify.toastNotifications.addDanger({title:"Unable to load dashboard.",text:error.message}),window.location="#"+_dashboard_constants.DashboardConstants.LANDING_PAGE_PATH}return _this.state={focusedPanelIndex:void 0,layout:layout,isLayoutInvalid:isLayoutInvalid},_this.embeddableFactoryMap={},_this}return _inherits(DashboardGrid,_React$Component),_createClass(DashboardGrid,[{key:"buildLayoutFromPanels",value:function(){var _this2=this;return _lodash2.default.map(this.props.panels,function(panel){var panelVersion=panel.version?_panel_utils.PanelUtils.parseVersion(panel.version):_panel_utils.PanelUtils.parseVersion("6.0.0");return(panelVersion.major<6||6===panelVersion.major&&panelVersion.minor<1)&&_panel_utils.PanelUtils.convertPanelDataPre_6_1(panel),(panelVersion.major<6||6===panelVersion.major&&panelVersion.minor<3)&&_panel_utils.PanelUtils.convertPanelDataPre_6_3(panel,_this2.props.useMargins),panel.gridData})}},{key:"createEmbeddableFactoriesMap",value:function(panels){var _this3=this;Object.values(panels).map(function(panel){_this3.embeddableFactoryMap[panel.type]||(_this3.embeddableFactoryMap[panel.type]=_this3.props.getEmbeddableFactory(panel.type))})}},{key:"componentWillMount",value:function(){this.createEmbeddableFactoriesMap(this.props.panels)}},{key:"componentWillReceiveProps",value:function(nextProps){this.createEmbeddableFactoriesMap(nextProps.panels)}},{key:"renderDOM",value:function(){var _this4=this,_props=this.props,panels=_props.panels,getContainerApi=_props.getContainerApi,maximizedPanelId=_props.maximizedPanelId,focusedPanelIndex=this.state.focusedPanelIndex,panelsInOrder=Object.keys(panels).map(function(key){return panels[key]});return panelsInOrder.sort(function(panelA,panelB){return panelA.gridData.y===panelB.gridData.y?panelA.gridData.x-panelB.gridData.x:panelA.gridData.y-panelB.gridData.y}),_lodash2.default.map(panelsInOrder,function(panel){var expandPanel=void 0!==maximizedPanelId&&maximizedPanelId===panel.panelIndex,hidePanel=void 0!==maximizedPanelId&&maximizedPanelId!==panel.panelIndex,classes=(0,_classnames2.default)({"grid-item--expanded":expandPanel,"grid-item--hidden":hidePanel});return _react2.default.createElement("div",{style:{zIndex:focusedPanelIndex===panel.panelIndex?"2":"auto"},className:classes,key:panel.panelIndex,ref:function(reactGridItem){_this4.gridItems[panel.panelIndex]=reactGridItem}},_react2.default.createElement(_panel.DashboardPanel,{panelId:panel.panelIndex,getContainerApi:getContainerApi,embeddableFactory:_this4.embeddableFactoryMap[panel.type],onPanelFocused:_this4.onPanelFocused,onPanelBlurred:_this4.onPanelBlurred}))})}},{key:"render",value:function(){if(this.state.isLayoutInvalid)return null;var _props2=this.props,dashboardViewMode=_props2.dashboardViewMode,maximizedPanelId=_props2.maximizedPanelId,useMargins=_props2.useMargins,isViewMode=dashboardViewMode===_dashboard_view_mode.DashboardViewMode.VIEW;return _react2.default.createElement(ResponsiveSizedGrid,{isViewMode:isViewMode,layout:this.buildLayoutFromPanels(),onLayoutChange:this.onLayoutChange,maximizedPanelId:maximizedPanelId,useMargins:useMargins},this.renderDOM())}}]),DashboardGrid}(_react2.default.Component)).propTypes={panels:_propTypes2.default.object.isRequired,getContainerApi:_propTypes2.default.func.isRequired,getEmbeddableFactory:_propTypes2.default.func.isRequired,dashboardViewMode:_propTypes2.default.oneOf([_dashboard_view_mode.DashboardViewMode.EDIT,_dashboard_view_mode.DashboardViewMode.VIEW]).isRequired,onPanelsUpdated:_propTypes2.default.func.isRequired,maximizedPanelId:_propTypes2.default.string,useMargins:_propTypes2.default.bool.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExitFullScreenButton=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_components=__webpack_require__(22),_eui=__webpack_require__(5);(exports.ExitFullScreenButton=function(_PureComponent){function ExitFullScreenButton(){var _ref,_temp,_this,_ret;_classCallCheck(this,ExitFullScreenButton);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ExitFullScreenButton.__proto__||Object.getPrototypeOf(ExitFullScreenButton)).call.apply(_ref,[this].concat(args))),_this.onKeyDown=function(e){e.keyCode===_eui.keyCodes.ESCAPE&&_this.props.onExitFullScreenMode()},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ExitFullScreenButton,_PureComponent),_createClass(ExitFullScreenButton,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1),_chrome2.default.setVisible(!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1),_chrome2.default.setVisible(!0)}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"exitFullScreenButton"},_react2.default.createElement(_components.KuiButton,{type:"hollow","aria-label":"Exit full screen mode",className:"exitFullScreenMode",onClick:this.props.onExitFullScreenMode},_react2.default.createElement("span",{className:"exitFullScreenModeLogo","data-test-subj":"exitFullScreenModeLogo"}),_react2.default.createElement("span",{className:"exitFullScreenModeText","data-test-subj":"exitFullScreenModeText"},"Exit full screen",_react2.default.createElement("span",{className:"kuiIcon fa fa-angle-left"}))))}}]),ExitFullScreenButton}(_react.PureComponent)).propTypes={onExitFullScreenMode:_propTypes2.default.func.isRequired}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").provider("dashboardConfig",function(){var hideWriteControls=!1;return{turnHideWriteControlsOn:function(){hideWriteControls=!0},$get:function(){return{getHideWriteControls:function(){return hideWriteControls}}}}})},function(module,exports){module.exports='<dashboard-app\n  class="app-container dashboard-container"\n  ng-class="{\'dashboard-container-with-margins\': model.useMargins}"\n>\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="dashboard" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Title. --\x3e\n      <div\n        data-transclude-slot="topLeftCorner"\n        class="kuiLocalBreadcrumbs"\n        data-test-subj="breadcrumbs"\n        role="heading"\n        aria-level="1"\n      >\n        <div class="kuiLocalBreadcrumb">\n          <a class="kuiLocalBreadcrumb__link" href="{{landingPageUrl()}}">Dashboard</a>\n        </div>\n        <div class="kuiLocalBreadcrumb">\n          {{ getDashTitle() }}\n        </div>\n      </div>\n\n      \x3c!-- Search. --\x3e\n      <div ng-show="chrome.getVisible()" class="fullWidth" data-transclude-slot="bottomRow">\n        <query-bar\n          query="model.query"\n          app-name="\'dashboard\'"\n          on-submit="updateQueryAndFetch($query)"\n          index-patterns="indexPatterns"\n        >\n        </query-bar>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  \x3c!-- Filters. --\x3e\n  <filter-bar\n    ng-show="showFilterBar()"\n    state="state"\n    index-patterns="indexPatterns"\n  ></filter-bar>\n\n  <div\n    ng-show="getShouldShowEditHelp()"\n    class="text-center start-screen"\n  >\n    <h2 class="kuiTitle kuiVerticalRhythm">\n      This dashboard is empty. Let&rsquo;s fill it up!\n    </h2>\n\n    <p class="kuiText kuiVerticalRhythm">\n      Click the <a kbn-accessible-click class="kuiButton kuiButton--primary kuiButton--small" ng-click="showAddPanel()" aria-label="Add visualization">Add</a> button in the menu bar above to add a visualization to the dashboard. <br/>If you haven\'t set up any visualizations yet, <a class="kuiLink" href="#/visualize">visit the Visualize app</a> to create your first visualization.\n    </p>\n  </div>\n\n  <div ng-show="getShouldShowViewHelp()" class="text-center start-screen">\n    <h2 class="kuiTitle kuiVerticalRhythm">\n      This dashboard is empty. Let&rsquo;s fill it up!\n    </h2>\n\n    <p class="kuiText kuiVerticalRhythm">\n      Click the <a kbn-accessible-click class="kuiButton kuiButton--primary kuiButton--small" ng-click="enterEditMode()">Edit</a> button in the menu bar above to start working on your new dashboard.\n    </p>\n  </div>\n\n  <dashboard-viewport-provider\n    get-container-api="getContainerApi"\n    get-embeddable-factory="getEmbeddableFactory"\n  >\n  </dashboard-viewport-provider>\n\n</dashboard-app>\n'},function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="dashboard">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Title. --\x3e\n    <div\n      data-transclude-slot="topLeftCorner"\n      class="kuiLocalTitle"\n      role="heading"\n      aria-level="1"\n    >\n      Dashboard\n    </div>\n  </div>\n</kbn-top-nav>\n\n<div\n  class="kuiViewContent kuiViewContent--constrainedWidth"\n  data-test-subj="dashboardLandingPage"\n>\n  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">\n    <div class="kuiInfoPanel kuiInfoPanel--warning">\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          You have {{ listingController.totalItems }} dashboards, but your "listingLimit" setting prevents the table below from displaying more than {{ listingController.listingLimit }}. You can change this setting under <a kbn-href="#/management/kibana/settings" class="kuiLink">Advanced Settings</a>.\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- ControlledTable --\x3e\n  <div class="kuiViewContentItem kuiControlledTable kuiVerticalRhythm">\n    \x3c!-- ToolBar --\x3e\n    <div class="kuiToolBar">\n      <div class="kuiToolBarSearch">\n        <div class="kuiToolBarSearchBox">\n          <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n          <input\n            class="kuiToolBarSearchBox__input"\n            type="text"\n            placeholder="Search..."\n            aria-label="Filter dashboards"\n            data-test-subj="searchFilter"\n            ng-model="listingController.filter"\n          >\n        </div>\n      </div>\n\n      <div class="kuiToolBarSection">\n        \x3c!-- Bulk delete button --\x3e\n        <button\n          class="kuiButton kuiButton--danger"\n          ng-click="listingController.deleteSelectedItems()"\n          aria-label="Delete selected dashboards"\n          ng-if="listingController.getSelectedItemsCount() > 0 && !listingController.hideWriteControls"\n          tooltip="Delete selected dashboards"\n          tooltip-append-to-body="true"\n          data-test-subj="deleteSelectedDashboards"\n        >\n          <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-trash"></span>\n        </button>\n\n        \x3c!-- Create dashboard button --\x3e\n        <a\n          class="kuiButton kuiButton--primary"\n          href="{{listingController.getCreateDashboardHref()}}"\n          aria-label="Create new dashboard"\n          data-test-subj="newDashboardLink"\n          ng-if="listingController.getSelectedItemsCount() === 0 && !listingController.hideWriteControls"\n          tooltip="Create new dashboard"\n          tooltip-append-to-body="true"\n        >\n          <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-plus"></span>\n        </a>\n      </div>\n\n      <div class="kuiToolBarSection">\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="listingController.pager.startItem"\n          end-item="listingController.pager.endItem"\n          total-items="listingController.pager.totalItems"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="listingController.pager.hasPreviousPage"\n          has-next-page="listingController.pager.hasNextPage"\n          on-page-next="listingController.onPageNext"\n          on-page-previous="listingController.onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n\n    \x3c!-- TableInfo --\x3e\n    <div\n      class="kuiPanel kuiPanel--centered kuiPanel--withToolBar"\n      ng-if="!listingController.items.length && listingController.filter"\n    >\n      <div class="kuiTableInfo">\n        No dashboards matched your search.\n      </div>\n    </div>\n\n    \x3c!-- EmptyTablePrompt --\x3e\n    <div\n      class="kuiPanel kuiPanel--centered kuiPanel--withToolBar"\n      ng-if="!listingController.isFetchingItems && !listingController.items.length && !listingController.filter"\n    >\n      <div class="kuiEmptyTablePrompt">\n        <div class="kuiEmptyTablePrompt__message">\n          Looks like you don&rsquo;t have any dashboards. <span ng-if="!listingController.hideWriteControls">Let&rsquo;s create some!</span>\n        </div>\n\n        <div class="kuiEmptyTablePrompt__actions" ng-if="!listingController.hideWriteControls">\n          <a\n            class="kuiButton kuiButton--primary kuiButton--iconText"\n            data-test-subj="createDashboardPromptButton"\n            href="{{listingController.getCreateDashboardHref()}}"\n          >\n            <span class="kuiButton__inner">\n              <span class="kuiButton__icon kuiIcon fa-plus"></span>\n              <span>Create a dashboard</span>\n            </span>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Table --\x3e\n    <table class="kuiTable dashboardListingTable" ng-if="listingController.items.length">\n      <thead>\n        <tr>\n          <th\n            class="kuiTableHeaderCell kuiTableHeaderCell--checkBox"\n            ng-if="!listingController.hideWriteControls"\n            scope="col"\n          >\n            <div class="kuiTableHeaderCell__liner">\n              <input\n                type="checkbox"\n                class="kuiCheckBox"\n                ng-checked="listingController.areAllItemsChecked()"\n                ng-click="listingController.toggleAll()"\n                aria-label="{{listingController.areAllItemsChecked() ? \'Deselect all rows\' : \'Select all rows\'}}"\n              >\n            </div>\n          </th>\n\n          <th scope="col" class="kuiTableHeaderCell">\n            <button\n              class="kuiTableHeaderCellButton"\n              ng-class="{\'kuiTableHeaderCellButton-isSorted\': listingController.getSortedProperty().name == \'title\'}"\n              ng-click="listingController.sortOn(\'title\')"\n              aria-label="{{listingController.isAscending(\'title\') ? \'Sort name descending\' : \'Sort name ascending\'}}"\n            >\n              <span class="kuiTableHeaderCell__liner">\n                Name\n                <span\n                  class="kuiTableSortIcon kuiIcon"\n                  ng-class="listingController.isAscending(\'title\') ? \'fa-long-arrow-up\' : \'fa-long-arrow-down\'"\n                ></span>\n              </span>\n            </button>\n          </th>\n\n          <th scope="col" class="kuiTableHeaderCell">\n            <button\n              class="kuiTableHeaderCellButton"\n              ng-class="{\'kuiTableHeaderCellButton-isSorted\': listingController.getSortedProperty().name == \'description\'}"\n              ng-click="listingController.sortOn(\'description\')"\n              aria-label="{{listingController.isAscending(\'description\') ? \'Sort description descending\' : \'Sort description ascending\'}}"\n            >\n              <span class="kuiTableHeaderCell__liner">\n                Description\n                <span\n                  class="kuiTableSortIcon kuiIcon"\n                  ng-class="listingController.isAscending(\'description\') ? \'fa-long-arrow-up\' : \'fa-long-arrow-down\'"\n                ></span>\n              </span>\n            </button>\n          </th>\n\n          <th\n            ng-if="!listingController.hideWriteControls"\n            scope="col"\n            class="kuiTableHeaderCell actionBtnHeaderCell"\n          >\n            <div class="kuiTableHeaderCell__liner">Actions</div>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr\n          ng-repeat="item in listingController.pageOfItems track by item.id"\n          class="kuiTableRow"\n          data-test-subj="dashboardListingRow"\n        >\n          <td class="kuiTableRowCell kuiTableRowCell--checkBox" ng-if="!listingController.hideWriteControls">\n            <div class="kuiTableRowCell__liner">\n              <input\n                type="checkbox"\n                class="kuiCheckBox"\n                data-test-subj="dashboardListItemCheckbox"\n                ng-click="listingController.toggleItem(item)"\n                ng-checked="listingController.isItemChecked(item)"\n                aria-label="{{listingController.isItemChecked(item) ? \'Deselect row\' : \'Select row\'}}"\n              >\n            </div>\n          </td>\n\n          <td class="kuiTableRowCell">\n            <div class="kuiTableRowCell__liner">\n              <a\n                class="kuiLink"\n                data-test-subj="dashboardListingTitleLink-{{item.title.split(\' \').join(\'-\')}}"\n                ng-href="{{ listingController.getUrlForItem(item) }}"\n              >\n                {{ item.title }}\n              </a>\n            </div>\n          </td>\n          <td class="kuiTableRowCell kuiTableRowCell--wrap">\n            <div class="kuiTableRowCell__liner">\n              {{ item.description }}\n            </div>\n          </td>\n          <td\n            ng-if="!listingController.hideWriteControls"\n            class="kuiTableRowCell kuiTableRowCell--wrap"\n          >\n            <div class="kuiTableRowCell__liner">\n              <a\n                class="kuiMenuButton kuiMenuButton--basic"\n                data-test-subj="dashboardListingTitleEditLink-{{item.title.split(\' \').join(\'-\')}}"\n                ng-href="{{ listingController.getEditUrlForItem(item) }}"\n              >\n                Edit\n              </a>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    \x3c!-- ToolBarFooter --\x3e\n    <div class="kuiToolBarFooter">\n      <div class="kuiToolBarFooterSection">\n        <div class="kuiToolBarText" ng-hide="listingController.getSelectedItemsCount() === 0">\n          {{ listingController.getSelectedItemsCount() }} selected\n        </div>\n      </div>\n\n      <div class="kuiToolBarSection">\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="listingController.pager.startItem"\n          end-item="listingController.pager.endItem"\n          total-items="listingController.pager.totalItems"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="listingController.pager.hasPreviousPage"\n          has-next-page="listingController.pager.hasNextPage"\n          on-page-next="listingController.onPageNext"\n          on-page-previous="listingController.onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function DashboardListingController($injector,$scope,$location){var _this=this,$filter=$injector.get("$filter"),confirmModal=$injector.get("confirmModal"),Notifier=$injector.get("Notifier"),pagerFactory=$injector.get("pagerFactory"),Private=$injector.get("Private"),timefilter=$injector.get("timefilter"),config=$injector.get("config"),dashboardConfig=$injector.get("dashboardConfig");timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector();var limitTo=$filter("limitTo"),services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName,dashboardService=services.dashboards,notify=new Notifier({location:"Dashboard"}),selectedItems=[],sortableProperties=new _eui.SortableProperties([{name:"title",getValue:function(item){return item.title.toLowerCase()},isAscending:!0},{name:"description",getValue:function(item){return item.description.toLowerCase()},isAscending:!0}],"title"),calculateItemsOnPage=function(){_this.items=sortableProperties.sortItems(_this.items),_this.pager.setTotalItems(_this.items.length),_this.pageOfItems=limitTo(_this.items,_this.pager.pageSize,_this.pager.startIndex)},fetchItems=function(){_this.isFetchingItems=!0,dashboardService.find(_this.filter,config.get("savedObjects:listingLimit")).then(function(result){_this.isFetchingItems=!1,_this.items=result.hits,_this.totalItems=result.total,_this.showLimitError=result.total>config.get("savedObjects:listingLimit"),_this.listingLimit=config.get("savedObjects:listingLimit"),calculateItemsOnPage()})},deselectAll=function(){selectedItems=[]},selectAll=function(){selectedItems=_this.pageOfItems.slice(0)};this.isFetchingItems=!1,this.items=[],this.pageOfItems=[],this.filter=$location.search().filter||"",this.pager=pagerFactory.create(this.items.length,20,1),this.hideWriteControls=dashboardConfig.getHideWriteControls(),$scope.$watch(function(){return _this.filter},function(){deselectAll(),fetchItems(),$location.search("filter",_this.filter)}),this.isAscending=function(name){return sortableProperties.isAscendingByName(name)},this.getSortedProperty=function(){return sortableProperties.getSortedProperty()},this.sortOn=function(propertyName){sortableProperties.sortOn(propertyName),deselectAll(),calculateItemsOnPage()},this.toggleAll=function(){this.areAllItemsChecked()?deselectAll():selectAll()},this.toggleItem=function(item){if(this.isItemChecked(item)){var index=selectedItems.indexOf(item);selectedItems.splice(index,1)}else selectedItems.push(item)},this.isItemChecked=function(item){return-1!==selectedItems.indexOf(item)},this.areAllItemsChecked=function(){return this.getSelectedItemsCount()===this.pageOfItems.length},this.getSelectedItemsCount=function(){return selectedItems.length},this.deleteSelectedItems=function(){confirmModal("You can't recover deleted dashboards.",{confirmButtonText:"Delete",onConfirm:function(){var selectedIds=selectedItems.map(function(item){return item.id});dashboardService.delete(selectedIds).then(fetchItems).then(function(){deselectAll()}).catch(function(error){return notify.error(error)})},defaultFocusedButton:_modals.ConfirmationButtonTypes.CANCEL,title:"Delete selected dashboards?"})},this.onPageNext=function(){deselectAll(),_this.pager.nextPage(),calculateItemsOnPage()},this.onPagePrevious=function(){deselectAll(),_this.pager.previousPage(),calculateItemsOnPage()},this.getUrlForItem=function(item){return"#"+(0,_dashboard_constants.createDashboardEditUrl)(item.id)},this.getEditUrlForItem=function(item){return"#"+(0,_dashboard_constants.createDashboardEditUrl)(item.id)+"?_a=(viewMode:edit)"},this.getCreateDashboardHref=function(){return"#"+_dashboard_constants.DashboardConstants.CREATE_NEW_DASHBOARD_URL}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardListingController=DashboardListingController;var _saved_object_registry=__webpack_require__(184);__webpack_require__(308),__webpack_require__(261),__webpack_require__(4279);var _dashboard_constants=__webpack_require__(138),_eui=__webpack_require__(5),_modals=__webpack_require__(651)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function BuildHierarchicalDataProvider(Private,Notifier){var buildSplit=Private(_build_split.AggResponseHierarchicalBuildSplitProvider),tooltipFormatter=Private(_hierarchical_tooltip_formatter.HierarchicalTooltipFormatterProvider),notify=new Notifier({location:"Pie chart response converter"});return function(vis,resp){var buckets=vis.getAggConfig().bySchemaGroup.buckets,metric=vis.getAggConfig().bySchemaGroup.metrics[0];buckets=(0,_array_to_linked_list.arrayToLinkedList)(buckets);var raw=(0,_create_raw_data.createRawData)(vis,resp);if(!buckets){var label=raw.columns[0].label,value=resp.aggregations&&resp.aggregations[metric.id]&&resp.aggregations[metric.id].value||resp.hits.total;return{hits:resp.hits.total,raw:raw,names:[label],tooltipFormatter:tooltipFormatter(raw.columns),slices:{children:[{name:label,size:value}]}}}var firstAgg=buckets[0],aggData=resp.aggregations?resp.aggregations[firstAgg.id]:null;if(firstAgg._next||"split"!==firstAgg.schema.name||notify.error("Splitting charts without splitting slices is not supported. Pretending that we are just splitting slices."),!firstAgg._next||"segment"===firstAgg.schema.name){var split=buildSplit(firstAgg,metric,aggData);return split.hits=resp.hits.total,split.raw=raw,split.tooltipFormatter=tooltipFormatter(raw.columns),split}var rows=_lodash2.default.map((0,_extract_buckets.extractBuckets)(aggData,firstAgg),function(bucket){var agg=firstAgg._next,split=buildSplit(agg,metric,bucket[agg.id]);split.label=firstAgg.fieldFormatter()(agg.getKey(bucket));var displayName=firstAgg.getFieldDisplayName();_lodash2.default.isEmpty(displayName)||(split.label+=": "+displayName),split.tooltipFormatter=tooltipFormatter(raw.columns);var aggConfigResult=new _agg_config_result2.default(firstAgg,null,null,firstAgg.getKey(bucket),bucket.filters);return split.split={aggConfig:firstAgg,aggConfigResult:aggConfigResult,key:bucket.key},_lodash2.default.each(split.slices.children,function(child){child.aggConfigResult.$parent=aggConfigResult}),split}),result={hits:resp.hits.total,raw:raw};return firstAgg.params.row?result.rows=rows:result.columns=rows,result}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildHierarchicalDataProvider=BuildHierarchicalDataProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_extract_buckets=__webpack_require__(746),_create_raw_data=__webpack_require__(4281),_array_to_linked_list=__webpack_require__(4282),_agg_config_result=__webpack_require__(299),_agg_config_result2=_interopRequireDefault(_agg_config_result),_build_split=__webpack_require__(4283),_hierarchical_tooltip_formatter=__webpack_require__(4286)},function(module,exports,__webpack_require__){"use strict";function createRawData(vis,resp){function walkBuckets(agg,data,record){data&&(Array.isArray(record)||(record=[]),_lodash2.default.each((0,_extract_buckets.extractBuckets)(data[agg.id],agg),function(bucket){var _record=_lodash2.default.flattenDeep([record,bucket.key]);if(_lodash2.default.each(metrics,function(metric){var value=bucket.doc_count;bucket[metric.id]&&!_lodash2.default.isUndefined(bucket[metric.id].value)&&(value=bucket[metric.id].value),_record.push(value)}),agg._next){var nextBucket=bucket[agg._next.id];nextBucket&&nextBucket.buckets&&walkBuckets(agg._next,bucket,_record)}else results.rows.push(_record)}))}var results={rows:[]},metrics=vis.getAggConfig().bySchemaGroup.metrics,buckets=vis.getAggConfig().bySchemaGroup.buckets,aggs=[];if(buckets?_lodash2.default.each(buckets,function(bucket){aggs.push(bucket),aggs.push(metrics)}):aggs.push(metrics),results.columns=(0,_lodash2.default)(aggs).flattenDeep().map(function(agg){return{categoryName:agg.schema.name,id:agg.id,aggConfig:agg,aggType:agg.type,field:agg.params.field,label:agg.makeLabel()}}).value(),!buckets){var value=resp.aggregations&&resp.aggregations[metrics[0].id]&&resp.aggregations[metrics[0].id].value||resp.hits.total;return results.rows.push([value]),results}return walkBuckets(buckets[0],resp.aggregations),results}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRawData=createRawData;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_extract_buckets=__webpack_require__(746)},function(module,exports,__webpack_require__){"use strict";function arrayToLinkedList(buckets){var previous=void 0;return _lodash2.default.each(buckets,function(bucket){previous&&(bucket._previous=previous,previous._next=bucket),previous=bucket}),buckets}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayToLinkedList=arrayToLinkedList;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function AggResponseHierarchicalBuildSplitProvider(Private){var transformer=Private(_transform_aggregation.HierarchicalTransformAggregationProvider);return function(agg,metric,aggData){var split={label:"",slices:{children:[]}};return split.slices.children=transformer(agg,metric,aggData),split.names=(0,_collect_keys.collectKeys)(split.slices.children),split}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AggResponseHierarchicalBuildSplitProvider=AggResponseHierarchicalBuildSplitProvider;var _collect_keys=__webpack_require__(4284),_transform_aggregation=__webpack_require__(4285)},function(module,exports,__webpack_require__){"use strict";function collectKeys(children){var nextChildren=_lodash2.default.pluck(children,"children"),keys=_lodash2.default.pluck(children,"name");return(0,_lodash2.default)(nextChildren).map(collectKeys).flattenDeep().union(keys).value()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collectKeys=collectKeys;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HierarchicalTransformAggregationProvider(){return function transformAggregation(agg,metric,aggData,parent){return _lodash2.default.map((0,_extract_buckets.extractBuckets)(aggData,agg),function(bucket){var aggConfigResult=new _agg_config_result2.default(agg,parent&&parent.aggConfigResult,metric.getValue(bucket),agg.getKey(bucket),bucket.filters),branch={name:agg.fieldFormatter()(bucket.key),size:aggConfigResult.value,aggConfig:agg,aggConfigResult:aggConfigResult};if(parent&&(branch.parent=parent),agg._next){var nextBucket=bucket[agg._next.id];nextBucket&&nextBucket.buckets&&(branch.children=transformAggregation(agg._next,metric,nextBucket,branch))}return branch})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HierarchicalTransformAggregationProvider=HierarchicalTransformAggregationProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_extract_buckets=__webpack_require__(746),_agg_config_result=__webpack_require__(299),_agg_config_result2=_interopRequireDefault(_agg_config_result)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HierarchicalTooltipFormatterProvider($rootScope,$compile,$sce){var $tooltip=(0,_jquery2.default)(__webpack_require__(4288)),$tooltipScope=$rootScope.$new();return $compile($tooltip)($tooltipScope),function(columns){return function(event){var datum=event.datum;$tooltipScope.rows=(0,_collect_branch2.default)(datum);var metricCol=$tooltipScope.metricCol=_lodash2.default.find(columns,{categoryName:"metric"});return _lodash2.default.forEachRight($tooltipScope.rows,function(row){row.spacer=$sce.trustAsHtml(_lodash2.default.repeat("&nbsp;",row.depth));var percent=void 0;return null!=row.item.percentOfGroup&&(percent=row.item.percentOfGroup),row.metric=metricCol.aggConfig.fieldFormatter()(row.metric),null!=percent&&(row.metric+=" ("+(0,_numeral2.default)(percent).format("0.[00]%")+")"),row}),$tooltipScope.$apply(),$tooltip[0].outerHTML}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HierarchicalTooltipFormatterProvider=HierarchicalTooltipFormatterProvider;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_collect_branch=__webpack_require__(4287),_collect_branch2=_interopRequireDefault(_collect_branch),_numeral=__webpack_require__(431),_numeral2=_interopRequireDefault(_numeral)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(leaf){function walk(item,memo){var depth=item.depth-1,aggConfig=item.aggConfig,field=aggConfig&&aggConfig.makeLabel()||aggConfig&&aggConfig.label||"level "+item.depth;return memo.unshift({aggConfig:aggConfig,depth:depth,field:field,bucket:item.name,metric:item.size,item:item}),item.parent&&item.parent.parent?walk(item.parent,memo):memo}return walk(leaf,[])},module.exports=exports.default},function(module,exports){module.exports='<table>\n  <thead>\n    <tr class="tooltip-label">\n      <th scope="col">field</th>\n      <th scope="col">value</th>\n      <th scope="col">{{metricCol.label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="tooltip-value" ng-repeat="row in rows track by $index">\n      <td><span ng-bind-html="row.spacer"></span>{{row.field}}</td>\n      <td class="row-bucket">{{row.bucket}}</td>\n      <td>{{row.metric}}</td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SplitAcr(agg,parent,key){SplitAcr.Super.call(this,agg,parent,key,key)}function TabbedAggResponseWriter(aggs,opts){this.opts=opts||{},this.rowBuffer=[];var visIsHier=opts.isHierarchical;this.canSplit=!1!==this.opts.canSplit,this.partialRows=null==this.opts.partialRows?visIsHier:this.opts.partialRows,this.minimalColumns=!visIsHier||!!this.opts.minimalColumns,this.metricsForAllBuckets=visIsHier,this.asAggConfigResults=!!this.opts.asAggConfigResults,this.columns=(0,_get_columns.tabifyGetColumns)(aggs,this.minimalColumns),this.aggStack=_lodash2.default.pluck(this.columns,"aggConfig"),this.root=new _table_group.TabifyTableGroup,this.acrStack=[],this.splitStack=[this.root]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabbedAggResponseWriter=void 0;var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_config_result=__webpack_require__(299),_agg_config_result2=_interopRequireDefault(_agg_config_result),_table=__webpack_require__(1331),_table_group=__webpack_require__(4290),_get_columns=__webpack_require__(4291);(0,__webpack_require__(55).createLegacyClass)(SplitAcr).inherits(_agg_config_result2.default),TabbedAggResponseWriter.prototype._table=function(group,agg,key){var Class=group?_table_group.TabifyTableGroup:_table.TabifyTable,table=new Class,parent=this.splitStack[0];return group&&(table.aggConfig=agg,table.key=key,table.title=table.fieldFormatter()(key),agg.makeLabel()!==agg.name&&(table.title+=": "+agg.makeLabel())),table.$parent=parent,parent.tables.push(table),table},TabbedAggResponseWriter.prototype.split=function(agg,buckets,block){var self=this;if(!self.canSplit)throw new Error("attempted to split when splitting is disabled");self._removeAggFromColumns(agg),buckets.forEach(function(bucket,key){var tableGroup=_lodash2.default.find(self.splitStack[0].tables,{aggConfig:agg,key:key});tableGroup||(tableGroup=self._table(!0,agg,key));var splitAcr=!1;self.asAggConfigResults&&(splitAcr=self._injectParentSplit(agg,key)),self.splitStack.unshift(tableGroup),_lodash2.default.isFunction(block)&&block.call(self,bucket,key),self.splitStack.shift(),splitAcr&&_lodash2.default.pull(self.acrStack,splitAcr)})},TabbedAggResponseWriter.prototype._removeAggFromColumns=function(agg){var i=_lodash2.default.findIndex(this.columns,function(col){return col.aggConfig===agg});if(-1!==i&&(this.columns.splice(i,1),!this.minimalColumns)){var mCol=this.columns.splice(i,1).pop(),mI=_lodash2.default.findIndex(this.aggStack,function(agg){return agg===mCol.aggConfig});mI>-1&&this.aggStack.splice(mI,1)}},TabbedAggResponseWriter.prototype._injectParentSplit=function(agg,key){var oldList=this.acrStack,newList=this.acrStack=[],injected=!1;if(!oldList.length)return injected=new SplitAcr(agg,null,key),newList.unshift(injected),injected;for(;oldList.length;){var acr=oldList.pop();if(acr instanceof SplitAcr)newList.unshift(acr);else{injected||(injected=new SplitAcr(agg,newList[0],key),newList.unshift(injected));var newAcr=new _agg_config_result2.default(acr.aggConfig,newList[0],acr.value,acr.aggConfig.getKey(acr),acr.filters);newList.unshift(newAcr);var rowI=this.rowBuffer.indexOf(acr);rowI>-1&&(this.rowBuffer[rowI]=newAcr)}}return injected},TabbedAggResponseWriter.prototype.cell=function(agg,value,block,filters){this.asAggConfigResults&&(value=new _agg_config_result2.default(agg,this.acrStack[0],value,value,filters));var staskResult=this.asAggConfigResults&&"bucket"===value.type;return this.rowBuffer.push(value),staskResult&&this.acrStack.unshift(value),_lodash2.default.isFunction(block)&&block.call(this),this.rowBuffer.pop(value),staskResult&&this.acrStack.shift(),value},TabbedAggResponseWriter.prototype.row=function(buffer){var cells=buffer||this.rowBuffer.slice(0);if(this.partialRows||!(cells.length<this.columns.length)){for(var split=this.splitStack[0],table=split.tables[0]||this._table(!1);cells.length<this.columns.length;)cells.push("");return table.rows.push(cells),table}},TabbedAggResponseWriter.prototype.response=function(){var columns=this.columns;if(columns.map(function(col){col.title=col.aggConfig.makeLabel()}),function step(table){table.tables?table.tables.forEach(step):table.columns=columns.slice(0)}(this.root),this.canSplit)return this.root;var table=this.root.tables[0];return table?(delete table.$parent,table):void 0},exports.TabbedAggResponseWriter=TabbedAggResponseWriter},function(module,exports,__webpack_require__){"use strict";function TabifyTableGroup(){this.aggConfig=null,this.key=null,this.title=null,this.tables=[]}Object.defineProperty(exports,"__esModule",{value:!0}),TabifyTableGroup.prototype.field=function(){if(this.aggConfig)return this.aggConfig.getField()},TabifyTableGroup.prototype.fieldFormatter=function(){if(this.aggConfig)return this.aggConfig.fieldFormatter()},exports.TabifyTableGroup=TabifyTableGroup},function(module,exports,__webpack_require__){"use strict";function tabifyGetColumns(aggs,minimal,hierarchical){if(null==minimal&&(minimal=!hierarchical),minimal)return aggs.map(function(agg){return{aggConfig:agg}});var columns=[],grouped=_lodash2.default.groupBy(aggs,function(agg){return agg.schema.group});return grouped.buckets?(grouped.buckets.forEach(function(agg){columns.push({aggConfig:agg}),grouped.metrics.forEach(function(metric){columns.push({aggConfig:metric})})}),columns):grouped.metrics.map(function(agg){return{aggConfig:agg}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tabifyGetColumns=tabifyGetColumns;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function TabifyBuckets(aggResp,aggParams){_lodash2.default.has(aggResp,"buckets")?this.buckets=aggResp.buckets:this.buckets=aggResp?[aggResp]:[],this.objectMode=_lodash2.default.isPlainObject(this.buckets),this.objectMode?(this._keys=_lodash2.default.keys(this.buckets),this.length=this._keys.length):this.length=this.buckets.length,this.length&&aggParams&&this._orderBucketsAccordingToParams(aggParams)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabifyBuckets=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);TabifyBuckets.prototype.forEach=function(fn){var buckets=this.buckets;this.objectMode?this._keys.forEach(function(key){fn(buckets[key],key)}):buckets.forEach(function(bucket){fn(bucket,bucket.key)})},TabifyBuckets.prototype._isRangeEqual=function(range1,range2){return _lodash2.default.get(range1,"from",null)===_lodash2.default.get(range2,"from",null)&&_lodash2.default.get(range1,"to",null)===_lodash2.default.get(range2,"to",null)},TabifyBuckets.prototype._orderBucketsAccordingToParams=function(params){var _this=this;if(params.filters&&this.objectMode)this._keys=params.filters.map(function(filter){return filter.label||filter.input.query||"*"});else if(params.ranges&&this.objectMode)this._keys=params.ranges.map(function(range){return _lodash2.default.findKey(_this.buckets,function(el){return _this._isRangeEqual(el,range)})});else if(params.ranges&&"date"!==params.field.type){var ranges=params.ranges;params.ipRangeType&&(ranges="mask"===params.ipRangeType?ranges.mask:ranges.fromTo),this.buckets=ranges.map(function(range){return range.mask?_this.buckets.find(function(el){return el.key===range.mask}):_this.buckets.find(function(el){return _this._isRangeEqual(el,range)})})}},exports.TabifyBuckets=TabifyBuckets},,,,,,,,function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisController=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(17),_input_control_vis=__webpack_require__(4302),_control_factory=__webpack_require__(4323),_lineage=__webpack_require__(1340),VisController=function(){function VisController(el,vis){_classCallCheck(this,VisController),this.el=el,this.vis=vis,this.controls=[],this.queryBarUpdateHandler=this.updateControlsFromKbn.bind(this),this.vis.API.queryFilter.on("update",this.queryBarUpdateHandler)}return _createClass(VisController,[{key:"render",value:function(){function render(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(visData,status){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(status.params||this.vis.params.useTimeFilter&&status.time)){_context.next=7;break}return this.controls=[],_context.next=4,this.initControls();case 4:return this.controls=_context.sent,this.drawVis(),_context.abrupt("return");case 7:return _context.abrupt("return");case 8:case"end":return _context.stop()}},_callee,this)}));return render}()},{key:"destroy",value:function(){this.vis.API.queryFilter.off("update",this.queryBarUpdateHandler),(0,_reactDom.unmountComponentAtNode)(this.el)}},{key:"drawVis",value:function(){(0,_reactDom.render)(_react2.default.createElement(_input_control_vis.InputControlVis,{updateFiltersOnChange:this.vis.params.updateFiltersOnChange,controls:this.controls,stageFilter:this.stageFilter.bind(this),submitFilters:this.submitFilters.bind(this),resetControls:this.updateControlsFromKbn.bind(this),clearControls:this.clearControls.bind(this),hasChanges:this.hasChanges.bind(this),hasValues:this.hasValues.bind(this)}),this.el)}},{key:"initControls",value:function(){function initControls(){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var controlParamsList,controlFactoryPromises,controls,getControl,controlInitPromises,_this=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return controlParamsList=this.vis.params.controls.filter(function(controlParams){return controlParams.indexPattern&&controlParams.fieldName}),controlFactoryPromises=controlParamsList.map(function(controlParams){return(0,_control_factory.controlFactory)(controlParams)(controlParams,_this.vis.API,_this.vis.params.useTimeFilter)}),_context2.next=4,Promise.all(controlFactoryPromises);case 4:return controls=_context2.sent,getControl=function(id){return controls.find(function(control){return id===control.id})},controlInitPromises=[],(0,_lineage.getLineageMap)(controlParamsList).forEach(function(lineage,controlId){lineage.shift();var ancestors=[];lineage.forEach(function(ancestorId){ancestors.push(getControl(ancestorId))});var control=getControl(controlId);control.setAncestors(ancestors),controlInitPromises.push(control.fetch())}),_context2.next=10,Promise.all(controlInitPromises);case 10:return _context2.abrupt("return",controls);case 11:case"end":return _context2.stop()}},_callee2,this)}));return initControls}()},{key:"stageFilter",value:function(){function stageFilter(_x3,_x4){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(controlIndex,newValue){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this.controls[controlIndex].set(newValue),!this.vis.params.updateFiltersOnChange){_context3.next=5;break}this.submitFilters(),_context3.next=8;break;case 5:return _context3.next=7,this.updateNestedControls();case 7:this.drawVis();case 8:case"end":return _context3.stop()}},_callee3,this)}));return stageFilter}()},{key:"submitFilters",value:function(){var _this2=this;this.controls.map(function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(control){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:control.hasAncestors()&&control.hasUnsetAncestor()&&control.filterManager.findFilters().forEach(function(existingFilter){_this2.vis.API.queryFilter.removeFilter(existingFilter)});case 1:case"end":return _context4.stop()}},_callee4,_this2)}));return function(_x5){return _ref4.apply(this,arguments)}}());var stagedControls=this.controls.filter(function(control){return control.hasChanged()}),newFilters=stagedControls.filter(function(control){return control.hasKbnFilter()}).map(function(control){return control.getKbnFilter()});stagedControls.forEach(function(control){control.filterManager.findFilters().forEach(function(existingFilter){_this2.vis.API.queryFilter.removeFilter(existingFilter)})}),this.vis.API.queryFilter.addFilters(newFilters,this.vis.params.pinFilters)}},{key:"clearControls",value:function(){this.controls.forEach(function(control){control.clear()}),this.drawVis()}},{key:"updateControlsFromKbn",value:function(){function updateControlsFromKbn(){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return this.controls.forEach(function(control){control.reset()}),_context5.next=3,this.updateNestedControls();case 3:this.drawVis();case 4:case"end":return _context5.stop()}},_callee5,this)}));return updateControlsFromKbn}()},{key:"updateNestedControls",value:function(){function updateNestedControls(){return _ref6.apply(this,arguments)}var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(){var fetchPromises,_this3=this;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return fetchPromises=this.controls.map(function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(control){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!control.hasAncestors()){_context6.next=3;break}return _context6.next=3,control.fetch();case 3:case"end":return _context6.stop()}},_callee6,_this3)}));return function(_x6){return _ref7.apply(this,arguments)}}()),_context7.next=3,Promise.all(fetchPromises);case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}},_callee7,this)}));return updateNestedControls}()},{key:"hasChanges",value:function(){return this.controls.map(function(control){return control.hasChanged()}).reduce(function(a,b){return a||b})}},{key:"hasValues",value:function(){return this.controls.map(function(control){return control.hasValue()}).reduce(function(a,b){return a||b})}}]),VisController}();exports.VisController=VisController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputControlVis=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_range_control=__webpack_require__(4303),_list_control=__webpack_require__(4322),_eui=__webpack_require__(5);(exports.InputControlVis=function(_Component){function InputControlVis(props){_classCallCheck(this,InputControlVis);var _this=_possibleConstructorReturn(this,(InputControlVis.__proto__||Object.getPrototypeOf(InputControlVis)).call(this,props));return _this.handleSubmit=_this.handleSubmit.bind(_this),_this.handleReset=_this.handleReset.bind(_this),_this.handleClearAll=_this.handleClearAll.bind(_this),_this}return _inherits(InputControlVis,_Component),_createClass(InputControlVis,[{key:"handleSubmit",value:function(){this.props.submitFilters()}},{key:"handleReset",value:function(){this.props.resetControls()}},{key:"handleClearAll",value:function(){this.props.clearControls()}},{key:"renderControls",value:function(){var _this2=this;return this.props.controls.map(function(control,index){var controlComponent=null;switch(control.type){case"list":controlComponent=_react2.default.createElement(_list_control.ListControl,{control:control,controlIndex:index,stageFilter:_this2.props.stageFilter});break;case"range":controlComponent=_react2.default.createElement(_range_control.RangeControl,{control:control,controlIndex:index,stageFilter:_this2.props.stageFilter});break;default:throw new Error("Unhandled control type "+control.type)}return _react2.default.createElement(_eui.EuiFlexItem,{key:control.id,style:{minWidth:"250px"},"data-test-subj":"inputControlItem"},controlComponent)})}},{key:"renderStagingButtons",value:function(){return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiButton,{onClick:this.handleClearAll,disabled:!this.props.hasValues(),"data-test-subj":"inputControlClearBtn"},"Clear form"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiButton,{onClick:this.handleReset,disabled:!this.props.hasChanges(),"data-test-subj":"inputControlCancelBtn"},"Cancel changes"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiFormRow,null,_react2.default.createElement(_eui.EuiButton,{fill:!0,onClick:this.handleSubmit,disabled:!this.props.hasChanges(),"data-test-subj":"inputControlSubmitBtn"},"Apply changes"))))}},{key:"render",value:function(){var stagingButtons=void 0;return this.props.controls.length>0&&!this.props.updateFiltersOnChange&&(stagingButtons=this.renderStagingButtons()),_react2.default.createElement("div",{className:"inputControlVis"},_react2.default.createElement(_eui.EuiFlexGroup,{wrap:!0},this.renderControls()),stagingButtons)}}]),InputControlVis}(_react.Component)).propTypes={stageFilter:_propTypes2.default.func.isRequired,submitFilters:_propTypes2.default.func.isRequired,resetControls:_propTypes2.default.func.isRequired,clearControls:_propTypes2.default.func.isRequired,controls:_propTypes2.default.array.isRequired,updateFiltersOnChange:_propTypes2.default.bool,hasChanges:_propTypes2.default.func.isRequired,hasValues:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RangeControl=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactInputRange=__webpack_require__(4304),_reactInputRange2=_interopRequireDefault(_reactInputRange),_form_row=__webpack_require__(1336),_eui=__webpack_require__(5),toState=function(props){var state={sliderValue:props.control.value,minValue:"",maxValue:"",isRangeValid:!0,errorMessage:""};return props.control.hasValue()&&(state.minValue=props.control.value.min,state.maxValue=props.control.value.max),state};(exports.RangeControl=function(_Component){function RangeControl(props){_classCallCheck(this,RangeControl);var _this=_possibleConstructorReturn(this,(RangeControl.__proto__||Object.getPrototypeOf(RangeControl)).call(this,props));return _this.componentWillReceiveProps=function(nextProps){_this.setState(toState(nextProps))},_this.handleOnChange=function(value){_this.setState({sliderValue:value,minValue:value.min,isRangeValid:!0,maxValue:value.max,errorMessage:""})},_this.handleOnChangeComplete=function(value){_this.props.stageFilter(_this.props.controlIndex,value)},_this.handleMinChange=function(evt){_this.handleChange(parseFloat(evt.target.value),_this.state.maxValue)},_this.handleMaxChange=function(evt){_this.handleChange(_this.state.minValue,parseFloat(evt.target.value))},_this.handleChange=function(min,max){min=isNaN(min)?"":min,max=isNaN(max)?"":max;var isMinValid=""!==min,isMaxValid=""!==max,isRangeValid=!0,errorMessage="";(!isMinValid&&isMaxValid||isMinValid&&!isMaxValid)&&(isRangeValid=!1,errorMessage="both min and max must be set"),isMinValid&&isMaxValid&&max<min&&(isRangeValid=!1,errorMessage="max must be greater or equal to min"),_this.setState({minValue:min,maxValue:max,isRangeValid:isRangeValid,errorMessage:errorMessage}),isRangeValid&&isMaxValid&&isMinValid&&_this.handleOnChangeComplete({min:min,max:max})},_this.formatLabel=function(value){var formatedValue=value,decimalPlaces=_lodash2.default.get(_this.props,"control.options.decimalPlaces");return null!==decimalPlaces&&decimalPlaces>=0&&(formatedValue=value.toFixed(decimalPlaces)),formatedValue},_this.state=toState(props),_this}return _inherits(RangeControl,_Component),_createClass(RangeControl,[{key:"renderControl",value:function(){return _react2.default.createElement(_eui.EuiFormRow,{isInvalid:!this.state.isRangeValid,error:this.state.errorMessage?[this.state.errorMessage]:[],"data-test-subj":"rangeControlFormRow"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement("input",{id:this.props.control.id+"_min",disabled:!this.props.control.isEnabled(),name:"min",type:"number","data-test-subj":"rangeControlMinInputValue",className:"euiFieldNumber",value:this.state.minValue,min:this.props.control.min,max:this.props.control.max,onChange:this.handleMinChange})),_react2.default.createElement(_eui.EuiFlexItem,{className:"inputRangeContainer"},_react2.default.createElement(_reactInputRange2.default,{disabled:!this.props.control.isEnabled(),maxValue:this.props.control.max,minValue:this.props.control.min,step:this.props.control.options.step,value:this.state.sliderValue,onChange:this.handleOnChange,onChangeComplete:this.handleOnChangeComplete,draggableTrack:!0,ariaLabelledby:this.props.control.id,formatLabel:this.formatLabel})),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement("input",{id:this.props.control.id+"_max",disabled:!this.props.control.isEnabled(),name:"max",type:"number",className:"euiFieldNumber","data-test-subj":"rangeControlMaxInputValue",value:this.state.maxValue,min:this.props.control.min,max:this.props.control.max,onChange:this.handleMaxChange}))))}},{key:"render",value:function(){return _react2.default.createElement(_form_row.FormRow,{id:this.props.control.id,label:this.props.control.label,controlIndex:this.props.controlIndex,control:this.props.control},this.renderControl())}}]),RangeControl}(_react.Component)).propTypes={control:_propTypes2.default.object.isRequired,controlIndex:_propTypes2.default.number.isRequired,stageFilter:_propTypes2.default.func.isRequired}},,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListControl=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_form_row=__webpack_require__(1336),_eui=__webpack_require__(5);(exports.ListControl=function(_Component){function ListControl(props){_classCallCheck(this,ListControl);var _this=_possibleConstructorReturn(this,(ListControl.__proto__||Object.getPrototypeOf(ListControl)).call(this,props));return _this.handleOnChange=_this.handleOnChange.bind(_this),_this.truncate=_this.truncate.bind(_this),_this}return _inherits(ListControl,_Component),_createClass(ListControl,[{key:"handleOnChange",value:function(evt){var newValue="";evt&&(newValue=evt),this.props.stageFilter(this.props.controlIndex,newValue)}},{key:"truncate",value:function(selected){return selected.label.length<=24?selected.label:selected.label.substring(0,23)+"..."}},{key:"renderControl",value:function(){return this.props.control.isEnabled()?_react2.default.createElement(_reactSelect2.default,{className:"list-control-react-select",placeholder:"Select...",multi:this.props.control.options.multiselect,simpleValue:!0,delimiter:this.props.control.getMultiSelectDelimiter(),value:this.props.control.value,options:this.props.control.selectOptions,onChange:this.handleOnChange,valueRenderer:this.truncate,inputProps:{id:this.props.control.id}}):_react2.default.createElement(_eui.EuiFieldText,{disabled:!0})}},{key:"render",value:function(){return _react2.default.createElement(_form_row.FormRow,{id:this.props.control.id,label:this.props.control.label,controlIndex:this.props.controlIndex,control:this.props.control},this.renderControl())}}]),ListControl}(_react.Component)).propTypes={control:_propTypes2.default.object.isRequired,controlIndex:_propTypes2.default.number.isRequired,stageFilter:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function controlFactory(controlParams){var factory=null;switch(controlParams.type){case"range":factory=_range_control_factory.rangeControlFactory;break;case"list":factory=_list_control_factory.listControlFactory;break;default:throw new Error("Unhandled control type "+controlParams.type)}return factory}Object.defineProperty(exports,"__esModule",{value:!0}),exports.controlFactory=controlFactory;var _range_control_factory=__webpack_require__(4324),_list_control_factory=__webpack_require__(4326)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rangeControlFactory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=(exports.rangeControlFactory=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(controlParams,kbnApi,useTimeFilter){var indexPattern,unsetValue;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return indexPattern=void 0,_context2.prev=1,_context2.next=4,kbnApi.indexPatterns.get(controlParams.indexPattern);case 4:indexPattern=_context2.sent,_context2.next=9;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(1);case 9:return unsetValue={min:0,max:1},_context2.abrupt("return",new RangeControl(controlParams,new _range_filter_manager.RangeFilterManager(controlParams.id,controlParams.fieldName,indexPattern,kbnApi.queryFilter,unsetValue),kbnApi,useTimeFilter));case 11:case"end":return _context2.stop()}},_callee2,this,[[1,7]])}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}(),__webpack_require__(1)),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_control=__webpack_require__(1337),_range_filter_manager=__webpack_require__(4325),_create_search_source=__webpack_require__(1339),minMaxAgg=function(field){var aggBody={};return field.scripted?aggBody.script={inline:field.script,lang:field.lang}:aggBody.field=field.name,{maxAgg:{max:aggBody},minAgg:{min:aggBody}}},RangeControl=function(_Control){function RangeControl(){return _classCallCheck(this,RangeControl),_possibleConstructorReturn(this,(RangeControl.__proto__||Object.getPrototypeOf(RangeControl)).apply(this,arguments))}return _inherits(RangeControl,_Control),_createClass(RangeControl,[{key:"fetch",value:function(){function fetch(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPattern,fieldName,aggs,searchSource,resp,minMaxReturnedFromAggregation,min,max;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(indexPattern=this.filterManager.getIndexPattern()){_context.next=4;break}return this.disable((0,_control.noIndexPatternMsg)(this.controlParams.indexPattern)),_context.abrupt("return");case 4:return fieldName=this.filterManager.fieldName,aggs=minMaxAgg(indexPattern.fields.byName[fieldName]),searchSource=(0,_create_search_source.createSearchSource)(this.kbnApi,null,indexPattern,aggs,this.useTimeFilter),_context.next=9,searchSource.fetch();case 9:return resp=_context.sent,minMaxReturnedFromAggregation=!0,min=_lodash2.default.get(resp,"aggregations.minAgg.value"),max=_lodash2.default.get(resp,"aggregations.maxAgg.value"),null!==min&&null!==max||(min=0,max=1,minMaxReturnedFromAggregation=!1),minMaxReturnedFromAggregation?(this.unsetValue={min:min,max:min},this.min=min,this.max=max,this.enable=!0):this.disable((0,_control.noValuesDisableMsg)(fieldName,indexPattern.title)),_context.abrupt("return","done");case 16:case"end":return _context.stop()}},_callee,this)}));return fetch}()}]),RangeControl}(_control.Control)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function toRange(sliderValue){return{gte:sliderValue.min,lte:sliderValue.max}}function fromRange(range){var sliderValue={};return _lodash2.default.has(range,"gte")&&(sliderValue.min=_lodash2.default.get(range,"gte")),_lodash2.default.has(range,"gt")&&(sliderValue.min=_lodash2.default.get(range,"gt")),_lodash2.default.has(range,"lte")&&(sliderValue.max=_lodash2.default.get(range,"lte")),_lodash2.default.has(range,"lt")&&(sliderValue.max=_lodash2.default.get(range,"lt")),sliderValue}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RangeFilterManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_filter_manager=__webpack_require__(1338),_range=__webpack_require__(185);exports.RangeFilterManager=function(_FilterManager){function RangeFilterManager(){return _classCallCheck(this,RangeFilterManager),_possibleConstructorReturn(this,(RangeFilterManager.__proto__||Object.getPrototypeOf(RangeFilterManager)).apply(this,arguments))}return _inherits(RangeFilterManager,_FilterManager),_createClass(RangeFilterManager,[{key:"createFilter",value:function(value){var newFilter=(0,_range.buildRangeFilter)(this.indexPattern.fields.byName[this.fieldName],toRange(value),this.indexPattern);return newFilter.meta.controlledBy=this.controlId,newFilter}},{key:"getValueFromFilterBar",value:function(){var kbnFilters=this.findFilters();if(0===kbnFilters.length)return this.getUnsetValue();var range=null;return range=_lodash2.default.has(kbnFilters[0],"script")?_lodash2.default.get(kbnFilters[0],"script.script.params"):_lodash2.default.get(kbnFilters[0],["range",this.fieldName]),fromRange(range)}}]),RangeFilterManager}(_filter_manager.FilterManager)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.listControlFactory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=(exports.listControlFactory=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(controlParams,kbnApi,useTimeFilter){var indexPattern;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return indexPattern=void 0,_context2.prev=1,_context2.next=4,kbnApi.indexPatterns.get(controlParams.indexPattern);case 4:indexPattern=_context2.sent,_context2.next=9;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(1);case 9:return _context2.abrupt("return",new ListControl(controlParams,new _phrase_filter_manager.PhraseFilterManager(controlParams.id,controlParams.fieldName,indexPattern,kbnApi.queryFilter,listControlDelimiter),kbnApi,useTimeFilter));case 10:case"end":return _context2.stop()}},_callee2,this,[[1,7]])}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}(),__webpack_require__(1)),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_control=__webpack_require__(1337),_phrase_filter_manager=__webpack_require__(4327),_create_search_source=__webpack_require__(1339),termsAgg=function(field,size,direction){size<1&&(size=1);var terms={size:size,order:{_count:direction}};return field.scripted?(terms.script={inline:field.script,lang:field.lang},terms.valueType="number"===field.type?"float":field.type):terms.field=field.name,{termsAgg:{terms:terms}}},listControlDelimiter="$$kbn_delimiter$$",ListControl=function(_Control){function ListControl(){return _classCallCheck(this,ListControl),_possibleConstructorReturn(this,(ListControl.__proto__||Object.getPrototypeOf(ListControl)).apply(this,arguments))}return _inherits(ListControl,_Control),_createClass(ListControl,[{key:"getMultiSelectDelimiter",value:function(){return this.filterManager.delimiter}},{key:"fetch",value:function(){function fetch(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var indexPattern,ancestorFilters,ancestorValues,fieldName,initialSearchSourceState,aggs,searchSource,resp,selectOptions,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(indexPattern=this.filterManager.getIndexPattern()){_context.next=4;break}return this.disable((0,_control.noIndexPatternMsg)(this.controlParams.indexPattern)),_context.abrupt("return");case 4:if(ancestorFilters=void 0,!this.hasAncestors()){_context.next=14;break}if(!this.hasUnsetAncestor()){_context.next=9;break}return this.disable("Disabled until '"+this.ancestors[0].label+"' is set."),_context.abrupt("return");case 9:if(ancestorValues=this.getAncestorValues(),!_lodash2.default.isEqual(ancestorValues,this.lastAncestorValues)){_context.next=12;break}return _context.abrupt("return");case 12:this.lastAncestorValues=ancestorValues,ancestorFilters=this.getAncestorFilters();case 14:return fieldName=this.filterManager.fieldName,initialSearchSourceState={timeout:"1s",terminate_after:1e5},aggs=termsAgg(indexPattern.fields.byName[fieldName],_lodash2.default.get(this.options,"size",5),"desc"),searchSource=(0,_create_search_source.createSearchSource)(this.kbnApi,initialSearchSourceState,indexPattern,aggs,this.useTimeFilter,ancestorFilters),_context.next=20,searchSource.fetch();case 20:if(resp=_context.sent,selectOptions=_lodash2.default.get(resp,"aggregations.termsAgg.buckets",[]).map(function(bucket){return{label:_this2.format(bucket.key),value:bucket.key.toString()}}).sort(function(a,b){return a.label.toLowerCase().localeCompare(b.label.toLowerCase())}),0!==selectOptions.length){_context.next=25;break}return this.disable((0,_control.noValuesDisableMsg)(fieldName,indexPattern.title)),_context.abrupt("return");case 25:this.selectOptions=selectOptions,this.enable=!0,this.disabledReason="";case 28:case"end":return _context.stop()}},_callee,this)}));return fetch}()}]),ListControl}(_control.Control)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PhraseFilterManager=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_filter_manager=__webpack_require__(1338),_phrase=__webpack_require__(253),_phrases=__webpack_require__(649),EMPTY_VALUE="";exports.PhraseFilterManager=function(_FilterManager){function PhraseFilterManager(controlId,fieldName,indexPattern,queryFilter,delimiter){_classCallCheck(this,PhraseFilterManager);var _this=_possibleConstructorReturn(this,(PhraseFilterManager.__proto__||Object.getPrototypeOf(PhraseFilterManager)).call(this,controlId,fieldName,indexPattern,queryFilter,EMPTY_VALUE));return _this.delimiter=delimiter,_this}return _inherits(PhraseFilterManager,_FilterManager),_createClass(PhraseFilterManager,[{key:"createFilter",value:function(value){var phrases=value.split(this.delimiter),newFilter=void 0;return newFilter=1===phrases.length?(0,_phrase.buildPhraseFilter)(this.indexPattern.fields.byName[this.fieldName],phrases[0],this.indexPattern):(0,_phrases.buildPhrasesFilter)(this.indexPattern.fields.byName[this.fieldName],phrases,this.indexPattern),newFilter.meta.controlledBy=this.controlId,newFilter}},{key:"getValueFromFilterBar",value:function(){var _this2=this,kbnFilters=this.findFilters();return 0===kbnFilters.length?this.getUnsetValue():kbnFilters.map(function(kbnFilter){return _this2._getValueFromFilter(kbnFilter)}).join(this.delimiter)}},{key:"_getValueFromFilter",value:function(kbnFilter){var _this3=this;return _lodash2.default.has(kbnFilter,"query.bool.should")?_lodash2.default.get(kbnFilter,"query.bool.should").map(function(kbnFilter){return _this3._getValueFromFilter(kbnFilter)}).filter(function(value){return!!value}).join(this.delimiter):_lodash2.default.has(kbnFilter,"script")?_lodash2.default.get(kbnFilter,"script.script.params.value",this.getUnsetValue()):_lodash2.default.has(kbnFilter,["query","match",this.fieldName])?_lodash2.default.get(kbnFilter,["query","match",this.fieldName,"query"],this.getUnsetValue()):_lodash2.default.has(kbnFilter,["match_phrase",this.fieldName])?_lodash2.default.get(kbnFilter,["match_phrase",this.fieldName],this.getUnsetValue()):this.getUnsetValue()}}]),PhraseFilterManager}(_filter_manager.FilterManager)},function(module,exports,__webpack_require__){"use strict";function getLineageMap(controlParamsList){function getControlParamsById(controlId){return controlParamsList.find(function(controlParams){return controlParams.id===controlId})}var lineageMap=new Map;return controlParamsList.forEach(function(rootControlParams){var lineage=[rootControlParams.id];!function getLineage(controlParams){if(_lodash2.default.has(controlParams,"parent")&&""!==controlParams.parent&&!lineage.includes(controlParams.parent)){lineage.push(controlParams.parent);getLineage(getControlParamsById(controlParams.parent))}}(rootControlParams),lineageMap.set(rootControlParams.id,lineage)}),lineageMap}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLineageMap=getLineageMap;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},function(module,exports,__webpack_require__){"use strict";function getParentCandidates(controlParamsList,controlId,lineageMap){return controlParamsList.filter(function(controlParams){return!(!controlParams.indexPattern||!controlParams.fieldName)&&!lineageMap.get(controlParams.id).includes(controlId)}).map(function(controlParams,controlIndex){return{value:controlParams.id,text:(0,_editor_utils.getTitle)(controlParams,controlIndex)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getParentCandidates=getParentCandidates;var _editor_utils=__webpack_require__(749)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControlsTab=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(4331);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_control_editor=__webpack_require__(4332),_editor_utils=__webpack_require__(749),_lineage=__webpack_require__(1340),_eui=__webpack_require__(5);(exports.ControlsTab=function(_Component){function ControlsTab(){var _ref,_temp,_this,_ret,_this2=this;_classCallCheck(this,ControlsTab);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ControlsTab.__proto__||Object.getPrototypeOf(ControlsTab)).call.apply(_ref,[this].concat(args))),_this.state={type:"list"},_this.getIndexPatterns=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(search){var resp;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.props.scope.vis.API.savedObjectsClient.find({type:"index-pattern",fields:["title"],search:search+"*",search_fields:["title"],perPage:100});case 2:return resp=_context.sent,_context.abrupt("return",resp.savedObjects);case 4:case"end":return _context.stop()}},_callee,_this2)}));return function(_x){return _ref2.apply(this,arguments)}}(),_this.getIndexPattern=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPatternId){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this.props.scope.vis.API.indexPatterns.get(indexPatternId);case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,_this2)}));return function(_x2){return _ref3.apply(this,arguments)}}(),_this.handleLabelChange=function(controlIndex,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.label=evt.target.value,_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_this.handleIndexPatternChange=function(controlIndex,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.indexPattern=evt.value,updatedControl.fieldName="",_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_this.handleFieldNameChange=function(controlIndex,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.fieldName=evt.value,_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_this.handleCheckboxOptionChange=function(controlIndex,optionName,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.options[optionName]=evt.target.checked,_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_this.handleNumberOptionChange=function(controlIndex,optionName,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.options[optionName]=parseFloat(evt.target.value),_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_this.handleRemoveControl=function(controlIndex){_this.setVisParam("controls",(0,_editor_utils.removeControl)(_this.props.scope.vis.params.controls,controlIndex))},_this.moveControl=function(controlIndex,direction){_this.setVisParam("controls",(0,_editor_utils.moveControl)(_this.props.scope.vis.params.controls,controlIndex,direction))},_this.handleAddControl=function(){_this.setVisParam("controls",(0,_editor_utils.addControl)(_this.props.scope.vis.params.controls,(0,_editor_utils.newControl)(_this.state.type)))},_this.handleParentChange=function(controlIndex,evt){var updatedControl=_this.props.scope.vis.params.controls[controlIndex];updatedControl.parent=evt.target.value,_this.setVisParam("controls",(0,_editor_utils.setControl)(_this.props.scope.vis.params.controls,controlIndex,updatedControl))},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ControlsTab,_Component),_createClass(ControlsTab,[{key:"setVisParam",value:function(paramName,paramValue){var params=_lodash2.default.cloneDeep(this.props.scope.vis.params);params[paramName]=paramValue,this.props.stageEditorParams(params)}},{key:"renderControls",value:function(){var _this3=this,lineageMap=(0,_lineage.getLineageMap)(this.props.scope.vis.params.controls);return this.props.scope.vis.params.controls.map(function(controlParams,controlIndex){var parentCandidates=(0,_lineage.getParentCandidates)(_this3.props.scope.vis.params.controls,controlParams.id,lineageMap);return _react2.default.createElement(_control_editor.ControlEditor,{key:controlParams.id,controlIndex:controlIndex,controlParams:controlParams,handleLabelChange:_this3.handleLabelChange,moveControl:_this3.moveControl,handleRemoveControl:_this3.handleRemoveControl,handleIndexPatternChange:_this3.handleIndexPatternChange,handleFieldNameChange:_this3.handleFieldNameChange,getIndexPatterns:_this3.getIndexPatterns,getIndexPattern:_this3.getIndexPattern,handleCheckboxOptionChange:_this3.handleCheckboxOptionChange,handleNumberOptionChange:_this3.handleNumberOptionChange,parentCandidates:parentCandidates,handleParentChange:_this3.handleParentChange})})}},{key:"render",value:function(){var _this4=this;return _react2.default.createElement("div",null,this.renderControls(),_react2.default.createElement(_eui.EuiPanel,{grow:!1},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFormRow,{id:"selectControlType"},_react2.default.createElement(_eui.EuiSelect,{options:[{value:"range",text:"Range slider"},{value:"list",text:"Options list"}],value:this.state.type,onChange:function(evt){return _this4.setState({type:evt.target.value})},"aria-label":"Select control type"}))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiFormRow,{id:"addControl"},_react2.default.createElement(_eui.EuiButton,{fill:!0,onClick:this.handleAddControl,iconType:"plusInCircle","data-test-subj":"inputControlEditorAddBtn","aria-label":"Add control"},"Add"))))))}}]),ControlsTab}(_react.Component)).propTypes={scope:_propTypes2.default.object.isRequired,stageEditorParams:_propTypes2.default.func.isRequired}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ControlEditor=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(4333);var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_range_control_editor=__webpack_require__(4334),_list_control_editor=__webpack_require__(4335),_editor_utils=__webpack_require__(749),_eui=__webpack_require__(5);(exports.ControlEditor=function(_Component){function ControlEditor(){var _ref,_temp,_this,_ret;_classCallCheck(this,ControlEditor);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ControlEditor.__proto__||Object.getPrototypeOf(ControlEditor)).call.apply(_ref,[this].concat(args))),_this.changeLabel=function(evt){_this.props.handleLabelChange(_this.props.controlIndex,evt)},_this.removeControl=function(){_this.props.handleRemoveControl(_this.props.controlIndex)},_this.moveUpControl=function(){_this.props.moveControl(_this.props.controlIndex,-1)},_this.moveDownControl=function(){_this.props.moveControl(_this.props.controlIndex,1)},_this.changeIndexPattern=function(evt){_this.props.handleIndexPatternChange(_this.props.controlIndex,evt)},_this.changeFieldName=function(evt){_this.props.handleFieldNameChange(_this.props.controlIndex,evt)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ControlEditor,_Component),_createClass(ControlEditor,[{key:"renderEditor",value:function(){var controlEditor=null;switch(this.props.controlParams.type){case"list":controlEditor=_react2.default.createElement(_list_control_editor.ListControlEditor,{controlIndex:this.props.controlIndex,controlParams:this.props.controlParams,handleIndexPatternChange:this.changeIndexPattern,handleFieldNameChange:this.changeFieldName,getIndexPatterns:this.props.getIndexPatterns,getIndexPattern:this.props.getIndexPattern,handleNumberOptionChange:this.props.handleNumberOptionChange,handleCheckboxOptionChange:this.props.handleCheckboxOptionChange,parentCandidates:this.props.parentCandidates,handleParentChange:this.props.handleParentChange});break;case"range":controlEditor=_react2.default.createElement(_range_control_editor.RangeControlEditor,{controlIndex:this.props.controlIndex,controlParams:this.props.controlParams,handleIndexPatternChange:this.changeIndexPattern,handleFieldNameChange:this.changeFieldName,getIndexPatterns:this.props.getIndexPatterns,getIndexPattern:this.props.getIndexPattern,handleNumberOptionChange:this.props.handleNumberOptionChange});break;default:throw new Error("Unhandled control editor type "+this.props.controlParams.type)}var labelId="controlLabel"+this.props.controlIndex;return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{id:labelId,label:"Control Label"},_react2.default.createElement(_eui.EuiFieldText,{value:this.props.controlParams.label,onChange:this.changeLabel})),controlEditor)}},{key:"renderEditorButtons",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":"Move control up",color:"primary",onClick:this.moveUpControl,iconType:"sortUp","data-test-subj":"inputControlEditorMoveUpControl"+this.props.controlIndex}),_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":"Move control down",color:"primary",onClick:this.moveDownControl,iconType:"sortDown","data-test-subj":"inputControlEditorMoveDownControl"+this.props.controlIndex}),_react2.default.createElement(_eui.EuiButtonIcon,{"aria-label":"Remove control",color:"danger",onClick:this.removeControl,iconType:"cross","data-test-subj":"inputControlEditorRemoveControl"+this.props.controlIndex}))}},{key:"render",value:function(){return _react2.default.createElement(_eui.EuiPanel,{grow:!1,className:"controlEditorPanel"},_react2.default.createElement(_eui.EuiAccordion,{id:"controlEditorAccordion",buttonContent:(0,_editor_utils.getTitle)(this.props.controlParams,this.props.controlIndex),extraAction:this.renderEditorButtons(),initialIsOpen:!0},_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderEditor()))}}]),ControlEditor}(_react.Component)).propTypes={controlIndex:_propTypes2.default.number.isRequired,controlParams:_propTypes2.default.object.isRequired,handleLabelChange:_propTypes2.default.func.isRequired,moveControl:_propTypes2.default.func.isRequired,handleRemoveControl:_propTypes2.default.func.isRequired,handleIndexPatternChange:_propTypes2.default.func.isRequired,handleFieldNameChange:_propTypes2.default.func.isRequired,getIndexPatterns:_propTypes2.default.func.isRequired,getIndexPattern:_propTypes2.default.func.isRequired,handleCheckboxOptionChange:_propTypes2.default.func.isRequired,handleNumberOptionChange:_propTypes2.default.func.isRequired,parentCandidates:_propTypes2.default.arrayOf(_propTypes2.default.shape({value:_propTypes2.default.string.isRequired,text:_propTypes2.default.string.isRequired})).isRequired,handleParentChange:_propTypes2.default.func.isRequired}},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function filterField(field){return"number"===field.type}function RangeControlEditor(props){var stepSizeId="stepSize-"+props.controlIndex,decimalPlacesId="decimalPlaces-"+props.controlIndex,handleDecimalPlacesChange=function(evt){props.handleNumberOptionChange(props.controlIndex,"decimalPlaces",evt)},handleStepChange=function(evt){props.handleNumberOptionChange(props.controlIndex,"step",evt)};return _react2.default.createElement("div",null,_react2.default.createElement(_index_pattern_select.IndexPatternSelect,{value:props.controlParams.indexPattern,onChange:props.handleIndexPatternChange,getIndexPatterns:props.getIndexPatterns,controlIndex:props.controlIndex}),_react2.default.createElement(_field_select.FieldSelect,{value:props.controlParams.fieldName,indexPatternId:props.controlParams.indexPattern,filterField:filterField,onChange:props.handleFieldNameChange,getIndexPattern:props.getIndexPattern,controlIndex:props.controlIndex}),_react2.default.createElement(_eui.EuiFormRow,{id:stepSizeId,label:"Step Size"},_react2.default.createElement(_eui.EuiFieldNumber,{value:props.controlParams.options.step,onChange:handleStepChange,"data-test-subj":"rangeControlSizeInput"+props.controlIndex})),_react2.default.createElement(_eui.EuiFormRow,{id:decimalPlacesId,label:"Decimal Places"},_react2.default.createElement(_eui.EuiFieldNumber,{min:0,value:props.controlParams.options.decimalPlaces,onChange:handleDecimalPlacesChange,"data-test-subj":"rangeControlDecimalPlacesInput"+props.controlIndex})))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RangeControlEditor=RangeControlEditor;var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_index_pattern_select=__webpack_require__(1341),_field_select=__webpack_require__(1342),_eui=__webpack_require__(5);RangeControlEditor.propTypes={getIndexPatterns:_propTypes2.default.func.isRequired,getIndexPattern:_propTypes2.default.func.isRequired,controlIndex:_propTypes2.default.number.isRequired,controlParams:_propTypes2.default.object.isRequired,handleFieldNameChange:_propTypes2.default.func.isRequired,handleIndexPatternChange:_propTypes2.default.func.isRequired,handleNumberOptionChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function filterField(field){return field.aggregatable&&["number","boolean","date","ip","string"].includes(field.type)}function ListControlEditor(props){var multiselectId="multiselect-"+props.controlIndex,sizeId="size-"+props.controlIndex,handleMultiselectChange=function(evt){props.handleCheckboxOptionChange(props.controlIndex,"multiselect",evt)},handleSizeChange=function(evt){props.handleNumberOptionChange(props.controlIndex,"size",evt)},handleParentChange=function(evt){props.handleParentChange(props.controlIndex,evt)},parentSelect=void 0;if(props.parentCandidates&&props.parentCandidates.length>0){var options=[{value:"",text:""}].concat(_toConsumableArray(props.parentCandidates));parentSelect=_react2.default.createElement(_eui.EuiFormRow,{id:"parentSelect-"+props.controlIndex,label:"Parent control",helpText:"Options are based on the value of parent control. Disabled if parent is not set."},_react2.default.createElement(_eui.EuiSelect,{options:options,value:props.controlParams.parent,onChange:handleParentChange}))}return _react2.default.createElement("div",null,_react2.default.createElement(_index_pattern_select.IndexPatternSelect,{value:props.controlParams.indexPattern,onChange:props.handleIndexPatternChange,getIndexPatterns:props.getIndexPatterns,controlIndex:props.controlIndex}),_react2.default.createElement(_field_select.FieldSelect,{value:props.controlParams.fieldName,indexPatternId:props.controlParams.indexPattern,filterField:filterField,onChange:props.handleFieldNameChange,getIndexPattern:props.getIndexPattern,controlIndex:props.controlIndex}),parentSelect,_react2.default.createElement(_eui.EuiFormRow,{id:multiselectId},_react2.default.createElement(_eui.EuiSwitch,{label:"Multiselect",checked:props.controlParams.options.multiselect,onChange:handleMultiselectChange,"data-test-subj":"listControlMultiselectInput"})),_react2.default.createElement(_eui.EuiFormRow,{id:sizeId,label:"Size"},_react2.default.createElement(_eui.EuiFieldNumber,{min:1,value:props.controlParams.options.size,onChange:handleSizeChange,"data-test-subj":"listControlSizeInput"})))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListControlEditor=ListControlEditor;var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_index_pattern_select=__webpack_require__(1341),_field_select=__webpack_require__(1342),_eui=__webpack_require__(5);ListControlEditor.propTypes={getIndexPatterns:_propTypes2.default.func.isRequired,getIndexPattern:_propTypes2.default.func.isRequired,controlIndex:_propTypes2.default.number.isRequired,controlParams:_propTypes2.default.object.isRequired,handleFieldNameChange:_propTypes2.default.func.isRequired,handleIndexPatternChange:_propTypes2.default.func.isRequired,handleCheckboxOptionChange:_propTypes2.default.func.isRequired,handleNumberOptionChange:_propTypes2.default.func.isRequired,parentCandidates:_propTypes2.default.arrayOf(_propTypes2.default.shape({value:_propTypes2.default.string.isRequired,text:_propTypes2.default.string.isRequired})).isRequired,handleParentChange:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OptionsTab=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eui=__webpack_require__(5);(exports.OptionsTab=function(_Component){function OptionsTab(){var _ref,_temp,_this,_ret;_classCallCheck(this,OptionsTab);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=OptionsTab.__proto__||Object.getPrototypeOf(OptionsTab)).call.apply(_ref,[this].concat(args))),_this.setVisParam=function(paramName,paramValue){var params=_lodash2.default.cloneDeep(_this.props.scope.vis.params);params[paramName]=paramValue,_this.props.stageEditorParams(params)},_this.handleUpdateFiltersChange=function(evt){_this.setVisParam("updateFiltersOnChange",evt.target.checked)},_this.handleUseTimeFilter=function(evt){_this.setVisParam("useTimeFilter",evt.target.checked)},_this.handlePinFilters=function(evt){_this.setVisParam("pinFilters",evt.target.checked)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(OptionsTab,_Component),_createClass(OptionsTab,[{key:"render",value:function(){return _react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{id:"updateFiltersOnChange"},_react2.default.createElement(_eui.EuiSwitch,{label:"Update Kibana filters on each change",checked:this.props.scope.vis.params.updateFiltersOnChange,onChange:this.handleUpdateFiltersChange,"data-test-subj":"inputControlEditorUpdateFiltersOnChangeCheckbox"})),_react2.default.createElement(_eui.EuiFormRow,{id:"useTimeFilter"},_react2.default.createElement(_eui.EuiSwitch,{label:"Use time filter",checked:this.props.scope.vis.params.useTimeFilter,onChange:this.handleUseTimeFilter,"data-test-subj":"inputControlEditorUseTimeFilterCheckbox"})),_react2.default.createElement(_eui.EuiFormRow,{id:"pinFilters"},_react2.default.createElement(_eui.EuiSwitch,{label:"Pin filters to global state",checked:this.props.scope.vis.params.pinFilters,onChange:this.handlePinFilters,"data-test-subj":"inputControlEditorPinFiltersCheckbox"})))}}]),OptionsTab}(_react.Component)).propTypes={scope:_propTypes2.default.object.isRequired,stageEditorParams:_propTypes2.default.func.isRequired}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"428687c29242d0d2f3d7ac7e09942921.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_doc_views=__webpack_require__(751),_table=__webpack_require__(4339),_table2=_interopRequireDefault(_table);_doc_views.DocViewsRegistryProvider.register(function(){return{title:"Table",order:10,directive:{template:_table2.default,scope:{hit:"=",indexPattern:"=",filter:"=",columns:"=",onAddColumn:"=",onRemoveColumn:"="},controller:function($scope){$scope.mapping=$scope.indexPattern.fields.byName,$scope.flattened=$scope.indexPattern.flattenHit($scope.hit),$scope.formatted=$scope.indexPattern.formatHit($scope.hit),$scope.fields=_lodash2.default.keys($scope.flattened).sort(),$scope.canToggleColumns=function(){return _lodash2.default.isFunction($scope.onAddColumn)&&_lodash2.default.isFunction($scope.onRemoveColumn)},$scope.toggleColumn=function(columnName){$scope.columns.includes(columnName)?$scope.onRemoveColumn(columnName):$scope.onAddColumn(columnName)},$scope.isColumnActive=function(columnName){return $scope.columns.includes(columnName)},$scope.showArrayInObjectsWarning=function(row,field){var value=$scope.flattened[field];return Array.isArray(value)&&"object"===_typeof(value[0])}}}}})},function(module,exports){module.exports='<table class="table table-condensed">\n  <tbody>\n    <tr ng-repeat="field in fields" data-test-subj="tableDocViewRow-{{ field }}">\n      <td field-name="field"\n          field-type="mapping[field].type"\n          width="1%"\n          class="doc-viewer-field">\n      </td>\n      <td width="1%" class="doc-viewer-buttons" ng-if="filter">\n        <span ng-if="mapping[field].filterable">\n          <button\n            class="doc-viewer-button"\n            aria-label="Filter for value"\n            ng-click="filter(mapping[field], flattened[field], \'+\')"\n            data-test-subj="addInclusiveFilterButton"\n            tooltip="Filter for value"\n            tooltip-append-to-body="1"\n          >\n            <i\n              class="fa fa-search-plus"></i>\n          </button>\n\n          <button\n            class="doc-viewer-button"\n            aria-label="Filter out value"\n            ng-click="filter(mapping[field], flattened[field],\'-\')"\n            tooltip="Filter out value"\n            tooltip-append-to-body="1"\n          >\n            <i\n              class="fa fa-search-minus"></i>\n          </button>\n        </span>\n        <span ng-if="!mapping[field].filterable" tooltip="Unindexed fields can not be searched">\n          <i class="fa fa-search-plus text-muted"></i>\n          <i class="fa fa-search-minus text-muted"></i>\n        </span>\n        <span ng-if="canToggleColumns()">\n          <button\n            class="doc-viewer-button"\n            aria-label="Toggle column in table"\n            aria-pressed="{{isColumnActive(field)}}"\n            ng-click="toggleColumn(field)"\n            tooltip-append-to-body="1"\n            tooltip="Toggle column in table"\n          >\n            <i\n              class="fa fa-columns"\n            ></i>\n          </button>\n        </span>\n        <span ng-if="!indexPattern.metaFields.includes(field) && !mapping[field].scripted">\n          <button\n            class="doc-viewer-button"\n            aria-label="Filter for field present"\n            ng-click="filter(\'_exists_\', field, \'+\')"\n            tooltip="Filter for field present"\n            tooltip-append-to-body="1"\n          >\n            <i\n              class="fa fa-asterisk"></i>\n          </button>\n        </span>\n        <span ng-if="indexPattern.metaFields.includes(field)" tooltip="Unable to filter for presence of meta fields">\n          <i class="fa fa-asterisk text-muted"></i>\n        </span>\n        <span ng-if="mapping[field].scripted" tooltip="Unable to filter for presence of scripted fields">\n          <i class="fa fa-asterisk text-muted"></i>\n        </span>\n      </td>\n\n      <td>\n        <i ng-if="!mapping[field] && field[0] === \'_\'"\n          tooltip-placement="top"\n          tooltip="Field names beginning with _ are not supported"\n          class="fa fa-warning text-color-warning doc-viewer-underscore"></i>\n        <i ng-if="!mapping[field] && field[0] !== \'_\' && !showArrayInObjectsWarning(doc, field)"\n          tooltip-placement="top"\n          tooltip="No cached mapping for this field. Refresh field list from the Management > Index Patterns page"\n          class="fa fa-warning text-color-warning doc-viewer-no-mapping"></i>\n        <i ng-if="showArrayInObjectsWarning(doc, field)"\n          tooltip-placement="top"\n          tooltip="Objects in arrays are not well supported."\n          class="fa fa-warning text-color-warning doc-viewer-object-array"></i>\n        <div class="doc-viewer-value" ng-bind-html="typeof(formatted[field]) === \'undefined\' ? hit[field] : formatted[field] | trustAsHtml"></div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(106);var _doc_views=__webpack_require__(751),_json=__webpack_require__(4341),_json2=_interopRequireDefault(_json);_doc_views.DocViewsRegistryProvider.register(function(){return{title:"JSON",order:20,directive:{template:_json2.default,scope:{hit:"="},controller:function($scope){$scope.hitJson=_angular2.default.toJson($scope.hit,!0),$scope.aceLoaded=function(editor){editor.$blockScrolling=1/0}}}}})},function(module,exports){module.exports='<div\n  id="json-ace"\n  ng-model="hitJson"\n  readonly\n  ui-ace="{\n    useWrapMode: true,\n    onLoad: aceLoaded,\n    advanced: {\n      highlightActiveLine: false\n    },\n    rendererOptions: {\n      showPrintMargin: false,\n      maxLines: 4294967296\n    },\n    mode: \'json\'\n  }"></div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PointSeriesVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"histogram",title:"Vertical Bar",image:_iconVertical2.default,description:"Assign a continuous variable to each axis",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"histogram",grid:{categoryLines:!1,style:{color:"#eee"}},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:!0,style:{},scale:{type:"linear"},labels:{show:!0,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:!0,style:{},scale:{type:"linear",mode:"normal"},labels:{show:!0,rotate:0,filter:!1,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"histogram",mode:"stacked",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,showCircles:!0}],addTooltip:!0,addLegend:!0,legendPosition:"right",times:[],addTimeMarker:!1}},editorConfig:{collections:{positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes></vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_point_series2.default}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Y-Axis",min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:"Dot Size",min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:"X-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"group",title:"Split Series",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",title:"Split Chart",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_point_series=__webpack_require__(519),_point_series2=_interopRequireDefault(_point_series),_iconVertical=__webpack_require__(4343),_iconVertical2=_interopRequireDefault(_iconVertical);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"4be5b8808b5216ee6b6a1a4a29493e32.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PointSeriesVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"line",title:"Line",image:_iconLine2.default,description:"Emphasize trends",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"line",grid:{categoryLines:!1,style:{color:"#eee"}},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:!0,style:{},scale:{type:"linear"},labels:{show:!0,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:!0,style:{},scale:{type:"linear",mode:"normal"},labels:{show:!0,rotate:0,filter:!1,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"line",mode:"normal",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,showCircles:!0}],addTooltip:!0,addLegend:!0,legendPosition:"right",times:[],addTimeMarker:!1}},editorConfig:{collections:{positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes></vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_point_series2.default}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Y-Axis",min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:"Dot Size",min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality","top_hits"]},{group:"buckets",name:"segment",title:"X-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"group",title:"Split Series",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",title:"Split Chart",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_point_series=__webpack_require__(519),_point_series2=_interopRequireDefault(_point_series),_iconLine=__webpack_require__(4345),_iconLine2=_interopRequireDefault(_iconLine);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"3211ece03a463a51c356a406827c30c0.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HistogramVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"pie",title:"Pie",image:_iconPie2.default,description:"Compare parts of a whole",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"pie",addTooltip:!0,addLegend:!0,legendPosition:"right",isDonut:!0,labels:{show:!1,values:!0,last_level:!0,truncate:100}}},editorConfig:{collections:{legendPositions:[{value:"left",text:"left"},{value:"right",text:"right"},{value:"top",text:"top"},{value:"bottom",text:"bottom"}]},optionsTemplate:_pie2.default,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Slice Size",min:1,max:1,aggFilter:["sum","count","cardinality","top_hits"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",icon:"fa fa-scissors",title:"Split Slices",min:0,max:1/0,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",icon:"fa fa-th",title:"Split Chart",mustBeFirst:!0,min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])},hierarchicalData:!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=HistogramVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_pie=__webpack_require__(4347),_pie2=_interopRequireDefault(_pie),_iconPie=__webpack_require__(4348),_iconPie2=_interopRequireDefault(_iconPie);module.exports=exports.default},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="form-group">\n    <div class="kuiSideBarSectionTitle">\n      <div class="kuiSideBarSectionTitle__text">\n        Pie Settings\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="isDonut">\n        Donut\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input id="isDonut" name="isDonut" type="checkbox" value="{{isDonut}}"\n               ng-checked="vis.params.isDonut"\n               ng-model="vis.params.isDonut"\n        >\n      </div>\n    </div>\n  </div>\n\n  <vislib-basic-options></vislib-basic-options>\n</div>\n\n\x3c!-- Labels --\x3e\n<div class="kuiSideBarSection">\n  <div class="form-group">\n    <div class="kuiSideBarSectionTitle">\n      <div class="kuiSideBarSectionTitle__text">\n        Labels Settings\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="showLabels">\n        Show Labels\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="showLabels" type="checkbox" ng-model="vis.params.labels.show">\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="showLastLevel">\n        Show Top Level Only\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="showLastLevel" type="checkbox" ng-model="vis.params.labels.last_level">\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="showValues">\n        Show Values\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input class="kuiCheckBox" id="showValues" type="checkbox" ng-model="vis.params.labels.values">\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="truncateLabels">\n        Truncate\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input\n          id="truncateLabels"\n          class="kuiInput kuiSideBarInput"\n          type="number"\n          ng-model="vis.params.labels.truncate"\n        >\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"283abe380441c6725a8faf00adfd138c.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PointSeriesVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"area",title:"Area",image:_iconArea2.default,description:"Emphasize the quantity beneath a line chart",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"area",grid:{categoryLines:!1,style:{color:"#eee"}},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"bottom",show:!0,style:{},scale:{type:"linear"},labels:{show:!0,truncate:100},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"left",show:!0,style:{},scale:{type:"linear",mode:"normal"},labels:{show:!0,rotate:0,filter:!1,truncate:100},title:{text:"Count"}}],seriesParams:[{show:"true",type:"area",mode:"stacked",data:{label:"Count",id:"1"},drawLinesBetweenPoints:!0,showCircles:!0,interpolate:"linear",valueAxis:"ValueAxis-1"}],addTooltip:!0,addLegend:!0,legendPosition:"right",times:[],addTimeMarker:!1}},editorConfig:{collections:{positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes></vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_point_series2.default}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Y-Axis",aggFilter:["!geo_centroid","!geo_bounds"],min:1,defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:"Dot Size",min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:"X-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"group",title:"Split Series",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",title:"Split Chart",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_point_series=__webpack_require__(519),_point_series2=_interopRequireDefault(_point_series),_iconArea=__webpack_require__(4350),_iconArea2=_interopRequireDefault(_iconArea);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"ccd9193f3b8af43575b17f6b00df04ae.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HeatmapVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"heatmap",title:"Heat Map",image:_iconHeatmap2.default,description:"Shade cells within a matrix",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"heatmap",addTooltip:!0,addLegend:!0,enableHover:!1,legendPosition:"right",times:[],colorsNumber:4,colorSchema:"Greens",setColorRange:!1,colorsRange:[],invertColors:!1,percentageMode:!1,valueAxes:[{show:!1,id:"ValueAxis-1",type:"value",scale:{type:"linear",defaultYExtents:!1},labels:{show:!1,rotate:0,overwriteColor:!1,color:"#555"}}]}},editorConfig:{collections:{legendPositions:[{value:"left",text:"left"},{value:"right",text:"right"},{value:"top",text:"top"},{value:"bottom",text:"bottom"}],scales:["linear","log","square root"],colorSchemas:Object.keys(_colormaps.vislibColorMaps)},optionsTemplate:_heatmap2.default,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Value",min:1,max:1,aggFilter:["count","avg","median","sum","min","max","cardinality","std_dev","top_hits"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"segment",title:"X-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"group",title:"Y-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",title:"Split Chart",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=HeatmapVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_heatmap=__webpack_require__(4352),_heatmap2=_interopRequireDefault(_heatmap),_colormaps=__webpack_require__(315),_iconHeatmap=__webpack_require__(4353),_iconHeatmap2=_interopRequireDefault(_iconHeatmap);module.exports=exports.default},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">\n      Basic Settings\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="addTooltip">\n      Show Tooltips\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="addTooltip" type="checkbox" ng-model="vis.params.addTooltip">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="enableHover">\n      Highlight\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="enableHover" type="checkbox" ng-model="vis.params.enableHover">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow" ng-show="vis.params.addLegend">\n    <label class="kuiSideBarFormRow__label" for="legendPosition">\n      Legend Position\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="legendPosition"\n        class="kuiSelect kuiSideBarSelect"\n        ng-model="vis.params.legendPosition"\n        ng-options="position.value as position.text for position in vis.type.editorConfig.collections.legendPositions"\n      ></select>\n    </div>\n  </div>\n</div>\n\n<div class="kuiSideBarSection">\n\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">\n      Heatmap Settings\n    </div>\n  </div>\n\n  <heatmap-options></heatmap-options>\n  \n</div>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"74725229b8c17a39c35d6cf26a989557.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PointSeriesVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"horizontal_bar",title:"Horizontal Bar",image:_iconHorizontal2.default,description:"Assign a continuous variable to each axis",category:_vis_category.CATEGORY.BASIC,visConfig:{defaults:{type:"histogram",grid:{categoryLines:!1,style:{color:"#eee"}},categoryAxes:[{id:"CategoryAxis-1",type:"category",position:"left",show:!0,style:{},scale:{type:"linear"},labels:{show:!0,rotate:0,filter:!1,truncate:200},title:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:"value",position:"bottom",show:!0,style:{},scale:{type:"linear",mode:"normal"},labels:{show:!0,rotate:75,filter:!0,truncate:100},title:{text:"Count"}}],seriesParams:[{show:!0,type:"histogram",mode:"normal",data:{label:"Count",id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,showCircles:!0}],addTooltip:!0,addLegend:!0,legendPosition:"right",times:[],addTimeMarker:!1}},editorConfig:{collections:{positions:["top","left","right","bottom"],chartTypes:[{value:"line",text:"line"},{value:"area",text:"area"},{value:"histogram",text:"bar"}],axisModes:["normal","percentage","wiggle","silhouette"],scaleTypes:["linear","log","square root"],chartModes:["normal","stacked"],interpolationModes:[{value:"linear",text:"straight"},{value:"cardinal",text:"smoothed"},{value:"step-after",text:"stepped"}]},optionTabs:[{name:"advanced",title:"Metrics & Axes",editor:"<div><vislib-series></vislib-series><vislib-value-axes></vislib-value-axes><vislib-category-axis></vislib-category-axis></div>"},{name:"options",title:"Panel Settings",editor:_point_series2.default}],schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Y-Axis",min:1,aggFilter:["!geo_centroid","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"metrics",name:"radius",title:"Dot Size",min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:"buckets",name:"segment",title:"X-Axis",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"group",title:"Split Series",min:0,max:1,aggFilter:["!geohash_grid","!filter"]},{group:"buckets",name:"split",title:"Split Chart",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=PointSeriesVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_point_series=__webpack_require__(519),_point_series2=_interopRequireDefault(_point_series),_iconHorizontal=__webpack_require__(4355),_iconHorizontal2=_interopRequireDefault(_iconHorizontal);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"97bdb00c6bb0f0858161ef433ea62640.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GaugeVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"gauge",title:"Gauge",image:_iconGauge2.default,description:"Gauges indicate the status of a metric. Use it to show how a metric's value relates \n      to reference threshold values.",category:_vis_category.CATEGORY.DATA,visConfig:{defaults:{type:"gauge",addTooltip:!0,addLegend:!0,isDisplayWarning:!1,gauge:{verticalSplit:!1,extendRange:!0,percentageMode:!1,gaugeType:"Arc",gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",colorSchema:"Green to Red",gaugeColorMode:"Labels",colorsRange:[{from:0,to:50},{from:50,to:75},{from:75,to:100}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!0,labels:!1,color:"#333"},type:"meter",style:{bgWidth:.9,width:.9,mask:!1,bgMask:!1,maskBars:50,bgFill:"#eee",bgColor:!0,subText:"",fontSize:60}}}},editorConfig:{collections:{gaugeTypes:["Arc","Circle"],gaugeColorMode:["None","Labels","Background"],scales:["linear","log","square root"],colorSchemas:Object.keys(_colormaps.vislibColorMaps)},optionsTemplate:_gauge2.default,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Metric",min:1,aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"group",title:"Split Group",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GaugeVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_gauge=__webpack_require__(1346),_gauge2=_interopRequireDefault(_gauge),_colormaps=__webpack_require__(315),_iconGauge=__webpack_require__(4357),_iconGauge2=_interopRequireDefault(_iconGauge);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"d1c95c8e85228e93547df753065c0867.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GoalVisType(Private){return Private(_vis_factory.VisFactoryProvider).createVislibVisualization({name:"goal",title:"Goal",image:_iconGoal2.default,description:"A goal chart indicates how close you are to your final goal.",category:_vis_category.CATEGORY.DATA,visConfig:{defaults:{addTooltip:!0,addLegend:!1,isDisplayWarning:!1,type:"gauge",gauge:{verticalSplit:!1,autoExtend:!1,percentageMode:!0,gaugeType:"Arc",gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",useRanges:!1,colorSchema:"Green to Red",gaugeColorMode:"None",colorsRange:[{from:0,to:1e4}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!1,labels:!1,color:"#333",width:2},type:"meter",style:{bgFill:"#000",bgColor:!1,labelColor:!1,subText:"",fontSize:60}}}},editorConfig:{collections:{gaugeTypes:["Arc","Circle"],gaugeColorMode:["None","Labels","Background"],scales:["linear","log","square root"],colorSchemas:Object.keys(_colormaps.vislibColorMaps)},optionsTemplate:_gauge2.default,schemas:new _schemas.Schemas([{group:"metrics",name:"metric",title:"Metric",min:1,aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds"],defaults:[{schema:"metric",type:"count"}]},{group:"buckets",name:"group",title:"Split Group",min:0,max:1,aggFilter:["!geohash_grid","!filter"]}])}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GoalVisType;var _vis_factory=__webpack_require__(73),_schemas=__webpack_require__(85),_vis_category=__webpack_require__(63),_gauge=__webpack_require__(1346),_gauge2=_interopRequireDefault(_gauge),_colormaps=__webpack_require__(315),_iconGoal=__webpack_require__(4359),_iconGoal2=_interopRequireDefault(_iconGoal);module.exports=exports.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"0c6dccf6e8d60a35330c60a8831b1c08.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchEmbeddableFactory=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_search_template=__webpack_require__(4361),_search_template2=_interopRequireDefault(_search_template),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(1348);var _columns=__webpack_require__(1352),columnActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_columns),_persisted_state=__webpack_require__(356),_embeddable=__webpack_require__(744);exports.SearchEmbeddableFactory=function(_EmbeddableFactory){function SearchEmbeddableFactory($compile,$rootScope,searchLoader,Promise,courier){_classCallCheck(this,SearchEmbeddableFactory);var _this=_possibleConstructorReturn(this,(SearchEmbeddableFactory.__proto__||Object.getPrototypeOf(SearchEmbeddableFactory)).call(this));return _this.$compile=$compile,_this.searchLoader=searchLoader,_this.$rootScope=$rootScope,_this.name="search",_this.Promise=Promise,_this.courier=courier,_this}return _inherits(SearchEmbeddableFactory,_EmbeddableFactory),_createClass(SearchEmbeddableFactory,[{key:"getEditPath",value:function(panelId){return this.searchLoader.urlFor(panelId)}},{key:"getTitleFor",value:function(panelId){return this.searchLoader.get(panelId).then(function(savedObject){return savedObject.title})}},{key:"render",value:function(domNode,panel,container){var _this2=this,searchScope=this.$rootScope.$new();return searchScope.editPath=this.getEditPath(panel.id),this.searchLoader.get(panel.id).then(function(savedObject){container.getHidePanelTitles()||(searchScope.sharedItemTitle=void 0!==panel.title?panel.title:savedObject.title),searchScope.savedObj=savedObject,searchScope.panel=panel,container.registerPanelIndexPattern(panel.panelIndex,savedObject.searchSource.get("index")),searchScope.columns=searchScope.panel.columns||searchScope.savedObj.columns,searchScope.sort=searchScope.panel.sort||searchScope.savedObj.sort;var parsedUiState=savedObject.uiStateJSON?JSON.parse(savedObject.uiStateJSON):{};searchScope.uiState=new _persisted_state.PersistedState(_extends({},parsedUiState,panel.embeddableConfig));var uiStateChangeHandler=function(){searchScope.panel=container.updatePanel(searchScope.panel.panelIndex,{embeddableConfig:searchScope.uiState.toJSON()})};searchScope.uiState.on("change",uiStateChangeHandler),searchScope.setSortOrder=function(columnName,direction){searchScope.panel=container.updatePanel(searchScope.panel.panelIndex,{sort:[columnName,direction]}),searchScope.sort=searchScope.panel.sort},searchScope.addColumn=function(columnName){savedObject.searchSource.get("index").popularizeField(columnName,1),columnActions.addColumn(searchScope.columns,columnName),searchScope.panel=container.updatePanel(searchScope.panel.panelIndex,{columns:searchScope.columns})},searchScope.removeColumn=function(columnName){savedObject.searchSource.get("index").popularizeField(columnName,1),columnActions.removeColumn(searchScope.columns,columnName),searchScope.panel=container.updatePanel(searchScope.panel.panelIndex,{columns:searchScope.columns})},searchScope.moveColumn=function(columnName,newIndex){columnActions.moveColumn(searchScope.columns,columnName,newIndex),searchScope.panel=container.updatePanel(searchScope.panel.panelIndex,{columns:searchScope.columns})},searchScope.filter=function(field,value,operator){var index=savedObject.searchSource.get("index").id;container.addFilter(field,value,operator,index)};var searchInstance=_this2.$compile(_search_template2.default)(searchScope);return _angular2.default.element(domNode).append(searchInstance),_this2.addDestroyEmeddable(panel.panelIndex,function(){searchScope.uiState.off("change",uiStateChangeHandler),searchInstance.remove(),searchScope.savedObj.destroy(),searchScope.$destroy()}),new _embeddable.Embeddable({title:savedObject.title,editUrl:searchScope.editPath})})}}]),SearchEmbeddableFactory}(_embeddable.EmbeddableFactory)},function(module,exports){module.exports='<doc-table\n  search-source="savedObj.searchSource"\n  sorting="sort"\n  columns="columns"\n  data-shared-item\n  data-title="{{sharedItemTitle}}"\n  data-description="{{savedObj.description}}"\n  render-complete\n  class="panel-content"\n  filter="filter"\n  on-add-column="addColumn"\n  on-change-sort-order="setSortOrder"\n  on-move-column="moveColumn"\n  on-remove-column="removeColumn"\n>\n</doc-table>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_doc_table=__webpack_require__(4363),_doc_table2=_interopRequireDefault(_doc_table),_get_sort=__webpack_require__(1349);__webpack_require__(4364),__webpack_require__(626),__webpack_require__(1103),__webpack_require__(4365),__webpack_require__(1350);var _render_complete=__webpack_require__(494),_modules=__webpack_require__(2),_doc_table_strings=__webpack_require__(4375);_modules.uiModules.get("kibana").directive("docTable",function(config,Notifier,getAppState,pagerFactory,$filter,courier){return{restrict:"E",template:_doc_table2.default,scope:{sorting:"=",columns:"=",hits:"=?",indexPattern:"=?",searchSource:"=?",infiniteScroll:"=?",filter:"=?",filters:"=?",minimumVisibleRows:"=?",onAddColumn:"=?",onChangeSortOrder:"=?",onMoveColumn:"=?",onRemoveColumn:"=?"},link:function($scope,$el){var notify=new Notifier;$scope.$watch("minimumVisibleRows",function(minimumVisibleRows){$scope.limit=Math.max(minimumVisibleRows||50,$scope.limit||50)}),$scope.persist={sorting:$scope.sorting,columns:$scope.columns};var limitTo=$filter("limitTo"),calculateItemsOnPage=function(){$scope.pager.setTotalItems($scope.hits.length),$scope.pageOfItems=limitTo($scope.hits,$scope.pager.pageSize,$scope.pager.startIndex)};$scope.limitedResultsWarning=(0,_doc_table_strings.getLimitedSearchResultsMessage)(config.get("discover:sampleSize")),$scope.addRows=function(){$scope.limit+=50},$scope.$watch("columns",function(columns){if(0===columns.length){var $state=getAppState();$scope.columns.push("_source"),$state&&$state.replace()}}),$scope.$watchCollection("columns",function(columns,oldColumns){1===oldColumns.length&&"_source"===oldColumns[0]&&$scope.columns.length>1&&_lodash2.default.pull($scope.columns,"_source"),0===$scope.columns.length&&$scope.columns.push("_source")}),$scope.$watch("searchSource",function(){function onResults(resp){if($scope.limit=50,$scope.searchSource===$scope.searchSource)return $scope.hits=resp.hits.hits,0===$scope.hits.length&&(0,_render_complete.dispatchRenderComplete)($el[0]),$scope.totalHitCount=resp.hits.total,$scope.pager=pagerFactory.create($scope.hits.length,50,1),calculateItemsOnPage(),$scope.searchSource.onResults().then(onResults)}function startSearching(){$scope.searchSource.onResults().then(onResults).catch(function(error){notify.error(error),startSearching()})}$scope.searchSource&&($scope.indexPattern=$scope.searchSource.get("index"),$scope.searchSource.size(config.get("discover:sampleSize")),$scope.searchSource.sort((0,_get_sort.getSort)($scope.sorting,$scope.indexPattern)),$scope.$watchCollection("sorting",function(newSort,oldSort){newSort!==oldSort&&($scope.searchSource.sort((0,_get_sort.getSort)(newSort,$scope.indexPattern)),$scope.searchSource.fetchQueued())}),$scope.$on("$destroy",function(){$scope.searchSource&&$scope.searchSource.destroy()}),startSearching(),courier.fetch())}),$scope.pageOfItems=[],$scope.onPageNext=function(){$scope.pager.nextPage(),calculateItemsOnPage()},$scope.onPagePrevious=function(){$scope.pager.previousPage(),calculateItemsOnPage()},$scope.shouldShowLimitedResultsWarning=function(){return!$scope.pager.hasNextPage&&$scope.pager.totalItems<$scope.totalHitCount}}}})},function(module,exports){module.exports='<div\n  class="doc-table-container"\n  ng-if="hits.length"\n  ng-class="{ loading: searchSource.activeFetchCount > 0 }"\n>\n  <div ng-if="!infiniteScroll">\n    <div class="kuiBar docTableBar">\n      <div class="kuiBarSection">\n        <div\n          ng-if="shouldShowLimitedResultsWarning()"\n          class="kuiToolBarText kuiSubduedText"\n        >\n          {{ limitedResultsWarning }}\n        </div>\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="pager.startItem"\n          end-item="pager.endItem"\n          total-items="totalHitCount"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="pager.hasPreviousPage"\n          has-next-page="pager.hasNextPage"\n          on-page-next="onPageNext"\n          on-page-previous="onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n    <table class="kbn-table table" ng-if="indexPattern">\n      <thead\n        kbn-table-header\n        columns="columns"\n        index-pattern="indexPattern"\n        sort-order="sorting"\n        on-change-sort-order="onChangeSortOrder"\n        on-move-column="onMoveColumn"\n        on-remove-column="onRemoveColumn"\n      ></thead>\n      <tbody>\n        <tr ng-repeat="row in pageOfItems|limitTo:limit track by row._index+row._type+row._id+row._score+row._version"\n          kbn-table-row="row"\n          columns="columns"\n          sorting="sorting"\n          index-pattern="indexPattern"\n          filter="filter"\n          filters="filters"\n          class="discover-table-row"\n          on-add-column="onAddColumn"\n          on-change-sort-order="onChangeSortOrder"\n          on-remove-column="onRemoveColumn"\n        ></tr>\n      </tbody>\n    </table>\n    \x3c!-- ToolBarFooter --\x3e\n    <div class="kuiBar docTableBar">\n      <div class="kuiBarSection">\n        <div\n          ng-if="shouldShowLimitedResultsWarning()"\n          class="kuiToolBarText kuiSubduedText"\n        >\n          {{ limitedResultsWarning }}\n        </div>\n        \x3c!-- Pagination --\x3e\n        <tool-bar-pager-text\n          start-item="pager.startItem"\n          end-item="pager.endItem"\n          total-items="totalHitCount"\n        ></tool-bar-pager-text>\n        <tool-bar-pager-buttons\n          has-previous-page="pager.hasPreviousPage"\n          has-next-page="pager.hasNextPage"\n          on-page-next="onPageNext"\n          on-page-previous="onPagePrevious"\n        ></tool-bar-pager-buttons>\n      </div>\n    </div>\n  </div>\n\n  <table ng-if="infiniteScroll" class="kbn-table table" ng-if="indexPattern" data-test-subj="docTable">\n    <thead\n      kbn-table-header\n      columns="columns"\n      index-pattern="indexPattern"\n      sort-order="sorting"\n      on-change-sort-order="onChangeSortOrder"\n      on-move-column="onMoveColumn"\n      on-remove-column="onRemoveColumn"\n    ></thead>\n    <tbody>\n      <tr ng-repeat="row in hits|limitTo:limit track by row._index+row._type+row._id+row._score+row._version"\n        kbn-table-row="row"\n        columns="columns"\n        sorting="sorting"\n        index-pattern="indexPattern"\n        filter="filter"\n        filters="filters"\n        class="discover-table-row"\n        ng-class="{\'discover-table-row--highlight\': row[\'$$_isAnchor\']}"\n        data-test-subj="docTableRow{{ row[\'$$_isAnchor\'] ? \' docTableAnchorRow\' : \'\'}}"\n        on-add-column="onAddColumn"\n        on-change-sort-order="onChangeSortOrder"\n        on-remove-column="onRemoveColumn"\n      ></tr>\n    </tbody>\n  </table>\n  <kbn-infinite-scroll ng-if="infiniteScroll" more="addRows"></kbn-infinite-scroll>\n</div>\n\n<div ng-if="hits != null && !hits.length" class="table-vis-error">\n  <h2><i class="fa fa-meh-o"></i></h2>\n  <h4>No results found</h4>\n</div>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(4366),__webpack_require__(359);var _table_header=__webpack_require__(4367),_table_header2=_interopRequireDefault(_table_header);__webpack_require__(2).uiModules.get("app/discover").directive("kbnTableHeader",function(shortDotsFilter){return{restrict:"A",scope:{columns:"=",sortOrder:"=",indexPattern:"=",onChangeSortOrder:"=?",onRemoveColumn:"=?",onMoveColumn:"=?"},template:_table_header2.default,controller:function($scope){$scope.isSortableColumn=function(columnName){return!!$scope.indexPattern&&_lodash2.default.isFunction($scope.onChangeSortOrder)&&_lodash2.default.get($scope,["indexPattern","fields","byName",columnName,"sortable"],!1)},$scope.tooltip=function(column){return $scope.isSortableColumn(column)?"Sort by "+shortDotsFilter(column):""},$scope.canMoveColumnLeft=function(columnName){return _lodash2.default.isFunction($scope.onMoveColumn)&&$scope.columns.indexOf(columnName)>0},$scope.canMoveColumnRight=function(columnName){return _lodash2.default.isFunction($scope.onMoveColumn)&&$scope.columns.indexOf(columnName)<$scope.columns.length-1},$scope.canRemoveColumn=function(columnName){return _lodash2.default.isFunction($scope.onRemoveColumn)&&("_source"!==columnName||$scope.columns.length>1)},$scope.headerClass=function(column){if($scope.isSortableColumn(column)){var sortOrder=$scope.sortOrder,defaultClass=["fa","fa-sort-up","table-header-sortchange"];return sortOrder&&column===sortOrder[0]?["fa","asc"===sortOrder[1]?"fa-sort-up":"fa-sort-down"]:defaultClass}},$scope.moveColumnLeft=function(columnName){var newIndex=$scope.columns.indexOf(columnName)-1;newIndex<0||$scope.onMoveColumn(columnName,newIndex)},$scope.moveColumnRight=function(columnName){var newIndex=$scope.columns.indexOf(columnName)+1;newIndex>=$scope.columns.length||$scope.onMoveColumn(columnName,newIndex)},$scope.cycleSortOrder=function(columnName){if($scope.isSortableColumn(columnName)){var _$scope$sortOrder=_slicedToArray($scope.sortOrder,2),currentColumnName=_$scope$sortOrder[0],_$scope$sortOrder$=_$scope$sortOrder[1],currentDirection=void 0===_$scope$sortOrder$?"asc":_$scope$sortOrder$,newDirection=columnName===currentColumnName&&"asc"===currentDirection?"desc":"asc";$scope.onChangeSortOrder(columnName,newDirection)}},$scope.getAriaLabelForColumn=function(name){if(!$scope.isSortableColumn(name))return null;var _$scope$sortOrder2=_slicedToArray($scope.sortOrder,2),currentColumnName=_$scope$sortOrder2[0],_$scope$sortOrder2$=_$scope$sortOrder2[1],currentDirection=void 0===_$scope$sortOrder2$?"asc":_$scope$sortOrder2$;return name===currentColumnName&&"asc"===currentDirection?"Sort "+name+" descending":"Sort "+name+" ascending"}}}})},function(module,exports){},function(module,exports){module.exports='<tr>\n  <td width="1%"></td>\n  <th\n    ng-if="indexPattern.timeFieldName"\n    data-test-subj="docTableHeaderField"\n    scope="col"\n  >\n    <span>Time <button\n      id="docTableHeaderFieldSort{{indexPattern.timeFieldName}}"\n      tabindex="0"\n      aria-label="{{ getAriaLabelForColumn(indexPattern.timeFieldName) }}"\n      class="docTableHeaderButton"\n      ng-class="headerClass(indexPattern.timeFieldName)"\n      role="button"\n      ng-click="cycleSortOrder(indexPattern.timeFieldName)"\n      tooltip="Sort by time"\n    ></button>\n    </span>\n  </th>\n  <th\n    ng-repeat="name in columns"\n    data-test-subj="docTableHeaderField"\n    scope="col"\n  >\n    <span\n      class="table-header-name"\n      data-test-subj="docTableHeader-{{name}}"\n    >\n      {{name | shortDots}}\n      <button\n        data-test-subj="docTableHeaderFieldSort_{{name}}"\n        id="docTableHeaderFieldSort{{name}}"\n        ng-if="isSortableColumn(name)"\n        aria-label="{{ getAriaLabelForColumn(name) }}"\n        class="docTableHeaderButton"\n        ng-class="headerClass(name)"\n        ng-click="cycleSortOrder(name)"\n        tooltip="{{tooltip(name)}}"\n        tooltip-append-to-body="1"\n      ></button>\n    </span>\n    <button\n      class="fa fa-remove table-header-move"\n      ng-click="onRemoveColumn(name)"\n      ng-if="canRemoveColumn(name)"\n      tooltip-append-to-body="1"\n      tooltip="Remove column"\n      aria-label="Remove {{name}} column"\n      data-test-subj="docTableRemoveHeader-{{name}}"\n    ></button>\n    <button\n      class="fa fa-angle-double-left table-header-move"\n      ng-click="moveColumnLeft(name)"\n      ng-if="canMoveColumnLeft(name)"\n      tooltip-append-to-body="1"\n      tooltip="Move column to the left"\n      aria-label="Move {{name}} column to the left"\n    ></button>\n    <button\n      class="fa fa-angle-double-right table-header-move"\n      ng-click="moveColumnRight(name)"\n      ng-if="canMoveColumnRight(name)"\n      tooltip-append-to-body="1"\n      tooltip="Move column to the right"\n      aria-label="Move {{name}} column to the right"\n    ></button>\n  </th>\n</tr>\n'},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_modules=__webpack_require__(2),_doc_views=__webpack_require__(751);__webpack_require__(892),__webpack_require__(4369),_modules.uiModules.get("kibana").directive("docViewer",function(config,Private){var docViews=Private(_doc_views.DocViewsRegistryProvider);return{restrict:"E",scope:{hit:"=",indexPattern:"=",filter:"=?",columns:"=?",onAddColumn:"=?",onRemoveColumn:"=?"},template:function($el){var $viewer=(0,_jquery2.default)('<div class="doc-viewer">');$el.append($viewer);var $tabs=(0,_jquery2.default)('<ul class="nav nav-tabs" role="tablist">'),$content=(0,_jquery2.default)('<div class="doc-viewer-content" role="tabpanel">');return $viewer.append($tabs),$viewer.append($content),docViews.inOrder.forEach(function(view){var $tab=(0,_jquery2.default)("<li\n            ng-show=\"docViews['"+view.name+"'].shouldShow(hit)\"\n            ng-class=\"{active: mode == '"+view.name+'\'}"\n            role="tab"\n            aria-selected="{{mode === \''+view.name+"'}}\"\n          >\n            <a\n              ng-click=\"mode='"+view.name+"'\"\n              kbn-accessible-click\n            >\n              "+view.title+"\n            </a>\n          </li>");$tabs.append($tab);var $ext=(0,_jquery2.default)('<render-directive \n          hit="hit"\n          index-pattern="indexPattern"\n          filter="filter"\n          columns="columns"\n          on-add-column="onAddColumn"\n          on-remove-column="onRemoveColumn"\n         ng-if="mode == \''+view.name+"'\" definition=\"docViews['"+view.name+"'].directive\">\n          </render-directive>");$ext.html(view.directive.template),$content.append($ext)}),$el.html()},controller:function($scope){$scope.mode=docViews.inOrder[0].name,$scope.docViews=docViews.byName}}})},function(module,exports){},function(module,exports){},function(module,exports){module.exports='<td ng-click="toggleRow()" data-test-subj="docTableExpandToggleColumn">\n  <button\n    class="discover-table-open-button"\n    aria-label="Toggle row details"\n    aria-expanded="{{!!open}}"\n  >\n    <span\n      class="kuiIcon"\n      ng-class="{ \'fa-caret-down\': open, \'fa-caret-right\': !open }"\n    ></span>\n  </button>\n</td>\n'},function(module,exports){module.exports='<td colspan="{{ columns.length + 2 }}">\n  <div class="documentTableRow__actions">\n    <a\n      class="kuiButton kuiButton--small kuiButton--secondary"\n      data-test-subj="docTableRowAction"\n      ng-href="{{ getContextAppHref() }}"\n      ng-if="indexPattern.isTimeBased()"\n    >\n      View surrounding documents\n    </a>\n    <a\n      class="kuiButton kuiButton--small kuiButton--secondary"\n      data-test-subj="docTableRowAction"\n      ng-href="#/doc/{{indexPattern.id}}/{{row._index}}/{{row._type}}/?id={{row._id | uriescape}}"\n    >\n      View single document\n    </a>\n  </div>\n  <doc-viewer\n    columns="columns"\n    filter="filter"\n    hit="row"\n    index-pattern="indexPattern"\n    on-add-column="onAddColumn"\n    on-remove-column="onRemoveColumn"\n    data-test-subj="docViewer"\n  ></doc-viewer>\n</td>\n'},function(module,exports){module.exports='<%\nvar attributes = \'\';\nif (timefield) {\n  attributes=\'class="discover-table-timefield" width="1%"\';\n} else if (sourcefield) {\n  attributes=\'class="discover-table-sourcefield"\';\n} else {\n  attributes=\'class="discover-table-datafield"\';\n}\n%>\n<td <%= attributes %> data-test-subj="docTableField">\n  <%= formatted %>\n  <span class="table-cell-filter">\n    <% if (filterable) { %>\n      <button\n        ng-click="inlineFilter($event, \'+\')"\n        class="fa fa-search-plus docTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip="Filter for value"\n        tooltip-append-to-body="1"\n        aria-label="Filter for value"\n      ></button>\n\n      <button\n        ng-click="inlineFilter($event, \'-\')"\n        class="fa fa-search-minus docTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip="Filter out value"\n        aria-label="Filter out value"\n        tooltip-append-to-body="1"\n      ></button>\n    <% } %>\n  </span>\n</td>\n'},function(module,exports){module.exports='<div class="truncate-by-height">\n  <%= body %>\n</div>'},function(module,exports,__webpack_require__){"use strict";function getLimitedSearchResultsMessage(resultCount){return"Limited to "+resultCount+" results. Refine your search."}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLimitedSearchResultsMessage=getLimitedSearchResultsMessage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisualizeEmbeddableFactory=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_loader=__webpack_require__(4377),_brush_event=__webpack_require__(1202),_filter_bar_click_handler=__webpack_require__(371),_embeddable=__webpack_require__(744),_persisted_state=__webpack_require__(356),_visualize_lab_disabled=__webpack_require__(4389),_visualize_lab_disabled2=_interopRequireDefault(_visualize_lab_disabled),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome);exports.VisualizeEmbeddableFactory=function(_EmbeddableFactory){function VisualizeEmbeddableFactory(savedVisualizations,timefilter,Promise,Private,config){_classCallCheck(this,VisualizeEmbeddableFactory);var _this=_possibleConstructorReturn(this,(VisualizeEmbeddableFactory.__proto__||Object.getPrototypeOf(VisualizeEmbeddableFactory)).call(this));return _this._config=config,_this.savedVisualizations=savedVisualizations,_this.name="visualization",_this.Promise=Promise,_this.brushEvent=(0,_brush_event.UtilsBrushEventProvider)(timefilter),_this.filterBarClickHandler=(0,_filter_bar_click_handler.FilterBarClickHandlerProvider)(Private),_this}return _inherits(VisualizeEmbeddableFactory,_EmbeddableFactory),_createClass(VisualizeEmbeddableFactory,[{key:"getEditPath",value:function(panelId){return this.savedVisualizations.urlFor(panelId)}},{key:"render",value:function(domNode,panel,container){var _this2=this,editUrl=this.getEditPath(panel.id),waitFor=[(0,_loader.getVisualizeLoader)(),this.savedVisualizations.get(panel.id)];return this.Promise.all(waitFor).then(function(_ref){var _ref2=_slicedToArray(_ref,2),loader=_ref2[0],savedObject=_ref2[1];if(!_this2._config.get("visualize:enableLabs")&&"lab"===savedObject.vis.type.stage){var template=(0,_jquery2.default)(_visualize_lab_disabled2.default);return template.find(".disabledLabVisualization__title").text(savedObject.title),(0,_jquery2.default)(domNode).html(template),new _embeddable.Embeddable({title:savedObject.title})}var panelTitle=void 0;container.getHidePanelTitles()||(panelTitle=void 0!==panel.title?panel.title:savedObject.title);var parsedUiState=savedObject.uiStateJSON?JSON.parse(savedObject.uiStateJSON):{},uiState=new _persisted_state.PersistedState(_extends({},parsedUiState,panel.embeddableConfig));container.onEmbeddableConfigChanged(panel.panelIndex,function(newEmbeddableConfig){uiState.clearAllKeys(),Object.getOwnPropertyNames(newEmbeddableConfig).forEach(function(key){uiState.set(key,newEmbeddableConfig[key])})});var uiStateChangeHandler=function(){panel=container.updatePanel(panel.panelIndex,{embeddableConfig:uiState.toJSON()})};uiState.on("change",uiStateChangeHandler),container.registerPanelIndexPattern(panel.panelIndex,savedObject.vis.indexPattern);var handler=loader.embedVisualizationWithSavedObject(domNode,savedObject,{uiState:uiState,append:!0,cssClass:"panel-content panel-content--fullWidth",showSpyPanel:!_chrome2.default.getIsChromePermanentlyHidden(),dataAttrs:{"shared-item":"",title:panelTitle,description:savedObject.description}});return _this2.addDestroyEmeddable(panel.panelIndex,function(){uiState.off("change",uiStateChangeHandler),handler.getElement().remove(),savedObject.destroy(),handler.destroy()}),new _embeddable.Embeddable({title:savedObject.title,editUrl:editUrl})})}}]),VisualizeEmbeddableFactory}(_embeddable.EmbeddableFactory)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _loader=__webpack_require__(4378);Object.keys(_loader).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _loader[key]}})})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function getVisualizeLoader(){return _chrome2.default.dangerouslyGetActiveInjector().then(function($injector){return $injector.get("Private")(VisualizeLoaderProvider)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisualizeLoaderProvider=exports.getVisualizeLoader=void 0;var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome);__webpack_require__(752);var _loader_template=__webpack_require__(4387),_loader_template2=_interopRequireDefault(_loader_template),_embedded_visualize_handler=__webpack_require__(4388),VisualizeLoaderProvider=function($compile,$rootScope,savedVisualizations){var renderVis=function(el,savedObj,params){var scope=$rootScope.$new();params=params||{},scope.savedObj=savedObj,scope.appState=params.appState,scope.uiState=params.uiState,scope.timeRange=params.timeRange,scope.showSpyPanel=params.showSpyPanel;var container=_angular2.default.element(el),visHtml=$compile(_loader_template2.default)(scope);return params.cssClass&&visHtml.addClass(params.cssClass),params.dataAttrs&&Object.keys(params.dataAttrs).forEach(function(key){visHtml.attr("data-"+key,params.dataAttrs[key])}),params.append?container.append(visHtml):container.html(visHtml),new _embedded_visualize_handler.EmbeddedVisualizeHandler(visHtml,scope)};return{embedVisualizationWithId:function(){function embedVisualizationWithId(_x,_x2,_x3){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(element,savedVisualizationId,params){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise(function(resolve,reject){savedVisualizations.get(savedVisualizationId).then(function(savedObj){var handler=renderVis(element,savedObj,params);resolve(handler)},reject)}));case 1:case"end":return _context.stop()}},_callee,void 0)}));return embedVisualizationWithId}(),embedVisualizationWithSavedObject:function(el,savedObj,params){return renderVis(el,savedObj,params)},getVisualizationList:function(){return savedVisualizations.find().then(function(result){return result.hits})}}};exports.getVisualizeLoader=getVisualizeLoader,exports.VisualizeLoaderProvider=VisualizeLoaderProvider},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_state_monitor_factory=__webpack_require__(396),_visualize=__webpack_require__(4380),_visualize2=_interopRequireDefault(_visualize),_vis_request_handlers=__webpack_require__(753),_vis_response_handlers=__webpack_require__(520);__webpack_require__(294),__webpack_require__(4381),__webpack_require__(4384);var _query_filter=__webpack_require__(164),_resize_checker=__webpack_require__(485),_elasticsearch_errors=__webpack_require__(4385);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualize",function($timeout,Notifier,Private,timefilter,getAppState,Promise){function getHandler(from,name){return"function"==typeof name?name:from.find(function(handler){return handler.name===name}).handler}var notify=new Notifier({location:"Visualize"}),requestHandlers=Private(_vis_request_handlers.VisRequestHandlersRegistryProvider),responseHandlers=Private(_vis_response_handlers.VisResponseHandlersRegistryProvider),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);return{restrict:"E",scope:{showSpyPanel:"=?",editorMode:"=?",savedObj:"=?",appState:"=?",uiState:"=?",timeRange:"=?"},template:_visualize2.default,link:function(){function link(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee($scope,$el){var destroyed,resizeChecker,requestHandler,responseHandler,handleVisUpdate,reload,handleQueryUpdate,stateMonitor;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(destroyed=!1,$scope.savedObj){_context.next=3;break}throw"saved object was not provided to <visualize> directive";case 3:$scope.appState||($scope.appState=getAppState()),resizeChecker=new _resize_checker.ResizeChecker($el,{disabled:!0}),$timeout(function(){resizeChecker.enable()}),$scope.vis=$scope.savedObj.vis,$scope.vis.searchSource=$scope.savedObj.searchSource,$scope.uiState?$scope.vis._setUiState($scope.uiState):$scope.uiState=$scope.vis.getUiState(),$scope.vis.description=$scope.savedObj.description,$scope.editorMode=$scope.editorMode||!1,$scope.vis.editorMode=$scope.editorMode,requestHandler=getHandler(requestHandlers,$scope.vis.type.requestHandler),responseHandler=getHandler(responseHandlers,$scope.vis.type.responseHandler),$scope.fetch=_lodash2.default.debounce(function(){if($scope.vis.initialized&&$scope.savedObj&&!destroyed){var timeRange=$scope.timeRange||timefilter.time;$scope.vis.filters={timeRange:timeRange};var handlerParams={appState:$scope.appState,uiState:$scope.uiState,queryFilter:queryFilter,searchSource:$scope.savedObj.searchSource,timeRange:timeRange};requestHandler($scope.vis,handlerParams).then(function(requestHandlerResponse){var canSkipResponseHandler=$scope.previousRequestHandlerResponse&&$scope.previousRequestHandlerResponse===requestHandlerResponse&&$scope.previousVisState&&_lodash2.default.isEqual($scope.previousVisState,$scope.vis.getState());return $scope.previousVisState=$scope.vis.getState(),$scope.previousRequestHandlerResponse=requestHandlerResponse,canSkipResponseHandler?$scope.visData:Promise.resolve(responseHandler($scope.vis,requestHandlerResponse))},function(e){if($scope.savedObj.searchSource.cancelQueued(),$scope.vis.requestError=e,(0,_elasticsearch_errors.isTermSizeZeroError)(e))return notify.error("Your visualization ('"+$scope.vis.title+"') has an error: it has a term aggregation with a size of 0. Please set it to a number greater than 0 to resolve the error.");notify.error(e)}).then(function(resp){return $scope.visData=resp,$scope.$apply(),$scope.$broadcast("render"),resp})}},100),handleVisUpdate=function(){$scope.editorMode?($scope.appState.vis=$scope.vis.getState(),$scope.appState.save()):$scope.fetch()},$scope.vis.on("update",handleVisUpdate),reload=function(){$scope.vis.reload=!0,$scope.fetch()},$scope.vis.on("reload",reload),$scope.$on("courier:searchRefresh",reload),$scope.$on("fetch",reload),handleQueryUpdate=function(){$scope.fetch()},queryFilter.on("update",handleQueryUpdate),$scope.appState&&(stateMonitor=_state_monitor_factory.stateMonitorFactory.create($scope.appState),stateMonitor.onChange(function(status,type,keys){"vis"===keys[0]&&($scope.appState.vis&&$scope.vis.setState($scope.appState.vis),$scope.fetch()),$scope.vis.type.requiresSearch&&["query","filters"].includes(keys[0])&&$scope.fetch()}),$scope.$on("$destroy",function(){stateMonitor.destroy()})),$scope.uiState.on("change",$scope.fetch),resizeChecker.on("resize",$scope.fetch),$scope.$listen(timefilter,"fetch",$scope.fetch),$scope.$on("$destroy",function(){destroyed=!0,$scope.vis.removeListener("reload",reload),$scope.vis.removeListener("update",handleVisUpdate),queryFilter.off("update",handleQueryUpdate),$scope.uiState.off("change",$scope.fetch),resizeChecker.destroy()}),$scope.$watch("vis.initialized",$scope.fetch),$scope.fetch();case 30:case"end":return _context.stop()}},_callee,this)}));return link}()}})},function(module,exports){module.exports='\n<visualization-editor\n  ng-if="editorMode===true"\n  vis="vis"\n  vis-data="visData"\n  ui-state="uiState"\n  class="vis-editor-content"\n  search-source="savedObj.searchSource"\n  show-spy-panel="showSpyPanel"\n/>\n<visualization\n  ng-if="editorMode!==true"\n  class={{vis.type.name}}\n  vis="vis"\n  vis-data="visData"\n  ui-state="uiState"\n  listen-on-change="false"\n  search-source="savedObj.searchSource"\n  show-spy-panel="showSpyPanel"\n/>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _Rx=__webpack_require__(462);__webpack_require__(1354),__webpack_require__(1355);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_resize_checker=__webpack_require__(485),_visualization=__webpack_require__(4383),_visualization2=_interopRequireDefault(_visualization),_update_status=__webpack_require__(265);__webpack_require__(294);var _render_complete=__webpack_require__(494);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualization",function($timeout,Notifier,SavedVis,indexPatterns,Private,config){return{restrict:"E",scope:{showSpyPanel:"=?",vis:"=",visData:"=",uiState:"=?",listenOnChange:"<",searchSource:"="},template:_visualization2.default,link:function($scope,$el){function jQueryGetter(selector){return function(){var $sel=$el.find(selector);if($sel.length)return $sel}}var _this=this,getVisEl=jQueryGetter(".visualize-chart"),getVisContainer=jQueryGetter(".vis-container");$scope.uiState?$scope.vis._setUiState($scope.uiState):$scope.uiState=$scope.vis.getUiState(),$scope.showNoResultsMessage=function(){var requiresSearch=_lodash2.default.get($scope,"vis.type.requiresSearch"),isZeroHits=0===_lodash2.default.get($scope,"visData.hits.total"),shouldShowMessage=!_lodash2.default.get($scope,"vis.params.handleNoResults");return Boolean(requiresSearch&&isZeroHits&&shouldShowMessage)},$scope.visElement=getVisContainer();var loadingDelay=config.get("visualization:loadingDelay");$scope.loadingStyle={"-webkit-transition-delay":loadingDelay,"transition-delay":loadingDelay};var Visualization=$scope.vis.type.visualization,visualization=new Visualization(getVisEl()[0],$scope.vis);$scope.vis.initialized=!0;var render$=_Rx.Observable.create(function(observer){$scope.$on("render",function(){observer.next({vis:$scope.vis,visData:$scope.visData,container:getVisContainer()})})}).share(),success$=render$.do(function(){(0,_render_complete.dispatchRenderStart)($el[0])}).filter(function(_ref){var vis=_ref.vis,visData=_ref.visData,container=_ref.container;return vis&&vis.initialized&&container&&(!vis.type.requiresSearch||visData)}).debounceTime(100).switchMap(function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref2){var status,renderPromise,vis=_ref2.vis,visData=_ref2.visData,container=_ref2.container;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vis.size=[container.width(),container.height()],status=(0,_update_status.getUpdateStatus)(vis.type.requiresUpdateStatus,$scope),renderPromise=visualization.render(visData,status),$scope.$apply(),_context.abrupt("return",renderPromise);case 5:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()),requestError$=render$.filter(function(_ref4){return _ref4.vis.requestError}),renderSubscription=_Rx.Observable.merge(success$,requestError$).subscribe(function(){(0,_render_complete.dispatchRenderComplete)($el[0])});if($scope.$on("$destroy",function(){visualization.destroy(),renderSubscription.unsubscribe()}),!1!==$scope.listenOnChange){var onChangeListener=function(){$scope.$emit("render")};$scope.$watchGroup(["visData","vis.params"],onChangeListener);var resizeChecker=new _resize_checker.ResizeChecker($el);resizeChecker.on("resize",function(){$scope.$emit("render")}),$scope.uiState.on("change",onChangeListener),$scope.$on("$destroy",function(){resizeChecker.destroy(),$scope.uiState.off("change",onChangeListener)})}}}})},function(module,exports){module.exports='<div\n  class="visualize-show-spy"\n  ng-if="modes.length > 0"\n>\n  <button\n    data-test-subj="spyToggleButton"\n    ng-click="toggleDisplay()"\n    class="kuiCollapseButton visualize-show-spy-tab"\n    type="button"\n  >\n    <span\n      class="kuiIcon"\n      ng-class="shouldShowSpyPanel() ? \'fa-chevron-circle-down\' : \'fa-chevron-circle-up\'"\n    ></span>\n  </button>\n</div>\n\n<div\n  data-test-subj="spyContainer"\n  class="visualize-spy-container"\n  ng-class="{ \'only\': maximizedSpy || forceMaximized }"\n  ng-show="shouldShowSpyPanel()"\n>\n  <div class="visualize-spy__tab-container euiTabs euiTabs--small">\n    <div role="tablist" class="visualize-spy__tabs" data-test-subj="spyModTabs">\n      <button\n        role="tab"\n        class="euiTab"\n        ng-repeat="mode in modes"\n        aria-selected="{{mode.name === currentMode}}"\n        ng-class="{\'euiTab-isSelected\': mode.name === currentMode}"\n        data-test-subj="spyModeSelect-{{::mode.name}}"\n        ng-click="setSpyMode(mode.name)"\n      >\n        <span class="euiTab__content">\n          {{::mode.display}}\n        </span>\n      </button>\n    </div>\n\n    <button\n      data-test-subj="toggleSpyFullscreen"\n      aria-label="Toggle spy panel fullscreen"\n      class="kuiButton kuiButton--hollow"\n      ng-hide="forceMaximized"\n      ng-click="toggleMaximize()"\n    >\n      <span\n        class="kuiIcon"\n        ng-class="currentMode.fill ? \'fa-compress\' : \'fa-expand\'"\n      ></span>\n    </button>\n  </div>\n\n  <div\n    data-test-subj="spyContentContainer"\n    data-spy-content-container\n    class="kuiVerticalRhythm visualize-spy__content-container"\n  ></div>\n</div>\n'},function(module,exports){module.exports='<div ng-if="showNoResultsMessage()" class="text-center visualize-error visualize-chart">\n  <div class="item top"></div>\n  <div class="item">\n    <h2 aria-hidden="true"><i aria-hidden="true" class="fa fa-meh-o"></i></h2>\n    <h4>No results found</h4>\n  </div>\n  <div class="item bottom"></div>\n</div>\n<div\n  ng-hide="showNoResultsMessage()"\n  class="vis-container"\n  tabindex="0"\n>\n  <span ng-if="!vis.type.isAccessible" class="kuiScreenReaderOnly">\n    {{vis.type.title}} visualization, not yet accessible\n  </span>\n  <div\n    aria-hidden="{{!vis.type.isAccessible}}"\n    ng-style="loadingStyle"\n    ng-class="{ loading: vis.type.requiresSearch && searchSource.activeFetchCount > 0 }"\n    class="visualize-chart"></div>\n</div>\n<visualize-spy\n  ng-if="showSpyPanel"\n  vis="vis"\n  vis-element="visElement"\n  search-source="searchSource"\n  ui-state="uiState"\n></visualize-spy>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1354),__webpack_require__(1355),__webpack_require__(1219);var _modules=__webpack_require__(2);__webpack_require__(294);var _vis_editor_types=__webpack_require__(1356),_update_status=__webpack_require__(265);_modules.uiModules.get("kibana/directive",["ngSanitize"]).directive("visualizationEditor",function(Private,$timeout){var editorTypes=Private(_vis_editor_types.VisEditorTypesRegistryProvider);return{restrict:"E",scope:{showSpyPanel:"=",vis:"=",visData:"=",uiState:"=?",searchSource:"="},link:function($scope,element){var vis=$scope.vis,Editor="function"==typeof vis.type.editor?vis.type.editor:editorTypes.find(function(editor){return editor.key===vis.type.editor}),editor=new Editor(element[0],vis,$scope.showSpyPanel);$scope.renderFunction=function(){$scope.vis&&editor.render($scope.visData,$scope.searchSource,(0,_update_status.getUpdateStatus)(Editor.requiresUpdateStatus,$scope),$scope.uiState)},$scope.$on("render",function(event){event.preventDefault(),$timeout(function(){$scope.renderFunction()})}),$scope.$on("$destroy",function(){editor.destroy()}),vis.initialized||$timeout(function(){$scope.renderFunction()})}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _elasticsearch_error=__webpack_require__(1357);Object.defineProperty(exports,"ElasticsearchError",{enumerable:!0,get:function(){return _elasticsearch_error.ElasticsearchError}});var _is_term_size_zero_error=__webpack_require__(4386);Object.defineProperty(exports,"isTermSizeZeroError",{enumerable:!0,get:function(){return _is_term_size_zero_error.isTermSizeZeroError}})},function(module,exports,__webpack_require__){"use strict";function isTermSizeZeroError(error){return _elasticsearch_error.ElasticsearchError.hasRootCause(error,"size must be positive, got 0")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTermSizeZeroError=isTermSizeZeroError;var _elasticsearch_error=__webpack_require__(1357)},function(module,exports){module.exports='<visualize\n  saved-obj="savedObj"\n  app-state="appState"\n  ui-state="uiState"\n  time-range="timeRange"\n  show-spy-panel="showSpyPanel"\n  render-complete\n></visualize>\n'},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmbeddedVisualizeHandler=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_events=__webpack_require__(126),RENDER_COMPLETE_EVENT="render_complete";exports.EmbeddedVisualizeHandler=function(){function EmbeddedVisualizeHandler(element,scope){var _this=this;_classCallCheck(this,EmbeddedVisualizeHandler),this._element=element,this._scope=scope,this._listeners=new _events.EventEmitter,this._firstRenderComplete=new Promise(function(resolve){_this._listeners.once(RENDER_COMPLETE_EVENT,resolve)}),this._element.on("renderComplete",function(){_this._listeners.emit(RENDER_COMPLETE_EVENT)})}return _createClass(EmbeddedVisualizeHandler,[{key:"destroy",value:function(){this._scope.$destroy()}},{key:"getElement",value:function(){return this._element}},{key:"whenFirstRenderComplete",value:function(){return this._firstRenderComplete}},{key:"addRenderCompleteListener",value:function(listener){this._listeners.addListener(RENDER_COMPLETE_EVENT,listener)}},{key:"removeRenderCompleteListener",value:function(listener){this._listeners.removeListener(RENDER_COMPLETE_EVENT,listener)}}]),EmbeddedVisualizeHandler}()},function(module,exports){module.exports='<div class="disabledLabVisualization">\n  <div class="kuiVerticalRhythm disabledLabVisualization__icon kuiIcon fa-flask" aria-hidden="true"></div>\n  <div class="kuiVerticalRhythm"><em class="disabledLabVisualization__title"></em> is a lab visualization.</div>\n  <div class="kuiVerticalRhythm">Please turn on lab-mode in the advanced settings to see lab visualizations.</div>\n</div>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function MarkdownVisWrapper(props){return _react2.default.createElement(MarkdownVisComponent,{fontSize:props.vis.params.fontSize,markdown:props.vis.params.markdown,openLinksInNewTab:props.vis.params.openLinksInNewTab,renderComplete:props.renderComplete})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.MarkdownVisWrapper=MarkdownVisWrapper;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_markdown=__webpack_require__(1359),MarkdownVisComponent=function(_Component){function MarkdownVisComponent(){return _classCallCheck(this,MarkdownVisComponent),_possibleConstructorReturn(this,(MarkdownVisComponent.__proto__||Object.getPrototypeOf(MarkdownVisComponent)).apply(this,arguments))}return _inherits(MarkdownVisComponent,_Component),_createClass(MarkdownVisComponent,[{key:"shouldComponentUpdate",value:function(props){var shouldUpdate=props.fontSize!==this.props.fontSize||props.openLinksInNewTab!==this.props.openLinksInNewTab||props.markdown!==this.props.markdown;return shouldUpdate||this.props.renderComplete(),shouldUpdate}},{key:"componentDidMount",value:function(){this.props.renderComplete()}},{key:"componentDidUpdate",value:function(){this.props.renderComplete()}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"markdown-vis"},_react2.default.createElement(_markdown.Markdown,{"data-test-subj":"markdownBody",style:{fontSize:this.props.fontSize+"pt"},markdown:this.props.markdown,openLinksInNewTab:this.props.openLinksInNewTab}))}}]),MarkdownVisComponent}(_react.Component)},function(module,exports){},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="markdown-vis-options form-group">\n    <div>\n      <label for="markdownVisInput">Markdown</label>\n      <small class="pull-right"><a target="_window" href="https://help.github.com/articles/github-flavored-markdown/">Help <i aria-hidden="true" class="fa fa-link"></i></a></small>\n    </div>\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="markdownVisFontSize">\n        Font Size (<span ng-bind="vis.params.fontSize"></span>pt)\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input id="markdownVisFontSize" type="range" ng-model="vis.params.fontSize" class="form-control" min="8" max="36" />\n      </div>\n    </div>\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="markdownVisOpenLinksInNewTab">\n        Open links in new tab\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input\n          id="markdownVisOpenLinksInNewTab"\n          type="checkbox"\n          ng-model="vis.params.openLinksInNewTab"\n          class="kuiCheckBox"\n        />\n      </div>\n    </div>\n    <textarea\n      id="markdownVisInput"\n      ng-model="vis.params.markdown"\n      class="form-control"\n      rows="20"\n      data-test-subj="markdownTextarea"\n    ></textarea>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"86581dc57044730966dee64f92133ee2.svg"},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _modules=__webpack_require__(2),_metric_vis_params=__webpack_require__(4397),_metric_vis_params2=_interopRequireDefault(_metric_vis_params),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);_modules.uiModules.get("kibana").directive("metricVisParams",function(){return{restrict:"E",template:_metric_vis_params2.default,replace:!0,link:function($scope){$scope.collections=$scope.vis.type.editorConfig.collections,$scope.showColorRange=!0,$scope.$watch("vis.params.metric.metricColorMode",function(newValue){switch(newValue){case"Labels":$scope.vis.params.metric.style.labelColor=!0,$scope.vis.params.metric.style.bgColor=!1;break;case"Background":$scope.vis.params.metric.style.labelColor=!1,$scope.vis.params.metric.style.bgColor=!0;break;case"None":$scope.vis.params.metric.style.labelColor=!1,$scope.vis.params.metric.style.bgColor=!1}}),$scope.resetColors=function(){$scope.uiState.set("vis.colors",null),$scope.customColors=!1},$scope.getGreaterThan=function(index){return 0===index?0:$scope.vis.params.metric.colorsRange[index-1].to},$scope.addRange=function(){var previousRange=_lodash2.default.last($scope.vis.params.metric.colorsRange),from=previousRange?previousRange.to:0,to=previousRange?from+(previousRange.to-previousRange.from):100;$scope.vis.params.metric.colorsRange.push({from:from,to:to})},$scope.removeRange=function(index){$scope.vis.params.metric.colorsRange.splice(index,1)},$scope.getColor=function(index){var defaultColors=this.uiState.get("vis.defaultColors"),overwriteColors=this.uiState.get("vis.colors"),colors=defaultColors?_lodash2.default.defaults({},overwriteColors,defaultColors):overwriteColors;return colors?Object.values(colors)[index]:"transparent"},$scope.uiState.on("colorChanged",function(){$scope.customColors=!0})}}})},function(module,exports){module.exports='<div class="kuiSideBarSection">\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="percentageMode">\n      Percentage Mode\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="percentageMode" type="checkbox" ng-model="vis.params.metric.percentageMode">\n    </div>\n  </div>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="showLabels">\n      Show Labels\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input class="kuiCheckBox" id="showLabels" type="checkbox" ng-model="vis.params.metric.labels.show">\n    </div>\n  </div>\n\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showColorRange}}"\n        aria-controls="metricOptionsRanges"\n        aria-label="Toggle range options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showColorRange = !showColorRange"\n      >\n      <span\n        aria-hidden="true"\n        ng-class="{ \'fa-caret-down\': showColorRange, \'fa-caret-right\': !showColorRange }"\n        class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n      ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n        Ranges\n      </span>\n      </div>\n    </div>\n\n    <div id="metricOptionsRanges" ng-show="showColorRange" class="kuiSideBarCollapsibleSection">\n      <div class="kuiSideBarSection">\n        <table class="vis-editor-agg-editor-ranges form-group" ng-show="vis.params.metric.colorsRange.length">\n          <tr>\n            <th>\n              <label id="metricOptionsCustomRangeFrom">From</label>\n            </th>\n            <th colspan="2">\n              <label id="metricOptionsCustomRangeTo">To</label>\n            </th>\n          </tr>\n\n          <tr ng-repeat="range in vis.params.metric.colorsRange track by $index">\n            <td>\n              <input\n                aria-labelledby="metricOptionsCustomRangeFrom"\n                ng-model="range.from"\n                type="number"\n                class="form-control"\n                name="range.from"\n                greater-or-equal-than="{{getGreaterThan($index)}}"\n                required\n                step="any" />\n            </td>\n            <td>\n              <input\n                aria-labelledby="metricOptionsCustomRangeTo"\n                ng-model="range.to"\n                type="number"\n                class="form-control"\n                name="range.to"\n                greater-or-equal-than="{{range.from}}"\n                required\n                step="any" />\n            </td>\n            <td>\n              <button\n                type="button"\n                ng-click="removeRange($index)"\n                ng-show="vis.params.metric.colorsRange.length > 1"\n                class="kuiButton kuiButton--danger kuiButton--small">\n                <i class="fa fa-times"></i>\n              </button>\n            </td>\n          </tr>\n        </table>\n\n        <div class="hintbox" ng-show="!vis.params.metric.colorsRange.length">\n          <p>\n            <i class="fa fa-danger text-danger"></i>\n            <strong>Required:</strong> You must specify at least one range.\n          </p>\n        </div>\n\n        <div\n          ng-click="addRange()"\n          class="kuiButton kuiButton--primary kuiButton--fullWidth">\n          Add Range\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-show="vis.params.metric.colorsRange.length > 1">\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showColorOptions}}"\n        aria-controls="metricOptionsColors"\n        aria-label="Toggle color options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showColorOptions = !showColorOptions"\n      >\n      <span\n        aria-hidden="true"\n        ng-class="{\n        \'fa-caret-down\': showColorOptions,\n        \'fa-caret-right\': !showColorOptions\n        }"\n        class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n      ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n        Color Options\n      </span>\n      </div>\n    </div>\n    <div id="metricOptionsColors" ng-if="showColorOptions" class="kuiSideBarCollapsibleSection">\n      <div class="kuiSideBarSection">\n        <div class="kuiSideBarFormRow" ng-show="vis.params.metric.colorsRange.length > 1">\n          <label class="kuiSideBarFormRow__label" for="metricColorMode">\n            Use Color For\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="metricColorMode"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="vis.params.metric.metricColorMode"\n              ng-options="mode for mode in collections.metricColorMode"\n            ></select>\n          </div>\n        </div>\n        <div class="kuiSideBarFormRow" ng-show="vis.params.metric.metricColorMode !== \'None\'">\n          <label class="kuiSideBarFormRow__label" for="colorSchema">\n            Color Schema\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <select\n              id="colorSchema"\n              class="kuiSelect kuiSideBarSelect"\n              ng-model="vis.params.metric.colorSchema"\n              ng-options="mode for mode in collections.colorSchemas"\n            ></select>\n          </div>\n          <div class="text-info text-center" ng-show="customColors" ng-click="resetColors()">reset colors</div>\n        </div>\n\n        <div class="kuiSideBarFormRow"  ng-show="vis.params.metric.metricColorMode !== \'None\'">\n          <label class="kuiSideBarFormRow__label" for="invertColors">\n            Reverse Color Schema\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input class="kuiCheckBox" id="invertColors" type="checkbox" ng-model="vis.params.metric.invertColors">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div>\n    <div class="kuiSideBarCollapsibleTitle">\n      <div\n        kbn-accessible-click\n        aria-expanded="{{!!showStyle}}"\n        aria-controls="metricOptionsStyle"\n        aria-label="Toggle style options"\n        class="kuiSideBarCollapsibleTitle__label"\n        ng-click="showStyle = !showStyle"\n      >\n        <span\n          aria-hidden="true"\n          ng-class="{\n          \'fa-caret-down\': showStyle,\n          \'fa-caret-right\': !showStyle\n          }"\n          class="fa fa-caret-right kuiSideBarCollapsibleTitle__caret"\n        ></span>\n        <span class="kuiSideBarCollapsibleTitle__text">\n          Style\n        </span>\n      </div>\n    </div>\n    <div id="metricOptionsStyle" ng-if="showStyle" class="kuiSideBarCollapsibleSection">\n\n      <div class="kuiSideBarSection">\n\n        <div class="kuiSideBarFormRow">\n          <label class="kuiSideBarFormRow__label" for="metricFontSize">\n            Font Size (<span ng-bind="vis.params.metric.style.fontSize"></span>pt)\n          </label>\n          <div class="kuiSideBarFormRow__control">\n            <input id="metricFontSize" type="range" ng-model="vis.params.metric.style.fontSize" class="form-control" min="12" max="120" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetricVisComponent=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_heatmap_color=__webpack_require__(703),_eui=__webpack_require__(5),_metric_vis_value=__webpack_require__(4399);exports.MetricVisComponent=function(_Component){function MetricVisComponent(){var _ref,_temp,_this,_ret;_classCallCheck(this,MetricVisComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=MetricVisComponent.__proto__||Object.getPrototypeOf(MetricVisComponent)).call.apply(_ref,[this].concat(args))),_this._filterBucket=function(metric){if(metric.filterKey&&metric.bucketAgg){var filter=metric.bucketAgg.createFilter(metric.filterKey);_this.props.vis.API.queryFilter.addFilters(filter)}},_this._renderMetric=function(metric,index){return _react2.default.createElement(_metric_vis_value.MetricVisValue,{key:index,metric:metric,fontSize:_this.props.vis.params.metric.style.fontSize,onFilter:metric.filterKey?_this._filterBucket:null,showLabel:_this.props.vis.params.metric.labels.show})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(MetricVisComponent,_Component),_createClass(MetricVisComponent,[{key:"_getLabels",value:function(){var config=this.props.vis.params.metric,isPercentageMode=config.percentageMode,colorsRange=config.colorsRange,max=_lodash2.default.last(colorsRange).to,labels=[];return colorsRange.forEach(function(range){var from=isPercentageMode?Math.round(100*range.from/max):range.from,to=isPercentageMode?Math.round(100*range.to/max):range.to;labels.push(from+" - "+to)}),labels}},{key:"_getColors",value:function(){for(var config=this.props.vis.params.metric,invertColors=config.invertColors,colorSchema=config.colorSchema,colorsRange=config.colorsRange,labels=this._getLabels(),colors={},i=0;i<labels.length;i+=1){var divider=Math.max(colorsRange.length-1,1),val=invertColors?1-i/divider:i/divider;colors[labels[i]]=(0,_heatmap_color.getHeatmapColors)(val,colorSchema)}return colors}},{key:"_getBucket",value:function(val){var config=this.props.vis.params.metric,bucket=_lodash2.default.findIndex(config.colorsRange,function(range){return range.from<=val&&range.to>val});return-1===bucket&&(bucket=val<config.colorsRange[0].from?0:config.colorsRange.length-1),bucket}},{key:"_getColor",value:function(val,labels,colors){return colors[labels[this._getBucket(val)]]}},{key:"_needsLightText",value:function(bgColor){var color=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(bgColor);return!!color&&(0,_eui.isColorDark)(parseInt(color[1]),parseInt(color[2]),parseInt(color[3]))}},{key:"_processTableGroups",value:function(tableGroups){var _this2=this,config=this.props.vis.params.metric,isPercentageMode=config.percentageMode,min=config.colorsRange[0].from,max=_lodash2.default.last(config.colorsRange).to,colors=this._getColors(),labels=this._getLabels(),metrics=[];return tableGroups.tables.forEach(function(table){var bucketAgg=void 0,rowHeaderIndex=void 0;table.columns.forEach(function(column,i){var aggConfig=column.aggConfig;if(aggConfig&&"buckets"===aggConfig.schema.group)return bucketAgg=aggConfig,void(rowHeaderIndex=i);table.rows.forEach(function(row){var title=column.title,value=row[i],color=_this2._getColor(value,labels,colors);if(isPercentageMode){value=Math.round(100*(value-min)/(max-min))+"%"}if(aggConfig)if(isPercentageMode||(value=aggConfig.fieldFormatter("html")(value)),bucketAgg){var bucketValue=bucketAgg.fieldFormatter("text")(row[0]);title=bucketValue+" - "+aggConfig.makeLabel()}else title=aggConfig.makeLabel();var shouldColor=config.colorsRange.length>1;metrics.push({label:title,value:value,color:shouldColor&&config.style.labelColor?color:null,bgColor:shouldColor&&config.style.bgColor?color:null,lightText:shouldColor&&config.style.bgColor&&_this2._needsLightText(color),filterKey:void 0!==rowHeaderIndex?row[rowHeaderIndex]:null,bucketAgg:bucketAgg})})})}),metrics}},{key:"render",value:function(){var metricsHtml=void 0;if(this.props.visData){metricsHtml=this._processTableGroups(this.props.visData).map(this._renderMetric)}return _react2.default.createElement("div",{className:"metric-vis"},metricsHtml)}},{key:"componentDidMount",value:function(){this.props.renderComplete()}},{key:"componentDidUpdate",value:function(){this.props.renderComplete()}}]),MetricVisComponent}(_react.Component)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetricVisValue=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_eui=__webpack_require__(5),MetricVisValue=function(_Component){function MetricVisValue(){var _ref,_temp,_this,_ret;_classCallCheck(this,MetricVisValue);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=MetricVisValue.__proto__||Object.getPrototypeOf(MetricVisValue)).call.apply(_ref,[this].concat(args))),_this.onClick=function(){_this.props.onFilter(_this.props.metric)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(MetricVisValue,_Component),_createClass(MetricVisValue,[{key:"render",value:function(){var _props=this.props,fontSize=_props.fontSize,metric=_props.metric,onFilter=_props.onFilter,showLabel=_props.showLabel,hasFilter=!!onFilter,metricValueStyle={fontSize:fontSize+"pt",color:metric.color},containerClassName=(0,_classnames2.default)("metric-container",{"metric-container--light":metric.lightText,"metric-container--filterable":hasFilter}),metricComponent=_react2.default.createElement("div",{className:containerClassName,style:{backgroundColor:metric.bgColor},onClick:hasFilter?this.onClick:null,tabIndex:hasFilter?0:null,role:hasFilter?"button":null},_react2.default.createElement("div",{className:"metric-value",style:metricValueStyle,dangerouslySetInnerHTML:{__html:metric.value}}),showLabel&&_react2.default.createElement("div",null,metric.label));return this.onClick?_react2.default.createElement(_eui.EuiKeyboardAccessible,null,metricComponent):metricComponent}}]),MetricVisValue}(_react.Component);MetricVisValue.propTypes={fontSize:_propTypes2.default.number.isRequired,metric:_propTypes2.default.object.isRequired,onFilter:_propTypes2.default.func,showLabel:_propTypes2.default.bool},exports.MetricVisValue=MetricVisValue},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"71676fac241b6e6e51614074cf72152c.svg"},function(module,exports){},function(module,exports){},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"a3b2c394347b7dba49ca15464bb9e234.svg"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetricsRequestHandlerProvider=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_validate_interval=__webpack_require__(4405),_dashboard_context=__webpack_require__(704),_timezone=__webpack_require__(695),MetricsRequestHandlerProvider=function(Private,Notifier,config,timefilter,$http){var dashboardContext=Private(_dashboard_context.dashboardContextProvider),notify=new Notifier({location:"Metrics"});return{name:"metrics",handler:function(vis,_ref){var uiState=_ref.uiState,timeRange=_ref.timeRange,timezone=Private(_timezone.timezoneProvider)();return new Promise(function(resolve){var panel=vis.params,uiStateObj=uiState.get(panel.type,{}),parsedTimeRange=timefilter.calculateBounds(timeRange),scaledDataFormat=config.get("dateFormat:scaled"),dateFormat=config.get("dateFormat");if(panel&&panel.id){var params={timerange:_extends({timezone:timezone},parsedTimeRange),filters:[dashboardContext()],panels:[panel],state:uiStateObj};try{var maxBuckets=config.get("metrics:max_buckets");(0,_validate_interval.validateInterval)(parsedTimeRange,panel,maxBuckets);return $http.post("../api/metrics/vis/data",params).then(function(resp){return _extends({dateFormat:dateFormat,scaledDataFormat:scaledDataFormat,timezone:timezone},resp.data)}).catch(function(resp){throw resp.data}).then(resolve).catch(function(resp){resolve({});var err=new Error(resp.message);err.stack=resp.stack,notify.error(err)})}catch(e){return notify.error(e),resolve()}}})}}};exports.MetricsRequestHandlerProvider=MetricsRequestHandlerProvider},function(module,exports,__webpack_require__){"use strict";function validateInterval(bounds,panel,maxBuckets){var interval=panel.interval,min=bounds.min,max=bounds.max;if(interval&&"auto"!==interval){if(!interval.match(_interval_regexp.GTE_INTERVAL_RE)){var duration=(0,_parse_interval.parseInterval)(interval);if(duration){var span=max.valueOf()-min.valueOf(),buckets=Math.floor(span/duration.asMilliseconds());if(buckets>maxBuckets)throw new Error("Max buckets exceeded: "+buckets+" is greater than "+maxBuckets+", try a larger time interval in the panel options.")}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateInterval=validateInterval;var _parse_interval=__webpack_require__(107),_interval_regexp=__webpack_require__(4406)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INTERVAL_STRING_RE=exports.GTE_INTERVAL_RE=void 0;var _datemath=__webpack_require__(81),_datemath2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_datemath);exports.GTE_INTERVAL_RE=new RegExp("^>=([\\d\\.]*\\s*("+_datemath2.default.units.join("|")+"))$"),exports.INTERVAL_STRING_RE=new RegExp("^([0-9\\.]*)\\s*("+_datemath2.default.units.join("|")+")$")},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function ReactEditorControllerProvider(Private,localStorage,config){var fetchFields=Private(_fetch_fields.FetchFieldsProvider),savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return{name:"react_editor",handler:function(){function ReactEditorController(el,vis){_classCallCheck(this,ReactEditorController),this.el=el,this.vis=vis,this.vis.fields={};var autoApply=localStorage.get(AUTO_APPLY_KEY);vis.autoApply=null==autoApply||autoApply,vis.initialized=!0}return _createClass(ReactEditorController,[{key:"render",value:function(visData){var _this=this;return this.visData=visData,new Promise(function(resolve){Promise.resolve().then(function(){if(""===_this.vis.params.index_pattern)return savedObjectsClient.get("index-pattern",config.get("defaultIndex")).then(function(indexPattern){_this.vis.params.index_pattern=indexPattern.attributes.title})}).then(function(){var indexPatterns=(0,_extract_index_patterns.extractIndexPatterns)(_this.vis);fetchFields(indexPatterns).then(function(fields){_this.vis.fields=_extends({},fields,_this.vis.fields);var Component=_this.vis.type.editorConfig.component;(0,_reactDom.render)(_react2.default.createElement(Component,{config:config,vis:_this.vis,visData:visData,renderComplete:resolve}),_this.el)})})})}},{key:"resize",value:function(){this.visData&&this.render(this.visData)}},{key:"destroy",value:function(){(0,_reactDom.unmountComponentAtNode)(this.el)}}]),ReactEditorController}()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReactEditorControllerProvider=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(17),_saved_objects=__webpack_require__(67),_fetch_fields=__webpack_require__(4408),_extract_index_patterns=__webpack_require__(4409),AUTO_APPLY_KEY="metrics_autoApply";exports.ReactEditorControllerProvider=ReactEditorControllerProvider},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var FetchFieldsProvider=function(Notifier,$http){var notify=new Notifier({location:"Metrics"});return function(){var indexPatterns=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["*"];return Array.isArray(indexPatterns)||(indexPatterns=[indexPatterns]),new Promise(function(resolve,reject){var fields={};Promise.all(indexPatterns.map(function(pattern){return $http.get("../api/metrics/fields?index="+pattern).then(function(resp){return resp.data}).catch(function(resp){throw resp.data}).then(function(resp){resp.length&&pattern&&(fields[pattern]=resp)}).catch(function(resp){var err=new Error(resp.message);err.stack=resp.stack,notify.error(err),reject(err)})})).then(function(){resolve(fields)})})}};exports.FetchFieldsProvider=FetchFieldsProvider},function(module,exports,__webpack_require__){"use strict";function extractIndexPatterns(vis){var patternsToFetch=[];return vis.fields[vis.params.index_pattern]||patternsToFetch.push(vis.params.index_pattern),vis.params.series.forEach(function(series){var indexPattern=series.series_index_pattern;series.override_index_pattern&&!vis.fields[indexPattern]&&patternsToFetch.push(indexPattern)}),vis.params.annotations&&vis.params.annotations.forEach(function(item){var indexPattern=item.index_pattern;indexPattern&&!vis.fields[indexPattern]&&patternsToFetch.push(indexPattern)}),(0,_lodash.uniq)(patternsToFetch)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractIndexPatterns=extractIndexPatterns;var _lodash=__webpack_require__(1)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eui=__webpack_require__(5),_visualization=__webpack_require__(1363),_visualization2=_interopRequireDefault(_visualization),_reactToggle=__webpack_require__(4528),_reactToggle2=_interopRequireDefault(_reactToggle);__webpack_require__(4532);var MIN_CHART_HEIGHT=250,VisEditorVisualization=function(_Component){function VisEditorVisualization(props){_classCallCheck(this,VisEditorVisualization);var _this=_possibleConstructorReturn(this,(VisEditorVisualization.__proto__||Object.getPrototypeOf(VisEditorVisualization)).call(this,props));return _this.state={height:MIN_CHART_HEIGHT,dragging:!1},_this.handleMouseUp=_this.handleMouseUp.bind(_this),_this.handleMouseDown=_this.handleMouseDown.bind(_this),_this.onSizeHandleKeyDown=_this.onSizeHandleKeyDown.bind(_this),_this}return _inherits(VisEditorVisualization,_Component),_createClass(VisEditorVisualization,[{key:"handleMouseDown",value:function(){this.setState({dragging:!0})}},{key:"handleMouseUp",value:function(){this.setState({dragging:!1})}},{key:"componentWillMount",value:function(){var _this2=this;this.handleMouseMove=function(event){_this2.state.dragging&&_this2.setState(function(prevState){return{height:Math.max(MIN_CHART_HEIGHT,prevState.height+event.movementY)}})},window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"onSizeHandleKeyDown",value:function(ev){var keyCode=ev.keyCode;keyCode!==_eui.keyCodes.UP&&keyCode!==_eui.keyCodes.DOWN||(ev.preventDefault(),this.setState(function(prevState){var newHeight=prevState.height+(keyCode===_eui.keyCodes.UP?-15:15);return{height:Math.max(MIN_CHART_HEIGHT,newHeight)}}))}},{key:"render",value:function(){var _props=this.props,dirty=_props.dirty,autoApply=_props.autoApply,style={height:this.state.height};this.state.dragging&&(style.userSelect="none");var applyButtonClassName=dirty?"thor__button-solid-default":"thor__button-outlined-grayLight",applyMessage="The latest changes have been applied.";dirty&&(applyMessage="The changes to this visualization have not been applied."),autoApply&&(applyMessage="The changes will be automatically applied.");var applyButton=_react2.default.createElement("div",{className:"vis_editor__dirty_controls"},_react2.default.createElement("label",{className:"vis_editor__dirty_controls-toggle-label",id:"tsvbAutoApply",htmlFor:"tsvbAutoApplyInput"},"Auto Apply"),_react2.default.createElement("div",{className:"vis_editor__dirty_controls-toggle"},_react2.default.createElement(_reactToggle2.default,{id:"tsvbAutoApplyInput",defaultChecked:autoApply,icons:!1,onChange:this.props.onToggleAutoApply})),_react2.default.createElement("div",{className:"vis_editor__dirty_controls-button"},_react2.default.createElement("button",{disabled:!dirty,onClick:this.props.onCommit,className:applyButtonClassName+" md"},_react2.default.createElement("i",{className:"fa fa-play"})," Apply Changes")),_react2.default.createElement("div",{className:"vis_editor__dirty_controls-message"+(dirty?"-dirty":"")},applyMessage));return _react2.default.createElement("div",null,_react2.default.createElement("div",{style:style,className:"vis_editor__visualization","data-shared-items-container":!0,"data-shared-item":!0,"data-title":this.props.title,"data-description":this.props.description,"data-render-complete":"disabled"},_react2.default.createElement(_visualization2.default,{backgroundColor:"#FFF",className:"dashboard__visualization",dateFormat:this.props.dateFormat,model:this.props.model,onBrush:this.props.onBrush,onChange:this.handleChange,onUiState:this.props.onUiState,uiState:this.props.uiState,visData:this.props.visData})),_react2.default.createElement("div",{className:"vis-editor-hide-for-reporting"},applyButton,_react2.default.createElement("button",{className:"vis_editor__visualization-draghandle",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyDown:this.onSizeHandleKeyDown,"aria-label":"Press up/down to adjust the chart size"},_react2.default.createElement("i",{className:"fa fa-ellipsis-h"}))))}}]),VisEditorVisualization}(_react.Component);VisEditorVisualization.propTypes={model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,onCommit:_propTypes2.default.func,onUiState:_propTypes2.default.func,uiState:_propTypes2.default.object,onToggleAutoApply:_propTypes2.default.func,visData:_propTypes2.default.object,dirty:_propTypes2.default.bool,autoApply:_propTypes2.default.bool,dateFormat:_propTypes2.default.string},exports.default=VisEditorVisualization,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function hasSeperateAxis(row){return row.seperate_axis}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_timeseries=__webpack_require__(4412),_timeseries2=_interopRequireDefault(_timeseries),_color=__webpack_require__(398),_color2=_interopRequireDefault(_color),_replace_vars=__webpack_require__(521),_replace_vars2=_interopRequireDefault(_replace_vars),_get_axis_label_string=__webpack_require__(4434),_create_xaxis_formatter=__webpack_require__(4435),TimeseriesVisualization=function(_Component){function TimeseriesVisualization(props){_classCallCheck(this,TimeseriesVisualization);var _this=_possibleConstructorReturn(this,(TimeseriesVisualization.__proto__||Object.getPrototypeOf(TimeseriesVisualization)).call(this,props));return _this.getInterval=function(){var _this$props=_this.props,visData=_this$props.visData,model=_this$props.model;return _lodash2.default.get(visData,model.id+".series",[]).reduce(function(currentInterval,item){if(item.data.length>1){var seriesInterval=item.data[1][0]-item.data[0][0];if(!currentInterval||seriesInterval<currentInterval)return seriesInterval}return currentInterval},0)},_this.xaxisFormatter=function(val){var _this$props$visData=_this.props.visData,scaledDataFormat=_this$props$visData.scaledDataFormat,dateFormat=_this$props$visData.dateFormat;return scaledDataFormat&&dateFormat?(0,_create_xaxis_formatter.createXaxisFormatter)(_this.getInterval(),scaledDataFormat,dateFormat)(val):val},_this}return _inherits(TimeseriesVisualization,_Component),_createClass(TimeseriesVisualization,[{key:"render",value:function(){var _this2=this,_props=this.props,backgroundColor=_props.backgroundColor,model=_props.model,visData=_props.visData,series=_lodash2.default.get(visData,model.id+".series",[]),annotations=void 0;model.annotations&&Array.isArray(model.annotations)&&(annotations=model.annotations.map(function(annotation){var data=_lodash2.default.get(visData,model.id+".annotations."+annotation.id,[]).map(function(item){return[item.key,item.docs]});return{id:annotation.id,color:annotation.color,icon:annotation.icon,series:data.map(function(s){return[s[0],s[1].map(function(doc){return(0,_replace_vars2.default)(annotation.template,null,doc)})]})}}));var seriesModel=model.series.map(function(s){return _lodash2.default.cloneDeep(s)}),firstSeries=seriesModel.find(function(s){return s.formatter&&!s.seperate_axis}),formatter=(0,_tick_formatter2.default)(_lodash2.default.get(firstSeries,"formatter"),_lodash2.default.get(firstSeries,"value_template")),mainAxis={position:model.axis_position,tickFormatter:formatter,axisFormatter:_lodash2.default.get(firstSeries,"formatter","number"),axisFormatterTemplate:_lodash2.default.get(firstSeries,"value_template")};model.axis_min&&(mainAxis.min=model.axis_min),model.axis_max&&(mainAxis.max=model.axis_max);var yaxes=[mainAxis];seriesModel.forEach(function(s){if(series.filter(function(r){return _lodash2.default.startsWith(r.id,s.id)}).forEach(function(r){return r.tickFormatter=(0,_tick_formatter2.default)(s.formatter,s.value_template)}),s.hide_in_legend&&series.filter(function(r){return _lodash2.default.startsWith(r.id,s.id)}).forEach(function(r){return delete r.label}),"none"!==s.stacked&&series.filter(function(r){return _lodash2.default.startsWith(r.id,s.id)}).forEach(function(row){row.data=row.data.map(function(point){return point[1]?point:[point[0],0]})}),"percent"===s.stacked){s.seperate_axis=!0,s.axisFormatter="percent",s.axis_min=0,s.axis_max=1,s.axis_position=model.axis_position;var seriesData=series.filter(function(r){return _lodash2.default.startsWith(r.id,s.id)}),first=seriesData[0];first&&first.data.forEach(function(row,index){var rowSum=seriesData.reduce(function(acc,item){return item.data[index][1]+acc},0);seriesData.forEach(function(item){item.data[index][1]=rowSum&&item.data[index][1]/rowSum||0})})}});var interval=this.getInterval(),axisCount=1;seriesModel.some(hasSeperateAxis)&&seriesModel.forEach(function(row){if(row.seperate_axis){axisCount++;var _formatter=(0,_tick_formatter2.default)(row.formatter,row.value_template),yaxis={alignTicksWithAxis:1,position:row.axis_position,tickFormatter:_formatter,axisFormatter:row.axis_formatter,axisFormatterTemplate:row.value_template};null!=row.axis_min&&(yaxis.min=row.axis_min),null!=row.axis_max&&(yaxis.max=row.axis_max),yaxes.push(yaxis),series.filter(function(r){return _lodash2.default.startsWith(r.id,row.id)}).forEach(function(r){r.yaxis=axisCount})}});var params={dateFormat:this.props.dateFormat,crosshair:!0,tickFormatter:formatter,legendPosition:model.legend_position||"right",series:series,annotations:annotations,yaxes:yaxes,reversed:this.props.reversed,showGrid:Boolean(model.show_grid),legend:Boolean(model.show_legend),xAxisFormatter:this.xaxisFormatter,onBrush:function(ranges){_this2.props.onBrush&&_this2.props.onBrush(ranges)}};interval&&(params.xaxisLabel=(0,_get_axis_label_string.getAxisLabelString)(interval));var style={},panelBackgroundColor=model.background_color||backgroundColor;return panelBackgroundColor&&(style.backgroundColor=panelBackgroundColor,params.reversed=(0,_color2.default)(panelBackgroundColor||backgroundColor).luminosity()<.45),_react2.default.createElement("div",{className:"dashboard__visualization",style:style},_react2.default.createElement(_timeseries2.default,params))}}]),TimeseriesVisualization}(_react.Component);TimeseriesVisualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=TimeseriesVisualization,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_timeseries_chart=__webpack_require__(4413),_timeseries_chart2=_interopRequireDefault(_timeseries_chart),_legend=__webpack_require__(4426),_legend2=_interopRequireDefault(_legend),_events=__webpack_require__(1366),_events2=_interopRequireDefault(_events),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),Timeseries=function(_Component){function Timeseries(props){_classCallCheck(this,Timeseries);var _this=_possibleConstructorReturn(this,(Timeseries.__proto__||Object.getPrototypeOf(Timeseries)).call(this,props)),values=_this.getLastValues(props);return _this.state={showLegend:null==props.legend||props.legend,values:values||{},show:_lodash2.default.keys(values)||[],ignoreLegendUpdates:!1,ignoreVisabilityUpdates:!1},_this.toggleFilter=_this.toggleFilter.bind(_this),_this.handleHideClick=_this.handleHideClick.bind(_this),_this.plothover=_this.plothover.bind(_this),_this}return _inherits(Timeseries,_Component),_createClass(Timeseries,[{key:"filterLegend",value:function(id){if(!_lodash2.default.has(this.state.values,id))return[];var notAllShown=_lodash2.default.keys(this.state.values).length!==this.state.show.length,isCurrentlyShown=_lodash2.default.includes(this.state.show,id),show=[];return notAllShown&&isCurrentlyShown?this.setState({ignoreVisabilityUpdates:!1,show:Object.keys(this.state.values)}):(show.push(id),this.setState({ignoreVisabilityUpdates:!0,show:[id]})),show}},{key:"toggleFilter",value:function(event,id){var show=this.filterLegend(id);_lodash2.default.isFunction(this.props.onFilter)&&this.props.onFilter(show),_events2.default.trigger("toggleFilter",id,this)}},{key:"getLastValues",value:function(props){var values={};return props.series.forEach(function(row){row.id||(row.id=row.label),values[row.id]=(0,_get_last_value2.default)(row.data)}),values}},{key:"updateLegend",value:function(pos,item){var values={};pos?this.props.series.forEach(function(row){if(row.data&&Array.isArray(row.data))if(item&&row.data[item.dataIndex]&&row.data[item.dataIndex][0]===item.datapoint[0])values[row.id]=row.data[item.dataIndex][1];else{for(var closest=void 0,i=0;i<row.data.length&&(closest=i,!(row.data[i]&&pos.x<row.data[i][0]));i++);if(!row.data[closest])return values[row.id]=null;var _row$data$closest=_slicedToArray(row.data[closest],2),value=_row$data$closest[1];values[row.id]=null!=value&&value||null}}):_lodash2.default.assign(values,this.getLastValues(this.props)),this.setState({values:values})}},{key:"componentWillReceiveProps",value:function(props){if(props.legend!==this.props.legend&&this.setState({showLegend:props.legend}),!this.state.ignoreLegendUpdates){var values=this.getLastValues(props),currentKeys=_lodash2.default.keys(this.state.values),keys=_lodash2.default.keys(values),diff=_lodash2.default.difference(keys,currentKeys),nextState={values:values};diff.length&&!this.state.ignoreVisabilityUpdates&&(nextState.show=keys),this.setState(nextState)}}},{key:"plothover",value:function(event,pos,item){this.updateLegend(pos,item)}},{key:"handleHideClick",value:function(){this.setState({showLegend:!this.state.showLegend})}},{key:"render",value:function(){var className="rhythm_chart";this.props.reversed&&(className+=" reversed");var styles=(0,_reactcss2.default)({bottomLegend:{content:{flexDirection:"column"}}},{bottomLegend:"bottom"===this.props.legendPosition});return _react2.default.createElement("div",{className:className},_react2.default.createElement("div",{style:styles.content,className:"rhythm_chart__content"},_react2.default.createElement("div",{className:"rhythm_chart__visualization"},_react2.default.createElement(_timeseries_chart2.default,{dateFormat:this.props.dateFormat,crosshair:this.props.crosshair,onBrush:this.props.onBrush,plothover:this.plothover,reversed:this.props.reversed,series:this.props.series,annotations:this.props.annotations,show:this.state.show,showGrid:this.props.showGrid,tickFormatter:this.props.tickFormatter,options:this.props.options,xaxisLabel:this.props.xaxisLabel,yaxes:this.props.yaxes,xAxisFormatter:this.props.xAxisFormatter})),_react2.default.createElement(_legend2.default,{legendPosition:this.props.legendPosition,onClick:this.handleHideClick,onToggle:this.toggleFilter,series:this.props.series,showLegend:this.state.showLegend,seriesValues:this.state.values,seriesFilter:this.state.show,tickFormatter:this.props.tickFormatter})))}}]),Timeseries}(_react.Component);Timeseries.defaultProps={legned:!0,showGrid:!0},Timeseries.propTypes={legend:_propTypes2.default.bool,legendPosition:_propTypes2.default.string,onFilter:_propTypes2.default.func,series:_propTypes2.default.array,annotations:_propTypes2.default.array,reversed:_propTypes2.default.bool,options:_propTypes2.default.object,tickFormatter:_propTypes2.default.func,showGrid:_propTypes2.default.bool,xaxisLabel:_propTypes2.default.string,dateFormat:_propTypes2.default.string},exports.default=Timeseries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function scaleUp(value){return window.devicePixelRatio*value}function scaleDown(value){return value/window.devicePixelRatio}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.scaleUp=scaleUp,exports.scaleDown=scaleDown;var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_flot_chart=__webpack_require__(4414),_flot_chart2=_interopRequireDefault(_flot_chart),_annotation=__webpack_require__(4425),_annotation2=_interopRequireDefault(_annotation),TimeseriesChart=function(_Component){function TimeseriesChart(props){_classCallCheck(this,TimeseriesChart);var _this=_possibleConstructorReturn(this,(TimeseriesChart.__proto__||Object.getPrototypeOf(TimeseriesChart)).call(this,props));return _this.state={annotations:[],showTooltip:!1,mouseHoverTimer:!1},_this.handleMouseLeave=_this.handleMouseLeave.bind(_this),_this.handleMouseOver=_this.handleMouseOver.bind(_this),_this.renderAnnotations=_this.renderAnnotations.bind(_this),_this.handleDraw=_this.handleDraw.bind(_this),_this}return _inherits(TimeseriesChart,_Component),_createClass(TimeseriesChart,[{key:"calculateLeftRight",value:function(item,plot){var canvas=plot.getCanvas(),point=plot.pointOffset({x:item.datapoint[0],y:item.datapoint[1]}),edge=(scaleUp(point.left)+10)/canvas.width,right=void 0,left=void 0;return edge>.5?(right=scaleDown(canvas.width)-point.left,left=null):(right=null,left=point.left),[left,right]}},{key:"handleDraw",value:function(plot){if(plot&&this.props.annotations){var annotations=this.props.annotations.reduce(function(acc,anno){return acc.concat(anno.series.map(function(series){return{series:series,plot:plot,key:anno.id+"-"+series[0],icon:anno.icon,color:anno.color}}))},[]);this.setState({annotations:annotations})}}},{key:"handleMouseOver",value:function(e,pos,item,plot){if("number"==typeof this.state.mouseHoverTimer&&window.clearTimeout(this.state.mouseHoverTimer),item){var plotOffset=plot.getPlotOffset(),point=plot.pointOffset({x:item.datapoint[0],y:item.datapoint[1]}),_calculateLeftRight=this.calculateLeftRight(item,plot),_calculateLeftRight2=_slicedToArray(_calculateLeftRight,2),left=_calculateLeftRight2[0],right=_calculateLeftRight2[1],top=point.top;this.setState({showTooltip:!0,item:item,left:left,right:right,top:top+10,bottom:plotOffset.bottom})}}},{key:"handleMouseLeave",value:function(){var _this2=this;this.state.mouseHoverTimer=window.setTimeout(function(){_this2.setState({showTooltip:!1})},250)}},{key:"renderAnnotations",value:function(annotation){return _react2.default.createElement(_annotation2.default,{series:annotation.series,plot:annotation.plot,key:annotation.key,icon:annotation.icon,reversed:this.props.reversed,color:annotation.color})}},{key:"render",value:function(){var _this3=this,_state=this.state,item=_state.item,right=_state.right,top=_state.top,left=_state.left,series=this.props.series,tooltip=void 0,styles=(0,_reactcss2.default)({showTooltip:{tooltipContainer:{pointerEvents:"none",position:"absolute",top:top-28,left:left,right:right,zIndex:100,display:"flex",alignItems:"center",padding:"0 5px"},tooltip:{backgroundColor:this.props.reversed?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",color:this.props.reversed?"black":"white",fontSize:"12px",padding:"4px 8px",borderRadius:"4px"},rightCaret:{display:right?"block":"none",color:this.props.reversed?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)"},leftCaret:{display:left?"block":"none",color:this.props.reversed?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)"},date:{color:this.props.reversed?"rgba(0,0,0,0.7)":"rgba(255,255,255,0.7)",fontSize:"12px",lineHeight:"12px"},items:{display:"flex",alignItems:"center"},text:{whiteSpace:"nowrap",fontSize:"12px",lineHeight:"12px",marginRight:5},icon:{marginRight:5},value:{fontSize:"12px",flexShrink:0,lineHeight:"12px",marginLeft:5}},hideTooltip:{tooltipContainer:{display:"none"}}},{showTooltip:this.state.showTooltip,hideTooltip:!this.state.showTooltip});if(item){var metric=series.find(function(r){return r.id===item.series.id}),formatter=metric&&metric.tickFormatter||this.props.tickFormatter||function(v){return v},value=item.datapoint[2]?item.datapoint[1]-item.datapoint[2]:item.datapoint[1];tooltip=_react2.default.createElement("div",{style:styles.tooltipContainer},_react2.default.createElement("i",{className:"fa fa-caret-left",style:styles.leftCaret}),_react2.default.createElement("div",{style:styles.tooltip},_react2.default.createElement("div",{style:styles.items},_react2.default.createElement("div",{style:styles.icon},_react2.default.createElement("i",{className:"fa fa-circle",style:{color:item.series.color}})),_react2.default.createElement("div",{style:styles.text},item.series.label),_react2.default.createElement("div",{style:styles.value},formatter(value))),_react2.default.createElement("div",{style:styles.date},(0,_moment2.default)(item.datapoint[0]).format(this.props.dateFormat))),_react2.default.createElement("i",{className:"fa fa-caret-right",style:styles.rightCaret}))}var params={crosshair:this.props.crosshair,onPlotCreate:this.handlePlotCreate,onBrush:this.props.onBrush,onMouseLeave:this.handleMouseLeave,onMouseOver:this.handleMouseOver,onDraw:this.handleDraw,options:this.props.options,plothover:this.props.plothover,reversed:this.props.reversed,series:this.props.series,annotations:this.props.annotations,showGrid:this.props.showGrid,show:this.props.show,tickFormatter:this.props.tickFormatter,yaxes:this.props.yaxes,xAxisFormatter:this.props.xAxisFormatter},annotations=this.state.annotations.map(this.renderAnnotations),axisLabelClass="rhythm_chart__axis-label";return this.props.reversed&&(axisLabelClass+=" reversed"),_react2.default.createElement("div",{ref:function(el){return _this3.container=el},className:"rhythm_chart__timeseries-container"},tooltip,annotations,_react2.default.createElement(_flot_chart2.default,params),_react2.default.createElement("div",{className:axisLabelClass},this.props.xaxisLabel))}}]),TimeseriesChart}(_react.Component);TimeseriesChart.defaultProps={showGrid:!0,dateFormat:"ll LTS"},TimeseriesChart.propTypes={crosshair:_propTypes2.default.bool,onBrush:_propTypes2.default.func,options:_propTypes2.default.object,plothover:_propTypes2.default.func,reversed:_propTypes2.default.bool,series:_propTypes2.default.array,annotations:_propTypes2.default.array,show:_propTypes2.default.array,tickFormatter:_propTypes2.default.func,yaxes:_propTypes2.default.array,showGrid:_propTypes2.default.bool,xaxisLabel:_propTypes2.default.string,dateFormat:_propTypes2.default.string},exports.default=TimeseriesChart},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_reactDom=__webpack_require__(17),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_flotCharts=__webpack_require__(4415),_flotCharts2=_interopRequireDefault(_flotCharts),_events=__webpack_require__(1366),_events2=_interopRequireDefault(_events),_resize=__webpack_require__(4422),_resize2=_interopRequireDefault(_resize),_calculate_bar_width=__webpack_require__(4423),_calculate_bar_width2=_interopRequireDefault(_calculate_bar_width),_colors=__webpack_require__(4424),_colors2=_interopRequireDefault(_colors),FlotChart=function(_Component){function FlotChart(props){_classCallCheck(this,FlotChart);var _this=_possibleConstructorReturn(this,(FlotChart.__proto__||Object.getPrototypeOf(FlotChart)).call(this,props));return _this.handleResize=_this.handleResize.bind(_this),_this}return _inherits(FlotChart,_Component),_createClass(FlotChart,[{key:"shouldComponentUpdate",value:function(props){var _this2=this;if(!this.plot)return!0;if(props.reversed!==this.props.reversed)return!0;if(props.showGrid!==this.props.showGrid)return!0;if(props.yaxes&&this.props.yaxes){var valuesChanged=props.yaxes.some(function(axis,i){if(_this2.props.yaxes[i])return axis.position!==_this2.props.yaxes[i].position||axis.max!==_this2.props.yaxes[i].max||axis.min!==_this2.props.yaxes[i].min||axis.axisFormatter!==_this2.props.yaxes[i].axisFormatter||axis.axisFormatterTemplate!==_this2.props.yaxes[i].axisFormatterTemplate});if(props.yaxes.length!==this.props.yaxes.length||valuesChanged)return!0}return!1}},{key:"shutdownChart",value:function(){this.plot&&((0,_flotCharts2.default)(this.target).unbind("plothover",this.props.plothover),this.props.onMouseOver&&(0,_flotCharts2.default)(this.target).on("plothover",this.handleMouseOver),this.props.onMouseLeave&&(0,_flotCharts2.default)(this.target).on("mouseleave",this.handleMouseLeave),this.props.onBrush&&(0,_flotCharts2.default)(this.target).off("plotselected",this.brushChart),this.plot.shutdown(),this.props.crosshair&&((0,_flotCharts2.default)(this.target).off("plothover",this.handlePlotover),_events2.default.off("thorPlotover",this.handleThorPlotover),_events2.default.off("thorPlotleave",this.handleThorPlotleave)))}},{key:"componentWillUnmount",value:function(){this.shutdownChart()}},{key:"filterByShow",value:function(show){return show?function(metric){return show.some(function(id){return _lodash2.default.startsWith(id,metric.id)})}:function(){return!0}}},{key:"componentWillReceiveProps",value:function(newProps){if(this.plot){var series=newProps.series,options=this.plot.getOptions();_lodash2.default.set(options,"series.bars.barWidth",(0,_calculate_bar_width2.default)(series)),_lodash2.default.set(options,"xaxes[0].ticks",this.calcualteTicks()),this.plot.setData(this.calculateData(series,newProps.show)),this.plot.setupGrid(),this.plot.draw(),_lodash2.default.isEqual(this.props.series,series)||this.handleDraw(this.plot)}else this.renderChart()}},{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){this.shutdownChart(),this.renderChart()}},{key:"calculateData",value:function(data,show){return(0,_lodash2.default)(data).filter(this.filterByShow(show)).map(function(set){return _lodash2.default.isPlainObject(set)?set:{color:"#990000",data:set}}).reverse().value()}},{key:"handleDraw",value:function(plot){this.props.onDraw&&this.props.onDraw(plot)}},{key:"getOptions",value:function(props){var yaxes=props.yaxes||[{}],lineColor=props.reversed?_colors2.default.lineColorReversed:_colors2.default.lineColor,textColor=props.reversed?_colors2.default.textColorReversed:_colors2.default.textColor,borderWidth={bottom:1,top:0,left:0,right:0};yaxes.some(function(y){return"left"===y.position})&&(borderWidth.left=1),yaxes.some(function(y){return"right"===y.position})&&(borderWidth.right=1),props.showGrid&&(borderWidth.top=1,borderWidth.left=1,borderWidth.right=1);var opts={legend:{show:!1},yaxes:yaxes.map(function(axis){return axis.tickLength=props.showGrid?null:0,axis}),yaxis:{color:lineColor,font:{color:textColor},tickFormatter:props.tickFormatter},xaxis:{tickLength:props.showGrid?null:0,color:lineColor,timezone:"browser",mode:"time",font:{color:textColor},ticks:this.calcualteTicks()},series:{shadowSize:0},grid:{margin:0,borderWidth:borderWidth,borderColor:lineColor,hoverable:!0,mouseActiveRadius:200}};return props.crosshair&&_lodash2.default.set(opts,"crosshair",{mode:"x",color:props.reversed?"#FFF":"#000",lineWidth:1}),props.onBrush&&_lodash2.default.set(opts,"selection",{mode:"x",color:textColor}),props.xAxisFormatter&&_lodash2.default.set(opts,"xaxis.tickFormatter",props.xAxisFormatter),_lodash2.default.set(opts,"series.bars.barWidth",(0,_calculate_bar_width2.default)(props.series)),_lodash2.default.assign(opts,props.options)}},{key:"calcualteTicks",value:function(){var sample=this.props.xAxisFormatter(new Date);return Math.floor(this.target.clientWidth/(7*sample.length+45))}},{key:"handleResize",value:function(){var resize=(0,_reactDom.findDOMNode)(this.resize);if(!this.rendered)return void this.renderChart();if(resize&&resize.clientHeight>0&&resize.clientHeight>0){if(!this.plot)return;var options=this.plot.getOptions();_lodash2.default.set(options,"xaxes[0].ticks",this.calcualteTicks()),this.plot.resize(),this.plot.setupGrid(),this.plot.draw(),this.handleDraw(this.plot)}}},{key:"renderChart",value:function(){var _this3=this,resize=(0,_reactDom.findDOMNode)(this.resize);if(resize.clientWidth>0&&resize.clientHeight>0){this.rendered=!0;var series=this.props.series,data=this.calculateData(series,this.props.show);this.plot=_flotCharts2.default.plot(this.target,data,this.getOptions(this.props)),this.handleDraw(this.plot),_lodash2.default.defer(function(){return _this3.handleResize()}),this.handleMouseOver=function(){for(var _props,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this3.props.onMouseOver&&(_props=_this3.props).onMouseOver.apply(_props,args.concat([_this3.plot]))},this.handleMouseLeave=function(){for(var _props2,_len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];_this3.props.onMouseLeave&&(_props2=_this3.props).onMouseLeave.apply(_props2,args.concat([_this3.plot]))},(0,_flotCharts2.default)(this.target).on("plothover",this.handleMouseOver),(0,_flotCharts2.default)(this.target).on("mouseleave",this.handleMouseLeave),this.props.crosshair&&(this.handleThorPlotover=function(e,pos,item,originalPlot){_this3.plot!==originalPlot&&(_this3.plot.setCrosshair({x:_lodash2.default.get(pos,"x")}),_this3.props.plothover(e,pos,item))},this.handlePlotover=function(e,pos,item){return _events2.default.trigger("thorPlotover",[pos,item,_this3.plot])},this.handlePlotleave=function(){return _events2.default.trigger("thorPlotleave")},this.handleThorPlotleave=function(e){_this3.plot&&_this3.plot.clearCrosshair(),_this3.props.plothover&&_this3.props.plothover(e)},(0,_flotCharts2.default)(this.target).on("plothover",this.handlePlotover),(0,_flotCharts2.default)(this.target).on("mouseleave",this.handlePlotleave),_events2.default.on("thorPlotover",this.handleThorPlotover),_events2.default.on("thorPlotleave",this.handleThorPlotleave)),_lodash2.default.isFunction(this.props.plothover)&&(0,_flotCharts2.default)(this.target).bind("plothover",this.props.plothover),(0,_flotCharts2.default)(this.target).on("mouseleave",function(){_events2.default.trigger("thorPlotleave")}),_lodash2.default.isFunction(this.props.onBrush)&&(this.brushChart=function(e,ranges){_this3.props.onBrush(ranges),_this3.plot.clearSelection()},(0,_flotCharts2.default)(this.target).on("plotselected",this.brushChart))}}},{key:"render",value:function(){var _this4=this;return _react2.default.createElement(_resize2.default,{onResize:this.handleResize,ref:function(el){return _this4.resize=el},className:"rhythm_chart__timeseries-container"},_react2.default.createElement("div",{ref:function(el){return _this4.target=el},className:"rhythm_chart__timeseries-container"}))}}]),FlotChart}(_react.Component);FlotChart.defaultProps={showGrid:!0},FlotChart.propTypes={crosshair:_propTypes2.default.bool,onBrush:_propTypes2.default.func,onPlotCreate:_propTypes2.default.func,onMouseOver:_propTypes2.default.func,onMouseLeave:_propTypes2.default.func,options:_propTypes2.default.object,plothover:_propTypes2.default.func,reversed:_propTypes2.default.bool,series:_propTypes2.default.array,show:_propTypes2.default.array,tickFormatter:_propTypes2.default.func,showGrid:_propTypes2.default.bool,yaxes:_propTypes2.default.array},exports.default=FlotChart,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);window&&(window.jQuery=_jquery2.default),__webpack_require__(1239),__webpack_require__(1240),__webpack_require__(4416),__webpack_require__(4417),__webpack_require__(1241),__webpack_require__(1242),__webpack_require__(4418),__webpack_require__(4419),__webpack_require__(4420),__webpack_require__(4421),module.exports=_jquery2.default},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function($){function init(plot,classes){var Canvas=classes.Canvas;null==render&&(getTextInfo=Canvas.prototype.getTextInfo,addText=Canvas.prototype.addText,render=Canvas.prototype.render),Canvas.prototype.render=function(){if(!plot.getOptions().canvas)return render.call(this);var context=this.context,cache=this._textCache;context.save(),context.textBaseline="middle";for(var layerKey in cache)if(hasOwnProperty.call(cache,layerKey)){var layerCache=cache[layerKey];for(var styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey],updateStyles=!0;for(var key in styleCache)if(hasOwnProperty.call(styleCache,key)){var info=styleCache[key],positions=info.positions,lines=info.lines;updateStyles&&(context.fillStyle=info.font.color,context.font=info.font.definition,updateStyles=!1);for(var position,i=0;position=positions[i];i++)if(position.active)for(var line,j=0;line=position.lines[j];j++)context.fillText(lines[j].text,line[0],line[1]);else positions.splice(i--,1);0==positions.length&&delete styleCache[key]}}}context.restore()},Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){if(!plot.getOptions().canvas)return getTextInfo.call(this,layer,text,font,angle,width);var textStyle,layerCache,styleCache,info;if(text=""+text,textStyle="object"===(void 0===font?"undefined":_typeof(font))?font.style+" "+font.variant+" "+font.weight+" "+font.size+"px "+font.family:font,layerCache=this._textCache[layer],null==layerCache&&(layerCache=this._textCache[layer]={}),styleCache=layerCache[textStyle],null==styleCache&&(styleCache=layerCache[textStyle]={}),null==(info=styleCache[text])){var context=this.context;if("object"!==(void 0===font?"undefined":_typeof(font))){var element=$("<div>&nbsp;</div>").css("position","absolute").addClass("string"==typeof font?font:null).appendTo(this.getTextLayer(layer));font={lineHeight:element.height(),style:element.css("font-style"),variant:element.css("font-variant"),weight:element.css("font-weight"),family:element.css("font-family"),color:element.css("color")},font.size=element.css("line-height",1).height(),element.remove()}textStyle=font.style+" "+font.variant+" "+font.weight+" "+font.size+"px "+font.family,info=styleCache[text]={width:0,height:0,positions:[],lines:[],font:{definition:textStyle,color:font.color}},context.save(),context.font=textStyle;for(var lines=(text+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),i=0;i<lines.length;++i){var lineText=lines[i],measured=context.measureText(lineText);info.width=Math.max(measured.width,info.width),info.height+=font.lineHeight,info.lines.push({text:lineText,width:measured.width,height:font.lineHeight})}context.restore()}return info},Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){if(!plot.getOptions().canvas)return addText.call(this,layer,x,y,text,font,angle,width,halign,valign);var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions,lines=info.lines;y+=info.height/lines.length/2,y="middle"==valign?Math.round(y-info.height/2):"bottom"==valign?Math.round(y-info.height):Math.round(y),window.opera&&window.opera.version().split(".")[0]<12&&(y-=2);for(var position,i=0;position=positions[i];i++)if(position.x==x&&position.y==y)return void(position.active=!0);position={active:!0,lines:[],x:x,y:y},positions.push(position);for(var line,i=0;line=lines[i];i++)"center"==halign?position.lines.push([Math.round(x-line.width/2),y]):"right"==halign?position.lines.push([Math.round(x-line.width),y]):position.lines.push([Math.round(x),y]),y+=line.height}}var render,getTextInfo,addText,options={canvas:!0},hasOwnProperty=Object.prototype.hasOwnProperty;$.plot.plugins.push({init:init,options:options,name:"canvas",version:"1.0"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function processRawData(plot,series,datapoints){var handlers={square:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.rect(x-size,y-size,size+size,size+size)},diamond:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI/2);ctx.moveTo(x-size,y),ctx.lineTo(x,y-size),ctx.lineTo(x+size,y),ctx.lineTo(x,y+size),ctx.lineTo(x-size,y)},triangle:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),height=size*Math.sin(Math.PI/3);ctx.moveTo(x-size/2,y+height/2),ctx.lineTo(x+size/2,y+height/2),shadow||(ctx.lineTo(x,y-height/2),ctx.lineTo(x-size/2,y+height/2))},cross:function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.moveTo(x-size,y-size),ctx.lineTo(x+size,y+size),ctx.moveTo(x-size,y+size),ctx.lineTo(x+size,y-size)}},s=series.points.symbol;handlers[s]&&(series.points.symbol=handlers[s])}function init(plot){plot.hooks.processDatapoints.push(processRawData)}$.plot.plugins.push({init:init,name:"symbols",version:"1.0"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function processDatapoints(plot,series,datapoints){processed||(processed=!0,canvas=plot.getCanvas(),target=$(canvas).parent(),options=plot.getOptions(),plot.setData(combine(plot.getData())))}function combine(data){for(var total=0,combined=0,numCombined=0,color=options.series.pie.combine.color,newdata=[],i=0;i<data.length;++i){var value=data[i].data;$.isArray(value)&&1==value.length&&(value=value[0]),$.isArray(value)?!isNaN(parseFloat(value[1]))&&isFinite(value[1])?value[1]=+value[1]:value[1]=0:value=!isNaN(parseFloat(value))&&isFinite(value)?[1,+value]:[1,0],data[i].data=[value]}for(var i=0;i<data.length;++i)total+=data[i].data[0][1];for(var i=0;i<data.length;++i){var value=data[i].data[0][1];value/total<=options.series.pie.combine.threshold&&(combined+=value,numCombined++,color||(color=data[i].color))}for(var i=0;i<data.length;++i){var value=data[i].data[0][1];(numCombined<2||value/total>options.series.pie.combine.threshold)&&newdata.push($.extend(data[i],{data:[[1,value]],color:data[i].color,label:data[i].label,angle:value*Math.PI*2/total,percent:value/(total/100)}))}return numCombined>1&&newdata.push({data:[[1,combined]],color:color,label:options.series.pie.combine.label,angle:combined*Math.PI*2/total,percent:combined/(total/100)}),newdata}function draw(plot,newCtx){function clear(){ctx.clearRect(0,0,canvasWidth,canvasHeight),target.children().filter(".pieLabel, .pieLabelBackground").remove()}if(target){var canvasWidth=plot.getPlaceholder().width(),canvasHeight=plot.getPlaceholder().height(),legendWidth=target.children().filter(".legend").children().width()||0;ctx=newCtx,processed=!1,maxRadius=Math.min(canvasWidth,canvasHeight/options.series.pie.tilt)/2,centerTop=canvasHeight/2+options.series.pie.offset.top,centerLeft=canvasWidth/2,"auto"==options.series.pie.offset.left?(options.legend.position.match("w")?centerLeft+=legendWidth/2:centerLeft-=legendWidth/2,centerLeft<maxRadius?centerLeft=maxRadius:centerLeft>canvasWidth-maxRadius&&(centerLeft=canvasWidth-maxRadius)):centerLeft+=options.series.pie.offset.left;var slices=plot.getData(),attempts=0;do{attempts>0&&(maxRadius*=REDRAW_SHRINK),attempts+=1,clear(),options.series.pie.tilt<=.8&&function(){var shadowLeft=options.series.pie.shadow.left,shadowTop=options.series.pie.shadow.top,alpha=options.series.pie.shadow.alpha,radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;if(!(radius>=canvasWidth/2-shadowLeft||radius*options.series.pie.tilt>=canvasHeight/2-shadowTop||radius<=10)){ctx.save(),ctx.translate(shadowLeft,shadowTop),ctx.globalAlpha=alpha,ctx.fillStyle="#000",ctx.translate(centerLeft,centerTop),ctx.scale(1,options.series.pie.tilt);for(var i=1;i<=10;i++)ctx.beginPath(),ctx.arc(0,0,radius,0,2*Math.PI,!1),ctx.fill(),radius-=i;ctx.restore()}}()}while(!function(){function drawSlice(angle,color,fill){angle<=0||isNaN(angle)||(fill?ctx.fillStyle=color:(ctx.strokeStyle=color,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(angle-2*Math.PI)>1e-9&&ctx.moveTo(0,0),ctx.arc(0,0,radius,currentAngle,currentAngle+angle/2,!1),ctx.arc(0,0,radius,currentAngle+angle/2,currentAngle+angle,!1),ctx.closePath(),currentAngle+=angle,fill?ctx.fill():ctx.stroke())}var startAngle=Math.PI*options.series.pie.startAngle,radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;ctx.save(),ctx.translate(centerLeft,centerTop),ctx.scale(1,options.series.pie.tilt),ctx.save();for(var currentAngle=startAngle,i=0;i<slices.length;++i)slices[i].startAngle=currentAngle,drawSlice(slices[i].angle,slices[i].color,!0);if(ctx.restore(),options.series.pie.stroke.width>0){ctx.save(),ctx.lineWidth=options.series.pie.stroke.width,currentAngle=startAngle;for(var i=0;i<slices.length;++i)drawSlice(slices[i].angle,options.series.pie.stroke.color,!1);ctx.restore()}return drawDonutHole(ctx),ctx.restore(),!options.series.pie.label.show||function(){for(var currentAngle=startAngle,radius=options.series.pie.label.radius>1?options.series.pie.label.radius:maxRadius*options.series.pie.label.radius,i=0;i<slices.length;++i){if(slices[i].percent>=100*options.series.pie.label.threshold&&!function(slice,startAngle,index){if(0==slice.data[0][1])return!0;var text,lf=options.legend.labelFormatter,plf=options.series.pie.label.formatter;text=lf?lf(slice.label,slice):slice.label,plf&&(text=plf(text,slice));var halfAngle=(startAngle+slice.angle+startAngle)/2,x=centerLeft+Math.round(Math.cos(halfAngle)*radius),y=centerTop+Math.round(Math.sin(halfAngle)*radius)*options.series.pie.tilt,html="<span class='pieLabel' id='pieLabel"+index+"' style='position:absolute;top:"+y+"px;left:"+x+"px;'>"+text+"</span>";target.append(html);var label=target.children("#pieLabel"+index),labelTop=y-label.height()/2,labelLeft=x-label.width()/2;if(label.css("top",labelTop),label.css("left",labelLeft),0-labelTop>0||0-labelLeft>0||canvasHeight-(labelTop+label.height())<0||canvasWidth-(labelLeft+label.width())<0)return!1;if(0!=options.series.pie.label.background.opacity){var c=options.series.pie.label.background.color;null==c&&(c=slice.color);var pos="top:"+labelTop+"px;left:"+labelLeft+"px;";$("<div class='pieLabelBackground' style='position:absolute;width:"+label.width()+"px;height:"+label.height()+"px;"+pos+"background-color:"+c+";'></div>").css("opacity",options.series.pie.label.background.opacity).insertBefore(label)}return!0}(slices[i],currentAngle,i))return!1;currentAngle+=slices[i].angle}return!0}()}()&&attempts<REDRAW_ATTEMPTS);attempts>=REDRAW_ATTEMPTS&&(clear(),target.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),plot.setSeries&&plot.insertLegend&&(plot.setSeries(slices),plot.insertLegend())}}function drawDonutHole(layer){if(options.series.pie.innerRadius>0){layer.save();var innerRadius=options.series.pie.innerRadius>1?options.series.pie.innerRadius:maxRadius*options.series.pie.innerRadius;layer.globalCompositeOperation="destination-out",layer.beginPath(),layer.fillStyle=options.series.pie.stroke.color,layer.arc(0,0,innerRadius,0,2*Math.PI,!1),layer.fill(),layer.closePath(),layer.restore(),layer.save(),layer.beginPath(),layer.strokeStyle=options.series.pie.stroke.color,layer.arc(0,0,innerRadius,0,2*Math.PI,!1),layer.stroke(),layer.closePath(),layer.restore()}}function isPointInPoly(poly,pt){for(var c=!1,i=-1,l=poly.length,j=l-1;++i<l;j=i)(poly[i][1]<=pt[1]&&pt[1]<poly[j][1]||poly[j][1]<=pt[1]&&pt[1]<poly[i][1])&&pt[0]<(poly[j][0]-poly[i][0])*(pt[1]-poly[i][1])/(poly[j][1]-poly[i][1])+poly[i][0]&&(c=!c);return c}function findNearbySlice(mouseX,mouseY){for(var x,y,slices=plot.getData(),options=plot.getOptions(),radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius,i=0;i<slices.length;++i){var s=slices[i];if(s.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,radius,s.startAngle,s.startAngle+s.angle/2,!1),ctx.arc(0,0,radius,s.startAngle+s.angle/2,s.startAngle+s.angle,!1),ctx.closePath(),x=mouseX-centerLeft,y=mouseY-centerTop,ctx.isPointInPath){if(ctx.isPointInPath(mouseX-centerLeft,mouseY-centerTop))return ctx.restore(),{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:i}}else{if(isPointInPoly([[0,0],[radius*Math.cos(s.startAngle),radius*Math.sin(s.startAngle)],[radius*Math.cos(s.startAngle+s.angle/4),radius*Math.sin(s.startAngle+s.angle/4)],[radius*Math.cos(s.startAngle+s.angle/2),radius*Math.sin(s.startAngle+s.angle/2)],[radius*Math.cos(s.startAngle+s.angle/1.5),radius*Math.sin(s.startAngle+s.angle/1.5)],[radius*Math.cos(s.startAngle+s.angle),radius*Math.sin(s.startAngle+s.angle)]],[x,y]))return ctx.restore(),{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:i}}ctx.restore()}}return null}function onMouseMove(e){triggerClickHoverEvent("plothover",e)}function onClick(e){triggerClickHoverEvent("plotclick",e)}function triggerClickHoverEvent(eventname,e){var offset=plot.offset(),canvasX=parseInt(e.pageX-offset.left),canvasY=parseInt(e.pageY-offset.top),item=findNearbySlice(canvasX,canvasY);if(options.grid.autoHighlight)for(var i=0;i<highlights.length;++i){var h=highlights[i];h.auto!=eventname||item&&h.series==item.series||unhighlight(h.series)}item&&highlight(item.series,eventname);var pos={pageX:e.pageX,pageY:e.pageY};target.trigger(eventname,[pos,item])}function highlight(s,auto){var i=indexOfHighlight(s);-1==i?(highlights.push({series:s,auto:auto}),plot.triggerRedrawOverlay()):auto||(highlights[i].auto=!1)}function unhighlight(s){null==s&&(highlights=[],plot.triggerRedrawOverlay());var i=indexOfHighlight(s);-1!=i&&(highlights.splice(i,1),plot.triggerRedrawOverlay())}function indexOfHighlight(s){for(var i=0;i<highlights.length;++i){if(highlights[i].series==s)return i}return-1}function drawOverlay(plot,octx){var options=plot.getOptions(),radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;octx.save(),octx.translate(centerLeft,centerTop),octx.scale(1,options.series.pie.tilt);for(var i=0;i<highlights.length;++i)!function(series){series.angle<=0||isNaN(series.angle)||(octx.fillStyle="rgba(255, 255, 255, "+options.series.pie.highlight.opacity+")",octx.beginPath(),Math.abs(series.angle-2*Math.PI)>1e-9&&octx.moveTo(0,0),octx.arc(0,0,radius,series.startAngle,series.startAngle+series.angle/2,!1),octx.arc(0,0,radius,series.startAngle+series.angle/2,series.startAngle+series.angle,!1),octx.closePath(),octx.fill())}(highlights[i].series);drawDonutHole(octx),octx.restore()}var canvas=null,target=null,options=null,maxRadius=null,centerLeft=null,centerTop=null,processed=!1,ctx=null,highlights=[];plot.hooks.processOptions.push(function(plot,options){options.series.pie.show&&(options.grid.show=!1,"auto"==options.series.pie.label.show&&(options.legend.show?options.series.pie.label.show=!1:options.series.pie.label.show=!0),"auto"==options.series.pie.radius&&(options.series.pie.label.show?options.series.pie.radius=.75:options.series.pie.radius=1),options.series.pie.tilt>1?options.series.pie.tilt=1:options.series.pie.tilt<0&&(options.series.pie.tilt=0))}),plot.hooks.bindEvents.push(function(plot,eventHolder){var options=plot.getOptions();options.series.pie.show&&(options.grid.hoverable&&eventHolder.unbind("mousemove").mousemove(onMouseMove),options.grid.clickable&&eventHolder.unbind("click").click(onClick))}),plot.hooks.processDatapoints.push(function(plot,series,data,datapoints){plot.getOptions().series.pie.show&&processDatapoints(plot,series,data)}),plot.hooks.drawOverlay.push(function(plot,octx){plot.getOptions().series.pie.show&&drawOverlay(plot,octx)}),plot.hooks.draw.push(function(plot,newCtx){plot.getOptions().series.pie.show&&draw(plot,newCtx)})}var REDRAW_ATTEMPTS=10,REDRAW_SHRINK=.95,options={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(label,slice){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+slice.color+";'>"+label+"<br/>"+Math.round(slice.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};$.plot.plugins.push({init:init,options:options,name:"pie",version:"1.1"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function findMatchingSeries(s,allseries){for(var res=null,i=0;i<allseries.length&&s!=allseries[i];++i)allseries[i].stack==s.stack&&(res=allseries[i]);return res}function stackData(plot,s,datapoints){if(null!=s.stack&&!1!==s.stack){var other=findMatchingSeries(s,plot.getData());if(other){for(var px,py,intery,qx,qy,bottom,l,m,ps=datapoints.pointsize,points=datapoints.points,otherps=other.datapoints.pointsize,otherpoints=other.datapoints.points,newpoints=[],withlines=s.lines.show,horizontal=s.bars.horizontal,withbottom=ps>2&&(horizontal?datapoints.format[2].x:datapoints.format[2].y),withsteps=withlines&&s.lines.steps,fromgap=!0,keyOffset=horizontal?1:0,accumulateOffset=horizontal?0:1,i=0,j=0;;){if(i>=points.length)break;if(l=newpoints.length,null==points[i]){for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(j>=otherpoints.length){if(!withlines)for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(null==otherpoints[j]){for(m=0;m<ps;++m)newpoints.push(null);fromgap=!0,j+=otherps}else{if(px=points[i+keyOffset],py=points[i+accumulateOffset],qx=otherpoints[j+keyOffset],qy=otherpoints[j+accumulateOffset],bottom=0,px==qx){for(m=0;m<ps;++m)newpoints.push(points[i+m]);newpoints[l+accumulateOffset]+=qy,bottom=qy,i+=ps,j+=otherps}else if(px>qx){if(withlines&&i>0&&null!=points[i-ps]){for(intery=py+(points[i-ps+accumulateOffset]-py)*(qx-px)/(points[i-ps+keyOffset]-px),newpoints.push(qx),newpoints.push(intery+qy),m=2;m<ps;++m)newpoints.push(points[i+m]);bottom=qy}j+=otherps}else{if(fromgap&&withlines){i+=ps;continue}for(m=0;m<ps;++m)newpoints.push(points[i+m]);withlines&&j>0&&null!=otherpoints[j-otherps]&&(bottom=qy+(otherpoints[j-otherps+accumulateOffset]-qy)*(px-qx)/(otherpoints[j-otherps+keyOffset]-qx)),newpoints[l+accumulateOffset]+=bottom,i+=ps}fromgap=!1,l!=newpoints.length&&withbottom&&(newpoints[l+2]+=bottom)}if(withsteps&&l!=newpoints.length&&l>0&&null!=newpoints[l]&&newpoints[l]!=newpoints[l-ps]&&newpoints[l+1]!=newpoints[l-ps+1]){for(m=0;m<ps;++m)newpoints[l+ps+m]=newpoints[l+m];newpoints[l+1]=newpoints[l-ps+1]}}datapoints.points=newpoints}}}plot.hooks.processDatapoints.push(stackData)}var options={series:{stack:null}};$.plot.plugins.push({init:init,options:options,name:"stack",version:"1.2"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function thresholdData(plot,s,datapoints,below,color){var i,x,y,p,prevp,ps=datapoints.pointsize,thresholded=$.extend({},s);thresholded.datapoints={points:[],pointsize:ps,format:datapoints.format},thresholded.label=null,thresholded.color=color,thresholded.threshold=null,thresholded.originSeries=s,thresholded.data=[];var m,origpoints=datapoints.points,addCrossingPoints=s.lines.show,threspoints=[],newpoints=[];for(i=0;i<origpoints.length;i+=ps){if(x=origpoints[i],y=origpoints[i+1],prevp=p,p=y<below?threspoints:newpoints,addCrossingPoints&&prevp!=p&&null!=x&&i>0&&null!=origpoints[i-ps]){var interx=x+(below-y)*(x-origpoints[i-ps])/(y-origpoints[i-ps+1]);for(prevp.push(interx),prevp.push(below),m=2;m<ps;++m)prevp.push(origpoints[i+m]);for(p.push(null),p.push(null),m=2;m<ps;++m)p.push(origpoints[i+m]);for(p.push(interx),p.push(below),m=2;m<ps;++m)p.push(origpoints[i+m])}for(p.push(x),p.push(y),m=2;m<ps;++m)p.push(origpoints[i+m])}if(datapoints.points=newpoints,thresholded.datapoints.points=threspoints,thresholded.datapoints.points.length>0){var origIndex=$.inArray(s,plot.getData());plot.getData().splice(origIndex+1,0,thresholded)}}function processThresholds(plot,s,datapoints){s.threshold&&(s.threshold instanceof Array?(s.threshold.sort(function(a,b){return a.below-b.below}),$(s.threshold).each(function(i,th){thresholdData(plot,s,datapoints,th.below,th.color)})):thresholdData(plot,s,datapoints,s.threshold.below,s.threshold.color))}plot.hooks.processDatapoints.push(processThresholds)}var options={series:{threshold:null}};$.plot.plugins.push({init:init,options:options,name:"threshold",version:"1.2"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";!function($){function init(plot){function findBottomSeries(s,allseries){var i;for(i=0;i<allseries.length;++i)if(allseries[i].id===s.fillBetween)return allseries[i];return"number"==typeof s.fillBetween?s.fillBetween<0||s.fillBetween>=allseries.length?null:allseries[s.fillBetween]:null}function computeFillBottoms(plot,s,datapoints){if(null!=s.fillBetween){var other=findBottomSeries(s,plot.getData());if(other){for(var px,py,intery,qx,qy,bottom,l,m,ps=datapoints.pointsize,points=datapoints.points,otherps=other.datapoints.pointsize,otherpoints=other.datapoints.points,newpoints=[],withlines=s.lines.show,withbottom=ps>2&&datapoints.format[2].y,withsteps=withlines&&s.lines.steps,fromgap=!0,i=0,j=0;;){if(i>=points.length)break;if(l=newpoints.length,null==points[i]){for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(j>=otherpoints.length){if(!withlines)for(m=0;m<ps;++m)newpoints.push(points[i+m]);i+=ps}else if(null==otherpoints[j]){for(m=0;m<ps;++m)newpoints.push(null);fromgap=!0,j+=otherps}else{if(px=points[i],py=points[i+1],qx=otherpoints[j],qy=otherpoints[j+1],bottom=0,px===qx){for(m=0;m<ps;++m)newpoints.push(points[i+m]);bottom=qy,i+=ps,j+=otherps}else if(px>qx){if(withlines&&i>0&&null!=points[i-ps]){for(intery=py+(points[i-ps+1]-py)*(qx-px)/(points[i-ps]-px),newpoints.push(qx),newpoints.push(intery),m=2;m<ps;++m)newpoints.push(points[i+m]);bottom=qy}j+=otherps}else{if(fromgap&&withlines){i+=ps;continue}for(m=0;m<ps;++m)newpoints.push(points[i+m]);withlines&&j>0&&null!=otherpoints[j-otherps]&&(bottom=qy+(otherpoints[j-otherps+1]-qy)*(px-qx)/(otherpoints[j-otherps]-qx)),i+=ps}fromgap=!1,l!==newpoints.length&&withbottom&&(newpoints[l+2]=bottom)}if(withsteps&&l!==newpoints.length&&l>0&&null!==newpoints[l]&&newpoints[l]!==newpoints[l-ps]&&newpoints[l+1]!==newpoints[l-ps+1]){for(m=0;m<ps;++m)newpoints[l+ps+m]=newpoints[l+m];newpoints[l+1]=newpoints[l-ps+1]}}datapoints.points=newpoints}}}plot.hooks.processDatapoints.push(computeFillBottoms)}var options={series:{fillBetween:null}};$.plot.plugins.push({init:init,options:options,name:"fillbetween",version:"1.0"})}(jQuery)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),Resize=function(_Component){function Resize(props){_classCallCheck(this,Resize);var _this=_possibleConstructorReturn(this,(Resize.__proto__||Object.getPrototypeOf(Resize)).call(this,props));return _this.state={},_this.handleResize=_this.handleResize.bind(_this),_this}return _inherits(Resize,_Component),_createClass(Resize,[{key:"checkSize",value:function(){var _this2=this,el=(0,_reactDom.findDOMNode)(this.el);el&&(this.timeout=setTimeout(function(){var _state=_this2.state,currentHeight=_state.currentHeight,currentWidth=_state.currentWidth;currentHeight===el.parentNode.clientHeight&&currentWidth===el.parentNode.clientWidth||(_this2.setState({currentWidth:el.parentNode.clientWidth,currentHeight:el.parentNode.clientHeight}),_this2.handleResize()),clearTimeout(_this2.timeout),_this2.checkSize()},this.props.frequency))}},{key:"componentDidMount",value:function(){this.checkSize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"handleResize",value:function(){this.props.onResize&&this.props.onResize()}},{key:"render",value:function(){var _this3=this,style=this.props.style||{},className=this.props.className||"";return _react2.default.createElement("div",{style:style,className:className,ref:function(el){return _this3.el=el}},this.props.children)}}]),Resize}(_react.Component);Resize.defaultProps={frequency:500},Resize.propTypes={frequency:_propTypes2.default.number,onResize:_propTypes2.default.func},exports.default=Resize,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(series){var multipier=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,first=_lodash2.default.first(series);try{return(first.data[1][0]-first.data[0][0])*multipier}catch(e){return 1e3}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={lineColor:"rgba(0,0,0,0.2)",lineColorReversed:"rgba(255,255,255,0.4)",textColor:"rgba(0,0,0,0.4)",textColorReversed:"rgba(255,255,255,0.6)",valueColor:"rgba(0,0,0,0.7)",valueColorReversed:"rgba(255,255,255,0.8)"},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),Annotation=function(_Component){function Annotation(props){_classCallCheck(this,Annotation);var _this=_possibleConstructorReturn(this,(Annotation.__proto__||Object.getPrototypeOf(Annotation)).call(this,props));return _this.state={showTooltip:!1},_this.handleMouseOut=_this.handleMouseOut.bind(_this),_this.handleMouseOver=_this.handleMouseOver.bind(_this),_this}return _inherits(Annotation,_Component),_createClass(Annotation,[{key:"renderTooltip",value:function(){if(!this.state.showTooltip)return null;var _props$series=_slicedToArray(this.props.series,2),timestamp=_props$series[0],messageSource=_props$series[1],reversed=this.props.reversed?"-reversed":"",messages=messageSource.map(function(message,i){return _react2.default.createElement("div",{key:message+"-"+i,className:"annotation__message"},message)});return _react2.default.createElement("div",{className:"annotation__tooltip"},_react2.default.createElement("div",{className:"annotation__tooltip-body"+reversed},_react2.default.createElement("div",{className:"annotation__timestamp"+reversed},(0,_moment2.default)(timestamp).format("lll")),messages),_react2.default.createElement("div",{className:"annotation__caret"+reversed}))}},{key:"handleMouseOver",value:function(){this.setState({showTooltip:!0})}},{key:"handleMouseOut",value:function(){this.setState({showTooltip:!1})}},{key:"render",value:function(){var _props=this.props,color=_props.color,plot=_props.plot,icon=_props.icon,series=_props.series,offset=plot.pointOffset({x:series[0],y:0}),tooltip=this.renderTooltip(),style=(0,_reactcss2.default)({default:{container:{left:offset.left-6,bottom:0,top:5},line:{backgroundColor:color},icon:{color:color}}});return _react2.default.createElement("div",{className:"annotation",style:style.container},_react2.default.createElement("div",{className:"annotation__line",style:style.line}),_react2.default.createElement("div",{onFocus:this.handleMouseOver,onBlur:this.handleMouseOut,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,className:"annotation__icon"},_react2.default.createElement("i",{className:"fa "+icon,style:style.icon}),tooltip))}}]),Annotation}(_react.Component);Annotation.propTypes={series:_propTypes2.default.array,icon:_propTypes2.default.string,color:_propTypes2.default.string,plot:_propTypes2.default.object,reversed:_propTypes2.default.bool},exports.default=Annotation,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Legend(props){return"bottom"===props.legendPosition?_react2.default.createElement(_horizontal_legend2.default,props):_react2.default.createElement(_vertical_legend2.default,props)}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_vertical_legend=__webpack_require__(4427),_vertical_legend2=_interopRequireDefault(_vertical_legend),_horizontal_legend=__webpack_require__(4428),_horizontal_legend2=_interopRequireDefault(_horizontal_legend);Legend.propTypes={legendPosition:_propTypes2.default.string,onClick:_propTypes2.default.func,onToggle:_propTypes2.default.func,series:_propTypes2.default.array,showLegend:_propTypes2.default.bool,seriesValues:_propTypes2.default.object,seriesFilter:_propTypes2.default.array,tickFormatter:_propTypes2.default.func},exports.default=Legend,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VerticalLegend(props){var rows=props.series.map((0,_create_legend_series2.default)(props)),htmlId=(0,_eui.htmlIdGenerator)(),hideLegend=!props.showLegend,leftLegend="left"===props.legendPosition,styles=(0,_reactcss2.default)({default:{legend:{width:200}},leftLegend:{legend:{order:"-1"},control:{order:"2"}},hideLegend:{legend:{width:12},series:{display:"none"}}},{hideLegend:hideLegend,leftLegend:leftLegend}),openClass=leftLegend?"fa-chevron-right":"fa-chevron-left",closeClass=leftLegend?"fa-chevron-left":"fa-chevron-right",legendControlClass=hideLegend?"fa "+openClass:"fa "+closeClass;return _react2.default.createElement("div",{className:"rhythm_chart__legend",style:styles.legend},_react2.default.createElement("div",{className:"rhythm_chart__legend-control",style:styles.control},_react2.default.createElement("button",{className:legendControlClass,onClick:props.onClick,"aria-label":"Toggle chart legend","aria-expanded":!!props.showLegend,"aria-controls":htmlId("legend")})),_react2.default.createElement("div",{className:"rhythm_chart__legend-series",style:styles.series,id:htmlId("legend")},rows))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_create_legend_series=__webpack_require__(1367),_create_legend_series2=_interopRequireDefault(_create_legend_series),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_eui=__webpack_require__(5);VerticalLegend.propTypes={legendPosition:_propTypes2.default.string,onClick:_propTypes2.default.func,onToggle:_propTypes2.default.func,series:_propTypes2.default.array,showLegend:_propTypes2.default.bool,seriesValues:_propTypes2.default.object,seriesFilter:_propTypes2.default.array,tickFormatter:_propTypes2.default.func},exports.default=VerticalLegend,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HorizontalLegend(props){var rows=props.series.map((0,_create_legend_series2.default)(props)),htmlId=(0,_eui.htmlIdGenerator)(),styles=(0,_reactcss2.default)({hideLegned:{legend:{display:"none"}}},{hideLegned:!props.showLegend}),legendControlClass="fa fa-chevron-down";return props.showLegend||(legendControlClass="fa fa-chevron-up"),_react2.default.createElement("div",{className:"rhythm_chart__legend-horizontal"},_react2.default.createElement("div",{className:"rhythm_chart__legend-control"},_react2.default.createElement("button",{className:legendControlClass,onClick:props.onClick,"aria-label":"Toggle chart legend","aria-expanded":!!props.showLegend,"aria-controls":htmlId("legend")})),_react2.default.createElement("div",{className:"rhythm_chart__legend-series",style:styles.legend,id:htmlId("legend")},rows))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_create_legend_series=__webpack_require__(1367),_create_legend_series2=_interopRequireDefault(_create_legend_series),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_eui=__webpack_require__(5);HorizontalLegend.propTypes={legendPosition:_propTypes2.default.string,onClick:_propTypes2.default.func,onToggle:_propTypes2.default.func,series:_propTypes2.default.array,showLegend:_propTypes2.default.bool,seriesValues:_propTypes2.default.object,seriesFilter:_propTypes2.default.array,tickFormatter:_propTypes2.default.func},exports.default=HorizontalLegend,module.exports=exports.default},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getAxisLabelString(interval){for(var units=_lodash2.default.pluck(_lodash2.default.clone(_relative_options.relativeOptions).reverse(),"value").filter(function(s){return/^[smhdwMy]$/.test(s)}),duration=_moment2.default.duration(interval,"ms"),i=0;i<units.length;i++){var as=duration.as(units[i]);if(Math.abs(as)>1){return"per "+Math.round(Math.abs(as))+" "+unitLookup[units[i]]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAxisLabelString=getAxisLabelString;var _relative_options=__webpack_require__(654),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),unitLookup={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"}},function(module,exports,__webpack_require__){"use strict";function getFormat(interval,rules,dateFormat){for(var i=rules.length-1;i>=0;i--){var rule=rules[i];if(!rule[0]||interval>=_moment2.default.duration(rule[0]))return rule[1]}return dateFormat}function createXaxisFormatter(interval,rules,dateFormat){return function(val){return(0,_moment2.default)(val).format(getFormat(interval,rules,dateFormat))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFormat=getFormat,exports.createXaxisFormatter=createXaxisFormatter;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getColors(props){var model=props.model,visData=props.visData,series=_lodash2.default.get(visData,model.id+".series",[]),color=void 0,background=void 0;return model.background_color_rules&&model.background_color_rules.forEach(function(rule){if(rule.opperator&&null!=rule.value){var value=series[0]&&(0,_get_last_value2.default)(series[0].data)||0;_lodash2.default[rule.opperator](value,rule.value)&&(background=rule.background_color,color=rule.color)}}),{color:color,background:background}}function MetricVisualization(props){var backgroundColor=props.backgroundColor,model=props.model,visData=props.visData,colors=getColors(props),series=_lodash2.default.get(visData,model.id+".series",[]).filter(function(row){return row}).map(function(row,i){var seriesDef=model.series.find(function(s){return _lodash2.default.includes(row.id,s.id)}),newProps={};return seriesDef&&(newProps.formatter=(0,_tick_formatter2.default)(seriesDef.formatter,seriesDef.value_template)),0===i&&colors.color&&(newProps.color=colors.color),_lodash2.default.assign({},_lodash2.default.pick(row,["label","data"]),newProps)}),params={metric:series[0],reversed:props.reversed,additionalLabel:props.additionalLabel};series[1]&&(params.secondary=series[1]);var panelBackgroundColor=colors.background||backgroundColor;panelBackgroundColor&&"inherit"!==panelBackgroundColor&&(params.reversed=(0,_color2.default)(panelBackgroundColor).luminosity()<.45);var style={backgroundColor:panelBackgroundColor};return _react2.default.createElement("div",{className:"dashboard__visualization",style:style},_react2.default.createElement(_metric2.default,params))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_vis_with_splits=__webpack_require__(1370),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_metric=__webpack_require__(4438),_metric2=_interopRequireDefault(_metric),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_color=__webpack_require__(398),_color2=_interopRequireDefault(_color);MetricVisualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,additionalLabel:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object},exports.default=(0,_vis_with_splits.visWithSplits)(MetricVisualization),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function getDisplayName(Component){return Component.displayName||Component.name||"Component"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDisplayName=getDisplayName},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_calculate_corrdinates=__webpack_require__(756),_calculate_corrdinates2=_interopRequireDefault(_calculate_corrdinates),Metric=function(_Component){function Metric(props){_classCallCheck(this,Metric);var _this=_possibleConstructorReturn(this,(Metric.__proto__||Object.getPrototypeOf(Metric)).call(this,props));return _this.state={scale:1,left:0,top:0,translateX:1,translateY:1},_this.handleResize=_this.handleResize.bind(_this),_this}return _inherits(Metric,_Component),_createClass(Metric,[{key:"componentWillMount",value:function(){var _this2=this;!function check(){_this2.timeout=setTimeout(function(){var newState=(0,_calculate_corrdinates2.default)(_this2.inner,_this2.resize,_this2.state);newState&&_this2.state&&!_lodash2.default.isEqual(newState,_this2.state)&&_this2.handleResize(),check()},500)}()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.handleResize()}},{key:"handleResize",value:function(){var newState=(0,_calculate_corrdinates2.default)(this.inner,this.resize,this.state);this.setState(newState)}},{key:"render",value:function(){var _this3=this,_props=this.props,metric=_props.metric,secondary=_props.secondary,_state=this.state,scale=_state.scale,translateX=_state.translateX,translateY=_state.translateY,primaryFormatter=metric&&(metric.tickFormatter||metric.formatter)||function(n){return n},primaryValue=primaryFormatter((0,_get_last_value2.default)(metric&&metric.data||0)),styles=(0,_reactcss2.default)({default:{container:{},inner:{top:this.state.top||0,left:this.state.left||0,transform:"matrix("+scale+", 0, 0, "+scale+", "+translateX+", "+translateY+")"},primary_text:{color:"rgba(0,0,0,0.5)"},primary_value:{color:"#000"},secondary_text:{color:"rgba(0,0,0,0.5)"},secondary_value:{color:"#000"}},reversed:{primary_text:{color:"rgba(255,255,255,0.7)"},primary_value:{color:"#FFF"},secondary_text:{color:"rgba(255,255,255,0.7)"},secondary_value:{color:"#FFF"}}},this.props);this.props.backgroundColor&&(styles.container.backgroundColor=this.props.backgroundColor),metric&&metric.color&&(styles.primary_value.color=metric.color);var primaryLabel=void 0;metric&&metric.label&&(primaryLabel=_react2.default.createElement("div",{style:styles.primary_text,className:"rhythm_metric__primary-label"},metric.label));var secondarySnippet=void 0;if(secondary){var secondaryFormatter=secondary.formatter||function(n){return n},secondaryValue=secondaryFormatter((0,_get_last_value2.default)(secondary.data));secondary.color&&(styles.secondary_value.color=secondary.color);var secondaryLabel=void 0;secondary.label&&(secondaryLabel=_react2.default.createElement("div",{style:styles.secondary_text,className:"rhythm_metric__secondary-label"},secondary.label)),secondarySnippet=_react2.default.createElement("div",{className:"rhythm_metric__secondary"},secondaryLabel,_react2.default.createElement("div",{style:styles.secondary_value,className:"rhythm_metric__secondary-value"},secondaryValue))}var additionalLabel=void 0;return this.props.additionalLabel&&(additionalLabel=_react2.default.createElement("div",{className:"rhythm_metric__additionalLabel"},this.props.additionalLabel)),_react2.default.createElement("div",{className:"rhythm_metric",style:styles.container},_react2.default.createElement("div",{ref:function(el){return _this3.resize=el},className:"rhythm_metric__resize"},_react2.default.createElement("div",{ref:function(el){return _this3.inner=el},className:"rhythm_metric__inner",style:styles.inner},_react2.default.createElement("div",{className:"rhythm_metric__primary"},primaryLabel,_react2.default.createElement("div",{style:styles.primary_value,className:"rhythm_metric__primary-value"},primaryValue)),secondarySnippet,additionalLabel)))}}]),Metric}(_react.Component);Metric.propTypes={backgroundColor:_propTypes2.default.string,metric:_propTypes2.default.object,secondary:_propTypes2.default.object,reversed:_propTypes2.default.bool,additionalLabel:_propTypes2.default.string},exports.default=Metric,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function calcDimensions(el,scale){return[Math.floor(el.clientWidth*scale),Math.floor(el.clientHeight*scale)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=calcDimensions,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function sortByDirection(data,direction,fn){return"desc"===direction?(0,_lodash.sortBy)(data,fn).reverse():(0,_lodash.sortBy)(data,fn)}function sortSeries(visData,model){var series=(0,_lodash.get)(visData,model.id+".series",[]);return model.series.reduce(function(acc,item){var itemSeries=series.filter(function(s){return(0,_lodash.first)(s.id.split(/:/))===item.id}),direction=item.terms_direction||"desc";return"_term"===item.terms_order_by?acc.concat(itemSeries):acc.concat(sortByDirection(itemSeries,direction,function(s){return(0,_get_last_value2.default)(s.data)}))},[])}function TopNVisualization(props){var backgroundColor=props.backgroundColor,model=props.model,visData=props.visData,series=sortSeries(visData,model).map(function(item){var id=(0,_lodash.first)(item.id.split(/:/)),seriesConfig=model.series.find(function(s){return s.id===id});if(seriesConfig){var formatter=(0,_tick_formatter2.default)(seriesConfig.formatter,seriesConfig.value_template),value=(0,_get_last_value2.default)(item.data),_color=item.color||seriesConfig.color;return model.bar_color_rules&&model.bar_color_rules.forEach(function(rule){rule.opperator&&null!=rule.value&&rule.bar_color&&OPPERATORS[rule.opperator](value,rule.value)&&(_color=rule.bar_color)}),_extends({},item,{color:_color,tickFormatter:formatter})}return item}),params={series:series,reversed:props.reversed},panelBackgroundColor=model.background_color||backgroundColor;panelBackgroundColor&&"inherit"!==panelBackgroundColor&&(params.reversed=(0,_color3.default)(panelBackgroundColor).luminosity()<.45),model.drilldown_url&&(params.onClick=function(item){window.location=(0,_replace_vars2.default)(model.drilldown_url,{},{key:item.label})});var style={backgroundColor:panelBackgroundColor};return _react2.default.createElement("div",{className:"dashboard__visualization",style:style},_react2.default.createElement(_top_n2.default,params))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_top_n=__webpack_require__(4441),_top_n2=_interopRequireDefault(_top_n),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_color2=__webpack_require__(398),_color3=_interopRequireDefault(_color2),_replace_vars=__webpack_require__(521),_replace_vars2=_interopRequireDefault(_replace_vars),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),OPPERATORS={gt:_lodash.gt,gte:_lodash.gte,lt:_lodash.lt,lte:_lodash.lte};TopNVisualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object},exports.default=TopNVisualization,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),TopN=function(_Component){function TopN(){return _classCallCheck(this,TopN),_possibleConstructorReturn(this,(TopN.__proto__||Object.getPrototypeOf(TopN)).apply(this,arguments))}return _inherits(TopN,_Component),_createClass(TopN,[{key:"handleClick",value:function(item){var _this2=this;return function(){_this2.props.onClick&&_this2.props.onClick(item)}}},{key:"renderRow",value:function(maxValue){var _this3=this;return function(item){var key=""+(item.id||item.label),lastValue=(0,_get_last_value2.default)(item.data),formatter=item.tickFormatter||_this3.props.tickFormatter,value=formatter(lastValue),width=lastValue/maxValue*100+"%",backgroundColor=item.color,styles=(0,_reactcss2.default)({default:{innerBar:{width:width,backgroundColor:backgroundColor}},onClick:{row:{cursor:"pointer"}}},_this3.props);return _react2.default.createElement("tr",{key:key,onClick:_this3.handleClick(_extends({lastValue:lastValue},item)),style:styles.row},_react2.default.createElement("td",{width:"1*",className:"rhythm_top_n__label"},item.label),_react2.default.createElement("td",{width:"100%",className:"rhythm_top_n__bar"},_react2.default.createElement("div",{className:"rhythm_top_n__inner-bar",style:styles.innerBar})),_react2.default.createElement("td",{width:"1*",className:"rhythm_top_n__value"},value))}}},{key:"render",value:function(){if(!this.props.series)return null;var maxValue=this.props.series.reduce(function(max,series){var lastValue=(0,_get_last_value2.default)(series.data);return lastValue>max?lastValue:max},0),rows=this.props.series.map(this.renderRow(maxValue)),className="rhythm_top_n";return this.props.reversed&&(className+=" reversed"),_react2.default.createElement("div",{className:className},_react2.default.createElement("table",{className:"rhythm_top_n__table"},_react2.default.createElement("tbody",null,rows)))}}]),TopN}(_react.Component);TopN.defaultProps={tickFormatter:function(n){return n},onClick:function(i){return i},direction:"desc"},TopN.propTypes={tickFormatter:_propTypes2.default.func,onClick:_propTypes2.default.func,series:_propTypes2.default.array,reversed:_propTypes2.default.bool,direction:_propTypes2.default.string},exports.default=TopN,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getColor(rules,colorKey,value){var color=void 0;return rules&&rules.forEach(function(rule){rule.opperator&&null!=rule.value&&_lodash2.default[rule.opperator](value,rule.value)&&(color=rule[colorKey])}),color}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_calculate_label=__webpack_require__(755),_calculate_label2=_interopRequireDefault(_calculate_label),_is_sortable=__webpack_require__(4443),_eui=__webpack_require__(5),_replace_vars=__webpack_require__(521),_replace_vars2=_interopRequireDefault(_replace_vars),TableVis=function(_Component){function TableVis(props){_classCallCheck(this,TableVis);var _this=_possibleConstructorReturn(this,(TableVis.__proto__||Object.getPrototypeOf(TableVis)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(TableVis,_Component),_createClass(TableVis,[{key:"renderRow",value:function(row){var model=this.props.model,rowId=row.key,rowDisplay=rowId;if(model.drilldown_url){var url=(0,_replace_vars2.default)(model.drilldown_url,{},{key:row.key});rowDisplay=_react2.default.createElement("a",{href:url},rowDisplay)}var columns=row.series.filter(function(item){return item}).map(function(item){var column=model.series.find(function(c){return c.id===item.id});if(!column)return null;var formatter=(0,_tick_formatter2.default)(column.formatter,column.value_template),value=formatter(item.last),trend=void 0;if(column.trend_arrows){var trendClass=item.slope>0?"fa-long-arrow-up":"fa-long-arrow-down";trend=_react2.default.createElement("span",{className:"tsvb-table__trend"},_react2.default.createElement("i",{className:"fa "+trendClass}))}var style={color:getColor(column.color_rules,"text",item.last)};return _react2.default.createElement("td",{key:rowId+"-"+item.id,className:"tsvb-table__value",style:style},_react2.default.createElement("span",{className:"tsvb-table__value-display"},value),trend)});return _react2.default.createElement("tr",{key:rowId},_react2.default.createElement("td",{className:"tsvb-table__fieldName"},rowDisplay),columns)}},{key:"renderHeader",value:function(){var _props=this.props,model=_props.model,uiState=_props.uiState,onUiState=_props.onUiState,stateKey=model.type+".sort",sort=uiState.get(stateKey,{column:"_default_",order:"asc"}),columns=model.series.map(function(item){var metric=_lodash2.default.last(item.metrics),label=item.label||(0,_calculate_label2.default)(metric,item.metrics),handleClick=function(){if((0,_is_sortable.isSortable)(metric)){var order=void 0;order=sort.column===item.id&&"asc"===sort.order?"desc":"asc",onUiState(stateKey,{column:item.id,order:order})}},sortComponent=void 0;if((0,_is_sortable.isSortable)(metric)){var _sortIcon=void 0;_sortIcon=sort.column===item.id?"asc"===sort.order?"sort-asc":"sort-desc":"sort",sortComponent=_react2.default.createElement("i",{className:"fa fa-"+_sortIcon})}var headerContent=_react2.default.createElement("span",null,label," ",sortComponent);return(0,_is_sortable.isSortable)(metric)||(headerContent=_react2.default.createElement(_eui.EuiToolTip,{content:"This Column is Not Sortable"},headerContent)),_react2.default.createElement("th",{className:"tsvb-table__columnName",onClick:handleClick,key:item.id,scope:"col"},headerContent)}),label=model.pivot_label||model.pivot_field||model.pivot_id,sortIcon=void 0;sortIcon="_default_"===sort.column?"asc"===sort.order?"sort-asc":"sort-desc":"sort";var sortComponent=_react2.default.createElement("i",{className:"fa fa-"+sortIcon}),handleSortClick=function(){var order=void 0;order="_default_"===sort.column&&"asc"===sort.order?"desc":"asc",onUiState(stateKey,{column:"_default_",order:order})};return _react2.default.createElement("tr",null,_react2.default.createElement("th",{scope:"col",onClick:handleSortClick},label," ",sortComponent),columns)}},{key:"render",value:function(){var _props2=this.props,visData=_props2.visData,model=_props2.model,header=this.renderHeader(),rows=void 0,reversedClass="";if(this.props.reversed&&(reversedClass="reversed"),_lodash2.default.isArray(visData.series)&&visData.series.length)rows=visData.series.map(this.renderRow);else{var message="No results available.";model.pivot_id||(message+=" You must choose a group by field for this visualization."),rows=_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"tsvb-table__noResults",colSpan:model.series.length+1},message))}return _react2.default.createElement("div",{className:"dashboard__visualization "+reversedClass,"data-test-subj":"tableView"},_react2.default.createElement("table",{className:"table"},_react2.default.createElement("thead",null,header),_react2.default.createElement("tbody",null,rows)))}}]),TableVis}(_react.Component);TableVis.defaultProps={sort:{}},TableVis.propTypes={visData:_propTypes2.default.object,model:_propTypes2.default.object,backgroundColor:_propTypes2.default.string,onPaginate:_propTypes2.default.func,onUiState:_propTypes2.default.func,uiState:_propTypes2.default.object,pageNumber:_propTypes2.default.number,reversed:_propTypes2.default.bool},exports.default=TableVis,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function isSortable(metric){return _basic_aggs2.default.includes(metric.type)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSortable=isSortable;var _basic_aggs=__webpack_require__(1372),_basic_aggs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_basic_aggs)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getColors(props){var model=props.model,visData=props.visData,series=_lodash2.default.get(visData,model.id+".series",[]),text=void 0,gauge=void 0;return model.gauge_color_rules&&model.gauge_color_rules.forEach(function(rule){if(rule.opperator&&null!=rule.value){var value=series[0]&&(0,_get_last_value2.default)(series[0].data)||0;_lodash2.default[rule.opperator](value,rule.value)&&(gauge=rule.gauge,text=rule.text)}}),{text:text,gauge:gauge}}function GaugeVisualization(props){var backgroundColor=props.backgroundColor,model=props.model,visData=props.visData,colors=getColors(props),series=_lodash2.default.get(visData,model.id+".series",[]).filter(function(row){return row}).map(function(row,i){var seriesDef=model.series.find(function(s){return _lodash2.default.includes(row.id,s.id)}),newProps={};return seriesDef&&(newProps.formatter=(0,_tick_formatter2.default)(seriesDef.formatter,seriesDef.value_template)),0===i&&colors.gauge&&(newProps.color=colors.gauge),_lodash2.default.assign({},row,newProps)}),params={metric:series[0],type:model.gauge_style||"half",reversed:props.reversed,additionalLabel:props.additionalLabel};colors.text&&(params.valueColor=colors.text),model.gauge_width&&(params.gaugeLine=model.gauge_width),model.gauge_inner_color&&(params.innerColor=model.gauge_inner_color),model.gauge_inner_width&&(params.innerLine=model.gauge_inner_width),null!=model.gauge_max&&(params.max=model.gauge_max);var panelBackgroundColor=model.background_color||backgroundColor;panelBackgroundColor&&"inherit"!==panelBackgroundColor&&(params.reversed=(0,_color2.default)(panelBackgroundColor).luminosity()<.45);var style={backgroundColor:panelBackgroundColor};return _react2.default.createElement("div",{className:"dashboard__visualization",style:style},_react2.default.createElement(_gauge2.default,params))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_vis_with_splits=__webpack_require__(1370),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_gauge=__webpack_require__(4445),_gauge2=_interopRequireDefault(_gauge),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_color=__webpack_require__(398),_color2=_interopRequireDefault(_color);GaugeVisualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,additionalLabel:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object},exports.default=(0,_vis_with_splits.visWithSplits)(GaugeVisualization),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_get_last_value=__webpack_require__(220),_get_last_value2=_interopRequireDefault(_get_last_value),_get_value_by=__webpack_require__(4446),_get_value_by2=_interopRequireDefault(_get_value_by),_gauge_vis=__webpack_require__(4447),_gauge_vis2=_interopRequireDefault(_gauge_vis),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_calculate_corrdinates=__webpack_require__(756),_calculate_corrdinates2=_interopRequireDefault(_calculate_corrdinates),Gauge=function(_Component){function Gauge(props){_classCallCheck(this,Gauge);var _this=_possibleConstructorReturn(this,(Gauge.__proto__||Object.getPrototypeOf(Gauge)).call(this,props));return _this.state={scale:1,top:0,left:0,translateX:1,translateY:1},_this.handleResize=_this.handleResize.bind(_this),_this}return _inherits(Gauge,_Component),_createClass(Gauge,[{key:"componentWillMount",value:function(){var _this2=this;!function check(){_this2.timeout=setTimeout(function(){var newState=(0,_calculate_corrdinates2.default)(_this2.inner,_this2.resize,_this2.state);newState&&_this2.state&&!_lodash2.default.isEqual(newState,_this2.state)&&_this2.handleResize(),check()},500)}()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.handleResize()}},{key:"handleResize",value:function(){var newState=(0,_calculate_corrdinates2.default)(this.inner,this.resize,this.state);this.setState(newState)}},{key:"render",value:function(){var _this3=this,_props=this.props,metric=_props.metric,type=_props.type,_state=this.state,scale=_state.scale,translateX=_state.translateX,translateY=_state.translateY,value=metric&&(0,_get_last_value2.default)(metric.data)||0,max=metric&&(0,_get_value_by2.default)("max",metric.data)||1,formatter=metric&&(metric.tickFormatter||metric.formatter)||this.props.tickFormatter||function(v){return v},title=metric&&metric.label||"",styles=(0,_reactcss2.default)({default:{inner:{top:this.state.top||0,left:this.state.left||0,transform:"matrix("+scale+", 0, 0, "+scale+", "+translateX+", "+translateY+")"}},valueColor:{value:{color:this.props.valueColor}}},this.props),gaugeProps={reversed:this.props.reversed,value:value,gaugeLine:this.props.gaugeLine,innerLine:this.props.innerLine,innerColor:this.props.innerColor,max:this.props.max||max,color:metric&&metric.color||"#8ac336",type:type},metrics=void 0,additionalLabel=void 0;this.props.additionalLabel&&(additionalLabel=_react2.default.createElement("div",{className:"thorGauge_additionalLabel"},this.props.additionalLabel)),metrics="half"===type?_react2.default.createElement("div",{className:"thorHalfGauge__metrics",ref:function(el){return _this3.inner=el},style:styles.inner},_react2.default.createElement("div",{className:"thorHalfGauge__label",ref:"title"},title),_react2.default.createElement("div",{className:"thorHalfGauge__value",style:styles.value,ref:"label"},formatter(value)),additionalLabel):_react2.default.createElement("div",{className:"thorCircleGauge__metrics",ref:function(el){return _this3.inner=el},style:styles.inner},_react2.default.createElement("div",{className:"thorCircleGauge__value",style:styles.value,ref:"label"},formatter(value)),_react2.default.createElement("div",{className:"thorCircleGauge__label",ref:"title"},title),additionalLabel);var className="half"===type?"thorHalfGauge":"thorCircleGauge";return this.props.reversed&&(className="reversed "+className),_react2.default.createElement("div",{className:className},_react2.default.createElement("div",{ref:function(el){return _this3.resize=el},className:className+"__resize"},metrics,_react2.default.createElement(_gauge_vis2.default,gaugeProps)))}}]),Gauge}(_react.Component);Gauge.defaultProps={type:"half",innerLine:2,gaugeLine:10},Gauge.propTypes={gaugeLine:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),innerColor:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),innerLine:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),max:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),metric:_propTypes2.default.object,reversed:_propTypes2.default.bool,type:_propTypes2.default.oneOf(["half","circle"]),valueColor:_propTypes2.default.string,additionalLabel:_propTypes2.default.string},exports.default=Gauge,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(fn,data){if(_lodash2.default.isNumber(data))return data;if(!Array.isArray(data))return 0;var values=data.map(function(v){return v[1]});return _lodash2.default[fn](values)},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_reactcss=__webpack_require__(18),_reactcss2=_interopRequireDefault(_reactcss),_calculate_corrdinates=__webpack_require__(756),_calculate_corrdinates2=_interopRequireDefault(_calculate_corrdinates),GaugeVis=function(_Component){function GaugeVis(props){_classCallCheck(this,GaugeVis);var _this=_possibleConstructorReturn(this,(GaugeVis.__proto__||Object.getPrototypeOf(GaugeVis)).call(this,props));return _this.state={scale:1,top:0,left:0,translateX:1,translateY:1},_this.handleResize=_this.handleResize.bind(_this),_this}return _inherits(GaugeVis,_Component),_createClass(GaugeVis,[{key:"componentWillMount",value:function(){var _this2=this;!function check(){_this2.timeout=setTimeout(function(){var newState=(0,_calculate_corrdinates2.default)(_this2.inner,_this2.resize,_this2.state);newState&&_this2.state&&!_lodash2.default.isEqual(newState,_this2.state)&&_this2.handleResize(),check()},500)}()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){this.handleResize()}},{key:"handleResize",value:function(){var newState=(0,_calculate_corrdinates2.default)(this.inner,this.resize,this.state);this.setState(newState)}},{key:"render",value:function(){var _this3=this,_props=this.props,type=_props.type,value=_props.value,max=_props.max,color=_props.color,_state=this.state,scale=_state.scale,translateX=_state.translateX,translateY=_state.translateY,size=2*Math.PI*50,sliceSize="half"===type?.6:1,percent=value<max?value/max:1,styles=(0,_reactcss2.default)({default:{resize:{position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"},svg:{position:"absolute",top:this.state.top,left:this.state.left,transform:"matrix("+scale+", 0, 0, "+scale+", "+translateX+", "+translateY+")"},innerLine:{strokeWidth:this.props.innerLine},gaugeLine:{strokeWidth:this.props.gaugeLine}},half:{svg:{transform:"matrix("+scale+", 0, 0, "+scale+", "+translateX+", "+translateY+")"}}},{half:"half"===type}),props={circle:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:color,strokeWidth:this.props.gaugeLine,strokeDasharray:percent*sliceSize*size+" "+size,transform:"rotate(-90 60 60)"},circleBackground:{r:50,cx:60,cy:60,fill:"rgba(0,0,0,0)",stroke:this.props.reversed?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)",strokeDasharray:sliceSize*size+" "+size,strokeWidth:this.props.innerLine}};"half"===type&&(props.circle.transform="rotate(-197.8 60 60)",props.circleBackground.transform="rotate(162 60 60)"),this.props.innerColor&&(props.circleBackground.stroke=this.props.innerColor);var svg=void 0;return svg="half"===type?_react2.default.createElement("svg",{width:120.72,height:78.72},_react2.default.createElement("circle",_extends({},props.circleBackground,{style:styles.innerLine})),_react2.default.createElement("circle",_extends({},props.circle,{style:styles.gaugeLine}))):_react2.default.createElement("svg",{width:120.72,height:120.72},_react2.default.createElement("circle",props.circleBackground),_react2.default.createElement("circle",props.circle)),_react2.default.createElement("div",{ref:function(el){return _this3.resize=el},style:styles.resize},_react2.default.createElement("div",{style:styles.svg,ref:function(el){return _this3.inner=el}},svg))}}]),GaugeVis}(_react.Component);GaugeVis.defaultProps={innerLine:2,gaugeLine:10},GaugeVis.propTypes={color:_propTypes2.default.string,gaugeLine:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),innerColor:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),innerLine:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),max:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),metric:_propTypes2.default.object,reversed:_propTypes2.default.bool,value:_propTypes2.default.number,type:_propTypes2.default.oneOf(["half","circle"])},exports.default=GaugeVis,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MarkdownVisualization(props){var backgroundColor=props.backgroundColor,model=props.model,visData=props.visData,dateFormat=props.dateFormat,series=_lodash2.default.get(visData,model.id+".series",[]),variables=(0,_convert_series_to_vars2.default)(series,model,dateFormat),style={},reversed=props.reversed,panelBackgroundColor=model.background_color||backgroundColor;panelBackgroundColor&&(style.backgroundColor=panelBackgroundColor,reversed=(0,_color2.default)(panelBackgroundColor).luminosity()<.45);var markdown=void 0;if(model.markdown){var markdownSource=(0,_replace_vars2.default)(model.markdown,{},_extends({_all:variables},variables)),className="thorMarkdown",contentClassName="thorMarkdown__content "+model.markdown_vertical_align;model.markdown_scrollbars&&(contentClassName+=" scrolling"),reversed&&(className+=" reversed");var markdownError=markdownSource instanceof Error?markdownSource:null;markdown=_react2.default.createElement("div",{className:className},markdownError&&_react2.default.createElement(_error2.default,{error:markdownError}),_react2.default.createElement("style",{type:"text/css"},model.markdown_css),_react2.default.createElement("div",{className:contentClassName},_react2.default.createElement("div",{id:"markdown-"+model.id},!markdownError&&_react2.default.createElement(_reactMarkdown2.default,{escapeHtml:!0,source:markdownSource}))))}return _react2.default.createElement("div",{className:"dashboard__visualization",style:style},markdown)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_color=__webpack_require__(398),_color2=_interopRequireDefault(_color),_reactMarkdown=__webpack_require__(4449),_reactMarkdown2=_interopRequireDefault(_reactMarkdown),_replace_vars=__webpack_require__(521),_replace_vars2=_interopRequireDefault(_replace_vars),_convert_series_to_vars=__webpack_require__(1379),_convert_series_to_vars2=_interopRequireDefault(_convert_series_to_vars),_error=__webpack_require__(1380),_error2=_interopRequireDefault(_error);MarkdownVisualization.propTypes={backgroundColor:_propTypes2.default.string,className:_propTypes2.default.string,model:_propTypes2.default.object,onBrush:_propTypes2.default.func,onChange:_propTypes2.default.func,reversed:_propTypes2.default.bool,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=MarkdownVisualization,module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function NoDataComponent(){return _react2.default.createElement("div",{className:"metrics_issue"},_react2.default.createElement("div",{className:"metrics_issue__title"},"No data to display for the selected metrics ."))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=NoDataComponent,module.exports=exports.default},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VisPickerItem(props){var label=props.label,icon=props.icon,type=props.type,itemClassName="vis_editor__vis_picker-item",iconClassName="vis_editor__vis_picker-icon",labelClassName="vis_editor__vis_picker-label";return props.selected&&(itemClassName+=" selected",iconClassName+=" selected",labelClassName+=" selected"),_react2.default.createElement("button",{role:"tab",className:itemClassName,onClick:function(){return props.onClick(type)},"data-test-subj":type+"TsvbTypeBtn"},_react2.default.createElement("div",{className:iconClassName},_react2.default.createElement("i",{className:"fa "+icon})),_react2.default.createElement("div",{className:labelClassName},label))}function VisPicker(props){var handleChange=function(type){props.onChange({type:type})},model=props.model,icons=[{type:"timeseries",icon:"fa-line-chart",label:"Time Series"},{type:"metric",icon:"fa-superscript",label:"Metric"},{type:"top_n",icon:"fa-bar-chart fa-rotate-90",label:"Top N"},{type:"gauge",icon:"fa-circle-o-notch",label:"Gauge"},{type:"markdown",icon:"fa-paragraph",label:"Markdown"},{type:"table",icon:"fa-paragraph",label:"Table"}].map(function(item){return _react2.default.createElement(VisPickerItem,_extends({key:item.type,onClick:handleChange,selected:item.type===model.type},item))});return _react2.default.createElement("div",{className:"vis_editor__vis_picker-container",role:"tablist"},icons)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);VisPickerItem.propTypes={icon:_propTypes2.default.string,label:_propTypes2.default.string,onClick:_propTypes2.default.func,type:_propTypes2.default.string,selected:_propTypes2.default.bool},VisPicker.propTypes={model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=VisPicker,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelConfig(props){var model=props.model,component=types[model.type];return component?_react2.default.createElement(component,props):_react2.default.createElement("div",null,"Missing panel config for “",model.type,"”")}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_timeseries=__webpack_require__(4535),_timeseries2=_interopRequireDefault(_timeseries),_metric=__webpack_require__(4578),_metric2=_interopRequireDefault(_metric),_top_n=__webpack_require__(4579),_top_n2=_interopRequireDefault(_top_n),_table=__webpack_require__(4580),_table2=_interopRequireDefault(_table),_gauge=__webpack_require__(4581),_gauge2=_interopRequireDefault(_gauge),_markdown=__webpack_require__(4582),_markdown2=_interopRequireDefault(_markdown),types={timeseries:_timeseries2.default,table:_table2.default,metric:_metric2.default,top_n:_top_n2.default,gauge:_gauge2.default,markdown:_markdown2.default};PanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=PanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_annotations_editor=__webpack_require__(4576),_annotations_editor2=_interopRequireDefault(_annotations_editor),_index_pattern=__webpack_require__(221),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),TimeseriesPanelConfig=function(_Component){function TimeseriesPanelConfig(props){_classCallCheck(this,TimeseriesPanelConfig);var _this=_possibleConstructorReturn(this,(TimeseriesPanelConfig.__proto__||Object.getPrototypeOf(TimeseriesPanelConfig)).call(this,props));return _this.state={selectedTab:"data"},_this}return _inherits(TimeseriesPanelConfig,_Component),_createClass(TimeseriesPanelConfig,[{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"render",value:function(){var _this2=this,defaults={filter:"",axis_max:"",axis_min:"",legend_position:"right",show_grid:1},model=_extends({},defaults,this.props.model),selectedTab=this.state.selectedTab,handleSelectChange=(0,_create_select_handler2.default)(this.props.onChange),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),htmlId=(0,_eui.htmlIdGenerator)(),positionOptions=[{label:"Right",value:"right"},{label:"Left",value:"left"}],legendPositionOptions=[{label:"Right",value:"right"},{label:"Left",value:"left"},{label:"Bottom",value:"bottom"}],view=void 0;return view="data"===selectedTab?_react2.default.createElement(_series_editor2.default,{fields:this.props.fields,model:this.props.model,name:this.props.name,onChange:this.props.onChange}):"annotations"===selectedTab?_react2.default.createElement(_annotations_editor2.default,{fields:this.props.fields,model:this.props.model,name:"annotations",onChange:this.props.onChange}):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisMin")},"Axis Min"),_react2.default.createElement("input",{id:htmlId("axisMin"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("axis_min"),value:model.axis_min}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisMax")},"Axis Max"),_react2.default.createElement("input",{id:htmlId("axisMax"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("axis_max"),value:model.axis_max}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisPos")},"Axis Position"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("axisPos")},autosize:!1,clearable:!1,options:positionOptions,value:model.axis_position,onChange:handleSelectChange("axis_position")}))),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Background Color"),_react2.default.createElement(_color_picker2.default,{onChange:this.props.onChange,name:"background_color",value:model.background_color}),_react2.default.createElement("div",{className:"vis_editor__label"},"Show Legend"),_react2.default.createElement(_yes_no2.default,{value:model.show_legend,name:"show_legend",onChange:this.props.onChange}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("legendPos")},"Legend Position"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("legendPos")},clearable:!1,options:legendPositionOptions,value:model.legend_position,onChange:handleSelectChange("legend_position")})),_react2.default.createElement("div",{className:"vis_editor__label"},"Display Grid"),_react2.default.createElement(_yes_no2.default,{value:model.show_grid,name:"show_grid",onChange:this.props.onChange})),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilter")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("div",{className:"vis_editor__label"},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"data"===selectedTab,className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("data")}},"Data"),_react2.default.createElement("button",{role:"tab","aria-selected":"options"===selectedTab,className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("options")}},"Panel Options"),_react2.default.createElement("button",{role:"tab","aria-selected":"annotations"===selectedTab,className:"kbnTabs__tab"+("annotations"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("annotations")}},"Annotations")),view)}}]),TimeseriesPanelConfig}(_react.Component);TimeseriesPanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object},exports.default=TimeseriesPanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);exports.default=function(source){var series=_lodash2.default.cloneDeep(source);return series.id=_uuid2.default.v1(),series.metrics.forEach(function(metric){var id=_uuid2.default.v1(),metricId=metric.id;metric.id=id,series.terms_order_by===metricId&&(series.terms_order_by=id),series.metrics.filter(function(r){return r.field===metricId}).forEach(function(r){return r.field=id}),series.metrics.filter(function(r){return"calculation"===r.type&&r.variables.some(function(v){return v.field===metricId})}).forEach(function(r){r.variables.filter(function(v){return v.field===metricId}).forEach(function(v){v.id=_uuid2.default.v1(),v.field=id})})}),series},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_series=__webpack_require__(4538),_series2=_interopRequireDefault(_series),_series3=__webpack_require__(4569),_series4=_interopRequireDefault(_series3),_series5=__webpack_require__(4570),_series6=_interopRequireDefault(_series5),_series7=__webpack_require__(4571),_series8=_interopRequireDefault(_series7),_series9=__webpack_require__(4573),_series10=_interopRequireDefault(_series9),_series11=__webpack_require__(4574),_series12=_interopRequireDefault(_series11),_reactAnythingSortable=__webpack_require__(198),lookup={top_n:_series6.default,table:_series8.default,metric:_series4.default,timeseries:_series2.default,gauge:_series10.default,markdown:_series12.default},Series=function(_Component){function Series(props){_classCallCheck(this,Series);var _this=_possibleConstructorReturn(this,(Series.__proto__||Object.getPrototypeOf(Series)).call(this,props));return _this.state={visible:!0,selectedTab:"metrics"},_this.handleChange=_this.handleChange.bind(_this),_this.switchTab=_this.switchTab.bind(_this),_this.toggleVisible=_this.toggleVisible.bind(_this),_this}return _inherits(Series,_Component),_createClass(Series,[{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"handleChange",value:function(part){if(this.props.onChange){var model=this.props.model,doc=_lodash2.default.assign({},model,part);this.props.onChange(doc)}}},{key:"toggleVisible",value:function(e){e.preventDefault(),this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var panel=this.props.panel,Component=lookup[panel.type];if(Component){var params={className:this.props.className,disableAdd:this.props.disableAdd,disableDelete:this.props.disableDelete,fields:this.props.fields,name:this.props.name,onAdd:this.props.onAdd,onChange:this.handleChange,onClone:this.props.onClone,onDelete:this.props.onDelete,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart,onShouldSortItem:this.props.onShouldSortItem,onSortableItemMount:this.props.onSortableItemMount,onSortableItemReadyToMove:this.props.onSortableItemReadyToMove,model:this.props.model,panel:this.props.panel,selectedTab:this.state.selectedTab,sortData:this.props.sortData,style:this.props.style,switchTab:this.switchTab,toggleVisible:this.toggleVisible,visible:this.state.visible};return _react2.default.createElement(Component,params)}return _react2.default.createElement("div",null,"Missing Series component for panel type: ",panel.type)}}]),Series}(_react.Component);Series.defaultProps={name:"metrics"},Series.propTypes={className:_propTypes2.default.string,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onShouldSortItem:_propTypes2.default.func.isRequired,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,sortData:_propTypes2.default.string},exports.default=(0,_reactAnythingSortable.sortable)(Series),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeseriesSeries(props){var panel=props.panel,fields=props.fields,onAdd=props.onAdd,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,onChange=props.onChange,visible=props.visible,defaults={label:""},model=_extends({},defaults,props.model),handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs),_react2.default.createElement("div",{className:"vis_editor__series_row"},_react2.default.createElement("div",{className:"vis_editor__series_row-item"},_react2.default.createElement(_split2.default,{onChange:props.onChange,fields:fields,panel:panel,model:model}))))}else seriesBody=_react2.default.createElement(_config2.default,{fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"metrics"===selectedTab,className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("button",{role:"tab","data-test-subj":"seriesOptions","aria-selected":"options"===selectedTab,className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}var colorPicker=_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:props.onChange,name:"color",value:model.color}),dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("button",{className:"vis_editor__sort thor__button-outlined-default sm","aria-label":"Sort series by pressing up/down",onKeyDown:(0,_sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)},_react2.default.createElement("i",{className:"fa fa-sort"})))),_react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible,"aria-label":"Toggle series editor","aria-expanded":props.visible},_react2.default.createElement("i",{className:caretClassName})),colorPicker,_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{className:"vis_editor__input-grows",onChange:handleChange("label"),placeholder:"Label",value:model.label})),dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_config=__webpack_require__(4541),_config2=_interopRequireDefault(_config),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_eui=__webpack_require__(5),_split=__webpack_require__(399),_split2=_interopRequireDefault(_split),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_sort_keyhandler=__webpack_require__(400);TimeseriesSeries.propTypes={className:_propTypes2.default.string,colorPicker:_propTypes2.default.bool,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onShouldSortItem:_propTypes2.default.func.isRequired,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=TimeseriesSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomColorPicker=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_common=__webpack_require__(42),_ChromeFields=__webpack_require__(971),_ChromeFields2=_interopRequireDefault(_ChromeFields),_ChromePointer=__webpack_require__(972),_ChromePointer2=_interopRequireDefault(_ChromePointer),_ChromePointerCircle=__webpack_require__(973),_ChromePointerCircle2=_interopRequireDefault(_ChromePointerCircle),_CompactColor=__webpack_require__(974),_CompactColor2=_interopRequireDefault(_CompactColor),_color=__webpack_require__(113),_color2=_interopRequireDefault(_color),_reactAddonsShallowCompare=__webpack_require__(4540),_reactAddonsShallowCompare2=_interopRequireDefault(_reactAddonsShallowCompare),CustomColorPicker=exports.CustomColorPicker=function(_Component){function CustomColorPicker(props){_classCallCheck(this,CustomColorPicker);var _this=_possibleConstructorReturn(this,(CustomColorPicker.__proto__||Object.getPrototypeOf(CustomColorPicker)).call(this,props));return _this.handleChange=_this.handleChange.bind(_this),_this}return _inherits(CustomColorPicker,_Component),_createClass(CustomColorPicker,[{key:"shouldComponentUpdate",value:function(nextProps,nextState){return(0,_reactAddonsShallowCompare2.default)(nextProps,nextState)}},{key:"handleChange",value:function(data){this.props.onChange(data)}},{key:"render",value:function(){var _this2=this,rgb=this.props.rgb,styles={active:{background:"rgba("+rgb.r+", "+rgb.g+", "+rgb.b+", "+rgb.a+")"},Saturation:{radius:"2px 2px 0 0 "},Hue:{radius:"2px"},Alpha:{radius:"2px"}},handleSwatchChange=function(data){data.hex?_color2.default.isValidHex(data.hex)&&_this2.props.onChange({hex:data.hex,source:"hex"}):_this2.props.onChange(data)},swatches=this.props.colors.map(function(c){return _react2.default.createElement(_CompactColor2.default,{key:c,color:c,onClick:handleSwatchChange})});return _react2.default.createElement("div",{className:"custom-picker color_picker"},_react2.default.createElement("div",{className:"color_picker__saturation"},_react2.default.createElement(_common.Saturation,_extends({style:styles.Saturation},this.props,{pointer:_ChromePointerCircle2.default,onChange:this.handleChange}))),_react2.default.createElement("div",{className:"color_picker__body"},_react2.default.createElement("div",{className:"color_picker__controls flexbox-fix"},_react2.default.createElement("div",{className:this.props.disableAlpha?"color_picker__color-disable_alpha":"color_picker__color"},_react2.default.createElement("div",{className:this.props.disableAlpha?"color_picker__swatch-disable_alpha":"color_picker__swatch"},_react2.default.createElement("div",{className:"color_picker__active"}),_react2.default.createElement(_common.Checkboard,null))),_react2.default.createElement("div",{className:"color_picker__toggles"},_react2.default.createElement("div",{className:this.props.disableAlpha?"color_picker__hue-disable_alpha":"color_picker__hue"},_react2.default.createElement(_common.Hue,_extends({style:styles.Hue},this.props,{pointer:_ChromePointer2.default,onChange:this.handleChange}))),_react2.default.createElement("div",{className:this.props.disableAlpha?"color_picker__alpha-disable_alpha":"color_picker__alpha"},_react2.default.createElement(_common.Alpha,_extends({style:styles.Alpha},this.props,{pointer:_ChromePointer2.default,onChange:this.handleChange}))))),_react2.default.createElement(_ChromeFields2.default,_extends({},this.props,{onChange:this.handleChange,disableAlpha:this.props.disableAlpha})),_react2.default.createElement("div",{className:"color_picker__swatches flexbox-fix"},swatches)))}}]),CustomColorPicker}(_react.Component);CustomColorPicker.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#0F1419","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},CustomColorPicker.propTypes={color:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.object]),onChangeComplete:_propTypes2.default.func,onChange:_propTypes2.default.func},exports.default=(0,_common.ColorWrap)(CustomColorPicker)},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeseriesConfig(props){var handleSelectChange=(0,_create_select_handler2.default)(props.onChange),handleTextChange=(0,_create_text_handler2.default)(props.onChange),defaults={fill:"",line_width:"",point_size:"",value_template:"{{value}}",offset_time:"",split_color_mode:"gradient",axis_min:"",axis_max:"",stacked:"none",steps:0},model=_extends({},defaults,props.model),htmlId=(0,_eui.htmlIdGenerator)(),stackedOptions=[{label:"None",value:"none"},{label:"Stacked",value:"stacked"},{label:"Percent",value:"percent"}],positionOptions=[{label:"Right",value:"right"},{label:"Left",value:"left"}],chartTypeOptions=[{label:"Bar",value:"bar"},{label:"Line",value:"line"}],splitColorOptions=[{label:"Gradient",value:"gradient"},{label:"Rainbow",value:"rainbow"}],type=void 0;"line"===model.chart_type&&(type=_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("chartType")},"Chart Type"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("chartType")},clearable:!1,options:chartTypeOptions,value:model.chart_type,onChange:handleSelectChange("chart_type")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("stacked")},"Stacked"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("stacked")},clearable:!1,options:stackedOptions,value:model.stacked,onChange:handleSelectChange("stacked")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("fill")},"Fill (0 to 1)"),_react2.default.createElement("input",{id:htmlId("fill"),className:"vis_editor__input-grows",type:"number",step:"0.1",onChange:handleTextChange("fill"),value:model.fill}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("lineWidth")},"Line Width"),_react2.default.createElement("input",{id:htmlId("lineWidth"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("line_width"),value:model.line_width}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("pointSize")},"Point Size"),_react2.default.createElement("input",{id:htmlId("pointSize"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("point_size"),value:model.point_size}),_react2.default.createElement("div",{className:"vis_editor__label"},"Steps"),_react2.default.createElement(_yes_no2.default,{value:model.steps,name:"steps",onChange:props.onChange}))),"bar"===model.chart_type&&(type=_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("chartType")},"Chart Type"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("chartType")},clearable:!1,options:chartTypeOptions,value:model.chart_type,onChange:handleSelectChange("chart_type")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("stacked")},"Stacked"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("stacked")},clearable:!1,options:stackedOptions,value:model.stacked,onChange:handleSelectChange("stacked")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("fill")},"Fill (0 to 1)"),_react2.default.createElement("input",{id:htmlId("fill"),className:"vis_editor__input-grows",type:"number",step:"0.5",onChange:handleTextChange("fill"),value:model.fill}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("lineWidth")},"Line Width"),_react2.default.createElement("input",{id:htmlId("lineWidth"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("line_width"),value:model.line_width})));var disableSeperateYaxis=!model.seperate_axis;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__series_config-container"},_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement(_data_format_picker2.default,{onChange:handleSelectChange("formatter"),value:model.formatter}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("template")},"Template (eg.",_react2.default.createElement("code",null,"{{value}}/s"),")"),_react2.default.createElement("input",{id:htmlId("template"),className:"vis_editor__input-grows",onChange:handleTextChange("value_template"),value:model.value_template})),type,_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("offset")},"Offset series time by (1m, 1h, 1w, 1d)"),_react2.default.createElement("input",{id:htmlId("offset"),"data-test-subj":"offsetTimeSeries",className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("offset_time"),value:model.offset_time}),_react2.default.createElement("div",{className:"vis_editor__label"},"Hide in Legend"),_react2.default.createElement(_yes_no2.default,{value:model.hide_in_legend,name:"hide_in_legend",onChange:props.onChange}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("splitColor")},"Split Color Theme"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("splitColor")},clearable:!1,options:splitColorOptions,value:model.split_color_mode,onChange:handleSelectChange("split_color_mode")}))),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Separate Axis"),_react2.default.createElement(_yes_no2.default,{value:model.seperate_axis,name:"seperate_axis",onChange:props.onChange}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisMin")},"Axis Min"),_react2.default.createElement("input",{id:htmlId("axisMin"),className:"vis_editor__input-grows",type:"number",disabled:disableSeperateYaxis,onChange:handleTextChange("axis_min"),value:model.axis_min}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisMax")},"Axis Max"),_react2.default.createElement("input",{id:htmlId("axisMax"),className:"vis_editor__input-grows",type:"number",disabled:disableSeperateYaxis,onChange:handleTextChange("axis_max"),value:model.axis_max}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("axisPos")},"Axis Position"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("axisPos")},clearable:!1,disabled:disableSeperateYaxis,options:positionOptions,value:model.axis_position,onChange:handleSelectChange("axis_position")}))),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Override Index Pattern"),_react2.default.createElement(_yes_no2.default,{value:model.override_index_pattern,name:"override_index_pattern",onChange:props.onChange}),_react2.default.createElement(_index_pattern.IndexPattern,_extends({},props,{prefix:"series_",className:"vis_editor__row_item vis_editor__row",disabled:!model.override_index_pattern,"with-interval":!0}))),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("series_filter")},"Filter"),_react2.default.createElement("input",{id:htmlId("series_filter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_data_format_picker=__webpack_require__(762),_data_format_picker2=_interopRequireDefault(_data_format_picker),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_index_pattern=__webpack_require__(221),_eui=__webpack_require__(5);TimeseriesConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=TimeseriesConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function byType(type){return function(field){switch(type){case"numeric":return _lodash2.default.includes(["number"],field.type);case"string":return _lodash2.default.includes(["string","keyword","text"],field.type);case"date":return _lodash2.default.includes(["date"],field.type);default:return!0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=byType;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SplitByTerms=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_group_by_select=__webpack_require__(524),_group_by_select2=_interopRequireDefault(_group_by_select),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect);(exports.SplitByTerms=function(props){var handleTextChange=(0,_create_text_handler2.default)(props.onChange),handleSelectChange=(0,_create_select_handler2.default)(props.onChange),indexPattern=props.indexPattern,defaults={terms_direction:"desc",terms_size:10,terms_order_by:"_count"},model=_extends({},defaults,props.model),metrics=model.metrics,defaultCount={value:"_count",label:"Doc Count (default)"},terms={value:"_term",label:"Terms"},dirOptions=[{value:"desc",label:"Descending"},{value:"asc",label:"Ascending"}];return _react2.default.createElement("div",{className:"vis_editor__split-container"},_react2.default.createElement("div",{className:"vis_editor__label"},"Group By"),_react2.default.createElement("div",{className:"vis_editor__split-selects"},_react2.default.createElement(_group_by_select2.default,{value:model.split_mode,onChange:handleSelectChange("split_mode")})),_react2.default.createElement("div",{className:"vis_editor__label"},"By"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_field_select2.default,{indexPattern:indexPattern,onChange:handleSelectChange("terms_field"),value:model.terms_field,fields:props.fields})),_react2.default.createElement("div",{className:"vis_editor__label"},"Top"),_react2.default.createElement("input",{placeholder:"Size...",type:"number",value:model.terms_size,className:"vis_editor__split-term_count",onChange:handleTextChange("terms_size")}),_react2.default.createElement("div",{className:"vis_editor__label"},"Order By"),_react2.default.createElement("div",{className:"vis_editor__split-aggs"},_react2.default.createElement(_metric_select2.default,{metrics:metrics,clearable:!1,additionalOptions:[defaultCount,terms],onChange:handleSelectChange("terms_order_by"),restrict:"basic",value:model.terms_order_by})),_react2.default.createElement("div",{className:"vis_editor__label"},"Direction"),_react2.default.createElement("div",{className:"vis_editor__split-aggs"},_react2.default.createElement(_reactSelect2.default,{options:dirOptions,clearable:!1,value:model.terms_direction,onChange:handleSelectChange("terms_direction")})))}).propTypes={model:_propTypes2.default.object,onChange:_propTypes2.default.func,indexPattern:_propTypes2.default.string,fields:_propTypes2.default.object}},function(module,exports,__webpack_require__){"use strict";function getAncestors(siblings,item){var ancestors=item.id&&[item.id]||[];return siblings.forEach(function(sib){_lodash2.default.includes(ancestors,sib.field)&&ancestors.push(sib.id)}),ancestors}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.default=function(siblings,model){var ancestors=getAncestors(siblings,model);return siblings.filter(function(row){return!_lodash2.default.includes(ancestors,row.id)})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SplitByFilter=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_group_by_select=__webpack_require__(524),_group_by_select2=_interopRequireDefault(_group_by_select),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);(exports.SplitByFilter=function(props){var onChange=props.onChange,defaults={filter:""},model=_extends({},defaults,props.model),handleTextChange=(0,_create_text_handler2.default)(onChange),handleSelectChange=(0,_create_select_handler2.default)(onChange);return _react2.default.createElement("div",{className:"vis_editor__split-container"},_react2.default.createElement("div",{className:"vis_editor__label"},"Group By"),_react2.default.createElement("div",{className:"vis_editor__split-selects"},_react2.default.createElement(_group_by_select2.default,{value:model.split_mode,onChange:handleSelectChange("split_mode")})),_react2.default.createElement("div",{className:"vis_editor__label"},"Query String"),_react2.default.createElement("input",{className:"vis_editor__split-filter",value:model.filter,onChange:handleTextChange("filter")}))}).propTypes={model:_propTypes2.default.object,onChange:_propTypes2.default.func}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SplitByFilters(props){var onChange=props.onChange,model=props.model,handleSelectChange=(0,_create_select_handler2.default)(onChange);return _react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("div",{className:"vis_editor__split-container"},_react2.default.createElement("div",{className:"vis_editor__label"},"Group By"),_react2.default.createElement("div",{className:"vis_editor__split-selects"},_react2.default.createElement(_group_by_select2.default,{value:model.split_mode,onChange:handleSelectChange("split_mode")}))),_react2.default.createElement("div",{className:"vis_editor__split-container"},_react2.default.createElement("div",{className:"vis_editor__row vis_editor__item"},_react2.default.createElement(_filter_items2.default,{name:"split_filters",model:model,onChange:onChange}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_group_by_select=__webpack_require__(524),_group_by_select2=_interopRequireDefault(_group_by_select),_filter_items=__webpack_require__(4547),_filter_items2=_interopRequireDefault(_filter_items),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);SplitByFilters.propTypes={model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=SplitByFilters,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_collection_actions=__webpack_require__(223),collectionActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_collection_actions),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),FilterItems=function(_Component){function FilterItems(props){_classCallCheck(this,FilterItems);var _this=_possibleConstructorReturn(this,(FilterItems.__proto__||Object.getPrototypeOf(FilterItems)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(FilterItems,_Component),_createClass(FilterItems,[{key:"handleChange",value:function(item,name){var _this2=this;return function(e){collectionActions.handleChange.bind(null,_this2.props)(_lodash2.default.assign({},item,_defineProperty({},name,_lodash2.default.get(e,"value",_lodash2.default.get(e,"target.value")))))}}},{key:"renderRow",value:function(row,i,items){var _this3=this,defaults={filter:"",label:""},model=_extends({},defaults,row),handleChange=function(part){collectionActions.handleChange.bind(null,_this3.props)(_lodash2.default.assign({},model,part))},newFilter=function(){return{color:_this3.props.model.color,id:_uuid2.default.v1()}},handleAdd=collectionActions.handleAdd.bind(null,this.props,newFilter),handleDelete=collectionActions.handleDelete.bind(null,this.props,model);return _react2.default.createElement("div",{className:"vis_editor__split-filter-row",key:model.id},_react2.default.createElement("div",{className:"vis_editor__split-filter-color"},_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:handleChange,name:"color",value:model.color})),_react2.default.createElement("div",{className:"vis_editor__split-filter-item"},_react2.default.createElement("input",{placeholder:"Filter",className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"filter"),value:model.filter})),_react2.default.createElement("div",{className:"vis_editor__split-filter-item"},_react2.default.createElement("input",{placeholder:"Label",className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"label"),value:model.label})),_react2.default.createElement("div",{className:"vis_editor__split-filter-control"},_react2.default.createElement(_add_delete_buttons2.default,{onAdd:handleAdd,onDelete:handleDelete,disableDelete:items.length<2})))}},{key:"render",value:function(){var _props=this.props,model=_props.model,name=_props.name;if(!model[name])return _react2.default.createElement("div",null);var rows=model[name].map(this.renderRow);return _react2.default.createElement("div",{className:"vis_editor__split-filters"},rows)}}]),FilterItems}(_react.Component);FilterItems.propTypes={name:_propTypes2.default.string,model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=FilterItems,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SplitByEverything(props){var onChange=props.onChange,model=props.model,handleSelectChange=(0,_create_select_handler2.default)(onChange);return _react2.default.createElement("div",{className:"vis_editor__split-container"},_react2.default.createElement("div",{className:"vis_editor__label"},"Group By"),_react2.default.createElement("div",{className:"vis_editor__split-selects"},_react2.default.createElement(_group_by_select2.default,{value:model.split_mode,onChange:handleSelectChange("split_mode")})))}Object.defineProperty(exports,"__esModule",{value:!0});var _create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_group_by_select=__webpack_require__(524),_group_by_select2=_interopRequireDefault(_group_by_select),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react);SplitByEverything.propTypes={model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=SplitByEverything,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_new_metric_agg_fn=__webpack_require__(763),_new_metric_agg_fn2=_interopRequireDefault(_new_metric_agg_fn),_agg_lookup=__webpack_require__(1371),_collection_actions=__webpack_require__(223);exports.default=function(props,items){return function(doc){1!==items.length||(0,_agg_lookup.isBasicAgg)(doc)?_collection_actions.handleChange.call(null,props,doc):_collection_actions.handleAdd.call(null,props,function(){var metric=(0,_new_metric_agg_fn2.default)();metric.type=doc.type;var incompatPipelines=["calculation","series_agg"];return _lodash2.default.contains(incompatPipelines,doc.type)||(metric.field=doc.id),metric})}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Agg(props){var model=props.model,Component=_agg_to_component2.default[model.type];Component||(Component=_unsupported_agg.UnsupportedAgg);var style=_extends({cursor:"default"},props.style);return _react2.default.createElement("div",{className:props.className,style:style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement(Component,{fields:props.fields,disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onChange:props.onChange,onDelete:props.onDelete,panel:props.panel,series:props.series,siblings:props.siblings}))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_to_component=__webpack_require__(4551),_agg_to_component2=_interopRequireDefault(_agg_to_component),_reactAnythingSortable=__webpack_require__(198),_unsupported_agg=__webpack_require__(4568);Agg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array,sortData:_propTypes2.default.string},exports.default=(0,_reactAnythingSortable.sortable)(Agg),module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _moving_average=__webpack_require__(4552),_derivative=__webpack_require__(4553),_calculation=__webpack_require__(4554),_calculation2=_interopRequireDefault(_calculation),_std_agg=__webpack_require__(4555),_std_agg2=_interopRequireDefault(_std_agg),_percentile=__webpack_require__(4556),_percentile2=_interopRequireDefault(_percentile),_cumulative_sum=__webpack_require__(4557),_cumulative_sum2=_interopRequireDefault(_cumulative_sum),_std_deviation=__webpack_require__(4558),_std_sibling=__webpack_require__(4559),_series_agg=__webpack_require__(4560),_series_agg2=_interopRequireDefault(_series_agg),_serial_diff=__webpack_require__(4561),_positive_only=__webpack_require__(4562),_filter_ratio=__webpack_require__(4563),_percentile_rank=__webpack_require__(4564),_static=__webpack_require__(4565),_math=__webpack_require__(4566),_math2=_interopRequireDefault(_math),_top_hit=__webpack_require__(4567);exports.default={count:_std_agg2.default,avg:_std_agg2.default,max:_std_agg2.default,min:_std_agg2.default,sum:_std_agg2.default,std_deviation:_std_deviation.StandardDeviationAgg,sum_of_squares:_std_agg2.default,variance:_std_agg2.default,avg_bucket:_std_sibling.StandardSiblingAgg,max_bucket:_std_sibling.StandardSiblingAgg,min_bucket:_std_sibling.StandardSiblingAgg,sum_bucket:_std_sibling.StandardSiblingAgg,variance_bucket:_std_sibling.StandardSiblingAgg,sum_of_squares_bucket:_std_sibling.StandardSiblingAgg,std_deviation_bucket:_std_sibling.StandardSiblingAgg,percentile:_percentile2.default,percentile_rank:_percentile_rank.PercentileRankAgg,cardinality:_std_agg2.default,value_count:_std_agg2.default,calculation:_calculation2.default,cumulative_sum:_cumulative_sum2.default,moving_average:_moving_average.MovingAverageAgg,derivative:_derivative.DerivativeAgg,series_agg:_series_agg2.default,serial_diff:_serial_diff.SerialDiffAgg,filter_ratio:_filter_ratio.FilterRatioAgg,positive_only:_positive_only.PositiveOnlyAgg,static:_static.Static,math:_math2.default,top_hit:_top_hit.TopHitAgg},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MovingAverageAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_number_handler=__webpack_require__(1382),_create_number_handler2=_interopRequireDefault(_create_number_handler),_eui=__webpack_require__(5);(exports.MovingAverageAgg=function(props){var siblings=props.siblings,defaults={settings:"",minimize:0,window:"",model:"simple"},model=_extends({},defaults,props.model),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),handleNumberChange=(0,_create_number_handler2.default)(handleChange),modelOptions=[{label:"Simple",value:"simple"},{label:"Linear",value:"linear"},{label:"Exponentially Weighted",value:"ewma"},{label:"Holt-Linear",value:"holt"},{label:"Holt-Winters",value:"holt_winters"}],minimizeOptions=[{label:"True",value:1},{label:"False",value:0}],htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),metrics:siblings,metric:model,value:model.field}))),_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("model")},"Model"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("model")},clearable:!1,placeholder:"Select...",onChange:handleSelectChange("model"),value:props.model.model,options:modelOptions})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("windowSize")},"Window Size"),_react2.default.createElement("input",{id:htmlId("windowSize"),className:"vis_editor__input-grows-100",type:"text",onChange:handleNumberChange("window"),value:model.window})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("minimize")},"Minimize"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("minimize")},placeholder:"Select...",onChange:handleSelectChange("minimize"),value:model.minimize,options:minimizeOptions})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("windowSize")},"Predict"),_react2.default.createElement("input",{id:htmlId("predict"),className:"vis_editor__input-grows-100",type:"text",onChange:handleNumberChange("predict"),value:model.predict}))),_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("settings")},"Settings (",_react2.default.createElement("code",null,"Key=Value")," space-delimited)"),_react2.default.createElement("input",{id:htmlId("settings"),className:"vis_editor__input-grows-100",type:"text",onChange:handleTextChange("settings"),value:model.settings})))))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DerivativeAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.DerivativeAgg=function(props){var siblings=props.siblings,defaults={unit:""},model=_extends({},defaults,props.model),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),metrics:siblings,metric:model,value:model.field})),_react2.default.createElement("div",null,_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("units")},"Units (1s, 1m, etc)"),_react2.default.createElement("input",{id:htmlId("units"),className:"vis_editor__input",onChange:handleTextChange("unit"),value:model.unit,type:"text"})))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_vars=__webpack_require__(1383),_vars2=_interopRequireDefault(_vars),_eui=__webpack_require__(5),CalculationAgg=function(_Component){function CalculationAgg(){return _classCallCheck(this,CalculationAgg),_possibleConstructorReturn(this,(CalculationAgg.__proto__||Object.getPrototypeOf(CalculationAgg)).apply(this,arguments))}return _inherits(CalculationAgg,_Component),_createClass(CalculationAgg,[{key:"componentWillMount",value:function(){this.props.model.variables||this.props.onChange(_lodash2.default.assign({},this.props.model,{variables:[{id:_uuid2.default.v1()}]}))}},{key:"render",value:function(){var siblings=this.props.siblings,defaults={script:""},model=_extends({},defaults,this.props.model),handleChange=(0,_create_change_handler2.default)(this.props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:this.props.disableDelete,model:this.props.model,onAdd:this.props.onAdd,onDelete:this.props.onDelete,siblings:this.props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:this.props.panel.type,siblings:this.props.siblings,value:model.type,onChange:handleSelectChange("type")}),_react2.default.createElement("div",{className:"vis_editor__variables"},_react2.default.createElement("div",{className:"vis_editor__label"},"Variables"),_react2.default.createElement(_vars2.default,{metrics:siblings,onChange:handleChange,name:"variables",model:model})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("painless")},"Painless Script - Variables are keys on the ",_react2.default.createElement("code",null,"params"),"object, i.e. ",_react2.default.createElement("code",null,"params.<name>"),". To access the bucket interval (in milliseconds) use ",_react2.default.createElement("code",null,"params._interval"),"."),_react2.default.createElement("input",{id:htmlId("painless"),className:"vis_editor__input-grows-100",type:"text",onChange:handleTextChange("script"),value:model.script})))))}}]),CalculationAgg}(_react.Component);CalculationAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=CalculationAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StandardAgg(props){var model=props.model,panel=props.panel,series=props.series,fields=props.fields,handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),restrict="numeric";"cardinality"===model.type&&(restrict="none");var indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern,htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),"count"!==model.type?_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("field")},"Field"),_react2.default.createElement(_field_select2.default,{id:htmlId("field"),fields:fields,type:model.type,restrict:restrict,indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")})):null)}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_eui=__webpack_require__(5);StandardAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=StandardAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_collection_actions=__webpack_require__(223),collectionActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_collection_actions),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_eui=__webpack_require__(5),newPercentile=function(opts){return _lodash2.default.assign({id:_uuid2.default.v1(),mode:"line",shade:.2},opts)},Percentiles=function(_Component){function Percentiles(props){_classCallCheck(this,Percentiles);var _this=_possibleConstructorReturn(this,(Percentiles.__proto__||Object.getPrototypeOf(Percentiles)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(Percentiles,_Component),_createClass(Percentiles,[{key:"handleTextChange",value:function(item,name){var _this2=this;return function(e){var handleChange=collectionActions.handleChange.bind(null,_this2.props),part={};part[name]=_lodash2.default.get(e,"value",_lodash2.default.get(e,"target.value")),handleChange(_lodash2.default.assign({},item,part))}}},{key:"renderRow",value:function(row,i,items){var defaults={value:"",percentile:"",shade:""},model=_extends({},defaults,row),handleAdd=collectionActions.handleAdd.bind(null,this.props,newPercentile),handleDelete=collectionActions.handleDelete.bind(null,this.props,model),modeOptions=[{label:"Line",value:"line"},{label:"Band",value:"band"}],optionsStyle={};"line"===model.mode&&(optionsStyle.display="none");var htmlId=(0,_eui.htmlIdGenerator)(model.id);return _react2.default.createElement("div",{className:"vis_editor__percentiles-row",key:model.id},_react2.default.createElement("div",{className:"vis_editor__percentiles-content"},_react2.default.createElement("input",{"aria-label":"Percentile",placeholder:"Percentile",className:"vis_editor__input-grows",type:"number",step:"1",onChange:this.handleTextChange(model,"value"),value:model.value}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("mode")},"Mode"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("mode")},clearable:!1,onChange:this.handleTextChange(model,"mode"),options:modeOptions,value:model.mode})),_react2.default.createElement("label",{style:optionsStyle,className:"vis_editor__label",htmlFor:htmlId("fillTo")},"Fill To"),_react2.default.createElement("input",{id:htmlId("fillTo"),style:optionsStyle,className:"vis_editor__input-grows",type:"number",step:"1",onChange:this.handleTextChange(model,"percentile"),value:model.percentile}),_react2.default.createElement("label",{style:optionsStyle,className:"vis_editor__label",htmlFor:htmlId("shade")},"Shade (0 to 1)"),_react2.default.createElement("input",{id:htmlId("shade"),style:optionsStyle,className:"vis_editor__input-grows",type:"number",step:"0.1",onChange:this.handleTextChange(model,"shade"),value:model.shade})),_react2.default.createElement(_add_delete_buttons2.default,{onAdd:handleAdd,onDelete:handleDelete,disableDelete:items.length<2}))}},{key:"render",value:function(){var _props=this.props,model=_props.model,name=_props.name;if(!model[name])return _react2.default.createElement("div",null);var rows=model[name].map(this.renderRow);return _react2.default.createElement("div",{className:"vis_editor__percentiles"},rows)}}]),Percentiles}(_react.Component);Percentiles.defaultProps={name:"percentile"},Percentiles.propTypes={name:_propTypes2.default.string,model:_propTypes2.default.object,onChange:_propTypes2.default.func};var PercentileAgg=function(_Component2){function PercentileAgg(){return _classCallCheck(this,PercentileAgg),_possibleConstructorReturn(this,(PercentileAgg.__proto__||Object.getPrototypeOf(PercentileAgg)).apply(this,arguments))}return _inherits(PercentileAgg,_Component2),_createClass(PercentileAgg,[{key:"componentWillMount",value:function(){this.props.model.percentiles||this.props.onChange(_lodash2.default.assign({},this.props.model,{percentiles:[newPercentile({value:50})]}))}},{key:"render",value:function(){var _props2=this.props,series=_props2.series,model=_props2.model,panel=_props2.panel,fields=_props2.fields,handleChange=(0,_create_change_handler2.default)(this.props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern;return _react2.default.createElement(_agg_row2.default,{disableDelete:this.props.disableDelete,model:this.props.model,onAdd:this.props.onAdd,onDelete:this.props.onDelete,siblings:this.props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:this.props.panel.type,siblings:this.props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Field"),_react2.default.createElement(_field_select2.default,{fields:fields,type:model.type,restrict:"numeric",indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")}))),_react2.default.createElement(Percentiles,{onChange:handleChange,name:"percentiles",model:model})))}}]),PercentileAgg}(_react.Component);PercentileAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=PercentileAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CumlativeSumAgg(props){var model=props.model,siblings=props.siblings,handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange);return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),metrics:siblings,metric:model,value:model.field})))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler);CumlativeSumAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=CumlativeSumAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StandardDeviationAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.StandardDeviationAgg=function(props){var series=props.series,panel=props.panel,fields=props.fields,defaults={sigma:""},model=_extends({},defaults,props.model),modeOptions=[{label:"Raw",value:"raw"},{label:"Upper Bound",value:"upper"},{label:"Lower Bound",value:"lower"}];"table"!==panel.type&&modeOptions.push({label:"Bounds Band",value:"band"});var handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern,htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__std_deviation-field"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("field")},"Field"),_react2.default.createElement(_field_select2.default,{id:htmlId("field"),fields:fields,type:model.type,restrict:"numeric",indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")})),_react2.default.createElement("div",{className:"vis_editor__std_deviation-sigma_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("sigma")},"Sigma"),_react2.default.createElement("input",{id:htmlId("sigma"),className:"vis_editor__std_deviation-sigma",value:model.sigma,onChange:handleTextChange("sigma")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("mode")},"Mode"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("mode")},options:modeOptions,onChange:handleSelectChange("mode"),value:model.mode})))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StandardSiblingAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.StandardSiblingAgg=function(props){var siblings=props.siblings,defaults={sigma:""},model=_extends({},defaults,props.model),htmlId=(0,_eui.htmlIdGenerator)(),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),stdDev={};if("std_deviation_bucket"===model.type){stdDev.sigma=_react2.default.createElement("div",{className:"vis_editor__std_deviation-sigma_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("sigma")},"Sigma"),_react2.default.createElement("input",{id:htmlId("sigma"),className:"vis_editor__std_deviation-sigma",value:model.sigma,onChange:handleTextChange("sigma")}));var modeOptions=[{label:"Raw",value:"raw"},{label:"Upper Bound",value:"upper"},{label:"Lower Bound",value:"lower"},{label:"Bounds Band",value:"band"}];stdDev.mode=_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("mode")},"Mode"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("mode")},options:modeOptions,onChange:handleSelectChange("mode"),value:model.mode}))}return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__std_sibling-metric"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),exclude:["percentile"],metrics:siblings,metric:model,value:model.field})),stdDev.sigma,stdDev.mode)}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SeriesAgg(props){var panel=props.panel,model=props.model,handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),htmlId=(0,_eui.htmlIdGenerator)(),functionOptions=[{label:"Sum",value:"sum"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Avg",value:"mean"},{label:"Overall Sum",value:"overall_sum"},{label:"Overall Max",value:"overall_max"},{label:"Overall Min",value:"overall_min"},{label:"Overall Avg",value:"overall_avg"},{label:"Cumlative Sum",value:"cumlative_sum"}];return"table"===panel.type?_react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Series Agg is not compatible with the table visualization."))):_react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("function")},"Function"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("function")},value:model.function,options:functionOptions,onChange:handleSelectChange("function")})))}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_eui=__webpack_require__(5);SeriesAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=SeriesAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SerialDiffAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_number_handler=__webpack_require__(1382),_create_number_handler2=_interopRequireDefault(_create_number_handler),_eui=__webpack_require__(5);(exports.SerialDiffAgg=function(props){var siblings=props.siblings,defaults={lag:""},model=_extends({},defaults,props.model),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleNumberChange=(0,_create_number_handler2.default)(handleChange),htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),metrics:siblings,metric:model,value:model.field})),_react2.default.createElement("div",null,_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("lag")},"Lag"),_react2.default.createElement("input",{id:htmlId("lag"),className:"vis_editor__input",onChange:handleNumberChange("lag"),value:model.lag,type:"text"})))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PositiveOnlyAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_metric_select=__webpack_require__(222),_metric_select2=_interopRequireDefault(_metric_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler);(exports.PositiveOnlyAgg=function(props){var siblings=props.siblings,defaults={unit:""},model=_extends({},defaults,props.model),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange);return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric"),_react2.default.createElement(_metric_select2.default,{onChange:handleSelectChange("field"),metrics:siblings,metric:model,value:model.field})))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterRatioAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.FilterRatioAgg=function(props){var series=props.series,fields=props.fields,panel=props.panel,handleChange=(0,_create_change_handler2.default)(props.onChange,props.model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern,defaults={numerator:"*",denominator:"*",metric_agg:"count"},model=_extends({},defaults,props.model),htmlId=(0,_eui.htmlIdGenerator)(),restrictMode="cardinality"===model.metric_agg?"none":"numeric";return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{style:{flex:"1 0 auto"}},_react2.default.createElement("div",{style:{flex:"1 0 auto",display:"flex"}},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("numerator")},"Numerator"),_react2.default.createElement("input",{id:htmlId("numerator"),className:"vis_editor__input-grows-100",onChange:handleTextChange("numerator"),value:model.numerator,type:"text"})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("denominator")},"Denominator"),_react2.default.createElement("input",{id:htmlId("denominator"),className:"vis_editor__input-grows-100",onChange:handleTextChange("denominator"),value:model.denominator,type:"text"}))),_react2.default.createElement("div",{style:{flex:"1 0 auto",display:"flex",marginTop:"10px"}},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Metric Aggregation"),_react2.default.createElement(_agg_select2.default,{siblings:props.siblings,panelType:"metrics",value:model.metric_agg,onChange:handleSelectChange("metric_agg")})),"count"!==model.metric_agg?_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("aggField")},"Field"),_react2.default.createElement(_field_select2.default,{id:htmlId("aggField"),fields:fields,type:model.metric_agg,restrict:restrictMode,indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")})):null)))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PercentileRankAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.PercentileRankAgg=function(props){var series=props.series,panel=props.panel,fields=props.fields,defaults={value:""},model=_extends({},defaults,props.model),handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern,htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("field")},"Field"),_react2.default.createElement(_field_select2.default,{id:htmlId("field"),fields:fields,type:model.type,restrict:"numeric",indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")})),_react2.default.createElement("div",{className:"vis_editor__percentile_rank_value"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("value")},"Value"),_react2.default.createElement("input",{id:htmlId("value"),className:"vis_editor__input-grows",value:model.value,onChange:handleTextChange("value")})))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Static=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);(exports.Static=function(props){var handleChange=(0,_create_change_handler2.default)(props.onChange,props.model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),defaults={numerator:"*",denominator:"*",metric_agg:"count"},model=_extends({},defaults,props.model),htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{style:{flex:"1 0 auto"}},_react2.default.createElement("div",{style:{flex:"1 0 auto",display:"flex"}},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("staticValue")},"Static Value"),_react2.default.createElement("input",{id:htmlId("staticValue"),className:"vis_editor__input-grows-100",onChange:handleTextChange("value"),value:model.value,step:"0.1",type:"number"})))))}).propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_vars=__webpack_require__(1383),_vars2=_interopRequireDefault(_vars),MathAgg=function(_Component){function MathAgg(){return _classCallCheck(this,MathAgg),_possibleConstructorReturn(this,(MathAgg.__proto__||Object.getPrototypeOf(MathAgg)).apply(this,arguments))}return _inherits(MathAgg,_Component),_createClass(MathAgg,[{key:"componentWillMount",value:function(){this.props.model.variables||this.props.onChange(_lodash2.default.assign({},this.props.model,{variables:[{id:_uuid2.default.v1()}]}))}},{key:"render",value:function(){var siblings=this.props.siblings,defaults={script:""},model=_extends({},defaults,this.props.model),handleChange=(0,_create_change_handler2.default)(this.props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange);return _react2.default.createElement(_agg_row2.default,{disableDelete:this.props.disableDelete,model:this.props.model,onAdd:this.props.onAdd,onDelete:this.props.onDelete,siblings:this.props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{siblings:this.props.siblings,value:model.type,onChange:handleSelectChange("type")}),_react2.default.createElement("div",{className:"vis_editor__variables"},_react2.default.createElement("div",{className:"vis_editor__label"},"Variables"),_react2.default.createElement(_vars2.default,{metrics:siblings,onChange:handleChange,name:"variables",model:model,includeSiblings:!0})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:"mathExpressionInput"},"Expression"),_react2.default.createElement("textarea",{"data-test-subj":"mathExpression",id:"mathExpressionInput","aria-describedby":"mathExpressionDescription",className:"vis_editor__input-grows-100",onChange:handleTextChange("script")},model.script),_react2.default.createElement("div",{className:"vis_editor__note",id:"mathExpressionDescription"},"This field uses basic math expresions (see"," ",_react2.default.createElement("a",{href:"https://github.com/elastic/tinymath/blob/master/docs/functions.md",target:"_blank"},"TinyMath"),") - Variables are keys on the ",_react2.default.createElement("code",null,"params")," object, i.e. ",_react2.default.createElement("code",null,"params.<name>")," To access all the data use",_react2.default.createElement("code",null,"params._all.<name>.values")," for an array of the values and ",_react2.default.createElement("code",null,"params._all.<name>.timestamps"),"for an array of the timestamps. ",_react2.default.createElement("code",null,"params._timestamp"),"is available for the current bucket's timestamp,",_react2.default.createElement("code",null,"params._index")," is available for the current bucket's index, and ",_react2.default.createElement("code",null,"params._interval"),"s available for the interval in milliseconds.")))))}}]),MathAgg}(_react.Component);MathAgg.propTypes={disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,model:_propTypes2.default.object,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onDelete:_propTypes2.default.func,panel:_propTypes2.default.object,series:_propTypes2.default.object,siblings:_propTypes2.default.array},exports.default=MathAgg,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TopHitAgg=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_agg_select=__webpack_require__(87),_agg_select2=_interopRequireDefault(_agg_select),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_change_handler=__webpack_require__(88),_create_change_handler2=_interopRequireDefault(_create_change_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_eui=__webpack_require__(5);exports.TopHitAgg=function(props){var fields=props.fields,series=props.series,panel=props.panel,defaults={agg_with:"avg",size:1,order:"desc"},model=_extends({},defaults,props.model),indexPattern=series.override_index_pattern&&series.series_index_pattern||panel.index_pattern,handleChange=(0,_create_change_handler2.default)(props.onChange,model),handleSelectChange=(0,_create_select_handler2.default)(handleChange),handleTextChange=(0,_create_text_handler2.default)(handleChange),aggWithOptions=[{label:"Avg",value:"avg"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Sum",value:"sum"}],orderOptions=[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}],htmlId=(0,_eui.htmlIdGenerator)();return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("div",{className:"vis_editor__label"},"Aggregation"),_react2.default.createElement(_agg_select2.default,{panelType:props.panel.type,siblings:props.siblings,value:model.type,onChange:handleSelectChange("type")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("field")},"Field"),_react2.default.createElement(_field_select2.default,{id:htmlId("field"),fields:fields,type:model.type,restrict:"numeric",indexPattern:indexPattern,value:model.field,onChange:handleSelectChange("field")}))),_react2.default.createElement("div",{className:"vis_editor__agg_row-item"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("size")},"Size"),_react2.default.createElement("input",{id:htmlId("size"),className:"vis_editor__input-grows-100",value:model.size,onChange:handleTextChange("size")})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("agg_with")},"Aggregate with"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("agg_with")},clearable:!1,placeholder:"Select...",onChange:handleSelectChange("agg_with"),value:model.agg_with,options:aggWithOptions})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("order_by")},"Order by"),_react2.default.createElement(_field_select2.default,{id:htmlId("order_by"),restrict:"date",value:model.order_by,onChange:handleSelectChange("order_by"),indexPattern:indexPattern,fields:fields})),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("order")},"Order"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("order")},clearable:!1,placeholder:"Select...",onChange:handleSelectChange("order"),value:model.order,options:orderOptions})))))}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UnsupportedAgg(props){return _react2.default.createElement(_agg_row2.default,{disableDelete:props.disableDelete,model:props.model,onAdd:props.onAdd,onDelete:props.onDelete,siblings:props.siblings},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement("p",null,"The ",_react2.default.createElement("code",null,props.model.type)," aggregation is no longer supported.")))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnsupportedAgg=UnsupportedAgg;var _agg_row=__webpack_require__(78),_agg_row2=_interopRequireDefault(_agg_row),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MetricSeries(props){var panel=props.panel,fields=props.fields,onAdd=props.onAdd,onChange=props.onChange,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,visible=props.visible,defaults={label:""},model=_extends({},defaults,props.model),handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs),_react2.default.createElement("div",{className:"vis_editor__series_row"},_react2.default.createElement("div",{className:"vis_editor__series_row-item"},_react2.default.createElement(_split2.default,{onChange:props.onChange,fields:fields,panel:panel,model:model}))))}else seriesBody=_react2.default.createElement(_series_config.SeriesConfig,{fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"metrics"===selectedTab,className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("button",{role:"tab","data-test-subj":"seriesOptions","aria-selected":"options"===selectedTab,className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}var colorPicker=void 0;props.colorPicker&&(colorPicker=_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:props.onChange,name:"color",value:model.color}));var dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("button",{className:"vis_editor__sort thor__button-outlined-default sm","aria-label":"Sort series by pressing up/down",onKeyDown:(0,_sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)},_react2.default.createElement("i",{className:"fa fa-sort"})))),_react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible,"aria-label":"Toggle series editor","aria-expanded":props.visible},_react2.default.createElement("i",{className:caretClassName})),colorPicker,_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{className:"vis_editor__input-grows",onChange:handleChange("label"),placeholder:"Label",value:model.label})),dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_series_config=__webpack_require__(525),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_split=__webpack_require__(399),_split2=_interopRequireDefault(_split),_eui=__webpack_require__(5),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_sort_keyhandler=__webpack_require__(400);MetricSeries.propTypes={className:_propTypes2.default.string,colorPicker:_propTypes2.default.bool,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=MetricSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TopNSeries(props){var panel=props.panel,model=props.model,fields=props.fields,onAdd=props.onAdd,onChange=props.onChange,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,visible=props.visible,handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs),_react2.default.createElement("div",{className:"vis_editor__series_row"},_react2.default.createElement("div",{className:"vis_editor__series_row-item"},_react2.default.createElement(_split2.default,{onChange:props.onChange,fields:fields,panel:panel,model:model}))))}else seriesBody=_react2.default.createElement(_series_config.SeriesConfig,{fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"metrics"===selectedTab,className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("button",{role:"tab","data-test-subj":"seriesOptions","aria-selected":"options"===selectedTab,className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}var colorPicker=_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:props.onChange,name:"color",value:model.color}),dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("button",{className:"vis_editor__sort thor__button-outlined-default sm","aria-label":"Sort series by pressing up/down",onKeyDown:(0,_sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)},_react2.default.createElement("i",{className:"fa fa-sort"})))),_react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible,"aria-label":"Toggle series editor","aria-expanded":props.visible},_react2.default.createElement("i",{className:caretClassName})),colorPicker,_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{className:"vis_editor__input-grows",onChange:handleChange("label"),placeholder:"Label",value:model.label})),dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_series_config=__webpack_require__(525),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_split=__webpack_require__(399),_split2=_interopRequireDefault(_split),_eui=__webpack_require__(5),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_sort_keyhandler=__webpack_require__(400);TopNSeries.propTypes={className:_propTypes2.default.string,colorPicker:_propTypes2.default.bool,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=TopNSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TopNSeries(props){var model=props.model,onAdd=props.onAdd,onChange=props.onChange,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,visible=props.visible,handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs))}else seriesBody=_react2.default.createElement(_config2.default,{panel:props.panel,fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm"},_react2.default.createElement("div",{className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("div",{"data-test-subj":"seriesOptions",className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}var dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("button",{className:"vis_editor__sort thor__button-outlined-default sm","aria-label":"Sort series by pressing up/down",onKeyDown:(0,_sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)},_react2.default.createElement("i",{className:"fa fa-sort"})))),_react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible},_react2.default.createElement("i",{className:caretClassName})),_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{"aria-label":"Label",className:"vis_editor__input-grows",onChange:handleChange("label"),placeholder:"Label",value:model.label})),dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_config=__webpack_require__(4572),_config2=_interopRequireDefault(_config),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_eui=__webpack_require__(5),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_sort_keyhandler=__webpack_require__(400);TopNSeries.propTypes={className:_propTypes2.default.string,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=TopNSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_data_format_picker=__webpack_require__(762),_data_format_picker2=_interopRequireDefault(_data_format_picker),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_color_rules=__webpack_require__(526),_color_rules2=_interopRequireDefault(_color_rules),_eui=__webpack_require__(5),TableSeriesConfig=function(_Component){function TableSeriesConfig(){return _classCallCheck(this,TableSeriesConfig),_possibleConstructorReturn(this,(TableSeriesConfig.__proto__||Object.getPrototypeOf(TableSeriesConfig)).apply(this,arguments))}return _inherits(TableSeriesConfig,_Component),_createClass(TableSeriesConfig,[{key:"componentWillMount",value:function(){var model=this.props.model;(!model.color_rules||model.color_rules&&0===model.color_rules.length)&&this.props.onChange({color_rules:[{id:_uuid2.default.v1()}]})}},{key:"render",value:function(){var defaults={offset_time:"",value_template:""},model=_extends({},defaults,this.props.model),handleSelectChange=(0,_create_select_handler2.default)(this.props.onChange),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),htmlId=(0,_eui.htmlIdGenerator)(),functionOptions=[{label:"Sum",value:"sum"},{label:"Max",value:"max"},{label:"Min",value:"min"},{label:"Avg",value:"mean"},{label:"Overall Sum",value:"overall_sum"},{label:"Overall Max",value:"overall_max"},{label:"Overall Min",value:"overall_min"},{label:"Overall Avg",value:"overall_avg"},{label:"Cumlative Sum",value:"cumlative_sum"}];return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__series_config-container"},_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement(_data_format_picker2.default,{onChange:handleSelectChange("formatter"),value:model.formatter}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("valueTemplateInput")},"Template (eg.",_react2.default.createElement("code",null,"{{value}}/s"),")"),_react2.default.createElement("input",{id:htmlId("valueTemplateInput"),className:"vis_editor__input-grows",onChange:handleTextChange("value_template"),value:model.value_template})),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("filterInput")},"Filter"),_react2.default.createElement("input",{id:htmlId("filterInput"),className:"vis_editor__input-grows",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("label",{className:"vis_editor__label"},"Show Trend Arrows"),_react2.default.createElement(_yes_no2.default,{value:model.trend_arrows,name:"trend_arrows",onChange:this.props.onChange})),_react2.default.createElement("div",{className:"vis_editor__series_config-row"},_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_field_select2.default,{fields:this.props.fields,indexPattern:this.props.panel.index_pattern,value:model.aggregate_by,onChange:handleSelectChange("aggregate_by")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("aggregateFunctionInput")},"Aggregate Function"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("aggregateFunctionInput")},value:model.aggregate_function,options:functionOptions,onChange:handleSelectChange("aggregate_function")}))),_react2.default.createElement("div",{className:"vis_editor__series_config-row summarize__colorRules"},_react2.default.createElement(_color_rules2.default,{primaryName:"text",primaryVarName:"text",hideSecondary:!0,model:model,onChange:this.props.onChange,name:"color_rules"}))))}}]),TableSeriesConfig}(_react.Component);TableSeriesConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func},exports.default=TableSeriesConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GaugeSeries(props){var panel=props.panel,fields=props.fields,onAdd=props.onAdd,onChange=props.onChange,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,visible=props.visible,defaults={label:""},model=_extends({},defaults,props.model),handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs),_react2.default.createElement("div",{className:"vis_editor__series_row"},_react2.default.createElement("div",{className:"vis_editor__series_row-item"},_react2.default.createElement(_split2.default,{onChange:props.onChange,fields:fields,panel:panel,model:model}))))}else seriesBody=_react2.default.createElement(_series_config.SeriesConfig,{fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"metrics"===selectedTab,className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("button",{role:"tab","data-test-subj":"seriesOptions","aria-selected":"options"===selectedTab,className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}var colorPicker=_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:props.onChange,name:"color",value:model.color}),dragHandle=void 0;return props.disableDelete||(dragHandle=_react2.default.createElement(_eui.EuiToolTip,{content:"Sort"},_react2.default.createElement("button",{className:"vis_editor__sort thor__button-outlined-default sm","aria-label":"Sort series by pressing up/down",onKeyDown:(0,_sort_keyhandler.createUpDownHandler)(props.onShouldSortItem)},_react2.default.createElement("i",{className:"fa fa-sort"})))),_react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible,"aria-label":"Toggle series editor","aria-expanded":props.visible},_react2.default.createElement("i",{className:caretClassName})),colorPicker,_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{className:"vis_editor__input-grows",onChange:handleChange("label"),placeholder:"Label",value:model.label})),dragHandle,_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_series_config=__webpack_require__(525),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_split=__webpack_require__(399),_split2=_interopRequireDefault(_split),_eui=__webpack_require__(5),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_sort_keyhandler=__webpack_require__(400);GaugeSeries.propTypes={className:_propTypes2.default.string,colorPicker:_propTypes2.default.bool,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=GaugeSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MarkdownSeries(props){var panel=props.panel,fields=props.fields,onAdd=props.onAdd,onChange=props.onChange,onDelete=props.onDelete,disableDelete=props.disableDelete,disableAdd=props.disableAdd,selectedTab=props.selectedTab,visible=props.visible,defaults={label:"",var_name:""},model=_extends({},defaults,props.model),handleChange=(0,_create_text_handler2.default)(onChange),aggs=model.metrics.map((0,_create_agg_row_render2.default)(props)),caretClassName="fa fa-caret-down";visible||(caretClassName="fa fa-caret-right");var body=null;if(visible){var metricsClassName="kbnTabs__tab",optionsClassname="kbnTabs__tab";"metrics"===selectedTab&&(metricsClassName+="-active"),"options"===selectedTab&&(optionsClassname+="-active");var seriesBody=void 0;if("metrics"===selectedTab){var handleSort=function(data){var metrics=data.map(function(id){return model.metrics.find(function(m){return m.id===id})});props.onChange({metrics:metrics})};seriesBody=_react2.default.createElement("div",null,_react2.default.createElement(_reactAnythingSortable2.default,{style:{cursor:"default"},dynamic:!0,direction:"vertical",onSort:handleSort,sortHandle:"vis_editor__agg_sort"},aggs),_react2.default.createElement("div",{className:"vis_editor__series_row"},_react2.default.createElement("div",{className:"vis_editor__series_row-item"},_react2.default.createElement(_split2.default,{onChange:props.onChange,fields:fields,panel:panel,model:model}))))}else seriesBody=_react2.default.createElement(_series_config.SeriesConfig,{fields:props.fields,model:props.model,onChange:props.onChange});body=_react2.default.createElement("div",{className:"vis_editor__series-row"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"metrics"===selectedTab,className:metricsClassName,onClick:function(){return props.switchTab("metrics")}},"Metrics"),_react2.default.createElement("button",{role:"tab","data-test-subj":"seriesOptions","aria-selected":"metrics"===selectedTab,className:optionsClassname,onClick:function(){return props.switchTab("options")}},"Options")),seriesBody)}return _react2.default.createElement("div",{className:props.className+" vis_editor__series",style:props.style,onMouseDown:props.onMouseDown,onTouchStart:props.onTouchStart},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__series-details"},_react2.default.createElement("button",{className:"vis_editor__series-visibility-toggle",onClick:props.toggleVisible,"aria-label":"Toggle series editor","aria-expanded":props.visible},_react2.default.createElement("i",{className:caretClassName})),_react2.default.createElement("div",{className:"vis_editor__row vis_editor__row_item"},_react2.default.createElement("input",{className:"vis_editor__input-grows vis_editor__row_item",onChange:handleChange("label"),placeholder:"Label",value:model.label}),_react2.default.createElement("input",{className:"vis_editor__input-grows",onChange:handleChange("var_name"),placeholder:"Variable Name",value:model.var_name})),_react2.default.createElement(_add_delete_buttons2.default,{addTooltip:"Add Series",deleteTooltip:"Delete Series",cloneTooltip:"Clone Series",onDelete:onDelete,onClone:props.onClone,onAdd:onAdd,disableDelete:disableDelete,disableAdd:disableAdd}))),body)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_series_config=__webpack_require__(525),_reactAnythingSortable=__webpack_require__(198),_reactAnythingSortable2=_interopRequireDefault(_reactAnythingSortable),_split=__webpack_require__(399),_split2=_interopRequireDefault(_split),_create_agg_row_render=__webpack_require__(324),_create_agg_row_render2=_interopRequireDefault(_create_agg_row_render),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler);MarkdownSeries.propTypes={className:_propTypes2.default.string,colorPicker:_propTypes2.default.bool,disableAdd:_propTypes2.default.bool,disableDelete:_propTypes2.default.bool,fields:_propTypes2.default.object,name:_propTypes2.default.string,onAdd:_propTypes2.default.func,onChange:_propTypes2.default.func,onClone:_propTypes2.default.func,onDelete:_propTypes2.default.func,onMouseDown:_propTypes2.default.func,onSortableItemMount:_propTypes2.default.func,onSortableItemReadyToMove:_propTypes2.default.func,onTouchStart:_propTypes2.default.func,model:_propTypes2.default.object,panel:_propTypes2.default.object,selectedTab:_propTypes2.default.string,sortData:_propTypes2.default.string,style:_propTypes2.default.object,switchTab:_propTypes2.default.func,toggleVisible:_propTypes2.default.func,visible:_propTypes2.default.bool},exports.default=MarkdownSeries,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_new_metric_agg_fn=__webpack_require__(763),_new_metric_agg_fn2=_interopRequireDefault(_new_metric_agg_fn);exports.default=function(){var obj=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _lodash2.default.assign({id:_uuid2.default.v1(),color:"#68BC00",split_mode:"everything",metrics:[(0,_new_metric_agg_fn2.default)()],seperate_axis:0,axis_position:"right",formatter:"number",chart_type:"line",line_width:1,point_size:1,fill:.5,stacked:"none"},obj)},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function newAnnotation(){return{id:_uuid2.default.v1(),color:"#F00",index_pattern:"*",time_field:"@timestamp",icon:"fa-tag",ignore_global_filters:1,ignore_panel_filters:1}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_collection_actions=__webpack_require__(223),collectionActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_collection_actions),_add_delete_buttons=__webpack_require__(119),_add_delete_buttons2=_interopRequireDefault(_add_delete_buttons),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_icon_select=__webpack_require__(4577),_icon_select2=_interopRequireDefault(_icon_select),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),AnnotationsEditor=function(_Component){function AnnotationsEditor(props){_classCallCheck(this,AnnotationsEditor);var _this=_possibleConstructorReturn(this,(AnnotationsEditor.__proto__||Object.getPrototypeOf(AnnotationsEditor)).call(this,props));return _this.renderRow=_this.renderRow.bind(_this),_this}return _inherits(AnnotationsEditor,_Component),_createClass(AnnotationsEditor,[{key:"handleChange",value:function(item,name){var _this2=this;return function(e){var handleChange=collectionActions.handleChange.bind(null,_this2.props),part={};part[name]=_lodash2.default.get(e,"value",_lodash2.default.get(e,"target.value")),handleChange(_lodash2.default.assign({},item,part))}}},{key:"renderRow",value:function(row){var _this3=this,defaults={fields:"",template:"",index_pattern:"*",query_string:""},model=_extends({},defaults,row),handleChange=function(part){collectionActions.handleChange.bind(null,_this3.props)(_lodash2.default.assign({},model,part))},htmlId=(0,_eui.htmlIdGenerator)(model.id),handleAdd=collectionActions.handleAdd.bind(null,this.props,newAnnotation),handleDelete=collectionActions.handleDelete.bind(null,this.props,model);return _react2.default.createElement("div",{className:"vis_editor__annotations-row",key:model.id},_react2.default.createElement("div",{className:"vis_editor__annotations-color"},_react2.default.createElement(_color_picker2.default,{disableTrash:!0,onChange:handleChange,name:"color",value:model.color})),_react2.default.createElement("div",{className:"vis_editor__annotations-content"},_react2.default.createElement("div",{className:"vis_editor__row"},_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("indexPattern")},"Index Pattern (required)"),_react2.default.createElement("input",{id:htmlId("indexPattern"),className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"index_pattern"),value:model.index_pattern})),_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("timeField")},"Time Field (required)"),_react2.default.createElement(_field_select2.default,{id:htmlId("timeField"),restrict:"date",value:model.time_field,onChange:this.handleChange(model,"time_field"),indexPattern:model.index_pattern,fields:this.props.fields}))),_react2.default.createElement("div",{className:"vis_editor__row"},_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("queryString")},"Query String"),_react2.default.createElement("input",{id:htmlId("queryString"),className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"query_string"),value:model.query_string})),_react2.default.createElement("fieldset",{className:"vis_editor__row-item-small"},_react2.default.createElement("legend",{className:"vis_editor__label"},"Ignore Global Filters"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filters,name:"ignore_global_filters",onChange:handleChange})),_react2.default.createElement("fieldset",{className:"vis_editor__row-item-small"},_react2.default.createElement("legend",{className:"vis_editor__label"},"Ignore Panel Filters"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_panel_filters,name:"ignore_panel_filters",onChange:handleChange}))),_react2.default.createElement("div",{className:"vis_editor__row"},_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("icon")},"Icon (required)"),_react2.default.createElement("div",{className:"vis_editor__item"},_react2.default.createElement(_icon_select2.default,{id:htmlId("icon"),value:model.icon,onChange:this.handleChange(model,"icon")}))),_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("fields")},"Fields (required - comma separated paths)"),_react2.default.createElement("input",{id:htmlId("fields"),className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"fields"),value:model.fields})),_react2.default.createElement("div",{className:"vis_editor__row-item"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("rowTemplate")},"Row Template (required - eg.",_react2.default.createElement("code",null,"{{field}}"),")"),_react2.default.createElement("input",{id:htmlId("rowTemplate"),className:"vis_editor__input-grows-100",type:"text",onChange:this.handleChange(model,"template"),value:model.template})))),_react2.default.createElement("div",{className:"vis_editor__annotations-controls"},_react2.default.createElement(_add_delete_buttons2.default,{onAdd:handleAdd,onDelete:handleDelete})))}},{key:"render",value:function(){var model=this.props.model,content=void 0;if(model.annotations&&model.annotations.length){var annotations=model.annotations.map(this.renderRow);content=_react2.default.createElement("div",{className:"vis_editor__annotations"},_react2.default.createElement("div",{className:"kbnTabs sm",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":!0,className:"kbnTabs__tab-active"},"Data Sources")),annotations)}else{var handleAdd=collectionActions.handleAdd.bind(null,this.props,newAnnotation);content=_react2.default.createElement("div",{className:"vis_editor__annotations-missing"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Click the button below to create an annotation data source."),_react2.default.createElement("button",{className:"thor__button-outlined-default large",onClick:handleAdd},"Add Data Source")))}return _react2.default.createElement("div",{className:"vis_editor__container"},content)}}]),AnnotationsEditor}(_react.Component);AnnotationsEditor.defaultProps={name:"annotations"},AnnotationsEditor.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,name:_propTypes2.default.string,onChange:_propTypes2.default.func},exports.default=AnnotationsEditor,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function IconValue(props){var icon=props.value&&props.value.value,label=props.value&&props.value.label;return _react2.default.createElement("div",{className:"Select-value"},_react2.default.createElement("span",{className:"Select-value-label","aria-label":label+" icon"},_react2.default.createElement("span",{className:"vis_editor__icon_select-value kuiIcon "+icon}),props.children))}function IconSelect(props){return _react2.default.createElement(_reactSelect2.default,{inputProps:{id:props.id},clearable:!1,onChange:props.onChange,value:props.value,optionComponent:IconOption,valueComponent:IconValue,options:props.icons})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),IconOption=function(_Component){function IconOption(props){_classCallCheck(this,IconOption);var _this=_possibleConstructorReturn(this,(IconOption.__proto__||Object.getPrototypeOf(IconOption)).call(this,props));return _this.handleMouseMove=_this.handleMouseMove.bind(_this),_this.handleMouseEnter=_this.handleMouseEnter.bind(_this),_this.handleMouseDown=_this.handleMouseDown.bind(_this),_this}return _inherits(IconOption,_Component),_createClass(IconOption,[{key:"handleMouseDown",value:function(event){event.preventDefault(),event.stopPropagation(),this.props.onSelect(this.props.option,event)}},{key:"handleMouseEnter",value:function(event){this.props.onFocus(this.props.option,event)}},{key:"handleMouseMove",value:function(event){this.props.isFocused||this.props.onFocus(this.props.option,event)}},{key:"render",value:function(){var icon=this.props.option.value,label=this.props.option.label;return _react2.default.createElement("div",{className:this.props.className,onMouseEnter:this.handleMouseEnter,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove},_react2.default.createElement("span",{className:"Select-value-label","aria-label":label+" icon"},_react2.default.createElement("span",{className:"vis_editor__icon_select-option kuiIcon "+icon,"aria-hidden":"true"}),this.props.children))}}]),IconOption}(_react.Component);IconOption.propTypes={children:_propTypes2.default.node,className:_propTypes2.default.string,isDisabled:_propTypes2.default.bool,isFocused:_propTypes2.default.bool,isSelected:_propTypes2.default.bool,onFocus:_propTypes2.default.func,onSelect:_propTypes2.default.func,option:_propTypes2.default.object.isRequired},IconValue.propTypes={children:_propTypes2.default.node,placeholder:_propTypes2.default.string,value:_propTypes2.default.object.isRequired},IconSelect.defaultProps={icons:[{value:"fa-asterisk",label:"Asterisk"},{value:"fa-bell",label:"Bell"},{value:"fa-bolt",label:"Bolt"},{value:"fa-bomb",label:"Bomb"},{value:"fa-bug",label:"Bug"},{value:"fa-comment",label:"Comment"},{value:"fa-exclamation-circle",label:"Exclamation Circle"},{value:"fa-exclamation-triangle",label:"Exclamation Triangle"},{value:"fa-fire",label:"Fire"},{value:"fa-flag",label:"Flag"},{value:"fa-heart",label:"Heart"},{value:"fa-map-marker",label:"Map Marker"},{value:"fa-map-pin",label:"Map Pin"},{value:"fa-star",label:"Star"},{value:"fa-tag",label:"Tag"}]},IconSelect.propTypes={icons:_propTypes2.default.array,id:_propTypes2.default.string,onChange:_propTypes2.default.func,value:_propTypes2.default.string.isRequired},exports.default=IconSelect,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_index_pattern=__webpack_require__(221),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_color_rules=__webpack_require__(526),_color_rules2=_interopRequireDefault(_color_rules),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_eui=__webpack_require__(5),MetricPanelConfig=function(_Component){function MetricPanelConfig(props){_classCallCheck(this,MetricPanelConfig);var _this=_possibleConstructorReturn(this,(MetricPanelConfig.__proto__||Object.getPrototypeOf(MetricPanelConfig)).call(this,props));return _this.state={selectedTab:"data"},_this}return _inherits(MetricPanelConfig,_Component),_createClass(MetricPanelConfig,[{key:"componentWillMount",value:function(){var model=this.props.model;(!model.background_color_rules||model.background_color_rules&&0===model.background_color_rules.length)&&this.props.onChange({background_color_rules:[{id:_uuid2.default.v1()}]})}},{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"render",value:function(){var _this2=this,selectedTab=this.state.selectedTab,defaults={filter:""},model=_extends({},defaults,this.props.model),htmlId=(0,_eui.htmlIdGenerator)(),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),view=void 0;return view="data"===selectedTab?_react2.default.createElement(_series_editor2.default,{colorPicker:!1,fields:this.props.fields,limit:2,model:this.props.model,name:this.props.name,onChange:this.props.onChange}):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilter")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("div",{className:"vis_editor__label"},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange})),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__label"},"Color Rules")),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement(_color_rules2.default,{model:model,onChange:this.props.onChange,name:"background_color_rules"}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"data"===selectedTab,className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("data")}},"Data"),_react2.default.createElement("button",{role:"tab","aria-selected":"options"===selectedTab,className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("options")}},"Panel Options")),view)}}]),MetricPanelConfig}(_react.Component);MetricPanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object},exports.default=MetricPanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_index_pattern=__webpack_require__(221),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_color_rules=__webpack_require__(526),_color_rules2=_interopRequireDefault(_color_rules),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),TopNPanelConfig=function(_Component){function TopNPanelConfig(props){_classCallCheck(this,TopNPanelConfig);var _this=_possibleConstructorReturn(this,(TopNPanelConfig.__proto__||Object.getPrototypeOf(TopNPanelConfig)).call(this,props));return _this.state={selectedTab:"data"},_this}return _inherits(TopNPanelConfig,_Component),_createClass(TopNPanelConfig,[{key:"componentWillMount",value:function(){var model=this.props.model,parts={};(!model.bar_color_rules||model.bar_color_rules&&0===model.bar_color_rules.length)&&(parts.bar_color_rules=[{id:_uuid2.default.v1()}]),this.props.onChange(parts)}},{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"render",value:function(){var _this2=this,selectedTab=this.state.selectedTab,defaults={drilldown_url:"",filter:""},model=_extends({},defaults,this.props.model),htmlId=(0,_eui.htmlIdGenerator)(),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),view=void 0;return view="data"===selectedTab?_react2.default.createElement(_series_editor2.default,{colorPicker:!1,fields:this.props.fields,model:this.props.model,name:this.props.name,onChange:this.props.onChange}):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("itemUrl")},"Item Url (This supports mustache templating.",_react2.default.createElement("code",null,"{{key}}")," is set to the term)"),_react2.default.createElement("input",{id:htmlId("itemUrl"),className:"vis_editor__input-grows",onChange:handleTextChange("drilldown_url"),value:model.drilldown_url})),_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Background Color"),_react2.default.createElement(_color_picker2.default,{onChange:this.props.onChange,name:"background_color",value:model.background_color}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilter")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("div",{className:"vis_editor__label"},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange})),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__label"},"Color Rules")),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement(_color_rules2.default,{model:model,primaryVarName:"bar_color",primaryName:"bar",hideSecondary:!0,onChange:this.props.onChange,name:"bar_color_rules"}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"data"===selectedTab,className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("data")}},"Data"),_react2.default.createElement("button",{role:"tab","aria-selected":"options"===selectedTab,className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("options")}},"Panel Options")),view)}}]),TopNPanelConfig}(_react.Component);TopNPanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object},exports.default=TopNPanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_field_select=__webpack_require__(157),_field_select2=_interopRequireDefault(_field_select),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_index_pattern=__webpack_require__(221),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),TablePanelConfig=function(_Component){function TablePanelConfig(props){_classCallCheck(this,TablePanelConfig);var _this=_possibleConstructorReturn(this,(TablePanelConfig.__proto__||Object.getPrototypeOf(TablePanelConfig)).call(this,props));return _this.state={selectedTab:"data"},_this}return _inherits(TablePanelConfig,_Component),_createClass(TablePanelConfig,[{key:"componentWillMount",value:function(){var model=this.props.model,parts={};(!model.bar_color_rules||model.bar_color_rules&&0===model.bar_color_rules.length)&&(parts.bar_color_rules=[{id:_uuid2.default.v1()}]),this.props.onChange(parts)}},{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"render",value:function(){var _this2=this,selectedTab=this.state.selectedTab,defaults={drilldown_url:"",filter:"",pivot_label:"",pivot_rows:10},model=_extends({},defaults,this.props.model),handleSelectChange=(0,_create_select_handler2.default)(this.props.onChange),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),htmlId=(0,_eui.htmlIdGenerator)(),view=void 0;return view="data"===selectedTab?_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__table-pivot-fields"},_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_ediotr__vis_config-row"},_react2.default.createElement("p",null,"For the table visualization you need to define a field to group by using a terms aggregation.")),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("field")},"Group By Field"),_react2.default.createElement("div",{className:"vis_editor__row_item","data-test-subj":"groupByField"},_react2.default.createElement(_field_select2.default,{id:htmlId("field"),fields:this.props.fields,value:model.pivot_id,indexPattern:model.index_pattern,onChange:handleSelectChange("pivot_id")})),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("pivotLabelInput")},"Column Label"),_react2.default.createElement("input",{id:htmlId("pivotLabelInput"),className:"vis_editor__input-grows","data-test-subj":"columnLabelName",type:"text",onChange:handleTextChange("pivot_label"),value:model.pivot_label}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("pivotRowsInput")},"Rows"),_react2.default.createElement("input",{id:htmlId("pivotRowsInput"),className:"vis_editor__input-number",type:"number",onChange:handleTextChange("pivot_rows"),value:model.pivot_rows})))),_react2.default.createElement(_series_editor2.default,{fields:this.props.fields,model:this.props.model,name:this.props.name,onChange:this.props.onChange})):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("drilldownInput")},"Item Url (This supports mustache templating.",_react2.default.createElement("code",null,"{{key}}")," is set to the term)"),_react2.default.createElement("input",{id:htmlId("drilldownInput"),className:"vis_editor__input-grows",onChange:handleTextChange("drilldown_url"),value:model.drilldown_url})),_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilterInput")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilterInput"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("globalFilterOption")},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{id:htmlId("globalFilterOption"),value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs"},_react2.default.createElement("div",{className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("data")}},"Columns"),_react2.default.createElement("div",{className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("options")}},"Panel Options")),view)}}]),TablePanelConfig}(_react.Component);TablePanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object},exports.default=TablePanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_index_pattern=__webpack_require__(221),_reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_color_rules=__webpack_require__(526),_color_rules2=_interopRequireDefault(_color_rules),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_eui=__webpack_require__(5),GaugePanelConfig=function(_Component){function GaugePanelConfig(props){_classCallCheck(this,GaugePanelConfig);var _this=_possibleConstructorReturn(this,(GaugePanelConfig.__proto__||Object.getPrototypeOf(GaugePanelConfig)).call(this,props));return _this.state={selectedTab:"data"},_this}return _inherits(GaugePanelConfig,_Component),_createClass(GaugePanelConfig,[{key:"componentWillMount",value:function(){var model=this.props.model,parts={};(!model.gauge_color_rules||model.gauge_color_rules&&0===model.gauge_color_rules.length)&&(parts.gauge_color_rules=[{id:_uuid2.default.v1()}]),null==model.gauge_width&&(parts.gauge_width=10),null==model.gauge_inner_width&&(parts.gauge_inner_width=10),null==model.gauge_style&&(parts.gauge_style="half"),this.props.onChange(parts)}},{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"render",value:function(){var _this2=this,selectedTab=this.state.selectedTab,defaults={gauge_max:"",filter:"",gauge_style:"circle",gauge_inner_width:"",gauge_width:""},model=_extends({},defaults,this.props.model),handleSelectChange=(0,_create_select_handler2.default)(this.props.onChange),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),styleOptions=[{label:"Circle",value:"circle"},{label:"Half Circle",value:"half"}],htmlId=(0,_eui.htmlIdGenerator)(),view=void 0;return view="data"===selectedTab?_react2.default.createElement(_series_editor2.default,{colorPicker:!0,fields:this.props.fields,limit:1,model:this.props.model,name:this.props.name,onChange:this.props.onChange}):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilter")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("div",{className:"vis_editor__label"},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange})),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Background Color"),_react2.default.createElement(_color_picker2.default,{onChange:this.props.onChange,name:"background_color",value:model.background_color}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("gaugeMax")},"Gauge Max (empty for auto)"),_react2.default.createElement("input",{id:htmlId("gaugeMax"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("gauge_max"),value:model.gauge_max}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("gaugeStyle")},"Gauge Style"),_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("gaugeStyle")},autosize:!1,clearable:!1,options:styleOptions,value:model.gauge_style,onChange:handleSelectChange("gauge_style")})),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Inner Color"),_react2.default.createElement(_color_picker2.default,{onChange:this.props.onChange,name:"gauge_inner_color",value:model.gauge_inner_color}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("innerLine")},"Inner Line Width"),_react2.default.createElement("input",{id:htmlId("innerLine"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("gauge_inner_width"),value:model.gauge_inner_width}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("gaugeLine")},"Gauge Line Width"),_react2.default.createElement("input",{id:htmlId("gaugeLine"),className:"vis_editor__input-grows",type:"number",onChange:handleTextChange("gauge_width"),value:model.gauge_width})),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"vis_editor__label"},"Color Rules")),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement(_color_rules2.default,{primaryName:"gauge color",primaryVarName:"gauge",secondaryName:"text color",secondaryVarName:"text",model:model,onChange:this.props.onChange,name:"gauge_color_rules"}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"data"===selectedTab,className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("data")}},"Data"),_react2.default.createElement("button",{role:"tab","aria-selected":"options"===selectedTab,className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this2.switchTab("options")}},"Panel Options")),view)}}]),GaugePanelConfig}(_react.Component);GaugePanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object},exports.default=GaugePanelConfig,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_series_editor=__webpack_require__(323),_series_editor2=_interopRequireDefault(_series_editor),_index_pattern=__webpack_require__(221);__webpack_require__(4583);var _reactSelect=__webpack_require__(50),_reactSelect2=_interopRequireDefault(_reactSelect),_create_select_handler=__webpack_require__(37),_create_select_handler2=_interopRequireDefault(_create_select_handler),_create_text_handler=__webpack_require__(38),_create_text_handler2=_interopRequireDefault(_create_text_handler),_color_picker=__webpack_require__(155),_color_picker2=_interopRequireDefault(_color_picker),_yes_no=__webpack_require__(156),_yes_no2=_interopRequireDefault(_yes_no),_markdown_editor=__webpack_require__(4584),_markdown_editor2=_interopRequireDefault(_markdown_editor),_lessBrowser=__webpack_require__(4591),_lessBrowser2=_interopRequireDefault(_lessBrowser),_components=__webpack_require__(22),_eui=__webpack_require__(5),lessC=(0,_lessBrowser2.default)(window,{env:"production"}),MarkdownPanelConfig=function(_Component){function MarkdownPanelConfig(props){_classCallCheck(this,MarkdownPanelConfig);var _this=_possibleConstructorReturn(this,(MarkdownPanelConfig.__proto__||Object.getPrototypeOf(MarkdownPanelConfig)).call(this,props));return _this.state={selectedTab:"markdown"},_this.handleCSSChange=_this.handleCSSChange.bind(_this),_this}return _inherits(MarkdownPanelConfig,_Component),_createClass(MarkdownPanelConfig,[{key:"switchTab",value:function(selectedTab){this.setState({selectedTab:selectedTab})}},{key:"handleCSSChange",value:function(value){var _this2=this,model=this.props.model,lessSrc="#markdown-"+model.id+" {\n  "+value+"\n}";lessC.render(lessSrc,{compress:!0},function(e,output){var parts={markdown_less:value};output&&(parts.markdown_css=output.css),_this2.props.onChange(parts)})}},{key:"render",value:function(){var _this3=this,defaults={filter:""},model=_extends({},defaults,this.props.model),selectedTab=this.state.selectedTab,handleSelectChange=(0,_create_select_handler2.default)(this.props.onChange),handleTextChange=(0,_create_text_handler2.default)(this.props.onChange),htmlId=(0,_eui.htmlIdGenerator)(),alignOptions=[{label:"Top",value:"top"},{label:"Middle",value:"middle"},{label:"Bottom",value:"bottom"}],view=void 0;return view="markdown"===selectedTab?_react2.default.createElement(_markdown_editor2.default,this.props):"data"===selectedTab?_react2.default.createElement(_series_editor2.default,{colorPicker:!1,fields:this.props.fields,model:this.props.model,name:this.props.name,onChange:this.props.onChange}):_react2.default.createElement("div",{className:"vis_editor__container"},_react2.default.createElement(_index_pattern.IndexPattern,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Background Color"),_react2.default.createElement(_color_picker2.default,{onChange:this.props.onChange,name:"background_color",value:model.background_color}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("panelFilter")},"Panel Filter"),_react2.default.createElement("input",{id:htmlId("panelFilter"),className:"vis_editor__input-grows",type:"text",onChange:handleTextChange("filter"),value:model.filter}),_react2.default.createElement("div",{className:"vis_editor__label"},"Ignore Global Filter"),_react2.default.createElement(_yes_no2.default,{value:model.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange})),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Show Scrollbars"),_react2.default.createElement(_yes_no2.default,{value:model.markdown_scrollbars,name:"markdown_scrollbars",onChange:this.props.onChange}),_react2.default.createElement("label",{className:"vis_editor__label",htmlFor:htmlId("valign")},"Vertical Alignment"),_react2.default.createElement("div",{className:"vis_editor__row_item"},_react2.default.createElement(_reactSelect2.default,{inputProps:{id:htmlId("valign")},autosize:!0,clearable:!1,options:alignOptions,value:model.markdown_vertical_align,onChange:handleSelectChange("markdown_vertical_align")}))),_react2.default.createElement("div",{className:"vis_editor__vis_config-row"},_react2.default.createElement("div",{className:"vis_editor__label"},"Custom CSS (supports Less)")),_react2.default.createElement("div",{className:"vis_editor__ace-editor"},_react2.default.createElement(_components.KuiCodeEditor,{mode:"less",theme:"github",width:"100%",name:"ace-css-"+model.id,setOptions:{fontSize:"14px"},value:model.markdown_less,onChange:this.handleCSSChange}))),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kbnTabs",role:"tablist"},_react2.default.createElement("button",{role:"tab","aria-selected":"markdown"===selectedTab,className:"kbnTabs__tab"+("markdown"===selectedTab&&"-active"||""),onClick:function(){return _this3.switchTab("markdown")}},"Markdown"),_react2.default.createElement("button",{"data-test-subj":"markdownDataBtn",role:"tab","aria-selected":"data"===selectedTab,className:"kbnTabs__tab"+("data"===selectedTab&&"-active"||""),onClick:function(){return _this3.switchTab("data")}},"Data"),_react2.default.createElement("button",{role:"tab","aria-selected":"options"===selectedTab,className:"kbnTabs__tab"+("options"===selectedTab&&"-active"||""),onClick:function(){return _this3.switchTab("options")}},"Panel Options")),view)}}]),MarkdownPanelConfig}(_react.Component);MarkdownPanelConfig.propTypes={fields:_propTypes2.default.object,model:_propTypes2.default.object,onChange:_propTypes2.default.func,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=MarkdownPanelConfig,module.exports=exports.default},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_tick_formatter=__webpack_require__(266),_tick_formatter2=_interopRequireDefault(_tick_formatter),_convert_series_to_vars=__webpack_require__(1379),_convert_series_to_vars2=_interopRequireDefault(_convert_series_to_vars),_components=__webpack_require__(22),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(4585),__webpack_require__(4590);var _eui=__webpack_require__(5),MarkdownEditor=function(_Component){function MarkdownEditor(props){_classCallCheck(this,MarkdownEditor);var _this=_possibleConstructorReturn(this,(MarkdownEditor.__proto__||Object.getPrototypeOf(MarkdownEditor)).call(this,props));return _this.handleChange=_this.handleChange.bind(_this),_this.handleOnLoad=_this.handleOnLoad.bind(_this),_this}return _inherits(MarkdownEditor,_Component),_createClass(MarkdownEditor,[{key:"handleChange",value:function(value){this.props.onChange({markdown:value})}},{key:"handleOnLoad",value:function(ace){this.ace=ace}},{key:"handleVarClick",value:function(snippet){var _this2=this;return function(){_this2.ace&&_this2.ace.insert(snippet)}}},{key:"render",value:function(){function walk(obj){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(var name in obj)Array.isArray(obj[name])?createArrayRow(path.concat(name).join(".")):_lodash2.default.isObject(obj[name])?walk(obj[name],path.concat(name)):createPrimativeRow(path.concat(name).join("."))}var _this3=this,_props=this.props,model=_props.model,visData=_props.visData,dateFormat=_props.dateFormat,series=_lodash2.default.get(visData,model.id+".series",[]),variables=(0,_convert_series_to_vars2.default)(series,model,dateFormat),rows=[],rawFormatter=(0,_tick_formatter2.default)("0.[0000]"),createPrimativeRow=function(key){var snippet="{{ "+key+" }}",value=_lodash2.default.get(variables,key);/raw$/.test(key)&&(value=rawFormatter(value)),rows.push(_react2.default.createElement("tr",{key:key},_react2.default.createElement("td",null,_react2.default.createElement("a",{onClick:_this3.handleVarClick(snippet)},snippet)),_react2.default.createElement("td",null,_react2.default.createElement("code",null,"“",value,"”"))))},createArrayRow=function(key){var snippet="{{# "+key+" }}{{/ "+key+" }}",date=_lodash2.default.get(variables,key+"[0][0]"),value=_lodash2.default.get(variables,key+"[0][1]");/raw$/.test(key)&&(value=rawFormatter(value)),rows.push(_react2.default.createElement("tr",{key:key},_react2.default.createElement("td",null,_react2.default.createElement("a",{onClick:_this3.handleVarClick(snippet)},"{{ "+key+" }}")),_react2.default.createElement("td",null,_react2.default.createElement("code",null,"[ [ “",date,"”, “",value,"” ], ... ]"))))};return walk(variables),_react2.default.createElement("div",{className:"vis_editor__markdown"},_react2.default.createElement("div",{className:"vis_editor__markdown-editor"},_react2.default.createElement(_components.KuiCodeEditor,{onLoad:this.handleOnLoad,mode:"markdown",theme:"github",width:"100%",height:"100%",name:"ace-"+model.id,setOptions:{wrap:!0,fontSize:"14px"},value:model.markdown,onChange:this.handleChange})),_react2.default.createElement("div",{className:"vis_editor__markdown-variables"},_react2.default.createElement(_eui.EuiText,null,"The following variables can be used in the Markdown by using the Handlebar (mustache) syntax."," ",_react2.default.createElement("a",{href:"http://handlebarsjs.com/expressions.html",target:"_BLANK"},"Click here for documentation")," ","on the available expressions."),_react2.default.createElement("table",{className:"table"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{scope:"col"},"Name"),_react2.default.createElement("th",{scope:"col"},"Value"))),_react2.default.createElement("tbody",null,rows)),0===rows.length&&_react2.default.createElement("div",{className:"vis_editor__no-markdown-variables"},"No variables avaliable for the selected data metrics."),_react2.default.createElement("div",{className:"vis_editor__markdown-code-desc"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"There is also a special variable named ",_react2.default.createElement("code",null,"_all")," which you can use to access the entire tree. This is useful for creating lists with data from a group by..."))),_react2.default.createElement(_eui.EuiCodeBlock,null,"# All servers:\n\n            {{#each _all}}\n            - {{ label }} {{ last.formatted }}\n            {{/each}}")))}}]),MarkdownEditor}(_react.Component);MarkdownEditor.propTypes={onChange:_propTypes2.default.func,model:_propTypes2.default.object,visData:_propTypes2.default.object,dateFormat:_propTypes2.default.string},exports.default=MarkdownEditor,module.exports=exports.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);exports.default=function(timefilter){return function(ranges){timefilter.time.from=(0,_moment2.default)(ranges.xaxis.from).toISOString(),timefilter.time.to=(0,_moment2.default)(ranges.xaxis.to).toISOString(),timefilter.time.mode="absolute",timefilter.update()}},module.exports=exports.default},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_region_map_vis_params=__webpack_require__(4645),_region_map_vis_params2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_region_map_vis_params),_util=__webpack_require__(1404);__webpack_require__(1405),_modules.uiModules.get("kibana/region_map").directive("regionMapVisParams",function(serviceSettings,regionmapsConfig,Notifier){var notify=new Notifier({location:"Region map"});return{restrict:"E",template:_region_map_vis_params2.default,link:function($scope){function onLayerChange(){$scope.vis.params.selectedJoinField=$scope.vis.params.selectedLayer.fields[0]}$scope.collections=$scope.vis.type.editorConfig.collections,$scope.onLayerChange=onLayerChange,regionmapsConfig.includeElasticMapsService&&serviceSettings.getFileLayers().then(function(layersFromService){layersFromService=layersFromService.map(_util.mapToLayerWithId.bind(null,"elastic_maps_service"));for(var newVectorLayers=$scope.collections.vectorLayers.slice(),i=0;i<layersFromService.length;i+=1)!function(i){var layerFromService=layersFromService[i];newVectorLayers.some(function(layer){return layerFromService.layerId===layer.layerId})||("geojson"===layerFromService.format&&(layerFromService.format={type:"geojson"}),newVectorLayers.push(layerFromService))}(i);$scope.collections.vectorLayers=newVectorLayers,$scope.collections.vectorLayers[0]&&!$scope.vis.params.selectedLayer&&($scope.vis.params.selectedLayer=$scope.collections.vectorLayers[0],onLayerChange()),setTimeout(function(){$scope.dirty=!1},0),$scope.collections.vectorLayers=newVectorLayers,$scope.collections.vectorLayers[0]&&!$scope.vis.params.selectedLayer&&($scope.vis.params.selectedLayer=$scope.collections.vectorLayers[0],onLayerChange()),setTimeout(function(){$scope.dirty=!1},0)}).catch(function(error){notify.warning(error.message)})}}})},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="form-group">\n    <div class="kuiSideBarSectionTitle">\n      <div class="kuiSideBarSectionTitle__text">\n        Layer Settings\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="regionMap">\n        Vector map\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <select\n          id="regionMap"\n          class="kuiSelect kuiSideBarSelect"\n          ng-model="vis.params.selectedLayer"\n          ng-options="layer.name for layer in collections.vectorLayers track by layer.layerId"\n          ng-change="onLayerChange()"\n        ></select>\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="joinField">\n        Join field\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <select id="joinField"\n          class="kuiSelect kuiSideBarSelect"\n          ng-model="vis.params.selectedJoinField"\n          ng-options="field.description for field in vis.params.selectedLayer.fields track by field.name"\n        >\n          <option value=\'\'>Select</option></select>\n      </div>\n    </div>\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="displayWarnings">\n        Display warnings\n      </label>\n\n      <div class="kuiSideBarFormRow__control">\n        <input id="displayWarnings" type="checkbox" ng-model="vis.params.isDisplayWarning">\n        &nbsp;\n        <icon-tip\n          content="\'Turns on/off warnings. When turned on, warning will be shown for each term that cannot be matched to a shape in the vector layer based on the join field. When turned off, these warnings will be turned off.\'"\n          position="\'right\'"\n        ></icon-tip>\n      </div>\n    </div>\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="onlyShowMatchingShapes">\n        Show all shapes\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <input id="onlyShowMatchingShapes" type="checkbox" ng-model="vis.params.showAllShapes">\n        &nbsp;\n        <icon-tip\n          content="\'Turning this off only shows the shapes that were matched with a corresponding term\'"\n          position="\'right\'"\n        ></icon-tip>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="kuiSideBarSection">\n\n  <div class="kuiSideBarSectionTitle">\n    <div class="kuiSideBarSectionTitle__text">Style settings</div>\n  </div>\n  <div class="kuiSideBarFormRow" >\n    <label class="kuiSideBarFormRow__label" for="colorSchema">\n      Color Schema\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <select\n        id="colorSchema"\n        class="kuiSelect kuiSideBarSelect"\n        ng-model="vis.params.colorSchema"\n        ng-options="mode for mode in collections.colorSchemas"\n      ></select>\n    </div>\n  </div>\n  <div class="kuiSideBarFormRow" >\n    <label class="kuiSideBarFormRow__label" for="outlineWeight">\n      Outline weight\n    </label>\n    <div class="kuiSideBarFormRow__control">\n      <input\n        id="outlineWeight"\n        class="kuiInput kuiSideBarInput"\n        type="number"\n        ng-model="vis.params.outlineWeight"\n      >\n    </div>\n  </div>\n</div>\n\n<wms-options options="vis.params.wms"></wms-options>\n'},function(module,exports){module.exports='<div>\n\n\n  <div class="kuiSideBarSection">\n    <div class="kuiSideBarSectionTitle">\n      <div class="kuiSideBarSectionTitle__text">\n        Base Layer Settings\n      </div>\n    </div>\n\n\n    <div class="kuiSideBarFormRow" ng-show="!options.enabled">\n      <label class="kuiSideBarFormRow__label" for="tmsLayers">\n        Layers\n      </label>\n      <div class="kuiSideBarFormRow__control">\n        <select\n          id="tmsLayers"\n          class="kuiSelect kuiSideBarSelect"\n          ng-model="options.selectedTmsLayer"\n          ng-options="layer.id for layer in options.tmsLayers track by layer.id"\n        ></select>\n      </div>\n    </div>\n\n    <div class="kuiSideBarFormRow">\n      <label class="kuiSideBarFormRow__label" for="wmsCompliantMapServer">\n        WMS map server\n      </label>\n\n      <div class="kuiSideBarFormRow__control">\n        <input\n          id="wmsCompliantMapServer"\n          type="checkbox"\n          name="wms.enabled"\n          ng-model="options.enabled"\n        >\n        &nbsp;\n        <icon-tip\n          content="\'Use WMS compliant map tile server. For advanced users only.\'"\n          position="\'right\'"\n        ></icon-tip>\n      </div>\n    </div>\n\n    <div ng-show="options.enabled" class="well">\n      <div class="vis-option-item form-group">\n        <p>WMS is an OGC standard for map image services. For more information, go <a\n          href="http://www.opengeospatial.org/standards/wms">here</a>.</p>\n        <label>\n          WMS url*\n          <icon-tip\n            position="\'right\'"\n            content="\'The URL of the WMS web service\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               name="wms.url"\n               ng-model="options.url">\n      </div>\n\n      <div class="vis-option-item form-group">\n        <label>\n          WMS layers*\n          <icon-tip\n            position="\'right\'"\n            content="\'A comma seperated list of layers to use\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               ng-require="options.enabled"\n               name="wms.options.layers"\n               ng-model="options.options.layers">\n      </div>\n\n      <div class="vis-option-item form-group">\n        <label>\n          WMS version*\n          <icon-tip\n            position="\'right\'"\n            content="\'The version of WMS the server supports\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               name="wms.options.version"\n               ng-model="options.options.version">\n      </div>\n\n      <div class="vis-option-item form-group">\n        <label>\n          WMS format*\n          <icon-tip\n            position="\'right\'"\n            content="\'Usually image/png or image/jpeg. Use png if the server will return transparent layers.\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               name="wms.options.format"\n               ng-model="options.options.format">\n      </div>\n\n      <div class="vis-option-item form-group">\n        <label>\n          WMS attribution\n          <icon-tip\n            position="\'right\'"\n            content="\'Attribution string for the lower right corner\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               name="wms.options.attribution"\n               ng-model="options.options.attribution">\n      </div>\n\n      <div class="vis-option-item form-group">\n        <label>\n          WMS styles*\n          <icon-tip\n            position="\'right\'"\n            content="\'A comma seperated list of WMS server supported styles to use. Blank in most cases.\'"\n          ></icon-tip>\n        </label>\n        <input type="text" class="form-control"\n               name="wms.options.styles"\n               ng-model="options.options.styles">\n      </div>\n\n      <p>* if this parameter is incorrect, maps will fail to load.</p>\n\n\n    </div>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"31c86fc56ac59def71b7d7cff315270b.svg"},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function RegionMapsVisualizationProvider(Private,Notifier,config){var tooltipFormatter=Private(_tooltip_formatter2.default),BaseMapsVisualization=Private(_base_maps_visualization.BaseMapsVisualizationProvider);return function(_BaseMapsVisualizatio){function RegionMapsVisualization(container,vis){_classCallCheck(this,RegionMapsVisualization);var _this=_possibleConstructorReturn(this,(RegionMapsVisualization.__proto__||Object.getPrototypeOf(RegionMapsVisualization)).call(this,container,vis));return _this._vis=_this.vis,_this._choroplethLayer=null,_this._notify=new Notifier({location:"Region map"}),_this}return _inherits(RegionMapsVisualization,_BaseMapsVisualizatio),_createClass(RegionMapsVisualization,[{key:"render",value:function(){function render(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(esReponse,status){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_get(RegionMapsVisualization.prototype.__proto__||Object.getPrototypeOf(RegionMapsVisualization.prototype),"render",this).call(this,esReponse,status);case 2:if(!this._choroplethLayer){_context.next=5;break}return _context.next=5,this._choroplethLayer.whenDataLoaded();case 5:case"end":return _context.stop()}},_callee,this)}));return render}()},{key:"_updateData",value:function(){function _updateData(_x3){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(tableGroup){var results,buckets,metricsAgg;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this._chartData=tableGroup,results=void 0,tableGroup&&tableGroup.tables&&tableGroup.tables.length&&2===tableGroup.tables[0].columns.length?(buckets=tableGroup.tables[0].rows,results=buckets.map(function(_ref3){var _ref4=_slicedToArray(_ref3,2);return{term:_ref4[0],value:_ref4[1]}})):results=[],!this._vis.params.selectedJoinField&&this._vis.params.selectedLayer&&(this._vis.params.selectedJoinField=this._vis.params.selectedLayer.fields[0]),this._vis.params.selectedLayer){_context2.next=6;break}return _context2.abrupt("return");case 6:this._updateChoroplethLayerForNewMetrics(this._vis.params.selectedLayer.url,this._vis.params.selectedLayer.attribution,this._vis.params.showAllShapes,results),metricsAgg=_lodash2.default.first(this._vis.getAggConfig().bySchemaName.metric),this._choroplethLayer.setMetrics(results,metricsAgg),this._setTooltipFormatter(),this._kibanaMap.useUiStateFromVisualization(this._vis);case 11:case"end":return _context2.stop()}},_callee2,this)}));return _updateData}()},{key:"_updateParams",value:function(){function _updateParams(){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var visParams;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_get(RegionMapsVisualization.prototype.__proto__||Object.getPrototypeOf(RegionMapsVisualization.prototype),"_updateParams",this).call(this);case 2:if(visParams=this.vis.params,!visParams.selectedJoinField&&visParams.selectedLayer&&(visParams.selectedJoinField=visParams.selectedLayer.fields[0]),visParams.selectedJoinField&&visParams.selectedLayer){_context3.next=6;break}return _context3.abrupt("return");case 6:this._updateChoroplehLayerForNewProperties(visParams.selectedLayer.url,visParams.selectedLayer.attribution,this._vis.params.showAllShapes),this._choroplethLayer.setJoinField(visParams.selectedJoinField.name),this._choroplethLayer.setColorRamp(_truncated_colormaps.truncatedColorMaps[visParams.colorSchema]),this._choroplethLayer.setLineWeight(visParams.outlineWeight),this._setTooltipFormatter();case 11:case"end":return _context3.stop()}},_callee3,this)}));return _updateParams}()},{key:"_updateChoroplethLayerForNewMetrics",value:function(url,attribution,showAllData,newMetrics){if(!this._choroplethLayer||!this._choroplethLayer.canReuseInstanceForNewMetrics(url,showAllData,newMetrics))return this._recreateChoroplethLayer(url,attribution,showAllData)}},{key:"_updateChoroplehLayerForNewProperties",value:function(url,attribution,showAllData){if(!this._choroplethLayer||!this._choroplethLayer.canReuseInstance(url,showAllData))return this._recreateChoroplethLayer(url,attribution,showAllData)}},{key:"_recreateChoroplethLayer",value:function(url,attribution,showAllData){var _this2=this;this._kibanaMap.removeLayer(this._choroplethLayer),this._choroplethLayer?this._choroplethLayer=this._choroplethLayer.cloneChoroplethLayerForNewData(url,attribution,this.vis.params.selectedLayer.format,showAllData,this.vis.params.selectedLayer.meta):this._choroplethLayer=new _choropleth_layer2.default(url,attribution,this.vis.params.selectedLayer.format,showAllData,this.vis.params.selectedLayer.meta),this._choroplethLayer.on("select",function(event){if(_this2._isAggReady()){var agg=_this2._vis.aggs.bySchemaName.segment[0],filter=agg.createFilter(event);_this2._vis.API.queryFilter.addFilters(filter)}}),this._choroplethLayer.on("styleChanged",function(event){var shouldShowWarning=_this2._vis.params.isDisplayWarning&&config.get("visualization:regionmap:showWarnings");event.mismatches.length>0&&shouldShowWarning&&_this2._notify.warning("Could not show "+event.mismatches.length+" "+(event.mismatches.length>1?"results":"result")+" on the map. To avoid this, ensure that each term can be matched to a corresponding shape on that shape's join field. Could not match following terms: "+event.mismatches.join(","))}),this._kibanaMap.addLayer(this._choroplethLayer)}},{key:"_isAggReady",value:function(){return this._vis.getAggConfig().bySchemaName.segment&&this._vis.getAggConfig().bySchemaName.segment[0]}},{key:"_setTooltipFormatter",value:function(){var metricsAgg=_lodash2.default.first(this._vis.getAggConfig().bySchemaName.metric);if(this._isAggReady()){var fieldName=this._vis.getAggConfig().bySchemaName.segment[0].makeLabel();this._choroplethLayer.setTooltipFormatter(tooltipFormatter,metricsAgg,fieldName)}else this._choroplethLayer.setTooltipFormatter(tooltipFormatter,metricsAgg,null)}}]),RegionMapsVisualization}(BaseMapsVisualization)}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};exports.RegionMapsVisualizationProvider=RegionMapsVisualizationProvider,__webpack_require__(699);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_base_maps_visualization=__webpack_require__(1406),_choropleth_layer=__webpack_require__(4650),_choropleth_layer2=_interopRequireDefault(_choropleth_layer),_truncated_colormaps=__webpack_require__(773),_tooltip_formatter=__webpack_require__(4652),_tooltip_formatter2=_interopRequireDefault(_tooltip_formatter);__webpack_require__(774)},function(module,exports,__webpack_require__){"use strict";function calculateZoomToPrecisionMap(maxZoom){for(var zoom=0;zoom<=maxZoom;zoom+=1)if("number"!=typeof zoomPrecisionMap[zoom]){var worldPixels=256*Math.pow(2,zoom);zoomPrecisionMap[zoom]=1;for(var precision=2;precision<=maxPrecision;precision+=1){var columns=(0,_decode_geo_hash.geohashColumns)(precision);if(!(worldPixels/columns>=minGeohashPixels))break;zoomPrecisionMap[zoom]=precision}}}function zoomToPrecision(mapZoom,maxPrecision,maxZoom){return calculateZoomToPrecisionMap("number"==typeof maxZoom?maxZoom:21),Math.min(zoomPrecisionMap[mapZoom],maxPrecision)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.zoomToPrecision=zoomToPrecision;var _decode_geo_hash=__webpack_require__(681),maxPrecision=12,zoomPrecisionMap={},minGeohashPixels=16},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function compareLexographically(termA,termB){return termA="string"==typeof termA?termA:termA.toString(),termB="string"==typeof termB?termB:termB.toString(),termA.localeCompare(termB)}function makeColorDarker(color){return _d2.default.hcl(color).darker(1.3).toString()}function getMinMax(data){for(var min=data[0].value,max=data[0].value,i=1;i<data.length;i+=1)min=Math.min(data[i].value,min),max=Math.max(data[i].value,max);return{min:min,max:max}}function getLegendColors(colorRamp){var colors=[];return colors[0]=getColor(colorRamp,0),colors[1]=getColor(colorRamp,Math.floor(1*colorRamp.length/4)),colors[2]=getColor(colorRamp,Math.floor(2*colorRamp.length/4)),colors[3]=getColor(colorRamp,Math.floor(3*colorRamp.length/4)),colors[4]=getColor(colorRamp,colorRamp.length-1),colors}function getColor(colorRamp,i){if(!colorRamp[i])return getColor();var color=colorRamp[i][1];return"rgb("+Math.floor(255*color[0])+","+Math.floor(255*color[1])+","+Math.floor(255*color[2])+")"}function getChoroplethColor(value,min,max,colorRamp){if(min===max)return getColor(colorRamp,colorRamp.length-1);var fraction=(value-min)/(max-min),index=Math.round(colorRamp.length*fraction)-1;return getColor(colorRamp,Math.max(Math.min(colorRamp.length-1,index),0))}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_kibana_map_layer=__webpack_require__(775),_truncated_colormaps=__webpack_require__(773),_topojsonClient=__webpack_require__(4651),topojson=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_topojsonClient),_notify=__webpack_require__(10),EMPTY_STYLE={weight:1,opacity:.6,color:"rgb(200,200,200)",fillOpacity:0},ChoroplethLayer=function(_KibanaMapLayer){function ChoroplethLayer(geojsonUrl,attribution,format,showAllShapes,meta){var _this2=this;_classCallCheck(this,ChoroplethLayer);var _this=_possibleConstructorReturn(this,(ChoroplethLayer.__proto__||Object.getPrototypeOf(ChoroplethLayer)).call(this));return _this._metrics=null,_this._joinField=null,_this._colorRamp=_truncated_colormaps.truncatedColorMaps[Object.keys(_truncated_colormaps.truncatedColorMaps)[0]],_this._lineWeight=1,_this._tooltipFormatter=function(){return""},_this._attribution=attribution,_this._boundsOfData=null,_this._showAllShapes=showAllShapes,_this._geojsonUrl=geojsonUrl,_this._leafletLayer=_leaflet2.default.geoJson(null,{onEachFeature:function(feature,layer){layer.on("click",function(){_this.emit("select",feature.properties[_this._joinField])});var location=null;layer.on({mouseover:function(){var tooltipContents=_this._tooltipFormatter(feature);if(!location){var leafletGeojon=_leaflet2.default.geoJson(feature);location=leafletGeojon.getBounds().getCenter()}_this.emit("showTooltip",{content:tooltipContents,position:location})},mouseout:function(){_this.emit("hideTooltip")}})},style:_this._makeEmptyStyleFunction()}),_this._loaded=!1,_this._error=!1,_this._isJoinValid=!1,_this._whenDataLoaded=new Promise(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(resolve){var data,featureCollection,formatType,features,errorMessage;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,_this._makeJsonAjaxCall(geojsonUrl);case 3:if(data=_context.sent,featureCollection=void 0,"geojson"!==(formatType="string"==typeof format?format:format.type)){_context.next=10;break}featureCollection=data,_context.next=16;break;case 10:if("topojson"!==formatType){_context.next=15;break}features=_lodash2.default.get(data,"objects."+meta.feature_collection_path),featureCollection=topojson.feature(data,features),_context.next=16;break;case 15:throw new Error("Unrecognized format "+formatType);case 16:_this._sortedFeatures=featureCollection.features.slice(),_this._sortFeatures(),showAllShapes&&_this._leafletLayer.addData(featureCollection),_this._loaded=!0,_this._setStyle(),resolve(),_context.next=32;break;case 24:_context.prev=24,_context.t0=_context.catch(0),_this._loaded=!0,_this._error=!0,errorMessage=void 0,errorMessage=404===_context.t0.status?"Server responding with '404' when attempting to fetch "+geojsonUrl+". \n                          Make sure the file exists at that location.":"Cannot download "+geojsonUrl+" file. Please ensure the\nCORS configuration of the server permits requests from the Kibana application on this host.",_notify.toastNotifications.addDanger({title:"Error downloading vector data",text:errorMessage}),resolve();case 32:case"end":return _context.stop()}},_callee,_this2,[[0,24]])}));return function(_x){return _ref.apply(this,arguments)}}()),_this}return _inherits(ChoroplethLayer,_KibanaMapLayer),_createClass(ChoroplethLayer,null,[{key:"_doInnerJoin",value:function(sortedMetrics,sortedGeojsonFeatures,joinField){for(var j=0,i=0;i<sortedGeojsonFeatures.length;i++){var property=sortedGeojsonFeatures[i].properties[joinField];sortedGeojsonFeatures[i].__kbnJoinedMetric=null;var position=sortedMetrics.length?compareLexographically(property,sortedMetrics[j].term):-1;if(-1===position);else if(0===position)sortedGeojsonFeatures[i].__kbnJoinedMetric=sortedMetrics[j];else if(1===position)for(;j<sortedMetrics.length;){var newTerm=sortedMetrics[j].term,newPosition=compareLexographically(newTerm,property);if(-1===newPosition);else{if(0===newPosition){sortedGeojsonFeatures[i].__kbnJoinedMetric=sortedMetrics[j];break}if(1===newPosition)break}if(j===sortedMetrics.length-1)break;j++}}}}]),_createClass(ChoroplethLayer,[{key:"_makeJsonAjaxCall",value:function(){function _makeJsonAjaxCall(_x2){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(url){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_jquery2.default.ajax({dataType:"json",url:url});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}));return _makeJsonAjaxCall}()},{key:"_invalidateJoin",value:function(){this._isJoinValid=!1}},{key:"_doInnerJoin",value:function(){ChoroplethLayer._doInnerJoin(this._metrics,this._sortedFeatures,this._joinField),this._isJoinValid=!0}},{key:"_setStyle",value:function(){if(!this._error&&this._loaded&&this._metrics&&this._joinField){if(!this._isJoinValid&&(this._doInnerJoin(),!this._showAllShapes)){var featureCollection={type:"FeatureCollection",features:this._sortedFeatures.filter(function(feature){return feature.__kbnJoinedMetric})};this._leafletLayer.addData(featureCollection)}var styler=this._makeChoroplethStyler();if(this._leafletLayer.setStyle(styler.leafletStyleFunction),this._metrics&&this._metrics.length>0){var _getMinMax=getMinMax(this._metrics),min=_getMinMax.min,max=_getMinMax.max;this._legendColors=getLegendColors(this._colorRamp);var quantizeDomain=min!==max?[min,max]:_d2.default.scale.quantize().domain();this._legendQuantizer=_d2.default.scale.quantize().domain(quantizeDomain).range(this._legendColors)}this._boundsOfData=styler.getLeafletBounds(),this.emit("styleChanged",{mismatches:styler.getMismatches()})}}},{key:"getUrl",value:function(){return this._geojsonUrl}},{key:"setTooltipFormatter",value:function(tooltipFormatter,metricsAgg,fieldName){var _this3=this;this._tooltipFormatter=function(geojsonFeature){if(!_this3._metrics)return"";var match=_this3._metrics.find(function(bucket){return bucket.term===geojsonFeature.properties[_this3._joinField]});return tooltipFormatter(metricsAgg,match,fieldName)}}},{key:"setJoinField",value:function(joinfield){joinfield!==this._joinField&&(this._joinField=joinfield,this._sortFeatures(),this._setStyle())}},{key:"cloneChoroplethLayerForNewData",value:function(url,attribution,format,showAllData,meta){var clonedLayer=new ChoroplethLayer(url,attribution,format,showAllData,meta);return clonedLayer.setJoinField(this._joinField),clonedLayer.setColorRamp(this._colorRamp),clonedLayer.setLineWeight(this._lineWeight),clonedLayer.setTooltipFormatter(this._tooltipFormatter),this._metrics&&this._metricsAgg&&clonedLayer.setMetrics(this._metrics,this._metricsAgg),clonedLayer}},{key:"_sortFeatures",value:function(){var _this4=this;this._sortedFeatures&&this._joinField&&(this._sortedFeatures.sort(function(a,b){return compareLexographically(a.properties[_this4._joinField],b.properties[_this4._joinField])}),this._invalidateJoin())}},{key:"whenDataLoaded",value:function(){return this._whenDataLoaded}},{key:"setMetrics",value:function(metrics,metricsAgg){this._metrics=metrics.slice(),this._metricsAgg=metricsAgg,this._valueFormatter=this._metricsAgg.fieldFormatter(),this._metrics.sort(function(a,b){return compareLexographically(a.term,b.term)}),this._invalidateJoin(),this._setStyle()}},{key:"setColorRamp",value:function(colorRamp){_lodash2.default.isEqual(colorRamp,this._colorRamp)||(this._colorRamp=colorRamp,this._setStyle())}},{key:"setLineWeight",value:function(lineWeight){this._lineWeight!==lineWeight&&(this._lineWeight=lineWeight,this._setStyle())}},{key:"canReuseInstance",value:function(geojsonUrl,showAllShapes){return this._geojsonUrl===geojsonUrl&&this._showAllShapes===showAllShapes}},{key:"canReuseInstanceForNewMetrics",value:function(geojsonUrl,showAllShapes,newMetrics){if(this._geojsonUrl!==geojsonUrl)return!1;if(showAllShapes)return this._showAllShapes===showAllShapes;if(this._metrics){var currentKeys=Object.keys(this._metrics),newKeys=Object.keys(newMetrics);return _lodash2.default.isEqual(currentKeys,newKeys)}}},{key:"getBounds",value:function(){var bounds=_get(ChoroplethLayer.prototype.__proto__||Object.getPrototypeOf(ChoroplethLayer.prototype),"getBounds",this).call(this);return this._boundsOfData?this._boundsOfData:bounds}},{key:"appendLegendContents",value:function(jqueryDiv){var _this5=this;if(this._legendColors&&this._legendQuantizer&&this._metricsAgg){var titleText=this._metricsAgg.makeLabel(),$title=(0,_jquery2.default)("<div>").addClass("tilemap-legend-title").text(titleText);jqueryDiv.append($title),this._legendColors.forEach(function(color){var labelText=_this5._legendQuantizer.invertExtent(color).map(_this5._valueFormatter).join(" – "),label=(0,_jquery2.default)("<div>"),icon=(0,_jquery2.default)("<i>").css({background:color,"border-color":makeColorDarker(color)}),text=(0,_jquery2.default)("<span>").text(labelText);label.append(icon),label.append(text),jqueryDiv.append(label)})}}},{key:"_makeEmptyStyleFunction",value:function(){var emptyStyle=_lodash2.default.assign({},EMPTY_STYLE,{weight:this._lineWeight});return function(){return emptyStyle}}},{key:"_makeChoroplethStyler",value:function(){var _this6=this,emptyStyle=this._makeEmptyStyleFunction();if(0===this._metrics.length)return{leafletStyleFunction:function(){return emptyStyle()},getMismatches:function(){return[]},getLeafletBounds:function(){return null}};var _getMinMax2=getMinMax(this._metrics),min=_getMinMax2.min,max=_getMinMax2.max,boundsOfAllFeatures=new _leaflet2.default.LatLngBounds;return{leafletStyleFunction:function(geojsonFeature){var match=geojsonFeature.__kbnJoinedMetric;if(!match)return emptyStyle();var boundsOfFeature=_leaflet2.default.geoJson(geojsonFeature).getBounds();return boundsOfAllFeatures.extend(boundsOfFeature),{fillColor:getChoroplethColor(match.value,min,max,_this6._colorRamp),weight:_this6._lineWeight,opacity:1,color:"white",fillOpacity:.7}},getMismatches:function(){var mismatches=_this6._metrics.slice();return _this6._sortedFeatures.forEach(function(feature){var index=mismatches.indexOf(feature.__kbnJoinedMetric);index>=0&&mismatches.splice(index,1)}),mismatches.map(function(b){return b.term})},getLeafletBounds:function(){return boundsOfAllFeatures.isValid()?boundsOfAllFeatures:null}}}}]),ChoroplethLayer}(_kibana_map_layer.KibanaMapLayer);exports.default=ChoroplethLayer,module.exports=exports.default},,function(module,exports,__webpack_require__){"use strict";function TileMapTooltipFormatter($compile,$rootScope){var $tooltipScope=$rootScope.$new(),$el=(0,_jquery2.default)("<div>").html(__webpack_require__(4653));return $compile($el)($tooltipScope),function(metricAgg,metric,fieldName){return metric?($tooltipScope.details=[],fieldName&&metric&&$tooltipScope.details.push({label:fieldName,value:metric.term}),metric&&$tooltipScope.details.push({label:metricAgg.makeLabel(),value:metricAgg.fieldFormatter()(metric.value)}),$tooltipScope.$apply(),$el.html()):""}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=TileMapTooltipFormatter;var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);module.exports=exports.default},function(module,exports){module.exports='<table>\n  <tbody>\n    <tr ng-repeat="detail in details" >\n      <td class="tooltip-label"><b>{{detail.label}}</b></td>\n      <td class="tooltip-value">{{detail.value}}</td>\n    </tr>\n  </tbody>\n</table>\n'},,,,,,,,,,,,,,,,,,,function(module,exports){module.exports='<div ng-if="!req.stopped" class="visualize-spy-loading">\n  <div class="visualize-spy-loading-text">\n    Request in progress\n    &nbsp;\n    <div class="spinner"></div>\n  </div>\n</div>\n\n<div ng-if="req.stopped && req.success === false" ng-init="console.log(req)" class="alert alert-danger">\n  <i class="fa fa-danger"></i> Request Failed\n</div>\n\n<div ng-if="mode === \'request\'">\n  <h3 class="euiTitle euiTitle--small">\n    Elasticsearch request body\n  </h3>\n  <div\n    data-test-subj="visualizationEsRequestBody"\n    class="euiCodeBlock euiCodeBlock--light euiCodeBlock--fontSmall euiCodeBlock--paddingSmall"\n  >\n    <code class="euiCodeBlock__code">\n      <pre class="euiCodeBlock__pre">{{req.fetchParams.body | json}}</pre>\n    </code>\n  </div>\n</div>\n\n<div ng-if="mode === \'response\'">\n  <h3 class="euiTitle euiTitle--small">\n    Elasticsearch response body\n  </h3>\n  <div class="euiCodeBlock euiCodeBlock--light euiCodeBlock--fontSmall euiCodeBlock--paddingSmall">\n    <code class="euiCodeBlock__code">\n      <pre class="euiCodeBlock__pre">{{req.resp | json}}</pre>\n    </code>\n  </div>\n</div>\n\n<div ng-if="mode === \'stats\'">\n  <table class="table">\n    <tr ng-repeat="pair in stats">\n      <td>{{pair[0]}}</td>\n      <td>{{pair[1]}}</td>\n    </tr>\n  </table>\n</div>\n'},function(module,exports){module.exports='<kbn-agg-table\n  table="table"\n  export-title="vis.title"\n  per-page="rowsPerPage">\n</kbn-agg-table>\n'},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_lodash=__webpack_require__(1);_modules.uiModules.get("kibana/table_vis",["kibana"]).controller("KbnTableVisController",function($scope){var uiStateSort=$scope.uiState?$scope.uiState.get("vis.params.sort"):{};(0,_lodash.assign)($scope.vis.params.sort,uiStateSort),$scope.sort=$scope.vis.params.sort,$scope.$watchCollection("sort",function(newSort){$scope.uiState.set("vis.params.sort",newSort)}),$scope.$watch("renderComplete",function(){var tableGroups=$scope.tableGroups=null,hasSomeRows=$scope.hasSomeRows=null;$scope.esResponse&&(tableGroups=$scope.esResponse,hasSomeRows=tableGroups.tables.some(function haveRows(table){return table.tables?table.tables.some(haveRows):table.rows.length>0})),$scope.hasSomeRows=hasSomeRows,hasSomeRows&&($scope.tableGroups=tableGroups),$scope.renderComplete()})})},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_table_vis_params=__webpack_require__(4677),_table_vis_params2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_table_vis_params);_modules.uiModules.get("kibana/table_vis").directive("tableVisParams",function(){return{restrict:"E",template:_table_vis_params2.default,link:function($scope){$scope.totalAggregations=["sum","avg","min","max","count"],$scope.$watchMulti(["vis.params.showPartialRows","vis.params.showMeticsAtAllLevels"],function(){if($scope.vis){var params=$scope.vis.params;params.showPartialRows||params.showMeticsAtAllLevels?$scope.metricsAtAllLevels=!0:$scope.metricsAtAllLevels=!1}})}}})},function(module,exports){module.exports='\n<div class="kuiSideBarSection">\n  <div class="form-group">\n    <label for="datatableVisualizationPerPage">Per Page</label>\n    <input type="number" ng-model="vis.params.perPage" class="form-control" id="datatableVisualizationPerPage">\n  </div>\n\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" ng-model="vis.params.showMeticsAtAllLevels">\n      Show metrics for every bucket/level\n    </label>\n  </div>\n\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" ng-model="vis.params.showPartialRows">\n      Show partial rows\n    </label>\n  </div>\n\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" ng-model="metricsAtAllLevels" disabled>\n      Calculate metrics for every bucket/level\n    </label>\n  </div>\n\n  <div class="checkbox">\n    <label>\n      <input type="checkbox" ng-model="vis.params.showTotal">\n      Show total\n    </label>\n  </div>\n\n  <div>\n    <label for="datatableVisualizationTotalFunction">Total function</label>\n    <select ng-disabled="!vis.params.showTotal"\n            class="form-control"\n            ng-model="vis.params.totalFunc"\n            ng-options="x for x in totalAggregations" id="datatableVisualizationTotalFunction">\n    </select>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(13),__webpack_require__(1415),__webpack_require__(4679),__webpack_require__(4682);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_agg_table=__webpack_require__(4683),_agg_table2=_interopRequireDefault(_agg_table),_field_formats=__webpack_require__(99);_modules.uiModules.get("kibana",["RecursionHelper"]).directive("kbnAggTable",function($filter,config,Private,RecursionHelper){var numberFormatter=_field_formats.fieldFormats.getDefaultInstance("number").getConverterFor("text");return{restrict:"E",template:_agg_table2.default,scope:{table:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"="},controllerAs:"aggTable",compile:function($el){return RecursionHelper.compile($el)},controller:function($scope){var self=this;self._saveAs=__webpack_require__(1416).saveAs,self.csv={separator:config.get("csv:separator"),quoteValues:config.get("csv:quoteValues")},self.exportAsCsv=function(formatted){var csv=new Blob([self.toCsv(formatted)],{type:"text/plain;charset=utf-8"});self._saveAs(csv,self.csv.filename)},self.toCsv=function(formatted){function escape(val){return!formatted&&_lodash2.default.isObject(val)&&(val=val.valueOf()),val=String(val),self.csv.quoteValues&&nonAlphaNumRE.test(val)&&(val='"'+val.replace(allDoubleQuoteRE,'""')+'"'),val}var rows=$scope.table.rows,columns=formatted?$scope.formattedColumns:$scope.table.columns,nonAlphaNumRE=/[^a-zA-Z0-9]/,allDoubleQuoteRE=/"/g,csvRows=rows.map(function(row){return row.map(escape)});return csvRows.unshift(columns.map(function(col){return escape(col.title)})),csvRows.map(function(row){return row.join(self.csv.separator)+"\r\n"}).join("")},$scope.$watch("table",function(){var table=$scope.table;if(!table)return $scope.rows=null,void($scope.formattedColumns=null);self.csv.filename=($scope.exportTitle||table.title()||"table")+".csv",$scope.rows=table.rows,$scope.formattedColumns=table.columns.map(function(col,i){var agg=$scope.table.aggConfig(col),field=agg.getField(),formattedColumn={title:col.title,filterable:field&&field.filterable&&"buckets"===agg.schema.group};(i===table.columns.length-1||"metrics"===agg.schema.group)&&(formattedColumn.class="visualize-table-right");var isFieldNumeric=!1,isFieldDate=!1,aggType=agg.type;if(aggType&&"metrics"===aggType.type?"top_hits"===aggType.name?"concat"!==agg._opts.params.aggregate&&(isFieldNumeric=!0):"cardinality"===aggType.name?isFieldNumeric=!0:field?(isFieldNumeric="number"===field.type,isFieldDate="date"===field.type):isFieldNumeric=!0:field&&(isFieldNumeric="number"===field.type,isFieldDate="date"===field.type),isFieldNumeric||isFieldDate||"count"===$scope.totalFunc){var sum=function(tableRows){return _lodash2.default.reduce(tableRows,function(prev,curr){return void 0===curr[i].value?prev:prev+curr[i].value},0)},formatter=agg.fieldFormatter("text");switch($scope.totalFunc){case"sum":isFieldDate||(formattedColumn.total=formatter(sum(table.rows)));break;case"avg":isFieldDate||(formattedColumn.total=formatter(sum(table.rows)/table.rows.length));break;case"min":formattedColumn.total=formatter(_lodash2.default.chain(table.rows).map(i).map("value").min().value());break;case"max":formattedColumn.total=formatter(_lodash2.default.chain(table.rows).map(i).map("value").max().value());break;case"count":formattedColumn.total=numberFormatter(table.rows.length)}}return formattedColumn})})}}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(4680)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_config_result=__webpack_require__(299),_agg_config_result2=_interopRequireDefault(_agg_config_result),_modules=__webpack_require__(2),_paginated_table=__webpack_require__(4681),_paginated_table2=_interopRequireDefault(_paginated_table);_modules.uiModules.get("kibana").directive("paginatedTable",function($filter){var orderBy=$filter("orderBy");return{restrict:"E",template:_paginated_table2.default,transclude:!0,scope:{rows:"=",columns:"=",linkToTop:"=",perPage:"=?",showBlankRows:"=?",sortHandler:"=?",sort:"=?",showSelector:"=?",showTotal:"=",totalFunc:"="},controllerAs:"paginatedTable",controller:function($scope){function valueGetter(row){var value=row[self.sort.columnIndex];return value&&null!=value.value&&(value=value.value),"boolean"==typeof value&&(value=value?0:1),value instanceof _agg_config_result2.default&&null===value.valueOf()&&(value=!1),value}function resortRows(){var newSort=$scope.sort;if(newSort&&!_lodash2.default.isEqual(newSort,self.sort)&&self.sortColumn(newSort.columnIndex,newSort.direction),!$scope.rows||!$scope.columns)return void($scope.sortedRows=!1);var sort=self.sort;null==sort.direction?$scope.sortedRows=$scope.rows.slice(0):$scope.sortedRows=orderBy($scope.rows,valueGetter,"desc"===sort.direction)}var self=this;self.sort={columnIndex:null,direction:null},self.sortColumn=function(colIndex){var sortDirection=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",col=$scope.columns[colIndex];if(col&&!1!==col.sortable){if(self.sort.columnIndex===colIndex){sortDirection={null:"asc",asc:"desc",desc:null}[self.sort.direction]}self.sort.columnIndex=colIndex,self.sort.direction=sortDirection,$scope.sort&&_lodash2.default.assign($scope.sort,self.sort)}},self.rowsToShow=function(numRowsPerPage,actualNumRowsOnThisPage){return!1===$scope.showBlankRows?actualNumRowsOnThisPage:numRowsPerPage},$scope.sort&&null!==$scope.sort.columnIndex&&self.sortColumn($scope.sort.columnIndex,$scope.sort.direction),$scope.$watchMulti(["rows","columns","[]sort","[]paginatedTable.sort"],resortRows)}}})},function(module,exports){module.exports='<paginate\n  ng-if="sortedRows.length"\n  list="sortedRows"\n  per-page-prop="perPage"\n  class="agg-table">\n  <div class="agg-table-paginated">\n    <table class="table table-condensed">\n      <thead data-test-subj="paginated-table-header">\n        <tr>\n          <th\n            scope="col"\n            ng-repeat="col in columns"\n            ng-click="paginatedTable.sortColumn($index)"\n            kbn-accessible-click\n            tabindex="0"\n            class="{{ col.class }}">\n            <span ng-bind="::col.title"></span>\n\n            <icon-tip\n              ng-if="col.info"\n              content="\'{{ col.info }}\'"\n            ></icon-tip>\n\n            <i\n              ng-if="col.sortable !== false"\n              class="fa"\n              ng-class="{\n                \'fa-sort-asc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'asc\',\n                \'fa-sort-desc\': paginatedTable.sort.columnIndex === $index && paginatedTable.sort.direction === \'desc\',\n                \'fa-sort\': paginatedTable.sort.columnIndex !== $index || paginatedTable.sort.direction === null\n              }">\n            </i>\n          </th>\n        </tr>\n      </thead>\n      <tbody\n        data-test-subj="paginated-table-body"\n        kbn-rows="page"\n        kbn-rows-min="paginatedTable.rowsToShow(perPage, page.length)"\n      >\n      </tbody>\n      <tfoot ng-if="showTotal">\n        <tr>\n          <th scope="col" ng-repeat="col in columns" class="numeric-value">{{col.total}}</th>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n\n  \x3c!-- auto-inserted by the paginate directive... --\x3e\n  \x3c!-- <paginate-controls></paginate-controls> --\x3e\n  <div class="pagination-container" ng-transclude></div>\n</paginate>\n'},function(module,exports){},function(module,exports){module.exports='<paginated-table\n  ng-if="rows.length"\n  rows="rows"\n  columns="formattedColumns"\n  per-page="perPage"\n  sort="sort"\n  show-total="showTotal"\n  totalFunc="totalFunc">\n\n  <div class="agg-table-controls">\n    <small>Export:</small>&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(false)">\n      Raw <i aria-hidden="true" class="fa fa-download"></i>\n    </a>&nbsp;&nbsp;&nbsp;\n    <a class="small" ng-click="aggTable.exportAsCsv(true)">\n      Formatted <i aria-hidden="true" class="fa fa-download"></i>\n    </a>\n    <paginate-controls></paginate-controls>\n  </div>\n</paginated-table>\n'},function(module,exports,__webpack_require__){"use strict";__webpack_require__(13),__webpack_require__(1415),__webpack_require__(1414);var _modules=__webpack_require__(2),_agg_table_group=__webpack_require__(4685),_agg_table_group2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_agg_table_group);_modules.uiModules.get("kibana",["RecursionHelper"]).directive("kbnAggTableGroup",function(RecursionHelper){return{restrict:"E",template:_agg_table_group2.default,scope:{group:"=",perPage:"=?",sort:"=?",exportTitle:"=?",showTotal:"=",totalFunc:"="},compile:function($el){return RecursionHelper.compile($el,{post:function($scope){$scope.$watch("group",function(group){if($scope.rows=$scope.columns=!1,group&&group.tables.length){var firstTable=group.tables[0],params=firstTable.aggConfig&&firstTable.aggConfig.params,childLayout=params&&!params.row?"columns":"rows";$scope[childLayout]=group.tables}})}})}}})},function(module,exports){module.exports='<table ng-if="rows" class="table agg-table-group" ng-repeat="table in rows">\n  <thead>\n    <tr>\n      <th ng-if="table.tables" scope="col">\n        <span class="agg-table-group-header">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          group="table"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          table="table"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table ng-if="columns" class="table agg-table-group">\n  <thead>\n    <tr>\n      <th ng-repeat="table in columns" ng-if="table.tables" scope="col">\n        <span class="agg-table-group-header">{{ table.title }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td ng-repeat="table in columns">\n        <kbn-agg-table-group\n          ng-if="table.tables"\n          group="table"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          total-func="totalFunc"></kbn-agg-table-group>\n        <kbn-agg-table\n          ng-if="table.rows"\n          table="table"\n          export-title="exportTitle"\n          per-page="perPage"\n          sort="sort"\n          show-total="showTotal"\n          total-func="totalFunc">\n        </kbn-agg-table>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports){module.exports='<div ng-controller="KbnTableVisController" class="table-vis">\n  <div ng-if="!hasSomeRows && hasSomeRows !== null" class="table-vis-error">\n    <h2 aria-hidden="true"><i aria-hidden="true" class="fa fa-meh-o"></i></h2>\n    <h4>No results found</h4>\n  </div>\n\n  <div ng-if="tableGroups" class="table-vis-container">\n    <kbn-agg-table-group\n      group="tableGroups"\n      export-title="visState.title"\n      per-page="visState.params.perPage"\n      sort="sort"\n      show-total="visState.params.showTotal"\n      total-func="visState.params.totalFunc">\n    </kbn-agg-table-group>\n  </div>\n</div>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"05997d91a7ba91b3eb8774591478f045.svg"},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _modules=__webpack_require__(2),_tag_cloud_vis_params=__webpack_require__(4690),_tag_cloud_vis_params2=_interopRequireDefault(_tag_cloud_vis_params),_noUiSlider=__webpack_require__(4691),_noUiSlider2=_interopRequireDefault(_noUiSlider);__webpack_require__(4693),__webpack_require__(4694),__webpack_require__(4695),_modules.uiModules.get("kibana/table_vis").directive("tagcloudVisParams",function(){return{restrict:"E",template:_tag_cloud_vis_params2.default,link:function($scope,$element){var sliderContainer=$element[0],slider=sliderContainer.querySelector(".tag-cloud-fontsize-slider");$scope.config=$scope.vis.type.editorConfig,_noUiSlider2.default.create(slider,{start:[$scope.vis.params.minFontSize,$scope.vis.params.maxFontSize],connect:!0,step:1,range:{min:1,max:100},format:{to:function(value){return parseInt(value)},from:function(value){return parseInt(value)}}}),slider.noUiSlider.on("slide",function(){var fontSize=slider.noUiSlider.get();$scope.$apply(function(){$scope.vis.params.minFontSize=fontSize[0],$scope.vis.params.maxFontSize=fontSize[1]})}),$scope.$watch("vis.params.minFontSize",function(val){val=parseInt(val),slider.noUiSlider.get()[0]!==val&&slider.noUiSlider.set([val,null])}),$scope.$watch("vis.params.maxFontSize",function(val){val=parseInt(val),slider.noUiSlider.get()[1]!==val&&slider.noUiSlider.set([null,val])})}}})},function(module,exports){module.exports='<div class="kuiSideBarSection">\n  <div class="form-group">\n    <div class="form-group">\n      <label>Text Scale</label>\n      <select class="form-control" ng-model="vis.params.scale" ng-options="mode for mode in config.collections.scales"></select>\n    </div>\n    <div class="form-group">\n      <label>Orientations</label>\n      <select class="form-control" ng-model="vis.params.orientation" ng-options="mode for mode in config.collections.orientations"></select>\n    </div>\n    <div class="form-group">\n      <label>Font Size</label>\n      <div class="tag-cloud-fontsize-slider"></div>\n      <div class="kuiBar">\n        <div class="kuiBarSection">\n          <input\n            type="number"\n            min="1"\n            max="{{vis.params.maxFontSize}}"\n            class="kuiTextInput tag-cloud-fontsize-slider__input"\n            ng-model="vis.params.minFontSize"\n            aria-label="Minimum tag font size"\n            aria-describedby="tagCloudFontSliderMinUnit"\n          >\n          <span id="tagCloudFontSliderMinUnit" aria-label="pixels">px</span>\n        </div>\n        <div class="kuiBarSection">\n          <input\n            type="number"\n            min="{{vis.params.minFontSize}}"\n            max="100"\n            class="kuiTextInput tag-cloud-fontsize-slider__input"\n            ng-model="vis.params.maxFontSize"\n            aria-label="Maximum tag font size"\n            aria-describedby="tagCloudFontSliderMaxUnit"\n          >\n          <span id="tagCloudFontSliderMaxUnit" aria-label="pixels">px</span>\n        </div>\n      </div>\n    </div>\n    <div>\n      <label>\n        <input type="checkbox" value="{{hideLabel}}" ng-model="vis.params.showLabel" name="showLabel"\n               ng-checked="vis.params.showLabel">\n        Show Label\n      </label>\n    </div>\n  </div>\n</div>\n'},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagCloudVisualization=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tag_cloud=__webpack_require__(4697),_tag_cloud2=_interopRequireDefault(_tag_cloud),_rxjs=__webpack_require__(462),_reactDom=__webpack_require__(17),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_label=__webpack_require__(4700),_feedback_message=__webpack_require__(4701);exports.TagCloudVisualization=function(){function TagCloudVisualization(node,vis){var _this=this;_classCallCheck(this,TagCloudVisualization),this._containerNode=node;var cloudContainer=document.createElement("div");cloudContainer.classList.add("tagcloud-vis"),this._containerNode.appendChild(cloudContainer),this._vis=vis,this._bucketAgg=null,this._truncated=!1,this._tagCloud=new _tag_cloud2.default(cloudContainer),this._tagCloud.on("select",function(event){if(_this._bucketAgg){var filter=_this._bucketAgg.createFilter(event);_this._vis.API.queryFilter.addFilters(filter)}}),this._renderComplete$=_rxjs.Observable.fromEvent(this._tagCloud,"renderComplete"),this._feedbackNode=document.createElement("div"),this._containerNode.appendChild(this._feedbackNode),this._feedbackMessage=(0,_reactDom.render)(_react2.default.createElement(_feedback_message.FeedbackMessage,null),this._feedbackNode),this._labelNode=document.createElement("div"),this._containerNode.appendChild(this._labelNode),this._label=(0,_reactDom.render)(_react2.default.createElement(_label.Label,null),this._labelNode)}return _createClass(TagCloudVisualization,[{key:"render",value:function(){function render(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(data,status){var hasAggDefined;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return(status.params||status.aggs)&&this._updateParams(),status.data&&this._updateData(data),status.resize&&this._resize(),_context.next=5,this._renderComplete$.take(1).toPromise();case 5:if(hasAggDefined=this._vis.aggs[0]&&this._vis.aggs[1]){_context.next=9;break}return this._feedbackMessage.setState({shouldShowTruncate:!1,shouldShowIncomplete:!1}),_context.abrupt("return");case 9:this._label.setState({label:this._vis.aggs[0].makeLabel()+" - "+this._vis.aggs[1].makeLabel(),shouldShowLabel:this._vis.params.showLabel}),this._feedbackMessage.setState({shouldShowTruncate:this._truncated,shouldShowIncomplete:this._tagCloud.getStatus()===_tag_cloud2.default.STATUS.INCOMPLETE});case 11:case"end":return _context.stop()}},_callee,this)}));return render}()},{key:"destroy",value:function(){this._tagCloud.destroy(),(0,_reactDom.unmountComponentAtNode)(this._feedbackNode),(0,_reactDom.unmountComponentAtNode)(this._labelNode)}},{key:"_updateData",value:function(response){var _this2=this;if(!response||!response.tables.length)return void this._tagCloud.setData([]);var data=response.tables[0];this._bucketAgg=this._vis.aggs.find(function(agg){return"terms"===agg.type.name});var tags=data.rows.map(function(row){var _row=_slicedToArray(row,2),tag=_row[0],count=_row[1];return{displayText:_this2._bucketAgg?_this2._bucketAgg.fieldFormatter()(tag):tag,rawText:tag,value:count}});tags.length>200?(tags.length=200,this._truncated=!0):this._truncated=!1,this._tagCloud.setData(tags)}},{key:"_updateParams",value:function(){this._tagCloud.setOptions(this._vis.params)}},{key:"_resize",value:function(){this._tagCloud.resize()}}]),TagCloudVisualization}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function seed(){return.5}function getText(word){return word.rawText}function getDisplayText(word){return word.displayText}function positionWord(xTranslate,yTranslate,word){return isNaN(word.x)||isNaN(word.y)||isNaN(word.rotate)?"translate("+3*xTranslate+", "+3*yTranslate+")rotate(0)":"translate("+(word.x+xTranslate)+", "+(word.y+yTranslate)+")rotate("+word.rotate+")"}function getValue(tag){return tag.value}function getSizeInPixels(tag){return tag.size+"px"}function getFill(tag){return colorScale(tag.text)}function hashWithinRange(str,max){str=JSON.stringify(str);var hash=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=str[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){hash=(31*hash+_step.value.charCodeAt(0))%max}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return Math.abs(hash)%max}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_d3Cloud=__webpack_require__(4698),_d3Cloud2=_interopRequireDefault(_d3Cloud),_seed_colors=__webpack_require__(1222),_events=__webpack_require__(126),ORIENTATIONS={single:function(){return 0},"right angled":function(tag){return 90*hashWithinRange(tag.text,2)},multiple:function(tag){return 15*hashWithinRange(tag.text,12)-90}},D3_SCALING_FUNCTIONS={linear:function(){return _d2.default.scale.linear()},log:function(){return _d2.default.scale.log()},"square root":function(){return _d2.default.scale.sqrt()}},TagCloud=function(_EventEmitter){function TagCloud(domNode){_classCallCheck(this,TagCloud);var _this=_possibleConstructorReturn(this,(TagCloud.__proto__||Object.getPrototypeOf(TagCloud)).call(this));return _this._element=domNode,_this._d3SvgContainer=_d2.default.select(_this._element).append("svg"),_this._svgGroup=_this._d3SvgContainer.append("g"),_this._size=[1,1],_this.resize(),_this._fontFamily="Open Sans, sans-serif",_this._fontStyle="normal",_this._fontWeight="normal",_this._spiral="archimedean",_this._timeInterval=1e3,_this._padding=5,_this._orientation="single",_this._minFontSize=10,_this._maxFontSize=36,_this._textScale="linear",_this._optionsAsString=null,_this._words=null,_this._setTimeoutId=null,_this._pendingJob=null,_this._layoutIsUpdating=null,_this._allInViewBox=!1,_this._DOMisUpdating=!1,_this}return _inherits(TagCloud,_EventEmitter),_createClass(TagCloud,[{key:"setOptions",value:function(options){JSON.stringify(options)!==this._optionsAsString&&(this._optionsAsString=JSON.stringify(options),this._orientation=options.orientation,this._minFontSize=Math.min(options.minFontSize,options.maxFontSize),this._maxFontSize=Math.max(options.minFontSize,options.maxFontSize),this._textScale=options.scale,this._invalidate(!1))}},{key:"resize",value:function(){var newWidth=this._element.offsetWidth,newHeight=this._element.offsetHeight;if(newWidth!==this._size[0]||newHeight!==this._size[1]){var wasInside=this._size[0]>=this._cloudWidth&&this._size[1]>=this._cloudHeight,willBeInside=this._cloudWidth<=newWidth&&this._cloudHeight<=newHeight;this._size[0]=newWidth,this._size[1]=newHeight,wasInside&&willBeInside&&this._allInViewBox?this._invalidate(!0):this._invalidate(!1)}}},{key:"setData",value:function(data){this._words=data,this._invalidate(!1)}},{key:"destroy",value:function(){clearTimeout(this._setTimeoutId),this._element.innerHTML=""}},{key:"getStatus",value:function(){return this._allInViewBox?TagCloud.STATUS.COMPLETE:TagCloud.STATUS.INCOMPLETE}},{key:"_updateContainerSize",value:function(){this._d3SvgContainer.attr("width",this._size[0]),this._d3SvgContainer.attr("height",this._size[1]),this._svgGroup.attr("width",this._size[0]),this._svgGroup.attr("height",this._size[1])}},{key:"_isJobRunning",value:function(){return this._setTimeoutId||this._layoutIsUpdating||this._DOMisUpdating}},{key:"_processPendingJob",value:function(){function _processPendingJob(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var job,cloudBBox;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this._pendingJob){_context.next=2;break}return _context.abrupt("return");case 2:if(!this._isJobRunning()){_context.next=4;break}return _context.abrupt("return");case 4:return this._completedJob=null,_context.next=7,this._pickPendingJob();case 7:if(job=_context.sent,!job.words.length){_context.next=20;break}if(!job.refreshLayout){_context.next=12;break}return _context.next=12,this._updateLayout(job);case 12:return _context.next=14,this._updateDOM(job);case 14:cloudBBox=this._svgGroup[0][0].getBBox(),this._cloudWidth=cloudBBox.width,this._cloudHeight=cloudBBox.height,this._allInViewBox=cloudBBox.x>=0&&cloudBBox.y>=0&&cloudBBox.x+cloudBBox.width<=this._element.offsetWidth&&cloudBBox.y+cloudBBox.height<=this._element.offsetHeight,_context.next=21;break;case 20:this._emptyDOM(job);case 21:this._pendingJob?this._processPendingJob():(this._completedJob=job,this.emit("renderComplete"));case 22:case"end":return _context.stop()}},_callee,this)}));return _processPendingJob}()},{key:"_pickPendingJob",value:function(){function _pickPendingJob(){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var _this2=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,new Promise(function(resolve){_this2._setTimeoutId=setTimeout(_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var job;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:job=_this2._pendingJob,_this2._pendingJob=null,_this2._setTimeoutId=null,resolve(job);case 4:case"end":return _context2.stop()}},_callee2,_this2)})),0)});case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}},_callee3,this)}));return _pickPendingJob}()},{key:"_emptyDOM",value:function(){this._svgGroup.selectAll("text").remove(),this._cloudWidth=0,this._cloudHeight=0,this._allInViewBox=!0,this._DOMisUpdating=!1}},{key:"_updateDOM",value:function(){function _updateDOM(_x){return _ref4.apply(this,arguments)}var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(job){var canSkipDomUpdate,affineTransform,svgTextNodes,stage,_this3=this;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(canSkipDomUpdate=this._pendingJob||this._setTimeoutId)){_context4.next=4;break}return this._DOMisUpdating=!1,_context4.abrupt("return");case 4:return this._DOMisUpdating=!0,affineTransform=positionWord.bind(null,this._element.offsetWidth/2,this._element.offsetHeight/2),svgTextNodes=this._svgGroup.selectAll("text"),stage=svgTextNodes.data(job.words,getText),_context4.next=10,new Promise(function(resolve){var enterSelection=stage.enter(),enteringTags=enterSelection.append("text");enteringTags.style("font-size",getSizeInPixels),enteringTags.style("font-style",_this3._fontStyle),enteringTags.style("font-weight",function(){return _this3._fontWeight}),enteringTags.style("font-family",function(){return _this3._fontFamily}),enteringTags.style("fill",getFill),enteringTags.attr("text-anchor",function(){return"middle"}),enteringTags.attr("transform",affineTransform),enteringTags.attr("data-test-subj",getDisplayText),enteringTags.text(getDisplayText);var self=_this3;enteringTags.on({click:function(event){self.emit("select",event.rawText)},mouseover:function(){_d2.default.select(this).style("cursor","pointer")},mouseout:function(){_d2.default.select(this).style("cursor","default")}});var movingTags=stage.transition();movingTags.duration(600),movingTags.style("font-size",getSizeInPixels),movingTags.style("font-style",_this3._fontStyle),movingTags.style("font-weight",function(){return _this3._fontWeight}),movingTags.style("font-family",function(){return _this3._fontFamily}),movingTags.attr("transform",affineTransform);var exitingTags=stage.exit(),exitTransition=exitingTags.transition();exitTransition.duration(200),exitingTags.style("fill-opacity",1e-6),exitingTags.attr("font-size",1),exitingTags.remove();var exits=0,moves=0,resolveWhenDone=function(){0===exits&&0===moves&&(_this3._DOMisUpdating=!1,resolve(!0))};exitTransition.each(function(){return exits++}),exitTransition.each("end",function(){exits--,resolveWhenDone()}),movingTags.each(function(){return moves++}),movingTags.each("end",function(){moves--,resolveWhenDone()})});case 10:case"end":return _context4.stop()}},_callee4,this)}));return _updateDOM}()},{key:"_makeTextSizeMapper",value:function(){var mapSizeToFontSize=D3_SCALING_FUNCTIONS[this._textScale](),range=1===this._words.length?[this._maxFontSize,this._maxFontSize]:[this._minFontSize,this._maxFontSize];return mapSizeToFontSize.range(range),this._words&&mapSizeToFontSize.domain(_d2.default.extent(this._words,getValue)),mapSizeToFontSize}},{key:"_makeNewJob",value:function(){return{refreshLayout:!0,size:this._size.slice(),words:this._words}}},{key:"_makeJobPreservingLayout",value:function(){return{refreshLayout:!1,size:this._size.slice(),words:this._completedJob.words.map(function(tag){return{x:tag.x,y:tag.y,rotate:tag.rotate,size:tag.size,rawText:tag.rawText||tag.text,displayText:tag.displayText}})}}},{key:"_invalidate",value:function(keepLayout){if(this._words){this._updateContainerSize();var canReuseLayout=keepLayout&&!this._isJobRunning()&&this._completedJob;this._pendingJob=canReuseLayout?this._makeJobPreservingLayout():this._makeNewJob(),this._processPendingJob()}}},{key:"_updateLayout",value:function(){function _updateLayout(_x2){return _ref5.apply(this,arguments)}var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(job){var mapSizeToFontSize,tagCloudLayoutGenerator,_this4=this;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!(job.size[0]<=0||job.size[1]<=0)){_context5.next=2;break}return _context5.abrupt("return");case 2:return mapSizeToFontSize=this._makeTextSizeMapper(),tagCloudLayoutGenerator=(0,_d3Cloud2.default)(),tagCloudLayoutGenerator.size(job.size),tagCloudLayoutGenerator.padding(this._padding),tagCloudLayoutGenerator.rotate(ORIENTATIONS[this._orientation]),tagCloudLayoutGenerator.font(this._fontFamily),tagCloudLayoutGenerator.fontStyle(this._fontStyle),tagCloudLayoutGenerator.fontWeight(this._fontWeight),tagCloudLayoutGenerator.fontSize(function(tag){return mapSizeToFontSize(tag.value)}),tagCloudLayoutGenerator.random(seed),tagCloudLayoutGenerator.spiral(this._spiral),tagCloudLayoutGenerator.words(job.words),tagCloudLayoutGenerator.text(getDisplayText),tagCloudLayoutGenerator.timeInterval(this._timeInterval),this._layoutIsUpdating=!0,_context5.next=19,new Promise(function(resolve){tagCloudLayoutGenerator.on("end",function(){_this4._layoutIsUpdating=!1,resolve(!0)}),tagCloudLayoutGenerator.start()});case 19:case"end":return _context5.stop()}},_callee5,this)}));return _updateLayout}()},{key:"getDebugInfo",value:function(){var debug={};return debug.positions=this._completedJob?this._completedJob.words.map(function(tag){return{displayText:tag.displayText,rawText:tag.rawText||tag.text,x:tag.x,y:tag.y,rotate:tag.rotate}}):[],debug.size={width:this._size[0],height:this._size[1]},debug}}]),TagCloud}(_events.EventEmitter);TagCloud.STATUS={COMPLETE:0,INCOMPLETE:1};var colorScale=_d2.default.scale.ordinal().range(_seed_colors.seedColors);exports.default=TagCloud,module.exports=exports.default},,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Label=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.Label=function(_Component){function Label(){_classCallCheck(this,Label);var _this=_possibleConstructorReturn(this,(Label.__proto__||Object.getPrototypeOf(Label)).call(this));return _this.state={label:"",shouldShowLabel:!0},_this}return _inherits(Label,_Component),_createClass(Label,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"tagcloud-custom-label",style:{display:this.state.shouldShowLabel?"block":"none"}},this.state.label)}}]),Label}(_react.Component)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeedbackMessage=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.FeedbackMessage=function(_Component){function FeedbackMessage(){_classCallCheck(this,FeedbackMessage);var _this=_possibleConstructorReturn(this,(FeedbackMessage.__proto__||Object.getPrototypeOf(FeedbackMessage)).call(this));return _this.state={shouldShowTruncate:!1,shouldShowIncomplete:!1},_this}return _inherits(FeedbackMessage,_Component),_createClass(FeedbackMessage,[{key:"render",value:function(){return _react2.default.createElement("div",{className:"tagcloud-notifications"},_react2.default.createElement("div",{className:"tagcloud-truncated-message",style:{display:this.state.shouldShowTruncate?"block":"none"}},"The number of tags has been truncated to avoid long draw times."),_react2.default.createElement("div",{className:"tagcloud-incomplete-message",style:{display:this.state.shouldShowIncomplete?"block":"none"}},"The container is too small to display the entire cloud. Tags might be cropped or omitted."))}}]),FeedbackMessage}(_react.Component)},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"5a2ae67159a441fd4b6cf30c0c6cc5b1.svg"},function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_tile_map_vis_params=__webpack_require__(4704),_tile_map_vis_params2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tile_map_vis_params);__webpack_require__(1405),_modules.uiModules.get("kibana").directive("tileMapVisParams",function(){return{restrict:"E",template:_tile_map_vis_params2.default}})},function(module,exports){module.exports='\x3c!-- vis type specific options --\x3e\n<div class="kuiSideBarSection">\n  <div class="form-group">\n    <label for="coordinateMapOptionsMapType">Map type</label>\n      <select\n        id="coordinateMapOptionsMapType"\n        name="agg"\n      class="form-control"\n      ng-model="vis.params.mapType"\n      ng-init="vis.params.mapType || vis.type.editorConfig.collections.mapTypes[0]"\n      ng-options="mapType as mapType for mapType in vis.type.editorConfig.collections.mapTypes"\n      >\n    </select>\n  </div>\n\n  <div ng-if="vis.params.mapType === \'Heatmap\'" class="form-group">\n    <div>\n      <label>\n        Cluster size\n      </label>\n      <div class="vis-editor-agg-form-row">\n        <input\n          name="heatClusterSize"\n          ng-model="vis.params.heatClusterSize"\n          required\n          class="form-control"\n          type="range"\n          min="1.0"\n          max="3.0"\n          step="0.1"\n          >\n        <div class="vis-editor-agg-form-value">\n          {{vis.params.heatClusterSize}}\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n  <vislib-basic-options></vislib-basic-options>\n\n  <div class="kuiSideBarFormRow">\n    <label class="kuiSideBarFormRow__label" for="desaturateMapTiles">\n      Desaturate tiles\n    </label>\n\n    <div class="kuiSideBarFormRow__control">\n      <input\n        type="checkbox"\n        id="desaturateMapTiles"\n        name="isDesaturated"\n        ng-disabled="!vis.type.visConfig.canDesaturate"\n        ng-model="vis.params.isDesaturated"\n      >\n      &nbsp;\n      <icon-tip\n        content="\'Reduce the vibrancy of tile colors. This does not work in any version of Internet Explorer.\'"\n        position="\'right\'"\n      ></icon-tip>\n    </div>\n  </div>\n</div>\n\n<wms-options options="vis.params.wms"></wms-options>\n'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.supports=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.supports={cssFilters:function(){var e=document.createElement("img"),rules=["webkitFilter","mozFilter","msFilter","filter"];rules.forEach(function(rule){e.style[rule]="grayscale(1)"}),document.body.appendChild(e);var styles=window.getComputedStyle(e),can=(0,_lodash2.default)(styles).pick(rules).includes("grayscale(1)");return document.body.removeChild(e),can}()}},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function CoordinateMapsVisualizationProvider(Notifier,Private){var BaseMapsVisualization=Private(_base_maps_visualization.BaseMapsVisualizationProvider),tooltipFormatter=Private(_tooltip_formatter.TileMapTooltipFormatterProvider);return function(_BaseMapsVisualizatio){function CoordinateMapsVisualization(element,vis){_classCallCheck(this,CoordinateMapsVisualization);var _this=_possibleConstructorReturn(this,(CoordinateMapsVisualization.__proto__||Object.getPrototypeOf(CoordinateMapsVisualization)).call(this,element,vis));return _this._geohashLayer=null,_this._notify=new Notifier({location:"Coordinate Map"}),_this}return _inherits(CoordinateMapsVisualization,_BaseMapsVisualizatio),_createClass(CoordinateMapsVisualization,[{key:"_makeKibanaMap",value:function(){function _makeKibanaMap(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var previousPrecision,precisionChange,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_get(CoordinateMapsVisualization.prototype.__proto__||Object.getPrototypeOf(CoordinateMapsVisualization.prototype),"_makeKibanaMap",this).call(this);case 2:this.vis.sessionState.mapBounds=this._kibanaMap.getBounds(),previousPrecision=this._kibanaMap.getGeohashPrecision(),precisionChange=!1,this._kibanaMap.on("zoomchange",function(){precisionChange=previousPrecision!==_this2._kibanaMap.getGeohashPrecision(),previousPrecision=_this2._kibanaMap.getGeohashPrecision();var geohashAgg=_this2._getGeoHashAgg();if(geohashAgg){("boolean"!=typeof geohashAgg.params.autoPrecision||geohashAgg.params.autoPrecision)&&(geohashAgg.params.precision=previousPrecision)}}),this._kibanaMap.on("zoomend",function(){var geohashAgg=_this2._getGeoHashAgg();if(geohashAgg){("boolean"!=typeof geohashAgg.params.autoPrecision||geohashAgg.params.autoPrecision)&&(precisionChange?_this2.vis.updateState():_this2._updateData(_this2._geoJsonFeatureCollectionAndMeta))}}),this._kibanaMap.addDrawControl(),this._kibanaMap.on("drawCreated:rectangle",function(event){var geoAgg=_this2._getGeoHashAgg();_this2.addSpatialFilter(geoAgg,"geo_bounding_box",event.bounds)}),this._kibanaMap.on("drawCreated:polygon",function(event){var geoAgg=_this2._getGeoHashAgg();_this2.addSpatialFilter(geoAgg,"geo_polygon",{points:event.points})});case 10:case"end":return _context.stop()}},_callee,this)}));return _makeKibanaMap}()},{key:"_updateData",value:function(){function _updateData(_x){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(geojsonFeatureCollectionAndMeta){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if("Heatmap"===this._getMapsParams().mapType||geojsonFeatureCollectionAndMeta!==this._geoJsonFeatureCollectionAndMeta){_context2.next=2;break}return _context2.abrupt("return");case 2:if(this._geohashLayer&&(this._kibanaMap.removeLayer(this._geohashLayer),this._geohashLayer=null),geojsonFeatureCollectionAndMeta){_context2.next=8;break}return this._geoJsonFeatureCollectionAndMeta=null,this._kibanaMap.removeLayer(this._geohashLayer),this._geohashLayer=null,_context2.abrupt("return");case 8:this._geoJsonFeatureCollectionAndMeta=geojsonFeatureCollectionAndMeta,this._recreateGeohashLayer();case 10:case"end":return _context2.stop()}},_callee2,this)}));return _updateData}()},{key:"_recreateGeohashLayer",value:function(){this._geohashLayer&&(this._kibanaMap.removeLayer(this._geohashLayer),this._geohashLayer=null);var geohashOptions=this._getGeohashOptions();this._geohashLayer=new _geohash_layer.GeohashLayer(this._geoJsonFeatureCollectionAndMeta.featureCollection,this._geoJsonFeatureCollectionAndMeta.meta,geohashOptions,this._kibanaMap.getZoomLevel(),this._kibanaMap),this._kibanaMap.addLayer(this._geohashLayer)}},{key:"_updateParams",value:function(){function _updateParams(){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var geohashOptions;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_get(CoordinateMapsVisualization.prototype.__proto__||Object.getPrototypeOf(CoordinateMapsVisualization.prototype),"_updateParams",this).call(this);case 2:this._kibanaMap.setDesaturateBaseLayer(this.vis.params.isDesaturated),geohashOptions=this._getGeohashOptions(),this._geohashLayer&&this._geohashLayer.isReusable(geohashOptions)||(this._geoJsonFeatureCollectionAndMeta&&this._recreateGeohashLayer(),this._updateData(this._geoJsonFeatureCollectionAndMeta));case 5:case"end":return _context3.stop()}},_callee3,this)}));return _updateParams}()},{key:"_getGeohashOptions",value:function(){var newParams=this._getMapsParams(),metricAgg=this._getMetricAgg(),boundTooltipFormatter=tooltipFormatter.bind(null,this.vis.getAggConfig(),metricAgg);return{label:metricAgg?metricAgg.makeLabel():"",valueFormatter:this._geoJsonFeatureCollectionAndMeta?metricAgg&&metricAgg.fieldFormatter():null,tooltipFormatter:this._geoJsonFeatureCollectionAndMeta?boundTooltipFormatter:null,mapType:newParams.mapType,isFilteredByCollar:this._isFilteredByCollar(),fetchBounds:this.getGeohashBounds.bind(this),heatmap:{heatClusterSize:newParams.heatClusterSize}}}},{key:"addSpatialFilter",value:function(agg,filterName,filterData){if(agg){var indexPatternName=agg.vis.indexPattern.id,field=agg.fieldName(),filter={meta:{negate:!1,index:indexPatternName}};filter[filterName]={ignore_unmapped:!0},filter[filterName][field]=filterData,this.vis.API.queryFilter.addFilters([filter]),this.vis.updateState()}}},{key:"getGeohashBounds",value:function(){function getGeohashBounds(){return _ref4.apply(this,arguments)}var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var agg,searchSource,esResp;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(agg=this._getGeoHashAgg())){_context4.next=9;break}return searchSource=this.vis.API.createInheritedSearchSource(this.vis.searchSource),searchSource.size(0),searchSource.aggs(function(){return{1:new _agg_config.AggConfig(agg.vis,{type:"geo_bounds",enabled:!0,params:{field:agg.getField()},schema:"metric"}).toDsl()}}),_context4.next=7,searchSource.fetch();case 7:return esResp=_context4.sent,_context4.abrupt("return",_lodash2.default.get(esResp,"aggregations.1.bounds"));case 9:case"end":return _context4.stop()}},_callee4,this)}));return getGeohashBounds}()},{key:"_getGeoHashAgg",value:function(){return this.vis.getAggConfig().find(function(agg){return"geohash_grid"===_lodash2.default.get(agg,"type.dslName")})}},{key:"_getMetricAgg",value:function(){return this.vis.getAggConfig().find(function(agg){return"metrics"===agg.type.type})}},{key:"_isFilteredByCollar",value:function(){var agg=this._getGeoHashAgg();return!!agg&&_lodash2.default.get(agg,"params.isFilteredByCollar",!1)}}]),CoordinateMapsVisualization}(BaseMapsVisualization)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)};exports.CoordinateMapsVisualizationProvider=CoordinateMapsVisualizationProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_geohash_layer=__webpack_require__(4707),_base_maps_visualization=__webpack_require__(1406),_agg_config=__webpack_require__(193);__webpack_require__(4711);var _tooltip_formatter=__webpack_require__(4712)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeohashLayer=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_kibana_map_layer=__webpack_require__(775),_heatmap=__webpack_require__(4708),_scaled_circles=__webpack_require__(778),_shaded_circles=__webpack_require__(4709),_geohash_grid=__webpack_require__(4710);exports.GeohashLayer=function(_KibanaMapLayer){function GeohashLayer(featureCollection,featureCollectionMetaData,options,zoom,kibanaMap){_classCallCheck(this,GeohashLayer);var _this=_possibleConstructorReturn(this,(GeohashLayer.__proto__||Object.getPrototypeOf(GeohashLayer)).call(this));_this._featureCollection=featureCollection,_this._featureCollectionMetaData=featureCollectionMetaData,_this._geohashOptions=options,_this._zoom=zoom,_this._kibanaMap=kibanaMap;var geojson=_leaflet2.default.geoJson(_this._featureCollection);return _this._bounds=geojson.getBounds(),_this._createGeohashMarkers(),_this._lastBounds=null,_this}return _inherits(GeohashLayer,_KibanaMapLayer),_createClass(GeohashLayer,[{key:"_createGeohashMarkers",value:function(){var _this2=this,markerOptions={isFilteredByCollar:this._geohashOptions.isFilteredByCollar,valueFormatter:this._geohashOptions.valueFormatter,tooltipFormatter:this._geohashOptions.tooltipFormatter,label:this._geohashOptions.label};switch(this._geohashOptions.mapType){case"Scaled Circle Markers":this._geohashMarkers=new _scaled_circles.ScaledCirclesMarkers(this._featureCollection,this._featureCollectionMetaData,markerOptions,this._zoom,this._kibanaMap);break;case"Shaded Circle Markers":this._geohashMarkers=new _shaded_circles.ShadedCirclesMarkers(this._featureCollection,this._featureCollectionMetaData,markerOptions,this._zoom,this._kibanaMap);break;case"Shaded Geohash Grid":this._geohashMarkers=new _geohash_grid.GeohashGridMarkers(this._featureCollection,this._featureCollectionMetaData,markerOptions,this._zoom,this._kibanaMap);break;case"Heatmap":var radius=15;if(this._featureCollectionMetaData.geohashGridDimensionsAtEquator){radius=_lodash2.default.min(this._featureCollectionMetaData.geohashGridDimensionsAtEquator)/this._kibanaMap.getMetersPerPixel()/2}radius*=parseFloat(this._geohashOptions.heatmap.heatClusterSize),this._geohashMarkers=new _heatmap.HeatmapMarkers(this._featureCollection,{radius:radius,blur:radius,maxZoom:this._kibanaMap.getZoomLevel(),minOpacity:.1,tooltipFormatter:this._geohashOptions.tooltipFormatter},this._zoom,this._featureCollectionMetaData.max);break;default:throw new Error(this._geohashOptions.mapType+" mapType not recognized")}this._geohashMarkers.on("showTooltip",function(event){return _this2.emit("showTooltip",event)}),this._geohashMarkers.on("hideTooltip",function(event){return _this2.emit("hideTooltip",event)}),this._leafletLayer=this._geohashMarkers.getLeafletLayer()}},{key:"appendLegendContents",value:function(jqueryDiv){return this._geohashMarkers.appendLegendContents(jqueryDiv)}},{key:"movePointer",value:function(){var _geohashMarkers;(_geohashMarkers=this._geohashMarkers).movePointer.apply(_geohashMarkers,arguments)}},{key:"getBounds",value:function(){function getBounds(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var geoHashBounds,northEast,southWest;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this._geohashOptions.fetchBounds){_context.next=8;break}return _context.next=3,this._geohashOptions.fetchBounds();case 3:if(!(geoHashBounds=_context.sent)){_context.next=8;break}return northEast=_leaflet2.default.latLng(geoHashBounds.top_left.lat,geoHashBounds.bottom_right.lon),southWest=_leaflet2.default.latLng(geoHashBounds.bottom_right.lat,geoHashBounds.top_left.lon),_context.abrupt("return",_leaflet2.default.latLngBounds(southWest,northEast));case 8:return _context.abrupt("return",this._bounds);case 9:case"end":return _context.stop()}},_callee,this)}));return getBounds}()},{key:"updateExtent",value:function(){if(!this._geohashOptions.isFilteredByCollar){var bounds=this._kibanaMap.getLeafletBounds();this._lastBounds&&this._lastBounds.equals(bounds)||(this._kibanaMap.removeLayer(this),this._createGeohashMarkers(),this._kibanaMap.addLayer(this)),this._lastBounds=bounds}}},{key:"isReusable",value:function(options){return!!_lodash2.default.isEqual(this._geohashOptions,options)||this._geohashOptions.mapType===options.mapType&&!("Heatmap"===this._geohashOptions.mapType&&!_lodash2.default.isEqual(this._geohashOptions.heatmap,options))}}]),GeohashLayer}(_kibana_map_layer.KibanaMapLayer)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function dataToHeatArray(featureCollection,max){return featureCollection.features.map(function(feature){return[feature.geometry.coordinates[1],feature.geometry.coordinates[0],feature.properties.value/max]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HeatmapMarkers=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_d=__webpack_require__(15),_d2=_interopRequireDefault(_d),_events=__webpack_require__(126);exports.HeatmapMarkers=function(_EventEmitter){function HeatmapMarkers(featureCollection,options,zoom,max){_classCallCheck(this,HeatmapMarkers);var _this=_possibleConstructorReturn(this,(HeatmapMarkers.__proto__||Object.getPrototypeOf(HeatmapMarkers)).call(this));_this._geojsonFeatureCollection=featureCollection;var points=dataToHeatArray(featureCollection,max);return _this._leafletLayer=_leaflet2.default.heatLayer(points,options),_this._tooltipFormatter=options.tooltipFormatter,_this._zoom=zoom,_this._disableTooltips=!1,_this._getLatLng=_lodash2.default.memoize(function(feature){return _leaflet2.default.latLng(feature.geometry.coordinates[1],feature.geometry.coordinates[0])},function(feature){return[feature.geometry.coordinates[1],feature.geometry.coordinates[0]].join(",")}),_this._addTooltips(),_this}return _inherits(HeatmapMarkers,_EventEmitter),_createClass(HeatmapMarkers,[{key:"getBounds",value:function(){return this._leafletLayer.getBounds()}},{key:"getLeafletLayer",value:function(){return this._leafletLayer}},{key:"appendLegendContents",value:function(){}},{key:"movePointer",value:function(type,event){"mousemove"===type?this._deboundsMoveMoveLocation(event):"mouseout"===type?this.emit("hideTooltip"):"mousedown"===type?(this._disableTooltips=!0,this.emit("hideTooltip")):"mouseup"===type&&(this._disableTooltips=!1)}},{key:"_addTooltips",value:function(){var _this2=this,mouseMoveLocation=function(e){if(!_this2._geojsonFeatureCollection.features.length||_this2._disableTooltips)return void _this2.emit("hideTooltip");var feature=_this2._nearestFeature(e.latlng);if(_this2._tooltipProximity(e.latlng,feature)){var content=_this2._tooltipFormatter(feature);if(!content)return;_this2.emit("showTooltip",{content:content,position:e.latlng})}else _this2.emit("hideTooltip")};this._deboundsMoveMoveLocation=_lodash2.default.debounce(mouseMoveLocation.bind(this),15,{leading:!0,trailing:!1})}},{key:"_nearestFeature",value:function(latLng){var self=this,nearest=void 0;if(!(latLng.lng<-180||latLng.lng>180))return _lodash2.default.reduce(this._geojsonFeatureCollection.features,function(distance,feature){var featureLatLng=self._getLatLng(feature),dist=latLng.distanceTo(featureLatLng);return dist<distance?(nearest=feature,dist):distance},1/0),nearest}},{key:"_tooltipProximity",value:function(latlng,feature){if(feature){var showTip=!1,featureLatLng=this._getLatLng(feature),zoomScale=_d2.default.scale.linear().domain([1,4,7,10,13,16,18]).range([1e6,3e5,1e5,15e3,2e3,150,50]),proximity=zoomScale(this._zoom),distance=latlng.distanceTo(featureLatLng),lngDif=Math.abs(latlng.lng-featureLatLng.lng);return distance<proximity&&lngDif<40&&(showTip=!0),_d2.default.scale.pow().exponent(.2).domain([1,18]).range([15e5,50]),showTip}}}]),HeatmapMarkers}(_events.EventEmitter)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShadedCirclesMarkers=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=_interopRequireDefault(_leaflet),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_scaled_circles=__webpack_require__(778);exports.ShadedCirclesMarkers=function(_ScaledCirclesMarkers){function ShadedCirclesMarkers(){return _classCallCheck(this,ShadedCirclesMarkers),_possibleConstructorReturn(this,(ShadedCirclesMarkers.__proto__||Object.getPrototypeOf(ShadedCirclesMarkers)).apply(this,arguments))}return _inherits(ShadedCirclesMarkers,_ScaledCirclesMarkers),_createClass(ShadedCirclesMarkers,[{key:"getMarkerFunction",value:function(){var _this2=this;return function(feature,latlng){var radius=.8*_this2._geohashMinDistance(feature);return _leaflet2.default.circle(latlng,radius)}}},{key:"_geohashMinDistance",value:function(feature){var centerPoint=feature.properties.geohash_meta.center,geohashRect=feature.properties.geohash_meta.rectangle,east=_leaflet2.default.latLng([centerPoint[0],geohashRect[2][1]]),north=_leaflet2.default.latLng([geohashRect[3][0],centerPoint[1]]),center=_leaflet2.default.latLng([centerPoint[0],centerPoint[1]]),eastRadius=Math.floor(center.distanceTo(east)),northRadius=Math.floor(center.distanceTo(north));return _lodash2.default.min([eastRadius,northRadius])}}]),ShadedCirclesMarkers}(_scaled_circles.ScaledCirclesMarkers)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GeohashGridMarkers=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_leaflet),_scaled_circles=__webpack_require__(778);exports.GeohashGridMarkers=function(_ScaledCirclesMarkers){function GeohashGridMarkers(){return _classCallCheck(this,GeohashGridMarkers),_possibleConstructorReturn(this,(GeohashGridMarkers.__proto__||Object.getPrototypeOf(GeohashGridMarkers)).apply(this,arguments))}return _inherits(GeohashGridMarkers,_ScaledCirclesMarkers),_createClass(GeohashGridMarkers,[{key:"getMarkerFunction",value:function(){return function(feature){var geohashRect=feature.properties.geohash_meta.rectangle,corners=[[geohashRect[3][0],geohashRect[3][1]],[geohashRect[1][0],geohashRect[1][1]]];return _leaflet2.default.rectangle(corners)}}}]),GeohashGridMarkers}(_scaled_circles.ScaledCirclesMarkers)},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function TileMapTooltipFormatterProvider($compile,$rootScope){var $tooltipScope=$rootScope.$new(),$el=(0,_jquery2.default)("<div>").html(__webpack_require__(4713));return $compile($el)($tooltipScope),function(aggConfig,metricAgg,feature){return feature?($tooltipScope.details=[{label:metricAgg.makeLabel(),value:metricAgg.fieldFormatter()(feature.properties.value)},{label:"Latitude",value:feature.geometry.coordinates[1]},{label:"Longitude",value:feature.geometry.coordinates[0]}],$tooltipScope.$apply(),$el.html()):""}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TileMapTooltipFormatterProvider=TileMapTooltipFormatterProvider;var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery)},function(module,exports){module.exports='<table>\n  <tbody>\n    <tr ng-repeat="detail in details" >\n      <td class="tooltip-label">{{detail.label}}</td>\n      <td class="tooltip-value">{{detail.value}}</td>\n    </tr>\n  </tbody>\n</table>\n'},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"f1db327547974915c7a903d2e5e9eedc.svg"},function(module,exports,__webpack_require__){"use strict";function makeGeoJsonResponseHandler(){var lastEsResponse=void 0,lastGeoJsonResponse=void 0;return function(vis,esResponse){if(lastEsResponse===esResponse)return lastGeoJsonResponse;lastEsResponse=esResponse;var tabifiedResponse=(0,_tabify.tabifyAggResponse)(vis.getAggConfig().getResponseAggs(),esResponse,{asAggConfigResults:!1});return lastGeoJsonResponse=(0,_convert_to_geojson.convertToGeoJson)(tabifiedResponse)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeGeoJsonResponseHandler=makeGeoJsonResponseHandler;var _tabify=__webpack_require__(747),_convert_to_geojson=__webpack_require__(4716)},function(module,exports,__webpack_require__){"use strict";function convertToGeoJson(tabifiedResponse){var features=void 0,min=1/0,max=-1/0,geoAgg=void 0;if(tabifiedResponse&&tabifiedResponse.tables&&tabifiedResponse.tables[0]&&tabifiedResponse.tables[0].rows){var table=tabifiedResponse.tables[0],geohashIndex=table.columns.findIndex(function(column){return"geohash_grid"===column.aggConfig.type.dslName});if(geoAgg=table.columns.find(function(column){return"geohash_grid"===column.aggConfig.type.dslName}),-1===geohashIndex)features=[];else{var metricIndex=table.columns.findIndex(function(column){return"metrics"===column.aggConfig.type.type}),geocentroidIndex=table.columns.findIndex(function(column){return"geo_centroid"===column.aggConfig.type.dslName});features=table.rows.map(function(row){var geohash=row[geohashIndex],geohashLocation=(0,_decode_geo_hash.decodeGeoHash)(geohash),pointCoordinates=void 0;if(geocentroidIndex>-1){var location=row[geocentroidIndex];pointCoordinates=[location.lon,location.lat]}else pointCoordinates=[geohashLocation.longitude[2],geohashLocation.latitude[2]];var rectangle=[[geohashLocation.latitude[0],geohashLocation.longitude[0]],[geohashLocation.latitude[0],geohashLocation.longitude[1]],[geohashLocation.latitude[1],geohashLocation.longitude[1]],[geohashLocation.latitude[1],geohashLocation.longitude[0]]],centerLatLng=[geohashLocation.latitude[2],geohashLocation.longitude[2]];geoAgg.aggConfig.params.useGeocentroid&&(pointCoordinates[0]=clampGrid(pointCoordinates[0],geohashLocation.longitude[0],geohashLocation.longitude[1]),pointCoordinates[1]=clampGrid(pointCoordinates[1],geohashLocation.latitude[0],geohashLocation.latitude[1]));var value=row[metricIndex];return min=Math.min(min,value),max=Math.max(max,value),{type:"Feature",geometry:{type:"Point",coordinates:pointCoordinates},properties:{geohash:geohash,geohash_meta:{center:centerLatLng,rectangle:rectangle},value:value}}})}}else features=[];return{featureCollection:{type:"FeatureCollection",features:features},meta:{min:min,max:max,geohashPrecision:geoAgg&&geoAgg.aggConfig.params.precision,geohashGridDimensionsAtEquator:geoAgg&&(0,_grid_dimensions.gridDimensions)(geoAgg.aggConfig.params.precision)}}}function clampGrid(val,min,max){return val>max?val=max:val<min&&(val=min),val}Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertToGeoJson=convertToGeoJson;var _decode_geo_hash=__webpack_require__(681),_grid_dimensions=__webpack_require__(4717)},function(module,exports,__webpack_require__){"use strict";function gridDimensions(precision){return _lodash2.default.get(gridAtEquator,precision)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.gridDimensions=gridDimensions;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),gridAtEquator={1:[5009400,4992600],2:[1252300,624100],3:[156500,156e3],4:[39100,19500],5:[4900,4900],6:[1200,609.4],7:[152.9,152.4],8:[38.2,19],9:[4.8,4.8],10:[1.2,.595],11:[.149,.149],12:[.037,.019]}},function(module,exports,__webpack_require__){"use strict";function VegaRequestHandlerProvider(Private,es,timefilter,serviceSettings){var dashboardContext=Private(_dashboard_context.dashboardContextProvider),searchCache=new _search_cache.SearchCache(es,{max:10,maxAge:4e3}),timeCache=new _time_cache.TimeCache(timefilter,3e3);return{name:"vega",handler:function(vis,_ref){var timeRange=_ref.timeRange;return timeCache.setTimeRange(timeRange),new _vega_parser.VegaParser(vis.params.spec,searchCache,timeCache,dashboardContext,serviceSettings).parseAsync()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaRequestHandlerProvider=VegaRequestHandlerProvider;var _vega_parser=__webpack_require__(4719),_dashboard_context=__webpack_require__(704),_search_cache=__webpack_require__(4733),_time_cache=__webpack_require__(4738)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaParser=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_vegaLib=__webpack_require__(532),vega=_interopRequireWildcard(_vegaLib),_vegaLite=__webpack_require__(1421),vegaLite=_interopRequireWildcard(_vegaLite),_vegaSchemaUrlParser=__webpack_require__(4723),_vegaSchemaUrlParser2=_interopRequireDefault(_vegaSchemaUrlParser),_compareVersions=__webpack_require__(4724),_compareVersions2=_interopRequireDefault(_compareVersions),_es_query_parser=__webpack_require__(4725),_hjson=__webpack_require__(1422),_hjson2=_interopRequireDefault(_hjson),_utils=__webpack_require__(1423),_ems_file_parser=__webpack_require__(4731),_url_parser=__webpack_require__(4732),_eui=__webpack_require__(5),defaultColor=_eui.VISUALIZATION_COLORS[0],DEFAULT_SCHEMA="https://vega.github.io/schema/vega/v3.0.json",locToDirMap={left:"row-reverse",right:"row",top:"column-reverse",bottom:"column"};exports.VegaParser=function(){function VegaParser(spec,searchCache,timeCache,dashboardContext,serviceSettings){_classCallCheck(this,VegaParser),this.spec=spec,this.hideWarnings=!1,this.error=void 0,this.warnings=[];var onWarn=this._onWarning.bind(this);this._urlParsers={elasticsearch:new _es_query_parser.EsQueryParser(timeCache,searchCache,dashboardContext,onWarn),emsfile:new _ems_file_parser.EmsFileParser(serviceSettings),url:new _url_parser.UrlParser(onWarn)}}return _createClass(VegaParser,[{key:"parseAsync",value:function(){function parseAsync(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this._parseAsync();case 3:_context.next=8;break;case 5:_context.prev=5,_context.t0=_context.catch(0),this.error=_utils.Utils.formatErrorToStr(_context.t0);case 8:return _context.abrupt("return",this);case 9:case"end":return _context.stop()}},_callee,this,[[0,5]])}));return parseAsync}()},{key:"_parseAsync",value:function(){function _parseAsync(){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(void 0===this.isVegaLite){_context2.next=2;break}throw new Error;case 2:if("string"==typeof this.spec&&(this.spec=_hjson2.default.parse(this.spec,{legacyRoot:!1})),_lodash2.default.isPlainObject(this.spec)){_context2.next=5;break}throw new Error("Invalid Vega spec");case 5:return this.isVegaLite=this._parseSchema(),this.useHover=!this.isVegaLite,this._config=this._parseConfig(),this.hideWarnings=!!this._config.hideWarnings,this.useMap="map"===this._config.type,this.renderer="svg"===this._config.renderer?"svg":"canvas",this._setDefaultColors(),this._parseControlPlacement(this._config),this.useMap?this.mapConfig=this._parseMapConfig():void 0===this.spec.autosize&&(this.spec.autosize={type:"fit",contains:"padding"}),_context2.next=16,this._resolveDataUrls();case 16:this.isVegaLite&&this._compileVegaLite(),this._calcSizing();case 18:case"end":return _context2.stop()}},_callee2,this)}));return _parseAsync}()},{key:"_compileVegaLite",value:function(){this.vlspec=this.spec;var logger=vega.logger(vega.Warn);if(logger.warn=this._onWarning.bind(this),this.spec=vegaLite.compile(this.vlspec,logger).spec,this.useMap){var hasConfig=_lodash2.default.isPlainObject(this.vlspec.config);if(void 0===this.vlspec.config||hasConfig&&!this.vlspec.config.projection){if(!Array.isArray(this.spec.projections)||1!==this.spec.projections.length||"projection"!==this.spec.projections[0].name)throw new Error("Internal error: VL compiler should have generated a single projection object");delete this.spec.projections}this.vlspec.width||delete this.spec.width,this.vlspec.height||delete this.spec.height,this.vlspec.padding||void 0!==this.vlspec.config&&(!hasConfig||this.vlspec.config.padding)||delete this.spec.padding,this.vlspec.autosize||void 0!==this.vlspec.config&&(!hasConfig||this.vlspec.config.autosize)||delete this.spec.autosize}}},{key:"_calcSizing",value:function(){if(this.useResize=!1,!this.useMap){var autosize=this.spec.autosize.type||this.spec.autosize;"fit"!==autosize&&("none"!==autosize||this.spec.width||this.spec.height)||(this.useResize=!0)}this.paddingWidth=0,this.paddingHeight=0,this.useResize&&this.spec.padding&&"padding"!==this.spec.autosize.contains&&("object"===_typeof(this.spec.padding)?(this.paddingWidth+=(+this.spec.padding.left||0)+(+this.spec.padding.right||0),this.paddingHeight+=(+this.spec.padding.top||0)+(+this.spec.padding.bottom||0)):(this.paddingWidth+=2*(+this.spec.padding||0),this.paddingHeight+=2*(+this.spec.padding||0))),this.useResize&&(this.spec.width||this.spec.height)&&(this.isVegaLite?(delete this.spec.width,delete this.spec.height):this._onWarning("The 'width' and 'height' params are ignored with autosize=fit"))}},{key:"_parseControlPlacement",value:function(){if(this.containerDir=locToDirMap[this._config.controlsLocation],void 0===this.containerDir){if(void 0!==this._config.controlsLocation)throw new Error('Unrecognized controlsLocation value. Expecting one of ["'+locToDirMap.keys().join('", "')+'"]');this.containerDir="column"}var dir=this._config.controlsDirection;if(void 0!==dir&&"horizontal"!==dir&&"vertical"!==dir)throw new Error('Unrecognized dir value. Expecting one of ["horizontal", "vertical"]');this.controlsDir="horizontal"===dir?"row":"column"}},{key:"_parseConfig",value:function(){var result=void 0;if(void 0!==this.spec._hostConfig){if(result=this.spec._hostConfig,delete this.spec._hostConfig,!_lodash2.default.isPlainObject(result))throw new Error("If present, _hostConfig must be an object");this._onWarning("_hostConfig has been deprecated. Use config.kibana instead.")}if(_lodash2.default.isPlainObject(this.spec.config)&&void 0!==this.spec.config.kibana&&(result=this.spec.config.kibana,delete this.spec.config.kibana,!_lodash2.default.isPlainObject(result)))throw new Error("If present, config.kibana must be an object");return result||{}}},{key:"_parseMapConfig",value:function(){var _this=this,res={delayRepaint:void 0===this._config.delayRepaint||this._config.delayRepaint},validate=function(name,isZoom){var val=_this._config[name];if(void 0!==val){var parsed=Number.parseFloat(val);if(Number.isFinite(parsed)&&(!isZoom||parsed>=0&&parsed<=30))return void(res[name]=parsed);_this._onWarning("config.kibana."+name+" is not valid")}isZoom||(res[name]=0)};validate("latitude",!1),validate("longitude",!1),validate("zoom",!0),validate("minZoom",!0),validate("maxZoom",!0),res.mapStyle=void 0===this._config.mapStyle?"default":this._config.mapStyle,"default"!==res.mapStyle&&!1!==res.mapStyle&&(this._onWarning('config.kibana.mapStyle may either be false or "default"'),res.mapStyle="default"),this._parseBool("zoomControl",res,!0),this._parseBool("scrollWheelZoom",res,!0);var maxBounds=this._config.maxBounds;return void 0!==maxBounds&&(Array.isArray(maxBounds)&&4===maxBounds.length&&maxBounds.every(function(v){return"number"==typeof v&&Number.isFinite(v)})?res.maxBounds=maxBounds:this._onWarning("config.kibana.maxBounds must be an array with four numbers")),res}},{key:"_parseBool",value:function(paramName,dstObj,dflt){var val=this._config[paramName];void 0===val?dstObj[paramName]=dflt:"boolean"!=typeof val?(this._onWarning("config.kibana."+paramName+" must be a boolean value"),dstObj[paramName]=dflt):dstObj[paramName]=val}},{key:"_parseSchema",value:function(){this.spec.$schema||(this._onWarning('The input spec does not specify a "$schema", defaulting to "'+DEFAULT_SCHEMA+'"'),this.spec.$schema=DEFAULT_SCHEMA);var schema=(0,_vegaSchemaUrlParser2.default)(this.spec.$schema),isVegaLite="vega-lite"===schema.library,libVersion=isVegaLite?vegaLite.version:vega.version;return(0,_compareVersions2.default)(schema.version,libVersion)>0&&this._onWarning("The input spec uses "+schema.library+" "+schema.version+", but current version of "+schema.library+" is "+libVersion+"."),isVegaLite}},{key:"_resolveDataUrls",value:function(){function _resolveDataUrls(){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var pending,pendingParsers,_this2=this;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(pending={},this._findObjectDataUrls(this.spec,function(obj){var url=obj.url;delete obj.url;var type=url["%type%"];delete url["%type%"],void 0===type&&(type="elasticsearch");var parser=_this2._urlParsers[type];if(void 0===parser)throw new Error('url: {"%type%": "'+type+'"} is not supported');var pendingArr=pending[type];void 0===pendingArr&&(pending[type]=pendingArr=[]),pendingArr.push(parser.parseUrl(obj,url))}),pendingParsers=Object.keys(pending),!(pendingParsers.length>0)){_context3.next=6;break}return _context3.next=6,Promise.all(pendingParsers.map(function(type){return _this2._urlParsers[type].populateData(pending[type])}));case 6:case"end":return _context3.stop()}},_callee3,this)}));return _resolveDataUrls}()},{key:"_findObjectDataUrls",value:function(obj,onFind,key){if(Array.isArray(obj)){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=obj[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var elem=_step.value;this._findObjectDataUrls(elem,onFind,key)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}else if(_lodash2.default.isPlainObject(obj))if("data"===key&&_lodash2.default.isPlainObject(obj.url)){if(void 0!==obj.values||void 0!==obj.source)throw new Error('Data must not have more than one of "url", "values", and "source"');onFind(obj)}else{var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=Object.keys(obj)[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var k=_step2.value;this._findObjectDataUrls(obj[k],onFind,k)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}},{key:"_setDefaultColors",value:function(){this._setDefaultValue({scheme:"elastic"},"config","range","category"),this.isVegaLite?this._setDefaultValue(defaultColor,"config","mark","color"):(!this.spec.config.mark||void 0===this.spec.config.mark.color&&void 0===this.spec.config.mark.fill)&&(this._setDefaultValue(defaultColor,"config","arc","fill"),this._setDefaultValue(defaultColor,"config","area","fill"),this._setDefaultValue(defaultColor,"config","line","stroke"),this._setDefaultValue(defaultColor,"config","path","stroke"),this._setDefaultValue(defaultColor,"config","rect","fill"),this._setDefaultValue(defaultColor,"config","rule","stroke"),this._setDefaultValue(defaultColor,"config","shape","stroke"),this._setDefaultValue(defaultColor,"config","symbol","fill"),this._setDefaultValue(defaultColor,"config","trail","fill"))}},{key:"_setDefaultValue",value:function(value){for(var o=this.spec,_len=arguments.length,fields=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)fields[_key-1]=arguments[_key];for(var i=0;i<fields.length-1;i++){var field=fields[i],subObj=o[field];if(void 0===subObj)o[field]={};else if(!_lodash2.default.isPlainObject(subObj))return;o=o[field]}var lastField=fields[fields.length-1];void 0===o[lastField]&&(o[lastField]=value)}},{key:"_onWarning",value:function(){this.hideWarnings||this.warnings.push(_utils.Utils.formatWarningToStr.apply(_utils.Utils,arguments))}}]),VegaParser}()},function(module,exports){},function(module,exports){},function(module,exports){},,,function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EsQueryParser=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.EsQueryParser=function(){function EsQueryParser(timeCache,searchCache,dashboardContext,onWarning){_classCallCheck(this,EsQueryParser),this._timeCache=timeCache,this._searchCache=searchCache,this._dashboardContext=dashboardContext,this._onWarning=onWarning}return _createClass(EsQueryParser,[{key:"parseUrl",value:function(dataObject,url){var body=url.body,context=url["%context%"];delete url["%context%"];var timefield=url["%timefield%"];delete url["%timefield%"];var usesContext=void 0!==context||void 0!==timefield;if(void 0===body)url.body=body={};else if(!_lodash2.default.isPlainObject(body))throw new Error("url.body must be an object");var legacyContext=url["%context_query%"];if(delete url["%context_query%"],void 0!==legacyContext){if(void 0!==body.query)throw new Error('Data url must not have legacy "%context_query%" and "body.query" values at the same time');if(usesContext)throw new Error('Data url must not have "%context_query%" together with "%context%" or "%timefield%"');if(!0!==legacyContext&&("string"!=typeof legacyContext||0===legacyContext.length))throw new Error('Legacy "%context_query%" can either be true (ignores time range picker), or it can be the name of the time field, e.g. "@timestamp"');usesContext=!0,context=!0;var result='"url": {"%context%": true';"string"==typeof legacyContext&&(timefield=legacyContext,result+=', "%timefield%": '+JSON.stringify(timefield)),result+="}",this._onWarning('Legacy "url": {"%context_query%": '+JSON.stringify(legacyContext)+"} should change to "+result)}if(void 0!==body.query){if(usesContext)throw new Error("url.%context% and url.%timefield% must not be used when url.body.query is set");this._injectContextVars(body.query,!0)}else if(usesContext&&(timefield&&(body.query={range:_defineProperty({},timefield,this._createRangeFilter(_defineProperty({},"%timefilter%",!0)))}),context)){var newQuery=this._dashboardContext();timefield&&newQuery.bool.must.push(body.query),body.query=newQuery}return this._injectContextVars(body.aggs,!1),{dataObject:dataObject,url:url}}},{key:"populateData",value:function(){function populateData(_x){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(requests){var esSearches,results,i;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return esSearches=requests.map(function(r){return r.url}),_context.next=3,this._searchCache.search(esSearches);case 3:for(results=_context.sent,i=0;i<requests.length;i++)requests[i].dataObject.values=results[i];case 5:case"end":return _context.stop()}},_callee,this)}));return populateData}()},{key:"_injectContextVars",value:function(obj,isQuery){if(obj&&"object"===(void 0===obj?"undefined":_typeof(obj)))if(Array.isArray(obj))for(var pos=0;pos<obj.length;){var item=obj[pos];if(!isQuery||"%dashboard_context-must_clause%"!==item&&"%dashboard_context-must_not_clause%"!==item)this._injectContextVars(item,isQuery),pos++;else{var ctxTag="%dashboard_context-must_clause%"===item?"must":"must_not",ctx=this._dashboardContext();ctx&&ctx.bool&&ctx.bool[ctxTag]?Array.isArray(ctx.bool[ctxTag])?(obj.splice.apply(obj,[pos,1].concat(_toConsumableArray(ctx.bool[ctxTag]))),pos+=ctx.bool[ctxTag].length):obj[pos++]=ctx.bool[ctxTag]:obj.splice(pos,1)}}else{var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=Object.keys(obj)[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var prop=_step.value,subObj=obj[prop];if(subObj&&"object"===(void 0===obj?"undefined":_typeof(obj)))if("interval"===prop&&subObj["%autointerval%"]){var size=subObj["%autointerval%"];if(!0===size)size=50;else if("number"!=typeof size)throw new Error('"%autointerval%" must be either true or a number');var bounds=this._timeCache.getTimeBounds();obj.interval=EsQueryParser._roundInterval((bounds.max-bounds.min)/size)}else switch(subObj["%timefilter%"]){case"min":case"max":obj[prop]=this._getTimeBound(subObj,subObj["%timefilter%"]);continue;case!0:this._createRangeFilter(subObj);continue;case void 0:this._injectContextVars(subObj,isQuery);continue;default:throw new Error('"%timefilter%" property must be set to true, "min", or "max"')}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}}},{key:"_createRangeFilter",value:function(obj){return obj.gte=this._getTimeBound(obj,"min"),obj.lte=this._getTimeBound(obj,"max"),obj.format="epoch_millis",delete obj["%timefilter%"],delete obj.shift,delete obj.unit,obj}},{key:"_getTimeBound",value:function(opts,type){var bounds=this._timeCache.getTimeBounds(),result=bounds[type];if(opts.shift){var shift=opts.shift;if("number"!=typeof shift)throw new Error("shift must be a numeric value");var multiplier=void 0;switch(opts.unit||"d"){case"w":case"week":multiplier=6048e5;break;case"d":case"day":multiplier=864e5;break;case"h":case"hour":multiplier=36e5;break;case"m":case"minute":multiplier=6e4;break;case"s":case"second":multiplier=1e3;break;default:throw new Error("Unknown unit value. Must be one of: [week, day, hour, minute, second]")}result+=shift*multiplier}return result}}],[{key:"_roundInterval",value:function(interval){switch(!0){case interval<=500:return"100ms";case interval<=5e3:return"1s";case interval<=7500:return"5s";case interval<=15e3:return"10s";case interval<=45e3:return"30s";case interval<=18e4:return"1m";case interval<=45e4:return"5m";case interval<=12e5:return"10m";case interval<=27e5:return"30m";case interval<=72e5:return"1h";case interval<=216e5:return"3h";case interval<=864e5:return"12h";case interval<=6048e5:return"24h";case interval<=18144e5:return"1w";case interval<36288e5:return"30d";default:return"1y"}}}]),EsQueryParser}()},,,,,,function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmsFileParser=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vega_base_view=__webpack_require__(780);exports.EmsFileParser=function(){function EmsFileParser(serviceSettings){_classCallCheck(this,EmsFileParser),this._serviceSettings=serviceSettings}return _createClass(EmsFileParser,[{key:"parseUrl",value:function(obj,url){if("string"!=typeof url.name)throw new Error('data.url with {"%type%": "emsfile"} is missing the "name" of the file');return this._fileLayersP||(this._fileLayersP=this._serviceSettings.getFileLayers()),{obj:obj,name:url.name}}},{key:"populateData",value:function(){function populateData(_x){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(requests){var layers,_loop,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0!==requests.length){_context.next=2;break}return _context.abrupt("return");case 2:return _context.next=4,this._fileLayersP;case 4:for(layers=_context.sent,_loop=function(_ref2){var obj=_ref2.obj,name=_ref2.name,foundLayer=layers.find(function(v){return v.name===name});if(!foundLayer)throw new Error("emsfile "+JSON.stringify(name)+" does not exist");obj.url=(0,_vega_base_view.bypassExternalUrlCheck)(foundLayer.url)},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=9,_iterator=requests[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_ref2=_step.value,_loop(_ref2);_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(9),_didIteratorError=!0,_iteratorError=_context.t0;case 17:_context.prev=17,_context.prev=18,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 20:if(_context.prev=20,!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:case"end":return _context.stop()}},_callee,this,[[9,13,17,25],[18,,20,24]])}));return populateData}()}]),EmsFileParser}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlParser=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);exports.UrlParser=function(){function UrlParser(onWarning){_classCallCheck(this,UrlParser),this._onWarning=onWarning}return _createClass(UrlParser,[{key:"parseUrl",value:function(obj,urlObj){var url=urlObj.url;if(!url)throw new Error("data.url requires a url parameter in a form 'https://example.org/path/subpath'");var query=urlObj.query;query?url+=(url.includes("?")?"&":"?")+_jquery2.default.param(query):this._onWarning('Using a "url": {"%type%": "url", "url": ...} should have a "query" sub-object'),obj.url=url}},{key:"populateData",value:function(){}}]),UrlParser}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SearchCache=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lruCache=__webpack_require__(4734),_lruCache2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lruCache);exports.SearchCache=function(){function SearchCache(es,cacheOpts){_classCallCheck(this,SearchCache),this._es=es,this._cache=new _lruCache2.default(cacheOpts)}return _createClass(SearchCache,[{key:"search",value:function(requests){var promises=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=requests[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var request=_step.value,key=JSON.stringify(request),pending=this._cache.get(key);void 0===pending&&(pending=this._es.search(request),this._cache.set(key,pending)),promises.push(pending)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return Promise.all(promises)}}]),SearchCache}()},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.TimeCache=function(){function TimeCache(timefilter,maxAge){_classCallCheck(this,TimeCache),this._timefilter=timefilter,this._maxAge=maxAge,this._cachedBounds=null,this._cacheTS=0}return _createClass(TimeCache,[{key:"_now",value:function(){return Date.now()}},{key:"getTimeBounds",value:function(){var ts=this._now(),bounds=void 0;if(this._cachedBounds){var diff=ts-this._cacheTS;if(diff<40)return this._cachedBounds;if(diff<this._maxAge&&(bounds=this._getBounds(),Math.abs(bounds.min-this._cachedBounds.min)<this._maxAge&&Math.abs(bounds.max-this._cachedBounds.max)<this._maxAge))return this._cachedBounds}return this._cacheTS=ts,this._cachedBounds=bounds||this._getBounds(),this._cachedBounds}},{key:"setTimeRange",value:function(timeRange){this._timeRange=timeRange}},{key:"_getBounds",value:function(){var bounds=this._timefilter.calculateBounds(this._timeRange);return{min:bounds.min.valueOf(),max:bounds.max.valueOf()}}}]),TimeCache}()},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function VegaVisualizationProvider(vegaConfig,serviceSettings){var notify=new _notify.Notifier({location:"Vega"});return function(){function VegaVisualization(el,vis){_classCallCheck(this,VegaVisualization),this._el=el,this._vis=vis}return _createClass(VegaVisualization,[{key:"render",value:function(){function render(_x,_x2){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(visData,status){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(visData||this._vegaView){_context.next=3;break}return notify.warning("Unable to render without data"),_context.abrupt("return");case 3:return _context.prev=3,_context.next=6,this._render(visData,status);case 6:_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(3),this._vegaView?this._vegaView.onError(_context.t0):notify.error(_context.t0);case 11:case"end":return _context.stop()}},_callee,this,[[3,8]])}));return render}()},{key:"_render",value:function(){function _render(_x3,_x4){return _ref2.apply(this,arguments)}var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(vegaParser,status){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!vegaParser||!status.data&&this._vegaView){_context2.next=10;break}if(!this._vegaView){_context2.next=5;break}return _context2.next=4,this._vegaView.destroy();case 4:this._vegaView=null;case 5:return vegaParser.useMap?this._vegaView=new _vega_map_view.VegaMapView(vegaConfig,this._vis.editorMode,this._el,vegaParser,serviceSettings):this._vegaView=new _vega_view.VegaView(vegaConfig,this._vis.editorMode,this._el,vegaParser,serviceSettings),_context2.next=8,this._vegaView.init();case 8:_context2.next=13;break;case 10:if(!status.resize){_context2.next=13;break}return _context2.next=13,this._vegaView.resize();case 13:case"end":return _context2.stop()}},_callee2,this)}));return _render}()},{key:"destroy",value:function(){return this._vegaView&&this._vegaView.destroy()}}]),VegaVisualization}()}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VegaVisualizationProvider=VegaVisualizationProvider;var _notify=__webpack_require__(10),_vega_view=__webpack_require__(4740),_vega_map_view=__webpack_require__(4741)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaView=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_vegaLib=__webpack_require__(532),vega=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_vegaLib),_vega_base_view=__webpack_require__(780);exports.VegaView=function(_VegaBaseView){function VegaView(){return _classCallCheck(this,VegaView),_possibleConstructorReturn(this,(VegaView.__proto__||Object.getPrototypeOf(VegaView)).apply(this,arguments))}return _inherits(VegaView,_VegaBaseView),_createClass(VegaView,[{key:"_initViewCustomizations",value:function(){function _initViewCustomizations(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var view,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this._$container){_context.next=2;break}return _context.abrupt("return");case 2:return view=new vega.View(vega.parse(this._parser.spec),this._vegaViewConfig),this.setDebugValues(view,this._parser.spec,this._parser.vlspec),view.warn=this.onWarn.bind(this),view.error=this.onError.bind(this),this._parser.useResize&&this.updateVegaSize(view),view.initialize(this._$container.get(0),this._$controls.get(0)),this._parser.useHover&&view.hover(),this._addDestroyHandler(function(){_this2._view=null,view.finalize()}),_context.next=12,view.runAsync();case 12:this._view=view;case 13:case"end":return _context.stop()}},_callee,this)}));return _initViewCustomizations}()}]),VegaView}(_vega_base_view.VegaBaseView)},function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaMapView=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_kibana_map=__webpack_require__(1407),_vegaLib=__webpack_require__(532),vega=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_vegaLib),_vega_base_view=__webpack_require__(780),_vega_map_layer=__webpack_require__(4742);exports.VegaMapView=function(_VegaBaseView){function VegaMapView(){return _classCallCheck(this,VegaMapView),_possibleConstructorReturn(this,(VegaMapView.__proto__||Object.getPrototypeOf(VegaMapView)).apply(this,arguments))}return _inherits(VegaMapView,_VegaBaseView),_createClass(VegaMapView,[{key:"_initViewCustomizations",value:function(){function _initViewCustomizations(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var mapConfig,baseMapOpts,limitMinZ,limitMaxZ,tmsServices,mapStyle,validate,minZoom,maxZoom,_ref2,zoom,vegaMapLayer,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mapConfig=this._parser.mapConfig,baseMapOpts=void 0,limitMinZ=0,limitMaxZ=25,!1===mapConfig.mapStyle){_context.next=13;break}return _context.next=7,this._serviceSettings.getTMSServices();case 7:if(tmsServices=_context.sent,this._$container){_context.next=10;break}return _context.abrupt("return");case 10:mapStyle="default"===mapConfig.mapStyle?"road_map":mapConfig.mapStyle,baseMapOpts=tmsServices.find(function(s){return s.id===mapStyle}),baseMapOpts?(limitMinZ=baseMapOpts.minZoom,limitMaxZ=baseMapOpts.maxZoom):this.onWarn("mapStyle "+JSON.stringify(mapStyle)+" was not found");case 13:validate=function(name,value,dflt,min,max){return void 0===value?value=dflt:value<min?(_this2.onWarn("Resetting "+name+" to "+min),value=min):value>max&&(_this2.onWarn("Resetting "+name+" to "+max),value=max),value},minZoom=validate("minZoom",mapConfig.minZoom,limitMinZ,limitMinZ,limitMaxZ),maxZoom=validate("maxZoom",mapConfig.maxZoom,limitMaxZ,limitMinZ,limitMaxZ),minZoom>maxZoom&&(this.onWarn("minZoom and maxZoom have been swapped"),_ref2=[maxZoom,minZoom],minZoom=_ref2[0],maxZoom=_ref2[1]),zoom=validate("zoom",mapConfig.zoom,2,minZoom,maxZoom),this._kibanaMap=new _kibana_map.KibanaMap(this._$container.get(0),{zoom:zoom,minZoom:minZoom,maxZoom:maxZoom,center:[mapConfig.latitude,mapConfig.longitude],zoomControl:mapConfig.zoomControl,scrollWheelZoom:mapConfig.scrollWheelZoom}),baseMapOpts&&this._kibanaMap.setBaseLayer({baseLayerType:"tms",options:baseMapOpts}),vegaMapLayer=new _vega_map_layer.VegaMapLayer(this._parser.spec,{vega:vega,bindingsContainer:this._$controls.get(0),delayRepaint:mapConfig.delayRepaint,viewConfig:this._vegaViewConfig,onWarning:this.onWarn.bind(this),onError:this.onError.bind(this)}),this._kibanaMap.addLayer(vegaMapLayer),this.setDebugValues(vegaMapLayer.getVegaView(),vegaMapLayer.getVegaSpec()),this._addDestroyHandler(function(){_this2._kibanaMap.removeLayer(vegaMapLayer),baseMapOpts&&_this2._kibanaMap.setBaseLayer(null),_this2._kibanaMap.destroy()});case 24:case"end":return _context.stop()}},_callee,this)}));return _initViewCustomizations}()}]),VegaMapView}(_vega_base_view.VegaBaseView)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VegaMapLayer=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_leaflet=__webpack_require__(154),_leaflet2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_leaflet);__webpack_require__(4743);var _kibana_map_layer=__webpack_require__(775);exports.VegaMapLayer=function(_KibanaMapLayer){function VegaMapLayer(spec,options){_classCallCheck(this,VegaMapLayer);var _this=_possibleConstructorReturn(this,(VegaMapLayer.__proto__||Object.getPrototypeOf(VegaMapLayer)).call(this));return _this._attribution=options.attribution,delete options.attribution,_this._leafletLayer=_leaflet2.default.vega(spec,options),_this}return _inherits(VegaMapLayer,_KibanaMapLayer),_createClass(VegaMapLayer,[{key:"getVegaView",value:function(){return this._leafletLayer._view}},{key:"getVegaSpec",value:function(){return this._leafletLayer._spec}}]),VegaMapLayer}(_kibana_map_layer.KibanaMapLayer)},,function(module,exports){},,,function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jsonStringifyPrettyCompact=__webpack_require__(1424),_jsonStringifyPrettyCompact2=_interopRequireDefault(_jsonStringifyPrettyCompact),_hjson=__webpack_require__(1422),_hjson2=_interopRequireDefault(_hjson),_notify=__webpack_require__(10),_modules=__webpack_require__(2);__webpack_require__(644),_modules.uiModules.get("kibana/vega",["kibana"]).controller("VegaEditorController",function($scope){var notify=new _notify.Notifier({location:"Vega"});return new(function(){function VegaEditorController(){var _this=this;_classCallCheck(this,VegaEditorController),$scope.aceLoaded=function(editor){editor.$blockScrolling=1/0;var session=editor.getSession();session.setTabSize(2),session.setUseSoftTabs(!0),_this.aceEditor=editor},$scope.formatJson=function(event){_this._format(event,_jsonStringifyPrettyCompact2.default,{maxLength:_this._getCodeWidth()})},$scope.formatHJson=function(event){_this._format(event,_hjson2.default.stringify,{condense:_this._getCodeWidth(),bracesSameLine:!0,keepWsc:!0})}}return _createClass(VegaEditorController,[{key:"_getCodeWidth",value:function(){return this.aceEditor.getSession().getWrapLimit()}},{key:"_format",value:function(event,stringify,opts){var _this2=this;event.preventDefault();var newSpec=void 0;try{var spec=_hjson2.default.parse(this.aceEditor.getSession().doc.getValue(),{legacyRoot:!1,keepWsc:!0});newSpec=stringify(spec,opts)}catch(err){return void notify.error(err)}$scope.$$postDigest(function(){_this2.aceEditor.getSession().doc.setValue(newSpec)})}}]),VegaEditorController}())})},function(module,exports){module.exports='<div class="vegaEditor" ng-controller="VegaEditorController">\n  <div\n    kbn-ui-ace-keyboard-mode\n    ui-ace="{\n      onLoad: aceLoaded,\n      useWrapMode: true,\n      advanced: {\n        highlightActiveLine: false\n      },\n      rendererOptions: {\n        showPrintMargin: false\n      },\n      mode: \'hjson\'\n    }"\n    id="vegaAceEditor"\n    ng-model="vis.params.spec"\n    data-test-subj="vega-editor"\n  ></div>\n\n  <div id="editor_actions">\n    <span dropdown>\n      <button\n        id="vegaHelp"\n        class="editor_action"\n        dropdown-toggle\n        aria-label="Vega help"\n      >\n        <span class="kuiIcon fa-question-circle"></span>\n      </button>\n      <ul\n        class="dropdown-menu"\n        role="menu"\n        aria-labelledby="vegaHelp"\n      >\n        <li role="menuitem">\n          <a target="_blank" rel="noopener noreferrer" href="https://www.elastic.co/guide/en/kibana/master/vega-graph.html">\n            Kibana Vega Help\n          </a>\n        </li>\n        <li role="menuitem">\n          <a target="_blank" rel="noopener noreferrer" href="https://vega.github.io/vega-lite/docs/">\n            Vega-Lite Documentation\n          </a>\n        </li>\n        <li role="menuitem">\n          <a target="_blank" rel="noopener noreferrer" href="https://vega.github.io/vega/docs/">\n            Vega Documentation\n          </a>\n        </li>\n      </ul>\n    </span>\n    <span dropdown>\n      <button\n        id="vegaOptions"\n        class="editor_action"\n        dropdown-toggle\n        aria-label="Vega editor options"\n      >\n        <span class="kuiIcon fa-wrench"></span>\n      </button>\n      <ul\n        class="dropdown-menu"\n        role="menu"\n        aria-labelledby="vegaOptions"\n      >\n        <li role="menuitem">\n          <button ng-click="formatHJson($event)">Reformat as HJSON</button>\n        </li>\n        <li role="menuitem">\n          <button ng-click="formatJson($event)">Reformat as JSON, delete comments</button>\n        </li>\n      </ul>\n    </span>\n  </div>\n\n</div>\n'},function(module,exports){module.exports='{\n/*\n\nWelcome to Vega visualizations.  Here you can design your own dataviz from scratch using a declarative language called Vega, or its simpler form Vega-Lite.  In Vega, you have the full control of what data is loaded, even from multiple sources, how that data is transformed, and what visual elements are used to show it.  Use help icon to view Vega examples, tutorials, and other docs.  Use the wrench icon to reformat this text, or to remove comments.\n\nThis example graph shows the document count in all indexes in the current time range.  You might need to adjust the time filter in the upper right corner.\n*/\n\n  $schema: https://vega.github.io/schema/vega-lite/v2.json\n  title: Event counts from all indexes\n\n  // Define the data source\n  data: {\n    url: {\n/*\nAn object instead of a string for the "url" param is treated as an Elasticsearch query. Anything inside this object is not part of the Vega language, but only understood by Kibana and Elasticsearch server. This query counts the number of documents per time interval, assuming you have a @timestamp field in your data.\n\nKibana has a special handling for the fields surrounded by "%".  They are processed before the the query is sent to Elasticsearch. This way the query becomes context aware, and can use the time range and the dashboard filters.\n*/\n\n      // Apply dashboard context filters when set\n      %context%: true\n      // Filter the time picker (upper right corner) with this field\n      %timefield%: @timestamp\n\n/*\nSee .search() documentation for :  https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/api-reference.html#api-search\n*/\n\n      // Which index to search\n      index: _all\n      // Aggregate data by the time field into time buckets, counting the number of documents in each bucket.\n      body: {\n        aggs: {\n          time_buckets: {\n            date_histogram: {\n              // Use date histogram aggregation on @timestamp field\n              field: @timestamp\n              // The interval value will depend on the daterange picker (true), or use an integer to set an approximate bucket count\n              interval: {%autointerval%: true}\n              // Make sure we get an entire range, even if it has no data\n              extended_bounds: {\n                // Use the current time range\'s start and end\n                min: {%timefilter%: "min"}\n                max: {%timefilter%: "max"}\n              }\n              // Use this for linear (e.g. line, area) graphs.  Without it, empty buckets will not show up\n              min_doc_count: 0\n            }\n          }\n        }\n        // Speed up the response by only including aggregation results\n        size: 0\n      }\n    }\n/*\nElasticsearch will return results in this format:\n\naggregations: {\n  time_buckets: {\n    buckets: [\n      {\n        key_as_string: 2015-11-30T22:00:00.000Z\n        key: 1448920800000\n        doc_count: 0\n      },\n      {\n        key_as_string: 2015-11-30T23:00:00.000Z\n        key: 1448924400000\n        doc_count: 0\n      }\n      ...\n    ]\n  }\n}\n\nFor our graph, we only need the list of bucket values.  Use the format.property to discard everything else.\n*/\n    format: {property: "aggregations.time_buckets.buckets"}\n  }\n\n  // "mark" is the graphics element used to show our data.  Other mark values are: area, bar, circle, line, point, rect, rule, square, text, and tick.  See https://vega.github.io/vega-lite/docs/mark.html\n  mark: line\n\n  // "encoding" tells the "mark" what data to use and in what way.  See https://vega.github.io/vega-lite/docs/encoding.html\n  encoding: {\n    x: {\n      // The "key" value is the timestamp in milliseconds.  Use it for X axis.\n      field: key\n      type: temporal\n      axis: {title: false} // Customize X axis format\n    }\n    y: {\n      // The "doc_count" is the count per bucket.  Use it for Y axis.\n      field: doc_count\n      type: quantitative\n      axis: {title: "Document count"}\n    }\n  }\n}\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(4752),__webpack_require__(1427),__webpack_require__(4761);var _modules=__webpack_require__(2),_agg_group=__webpack_require__(4762),_agg_group2=_interopRequireDefault(_agg_group),_collection=__webpack_require__(295);_modules.uiModules.get("app/visualize").directive("visEditorAggGroup",function(){return{restrict:"E",template:_agg_group2.default,scope:!0,link:function($scope,$el,attr){function reorderFinished(){var indexOffset=$scope.vis.aggs.indexOf($scope.group[0]);_lodash2.default.forEach($scope.group,function(agg,index){(0,_collection.move)($scope.vis.aggs,agg,indexOffset+index)})}$scope.groupName=attr.groupName,$scope.$bind("group",'vis.aggs.bySchemaGroup["'+$scope.groupName+'"]'),$scope.$bind("schemas",'vis.type.schemas["'+$scope.groupName+'"]'),$scope.$watchMulti(["schemas","[]group"],function(){var stats=$scope.stats={min:0,max:0,count:$scope.group?$scope.group.length:0};$scope.schemas&&($scope.schemas.forEach(function(schema){stats.min+=schema.min,stats.max+=schema.max,stats.deprecate=schema.deprecate}),$scope.availableSchema=$scope.schemas.filter(function(schema){if(_lodash2.default.where($scope.group,{schema:schema}).length<schema.max)return!0}))}),$scope.$on("agg-reorder",reorderFinished),$scope.$on("agg-drag-start",function(){return $scope.dragging=!0}),$scope.$on("agg-drag-end",function(){$scope.dragging=!1,reorderFinished()})}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(4753),__webpack_require__(1427);var _keyboard_move=__webpack_require__(4759),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_agg=__webpack_require__(4760),_agg2=_interopRequireDefault(_agg),_collection=__webpack_require__(295);_modules.uiModules.get("app/visualize").directive("visEditorAgg",function($compile,$parse,$filter,Private,Notifier){var notify=new Notifier({location:"visAggGroup"});return{restrict:"A",template:_agg2.default,require:"form",link:function($scope,$el,attrs,kbnForm){function calcAggIsTooLow(){if(!$scope.agg.schema.mustBeFirst)return!1;var firstDifferentSchema=_lodash2.default.findIndex($scope.group,function(agg){return agg.schema!==$scope.agg.schema});return-1!==firstDifferentSchema&&$scope.$index>firstDifferentSchema}$scope.editorOpen=!!$scope.agg.brandNew,$scope.$watch("editorOpen",function(open){open||kbnForm.$setTouched()}),$scope.$watchMulti(["$index","group.length"],function(){$scope.aggIsTooLow=calcAggIsTooLow()}),$scope.describe=function(){if(!$scope.agg.type.makeLabel)return"";var label=$scope.agg.type.makeLabel($scope.agg);return label||""},$scope.$on("drag-start",function(){$scope.editorWasOpen=$scope.editorOpen,$scope.editorOpen=!1,$scope.$emit("agg-drag-start",$scope.agg)}),$scope.$on("drag-end",function(){$scope.editorOpen=$scope.editorWasOpen,$scope.$emit("agg-drag-end",$scope.agg)}),$scope.onPriorityReorder=function(direction){var positionOffset=direction===_keyboard_move.Direction.down?1:-1,currentPosition=$scope.group.indexOf($scope.agg),newPosition=Math.max(0,Math.min(currentPosition+positionOffset,$scope.group.length-1));(0,_collection.move)($scope.group,currentPosition,newPosition),$scope.$emit("agg-reorder")},$scope.remove=function(agg){var aggs=$scope.vis.aggs,index=aggs.indexOf(agg);if(-1===index)return notify.log("already removed");aggs.splice(index,1)},$scope.canRemove=function(aggregation){return _lodash2.default.reduce($scope.group,function(count,agg){return agg.schema.name===aggregation.schema.name?++count:count},0)>aggregation.schema.min}}}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_agg_select=__webpack_require__(4754),_agg_select2=_interopRequireDefault(_agg_select),_advanced_toggle=__webpack_require__(4755),_advanced_toggle2=_interopRequireDefault(_advanced_toggle);__webpack_require__(1142),__webpack_require__(4756);var _agg_types=__webpack_require__(259),_modules=__webpack_require__(2),_documentation_links=__webpack_require__(362),_agg_params=__webpack_require__(4757),_agg_params2=_interopRequireDefault(_agg_params);_modules.uiModules.get("app/visualize").directive("visEditorAggParams",function($compile,$parse,Private){var aggTypes=Private(_agg_types.AggTypesIndexProvider);return{restrict:"E",template:_agg_params2.default,scope:!0,link:function($scope,$el,attr){function updateAggParamEditor(){if($scope.aggHelpLink=null,_lodash2.default.has($scope,"agg.type.name")&&($scope.aggHelpLink=_lodash2.default.get(_documentation_links.documentationLinks,["aggs",$scope.agg.type.name])),$aggParamEditors&&($aggParamEditors.remove(),$aggParamEditors=null),$aggParamEditorsScope&&($aggParamEditorsScope.$destroy(),$aggParamEditorsScope=null),$scope.agg&&$scope.agg.type){$aggParamEditorsScope=$scope.$new(),$aggParamEditorsScope.indexedFields=$scope.agg.getFieldOptions();var aggParamHTML={basic:[],advanced:[]};$scope.agg.type.params.forEach(function(param,i){var aggParam=void 0,fields=void 0;if(!$scope.agg.schema.hideCustomLabel||"customLabel"!==param.name){if("field"===param.name?fields=$aggParamEditorsScope.indexedFields:"field"===param.type&&(fields=$aggParamEditorsScope[param.name+"Options"]=param.getFieldOptions($scope.agg)),fields){var hasIndexedFields=fields.length>0,isExtraParam=i>0;if(!hasIndexedFields&&isExtraParam)return}var type="basic";param.advanced&&(type="advanced"),(aggParam=getAggParamHTML(param,i))&&aggParamHTML[type].push(aggParam)}});var paramEditors=aggParamHTML.basic;aggParamHTML.advanced.length&&(paramEditors.push((0,_jquery2.default)(_advanced_toggle2.default).get(0)),paramEditors=paramEditors.concat(aggParamHTML.advanced)),$aggParamEditors=(0,_jquery2.default)(paramEditors).appendTo($el),$compile($aggParamEditors)($aggParamEditorsScope)}}function getAggParamHTML(param,idx){if(param.editor){var attrs={"agg-param":"agg.type.params["+idx+"]"};return param.advanced&&(attrs["ng-show"]="advancedToggled"),(0,_jquery2.default)("<vis-agg-param-editor>").attr(attrs).append(param.editor).get(0)}}$scope.$bind("agg",attr.agg),$scope.$bind("groupName",attr.groupName),$scope.aggTypeOptions=aggTypes.byType[$scope.groupName],$scope.advancedToggled=!1,$scope.$watch("agg.type",updateAggParamEditor),function(){var $schemaEditor=(0,_jquery2.default)("<div>").addClass("schemaEditors").appendTo($el);$scope.agg.schema.editor&&($schemaEditor.append($scope.agg.schema.editor),$compile($schemaEditor)($scope.$new()))}(),function(){var $aggSelect=(0,_jquery2.default)(_agg_select2.default).appendTo($el);$compile($aggSelect)($scope)}();var $aggParamEditors=void 0,$aggParamEditorsScope=void 0}}})},function(module,exports){module.exports='<div class="form-group">\n  <div>\n    <label ng-if="$index < 1 || groupName !== \'buckets\'" class="agg-select-label">Aggregation</label>\n    <label ng-if="$index >= 1 && groupName === \'buckets\'" class="agg-select-label">Sub Aggregation</label>\n    <a\n      ng-if="aggHelpLink"\n      href="{{aggHelpLink}}"\n      class="agg-select-help"\n      target="_blank"\n      rel="noopener noreferrer"\n    >\n      {{agg.type.title}} help\n    </a>\n  </div>\n  <div class="euiSpacer euiSpacer--s"></div>\n  <ui-select\n    required\n    name="agg"\n    class="vis-editor-field-ui-select agg-select"\n    data-test-subj="visEditorAggSelect"\n    ng-model="agg.type"\n  >\n    <ui-select-match placeholder="Select an aggregation">\n      {{$select.selected.title}}\n    </ui-select-match>\n    <ui-select-choices\n      repeat="agg in aggTypeOptions\n        | aggFilter:agg.schema.aggFilter\n        | filter: { title: $select.search }\n        | orderBy:\'title\'\n        | sortPrefixFirst:$select.search:\'title\'"\n      group-by="\'subtype\'"\n    >\n      <div data-test-subj="{{agg.title}}" ng-bind-html="agg.title | highlight: $select.search"></div>\n    </ui-select-choices>\n  </ui-select>\n</div>\n'},function(module,exports){module.exports='<div class="vis-editor-agg-editor-advanced-toggle">\n  <a ng-click="advancedToggled = !advancedToggled">\n    <i aria-hidden="true" class="fa fa-caret-down" ng-class="{\'fa-caret-down\': advancedToggled, \'fa-caret-left\': !advancedToggled}"></i>\n    Advanced\n  </a>\n</div>'},function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);__webpack_require__(2).uiModules.get("app/visualize").directive("visAggParamEditor",function(config){return{restrict:"E",scope:!0,template:function($el){return $el.html()},link:{pre:function($scope,$el,attr){$scope.$bind("aggParam",attr.aggParam)},post:function($scope){$scope.config=config,$scope.optionEnabled=function(option){return!option||!_lodash2.default.isFunction(option.enabled)||option.enabled($scope.agg)}}}}})},function(module,exports){module.exports='<div ng-if="aggIsTooLow" class="form-group">\n  <p class="vis-editor-agg-error">\n    "{{ agg.schema.title }}" aggs must run before all other buckets!\n  </p>\n  <input\n    type="number"\n    name="order"\n    ng-model="$index"\n    max="{{aggIsTooLow ? $index - 1 : $index}}"\n    style="display: none;">\n</div>\n\n<div ng-if="agg.error" class="form-group">\n  <p class="vis-editor-agg-error ng-binding">\n    {{agg.error}}\n  </p>\n</div>\n\n<div ng-if="agg.schema.deprecate" class="form-group">\n  <p ng-show="agg.schema.deprecateMessage" class="vis-editor-agg-error">\n    {{ agg.schema.deprecateMessage }}\n  </p>\n  <p ng-show="!agg.schema.deprecateMessage" class="vis-editor-agg-error">\n    "{{ agg.schema.title }}" has been deprecated.\n  </p>\n</div>\n\n\x3c!-- schema editors get added down here: aggSelect.html, agg_types/controls/*.html --\x3e\n'},function(module,exports){module.exports='<div ng-show="add.form" class="vis-editor-agg-add-schemas">\n  <label>Select {{ groupName }} type</label>\n  <div class="euiSpacer euiSpacer--s"></div>\n  <ul class="form-group list-group list-group-menu">\n    <li\n      tabindex="0"\n      id="aggSchemaListItem-{{$index}}"\n      ng-hide="schema.deprecate"\n      ng-repeat="schema in availableSchema"\n      ng-click="add.submit(schema)"\n      class="list-group-item list-group-menu-item"\n      data-test-subj="{{schema.title}}">\n      <i ng-show="schema.icon" ng-class="schema.icon"></i>\n      {{schema.title}}\n    </li>\n  </ul>\n</div>\n\n<div\n  ng-if="stats.max > stats.count"\n  ng-init="add.form = stats.count < 1 ? !add.form : add.form"\n  ng-click="add.form = !add.form"\n  class="vis-editor-agg-wide-btn">\n\n  <div ng-if="!add.form">\n    <button\n      data-test-subj="visualizeEditorAddAggregationButton"\n      class="kuiButton kuiButton--secondary kuiButton--small"\n      ng-if="groupName !== \'buckets\' || !stats.count && !stats.deprecate"\n    >\n      Add {{ groupName }}\n    </button>\n\n    <button\n      data-test-subj="visualizeEditorAddAggregationButton"\n      class="kuiButton kuiButton--secondary kuiButton--small"\n      ng-if="groupName === \'buckets\' && stats.count > 0 && !stats.deprecate"\n    >\n      Add sub-{{ groupName }}\n    </button>\n  </div>\n\n  <button\n    class="kuiButton kuiButton--danger kuiButton--small"\n    ng-if="add.form"\n  >\n    Cancel\n  </button>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Direction=void 0;var _directionMapping,_modules=__webpack_require__(2),_eui=__webpack_require__(5),Direction=exports.Direction={up:"up",down:"down"},directionMapping=(_directionMapping={},_defineProperty(_directionMapping,_eui.keyCodes.UP,Direction.up),_defineProperty(_directionMapping,_eui.keyCodes.DOWN,Direction.down),_directionMapping);_modules.uiModules.get("kibana").directive("keyboardMove",function($parse,$timeout){return{restrict:"A",link:function(scope,el,attr){var callbackFn=$parse(attr.keyboardMove);el.keydown(function(ev){if(ev.which in directionMapping){ev.preventDefault();var direction=directionMapping[ev.which];scope.$apply(function(){return callbackFn(scope,{direction:direction})}),$timeout(function(){return el.focus()})}}),scope.$on("$destroy",function(){el.off("keydown")})}}})},function(module,exports){module.exports='\x3c!-- header --\x3e\n<div class="vis-editor-agg-header">\n\n  \x3c!-- open/close editor --\x3e\n  <button\n    aria-label="Toggle {{agg.schema.title}} editor"\n    ng-click="editorOpen = !editorOpen"\n    aria-expanded="{{ !!editorOpen }}"\n    aria-controls="visAggEditorParams{{agg.id}}"\n    type="button"\n    data-test-subj="toggleEditor"\n    class="kuiButton kuiButton--primary kuiButton--small vis-editor-agg-header-toggle">\n    <i aria-hidden="true" ng-class="{ \'fa-caret-down\': editorOpen, \'fa-caret-right\': !editorOpen }" class="fa"></i>\n  </button>\n\n  \x3c!-- title --\x3e\n  <span class="vis-editor-agg-header-title" ng-class="{\'vis-editor-agg-header-title--grow\': editorOpen}">\n    {{ agg.schema.title }}\n  </span>\n\n  \x3c!-- description --\x3e\n  <span ng-if="!editorOpen && aggForm.$valid" class="vis-editor-agg-header-description" title="{{describe()}}">\n    {{ describe() }}\n  </span>\n\n  \x3c!-- error --\x3e\n  <span ng-if="!editorOpen && aggForm.$invalid" class="vis-editor-agg-header-description danger" title="{{aggForm.describeErrors()}}">\n    {{ aggForm.describeErrors() }}\n  </span>\n\n  \x3c!-- controls !!!actually disabling buttons will break tooltips¡¡¡ --\x3e\n  <div class="vis-editor-agg-header-controls kuiButtonGroup kuiButtonGroup--united">\n    \x3c!-- disable aggregation --\x3e\n    <button\n      ng-if="agg.enabled && canRemove(agg)"\n      ng-click="agg.enabled = false"\n      aria-label="Disable aggregation"\n      tooltip="Disable aggregation"\n      tooltip-append-to-body="true"\n      data-test-subj="disableAggregationBtn"\n      type="button"\n      class="kuiButton kuiButton--basic kuiButton--small">\n      <i aria-hidden="true" class="fa fa-toggle-on"></i>\n    </button>\n\n    \x3c!-- enable aggregation --\x3e\n    <button\n      ng-if="!agg.enabled"\n      ng-click="agg.enabled = true"\n      aria-label="Enable aggregation"\n      tooltip="Enable aggregation"\n      tooltip-append-to-body="true"\n      data-test-subj="disableAggregationBtn"\n      type="button"\n      class="kuiButton kuiButton--basic kuiButton--small">\n      <i aria-hidden="true" class="fa fa-toggle-off"></i>\n    </button>\n\n    \x3c!-- drag handle --\x3e\n    <button\n      draggable-handle\n      ng-if="stats.count > 1"\n      tooltip="Modify Priority by Dragging"\n      tooltip-append-to-body="true"\n      type="button"\n      keyboard-move="onPriorityReorder(direction)"\n      class="kuiButton kuiButton--basic kuiButton--small">\n      <i aria-hidden="true" class="fa fa-arrows-v"></i>\n      <span class="kuiScreenReaderOnly">\n        Use up and down key on this button to move this aggregation up and down\n        in the priority order.\n      </span>\n    </button>\n\n    \x3c!-- remove button --\x3e\n    <button\n      ng-if="canRemove(agg)"\n      aria-label="Remove Dimension"\n      ng-if="stats.count > stats.min"\n      ng-click="remove(agg)"\n      tooltip="Remove Dimension"\n      tooltip-append-to-body="true"\n      type="button"\n      class="kuiButton kuiButton--danger kuiButton--small">\n      <i aria-hidden="true" class="fa fa-times"></i>\n    </button>\n\n  </div>\n\n</div>\n\n<vis-editor-agg-params\n  id="visAggEditorParams{{agg.id}}"\n  agg="agg"\n  group-name="groupName"\n  ng-show="editorOpen"\n  class="vis-editor-agg-editor">\n</vis-editor-agg-params>\n\n<vis-editor-agg-add\n  ng-if="$index + 1 === stats.count"\n  ng-hide="dragging"\n  class="vis-editor-agg-add vis-editor-agg-add-subagg">\n</vis-editor-agg-add>\n'},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_color_palette=__webpack_require__(1221);__webpack_require__(2).uiModules.get("kibana").directive("nestingIndicator",function(){return{restrict:"E",scope:{item:"=",list:"="},link:function($scope,$el){$scope.$watchCollection("list",function(){if($scope.list&&$scope.item){var index=$scope.list.indexOf($scope.item),bars=$scope.list.slice(0,index+1),colors=(0,_color_palette.createColorPalette)(bars.length);$el.html(bars.map(function(bar,i){return(0,_jquery2.default)(document.createElement("span")).css("background-color",colors[i])}))}})}}})},function(module,exports){module.exports='<div class="sidebar-item">\n  <div class="sidebar-item-title">\n    {{ groupName }}\n  </div>\n\n  <div ng-class="groupName" draggable-container="group" class="vis-editor-agg-group">\n    \x3c!-- wrapper needed for nesting-indicator --\x3e\n    <div ng-repeat="agg in group track by agg.id" data-test-subj="aggregationEditor{{agg.id}}" draggable-item="agg" class="vis-editor-agg-wrapper">\n      \x3c!-- agg.html - controls for aggregation --\x3e\n      <ng-form vis-editor-agg name="aggForm" class="vis-editor-agg"></ng-form>\n    </div>\n\n    <vis-editor-agg-add ng-if="stats.count === 0" class="vis-editor-agg-add"></vis-editor-agg-add>\n  </div>\n</div>\n'},function(module,exports){module.exports='  \x3c!-- Visualization and other editing UI gets inserted in here. --\x3e\n  <div\n    data-visualization-options\n    class="visualization-options"\n  ></div>\n'},function(module,exports){module.exports='<div class="sidebar-container">\n  <form\n    class="sidebar-list"\n    ng-submit="visualizeEditor.$invalid ? stageEditableVis(false) : stageEditableVis()"\n    name="visualizeEditor"\n    novalidate\n    ng-keydown="submitEditorWithKeyboard($event)"\n  >\x3c!-- see http://goo.gl/9kgz5w --\x3e\n\n    <div\n      css-truncate\n      aria-label="{{:: \'Index pattern: \' + vis.indexPattern.title}}"\n      ng-if="vis.type.requiresSearch && vis.type.options.showIndexSelection"\n      class="index-pattern"\n      tabindex="0"\n      id="sidebarIndexPatternTitle"\n    >\n      {{ vis.indexPattern.title }}\n    </div>\n\n    <nav class="navbar navbar-default subnav">\n      <div class="container-fluid">\n\n        \x3c!-- tabs --\x3e\n        <ul class="nav navbar-nav" role="tablist">\n          <li\n            role="tab"\n            aria-selected="{{sidebar.section === \'data\'}}"\n            ng-class="{active: sidebar.section == \'data\'}"\n            ng-show="sidebar.showData"\n          >\n            <a\n              class="vis-editor-subnav-link"\n              ng-class="{\'is-vis-editor-sub-nav-link-selected\': sidebar.section == \'data\'}"\n              ng-click="sidebar.section=\'data\'"\n              kbn-accessible-click\n              data-test-subj="visualizeEditDataLink"\n            >\n              Data\n            </a>\n          </li>\n\n          <li\n            role="tab"\n            aria-selected="{{sidebar.section === tab.name}}"\n            ng-repeat="tab in vis.type.editorConfig.optionTabs"\n            ng-class="{active: sidebar.section == tab.name}"\n            ng-if="vis.type.editorConfig.optionTabs.length > 1 || sidebar.showData"\n          >\n            <a\n              class="vis-editor-subnav-link"\n              ng-class="{\'is-vis-editor-sub-nav-link-selected\': sidebar.section == tab.name}"\n              ng-click="sidebar.section=tab.name"\n              kbn-accessible-click\n              data-test-subj="{{ \'visEditorTab\' + tab.name }}"\n            >\n              {{tab.title}}\n            </a>\n          </li>\n        </ul>\n\n        \x3c!-- controls --\x3e\n        <ul class="nav navbar-nav navbar-right">\n          <li\n            ng-if="visualizeEditor.softErrorCount() > 0"\n            disabled\n            tooltip="{{ visualizeEditor.describeErrors() }}"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n          >\n            <div\n              class="kuiButton kuiButton--danger navbar-btn-link sidebar-controls-error"\n              aria-label="{{ visualizeEditor.describeErrors() }}"\n            >\n              <span aria-hidden="true" class="kuiIcon kuiIcon--error fa-warning"></span>\n            </div>\n          </li>\n\n          <li\n            tooltip="Auto apply changes"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n            ng-if="vis.type.editorConfig.enableAutoApply"\n          >\n            <button\n              data-test-subj="visualizeEditorAutoButton"\n              class="kuiButton kuiButton--basic navbar-btn-link"\n              aria-label="Auto update the visualization on every change"\n              ng-click="toggleAutoApply()"\n              ng-class="{\n                \'kuiButton--primary\': autoApplyEnabled,\n                \'kuiButton--basic\': !autoApplyEnabled\n              }"\n            >\n              <span aria-hidden="true" class="kuiIcon fa-repeat"></span>\n              <span ng-show="autoApplyEnabled">Auto Apply</span>\n            </button>\n          </li>\n\n          <li\n            tooltip="Apply changes"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400" tooltip-append-to-body="1"\n            ng-hide="autoApplyEnabled"\n          >\n            <button\n              data-test-subj="visualizeEditorRenderButton"\n              class="kuiButton kuiButton--primary navbar-btn-link"\n              type="submit"\n              ng-disabled="!vis.dirty || visualizeEditor.errorCount() > 0 || autoApplyEnabled"\n              aria-label="Update the visualization with your changes"\n            >\n              <span aria-hidden="true" class="kuiIcon fa-play"></span>\n            </button>\n          </li>\n\n          <li\n            tooltip="Discard changes"\n            tooltip-placement="bottom"\n            tooltip-popup-delay="400"\n            tooltip-append-to-body="1"\n            ng-hide="autoApplyEnabled"\n          >\n            <button\n              class="kuiButton kuiButton--basic navbar-btn-link"\n              ng-disabled="!vis.dirty"\n              ng-click="resetEditableVis()"\n              aria-label="Reset the visualization"\n            >\n              <span class="kuiIcon fa-close"></span>\n            </button>\n          </li>\n        </ul>\n      </div>\n    </nav>\n\n    <div class="vis-editor-config" ng-show="sidebar.section == \'data\'">\n      \x3c!-- metrics --\x3e\n      <vis-editor-agg-group ng-if="vis.type.schemas.metrics" group-name="metrics"></vis-editor-agg-group>\n\n      \x3c!-- buckets --\x3e\n      <vis-editor-agg-group ng-if="vis.type.schemas.buckets" group-name="buckets"></vis-editor-agg-group>\n    </div>\n\n    <div class="vis-editor-config" ng-repeat="tab in vis.type.editorConfig.optionTabs" ng-show="sidebar.section == tab.name">\n      <vis-editor-vis-options\n        vis="vis"\n        vis-data="visData"\n        ui-state="uiState"\n        visualize-editor="visualizeEditor"\n        editor="tab.editor"\n      ></vis-editor-vis-options>\n    </div>\n\n  </form>\n</div>\n'},function(module,exports,__webpack_require__){"use strict";var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),_modules=__webpack_require__(2),_eui=__webpack_require__(5);_modules.uiModules.get("kibana").directive("visEditorResizer",function(){return{restrict:"E",link:function($scope,$el){var $left=$el.parent();$el.on("mousedown",function(event){function onMove(event){var newWidth=startWidth+event.pageX-startX;$left.width(newWidth)}$el.addClass("active");var startWidth=$left.width(),startX=event.pageX;(0,_jquery2.default)(document.body).on("mousemove",onMove).one("mouseup",function(){$el.removeClass("active"),(0,_jquery2.default)(document.body).off("mousemove",onMove),$scope.$broadcast("render")})}),$el.on("keydown",function(event){var keyCode=event.keyCode;if(keyCode===_eui.keyCodes.LEFT||keyCode===_eui.keyCodes.RIGHT){event.preventDefault();var startWidth=$left.width(),newWidth=startWidth+(keyCode===_eui.keyCodes.LEFT?-15:15);$left.width(newWidth),$scope.$broadcast("render")}})}}})},function(module,exports){module.exports='<div class="default-vis-editor">\n  <div class="collapsible-sidebar" ng-class="::getSidebarClass()">\n    <vis-editor-sidebar class="vis-editor-sidebar" />\n    <vis-editor-resizer\n      class="default-editor__resizer"\n      tabindex="0"\n      aria-label="Press left/right to resize the editor"\n      data-test-subj="visualizeEditorResizer"\n    >&#xFE19;</vis-editor-resizer>\n  </div>\n\n  <div\n    class="vis-editor-canvas"\n    data-shared-item\n    data-shared-items-container\n    render-complete\n    data-title="{{vis.title}}"\n    data-description="{{vis.description}}"\n  >\n    <visualization\n      vis="vis"\n      vis-data="visData"\n      ui-state="uiState"\n      search-source="searchSource"\n      show-spy-panel="showSpyPanel"\n      listen-on-change="false"\n    />\n  </div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"4eae70b44c4e3b69f2357bff8f1e67f1.svg"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"a04c09b6eda01f84b583ed59e958afdc.svg"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"6199ab7146b1eb859db9ffd2b9b786d3.svg"},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"9ad9ca7ab44828ee57b75fdd76a84567.svg"}]);