/*! Copyright Elasticsearch B.V. and/or license to Elasticsearch B.V. under one or more contributor license agreements
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
webpackJsonp([1],{124:function(module,exports,__webpack_require__){__webpack_require__(5334),module.exports=window.consoleAce},1518:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.recentlyAccessedShape=exports.RecentlyAccessed=exports.NUM_LONG_LINKS=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(5136);var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5),NUM_LONG_LINKS=exports.NUM_LONG_LINKS=5,RecentlyAccessed=exports.RecentlyAccessed=function(_Component){function RecentlyAccessed(props){_classCallCheck(this,RecentlyAccessed);var _this=_possibleConstructorReturn(this,(RecentlyAccessed.__proto__||Object.getPrototypeOf(RecentlyAccessed)).call(this,props));return _this.onButtonClick=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen})},_this.closePopover=function(){_this.setState({isPopoverOpen:!1})},_this.renderDropdown=function(){if(!(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)){for(var dropdownLinks=[],i=NUM_LONG_LINKS;i<_this.props.recentlyAccessed.length;i++)dropdownLinks.push(_react2.default.createElement("li",{style:{marginBottom:8},key:_this.props.recentlyAccessed[i].id,"data-test-subj":"moreRecentlyAccessedItem"+_this.props.recentlyAccessed[i].id},_react2.default.createElement(_eui.EuiLink,{className:"recentlyAccessedDropwdownLink",href:_this.props.recentlyAccessed[i].link},_this.props.recentlyAccessed[i].label)));var openPopoverComponent=_react2.default.createElement(_eui.EuiLink,{onClick:_this.onButtonClick,"data-test-subj":"openMoreRecentlyAccessedPopover"},_react2.default.createElement(_eui.EuiTextColor,{className:"recentlyAccessedDropdownLabel",color:"subdued"},dropdownLinks.length+" more"),_react2.default.createElement(_eui.EuiIcon,{type:"arrowDown",color:"subdued"})),anchorPosition="downRight";return window.innerWidth<=768&&(anchorPosition="downLeft"),_react2.default.createElement(_eui.EuiPopover,{id:"popover",ownFocus:!0,button:openPopoverComponent,isOpen:_this.state.isPopoverOpen,closePopover:_this.closePopover,anchorPosition:anchorPosition},_react2.default.createElement("ul",null,dropdownLinks))}},_this.renderLongLink=function(recentlyAccessedItem){var includeSeparator=arguments.length>1&&void 0!==arguments[1]&&arguments[1],separator=void 0;includeSeparator&&(separator=_react2.default.createElement(_eui.EuiFlexItem,{grow:!1,className:"recentlyAccessedSeparator"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"subdued"}))));var minWidth=.65*(recentlyAccessedItem.label.length<8?recentlyAccessedItem.label.length:8),style={minWidth:minWidth+"em"};return _react2.default.createElement(_react2.default.Fragment,{key:recentlyAccessedItem.id},separator,_react2.default.createElement(_eui.EuiFlexItem,{className:"recentlyAccessedItem",style:style,grow:!1},_react2.default.createElement(_eui.EuiToolTip,{position:"bottom",content:recentlyAccessedItem.label},_react2.default.createElement(_eui.EuiLink,{className:"recentlyAccessedLongLink",href:recentlyAccessedItem.link},recentlyAccessedItem.label))))},_this.renderRecentlyAccessed=function(){if(_this.props.recentlyAccessed.length<=NUM_LONG_LINKS)return _this.props.recentlyAccessed.map(function(item,index){var includeSeparator=!0;return 0===index&&(includeSeparator=!1),_this.renderLongLink(item,includeSeparator)});for(var links=[],i=0;i<NUM_LONG_LINKS;i++){var includeSeparator=!0;0===i&&(includeSeparator=!1),links.push(_this.renderLongLink(_this.props.recentlyAccessed[i],includeSeparator))}return links},_this.state={isPopoverOpen:!1},_this}return _inherits(RecentlyAccessed,_Component),_createClass(RecentlyAccessed,[{key:"render",value:function(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Recently viewed"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd",wrap:!0},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1,className:"recentlyAccessedFlexItem"},_react2.default.createElement(_eui.EuiFlexGroup,null,this.renderRecentlyAccessed())),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},this.renderDropdown())))}}]),RecentlyAccessed}(_react.Component),recentlyAccessedShape=exports.recentlyAccessedShape=_propTypes2.default.shape({label:_propTypes2.default.string.isRequired,link:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired});RecentlyAccessed.propTypes={recentlyAccessed:_propTypes2.default.arrayOf(recentlyAccessedShape).isRequired}},1519:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTutorial=exports.getTutorials=void 0;var loadTutorials=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetch(baseUrl,{method:"get",credentials:"include",headers:headers});case 3:if(response=_context.sent,!(response.status>=300)){_context.next=6;break}throw new Error("Request failed with status code: "+response.status);case 6:return _context.next=8,response.json();case 8:tutorials=_context.sent,turorialsLoaded=!0,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),_notify.notify.error("Unable to load tutorials, "+_context.t0);case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])}));return function(){return _ref.apply(this,arguments)}}(),_lodash=(exports.getTutorials=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(turorialsLoaded){_context2.next=3;break}return _context2.next=3,loadTutorials();case 3:return _context2.abrupt("return",_lodash2.default.cloneDeep(tutorials));case 4:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}(),exports.getTutorial=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(id){var tutorial;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(turorialsLoaded){_context3.next=3;break}return _context3.next=3,loadTutorials();case 3:if(!(tutorial=tutorials.find(function(tutorial){return tutorial.id===id}))){_context3.next=6;break}return _context3.abrupt("return",_lodash2.default.cloneDeep(tutorial));case 6:case"end":return _context3.stop()}},_callee3,this)}));return function(_x){return _ref3.apply(this,arguments)}}(),__webpack_require__(1)),_lodash2=_interopRequireDefault(_lodash),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_notify=__webpack_require__(10),baseUrl=_chrome2.default.addBasePath("/api/kibana/home/tutorials"),headers=new Headers;headers.append("Accept","application/json"),headers.append("Content-Type","application/json"),headers.append("kbn-xsrf","kibana");var tutorials=[],turorialsLoaded=!1},1520:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Content(_ref){var text=_ref.text;return _react2.default.createElement(_markdown.Markdown,{className:"euiText euiTextColor--subdued tutorialContent",markdown:text,openLinksInNewTab:!0,whiteListedRules:whiteListedRules})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Content=Content;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_markdown=__webpack_require__(1359),whiteListedRules=["backticks","emphasis","link","list"];Content.propTypes={text:_propTypes2.default.string.isRequired}},1521:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5160)},1522:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5170)},1523:function(module,exports,__webpack_require__){"use strict";var _prop_filter=__webpack_require__(672);__webpack_require__(2).uiModules.get("kibana").filter("aggFilter",function(){return(0,_prop_filter.propFilter)("name")})},1524:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIndices=void 0;var _lodash=(exports.getIndices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(es,rawPattern,limit){var pattern,params,response,type;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if("*:"!==(pattern=rawPattern.trim())){_context.next=3;break}return _context.abrupt("return",[]);case 3:if(""!==pattern){_context.next=5;break}return _context.abrupt("return",[]);case 5:if(!pattern.startsWith(",")){_context.next=7;break}return _context.abrupt("return",[]);case 7:if(limit){_context.next=9;break}throw"`getIndices()` was called without the required `limit` parameter.";case 9:return params={index:pattern,ignore:[404],body:{size:0,aggs:{indices:{terms:{field:"_index",size:limit}}}}},_context.prev=10,_context.next=13,es.search(params);case 13:if((response=_context.sent)&&!response.error&&response.aggregations){_context.next=16;break}return _context.abrupt("return",[]);case 16:return _context.abrupt("return",(0,_lodash.sortBy)(response.aggregations.indices.buckets.map(function(bucket){return{name:bucket.key}}),"name"));case 19:if(_context.prev=19,_context.t0=_context.catch(10),"index_not_found_exception"!==(type=(0,_lodash.get)(_context.t0,"body.error.caused_by.type"))){_context.next=24;break}return _context.abrupt("return",[]);case 24:throw _context.t0;case 25:case"end":return _context.stop()}},_callee,this,[[10,19]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),__webpack_require__(1))},1525:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5268)},1526:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_samples=__webpack_require__(5272),_samples2=_interopRequireDefault(_samples);_modules.uiModules.get("kibana").directive("fieldFormatEditorSamples",function($sce,Promise){return{restrict:"E",template:_samples2.default,require:["?^ngModel","^fieldEditor"],scope:!0,link:function($scope,$el,attrs,cntrls){function validity(err){$scope.error=err,ngModelCntrl&&ngModelCntrl.$setValidity("patternExecutes",!err)}var ngModelCntrl=cntrls[0];$scope.samples=null,$scope.$bind("inputs",attrs.inputs),$scope.$watchMulti(["editor.field.format","[]inputs"],function(){$scope.samples=null;var field=$scope.editor.field;field&&field.format&&Promise.try(function(){var converter=field.format.getConverterFor("html");$scope.samples=_lodash2.default.map($scope.inputs,function(input){return[input,$sce.trustAsHtml(converter(input))]})}).then(validity,validity)})}}})},1527:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RegistryFieldFormatEditorsProvider=void 0;var _registry=__webpack_require__(92);exports.RegistryFieldFormatEditorsProvider=(0,_registry.uiRegistry)({name:"fieldFormatEditors",index:["formatId"],constructor:function(){this.getEditor=function(formatId){return this.byFormatId[formatId]}}})},1528:function(module,exports,__webpack_require__){"use strict";function getSupportedScriptingLanguages(){return["painless"]}function getDeprecatedScriptingLanguages(){return["expression"]}function GetEnabledScriptingLanguagesProvider($http){return function(){return $http.get(_chrome2.default.addBasePath("/api/kibana/scripts/languages")).then(function(res){return res.data}).catch(function(){return notify.error("Error getting available scripting languages from Elasticsearch"),[]})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSupportedScriptingLanguages=getSupportedScriptingLanguages,exports.getDeprecatedScriptingLanguages=getDeprecatedScriptingLanguages,exports.GetEnabledScriptingLanguagesProvider=GetEnabledScriptingLanguagesProvider;var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_notify=__webpack_require__(10),notify=new _notify.Notifier({location:"Scripting Language Service"})},1529:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getFirstSortableField(indexPattern,fieldNames){return fieldNames.filter(function(fieldName){return META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.byName[fieldName]||{sortable:!1}).sortable})[0]}function reverseSortDirective(sortDirective){return _lodash2.default.isString(sortDirective)?_defineProperty({},sortDirective,"_score"===sortDirective?"asc":"desc"):_lodash2.default.isPlainObject(sortDirective)?_lodash2.default.mapValues(sortDirective,reverseSortDirection):sortDirective}function reverseSortDirection(sortDirection){return _lodash2.default.isPlainObject(sortDirection)?_lodash2.default.assign({},sortDirection,{order:reverseSortDirection(sortDirection.order)}):"asc"===sortDirection?"desc":"asc"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.reverseSortDirective=exports.reverseSortDirection=exports.getFirstSortableField=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),META_FIELD_NAMES=["_seq_no","_doc","_uid"];exports.getFirstSortableField=getFirstSortableField,exports.reverseSortDirection=reverseSortDirection,exports.reverseSortDirective=reverseSortDirective},1530:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _actions=__webpack_require__(5323);Object.defineProperty(exports,"QueryParameterActionsProvider",{enumerable:!0,get:function(){return _actions.QueryParameterActionsProvider}});var _constants=__webpack_require__(1531);Object.defineProperty(exports,"MAX_CONTEXT_SIZE",{enumerable:!0,get:function(){return _constants.MAX_CONTEXT_SIZE}}),Object.defineProperty(exports,"MIN_CONTEXT_SIZE",{enumerable:!0,get:function(){return _constants.MIN_CONTEXT_SIZE}}),Object.defineProperty(exports,"QUERY_PARAMETER_KEYS",{enumerable:!0,get:function(){return _constants.QUERY_PARAMETER_KEYS}});var _state=__webpack_require__(1532);Object.defineProperty(exports,"createInitialQueryParametersState",{enumerable:!0,get:function(){return _state.createInitialQueryParametersState}})},1531:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QUERY_PARAMETER_KEYS=exports.MIN_CONTEXT_SIZE=exports.MAX_CONTEXT_SIZE=void 0;var _state=__webpack_require__(1532);exports.MAX_CONTEXT_SIZE=1e4,exports.MIN_CONTEXT_SIZE=0,exports.QUERY_PARAMETER_KEYS=Object.keys((0,_state.createInitialQueryParametersState)())},1532:function(module,exports,__webpack_require__){"use strict";function createInitialQueryParametersState(defaultStepSize,tieBreakerField){return{anchorUid:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createInitialQueryParametersState=createInitialQueryParametersState},1533:function(module,exports,__webpack_require__){"use strict";function initializeInput($el,$actionsEl,$copyAsCurlEl,output){function sendCurrentRequestToES(){var req_id=++CURRENT_REQ_ID;input.getRequestsInRange(function(requests){if(req_id==CURRENT_REQ_ID&&(output.update(""),0!=requests.length)){var isMultiRequest=requests.length>1,isFirstRequest=!0;!function sendNextRequest(){if(req_id==CURRENT_REQ_ID&&0!=requests.length){var req=requests.shift(),es_path=req.url,es_method=req.method,es_data=utils.collapseLiteralStrings(req.data.join("\n"));es_data&&(es_data+="\n"),es.send(es_method,es_path,es_data).always(function(dataOrjqXHR,textStatus,jqXhrORerrorThrown){function modeForContentType(contentType){return contentType.indexOf("text/plain")>=0?"ace/mode/text":contentType.indexOf("application/yaml")>=0?"ace/mode/yaml":null}if(req_id==CURRENT_REQ_ID){var xhr;if(xhr=dataOrjqXHR.promise?dataOrjqXHR:jqXhrORerrorThrown,"number"==typeof xhr.status&&(xhr.status>=200&&xhr.status<300||404==xhr.status)){history.addToHistory(es_path,es_method,es_data);var value=xhr.responseText,mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||"");if(null===mode||"application/json"===mode)try{value=utils.expandLiteralStrings(JSON.stringify(JSON.parse(value),null,2))}catch(e){}var warnings=xhr.getResponseHeader("warning");if(warnings){value=utils.extractDeprecationMessages(warnings).join("\n")+"\n"+value}isMultiRequest&&(value="# "+req.method+" "+req.url+"\n"+value),isFirstRequest?output.update(value,mode):output.append("\n"+value),isFirstRequest=!1,sendNextRequest()}else{var _value=void 0,_mode=void 0;if(xhr.responseText){if(_value=xhr.responseText,_mode=modeForContentType(xhr.getAllResponseHeaders("Content-Type")||""),"{"==_value[0])try{_value=JSON.stringify(JSON.parse(_value),null,2)}catch(e){}}else _value="Request failed to get to the server (status code: "+xhr.status+")",_mode="ace/mode/text";isMultiRequest&&(_value="# "+req.method+" "+req.url+"\n"+_value),isFirstRequest?output.update(_value,_mode):output.append("\n"+_value)}}})}}()}})}input=new SenseEditor($el),_modules.uiModules.get("app/sense").setupResizeCheckerForRootEditors($el,input,output),input.autocomplete=new Autocomplete(input),input.$actions=$actionsEl,input.commands.addCommand({name:"auto indent request",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function(){input.autoIndent()}}),input.commands.addCommand({name:"move to previous request start or end",bindKey:{win:"Ctrl-Up",mac:"Command-Up"},exec:function(){input.moveToPreviousRequestEdge()}}),input.commands.addCommand({name:"move to next request start or end",bindKey:{win:"Ctrl-Down",mac:"Command-Down"},exec:function(){input.moveToNextRequestEdge()}}),function(){function copyText(text){var node=$('<textarea style="height:1px"></textarea').val(text).appendTo(document.body).select();document.execCommand("copy"),node.remove()}if(!document.queryCommandSupported("copy"))return void $copyAsCurlEl.hide();$copyAsCurlEl.click(function(){copyText($copyAsCurlEl.attr("data-clipboard-text"))}),input.$actions.on("mouseenter",function(){$(this).hasClass("open")||input.getRequestsAsCURL(function(text){$copyAsCurlEl.attr("data-clipboard-text",text)})})}();var CURRENT_REQ_ID=0;return input.commands.addCommand({name:"send to elasticsearch",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:sendCurrentRequestToES}),settings&&settings.applyCurrentSettings(input),input.focus(),input.highlightCurrentRequestsAndUpdateActionBar(),input.sendCurrentRequestToES=sendCurrentRequestToES,__webpack_require__(5352)(input,output),input}function getInput(){return input}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initializeInput=initializeInput,exports.default=getInput;var _modules=__webpack_require__(2),$=__webpack_require__(12);__webpack_require__(124),__webpack_require__(5338);var Autocomplete=__webpack_require__(5339),SenseEditor=__webpack_require__(825),settings=__webpack_require__(414),utils=__webpack_require__(824),es=__webpack_require__(823),history=__webpack_require__(826),input=void 0},1534:function(module,exports,__webpack_require__){"use strict";function expandAliases(indicesOrAliases){if(!indicesOrAliases)return indicesOrAliases;"string"==typeof indicesOrAliases&&(indicesOrAliases=[indicesOrAliases]),indicesOrAliases=$.map(indicesOrAliases,function(iOrA){return per_alias_indexes[iOrA]?per_alias_indexes[iOrA]:[iOrA]});var ret=[].concat.apply([],indicesOrAliases);ret.sort();var last;return ret=$.map(ret,function(v){var r=last==v?null:v;return last=v,r}),ret.length>1?ret:ret[0]}function getFields(indices,types){var ret=[];if("string"==typeof(indices=expandAliases(indices))){var type_dict=per_index_types[indices];if(!type_dict)return[];if("string"==typeof types){var f=type_dict[types];ret=f||[]}else $.each(type_dict,function(type,fields){types&&0!=types.length&&-1==$.inArray(type,types)||ret.push(fields)}),ret=[].concat.apply([],ret)}else $.each(per_index_types,function(index){indices&&0!=indices.length&&-1==$.inArray(index,indices)||ret.push(getFields(index,types))}),ret=[].concat.apply([],ret);return _.uniq(ret,function(f){return f.name+":"+f.type})}function getTypes(indices){var ret=[];if("string"==typeof(indices=expandAliases(indices))){var type_dict=per_index_types[indices];if(!type_dict)return[];$.each(type_dict,function(type){ret.push(type)})}else $.each(per_index_types,function(index){indices&&-1==$.inArray(index,indices)||ret.push(getTypes(index))}),ret=[].concat.apply([],ret);return _.uniq(ret)}function getIndices(include_aliases){var ret=[];return $.each(per_index_types,function(index){ret.push(index)}),(void 0===include_aliases||include_aliases)&&$.each(per_alias_indexes,function(alias){ret.push(alias)}),ret}function getFieldNamesFromFieldMapping(field_name,field_mapping){function applyPathSettings(nested_field_names){return"full"==(field_mapping.path||"full")?$.map(nested_field_names,function(f){return f.name=field_name+"."+f.name,f}):nested_field_names}if(0==field_mapping.enabled)return[];var nested_fields;if(field_mapping.properties)return nested_fields=getFieldNamesFromTypeMapping(field_mapping),applyPathSettings(nested_fields);var field_type=field_mapping.type;if("multi_field"===field_type)return nested_fields=$.map(field_mapping.fields,function(field_mapping,field_name){return getFieldNamesFromFieldMapping(field_name,field_mapping)}),applyPathSettings(nested_fields);var ret={name:field_name,type:field_type};return field_mapping.index_name&&(ret.name=field_mapping.index_name),field_mapping.fields?(nested_fields=$.map(field_mapping.fields,function(field_mapping,field_name){return getFieldNamesFromFieldMapping(field_name,field_mapping)}),nested_fields=applyPathSettings(nested_fields),nested_fields.unshift(ret),nested_fields):[ret]}function getFieldNamesFromTypeMapping(type_mapping){var field_list=$.map(type_mapping.properties||{},function(field_mapping,field_name){return getFieldNamesFromFieldMapping(field_name,field_mapping)});return _.uniq(field_list,function(f){return f.name+":"+f.type})}function loadMappings(mappings){per_index_types={},$.each(mappings,function(index,index_mapping){var normalized_index_mappings={};index_mapping.mappings&&1===_.keys(index_mapping).length&&(index_mapping=index_mapping.mappings),$.each(index_mapping,function(type_name,type_mapping){var field_list=getFieldNamesFromTypeMapping(type_mapping);normalized_index_mappings[type_name]=field_list}),per_index_types[index]=normalized_index_mappings})}function loadAliases(aliases){per_alias_indexes={},$.each(aliases||{},function(index,index_aliases){per_index_types[index]=per_index_types[index]||{},$.each(index_aliases.aliases||{},function(alias){if(alias!==index){var cur_aliases=per_alias_indexes[alias];cur_aliases||(cur_aliases=[],per_alias_indexes[alias]=cur_aliases),cur_aliases.push(index)}})}),per_alias_indexes._all=getIndices(!1)}function clear(){per_index_types={},per_alias_indexes={}}function retrieveAutocompleteInfoFromServer(){var mappingPromise,aliasesPromise,autocompleteSettings=settings.getAutocomplete();autocompleteSettings.fields?mappingPromise=es.send("GET","_mapping",null,null,!0):(mappingPromise=new $.Deferred,mappingPromise.resolve()),autocompleteSettings.indices?aliasesPromise=es.send("GET","_aliases",null,null,!0):(aliasesPromise=new $.Deferred,aliasesPromise.resolve()),$.when(mappingPromise,aliasesPromise).done(function(mappings,aliases){mappings?mappings[0].length<10485760?mappings=JSON.parse(mappings[0]):(console.warn("mapping size is larger than 10MB ("+mappings[0].length/1024/1024+" MB). ignoring.."),mappings={}):mappings={},loadMappings(mappings),aliases?loadAliases(JSON.parse(aliases[0])):(aliases=[{}],loadAliases({})),$(mappingObj).trigger("update",[mappings[0],aliases[0]])})}function autocomplete_retriever(){retrieveAutocompleteInfoFromServer(),setTimeout(function(){autocomplete_retriever()},6e4)}Object.defineProperty(exports,"__esModule",{value:!0});var $=__webpack_require__(12),_=__webpack_require__(1),es=__webpack_require__(823),settings=__webpack_require__(414),per_index_types={},per_alias_indexes=[],mappingObj={};exports.default=_.assign(mappingObj,{getFields:getFields,getIndices:getIndices,getTypes:getTypes,loadMappings:loadMappings,loadAliases:loadAliases,expandAliases:expandAliases,clear:clear,startRetrievingAutoCompleteInfo:autocomplete_retriever}),module.exports=exports.default},1535:function(module,exports,__webpack_require__){"use strict";function initializeOutput($el){output=ace.require("ace/ace").edit($el[0]);var outputMode=new OutputMode.Mode;return output.resize=smartResize(output),output.update=function(val,mode,cb){"function"==typeof mode&&(cb=mode,mode=void 0);var session=output.getSession();session.setMode(val?mode||outputMode:"ace/mode/text"),session.setValue(val),"function"==typeof cb&&setTimeout(cb)},output.append=function(val,fold_previous,cb){"function"==typeof fold_previous&&(cb=fold_previous,fold_previous=!0),_lodash2.default.isUndefined(fold_previous)&&(fold_previous=!0);var session=output.getSession(),lastLine=session.getLength();fold_previous&&(output.moveCursorTo(Math.max(0,lastLine-1),0),session.toggleFold(!1)),session.insert({row:lastLine,column:0},"\n"+val),output.moveCursorTo(lastLine+1,0),"function"==typeof cb&&setTimeout(cb)},output.$el=$el,function(session){session.setMode("ace/mode/text"),session.setFoldStyle("markbeginend"),session.setTabSize(2),session.setUseWrapMode(!0)}(output.getSession()),output.setShowPrintMargin(!1),output.setReadOnly(!0),settings&&settings.applyCurrentSettings(output),output}function getOutput(){return output}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initializeOutput=initializeOutput,exports.default=getOutput;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),ace=__webpack_require__(124),settings=__webpack_require__(414),OutputMode=__webpack_require__(5341),smartResize=__webpack_require__(1539),output=void 0},1536:function(module,exports,__webpack_require__){"use strict";function OutputJsonHighlightRules(){this.$rules={},x_json.addToRules(this,"start"),this.$rules.start.unshift({token:"warning",regex:"#!.*$"},{token:"comment",regex:"#.*$"}),this.constructor===OutputJsonHighlightRules&&this.normalizeRules()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OutputJsonHighlightRules=OutputJsonHighlightRules;var ace=__webpack_require__(124);__webpack_require__(554);var x_json=__webpack_require__(1537),oop=ace.require("ace/lib/oop"),JsonHighlightRules=ace.require("ace/mode/json_highlight_rules").JsonHighlightRules;oop.inherits(OutputJsonHighlightRules,JsonHighlightRules)},1537:function(module,exports,__webpack_require__){"use strict";function addToRules(otherRules,embedUnder){otherRules.$rules=_.defaultsDeep(otherRules.$rules,jsonRules(embedUnder)),otherRules.embedRules(ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addToRules=addToRules;var _=__webpack_require__(1),ScriptHighlightRules=__webpack_require__(1538).ScriptHighlightRules,jsonRules=function(root){root=root||"json";var rules={};return rules[root]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:!1,push:!0},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:!1,push:!0},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:!1,regex:"{",next:root,push:!0},{token:"paren.lparen",merge:!1,regex:"[[(]"},{token:"paren.rparen",merge:!1,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:!1,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}],rules.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}],rules}},1538:function(module,exports,__webpack_require__){"use strict";function ScriptHighlightRules(){this.name="ScriptHighlightRules",this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:painlessKeywords},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScriptHighlightRules=ScriptHighlightRules;var ace=__webpack_require__(124),oop=ace.require("ace/lib/oop"),TextHighlightRules=ace.require("ace/mode/text_highlight_rules").TextHighlightRules,painlessKeywords="def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx";oop.inherits(ScriptHighlightRules,TextHighlightRules)},1539:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(editor){var resize=editor.resize,throttledResize=(0,_lodash.throttle)(function(){resize.call(editor);var userRow=(0,_lodash.get)(throttledResize,"topRow",0);0!==userRow&&editor.renderer.scrollToLine(userRow,!1,!1,function(){})},35);return throttledResize};var _lodash=__webpack_require__(1);module.exports=exports.default},1540:function(module,exports,__webpack_require__){"use strict";function AcceptEndpointComponent(endpoint,parent){engine.SharedComponent.call(this,endpoint.id,parent),this.endpoint=endpoint}function UrlPatternMatcher(parametrizedComponentFactories){this.rootComponent=new engine.SharedComponent("ROOT"),this.parametrizedComponentFactories=parametrizedComponentFactories||{}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlPatternMatcher=UrlPatternMatcher;var _=__webpack_require__(1),engine=__webpack_require__(416),URL_PATH_END_MARKER=exports.URL_PATH_END_MARKER="__url_path_end__";AcceptEndpointComponent.prototype=_.create(engine.SharedComponent.prototype,{constructor:AcceptEndpointComponent}),function(cls){cls.match=function(token,context,editor){if(token!==URL_PATH_END_MARKER)return null;if(this.endpoint.methods&&-1===_.indexOf(this.endpoint.methods,context.method))return null;var r=Object.getPrototypeOf(cls).match.call(this,token,context,editor);return r.context_values=r.context_values||{},r.context_values.endpoint=this.endpoint,_.isNumber(this.endpoint.priority)&&(r.priority=this.endpoint.priority),r}}(AcceptEndpointComponent.prototype),function(cls){cls.addEndpoint=function(pattern,endpoint){var c,active_component=this.rootComponent,endpointComponents=endpoint.url_components||{},partList=pattern.split("/");_.each(partList,function(part,partIndex){if(part.search(/^{.+}$/)>=0){if(part=part.substr(1,part.length-2),active_component.getComponent(part))return void(active_component=active_component.getComponent(part));(c=endpointComponents[part])?Array.isArray(c)?c=new engine.ListComponent(part,c,active_component):_.isObject(c)&&"list"===c.type?c=new engine.ListComponent(part,c.list,active_component,c.multi_valued,c.allow_non_valid):(console.warn("incorrectly configured url component ",part," in endpoint",endpoint),c=new engine.SharedComponent(part)):c=(c=this.parametrizedComponentFactories[part])?c(part,active_component):new engine.SimpleParamComponent(part,active_component),active_component=c}else{var s,lookAhead=part;for(partIndex++;partIndex<partList.length&&(s=partList[partIndex],!(s.indexOf("{")>=0));partIndex++)lookAhead+="/"+s;active_component.getComponent(part)?(active_component=active_component.getComponent(part),active_component.addOption(lookAhead)):(c=new engine.ConstantComponent(part,active_component,lookAhead),active_component=c)}},this),new AcceptEndpointComponent(endpoint,active_component)},cls.getTopLevelComponents=function(){return this.rootComponent.next}}(UrlPatternMatcher.prototype)},1541:function(module,exports,__webpack_require__){module.exports=__webpack_require__(124).require},1542:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(822),SenseEditor=__webpack_require__(825),exampleText=__webpack_require__(5361).trim();__webpack_require__(2).get("app/sense").directive("senseHelpExample",function(){return{restrict:"E",link:function($scope,$el){$el.text(exampleText),$scope.editor=new SenseEditor($el),(0,_sense_editor_resize.useResizeChecker)($scope,$el,$scope.editor),$scope.editor.setReadOnly(!0),$scope.editor.$blockScrolling=1/0,$scope.$on("$destroy",function(){$scope.editor&&$scope.editor.destroy()})}}})},1543:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5400)},1544:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.BASE_PATH="/management/elasticsearch/index_management/"},1545:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadIndexData=exports.loadIndexMapping=exports.loadIndexStats=exports.updateIndexSettings=exports.loadIndexSettings=exports.clearCacheIndices=exports.forcemergeIndices=exports.flushIndices=exports.refreshIndices=exports.openIndices=exports.deleteIndices=exports.closeIndices=exports.reloadIndices=exports.loadIndices=exports.setHttpClient=void 0;var loadIndexSettings=(exports.loadIndices=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,httpClient.get(apiPrefix+"/indices");case 2:return response=_context.sent,_context.abrupt("return",response.data);case 4:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),exports.reloadIndices=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexNames){var body,response;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return body={indexNames:indexNames},_context2.next=3,httpClient.post(apiPrefix+"/indices/reload",body);case 3:return response=_context2.sent,_context2.abrupt("return",response.data);case 5:case"end":return _context2.stop()}},_callee2,this)}));return function(_x){return _ref2.apply(this,arguments)}}(),exports.closeIndices=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indices){var body,response;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return body={indices:indices},_context3.next=3,httpClient.post(apiPrefix+"/indices/close",body);case 3:return response=_context3.sent,_context3.abrupt("return",response.data);case 5:case"end":return _context3.stop()}},_callee3,this)}));return function(_x2){return _ref3.apply(this,arguments)}}(),exports.deleteIndices=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(indices){var body,response;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return body={indices:indices},_context4.next=3,httpClient.post(apiPrefix+"/indices/delete",body);case 3:return response=_context4.sent,_context4.abrupt("return",response.data);case 5:case"end":return _context4.stop()}},_callee4,this)}));return function(_x3){return _ref4.apply(this,arguments)}}(),exports.openIndices=function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(indices){var body,response;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return body={indices:indices},_context5.next=3,httpClient.post(apiPrefix+"/indices/open",body);case 3:return response=_context5.sent,_context5.abrupt("return",response.data);case 5:case"end":return _context5.stop()}},_callee5,this)}));return function(_x4){return _ref5.apply(this,arguments)}}(),exports.refreshIndices=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(indices){var body,response;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return body={indices:indices},_context6.next=3,httpClient.post(apiPrefix+"/indices/refresh",body);case 3:return response=_context6.sent,_context6.abrupt("return",response.data);case 5:case"end":return _context6.stop()}},_callee6,this)}));return function(_x5){return _ref6.apply(this,arguments)}}(),exports.flushIndices=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(indices){var body,response;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return body={indices:indices},_context7.next=3,httpClient.post(apiPrefix+"/indices/flush",body);case 3:return response=_context7.sent,_context7.abrupt("return",response.data);case 5:case"end":return _context7.stop()}},_callee7,this)}));return function(_x6){return _ref7.apply(this,arguments)}}(),exports.forcemergeIndices=function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(indices,maxNumSegments){var body,response;return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return body={indices:indices,maxNumSegments:maxNumSegments},_context8.next=3,httpClient.post(apiPrefix+"/indices/forcemerge",body);case 3:return response=_context8.sent,_context8.abrupt("return",response.data);case 5:case"end":return _context8.stop()}},_callee8,this)}));return function(_x7,_x8){return _ref8.apply(this,arguments)}}(),exports.clearCacheIndices=function(){var _ref9=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(indices){var body,response;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return body={indices:indices},_context9.next=3,httpClient.post(apiPrefix+"/indices/clear_cache",body);case 3:return response=_context9.sent,_context9.abrupt("return",response.data);case 5:case"end":return _context9.stop()}},_callee9,this)}));return function(_x9){return _ref9.apply(this,arguments)}}(),exports.loadIndexSettings=function(){var _ref10=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(indexName){var response;return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,httpClient.get(apiPrefix+"/settings/"+indexName);case 2:return response=_context10.sent,_context10.abrupt("return",response.data);case 4:case"end":return _context10.stop()}},_callee10,this)}));return function(_x10){return _ref10.apply(this,arguments)}}()),loadIndexStats=(exports.updateIndexSettings=function(){var _ref11=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(indexName,settings){return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,httpClient.put(apiPrefix+"/settings/"+indexName,settings);case 2:return _context11.abrupt("return",_context11.sent);case 3:case"end":return _context11.stop()}},_callee11,this)}));return function(_x11,_x12){return _ref11.apply(this,arguments)}}(),exports.loadIndexStats=function(){var _ref12=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(indexName){var response;return regeneratorRuntime.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,httpClient.get(apiPrefix+"/stats/"+indexName);case 2:return response=_context12.sent,_context12.abrupt("return",response.data);case 4:case"end":return _context12.stop()}},_callee12,this)}));return function(_x13){return _ref12.apply(this,arguments)}}()),loadIndexMapping=exports.loadIndexMapping=function(){var _ref13=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(indexName){var response;return regeneratorRuntime.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,httpClient.get(apiPrefix+"/mapping/"+indexName);case 2:return response=_context13.sent,_context13.abrupt("return",response.data);case 4:case"end":return _context13.stop()}},_callee13,this)}));return function(_x14){return _ref13.apply(this,arguments)}}(),_chrome=(exports.loadIndexData=function(){var _ref14=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(type,indexName){return regeneratorRuntime.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:_context14.t0=type,_context14.next="Mapping"===_context14.t0?3:"Settings"===_context14.t0?4:"Stats"===_context14.t0?5:6;break;case 3:return _context14.abrupt("return",loadIndexMapping(indexName));case 4:return _context14.abrupt("return",loadIndexSettings(indexName));case 5:return _context14.abrupt("return",loadIndexStats(indexName));case 6:case"end":return _context14.stop()}},_callee14,this)}));return function(_x15,_x16){return _ref14.apply(this,arguments)}}(),__webpack_require__(8)),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),httpClient=void 0,apiPrefix=(exports.setHttpClient=function(client){httpClient=client},_chrome2.default.addBasePath("/api/index_management"))},1546:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_list=__webpack_require__(5412);Object.defineProperty(exports,"IndexList",{enumerable:!0,get:function(){return _index_list.IndexList}})},1547:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deleteIndices=exports.deleteIndicesSuccess=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_notify=__webpack_require__(10),deleteIndicesSuccess=exports.deleteIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS");exports.deleteIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,(0,_services.deleteIndices)(indexNames);case 3:_context.next=8;break;case 5:return _context.prev=5,_context.t0=_context.catch(0),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 8:_notify.toastNotifications.addSuccess("Successfully deleted: ["+indexNames.join(", ")+"]"),dispatch(deleteIndicesSuccess({indexNames:indexNames}));case 10:case"end":return _context.stop()}},_callee,void 0,[[0,5]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},1548:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.reloadIndices=exports.reloadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(30),_selectors=__webpack_require__(274),_services=__webpack_require__(97),_notify=__webpack_require__(10),reloadIndicesSuccess=exports.reloadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS");exports.reloadIndices=function(indexNames){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState){var indices;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return indices=void 0,indexNames=indexNames||(0,_selectors.getIndexNamesForCurrentPage)(getState()),_context.prev=2,_context.next=5,(0,_services.reloadIndices)(indexNames);case 5:indices=_context.sent,_context.next=11;break;case 8:return _context.prev=8,_context.t0=_context.catch(2),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 11:if(!(indices&&indices.length>0)){_context.next=15;break}return _context.abrupt("return",dispatch(reloadIndicesSuccess({indices:indices})));case 15:return _context.abrupt("return",_notify.toastNotifications.addSuccess("Failed to refresh current page of indices."));case 16:case"end":return _context.stop()}},_callee,void 0,[[2,8]])}));return function(_x,_x2){return _ref.apply(this,arguments)}}()}},1549:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateIndexSettings=exports.updateIndexSettingsError=exports.updateIndexSettingsSuccess=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_reload_indices=__webpack_require__(1548),_notify=__webpack_require__(10),updateIndexSettingsSuccess=exports.updateIndexSettingsSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS"),updateIndexSettingsError=exports.updateIndexSettingsError=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR");exports.updateIndexSettings=function(_ref){var indexName=_ref.indexName,settings=_ref.settings;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var _ref3,error,message;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0===Object.keys(settings).length){_context.next=14;break}return _context.prev=1,_context.next=4,(0,_services.updateIndexSettings)(indexName,settings);case 4:if(_ref3=_context.sent,error=_ref3.error,message=_ref3.message,!error){_context.next=9;break}return _context.abrupt("return",dispatch(updateIndexSettingsError({error:message})));case 9:_context.next=14;break;case 11:return _context.prev=11,_context.t0=_context.catch(1),_context.abrupt("return",dispatch(updateIndexSettingsError({error:_context.t0.data.message})));case 14:dispatch(updateIndexSettingsSuccess()),dispatch((0,_reload_indices.reloadIndices)([indexName])),_notify.toastNotifications.addSuccess("Successfully updated settings for index "+indexName);case 17:case"end":return _context.stop()}},_callee,void 0,[[1,11]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},1550:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeDetailPanel=exports.openDetailPanel=void 0;var _reduxActions=__webpack_require__(30);exports.openDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL"),exports.closeDetailPanel=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL")},1551:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addLicense=void 0;var _reduxActions=__webpack_require__(30);exports.addLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE")},1552:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.uploadLicense=exports.uploadLicenseStatus=void 0;var _reduxActions=__webpack_require__(30),_add_license=__webpack_require__(1551),_base_path=__webpack_require__(733),_es=__webpack_require__(830),_add_error_message=__webpack_require__(831),uploadLicenseStatus=exports.uploadLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS"),genericUploadError="Error encountered uploading license:",dispatchFromResponse=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(response,dispatch,currentLicenseType,newLicenseType,_ref){var error,acknowledged,licenseStatus,acknowledge,messages,first,xPackInfo=_ref.xPackInfo,kbnUrl=_ref.kbnUrl;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(error=response.error,acknowledged=response.acknowledged,licenseStatus=response.license_status,acknowledge=response.acknowledge,!error){_context.next=6;break}dispatch(uploadLicenseStatus({})),dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+error.reason)),_context.next=28;break;case 6:if(!acknowledged){_context.next=25;break}if("invalid"!==licenseStatus){_context.next=12;break}dispatch(uploadLicenseStatus({})),dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license is not valid for this product.")),_context.next=23;break;case 12:if("expired"!==licenseStatus){_context.next=17;break}dispatch(uploadLicenseStatus({})),dispatch((0,_add_error_message.addUploadErrorMessage)("The supplied license has expired.")),_context.next=23;break;case 17:return _context.next=19,xPackInfo.refresh();case 19:dispatch((0,_add_license.addLicense)(xPackInfo.get("license"))),dispatch(uploadLicenseStatus({})),kbnUrl.change(_base_path.BASE_PATH),window.location.reload();case 23:_context.next=28;break;case 25:messages=Object.values(acknowledge).slice(1),first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        "+newLicenseType.toUpperCase()+" license.  Review the list of features below.",dispatch(uploadLicenseStatus({acknowledge:!0,messages:[first].concat(_toConsumableArray(messages))}));case 28:case"end":return _context.stop()}},_callee,void 0)}));return function(_x,_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)}}();exports.uploadLicense=function(licenseString,currentLicenseType,acknowledge){return function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,services){var newLicenseType,response,message;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:dispatch(uploadLicenseStatus({applying:!0})),newLicenseType=null,_context2.prev=2,newLicenseType=JSON.parse(licenseString).license.type,_context2.next=10;break;case 6:return _context2.prev=6,_context2.t0=_context2.catch(2),dispatch(uploadLicenseStatus({})),_context2.abrupt("return",dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" Check your license file.")));case 10:return _context2.prev=10,_context2.next=13,(0,_es.putLicense)(licenseString,acknowledge);case 13:return response=_context2.sent,_context2.next=16,dispatchFromResponse(response,dispatch,currentLicenseType,newLicenseType,services);case 16:_context2.next=23;break;case 18:_context2.prev=18,_context2.t1=_context2.catch(10),message=_context2.t1.responseJSON&&_context2.t1.responseJSON.error.reason?_context2.t1.responseJSON.error.reason:"Unknown error.",dispatch(uploadLicenseStatus({})),dispatch((0,_add_error_message.addUploadErrorMessage)(genericUploadError+" "+message));case 23:case"end":return _context2.stop()}},_callee2,void 0,[[2,6],[10,18]])}));return function(_x6,_x7,_x8){return _ref3.apply(this,arguments)}}()}},1553:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.startBasicLicense=exports.cancelStartBasicLicense=exports.startBasicLicenseStatus=void 0;var _reduxActions=__webpack_require__(30),_es=__webpack_require__(830),_notify=__webpack_require__(10),startBasicLicenseStatus=exports.startBasicLicenseStatus=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS");exports.cancelStartBasicLicense=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE"),exports.startBasicLicense=function(currentLicenseType,ack){return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch,getState,_ref){var _ref3,acknowledged,basic_was_started,error_message,acknowledge,messages,first,xPackInfo=_ref.xPackInfo;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_es.startBasic)(ack);case 2:if(_ref3=_context.sent,acknowledged=_ref3.acknowledged,basic_was_started=_ref3.basic_was_started,error_message=_ref3.error_message,acknowledge=_ref3.acknowledge,!acknowledged){_context.next=17;break}if(!basic_was_started){_context.next=14;break}return _context.next=11,xPackInfo.refresh();case 11:window.location.reload(),_context.next=15;break;case 14:return _context.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 15:_context.next=20;break;case 17:messages=Object.values(acknowledge).slice(1).map(function(item){return item[0]}),first="Some functionality will be lost if you replace your \n        "+currentLicenseType.toUpperCase()+" license with a\n        BASIC license.  Review the list of features below.",dispatch(startBasicLicenseStatus({acknowledge:!0,messages:[first].concat(_toConsumableArray(messages))}));case 20:case"end":return _context.stop()}},_callee,void 0)}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}()}},1554:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.startLicenseTrial=exports.loadTrialStatus=exports.trialStatusLoaded=void 0;var _reduxActions=__webpack_require__(30),_es=__webpack_require__(830),_notify=__webpack_require__(10),trialStatusLoaded=exports.trialStatusLoaded=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED");exports.loadTrialStatus=function(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var trialOK;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_es.canStartTrial)();case 2:trialOK=_context.sent,dispatch(trialStatusLoaded(trialOK));case 4:case"end":return _context.stop()}},_callee,void 0)}));return function(_x){return _ref.apply(this,arguments)}}()},exports.startLicenseTrial=function(){return function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(dispatch,getState,_ref2){var _ref4,trial_was_started,error_message,xPackInfo=_ref2.xPackInfo;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_es.startTrial)();case 2:if(_ref4=_context2.sent,trial_was_started=_ref4.trial_was_started,error_message=_ref4.error_message,!trial_was_started){_context2.next=11;break}return _context2.next=8,xPackInfo.refresh();case 8:window.location.reload(),_context2.next=12;break;case 11:return _context2.abrupt("return",_notify.toastNotifications.addDanger(error_message));case 12:case"end":return _context2.stop()}},_callee2,void 0)}));return function(_x2,_x3,_x4){return _ref3.apply(this,arguments)}}()}},1555:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _pipeline=__webpack_require__(5516);Object.defineProperty(exports,"Pipeline",{enumerable:!0,get:function(){return _pipeline.Pipeline}})},1556:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5525)},1557:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5528)},1558:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5545)},1559:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _pipeline_list_item=__webpack_require__(5553);Object.defineProperty(exports,"PipelineListItem",{enumerable:!0,get:function(){return _pipeline_list_item.PipelineListItem}})},1560:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5557)},1561:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5559)},1562:function(module,exports,__webpack_require__){"use strict";function msToPretty(ms,precision){return precision||(precision=1),(ms=Number(ms))<1e3?ms.toFixed(precision)+"ms":(ms/=1e3)<60?ms.toFixed(precision)+"s":(ms/=60)<60?ms.toFixed(precision)+"min":(ms/=60)<24?ms.toFixed(precision)+"hr":(ms/=24,ms.toFixed(precision)+"d")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.msToPretty=msToPretty},1563:function(module,exports,__webpack_require__){"use strict";function isRoleEnabled(role){return(0,_lodash.get)(role,"transient_metadata.enabled",!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRoleEnabled=isRoleEnabled;var _lodash=__webpack_require__(1)},1564:function(module,exports,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(13),__webpack_require__(5602),__webpack_require__(5604),__webpack_require__(5605),__webpack_require__(2).uiModules.get("kibana",["ui.select","ngSanitize"])},1565:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TIME_UNITS={SECOND:"s",MINUTE:"m",HOUR:"h",DAY:"d"}},1566:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _execute_details=__webpack_require__(5643);Object.defineProperty(exports,"ExecuteDetails",{enumerable:!0,get:function(){return _execute_details.ExecuteDetails}})},1567:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _watch=__webpack_require__(5644);Object.defineProperty(exports,"Watch",{enumerable:!0,get:function(){return _watch.Watch}})},1568:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _action=__webpack_require__(5648);Object.defineProperty(exports,"Action",{enumerable:!0,get:function(){return _action.Action}})},1569:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_time_units_label=__webpack_require__(5663);Object.defineProperty(exports,"getTimeUnitsLabel",{enumerable:!0,get:function(){return _get_time_units_label.getTimeUnitsLabel}})},1570:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _watch_history_item=__webpack_require__(5666);Object.defineProperty(exports,"WatchHistoryItem",{enumerable:!0,get:function(){return _watch_history_item.WatchHistoryItem}})},1571:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5669)},1572:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5695)},1573:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5705)},1574:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5737)},1575:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5757)},177:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5760)},202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_names=__webpack_require__(5507);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:!0,get:function(){return _index_names.INDEX_NAMES}});var _type_names=__webpack_require__(5508);Object.defineProperty(exports,"TYPE_NAMES",{enumerable:!0,get:function(){return _type_names.TYPE_NAMES}});var _routes=__webpack_require__(5509);Object.defineProperty(exports,"ROUTES",{enumerable:!0,get:function(){return _routes.ROUTES}});var _pagination=__webpack_require__(5510);Object.defineProperty(exports,"PAGINATION",{enumerable:!0,get:function(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(5511);Object.defineProperty(exports,"PLUGIN",{enumerable:!0,get:function(){return _plugin.PLUGIN}});var _es_scroll_settings=__webpack_require__(5512);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:!0,get:function(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _tooltips=__webpack_require__(5513);Object.defineProperty(exports,"TOOLTIPS",{enumerable:!0,get:function(){return _tooltips.TOOLTIPS}});var _pipeline=__webpack_require__(5514);Object.defineProperty(exports,"PIPELINE",{enumerable:!0,get:function(){return _pipeline.PIPELINE}});var _monitoring=__webpack_require__(5515);Object.defineProperty(exports,"MONITORING",{enumerable:!0,get:function(){return _monitoring.MONITORING}})},203:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5762)},232:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5671)},274:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSortField=exports.isSortAscending=exports.showSystemIndices=exports.getFilter=exports.getCurrentPage=exports.getHasPreviousPage=exports.getHasNextPage=exports.getIndexNamesForCurrentPage=exports.getPageOfIndices=exports.getPager=exports.getTotalItems=exports.getIndexStatusByIndexName=exports.getTableState=exports.getRowStatuses=exports.getFilteredIds=exports.getIndexByIndexName=exports.getIndices=exports.getDetailPanelIndexName=exports.isDetailPanelOpen=exports.getDetailPanelType=exports.getDetailPanelError=exports.getDetailPanelData=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_eui=__webpack_require__(5),_reselect=__webpack_require__(175),_index_status_labels=__webpack_require__(5428),_services=__webpack_require__(97),getDetailPanelType=(exports.getDetailPanelData=function(state){return state.detailPanel.data},exports.getDetailPanelError=function(state){return state.detailPanel.error},exports.getDetailPanelType=function(state){return state.detailPanel.panelType}),getIndices=(exports.isDetailPanelOpen=function(state){return!!getDetailPanelType(state)},exports.getDetailPanelIndexName=function(state){return state.detailPanel.indexName},exports.getIndices=function(state){return state.indices.byId}),getRowStatuses=(exports.getIndexByIndexName=function(state,name){return getIndices(state)[name]},exports.getFilteredIds=function(state){return state.indices.filteredIds},exports.getRowStatuses=function(state){return state.rowStatus}),getTableState=exports.getTableState=function(state){return state.tableState},getFilteredIndices=(exports.getIndexStatusByIndexName=function(state,indexName){return(getIndices(state)[indexName]||{}).status},(0,_reselect.createSelector)(getIndices,getRowStatuses,getTableState,function(indices,rowStatuses,tableState){var indexArray=Object.keys(indices).map(function(indexName){return indices[indexName]}),systemFilteredIndexes=tableState.showSystemIndices?indexArray:indexArray.filter(function(index){return!(index.name+"").startsWith(".")});return(0,_services.filterItems)(["name","uuid"],tableState.filter,systemFilteredIndexes)})),getTotalItems=exports.getTotalItems=(0,_reselect.createSelector)(getFilteredIndices,function(filteredIndices){return Object.keys(filteredIndices).length}),getPager=exports.getPager=(0,_reselect.createSelector)(getTableState,getTotalItems,function(_ref2,totalItems){var currentPage=_ref2.currentPage,pageSize=_ref2.pageSize;return new _eui.Pager(totalItems,pageSize,currentPage)}),getPageOfIndices=exports.getPageOfIndices=(0,_reselect.createSelector)(getFilteredIndices,getTableState,getRowStatuses,getPager,function(filteredIndices,tableState,rowStatuses,pager){var sortedIndexes=(0,_services.sortTable)(filteredIndices,tableState.sortField,tableState.isSortAscending),firstItemIndex=pager.firstItemIndex,lastItemIndex=pager.lastItemIndex;return sortedIndexes.slice(firstItemIndex,lastItemIndex+1).map(function(index){var status=_index_status_labels.indexStatusLabels[rowStatuses[index.name]]||rowStatuses[index.name]||_index_status_labels.indexStatusLabels[index.status]||index.status;return _extends({},index,{status:status})})});exports.getIndexNamesForCurrentPage=(0,_reselect.createSelector)(getPageOfIndices,function(pageOfIndices){return pageOfIndices.map(function(index){return index.name})}),exports.getHasNextPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasNextPage}),exports.getHasPreviousPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.hasPreviousPage}),exports.getCurrentPage=(0,_reselect.createSelector)(getPager,function(pager){return pager.currentPage}),exports.getFilter=(0,_reselect.createSelector)(getTableState,function(_ref3){return _ref3.filter}),exports.showSystemIndices=(0,_reselect.createSelector)(getTableState,function(_ref4){return _ref4.showSystemIndices}),exports.isSortAscending=(0,_reselect.createSelector)(getTableState,function(_ref5){return _ref5.isSortAscending}),exports.getSortField=(0,_reselect.createSelector)(getTableState,function(_ref6){return _ref6.sortField})},332:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _plugin=__webpack_require__(5407);Object.defineProperty(exports,"PLUGIN",{enumerable:!0,get:function(){return _plugin.PLUGIN}});var _base_path=__webpack_require__(1544);Object.defineProperty(exports,"BASE_PATH",{enumerable:!0,get:function(){return _base_path.BASE_PATH}});var _index_statuses=__webpack_require__(5408);Object.keys(_index_statuses).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _index_statuses[key]}})})},333:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStartBasicMessages=exports.startBasicLicenseNeedsAcknowledgement=exports.startTrialError=exports.shouldShowStartTrial=exports.getUploadErrorMessage=exports.isInvalid=exports.uploadMessages=exports.isApplying=exports.uploadNeedsAcknowledgement=exports.shouldShowRequestTrialExtension=exports.shouldShowRevertToBasicLicense=exports.isImminentExpiration=exports.isExpired=exports.getExpirationDateFormatted=exports.getExpirationDate=exports.getExpirationMillis=exports.getLicenseType=exports.getLicense=exports.licenseManagement=exports.WARNING_THRESHOLD_IN_DAYS=void 0;var _redux=__webpack_require__(117),_license=__webpack_require__(5476),_upload_status=__webpack_require__(5477),_start_basic_license_status=__webpack_require__(5478),_upload_error_message=__webpack_require__(5479),_trial_status=__webpack_require__(5480),_momentTimezone=__webpack_require__(109),_momentTimezone2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_momentTimezone),WARNING_THRESHOLD_IN_DAYS=exports.WARNING_THRESHOLD_IN_DAYS=25,getLicense=(exports.licenseManagement=(0,_redux.combineReducers)({license:_license.license,uploadStatus:_upload_status.uploadStatus,uploadErrorMessage:_upload_error_message.uploadErrorMessage,trialStatus:_trial_status.trialStatus,startBasicStatus:_start_basic_license_status.startBasicStatus}),exports.getLicense=function(state){return state.license}),getLicenseType=exports.getLicenseType=function(state){return getLicense(state).type},getExpirationMillis=exports.getExpirationMillis=function(state){return getLicense(state).expiryDateInMillis},getExpirationDate=exports.getExpirationDate=function(state){return"basic"===getLicenseType(state)?null:getExpirationMillis(state)?_momentTimezone2.default.tz(getExpirationMillis(state),_momentTimezone2.default.tz.guess()):null},isExpired=(exports.getExpirationDateFormatted=function(state){var expirationDate=getExpirationDate(state);return expirationDate?expirationDate.format("LLL z"):null},exports.isExpired=function(state){return(new Date).getTime()>getExpirationMillis(state)}),isImminentExpiration=exports.isImminentExpiration=function(state){var now=new Date,expirationDate=getExpirationDate(state);return expirationDate&&expirationDate.isAfter(now)&&expirationDate.diff(now,"days")<=WARNING_THRESHOLD_IN_DAYS};exports.shouldShowRevertToBasicLicense=function(state){return"trial"===getLicense(state).type||isImminentExpiration(state)||isExpired(state)},exports.shouldShowRequestTrialExtension=function(state){return"trial"===getLicense(state).type&&(isImminentExpiration(state)||isExpired(state))},exports.uploadNeedsAcknowledgement=function(state){return!!state.uploadStatus.acknowledge},exports.isApplying=function(state){return!!state.uploadStatus.applying},exports.uploadMessages=function(state){return state.uploadStatus.messages},exports.isInvalid=function(state){return!!state.uploadStatus.invalid},exports.getUploadErrorMessage=function(state){return state.uploadErrorMessage},exports.shouldShowStartTrial=function(state){var licenseType=getLicenseType(state);return state.trialStatus.canStartTrial&&"trial"!==licenseType&&("platinum"!==licenseType||isExpired(state))},exports.startTrialError=function(state){return state.trialStatus.startTrialError},exports.startBasicLicenseNeedsAcknowledgement=function(state){return!!state.startBasicStatus.acknowledge},exports.getStartBasicMessages=function(state){return state.startBasicStatus.messages}},35:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _action_modes=__webpack_require__(5626);Object.defineProperty(exports,"ACTION_MODES",{enumerable:!0,get:function(){return _action_modes.ACTION_MODES}});var _action_states=__webpack_require__(5627);Object.defineProperty(exports,"ACTION_STATES",{enumerable:!0,get:function(){return _action_states.ACTION_STATES}});var _action_types=__webpack_require__(5628);Object.defineProperty(exports,"ACTION_TYPES",{enumerable:!0,get:function(){return _action_types.ACTION_TYPES}});var _agg_types=__webpack_require__(5629);Object.defineProperty(exports,"AGG_TYPES",{enumerable:!0,get:function(){return _agg_types.AGG_TYPES}});var _comparators=__webpack_require__(5630);Object.defineProperty(exports,"COMPARATORS",{enumerable:!0,get:function(){return _comparators.COMPARATORS}});var _es_scroll_settings=__webpack_require__(5631);Object.defineProperty(exports,"ES_SCROLL_SETTINGS",{enumerable:!0,get:function(){return _es_scroll_settings.ES_SCROLL_SETTINGS}});var _index_names=__webpack_require__(5632);Object.defineProperty(exports,"INDEX_NAMES",{enumerable:!0,get:function(){return _index_names.INDEX_NAMES}});var _lists=__webpack_require__(5633);Object.defineProperty(exports,"LISTS",{enumerable:!0,get:function(){return _lists.LISTS}});var _pagination=__webpack_require__(5634);Object.defineProperty(exports,"PAGINATION",{enumerable:!0,get:function(){return _pagination.PAGINATION}});var _plugin=__webpack_require__(5635);Object.defineProperty(exports,"PLUGIN",{enumerable:!0,get:function(){return _plugin.PLUGIN}});var _refresh_intervals=__webpack_require__(5636);Object.defineProperty(exports,"REFRESH_INTERVALS",{enumerable:!0,get:function(){return _refresh_intervals.REFRESH_INTERVALS}});var _routes=__webpack_require__(5637);Object.defineProperty(exports,"ROUTES",{enumerable:!0,get:function(){return _routes.ROUTES}});var _sort_orders=__webpack_require__(5638);Object.defineProperty(exports,"SORT_ORDERS",{enumerable:!0,get:function(){return _sort_orders.SORT_ORDERS}});var _time_units=__webpack_require__(1565);Object.defineProperty(exports,"TIME_UNITS",{enumerable:!0,get:function(){return _time_units.TIME_UNITS}});var _watch_state_comments=__webpack_require__(5639);Object.defineProperty(exports,"WATCH_STATE_COMMENTS",{enumerable:!0,get:function(){return _watch_state_comments.WATCH_STATE_COMMENTS}});var _watch_history=__webpack_require__(5640);Object.defineProperty(exports,"WATCH_HISTORY",{enumerable:!0,get:function(){return _watch_history.WATCH_HISTORY}});var _watch_states=__webpack_require__(5641);Object.defineProperty(exports,"WATCH_STATES",{enumerable:!0,get:function(){return _watch_states.WATCH_STATES}});var _watch_types=__webpack_require__(5642);Object.defineProperty(exports,"WATCH_TYPES",{enumerable:!0,get:function(){return _watch_types.WATCH_TYPES}})},414:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getFontSize(){return storage.get("font_size",14)}function setFontSize(size){return storage.set("font_size",size),applyCurrentSettings(),!0}function getWrapMode(){return storage.get("wrap_mode",!0)}function setWrapMode(mode){return storage.set("wrap_mode",mode),applyCurrentSettings(),!0}function getAutocomplete(){return storage.get("autocomplete_settings",{fields:!0,indices:!0})}function setAutocomplete(settings){return storage.set("autocomplete_settings",settings),!0}function applyCurrentSettings(editor){void 0===editor&&(applyCurrentSettings((0,_input2.default)()),applyCurrentSettings((0,_output2.default)())),editor&&(editor.getSession().setUseWrapMode(getWrapMode()),editor.$el.css("font-size",getFontSize()+"px"))}function getCurrentSettings(){return{autocomplete:getAutocomplete(),wrapMode:getWrapMode(),fontSize:parseFloat(getFontSize())}}function updateSettings(_ref){var fontSize=_ref.fontSize,wrapMode=_ref.wrapMode,autocomplete=_ref.autocomplete;return setFontSize(fontSize),setWrapMode(wrapMode),setAutocomplete(autocomplete),(0,_input2.default)().focus(),getCurrentSettings()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAutocomplete=getAutocomplete,exports.applyCurrentSettings=applyCurrentSettings,exports.getCurrentSettings=getCurrentSettings,exports.updateSettings=updateSettings;var _input=__webpack_require__(1533),_input2=_interopRequireDefault(_input),_output=__webpack_require__(1535),_output2=_interopRequireDefault(_output),storage=__webpack_require__(415)},415:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_require=__webpack_require__(1),transform=_require.transform,_keys=_require.keys,startsWith=_require.startsWith,Storage=function(){function Storage(engine,prefix){_classCallCheck(this,Storage),this.engine=engine,this.prefix=prefix}return _createClass(Storage,[{key:"encode",value:function(val){return JSON.stringify(val)}},{key:"decode",value:function(val){if("string"==typeof val)return JSON.parse(val)}},{key:"encodeKey",value:function(key){return""+this.prefix+key}},{key:"decodeKey",value:function(key){if(startsWith(key,this.prefix))return""+key.slice(this.prefix.length)}},{key:"set",value:function(key,val){return this.engine.setItem(this.encodeKey(key),this.encode(val)),val}},{key:"has",value:function(key){return null!=this.engine.getItem(this.encodeKey(key))}},{key:"get",value:function(key,_default){return this.has(key)?this.decode(this.engine.getItem(this.encodeKey(key))):_default}},{key:"delete",value:function(key){return this.engine.removeItem(this.encodeKey(key))}},{key:"keys",value:function(){var _this=this;return transform(_keys(this.engine),function(ours,key){var ourKey=_this.decodeKey(key);null!=ourKey&&ours.push(ourKey)})}}]),Storage}(),instance=new Storage(localStorage,"sense:");exports.default=instance,module.exports=exports.default},416:function(module,exports,__webpack_require__){"use strict";function AutocompleteComponent(name){this.name=name}function SharedComponent(name,parent){AutocompleteComponent.call(this,name),this._nextDict={},parent&&parent.addComponent(this),this._parent=parent}function ListComponent(name,list,parent,multi_valued,allow_non_valid_values){SharedComponent.call(this,name,parent),this.listGenerator=Array.isArray(list)?function(){return list}:list,this.multi_valued=!!_.isUndefined(multi_valued)||multi_valued,this.allow_non_valid_values=!_.isUndefined(allow_non_valid_values)&&allow_non_valid_values}function SimpleParamComponent(name,parent){SharedComponent.call(this,name,parent)}function ConstantComponent(name,parent,options){SharedComponent.call(this,name,parent),_.isString(options)&&(options=[options]),this.options=options||[name]}function wrapComponentWithDefaults(component,defaults){function Wrapper(){}Wrapper.prototype={};for(var key in component)_.isFunction(component[key])&&(Wrapper.prototype[key]=_.bindKey(component,key));return Wrapper.prototype.getTerms=function(context,editor){var result=component.getTerms(context,editor);return result?result=_.map(result,function(term){return _.isObject(term)||(term={name:term}),_.defaults(term,defaults)},this):result},new Wrapper}function passThroughContext(context,extensionList){function PTC(){}PTC.prototype=context;var result=new PTC;return extensionList&&(extensionList.unshift(result),_.assign.apply(_,extensionList),extensionList.shift()),result}function WalkingState(parent_name,components,contextExtensionList,depth,priority){this.parent_name=parent_name,this.components=components,this.contextExtensionList=contextExtensionList,this.depth=depth||0,this.priority=priority}function walkTokenPath(tokenPath,walkingStates,context,editor){if(!tokenPath||0===tokenPath.length)return walkingStates;var token=tokenPath[0],nextWalkingStates=[];return tracer("starting token evaluation ["+token+"]"),_.each(walkingStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){tracer("evaluating ["+token+"] with ["+component.name+"]",component);var result=component.match(token,contextForState,editor);if(result&&!_.isEmpty(result)){tracer("matched ["+token+"] with:",result);var next,extensionList;next=result.next&&!Array.isArray(result.next)?[result.next]:result.next,result.context_values?(extensionList=[],[].push.apply(extensionList,ws.contextExtensionList),extensionList.push(result.context_values)):extensionList=ws.contextExtensionList;var priority=ws.priority;_.isNumber(result.priority)&&(priority=_.isNumber(priority)?Math.min(priority,result.priority):result.priority),nextWalkingStates.push(new WalkingState(component.name,next,extensionList,ws.depth+1,priority))}})}),0==nextWalkingStates.length?_.map(walkingStates,function(ws){return new WalkingState(ws.name,[],ws.contextExtensionList)}):walkTokenPath(tokenPath.slice(1),nextWalkingStates,context,editor)}function resolvePathToComponents(tokenPath,context,editor,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);return[].concat.apply([],_.pluck(walkStates,"components"))}function populateContext(tokenPath,context,editor,includeAutoComplete,components){var walkStates=walkTokenPath(tokenPath,[new WalkingState("ROOT",components,[])],context,editor);if(includeAutoComplete){var autoCompleteSet=[];_.each(walkStates,function(ws){var contextForState=passThroughContext(context,ws.contextExtensionList);_.each(ws.components,function(component){_.each(component.getTerms(contextForState,editor),function(term){_.isObject(term)||(term={name:term}),autoCompleteSet.push(term)})})}),autoCompleteSet=_.uniq(autoCompleteSet,!1),context.autoCompleteSet=autoCompleteSet}if(0!==walkStates.length){var wsToUse;walkStates=_.sortBy(walkStates,function(ws){return _.isNumber(ws.priority)?ws.priority:Number.MAX_VALUE}),wsToUse=_.find(walkStates,function(ws){return _.isEmpty(ws.components)}),!wsToUse&&walkStates.length>1&&!includeAutoComplete&&console.info("more then one context active for current path, but autocomplete isn't requested",walkStates),wsToUse||(wsToUse=walkStates[0]),_.each(wsToUse.contextExtensionList,function(extension){_.assign(context,extension)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutocompleteComponent=AutocompleteComponent,exports.wrapComponentWithDefaults=wrapComponentWithDefaults,exports.resolvePathToComponents=resolvePathToComponents,exports.populateContext=populateContext;var _=__webpack_require__(1);AutocompleteComponent.prototype.getTerms=function(){return[]},AutocompleteComponent.prototype.match=function(){return{next:this.next}},SharedComponent.prototype=_.create(AutocompleteComponent.prototype,{constructor:SharedComponent}),function(cls){cls.getComponent=function(name){return(this._nextDict[name]||[void 0])[0]},cls.addComponent=function(component){var current=this._nextDict[component.name]||[];current.push(component),this._nextDict[component.name]=current,this.next=[].concat.apply([],_.values(this._nextDict))}}(SharedComponent.prototype),ListComponent.prototype=_.create(SharedComponent.prototype,{constructor:ListComponent}),function(cls){cls.getTerms=function(context,editor){if(!this.multi_valued&&context.otherTokenValues)return[];var already_set=context.otherTokenValues||[];_.isString(already_set)&&(already_set=[already_set]);var ret=_.difference(this.listGenerator(context,editor),already_set);if(this.getDefaultTermMeta()){var meta=this.getDefaultTermMeta();ret=_.map(ret,function(term){return _.isString(term)&&(term={name:term}),_.defaults(term,{meta:meta})})}return ret},cls.validateTokens=function(tokens){if(!this.multi_valued&&tokens.length>1)return!1;var list=this.listGenerator();return!_.any(tokens,function(token){return-1==list.indexOf(token)})},cls.getContextKey=function(){return this.name},cls.getDefaultTermMeta=function(){return this.name},cls.match=function(token,context,editor){if(Array.isArray(token)||(token=[token]),!this.allow_non_valid_values&&!this.validateTokens(token,context,editor))return null;var result=Object.getPrototypeOf(cls).match.call(this,token,context,editor);return result.context_values=result.context_values||{},result.context_values[this.getContextKey()]=token,result}}(ListComponent.prototype),SimpleParamComponent.prototype=_.create(SharedComponent.prototype,{constructor:SimpleParamComponent}),function(cls){cls.match=function(token,context,editor){var result=Object.getPrototypeOf(cls).match.call(this,token,context,editor);return result.context_values=result.context_values||{},result.context_values[this.name]=token,result}}(SimpleParamComponent.prototype),ConstantComponent.prototype=_.create(SharedComponent.prototype,{constructor:ConstantComponent}),exports.SharedComponent=SharedComponent,exports.ListComponent=ListComponent,exports.SimpleParamComponent=SimpleParamComponent,exports.ConstantComponent=ConstantComponent,function(cls){cls.getTerms=function(){return this.options},cls.addOption=function(options){Array.isArray(options)||(options=[options]),[].push.apply(this.options,options),this.options=_.uniq(this.options)},cls.match=function(token,context,editor){return token!==this.name?null:Object.getPrototypeOf(cls).match.call(this,token,context,editor)}}(ConstantComponent.prototype);var tracer=function(){window.engine_trace&&console.log.call(console,arguments)}},417:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MANAGEMENT_PATH=exports.MANAGEMENT_PATH="/management",SECURITY_PATH=exports.SECURITY_PATH=MANAGEMENT_PATH+"/security",ROLES_PATH=exports.ROLES_PATH=SECURITY_PATH+"/roles",USERS_PATH=(exports.EDIT_ROLES_PATH=ROLES_PATH+"/edit",exports.USERS_PATH=SECURITY_PATH+"/users");exports.EDIT_USERS_PATH=USERS_PATH+"/edit"},418:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5624)},419:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _threshold_watch_base=__webpack_require__(5769);Object.defineProperty(exports,"ThresholdWatchBaseController",{enumerable:!0,get:function(){return _threshold_watch_base.ThresholdWatchBaseController}})},420:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionDefaultsRegistryProvider=void 0;var _registry=__webpack_require__(92);exports.ActionDefaultsRegistryProvider=(0,_registry.uiRegistry)({name:"actionDefaultsRegistry"})},5127:function(module,exports,__webpack_require__){"use strict";__webpack_require__(8),__webpack_require__(5128),__webpack_require__(134),__webpack_require__(5331),__webpack_require__(5332),__webpack_require__(135),__webpack_require__(136),__webpack_require__(5365),__webpack_require__(5366),__webpack_require__(5367),__webpack_require__(137),__webpack_require__(5405),__webpack_require__(1334),__webpack_require__(1344),__webpack_require__(1345),__webpack_require__(378),__webpack_require__(139),__webpack_require__(1347),__webpack_require__(379),__webpack_require__(380),__webpack_require__(1353),__webpack_require__(381),__webpack_require__(5467),__webpack_require__(5499),__webpack_require__(5501),__webpack_require__(5536),__webpack_require__(1358),__webpack_require__(1360),__webpack_require__(1361),__webpack_require__(140),__webpack_require__(5563),__webpack_require__(141),__webpack_require__(5564),__webpack_require__(1403),__webpack_require__(1408),__webpack_require__(1409),__webpack_require__(1410),__webpack_require__(142),__webpack_require__(5565),__webpack_require__(5566),__webpack_require__(5573),__webpack_require__(143),__webpack_require__(5588),__webpack_require__(144),__webpack_require__(145),__webpack_require__(5589),__webpack_require__(5590),__webpack_require__(146),__webpack_require__(1411),__webpack_require__(1412),__webpack_require__(1413),__webpack_require__(1417),__webpack_require__(1418),__webpack_require__(1419),__webpack_require__(110),__webpack_require__(147),__webpack_require__(5611),__webpack_require__(697),__webpack_require__(1420),__webpack_require__(5612),__webpack_require__(5613),__webpack_require__(5621),__webpack_require__(5690),__webpack_require__(5858),__webpack_require__(5873),__webpack_require__(148),__webpack_require__(149),__webpack_require__(150),__webpack_require__(5890),__webpack_require__(1425),__webpack_require__(1429),__webpack_require__(1430),__webpack_require__(781),__webpack_require__(1431),__webpack_require__(1432),__webpack_require__(8).bootstrap()},5128:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2);__webpack_require__(186),__webpack_require__(5129),__webpack_require__(5155),__webpack_require__(5182),__webpack_require__(1286),__webpack_require__(5206),__webpack_require__(5307),__webpack_require__(5310),__webpack_require__(5314),__webpack_require__(492),__webpack_require__(516),__webpack_require__(259),__webpack_require__(653);var _notify=__webpack_require__(10);__webpack_require__(154);var _kibana_root_controller=__webpack_require__(1333);_routes2.default.enable(),_routes2.default.otherwise({redirectTo:"/"+_chrome2.default.getInjected("kbnDefaultAppId","discover")}),_chrome2.default.setRootController("kibana",_kibana_root_controller.KibanaRootController),_modules.uiModules.get("kibana").run(_notify.Notifier.pullMessageFromUrl)},5129:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getRoute(){return{template:_home_ng_wrapper2.default,controller:function($scope,Private){$scope.addBasePath=_chrome2.default.addBasePath,$scope.directories=Private(_feature_catalogue.FeatureCatalogueRegistryProvider).inTitleOrder,$scope.recentlyAccessed=_persisted_log.recentlyAccessed.get().map(function(item){return item.link=_chrome2.default.addBasePath(item.link),item})}}}__webpack_require__(5130);var _chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_home_ng_wrapper=__webpack_require__(5131),_home_ng_wrapper2=_interopRequireDefault(_home_ng_wrapper),_feature_catalogue=__webpack_require__(58),_modules=__webpack_require__(2),_home_app=__webpack_require__(5132),_persisted_log=__webpack_require__(130);_modules.uiModules.get("apps/home",[]).directive("homeApp",function(reactDirective){return reactDirective(_home_app.HomeApp)}),_routes2.default.when("/home",getRoute()),_routes2.default.when("/home/feature_directory",getRoute()),_routes2.default.when("/home/tutorial_directory/:tab?",getRoute()),_routes2.default.when("/home/tutorial/:id",getRoute())},5130:function(module,exports){},5131:function(module,exports){module.exports='<home-app\n  add-base-path="addBasePath"\n  directories="directories"\n  recently-accessed="recentlyAccessed"\n/>\n'},5132:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HomeApp(_ref){var addBasePath=_ref.addBasePath,directories=_ref.directories,recentlyAccessed=_ref.recentlyAccessed,isCloudEnabled=_chrome2.default.getInjected("isCloudEnabled",!1),apmUiEnabled=_chrome2.default.getInjected("apmUiEnabled",!0),renderTutorialDirectory=function(props){return _react2.default.createElement(_tutorial_directory.TutorialDirectory,{addBasePath:addBasePath,openTab:props.match.params.tab,isCloudEnabled:isCloudEnabled})},renderTutorial=function(props){return _react2.default.createElement(_tutorial.Tutorial,{addBasePath:addBasePath,isCloudEnabled:isCloudEnabled,getTutorial:_load_tutorials.getTutorial,replaceTemplateStrings:_replace_template_strings.replaceTemplateStrings,tutorialId:props.match.params.id})};return _react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial/:id",render:renderTutorial}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/tutorial_directory/:tab?",render:renderTutorialDirectory}),_react2.default.createElement(_reactRouterDom.Route,{path:"/home/feature_directory"},_react2.default.createElement(_feature_directory.FeatureDirectory,{addBasePath:addBasePath,directories:directories})),_react2.default.createElement(_reactRouterDom.Route,{path:"/home"},_react2.default.createElement(_home.Home,{addBasePath:addBasePath,directories:directories,apmUiEnabled:apmUiEnabled,recentlyAccessed:recentlyAccessed}))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HomeApp=HomeApp;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_home=__webpack_require__(5133),_feature_directory=__webpack_require__(5137),_tutorial_directory=__webpack_require__(5138),_tutorial=__webpack_require__(5139),_reactRouterDom=__webpack_require__(158),_load_tutorials=__webpack_require__(1519),_replace_template_strings=__webpack_require__(5153),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_recently_accessed=__webpack_require__(1518);HomeApp.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired}},5133:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Home(_ref){var addBasePath=_ref.addBasePath,directories=_ref.directories,apmUiEnabled=_ref.apmUiEnabled,recentlyAccessed=_ref.recentlyAccessed,renderDirectories=function(category){return directories.filter(function(directory){return directory.showOnHomePage&&directory.category===category}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{style:{minHeight:64},key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconUrl:addBasePath(directory.icon),title:directory.title,url:addBasePath(directory.path)}))})},recentlyAccessedPanel=void 0;return recentlyAccessed.length>0&&(recentlyAccessedPanel=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_recently_accessed.RecentlyAccessed,{recentlyAccessed:recentlyAccessed}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}))),_react2.default.createElement(_eui.EuiPage,{className:"home"},recentlyAccessedPanel,_react2.default.createElement(_add_data.AddData,{addBasePath:addBasePath,apmUiEnabled:apmUiEnabled}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Visualize and Explore Data")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},renderDirectories(_feature_catalogue.FeatureCatalogueCategory.DATA)))),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Manage and Administer the Elastic Stack")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGrid,{columns:2},renderDirectories(_feature_catalogue.FeatureCatalogueCategory.ADMIN))))),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Didn’t find what you were looking for?")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiButton,{href:"#/home/feature_directory"},"View full directory of Kibana plugins"))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Home=Home;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_synopsis=__webpack_require__(819),_add_data=__webpack_require__(5135),_recently_accessed=__webpack_require__(1518),_eui=__webpack_require__(5),_feature_catalogue=__webpack_require__(58);Home.propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired})),apmUiEnabled:_propTypes2.default.bool.isRequired,recentlyAccessed:_propTypes2.default.arrayOf(_recently_accessed.recentlyAccessedShape).isRequired}},5134:function(module,exports){},5135:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddData(_ref){var addBasePath=_ref.addBasePath,apmUiEnabled=_ref.apmUiEnabled;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h3",null,"Add Data to Kibana")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Use these solutions to quickly turn your data into pre-built dashboards and monitoring systems.")))),_react2.default.createElement(_eui.EuiSpacer,null),function(){var cardStyle={width:"250px",minWidth:"200px",border:"none"};return _react2.default.createElement("div",{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiCardGroup,null,!1!==apmUiEnabled&&function(){return _react2.default.createElement(_components.KuiCard,{style:cardStyle},_react2.default.createElement(_components.KuiCardDescription,null,_react2.default.createElement(_components.KuiCardDescriptionTitle,{"aria-level":"4"},_react2.default.createElement("img",{src:addBasePath("/plugins/kibana/assets/app_apm.svg"),alt:"APM application icon"}),_react2.default.createElement("p",null,"APM")),_react2.default.createElement(_components.KuiCardDescriptionText,null,"APM automatically collects in-depth performance metrics and errors from inside your applications.")),_react2.default.createElement(_components.KuiCardFooter,null,_react2.default.createElement(_eui.EuiButton,{href:"#/home/tutorial/apm"},"Add APM")))}(),_react2.default.createElement(_components.KuiCard,{style:cardStyle},_react2.default.createElement(_components.KuiCardDescription,null,_react2.default.createElement(_components.KuiCardDescriptionTitle,{"aria-level":"4"},_react2.default.createElement("img",{src:addBasePath("/plugins/kibana/assets/app_logging.svg"),alt:"Logging icon"}),_react2.default.createElement("p",null,"Logging")),_react2.default.createElement(_components.KuiCardDescriptionText,null,"Ingest logs from popular data sources and easily visualize in preconfigured dashboards.")),_react2.default.createElement(_components.KuiCardFooter,null,_react2.default.createElement(_eui.EuiButton,{href:"#/home/tutorial_directory/logging"},"Add log data"))),_react2.default.createElement(_components.KuiCard,{style:cardStyle},_react2.default.createElement(_components.KuiCardDescription,null,_react2.default.createElement(_components.KuiCardDescriptionTitle,{"aria-level":"4"},_react2.default.createElement("img",{src:addBasePath("/plugins/kibana/assets/app_monitoring.svg"),alt:"Monitoring icon"}),_react2.default.createElement("p",null,"Metrics")),_react2.default.createElement(_components.KuiCardDescriptionText,null,"Collect metrics from the operating system and services running on your servers.")),_react2.default.createElement(_components.KuiCardFooter,null,_react2.default.createElement(_eui.EuiButton,{href:"#/home/tutorial_directory/metrics"},"Add metric data"))),_react2.default.createElement(_components.KuiCard,{style:cardStyle},_react2.default.createElement(_components.KuiCardDescription,null,_react2.default.createElement(_components.KuiCardDescriptionTitle,{"aria-level":"4"},_react2.default.createElement("img",{src:addBasePath("/plugins/kibana/assets/app_security.svg"),alt:"Security icon"}),_react2.default.createElement("p",null,"Security Analytics")),_react2.default.createElement(_components.KuiCardDescriptionText,null,"Centralize security events for interactive investigation in ready-to-go visualizations.")),_react2.default.createElement(_components.KuiCardFooter,null,_react2.default.createElement(_eui.EuiButton,{href:"#/home/tutorial_directory/security"},"Add security events")))))}(),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("span",{style:{height:38}},"Data already in Elasticsearch?"),_react2.default.createElement(_eui.EuiLink,{style:{marginLeft:8},href:"#/management/kibana/index"},"Set up index patterns")))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddData=AddData;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_components=__webpack_require__(22),_eui=__webpack_require__(5);AddData.propTypes={addBasePath:_propTypes2.default.func.isRequired,apmUiEnabled:_propTypes2.default.bool.isRequired}},5136:function(module,exports){},5137:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_synopsis=__webpack_require__(819),_eui=__webpack_require__(5),_feature_catalogue=__webpack_require__(58),ALL_TAB_ID="all",OTHERS_TAB_ID="others",isOtherCategory=function(directory){return directory.category!==_feature_catalogue.FeatureCatalogueCategory.DATA&&directory.category!==_feature_catalogue.FeatureCatalogueCategory.ADMIN};(exports.FeatureDirectory=function(_React$Component){function FeatureDirectory(props){_classCallCheck(this,FeatureDirectory);var _this=_possibleConstructorReturn(this,(FeatureDirectory.__proto__||Object.getPrototypeOf(FeatureDirectory)).call(this,props));return _this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})},_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{className:"homeDirectoryTab",onClick:function(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})},_this.renderDirectories=function(){return _this.props.directories.filter(function(directory){return _this.state.selectedTabId===ALL_TAB_ID||(_this.state.selectedTabId===OTHERS_TAB_ID?isOtherCategory(directory):_this.state.selectedTabId===directory.category)}).map(function(directory){return _react2.default.createElement(_eui.EuiFlexItem,{key:directory.id},_react2.default.createElement(_synopsis.Synopsis,{description:directory.description,iconUrl:_this.props.addBasePath(directory.icon),title:directory.title,url:_this.props.addBasePath(directory.path),wrapInPanel:!0}))})},_this.tabs=[{id:ALL_TAB_ID,name:"All"},{id:_feature_catalogue.FeatureCatalogueCategory.DATA,name:"Data Exploration & Visualization"},{id:_feature_catalogue.FeatureCatalogueCategory.ADMIN,name:"Administrative"}],props.directories.some(isOtherCategory)&&_this.tabs.push({id:OTHERS_TAB_ID,name:"Other"}),_this.state={selectedTabId:ALL_TAB_ID},_this}return _inherits(FeatureDirectory,_React$Component),_createClass(FeatureDirectory,[{key:"render",value:function(){return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Directory")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,{className:"homeDirectoryTabs"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderDirectories()))}}]),FeatureDirectory}(_react2.default.Component)).propTypes={addBasePath:_propTypes2.default.func.isRequired,directories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,description:_propTypes2.default.string.isRequired,icon:_propTypes2.default.string.isRequired,path:_propTypes2.default.string.isRequired,showOnHomePage:_propTypes2.default.bool.isRequired,category:_propTypes2.default.string.isRequired}))}},5138:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TutorialDirectory=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_synopsis=__webpack_require__(819),_eui=__webpack_require__(5),_load_tutorials=__webpack_require__(1519),ALL="all";(exports.TutorialDirectory=function(_React$Component){function TutorialDirectory(props){_classCallCheck(this,TutorialDirectory);var _this=_possibleConstructorReturn(this,(TutorialDirectory.__proto__||Object.getPrototypeOf(TutorialDirectory)).call(this,props));_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})},_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{className:"homeDirectoryTab",onClick:function(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})},_this.renderTutorials=function(){return _this.state.tutorials.filter(function(tutorial){return _this.state.selectedTabId===ALL||_this.state.selectedTabId===tutorial.category}).map(function(tutorial){return _react2.default.createElement(_eui.EuiFlexItem,{key:tutorial.name},_react2.default.createElement(_synopsis.Synopsis,{iconType:tutorial.euiIconType,description:tutorial.shortDescription,title:tutorial.name,wrapInPanel:!0,url:_this.props.addBasePath("#/home/tutorial/"+tutorial.id)}))})},_this.tabs=[{id:ALL,name:"All"},{id:"logging",name:"Logging"},{id:"metrics",name:"Metrics"},{id:"security",name:"Security Analytics"}];var openTab=ALL;return props.openTab&&_this.tabs.some(function(tab){return tab.id===props.openTab})&&(openTab=props.openTab),_this.state={selectedTabId:openTab,tutorials:[]},_this}return _inherits(TutorialDirectory,_React$Component),_createClass(TutorialDirectory,[{key:"componentWillMount",value:function(){function componentWillMount(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tutorials;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_load_tutorials.getTutorials)();case 2:tutorials=_context.sent,this.props.isCloudEnabled&&(tutorials=tutorials.filter(function(tutorial){return _lodash2.default.has(tutorial,"elasticCloud")})),tutorials.sort(function(a,b){return a.name.toLowerCase().localeCompare(b.name.toLowerCase())}),this.setState({tutorials:tutorials});case 6:case"end":return _context.stop()}},_callee,this)}));return componentWillMount}()},{key:"render",value:function(){return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement("a",{className:"kuiLink",href:"#/home"},"Home"),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Add Data to Kibana")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGrid,{columns:4},this.renderTutorials()))}}]),TutorialDirectory}(_react2.default.Component)).propTypes={addBasePath:_propTypes2.default.func.isRequired,openTab:_propTypes2.default.string,isCloudEnabled:_propTypes2.default.bool.isRequired}},5139:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tutorial=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(5140);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_footer=__webpack_require__(5141),_introduction=__webpack_require__(5142),_instruction_set=__webpack_require__(5143),_radio_button_group=__webpack_require__(5151),_eui=__webpack_require__(5),INSTRUCTIONS_TYPE={ELASTIC_CLOUD:"elasticCloud",ON_PREM:"onPrem",ON_PREM_ELASTIC_CLOUD:"onPremElasticCloud"};(exports.Tutorial=function(_React$Component){function Tutorial(props){_classCallCheck(this,Tutorial);var _this=_possibleConstructorReturn(this,(Tutorial.__proto__||Object.getPrototypeOf(Tutorial)).call(this,props));return _this.getInstructions=function(){if(!_this.state.tutorial)return{instructionSets:[]};switch(_this.state.visibleInstructions){case INSTRUCTIONS_TYPE.ELASTIC_CLOUD:return _this.state.tutorial.elasticCloud;case INSTRUCTIONS_TYPE.ON_PREM:return _this.state.tutorial.onPrem;case INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD:return _this.state.tutorial.onPremElasticCloud;default:throw new Error("Unhandled instruction type "+_this.state.visibleInstructions)}},_this.setParamDefaults=function(){var instructions=_this.getInstructions(),paramValues={};instructions.params&&instructions.params.forEach(function(param){paramValues[param.id]=param.defaultValue}),_this.setState({paramValues:paramValues})},_this.setVisibleInstructions=function(instructionsType){_this.setState({visibleInstructions:instructionsType},_this.setParamDefaults)},_this.setParameter=function(paramId,newValue){_this.setState(function(previousState){var paramValues=_lodash2.default.cloneDeep(previousState.paramValues);return paramValues[paramId]=newValue,{paramValues:paramValues}})},_this.onPrem=function(){_this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM)},_this.onPremElasticCloud=function(){_this.setVisibleInstructions(INSTRUCTIONS_TYPE.ON_PREM_ELASTIC_CLOUD)},_this.renderInstructionSetsToggle=function(){if(!_this.props.isCloudEnabled&&_this.state.tutorial.onPremElasticCloud){var radioButtons=[{onClick:_this.onPrem,label:"Self managed",dataTestSubj:"onPremBtn"},{onClick:_this.onPremElasticCloud,label:"Elastic Cloud",dataTestSubj:"onPremElasticCloudBtn"}];return _react2.default.createElement(_radio_button_group.RadioButtonGroup,{buttons:radioButtons,selectedBtnLabel:radioButtons[0].label})}},_this.renderInstructionSets=function(instructions){var offset=1;return instructions.instructionSets.map(function(instructionSet,index){var currentOffset=offset;return offset+=instructionSet.instructionVariants[0].instructions.length,_react2.default.createElement(_instruction_set.InstructionSet,{title:instructionSet.title,instructionVariants:instructionSet.instructionVariants,offset:currentOffset,params:instructions.params,paramValues:_this.state.paramValues,setParameter:_this.setParameter,replaceTemplateStrings:_this.props.replaceTemplateStrings,key:index})})},_this.renderFooter=function(){var label=void 0,url=void 0;if(_lodash2.default.has(_this.state,"tutorial.artifacts.application"))label=_this.state.tutorial.artifacts.application.label,url=_this.props.addBasePath(_this.state.tutorial.artifacts.application.path);else if(_lodash2.default.has(_this.state,"tutorial.artifacts.dashboards")){var overviewDashboard=_this.state.tutorial.artifacts.dashboards.find(function(dashboard){return dashboard.isOverview});overviewDashboard&&(label=overviewDashboard.linkLabel,url=_this.props.addBasePath("/app/kibana#/dashboard/"+overviewDashboard.id))}if(url&&label)return _react2.default.createElement(_footer.Footer,{label:label,url:url})},_this.state={notFound:!1,paramValues:{},tutorial:null},props.isCloudEnabled?_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ELASTIC_CLOUD:_this.state.visibleInstructions=INSTRUCTIONS_TYPE.ON_PREM,_this}return _inherits(Tutorial,_React$Component),_createClass(Tutorial,[{key:"componentWillMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){function componentDidMount(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var tutorial;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.props.getTutorial(this.props.tutorialId);case 2:if(tutorial=_context.sent,this._isMounted){_context.next=5;break}return _context.abrupt("return");case 5:tutorial?this.setState({tutorial:tutorial},this.setParamDefaults):this.setState({notFound:!0});case 6:case"end":return _context.stop()}},_callee,this)}));return componentDidMount}()},{key:"render",value:function(){var content=void 0;if(this.state.notFound&&(content=_react2.default.createElement("div",{className:"homePanel"},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Unable to find tutorial ",this.props.tutorialId)))),this.state.tutorial){var previewUrl=void 0;this.state.tutorial.previewImagePath&&(previewUrl=this.props.addBasePath(this.state.tutorial.previewImagePath));var exportedFieldsUrl=void 0;_lodash2.default.has(this.state,"tutorial.artifacts.exportedFields")&&(exportedFieldsUrl=this.props.replaceTemplateStrings(this.state.tutorial.artifacts.exportedFields.documentationUrl));var instructions=this.getInstructions();content=_react2.default.createElement("div",null,_react2.default.createElement(_introduction.Introduction,{title:this.state.tutorial.name,description:this.props.replaceTemplateStrings(this.state.tutorial.longDescription),previewUrl:previewUrl,exportedFieldsUrl:exportedFieldsUrl,iconType:this.state.tutorial.euiIconType}),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{className:"text-center"},this.renderInstructionSetsToggle()),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderInstructionSets(instructions),this.renderFooter()))}return _react2.default.createElement(_eui.EuiPage,{className:"home"},_react2.default.createElement(_eui.EuiLink,{href:"#/home"},"Home")," / ",_react2.default.createElement(_eui.EuiLink,{href:"#/home/tutorial_directory"},"Add Data"),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),content)}}]),Tutorial}(_react2.default.Component)).propTypes={addBasePath:_propTypes2.default.func.isRequired,isCloudEnabled:_propTypes2.default.bool.isRequired,getTutorial:_propTypes2.default.func.isRequired,replaceTemplateStrings:_propTypes2.default.func.isRequired,tutorialId:_propTypes2.default.string.isRequired}},5140:function(module,exports){},5141:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Footer(_ref){var url=_ref.url,label=_ref.label;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiHorizontalRule,null),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"When all steps are complete, you're ready to explore your data."))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{fill:!0,href:url},label))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Footer=Footer;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);Footer.propTypes={url:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired}},5142:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Introduction(_ref){var description=_ref.description,previewUrl=_ref.previewUrl,title=_ref.title,exportedFieldsUrl=_ref.exportedFieldsUrl,iconType=_ref.iconType,img=void 0;previewUrl&&(img=_react2.default.createElement(_eui.EuiImage,{size:"l",hasShadow:!0,allowFullScreen:!0,fullScreenIconColor:"dark",alt:"screenshot of primary dashboard.",url:previewUrl}));var exportedFields=void 0;exportedFieldsUrl&&(exportedFields=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiButton,{href:exportedFieldsUrl,target:"_blank",rel:"noopener noreferrer"},"View exported fields")));var icon=void 0;return iconType&&(icon=_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl",style:{marginRight:16}})),_react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h2",null,icon,title)),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_content.Content,{text:description}),exportedFields),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},img))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Introduction=Introduction;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_content=__webpack_require__(1520),_eui=__webpack_require__(5);Introduction.propTypes={description:_propTypes2.default.string.isRequired,title:_propTypes2.default.string.isRequired,previewUrl:_propTypes2.default.string,exportedFieldsUrl:_propTypes2.default.string,iconType:_propTypes2.default.string}},5143:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InstructionSet=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classnames=__webpack_require__(4),_classnames2=_interopRequireDefault(_classnames),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_components=__webpack_require__(22),_instruction=__webpack_require__(5144),_parameter_form=__webpack_require__(5147),_instruction_variant=__webpack_require__(5150),_eui=__webpack_require__(5),InstructionSet=exports.InstructionSet=function(_React$Component){function InstructionSet(props){_classCallCheck(this,InstructionSet);var _this=_possibleConstructorReturn(this,(InstructionSet.__proto__||Object.getPrototypeOf(InstructionSet)).call(this,props));return _this.handleToggleVisibility=function(){_this.setState(function(prevState){return{isParamFormVisible:!prevState.isParamFormVisible}})},_this.onSelectedTabChanged=function(id){_this.setState({selectedTabId:id})},_this.renderTabs=function(){return _this.tabs.map(function(tab,index){return _react2.default.createElement(_eui.EuiTab,{onClick:function(){return _this.onSelectedTabChanged(tab.id)},isSelected:tab.id===_this.state.selectedTabId,key:index},tab.name)})},_this.renderInstructions=function(){var instructionVariant=_this.props.instructionVariants.find(function(variant){return variant.id===_this.state.selectedTabId});if(instructionVariant){var steps=instructionVariant.instructions.map(function(instruction,index){var step=_react2.default.createElement(_instruction.Instruction,{commands:instruction.commands,paramValues:_this.props.paramValues,textPre:instruction.textPre,textPost:instruction.textPost,replaceTemplateStrings:_this.props.replaceTemplateStrings});return{title:instruction.title,children:step,key:index}});return _react2.default.createElement(_eui.EuiSteps,{steps:steps,firstStepNumber:_this.props.offset})}},_this.renderHeader=function(){var paramsVisibilityToggle=void 0;if(_this.props.params){var visibilityToggleClasses=(0,_classnames2.default)("kuiIcon kuiSideBarCollapsibleTitle__caret",{"fa-caret-right":!_this.state.isParamFormVisible,"fa-caret-down":_this.state.isParamFormVisible});paramsVisibilityToggle=_react2.default.createElement("div",{className:"kuiSideBarCollapsibleTitle",style:{cursor:"pointer"}},_react2.default.createElement("div",{"aria-label":"toggle command parameters visibility",className:"kuiSideBarCollapsibleTitle__label",onClick:_this.handleToggleVisibility},_react2.default.createElement("span",{className:visibilityToggleClasses}),_react2.default.createElement("span",{className:"kuiSideBarCollapsibleTitle__text"},"Customize your code snippets")))}return _react2.default.createElement(_components.KuiBar,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiBarSection,null,_react2.default.createElement("div",{className:"kuiTitle"},_this.props.title)),_react2.default.createElement(_components.KuiBarSection,null,paramsVisibilityToggle))},_this.tabs=props.instructionVariants.map(function(variant){return{id:variant.id,name:(0,_instruction_variant.getDisplayText)(variant.id)}}),_this.state={isParamFormVisible:!1},_this.tabs.length>0&&(_this.state.selectedTabId=_this.tabs[0].id),_this}return _inherits(InstructionSet,_React$Component),_createClass(InstructionSet,[{key:"render",value:function(){var paramsForm=void 0;return this.props.params&&this.state.isParamFormVisible&&(paramsForm=_react2.default.createElement(_parameter_form.ParameterForm,{params:this.props.params,paramValues:this.props.paramValues,setParameter:this.props.setParameter})),_react2.default.createElement("div",{className:"kuiVerticalRhythmLarge"},this.renderHeader(),paramsForm,_react2.default.createElement(_eui.EuiTabs,{className:"kuiVerticalRhythm"},this.renderTabs()),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderInstructions())}}]),InstructionSet}(_react2.default.Component),instructionShape=_propTypes2.default.shape({title:_propTypes2.default.string,textPre:_propTypes2.default.string,commands:_propTypes2.default.arrayOf(_propTypes2.default.string),textPost:_propTypes2.default.string}),instructionVariantShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,instructions:_propTypes2.default.arrayOf(instructionShape).isRequired});InstructionSet.propTypes={title:_propTypes2.default.string.isRequired,instructionVariants:_propTypes2.default.arrayOf(instructionVariantShape).isRequired,offset:_propTypes2.default.number.isRequired,params:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func,replaceTemplateStrings:_propTypes2.default.func.isRequired}},5144:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Instruction(_ref){var commands=_ref.commands,paramValues=_ref.paramValues,textPost=_ref.textPost,textPre=_ref.textPre,replaceTemplateStrings=_ref.replaceTemplateStrings,pre=void 0;textPre&&(pre=_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPre)}));var post=void 0;textPost&&(post=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_content.Content,{text:replaceTemplateStrings(textPost)})));var copyButton=void 0,commandBlock=void 0;if(commands){var cmdText=commands.map(function(cmd){return replaceTemplateStrings(cmd,paramValues)}).join("\n");copyButton=_react2.default.createElement(_copy_button.CopyButton,{textToCopy:cmdText}),commandBlock=_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiCodeBlock,{language:"sh"},cmdText))}return _react2.default.createElement("div",{className:"instruction"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},pre),_react2.default.createElement(_eui.EuiFlexItem,{style:{minWidth:114},grow:!1},copyButton)),commandBlock,post,_react2.default.createElement(_eui.EuiSpacer,null))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Instruction=Instruction;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_content=__webpack_require__(1520),_copy_button=__webpack_require__(5145),_eui=__webpack_require__(5);Instruction.propTypes={commands:_propTypes2.default.array,paramValues:_propTypes2.default.object.isRequired,textPost:_propTypes2.default.string,textPre:_propTypes2.default.string,replaceTemplateStrings:_propTypes2.default.func.isRequired}},5145:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CopyButton=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5),_copy_to_clipboard=__webpack_require__(5146),UNCOPIED_MSG="Copy to clipboard";(exports.CopyButton=function(_React$Component){function CopyButton(props){_classCallCheck(this,CopyButton);var _this=_possibleConstructorReturn(this,(CopyButton.__proto__||Object.getPrototypeOf(CopyButton)).call(this,props));return _this.copySnippet=function(){(0,_copy_to_clipboard.copyToClipboard)(_this.props.textToCopy)&&_this.setState({tooltipText:"Copied"})},_this.resetTooltipText=function(){_this.setState({tooltipText:UNCOPIED_MSG})},_this.state={tooltipText:UNCOPIED_MSG},_this}return _inherits(CopyButton,_React$Component),_createClass(CopyButton,[{key:"render",value:function(){return _react2.default.createElement(_eui.EuiToolTip,{content:this.state.tooltipText},_react2.default.createElement(_eui.EuiButton,{size:"s",onClick:this.copySnippet,onMouseOut:this.resetTooltipText},"Copy snippet"))}}]),CopyButton}(_react2.default.Component)).propTypes={textToCopy:_propTypes2.default.string.isRequired}},5146:function(module,exports,__webpack_require__){"use strict";function createHiddenTextElement(text){var textElement=document.createElement("span");return textElement.textContent=text,textElement.style.all="unset",textElement.style.position="fixed",textElement.style.top=0,textElement.style.clip="rect(0, 0, 0, 0)",textElement.style.whiteSpace="pre",textElement.style.webkitUserSelect="text",textElement.style.MozUserSelect="text",textElement.style.msUserSelect="text",textElement.style.userSelect="text",textElement}function copyToClipboard(text){var isCopied=!0,range=document.createRange(),selection=window.getSelection(),elementToBeCopied=createHiddenTextElement(text);return document.body.appendChild(elementToBeCopied),range.selectNode(elementToBeCopied),selection.removeAllRanges(),selection.addRange(range),document.execCommand("copy")||(isCopied=!1,console.warn("Unable to copy to clipboard.")),selection&&("function"==typeof selection.removeRange?selection.removeRange(range):selection.removeAllRanges()),document.body.removeChild(elementToBeCopied),isCopied}Object.defineProperty(exports,"__esModule",{value:!0}),exports.copyToClipboard=copyToClipboard},5147:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParameterForm=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_number_parameter=__webpack_require__(5148),_string_parameter=__webpack_require__(5149),ParameterForm=exports.ParameterForm=function(_React$Component){function ParameterForm(){var _ref,_temp,_this,_ret;_classCallCheck(this,ParameterForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ParameterForm.__proto__||Object.getPrototypeOf(ParameterForm)).call.apply(_ref,[this].concat(args))),_this.renderInputs=function(){return _this.props.params.map(function(param){switch(param.type){case"number":return _react2.default.createElement(_number_parameter.NumberParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});case"string":return _react2.default.createElement(_string_parameter.StringParameter,{key:param.id,id:param.id,label:param.label,value:_this.props.paramValues[param.id],setParameter:_this.props.setParameter});default:throw new Error("Unhandled parameter type "+param.type)}})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ParameterForm,_React$Component),_createClass(ParameterForm,[{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"kuiSideBarSection"},this.renderInputs()))}}]),ParameterForm}(_react2.default.Component),paramsShape=_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired});ParameterForm.propTypes={params:_propTypes2.default.arrayOf(paramsShape).isRequired,paramValues:_propTypes2.default.object.isRequired,setParameter:_propTypes2.default.func.isRequired}},5148:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NumberParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter,handleChange=function(evt){setParameter(id,parseFloat(evt.target.value))};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"number",value:value,onChange:handleChange})))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NumberParameter=NumberParameter;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);NumberParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.number.isRequired,setParameter:_propTypes2.default.func.isRequired}},5149:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StringParameter(_ref){var id=_ref.id,label=_ref.label,value=_ref.value,setParameter=_ref.setParameter,handleChange=function(evt){setParameter(id,evt.target.value)};return _react2.default.createElement("div",{className:"kuiSideBarFormRow"},_react2.default.createElement("label",{className:"kuiSideBarFormRow__label"},label),_react2.default.createElement("div",{className:"kuiSideBarFormRow__control kuiFieldGroupSection--wide"},_react2.default.createElement("input",{className:"kuiTextInput",type:"text",value:value,onChange:handleChange})))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StringParameter=StringParameter;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes);StringParameter.propTypes={id:_propTypes2.default.string.isRequired,label:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,setParameter:_propTypes2.default.func.isRequired}},5150:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getDisplayText(id){return id in DISPLAY_MAP?DISPLAY_MAP[id]:id}var _DISPLAY_MAP;Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDisplayText=getDisplayText;var INSTRUCTION_VARIANT=exports.INSTRUCTION_VARIANT={OSX:"osx",DEB:"deb",RPM:"rpm",DOCKER:"docker",WINDOWS:"windows",NODE:"node",DJANGO:"django",FLASK:"flask",RAILS:"rails",RACK:"rack",JS:"js"},DISPLAY_MAP=(_DISPLAY_MAP={},_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.OSX,"macOS"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DEB,"DEB"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RPM,"RPM"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DOCKER,"Docker"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.WINDOWS,"Windows"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.NODE,"Node.js"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.DJANGO,"Django"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.FLASK,"Flask"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RAILS,"Ruby on Rails"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.RACK,"Rack"),_defineProperty(_DISPLAY_MAP,INSTRUCTION_VARIANT.JS,"JS"),_DISPLAY_MAP)},5151:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadioButtonGroup=void 0,__webpack_require__(5152);var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_components=__webpack_require__(22);(exports.RadioButtonGroup=function(_React$Component){function RadioButtonGroup(props){_classCallCheck(this,RadioButtonGroup);var _this=_possibleConstructorReturn(this,(RadioButtonGroup.__proto__||Object.getPrototypeOf(RadioButtonGroup)).call(this,props));if(_this.renderButtons=function(){return _this.props.buttons.map(function(button,index){var handleOnClick=function(){_this.setState({selectedBtnLabel:button.label}),button.onClick()},buttonType="secondary";return button.label===_this.state.selectedBtnLabel&&(buttonType="primary"),_react2.default.createElement(_components.KuiButton,{className:"kuiRadioButton",buttonType:buttonType,onClick:handleOnClick,key:index,"data-test-subj":button.dataTestSubj},button.label)})},_this.render=function(){return _react2.default.createElement(_components.KuiButtonGroup,{className:"radioButtonGroup",isUnited:!0},_this.renderButtons())},_this.state={},props.buttons.length>0){var matchingButton=props.buttons.find(function(button){return props.selectedBtnLabel===button.label});_this.state.selectedBtnLabel=matchingButton?props.selectedBtnLabel:props.buttons[0].label}return _this}return _inherits(RadioButtonGroup,_React$Component),RadioButtonGroup}(_react2.default.Component)).propTypes={buttons:_propTypes2.default.arrayOf(_propTypes2.default.shape({onClick:_propTypes2.default.func.isRequired,label:_propTypes2.default.string.isRequired,dataTestSubj:_propTypes2.default.string})).isRequired,selectedBtnLabel:_propTypes2.default.string}},5152:function(module,exports){},5153:function(module,exports,__webpack_require__){"use strict";function replaceTemplateStrings(text){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},variables={curlyOpen:"{",curlyClose:"}",config:{cloud:{id:_chrome2.default.getInjected("cloudId")},docs:{base_url:_documentation_links.ELASTIC_WEBSITE_URL,beats:{filebeat:_documentation_links.documentationLinks.filebeat.base,metricbeat:_documentation_links.documentationLinks.metricbeat.base},logstash:_documentation_links.documentationLinks.logstash.base,version:_documentation_links.DOC_LINK_VERSION},kibana:{version:_metadata.metadata.version}},params:params};return mustacheWriter.parse(text,TEMPLATE_TAGS),mustacheWriter.render(text,variables)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.replaceTemplateStrings=replaceTemplateStrings;var _mustache=__webpack_require__(5154),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_metadata=__webpack_require__(159),_documentation_links=__webpack_require__(362),TEMPLATE_TAGS=["{","}"],mustacheWriter=new _mustache.Writer;mustacheWriter.escapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return value}},5154:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(global,factory){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?factory(exports):(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(mustache){function isFunction(object){return"function"==typeof object}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return null!=obj&&"object"==typeof obj&&propName in obj}function testRegExp(re,string){return regExpTest.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})}function parseTemplate(template,tags){function compileTags(tagsToCompile){if("string"==typeof tagsToCompile&&(tagsToCompile=tagsToCompile.split(spaceRe,2)),!isArray(tagsToCompile)||2!==tagsToCompile.length)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*"),closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1])),closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}if(!template)return[];var openingTagRe,closingTagRe,closingCurlyRe,sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1;compileTags(tags||mustache.tags);for(var start,type,value,chr,token,openSection,scanner=new Scanner(template);!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(openingTagRe))for(var i=0,valueLength=value.length;i<valueLength;++i)chr=value.charAt(i),isWhitespace(chr)?spaces.push(tokens.length):nonSpace=!0,tokens.push(["text",chr,start,start+1]),start+=1,"\n"===chr&&function(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}();if(!scanner.scan(openingTagRe))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(equalsRe),scanner.scan(equalsRe),scanner.scanUntil(closingTagRe)):"{"===type?(value=scanner.scanUntil(closingCurlyRe),scanner.scan(curlyRe),scanner.scanUntil(closingTagRe),type="&"):value=scanner.scanUntil(closingTagRe),!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(token=[type,value,start,scanner.pos],tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(!(openSection=sections.pop()))throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else"name"===type||"{"===type||"&"===type?nonSpace=!0:"="===type&&compileTags(value)}if(openSection=sections.pop())throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){for(var token,lastToken,squashedTokens=[],i=0,numTokens=tokens.length;i<numTokens;++i)(token=tokens[i])&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(squashedTokens.push(token),lastToken=token));return squashedTokens}function nestTokens(tokens){for(var token,section,nestedTokens=[],collector=nestedTokens,sections=[],i=0,numTokens=tokens.length;i<numTokens;++i)switch(token=tokens[i],token[0]){case"#":case"^":collector.push(token),sections.push(token),collector=token[4]=[];break;case"/":section=sections.pop(),section[5]=token[2],collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}return nestedTokens}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parentContext){this.view=view,this.cache={".":this.view},this.parent=parentContext}function Writer(){this.cache={}}var objectToString=Object.prototype.toString,isArray=Array.isArray||function(object){return"[object Array]"===objectToString.call(object)},regExpTest=RegExp.prototype.test,nonSpaceRe=/\S/,entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];return this.tail=this.tail.substring(string.length),this.pos+=string.length,string},Scanner.prototype.scanUntil=function(re){var match,index=this.tail.search(re);switch(index){case-1:match=this.tail,this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index),this.tail=this.tail.substring(index)}return this.pos+=match.length,match},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var value,cache=this.cache;if(cache.hasOwnProperty(name))value=cache[name];else{for(var names,index,context=this,lookupHit=!1;context;){if(name.indexOf(".")>0)for(value=context.view,names=name.split("."),index=0;null!=value&&index<names.length;)index===names.length-1&&(lookupHit=hasProperty(value,names[index])),value=value[names[index++]];else value=context.view[name],lookupHit=hasProperty(context.view,name);if(lookupHit)break;context=context.parent}cache[name]=value}return isFunction(value)&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){this.cache={}},Writer.prototype.parse=function(template,tags){var cache=this.cache,tokens=cache[template];return null==tokens&&(tokens=cache[template]=parseTemplate(template,tags)),tokens},Writer.prototype.render=function(template,view,partials){var tokens=this.parse(template),context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)},Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate){for(var token,symbol,value,buffer="",i=0,numTokens=tokens.length;i<numTokens;++i)value=void 0,token=tokens[i],symbol=token[0],"#"===symbol?value=this.renderSection(token,context,partials,originalTemplate):"^"===symbol?value=this.renderInverted(token,context,partials,originalTemplate):">"===symbol?value=this.renderPartial(token,context,partials,originalTemplate):"&"===symbol?value=this.unescapedValue(token,context):"name"===symbol?value=this.escapedValue(token,context):"text"===symbol&&(value=this.rawValue(token)),void 0!==value&&(buffer+=value);return buffer},Writer.prototype.renderSection=function(token,context,partials,originalTemplate){function subRender(template){return self.render(template,context,partials)}var self=this,buffer="",value=context.lookup(token[1]);if(value){if(isArray(value))for(var j=0,valueLength=value.length;j<valueLength;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);else if("object"==typeof value||"string"==typeof value||"number"==typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);else if(isFunction(value)){if("string"!=typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender),null!=value&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate);return buffer}},Writer.prototype.renderInverted=function(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&0===value.length)return this.renderTokens(token[4],context,partials,originalTemplate)},Writer.prototype.renderPartial=function(token,context,partials){if(partials){var value=isFunction(partials)?partials(token[1]):partials[token[1]];return null!=value?this.renderTokens(this.parse(value),context,partials,value):void 0}},Writer.prototype.unescapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return value},Writer.prototype.escapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return mustache.escape(value)},Writer.prototype.rawValue=function(token){return token[1]},mustache.name="mustache.js",mustache.version="2.3.0",mustache.tags=["{{","}}"];var defaultWriter=new Writer;return mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.parse=function(template,tags){return defaultWriter.parse(template,tags)},mustache.render=function(template,view,partials){if("string"!=typeof template)throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(template)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(template,view,partials)},mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);if(!isFunction(send))return result;send(result)},mustache.escape=escapeHtml,mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer,mustache})},5155:function(module,exports,__webpack_require__){"use strict";__webpack_require__(692),__webpack_require__(5156),__webpack_require__(1521),__webpack_require__(5162),__webpack_require__(5168),__webpack_require__(5181),__webpack_require__(1350);var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"discover",title:"Discover",description:"Interactively explore your data by querying and filtering raw documents.",icon:"/plugins/kibana/assets/app_discover.svg",path:"/app/kibana#/discover",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5156:function(module,exports,__webpack_require__){"use strict";__webpack_require__(183),__webpack_require__(5157);var _modules=__webpack_require__(2),_no_results=__webpack_require__(5158);__webpack_require__(5159),_modules.uiModules.get("apps/discover",["react"]).directive("discoverNoResults",function(reactDirective){return reactDirective(_no_results.DiscoverNoResults)})},5157:function(module,exports){},5158:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiscoverNoResults=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.DiscoverNoResults=function(_Component){function DiscoverNoResults(){var _ref,_temp,_this,_ret;_classCallCheck(this,DiscoverNoResults);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=DiscoverNoResults.__proto__||Object.getPrototypeOf(DiscoverNoResults)).call.apply(_ref,[this].concat(args))),_this.onClickTimePickerButton=function(){_this.props.topNavToggle("filter")},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(DiscoverNoResults,_Component),_createClass(DiscoverNoResults,[{key:"render",value:function(){var _props=this.props,shardFailures=_props.shardFailures,timeFieldName=_props.timeFieldName,queryLanguage=_props.queryLanguage,getDocLink=_props.getDocLink,isTimePickerOpen=_props.isTimePickerOpen,shardFailuresMessage=void 0;if(shardFailures){var failures=shardFailures.map(function(failure,index){return _react2.default.createElement("div",{key:""+failure.index+failure.shard+failure.reason},_react2.default.createElement(_eui.EuiText,{size:"xs"},_react2.default.createElement("strong",null,"Index ‘",failure.index,"’"),", shard ‘",failure.shard,"’"),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiCodeBlock,{paddingSize:"s"},failure.reason),index<shardFailures.length-1?_react2.default.createElement(_eui.EuiSpacer,{size:"l"}):void 0)});shardFailuresMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Address shard failures"),_react2.default.createElement("p",null,"The following shard failures occurred:"),failures))}var timeFieldMessage=void 0;timeFieldName&&(timeFieldMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Expand your time range"),_react2.default.createElement("p",null,"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try ",_react2.default.createElement(_eui.EuiLink,{"data-test-subj":"discoverNoResultsTimefilter",onClick:this.onClickTimePickerButton,"aria-expanded":isTimePickerOpen},"opening the time picker")," and changing the time range to one which contains data."))));var luceneQueryMessage=void 0;if("lucene"===queryLanguage){var searchExamples=[{description:_react2.default.createElement(_eui.EuiCode,null,"200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find requests that contain the number 200, in any field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:200"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find 200 in the status field"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499]"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find all status codes between 400-499"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND extension:PHP"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php"))},{description:_react2.default.createElement(_eui.EuiCode,null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("strong",null,"Find status codes 400-499 with the extension php or html"))}];luceneQueryMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("h3",null,"Refine your query"),_react2.default.createElement("p",null,"The search bar at the top uses Elasticsearch’s support for Lucene ",_react2.default.createElement(_eui.EuiLink,{target:"_blank",href:getDocLink("query.luceneQuerySyntax")},"Query String syntax"),". Here are some examples of how you can search for web server logs that have been parsed into a few fields.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiDescriptionList,{type:"column",listItems:searchExamples}),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1,className:"discoverNoResults"},_react2.default.createElement(_eui.EuiCallOut,{title:"No results match your search criteria",color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),shardFailuresMessage,timeFieldMessage,luceneQueryMessage)))}}]),DiscoverNoResults}(_react.Component)).propTypes={shardFailures:_propTypes2.default.array,timeFieldName:_propTypes2.default.string,queryLanguage:_propTypes2.default.string,isTimePickerOpen:_propTypes2.default.bool.isRequired,getDocLink:_propTypes2.default.func.isRequired,topNavToggle:_propTypes2.default.func.isRequired}},5159:function(module,exports,__webpack_require__){"use strict";var _vislib=__webpack_require__(492),_vislib2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_vislib);__webpack_require__(2).uiModules.get("apps/discover").directive("discoverTimechart",function(Private){var vislib=Private(_vislib2.default);return{restrict:"E",scope:{data:"="},link:function($scope,elem){!function(){var myChart=new vislib.Chart(elem[0],{addLegend:!1});$scope.$watch("data",function(data){null!=data&&myChart.render(data)})}()}}})},5160:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(5161);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery);__webpack_require__(2).uiModules.get("kibana").directive("collapsibleSidebar",function(){var listOfWidthClasses=_lodash2.default.times(11,function(i){return"col-md-"+i});return{restrict:"C",link:function($scope,$elem){var isCollapsed=!1,$collapser=(0,_jquery2.default)('<button\n          data-test-subj="collapseSideBarButton"\n          type="button"\n          aria-expanded="true"\n          aria-label="Toggle sidebar"\n          class="kuiCollapseButton sidebar-collapser"\n        ></button>');$elem.attr("id")&&$collapser.attr("aria-controls",$elem.attr("id"));var $icon=(0,_jquery2.default)('<span class="kuiIcon fa-chevron-circle-left"></span>');$collapser.append($icon);var $siblings=$elem.siblings(),siblingsClass=listOfWidthClasses.reduce(function(prev,className){return prev||$siblings.hasClass(className)&&className},!1),hasSingleSibling=1===$siblings.length&&siblingsClass;$collapser.on("click",function(){isCollapsed?(isCollapsed=!1,$elem.removeClass("closed"),$icon.addClass("fa-chevron-circle-left"),$icon.removeClass("fa-chevron-circle-right"),$collapser.attr("aria-expanded","true")):(isCollapsed=!0,$elem.addClass("closed"),$icon.removeClass("fa-chevron-circle-left"),$icon.addClass("fa-chevron-circle-right"),$collapser.attr("aria-expanded","false")),hasSingleSibling&&$siblings.toggleClass(siblingsClass+" col-md-12"),$scope.toggleSidebar&&$scope.toggleSidebar()}),$collapser.appendTo($elem)}}})},5161:function(module,exports){},5162:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(661),__webpack_require__(662),__webpack_require__(1145),__webpack_require__(5163),__webpack_require__(298);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_field_calculator=__webpack_require__(5166),_field_list=__webpack_require__(1041),_modules=__webpack_require__(2),_field_chooser=__webpack_require__(5167),_field_chooser2=_interopRequireDefault(_field_chooser);_modules.uiModules.get("apps/discover").directive("discFieldChooser",function($location,globalState,config,$route,Private){var FieldList=Private(_field_list.IndexPatternsFieldListProvider);return{restrict:"E",scope:{columns:"=",hits:"=",fieldCounts:"=",state:"=",indexPattern:"=",indexPatternList:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"="},template:_field_chooser2.default,link:function($scope){function getVisualizeUrl(field){if(!$scope.state)return"";var agg={},isGeoPoint="geo_point"===field.type,type=isGeoPoint?"tile_map":"histogram";return agg="date"===field.type&&$scope.indexPattern.timeFieldName===field.name?{type:"date_histogram",schema:"segment",params:{field:field.name,interval:"auto"}}:isGeoPoint?{type:"geohash_grid",schema:"segment",params:{field:field.name,precision:3}}:{type:"terms",schema:"segment",params:{field:field.name,size:parseInt(config.get("discover:aggs:terms:size"),10),orderBy:"2"}},"#/visualize/create?"+_jquery2.default.param(_lodash2.default.assign(_lodash2.default.clone($location.search()),{indexPattern:$scope.state.index,type:type,_a:_risonNode2.default.encode({filters:$scope.state.filters||[],query:$scope.state.query||void 0,vis:{type:type,aggs:[{schema:"metric",type:"count",id:"2"},agg]}})}))}function getFields(){var prevFields=$scope.fields,indexPattern=$scope.indexPattern,hits=$scope.hits,fieldCounts=$scope.fieldCounts;if(indexPattern&&hits&&fieldCounts){var fieldSpecs=indexPattern.fields.slice(0),fieldNamesInDocs=_lodash2.default.keys(fieldCounts),fieldNamesInIndexPattern=_lodash2.default.keys(indexPattern.fields.byName);_lodash2.default.difference(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(function(unknownFieldName){fieldSpecs.push({name:unknownFieldName,type:"unknown"})});var fields=new FieldList(indexPattern,fieldSpecs);return prevFields&&fields.forEach(function(field){field.details=_lodash2.default.get(prevFields,["byName",field.name,"details"])}),fields}}$scope.selectedIndexPattern=$scope.indexPatternList.find(function(pattern){return pattern.id===$scope.indexPattern.id}),$scope.indexPatternList=_lodash2.default.sortBy($scope.indexPatternList,function(o){return o.get("title")}),$scope.setIndexPattern=function(pattern){$scope.state.index=pattern.id,$scope.state.save()},$scope.$watch("state.index",function(id,previousId){null!=previousId&&previousId!==id&&$route.reload()});var filter=$scope.filter={props:["type","aggregatable","searchable","missing","name"],defaults:{missing:!0,type:"any"},boolOpts:[{label:"any",value:void 0},{label:"yes",value:!0},{label:"no",value:!1}],toggleVal:function(name,def){filter.vals[name]!==def?filter.vals[name]=def:filter.vals[name]=void 0},reset:function(){filter.vals=_lodash2.default.clone(filter.defaults)},isFieldSelected:function(field){return field.display},isFieldFiltered:function(field){var matchFilter="any"===filter.vals.type||field.type===filter.vals.type,isAggregatable=null==filter.vals.aggregatable||field.aggregatable===filter.vals.aggregatable,isSearchable=null==filter.vals.searchable||field.searchable===filter.vals.searchable,scriptedOrMissing=!filter.vals.missing||field.scripted||field.rowCount>0,matchName=!filter.vals.name||-1!==field.name.indexOf(filter.vals.name);return!field.display&&matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName},popularity:function(field){return field.count>0},getActive:function(){return _lodash2.default.some(filter.props,function(prop){return filter.vals[prop]!==filter.defaults[prop]})}};filter.reset(),$scope.$watchCollection("filter.vals",function(){filter.active=filter.getActive()}),$scope.$watchMulti(["[]fieldCounts","[]columns","[]hits"],function(cur,prev){var newHits=cur[2]!==prev[2],fields=$scope.fields,columns=$scope.columns||[],fieldCounts=$scope.fieldCounts;fields&&!newHits||($scope.fields=fields=getFields()),fields&&(_lodash2.default.chain(fields).each(function(field){field.displayOrder=_lodash2.default.indexOf(columns,field.name)+1,field.display=!!field.displayOrder,field.rowCount=fieldCounts[field.name]}).sortBy(function(field){return-1*(field.count||0)}).groupBy(function(field){return field.display?"selected":field.count>0?"popular":"unpopular"}).tap(function(groups){groups.selected=_lodash2.default.sortBy(groups.selected||[],"displayOrder"),groups.popular=groups.popular||[],groups.unpopular=groups.unpopular||[];var extras=groups.popular.splice(config.get("fields:popularLimit"));groups.unpopular=extras.concat(groups.unpopular)}).each(function(group,name){$scope[name+"Fields"]=_lodash2.default.sortBy(group,"selected"===name?"display":"name")}).commit(),$scope.fieldTypes=_lodash2.default.union(["any"],_lodash2.default.pluck(fields,"type")))}),$scope.increaseFieldCounter=function(fieldName){$scope.indexPattern.popularizeField(fieldName,1)},$scope.computeDetails=function(field,recompute){_lodash2.default.isUndefined(field.details)||recompute?(field.details=_extends({visualizeUrl:field.visualizable?getVisualizeUrl(field):null},_field_calculator.fieldCalculator.getFieldValueCounts({hits:$scope.hits,field:field,count:5,grouped:!1})),_lodash2.default.each(field.details.buckets,function(bucket){bucket.display=field.format.convert(bucket.value)}),$scope.increaseFieldCounter(field,1)):delete field.details}}}})},5163:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_discover_field=__webpack_require__(5164),_discover_field2=_interopRequireDefault(_discover_field),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(661),__webpack_require__(662);var _string=__webpack_require__(5165),_string2=_interopRequireDefault(_string);__webpack_require__(2).uiModules.get("apps/discover").directive("discoverField",function($compile){return{restrict:"E",template:_discover_field2.default,replace:!0,scope:{field:"=",onAddField:"=",onAddFilter:"=",onRemoveField:"=",onShowDetails:"="},link:function($scope,$elem){var detailsElem=void 0,detailScope=void 0,getWarnings=function(field){var warnings=[];return field.scripted&&warnings.push("Scripted fields can take a long time to execute."),warnings.length>1&&(warnings=warnings.map(function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning})),warnings};$scope.toggleDisplay=function(field){field.display?$scope.onRemoveField(field.name):$scope.onAddField(field.name),field.details&&$scope.toggleDetails(field)},$scope.onClickToggleDetails=function($event,field){$event.currentTarget!==$event.target&&$event.preventDefault(),$scope.toggleDetails(field)},$scope.toggleDetails=function(field,recompute){_lodash2.default.isUndefined(field.details)||recompute?($scope.onShowDetails(field,recompute),detailScope=$scope.$new(),detailScope.warnings=getWarnings(field),detailsElem=(0,_jquery2.default)(_string2.default),$compile(detailsElem)(detailScope),$elem.append(detailsElem).addClass("active")):(delete field.details,detailScope.$destroy(),detailsElem.remove(),$elem.removeClass("active"))},function(){$scope.field.details&&$scope.toggleDetails($scope.field,!0)}()}}})},5164:function(module,exports){module.exports='<li\n  class="sidebar-item"\n  attr-field="{{::field.name}}"\n>\n  <div\n    data-test-subj="field-{{::field.name}}"\n    ng-click="onClickToggleDetails($event, field)"\n    kbn-accessible-click\n    class="sidebar-item-title discover-sidebar-item"\n  >\n    <field-name\n      class="discover-sidebar-item-label"\n      field="field"\n    ></field-name>\n\n    <button\n      ng-if="field.name !== \'_source\'"\n      ng-click="toggleDisplay(field)"\n      ng-class="::field.display ? \'kuiButton--danger\' : \'kuiButton--primary\'"\n      ng-bind="::field.display ? \'remove\' : \'add\'"\n      class="discover-sidebar-item-action kuiButton kuiButton--small"\n      data-test-subj="fieldToggle-{{::field.name}}"\n    ></button>\n  </div>\n</li>\n'},5165:function(module,exports){module.exports='<div class="discover-field-details">\n  <div class="kuiVerticalRhythmSmall">\n    <p class="euiText euiText--extraSmall euiTextColor--subdued" ng-show="!field.details.error">\n      Top 5 values in\n      <span ng-if="!field.details.error">\n        <a\n          class="kuiLink"\n          kbn-accessible-click\n          ng-show="!field.indexPattern.metaFields.includes(field.name) && !field.scripted"\n          ng-click="onAddFilter(\'_exists_\', field.name, \'+\')">\n          {{::field.details.exists}}\n        </a>\n        <span\n          ng-show="field.indexPattern.metaFields.includes(field.name) || field.scripted">\n          {{::field.details.exists}}\n        </span>\n        / {{::field.details.total}} records\n      </span>\n    </p>\n\n    <div class="clearfix"></div>\n\n    <div ng-if="field.details.error" class="euiText euiText--extraSmall euiTextColor--subdued">{{field.details.error}}</div>\n\n    <div ng-if="!field.details.error">\n      <div ng-repeat="bucket in ::field.details.buckets" class="discover-field-details-item">\n        <div class="discover-field-details-item-title">\n          \x3c!-- Field value --\x3e\n          <div\n            css-truncate\n            css-truncate-expandable="true"\n            class="discover-field-details-value"\n            aria-label="Value: {{:: bucket.display === \'\' ? \'Empty string\' : bucket.display }}"\n          >\n            {{::bucket.display}} <em ng-show="bucket.display === \'\'">Empty string</em>\n          </div>\n\n          \x3c!-- Add/remove filter buttons --\x3e\n          <div\n            class="discover-field-details-item-buttons"\n            ng-show="field.filterable"\n          >\n            <button\n              class="discover-field-details-item-button"\n              ng-click="onAddFilter(field, bucket.value, \'+\')"\n              aria-label="Filter for this value"\n              data-test-subj="plus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-plus discover-field-details-filter"\n              ></span>\n            </button>\n\n            <button\n              class="discover-field-details-item-button"\n              ng-click="onAddFilter(field, bucket.value, \'-\')"\n              aria-label="Filter out this value"\n              data-test-subj="minus-{{::field.name}}-{{::bucket.display}}"\n            >\n              <span\n                aria-hidden="true"\n                class="kuiIcon fa-search-minus discover-field-details-filter"\n              ></span>\n            </button>\n          </div>\n        </div>\n        <kbn-tooltip text="{{::bucket.count}}" placement="right" append-to-body="1">\n          <progressbar value="bucket.percent" max="100" animate="false"><span>{{bucket.percent}}%</span></progressbar>\n        </kbn-tooltip>\n      </div>\n    </div>\n  </div>\n\n  <a\n    ng-href="{{field.details.visualizeUrl}}"\n    ng-show="field.visualizable"\n    class="kuiButton kuiButton--secondary kuiButton--small kuiButton--fullWidth kuiVerticalRhythmSmall"\n    data-test-subj="fieldVisualize-{{::field.name}}"\n  >\n    Visualize\n    <span class="discover-field-vis-warning" ng-show="warnings.length" tooltip="{{warnings.join(\' \')}}">\n    ( {{::warnings.length}} <ng-pluralize count="warnings.length" when="{\'1\':\'warning\', \'other\':\'warnings\'}"></ng-pluralize> <i aria-hidden="true" class="fa fa-warning"></i> )\n    </span>\n  </a>\n</div>\n'},5166:function(module,exports,__webpack_require__){"use strict";function getFieldValues(hits,field){var name=field.name,flattenHit=field.indexPattern.flattenHit;return _lodash2.default.map(hits,function(hit){return flattenHit(hit)[name]})}function getFieldValueCounts(params){if(params=_lodash2.default.defaults(params,{count:5,grouped:!1}),"geo_point"===params.field.type||"geo_shape"===params.field.type||"attachment"===params.field.type)return{error:"Analysis is not available for geo fields."};var allValues=getFieldValues(params.hits,params.field),counts=void 0,missing=_countMissing(allValues);try{var groups=_groupValues(allValues,params);return counts=_lodash2.default.map(_lodash2.default.sortBy(groups,"count").reverse().slice(0,params.count),function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}}),params.hits.length-missing==0?{error:"This field is present in your elasticsearch mapping but not in any documents in the search results. You may still be able to visualize or search on it."}:{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-_lodash2.default.without(array,void 0,null).length}function _groupValues(allValues,params){var groups={},k=void 0;return allValues.forEach(function(value){if(_lodash2.default.isObject(value)&&!Array.isArray(value))throw new Error("Analysis is not available for object fields");k=Array.isArray(value)&&!params.grouped?value:null==value?void 0:[value],_lodash2.default.each(k,function(key){groups.hasOwnProperty(key)?groups[key].count++:groups[key]={value:params.grouped?value:key,count:1}})}),groups}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldCalculator=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts}},5167:function(module,exports){module.exports='<section class="sidebar-list" aria-label="Index and fields">\n  <div ng-show="indexPatternList.length > 1">\n    <ui-select\n      class="index-pattern-selection"\n      ng-model="selectedIndexPattern"\n      on-select="setIndexPattern($item)"\n    >\n      <ui-select-match>\n        <span\n          class="uiSelectMatch--ellipsis"\n          tooltip="{{$select.selected.get(\'title\')}}"\n          tooltip-append-to-body="true"\n        >\n          {{$select.selected.get(\'title\')}}\n        </span>\n      </ui-select-match>\n      <ui-select-choices repeat="pattern in indexPatternList | filter:$select.search">\n        <div ng-bind-html="pattern.get(\'title\') | highlight: $select.search"></div>\n      </ui-select-choices>\n    </ui-select>\n  </div>\n  <div ng-hide="indexPatternList.length > 1">\n    <div class="index-pattern">\n      <h2\n        class="index-pattern-label"\n        id="index_pattern_id"\n        tabindex="0"\n        css-truncate>\n\n        {{ indexPattern.title }}</h2>\n    </div>\n  </div>\n\n  <div class="discover-sidebar-list-header sidebar-list-header">\n    <h3 class="sidebar-list-header-label" id="selected_fields" tabindex="0">Selected Fields</h3>\n  </div>\n  <ul class="list-unstyled discover-selected-fields" >\n    <discover-field\n      ng-repeat="field in fields.raw|filter:{display:true}"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <div class="sidebar-list-header sidebar-item euiFlexGroup euiFlexGroup--gutterMedium">\n    <h3 class="euiFlexItem sidebar-list-header-label" id="available_fields" tabindex="0">\n      Available Fields\n    </h3>\n\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        ng-click="showFields = !showFields"\n        aria-hidden="true"\n        class="kuiButton kuiButton--small visible-xs visible-sm pull-right field-collapse-toggle"\n      >\n        <span\n          aria-hidden="true"\n          class="kuiIcon"\n          ng-class="{ \'fa-chevron-right\': !showFields, \'fa-chevron-down\': showFields }"\n        ></span>\n      </button>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <button\n        type="button"\n        ng-class="{ \'kuiButton--basic\': !filter.active, \'kuiButton--primary\': filter.active, \'hidden-xs\': !showFields, \'hidden-sm\': !showFields }"\n        class="kuiButton kuiButton--small pull-right discover-field-filter-toggle"\n        ng-click="showFilter = !showFilter"\n        aria-label="{{showFilter ? \'Hide\' : \'Show\'}} field settings"\n        aria-expanded="{{!!showFilter}}"\n        aria-controls="discoverFieldFilter"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-gear"></span>\n      </button>\n    </div>\n  </div>\n\n  <div class="sidebar-item discover-field-details" ng-show="showFilter" id="discoverFieldFilter">\n    <form role="form">\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterAggregatable">\n          Aggregatable\n        </label>\n        <select\n          id="discoverFieldChooserFilterAggregatable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.aggregatable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterSearchable">\n          Searchable\n        </label>\n        <select\n          id="discoverFieldChooserFilterSearchable"\n          ng-options="opt.value as opt.label for opt in filter.boolOpts"\n          ng-model="filter.vals.searchable"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterType">\n          Type\n        </label>\n        <select\n          id="discoverFieldChooserFilterType"\n          ng-options="field as field for field in fieldTypes"\n          ng-model="filter.vals.type"\n          class="form-control">\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserFilterFieldName">\n          Field name\n        </label>\n        <input\n          id="discoverFieldChooserFilterFieldName"\n          type="text"\n          class="form-control"\n          ng-model="filter.vals.name"\n        >\n      </div>\n      <div class="form-group">\n        <label for="discoverFieldChooserHideMissingFields">\n          <input id="discoverFieldChooserHideMissingFields" type="checkbox" ng-model="filter.vals.missing">\n          Hide Missing Fields\n        </label>\n      </div>\n      <button\n        ng-click="filter.reset()"\n        ng-disabled="!filter.active"\n        class="kuiButton kuiButton--danger kuiButton--fullWidth"\n      >\n        Reset Filters\n      </button>\n    </form>\n  </div>\n\n  <ul\n    ng-show="(popularFields | filter:filter.isFieldFiltered).length > 0"\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields }"\n    class="list-unstyled sidebar-well discover-popular-fields">\n    <li class="sidebar-item sidebar-list-header">\n      <h6>Popular</h6>\n    </li>\n    <discover-field\n      ng-repeat="field in popularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n  <ul\n    ng-class="{ \'hidden-sm\': !showFields, \'hidden-xs\': !showFields  }"\n    class="list-unstyled discover-unpopular-fields">\n    <discover-field\n      ng-repeat="field in unpopularFields | filter:filter.isFieldFiltered"\n      field="field"\n      on-add-field="onAddField"\n      on-add-filter="onAddFilter"\n      on-remove-field="onRemoveField"\n      on-show-details="computeDetails"\n    >\n    </discover-field>\n  </ul>\n\n</section>\n'},5168:function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function discoverController($element,$route,$scope,$timeout,$window,AppState,Notifier,Private,Promise,config,courier,kbnUrl,timefilter,localStorage){function getStateDefaults(){return{query:$scope.searchSource.get("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},sort:_get_sort.getSort.array(savedSearch.sort,$scope.indexPattern,config.get("discover:sort:defaultOrder")),columns:savedSearch.columns.length>0?savedSearch.columns:config.get("defaultColumns").slice(),index:$scope.indexPattern.id,interval:"auto",filters:_lodash2.default.cloneDeep($scope.searchSource.getOwn("filter"))}}function handleSegmentedFetch(segmented){function flushResponseData(){$scope.fetchError=void 0,$scope.hits=0,$scope.faliures=[],$scope.rows=[],$scope.fieldCounts={}}$scope.rows||flushResponseData();var sort=$state.sort,timeField=$scope.indexPattern.timeFieldName,sortBy=function(){return Array.isArray(sort)?"_score"===sort[0]?"implicit":sort[0]===timeField?"time":"non-time":"implicit"}(),sortFn=null;"implicit"!==sortBy&&(sortFn=new HitSortFn(sort[1])),$scope.updateTime(),"_score"===sort[0]&&segmented.setMaxSegments(1),segmented.setDirection("time"===sortBy?sort[1]||"desc":"desc"),segmented.setSortFn(sortFn),segmented.setSize($scope.opts.sampleSize),segmented.on("status",function(status){$scope.fetchStatus=status}),segmented.on("first",function(){flushResponseData()}),segmented.on("segment",notify.timed("handle each segment",function(resp){resp._shards.failed>0&&($scope.failures=_lodash2.default.union($scope.failures,resp._shards.failures),$scope.failures=_lodash2.default.uniq($scope.failures,!1,function(failure){return failure.index+failure.shard+failure.reason}))})),segmented.on("mergedSegment",function(merged){$scope.mergedEsResp=merged,$scope.opts.timefield&&($scope.searchSource.rawResponse=merged,Promise.resolve(responseHandler($scope.vis,merged)).then(function(resp){$scope.visData=resp})),$scope.hits=merged.hits.total;var indexPattern=$scope.searchSource.get("index");$scope.rows=merged.hits.hits.slice(),notify.event("flatten hit and count fields",function(){var counts=$scope.fieldCounts;counts&&!sortFn||(counts=$scope.fieldCounts={}),$scope.rows.forEach(function(hit){if(!hit.$$_counted){sortFn||(hit.$$_counted=!0);for(var fields=_lodash2.default.keys(indexPattern.flattenHit(hit)),n=fields.length,field=void 0;field=fields[--n];)counts[field]?counts[field]+=1:counts[field]=1}})})}),segmented.on("complete",function(){0===$scope.fetchStatus.hitCount&&flushResponseData(),$scope.fetchStatus=null})}function beginSegmentedFetch(){$scope.searchSource.onBeginSegmentedFetch(handleSegmentedFetch).catch(function(error){var fetchError=(0,_notify.getPainlessError)(error);fetchError?$scope.fetchError=fetchError:notify.error(error),beginSegmentedFetch()})}function setupVisualization(){if($scope.opts.timefield){var visStateAggs=[{type:"count",schema:"metric"},{type:"date_histogram",schema:"segment",params:{field:$scope.opts.timefield,interval:$state.interval}}];if($scope.vis){var visState=$scope.vis.getEnabledState();visState.aggs=visStateAggs,$scope.vis.setState(visState)}else $scope.vis=new Vis($scope.indexPattern,{title:savedSearch.title,type:"histogram",params:{addLegend:!1,addTimeMarker:!0},aggs:visStateAggs}),$scope.searchSource.onRequestStart(function(searchSource,searchRequest){return $scope.vis.onSearchRequestStart(searchSource,searchRequest)}),$scope.searchSource.aggs(function(){return $scope.vis.getAggConfig().toDsl()});$scope.vis.filters={timeRange:timefilter.time}}}var _this=this,Vis=Private(_vis.VisProvider),docTitle=Private(_doc_title.DocTitleProvider),HitSortFn=Private(_hit_sort_fn2.default),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider),responseHandler=Private(_basic.BasicResponseHandlerProvider).handler,filterManager=Private(_filter_manager.FilterManagerProvider),notify=new Notifier({location:"Discover"});$scope.getDocLink=_documentation_links.getDocLink,$scope.intervalOptions=Private(_interval_options.AggTypesBucketsIntervalOptionsProvider),$scope.showInterval=!1,$scope.minimumVisibleRows=50,$scope.intervalEnabled=function(interval){return"custom"!==interval.val},$scope.topNavMenu=[{key:"new",description:"New Search",run:function(){kbnUrl.change("/discover")},testId:"discoverNewButton"},{key:"save",description:"Save Search",template:__webpack_require__(5178),testId:"discoverSaveButton"},{key:"open",description:"Open Saved Search",template:__webpack_require__(5179),testId:"discoverOpenButton"},{key:"share",description:"Share Search",template:__webpack_require__(5180),testId:"discoverShareButton"}],$scope.timefilter=timefilter;var savedSearch=$route.current.locals.savedSearch;$scope.$on("$destroy",savedSearch.destroy),$scope.searchSource=savedSearch.searchSource,$scope.indexPattern=function(){var props=$route.current.locals.ip,loaded=props.loaded,stateVal=props.stateVal,stateValFound=props.stateValFound,own=$scope.searchSource.getOwn("index");if(own&&!stateVal)return own;if(stateVal&&!stateValFound){var err='"'+stateVal+'" is not a configured pattern ID. ';if(own)return notify.warning(err+' Using the saved index pattern: "'+own.title+'" ('+own.id+")"),own;notify.warning(err+' Using the default index pattern: "'+loaded.title+'" ('+loaded.id+")")}return loaded}(),$scope.searchSource.set("index",$scope.indexPattern).highlightAll(!0).version(!0);var pageTitleSuffix=savedSearch.id&&savedSearch.title?": "+savedSearch.title:"";docTitle.change("Discover"+pageTitleSuffix);var stateMonitor=void 0,$appStatus=$scope.appStatus=this.appStatus={dirty:!savedSearch.id},$state=$scope.state=new AppState(getStateDefaults()),getFieldCounts=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if($scope.fetchStatus){_context.next=2;break}return _context.abrupt("return",$scope.fieldCounts);case 2:return _context.next=4,new Promise(function(resolve){var unwatch=$scope.$watch("fetchStatus",function(newValue){newValue||(unwatch(),resolve($scope.fieldCounts))})});case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}},_callee,_this)}));return function(){return _ref2.apply(this,arguments)}}(),getSharingDataFields=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){var selectedFields,fieldCounts,timeFieldName,fields;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(selectedFields=$state.columns,1!==selectedFields.length||"_source"!==selectedFields[0]){_context2.next=6;break}return _context2.next=4,getFieldCounts();case 4:return fieldCounts=_context2.sent,_context2.abrupt("return",{searchFields:null,selectFields:_lodash2.default.keys(fieldCounts).sort()});case 6:return timeFieldName=$scope.indexPattern.timeFieldName,fields=timeFieldName?[timeFieldName].concat(_toConsumableArray(selectedFields)):selectedFields,_context2.abrupt("return",{searchFields:fields,selectFields:fields});case 9:case"end":return _context2.stop()}},_callee2,_this)}));return function(){return _ref3.apply(this,arguments)}}();this.getSharingData=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){var searchSource,_ref5,searchFields,selectFields,body;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return searchSource=$scope.searchSource.clone(),_context3.next=3,getSharingDataFields();case 3:return _ref5=_context3.sent,searchFields=_ref5.searchFields,selectFields=_ref5.selectFields,searchSource.set("fields",searchFields),searchSource.set("sort",(0,_get_sort.getSort)($state.sort,$scope.indexPattern)),searchSource.set("highlight",null),searchSource.set("highlightAll",null),searchSource.set("aggs",null),searchSource.set("size",null),_context3.next=14,searchSource.getSearchRequestBody();case 14:return body=_context3.sent,_context3.abrupt("return",{searchRequest:{index:searchSource.get("index").title,body:body},fields:selectFields,metaFields:$scope.indexPattern.metaFields,conflictedTypesFields:$scope.indexPattern.fields.filter(function(f){return"conflict"===f.type}).map(function(f){return f.name}),indexPatternId:searchSource.get("index").id});case 16:case"end":return _context3.stop()}},_callee3,_this)})),this.getSharingType=function(){return"search"},this.getSharingTitle=function(){return savedSearch.title},$scope.uiState=$state.makeStateful("uiState"),$state.index=$scope.indexPattern.id,$state.sort=_get_sort.getSort.array($state.sort,$scope.indexPattern),$scope.getBucketIntervalToolTipText=function(){return"This interval creates "+($scope.bucketInterval.scale>1?"buckets that are too large":"too many buckets")+"\n      to show in the selected time range, so it has been scaled to "+$scope.bucketInterval.description},$scope.$watchCollection("state.columns",function(){$state.save()}),$scope.opts={sampleSize:config.get("discover:sampleSize"),timefield:$scope.indexPattern.timeFieldName,savedSearch:savedSearch,indexPatternList:$route.current.locals.ip.list,timefilter:$scope.timefilter};var init=_lodash2.default.once(function(){stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,getStateDefaults()),stateMonitor.onChange(function(status){$appStatus.dirty=status.dirty||!savedSearch.id}),$scope.$on("$destroy",function(){return stateMonitor.destroy()}),$scope.updateDataSource().then(function(){$scope.$listen(timefilter,"fetch",function(){$scope.fetch()}),$scope.$watchCollection("state.sort",function(sort){if(sort){var currentSort=_lodash2.default.pairs($scope.searchSource.get("sort")).pop();_angular2.default.equals(sort,currentSort)||$scope.fetch()}}),$scope.$listen(queryFilter,"update",function(){return $scope.updateDataSource().then(function(){$state.save()})}),$scope.$listen($state,"fetch_with_changes",function(diff){diff.indexOf("query")>=0&&$scope.fetch()}),$scope.$listen(queryFilter,"fetch",$scope.fetch),timefilter.enableAutoRefreshSelector(),$scope.$watch("opts.timefield",function(timefield){timefield?timefilter.enableTimeRangeSelector():timefilter.disableTimeRangeSelector()}),$scope.$watch("state.interval",function(){$scope.fetch()}),$scope.$watch("vis.aggs",function(){if($scope.opts.timefield){var buckets=$scope.vis.getAggConfig().bySchemaGroup.buckets;buckets&&1===buckets.length&&($scope.bucketInterval=buckets[0].buckets.getInterval())}}),$scope.$watch("state.query",$scope.updateQueryAndFetch),$scope.$watchMulti(["rows","fetchStatus"],function(){function pick(rows,oldRows,fetchStatus){if(null==rows&&null==oldRows)return status.LOADING;var rowsEmpty=_lodash2.default.isEmpty(rows);return _lodash2.default.isUndefined(fetchStatus)?status.LOADING:rowsEmpty&&fetchStatus?status.LOADING:rowsEmpty?status.NO_RESULTS:status.READY}var prev={},status={LOADING:"loading",READY:"ready",NO_RESULTS:"none"};return function(){var current={rows:$scope.rows,fetchStatus:$scope.fetchStatus};$scope.resultState=pick(current.rows,prev.rows,current.fetchStatus,prev.fetchStatus),prev=current}}()),$scope.opts.timefield&&(setupVisualization(),$scope.updateTime()),init.complete=!0,$state.replace()})});$scope.opts.saveDataSource=function(){return $scope.updateDataSource().then(function(){return savedSearch.columns=$scope.state.columns,savedSearch.sort=$scope.state.sort,savedSearch.save().then(function(id){stateMonitor.setInitialState($state.toJSON()),$scope.kbnTopNav.close("save"),id&&(_notify.toastNotifications.addSuccess({title:"Search '"+savedSearch.title+"' was saved","data-test-subj":"saveSearchSuccess"}),savedSearch.id!==$route.current.params.id?kbnUrl.change("/discover/{{id}}",{id:savedSearch.id}):($state.setDefaults(getStateDefaults()),docTitle.change(savedSearch.lastSavedTitle)))})}).catch(notify.error)},$scope.opts.fetch=$scope.fetch=function(){init.complete&&($scope.fetchError=void 0,$scope.updateTime(),$scope.updateDataSource().then(setupVisualization).then(function(){return $state.save(),courier.fetch()}).catch(notify.error))},$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query),$scope.fetch()},beginSegmentedFetch(),$scope.updateTime=function(){$scope.timeRange={from:_datemath2.default.parse(timefilter.time.from),to:_datemath2.default.parse(timefilter.time.to,{roundUp:!0})}},$scope.resetQuery=function(){kbnUrl.change("/discover/{{id}}",{id:$route.current.params.id})},$scope.newQuery=function(){kbnUrl.change("/discover")},$scope.updateDataSource=Promise.method(function(){$scope.searchSource.size($scope.opts.sampleSize).sort((0,_get_sort.getSort)($state.sort,$scope.indexPattern)).query($state.query?$state.query:null).set("filter",queryFilter.getFilters())}),$scope.setSortOrder=function(columnName,direction){$scope.state.sort=[columnName,direction]},$scope.filterQuery=function(field,values,operation){$scope.indexPattern.popularizeField(field,1),filterActions.addFilter(field,values,operation,$scope.indexPattern.id,$scope.state,filterManager)},$scope.addColumn=function(columnName){$scope.indexPattern.popularizeField(columnName,1),columnActions.addColumn($scope.state.columns,columnName)},$scope.removeColumn=function(columnName){$scope.indexPattern.popularizeField(columnName,1),columnActions.removeColumn($scope.state.columns,columnName)},$scope.moveColumn=function(columnName,newIndex){columnActions.moveColumn($scope.state.columns,columnName,newIndex)},$scope.scrollToTop=function(){$window.scrollTo(0,0)},$scope.scrollToBottom=function(){$timeout(function(){$element.find("#discoverBottomMarker").focus()},0)},$scope.showAllRows=function(){$scope.minimumVisibleRows=$scope.hits},init()}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_get_sort=__webpack_require__(1349),_columns=__webpack_require__(1352),columnActions=_interopRequireWildcard(_columns),_filter=__webpack_require__(1320),filterActions=_interopRequireWildcard(_filter),_datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath);__webpack_require__(1348),__webpack_require__(752),__webpack_require__(5169),__webpack_require__(1140),__webpack_require__(257),__webpack_require__(251),__webpack_require__(358),__webpack_require__(355),__webpack_require__(181),__webpack_require__(1522),__webpack_require__(734);var _notify=__webpack_require__(10),_vis=__webpack_require__(1201),_basic=__webpack_require__(781),_doc_title=__webpack_require__(255),_hit_sort_fn=__webpack_require__(5173),_hit_sort_fn2=_interopRequireDefault(_hit_sort_fn),_query_filter=__webpack_require__(164),_interval_options=__webpack_require__(1173),_state_monitor_factory=__webpack_require__(396),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_index=__webpack_require__(5174),_index2=_interopRequireDefault(_index),_state=__webpack_require__(586),_migrateLegacyQuery=__webpack_require__(457),_filter_manager=__webpack_require__(365),_saved_objects=__webpack_require__(67),_persisted_log=__webpack_require__(130),_documentation_links=__webpack_require__(254);__webpack_require__(5175);var app=_modules.uiModules.get("apps/discover",["kibana/notify","kibana/courier","kibana/index_patterns"]);_routes2.default.defaults(/discover/,{requireDefaultIndex:!0}).when("/discover/:id?",{template:_index2.default,reloadOnSearch:!1,resolve:{ip:function(Promise,courier,config,$location,Private){var State=Private(_state.StateProvider);return Private(_saved_objects.SavedObjectsClientProvider).find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(_ref){var savedObjects=_ref.savedObjects,state=new State("_a",{}),specified=!!state.index,exists=_lodash2.default.findIndex(savedObjects,function(o){return o.id===state.index})>-1,id=exists?state.index:config.get("defaultIndex");return state.destroy(),Promise.props({list:savedObjects,loaded:courier.indexPatterns.get(id),stateVal:state.index,stateValFound:specified&&exists})})},savedSearch:function(courier,savedSearches,$route){var savedSearchId=$route.current.params.id;return savedSearches.get(savedSearchId).then(function(savedSearch){return savedSearchId&&_persisted_log.recentlyAccessed.add(savedSearch.getFullPath(),savedSearch.title,savedSearchId),savedSearch}).catch(courier.redirectWhenMissing({search:"/discover","index-pattern":"/management/kibana/objects/savedSearches/"+$route.current.params.id}))}}}),app.directive("discoverApp",function(){return{restrict:"E",controllerAs:"discoverApp",controller:discoverController}})},5169:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),SCROLLER_HEIGHT=20;_modules.uiModules.get("kibana").directive("fixedScroll",function(debounce){return{restrict:"A",link:function($scope,$el){function listen(){function bind($from,$to){function handler(){if(blockTo===$to)return blockTo=null;$to.scrollLeft((blockTo=$from).scrollLeft())}return $from.on("scroll",handler),function(){$from.off("scroll",handler)}}if(unlisten!==_lodash2.default.noop)throw new Error("fixedScroll listeners were not cleaned up properly before re-listening!");var blockTo=void 0;unlisten=_lodash2.default.flow(bind($el,$scroller),bind($scroller,$el),function(){unlisten=_lodash2.default.noop})}function cleanUp(){unlisten(),$scroller.detach(),$el.css("padding-bottom",0)}function setup(){cleanUp();var containerWidth=$el.width(),contentWidth=$el.prop("scrollWidth"),containerHorizOverflow=contentWidth-containerWidth,elTop=$el.offset().top-$window.scrollTop(),elBottom=elTop+$el.height(),windowVertOverflow=elBottom-$window.height();containerHorizOverflow>0&&windowVertOverflow>0&&($el.css("padding-bottom",SCROLLER_HEIGHT),$scroller.width(containerWidth).html((0,_jquery2.default)("<div>").css({width:contentWidth,height:SCROLLER_HEIGHT})).insertAfter($el),listen())}function checkWidth(){var newScrollWidth=$el.prop("scrollWidth"),newWidth=$el.width();scrollWidth===newScrollWidth&&width===newWidth||($scope.$apply(setup),scrollWidth=newScrollWidth,width=newWidth)}var $window=(0,_jquery2.default)(window),$scroller=(0,_jquery2.default)('<div class="fixed-scroll-scroller">').height(SCROLLER_HEIGHT),unlisten=_lodash2.default.noop,width=void 0,scrollWidth=void 0,debouncedCheckWidth=debounce(checkWidth,100,{invokeApply:!1});$scope.$watch(debouncedCheckWidth),$scope.$on("$destroy",function(){cleanUp(),debouncedCheckWidth.cancel(),$scroller=$window=null})}}})},5170:function(module,exports,__webpack_require__){"use strict";var _url=__webpack_require__(59),_state_hashing=__webpack_require__(452),_notify=__webpack_require__(10),_url_shortener=__webpack_require__(5171),_modules=__webpack_require__(2),_share=__webpack_require__(5172),_share2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_share);_modules.uiModules.get("kibana").directive("share",function(Private){var getUnhashableStates=Private(_state_hashing.getUnhashableStatesProvider),urlShortener=Private(_url_shortener.UrlShortenerProvider);return{restrict:"E",scope:{objectType:"@",objectId:"@",allowEmbed:"@"},template:_share2.default,controllerAs:"share",controller:function($scope,$document,$location){function getOriginalUrl(){if(void 0!==$scope.objectId&&""!==$scope.objectId){var url=$location.absUrl(),unhashedUrl=(0,_state_hashing.unhashUrl)(url,getUnhashableStates()),parsedUrl=(0,_url.parse)(unhashedUrl),parsedAppUrl=(0,_url.parse)(parsedUrl.hash.slice(1),!0);return(0,_url.format)({protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.host,pathname:parsedUrl.pathname,hash:(0,_url.format)({pathname:parsedAppUrl.pathname,query:{_g:parsedAppUrl.query._g}})})}}function getSnapshotUrl(){var url=$location.absUrl();return(0,_state_hashing.unhashUrl)(url,getUnhashableStates())}var _this=this;if("false"!==$scope.allowEmbed&&void 0!==$scope.allowEmbed)throw new Error('allowEmbed must be "false" or undefined');this.allowEmbed="false"!==$scope.allowEmbed,this.objectType=$scope.objectType,this.makeUrlEmbeddable=function(url){return-1!==url.indexOf("?")?url.replace("?","?embed=true&"):url+"?embed=true"},this.makeIframeTag=function(url){if(url)return'<iframe src="'+_this.makeUrlEmbeddable(url)+'" height="600" width="800"></iframe>'},this.urls={original:void 0,snapshot:void 0,shortSnapshot:void 0,shortSnapshotIframe:void 0},this.urlFlags={shortSnapshot:!1,shortSnapshotIframe:!1};var updateUrls=function(){_this.urls={original:getOriginalUrl(),snapshot:getSnapshotUrl(),shortSnapshot:void 0,shortSnapshotIframe:void 0},_this.urlFlags={shortSnapshot:!1,shortSnapshotIframe:!1}};$scope.$watch(function(){return $location.absUrl()},function(){updateUrls()}),this.toggleShortSnapshotUrl=function(){_this.urlFlags.shortSnapshot=!_this.urlFlags.shortSnapshot,_this.urlFlags.shortSnapshot&&urlShortener.shortenUrl(_this.urls.snapshot).then(function(shortUrl){_this.urls.shortSnapshot=shortUrl})},this.toggleShortSnapshotIframeUrl=function(){if(_this.urlFlags.shortSnapshotIframe=!_this.urlFlags.shortSnapshotIframe,_this.urlFlags.shortSnapshotIframe){var snapshotIframe=_this.makeUrlEmbeddable(_this.urls.snapshot);urlShortener.shortenUrl(snapshotIframe).then(function(shortUrl){_this.urls.shortSnapshotIframe=shortUrl})}},this.copyToClipboard=function(selector){$document.find(selector)[0].select();try{document.execCommand("copy")?_notify.toastNotifications.add({title:"URL was copied to the clipboard","data-test-subj":"shareCopyToClipboardSuccess"}):_notify.toastNotifications.add({title:"URL selected. Press Ctrl+C to copy.","data-test-subj":"shareCopyToClipboardSuccess"})}catch(err){_notify.toastNotifications.add({title:"URL selected. Press Ctrl+C to copy.","data-test-subj":"shareCopyToClipboardSuccess"})}}}}})},5171:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UrlShortenerProvider(Notifier,$http){function shortenUrl(absoluteUrl){var basePath=_chrome2.default.getBasePath(),parsedUrl=_url2.default.parse(absoluteUrl),path=parsedUrl.path.replace(basePath,""),hash=parsedUrl.hash?parsedUrl.hash:"",relativeUrl=path+hash,formData={url:relativeUrl};return $http.post(basePath+"/shorten",formData).then(function(result){return _url2.default.format({protocol:parsedUrl.protocol,host:parsedUrl.host,pathname:basePath+"/goto/"+result.data})}).catch(function(response){notify.error(response)})}var notify=new Notifier({location:"Url Shortener"});return{shortenUrl:shortenUrl}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlShortenerProvider=UrlShortenerProvider;var _chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_url=__webpack_require__(59),_url2=_interopRequireDefault(_url)},5172:function(module,exports){module.exports='<div class="kuiLocalDropdownPanels">\n  \x3c!-- Left panel --\x3e\n  <div class="kuiLocalDropdownPanel kuiLocalDropdownPanel--left">\n    \x3c!-- Title --\x3e\n    <h2\n      data-test-subj="shareUiTitle"\n      class="kuiLocalDropdownTitle"\n    >\n      Share saved {{share.objectType}}\n    </h2>\n\n    \x3c!-- Help text --\x3e\n    <div ng-if="share.urls.original" class="kuiLocalDropdownHelpText">\n      You can share this URL with people to let them load the most recent saved version of this {{share.objectType}}.\n    </div>\n\n    <div ng-if="!share.urls.original" class="kuiLocalDropdownWarning">\n      Please save this {{share.objectType}} to enable this sharing option.\n    </div>\n\n    <div ng-if="share.urls.original">\n      \x3c!-- iframe --\x3e\n      <div class="kuiLocalDropdownSection" ng-if="share.allowEmbed">\n        \x3c!-- Header --\x3e\n        <div class="kuiLocalDropdownHeader">\n          <label\n            id="originalIframeUrlLabel"\n            class="kuiLocalDropdownHeader__label"\n            for="originalIframeUrl"\n          >\n            Embedded iframe\n          </label>\n          <div class="kuiLocalDropdownHeader__actions">\n            <a\n              aria-describedby="originalIframeUrlLabel"\n              class="kuiLocalDropdownHeader__action"\n              ng-click="share.copyToClipboard(\'#originalIframeUrl\')"\n              kbn-accessible-click\n            >\n              Copy\n            </a>\n          </div>\n        </div>\n\n        \x3c!-- Input --\x3e\n        <input\n          id="originalIframeUrl"\n          aria-describedby="originalIframeUrlHelpText"\n          class="kuiLocalDropdownInput"\n          type="text"\n          readonly\n          value="{{share.makeIframeTag(share.urls.original)}}"\n        />\n\n        \x3c!-- Notes --\x3e\n        <div\n          id="originalIframeUrlHelpText"\n          class="kuiLocalDropdownFormNote"\n        >\n          Add to your HTML source. Note that all clients must be able to access Kibana.\n        </div>\n      </div>\n\n      \x3c!-- Link --\x3e\n      <div class="kuiLocalDropdownSection">\n        \x3c!-- Header --\x3e\n        <div class="kuiLocalDropdownHeader">\n          <label\n            id="originalUrlLabel"\n            class="kuiLocalDropdownHeader__label"\n            for="originalUrl"\n          >\n            Link\n          </label>\n          <div class="kuiLocalDropdownHeader__actions">\n            <a\n              aria-describedby="originalUrlLabel"\n              class="kuiLocalDropdownHeader__action"\n              ng-click="share.copyToClipboard(\'#originalUrl\')"\n              kbn-accessible-click\n            >\n              Copy\n            </a>\n          </div>\n        </div>\n\n        \x3c!-- Input --\x3e\n        <input\n          id="originalUrl"\n          class="kuiLocalDropdownInput"\n          type="text"\n          readonly\n          value="{{share.urls.original}}"\n        />\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Right panel --\x3e\n  <div class="kuiLocalDropdownPanel kuiLocalDropdownPanel--right">\n    \x3c!-- Title --\x3e\n    <h2 class="kuiLocalDropdownTitle">\n      Share Snapshot\n    </h2>\n\n    \x3c!-- Help text --\x3e\n    <div class="kuiLocalDropdownHelpText">\n      Snapshot URLs encode the current state of the {{share.objectType}} in the URL itself. Edits to the saved {{share.objectType}} won\'t be visible via this URL.\n    </div>\n\n    \x3c!-- iframe --\x3e\n    <div class="kuiLocalDropdownSection" ng-if="share.allowEmbed">\n      \x3c!-- Header --\x3e\n      <div class="kuiLocalDropdownHeader">\n        <label\n          id="snapshotIframeUrlLabel"\n          class="kuiLocalDropdownHeader__label"\n          for="snapshotIframeUrl"\n        >\n          Embedded iframe\n        </label>\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="!share.urlFlags.shortSnapshotIframe"\n            ng-click="share.toggleShortSnapshotIframeUrl()"\n            kbn-accessible-click\n          >\n            Short URL\n          </a>\n\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="share.urlFlags.shortSnapshotIframe"\n            ng-click="share.toggleShortSnapshotIframeUrl()"\n            kbn-accessible-click\n          >\n            Long URL\n          </a>\n\n          <a\n            aria-describedby="snapshotIframeUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-click="share.copyToClipboard(\'#snapshotIframeUrl\')"\n            kbn-accessible-click\n          >\n            Copy\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Input --\x3e\n      <input\n        id="snapshotIframeUrl"\n        aria-describedby="snapshotIframeUrlHelpText"\n        class="kuiLocalDropdownInput"\n        type="text"\n        readonly\n        value="{{share.urlFlags.shortSnapshotIframe ? share.makeIframeTag(share.urls.shortSnapshotIframe) : share.makeIframeTag(share.urls.snapshot)}}"\n      />\n\n      \x3c!-- Notes --\x3e\n      <div\n        id="snapshotIframeUrlHelpText"\n        class="kuiLocalDropdownFormNote"\n      >\n        Add to your HTML source. Note that all clients must be able to access Kibana.\n      </div>\n    </div>\n\n    \x3c!-- Link --\x3e\n    <div class="kuiLocalDropdownSection">\n      \x3c!-- Header --\x3e\n      <div class="kuiLocalDropdownHeader">\n        <label\n          id="snapshotUrlLabel"\n          class="kuiLocalDropdownHeader__label"\n          for="snapshotUrl"\n        >\n          Link\n        </label>\n        <div class="kuiLocalDropdownHeader__actions">\n          <a\n            aria-describedby="snapshotUrlLabel"\n            data-test-subj="sharedSnapshotShortUrlButton"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="!share.urlFlags.shortSnapshot"\n            ng-click="share.toggleShortSnapshotUrl()"\n            kbn-accessible-click\n          >\n            Short URL\n          </a>\n\n          <a\n            aria-describedby="snapshotUrlLabel"\n            class="kuiLocalDropdownHeader__action"\n            ng-if="share.urlFlags.shortSnapshot"\n            ng-click="share.toggleShortSnapshotUrl()"\n            kbn-accessible-click\n          >\n            Long URL\n          </a>\n\n          <a\n            aria-describedby="snapshotUrlLabel"\n            data-test-subj="sharedSnapshotCopyButton"\n            class="kuiLocalDropdownHeader__action"\n            ng-click="share.copyToClipboard(\'#snapshotUrl\')"\n            kbn-accessible-click\n          >\n            Copy\n          </a>\n        </div>\n      </div>\n\n      \x3c!-- Input --\x3e\n      <input\n        data-test-subj="sharedSnapshotUrl"\n        id="snapshotUrl"\n        aria-describedby="snapshotUrlHelpText"\n        class="kuiLocalDropdownInput"\n        type="text"\n        readonly\n        value="{{share.urlFlags.shortSnapshot ? share.urls.shortSnapshot : share.urls.snapshot}}"\n      />\n\n      \x3c!-- Notes --\x3e\n      <div\n        id="snapshotUrlHelpText"\n        class="kuiLocalDropdownFormNote"\n      >\n        We recommend sharing shortened snapshot URLs for maximum compatibility. Internet Explorer has URL length restrictions, and some wiki and markup parsers don\'t do well with the full-length version of the snapshot URL, but the short URL should work great.\n      </div>\n    </div>\n  </div>\n</div>\n'},5173:function(module,exports,__webpack_require__){"use strict";function HitSortFnFactory(){return function(direction){var descending="desc"===direction;return function(hitA,hitB){for(var bBelowa=null,aSorts=hitA.sort||[],bSorts=hitB.sort||[],i=0;i<bSorts.length;i++){var a=aSorts[i],b=bSorts[i];if(null==a||b>a){bBelowa=!descending;break}if(b<a){bBelowa=descending;break}}return null!==bBelowa?bBelowa?-1:1:0}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=HitSortFnFactory,module.exports=exports.default},5174:function(module,exports){module.exports='<discover-app class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="discover" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <div data-transclude-slot="topLeftCorner" class="kuiLocalBreadcrumbs">\n        <h1 tabindex="0" id="kui_local_breadcrumb" class="kuiLocalBreadcrumb">\n          <span ng-show="opts.savedSearch.id" class="kuiLocalBreadcrumb__emphasis">\n            <span data-test-subj="discoverCurrentQuery" ng-bind="opts.savedSearch.lastSavedTitle"></span>\n            <span\n              id="reload_saved_search"\n              aria-label="Reload Saved Search"\n              tooltip="Reload Saved Search"\n              ng-click="resetQuery()"\n              kbn-accessible-click\n              class="kuiIcon fa-undo small"\n            ></span>&nbsp;\n          </span>\n          <span data-test-subj="discoverQueryHits" class="kuiLocalBreadcrumb__emphasis">{{(hits || 0) | number:0}}</span>\n          <ng-pluralize count="hits" when="{\'1\':\'hit\', \'other\':\'hits\'}"></ng-pluralize>\n        </h1>\n      </div>\n\n      \x3c!-- Search. --\x3e\n      <div data-transclude-slot="bottomRow" class="fullWidth">\n        <query-bar\n          query="state.query"\n          app-name="\'discover\'"\n          on-submit="updateQueryAndFetch($query)"\n          index-patterns="[indexPattern]"\n        >\n        </query-bar>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="container-fluid">\n    <div class="row">\n      <filter-bar\n        state="state"\n        index-patterns="[indexPattern]"\n      ></filter-bar>\n    </div>\n    <div class="row">\n      <div class="col-md-2 sidebar-container collapsible-sidebar" id="discover-sidebar">\n        <disc-field-chooser\n          columns="state.columns"\n          hits="rows"\n          field-counts="fieldCounts"\n          index-pattern="searchSource.get(\'index\')"\n          index-pattern-list="opts.indexPatternList"\n          state="state"\n          on-add-field="addColumn"\n          on-add-filter="filterQuery"\n          on-remove-field="removeColumn"\n        >\n        </disc-field-chooser>\n      </div>\n\n      <div class="discover-wrapper col-md-10">\n        <div class="discover-content">\n          <discover-no-results\n            ng-show="resultState === \'none\'"\n            top-nav-toggle="kbnTopNav.toggle"\n            is-time-picker-open="kbnTopNav.isCurrent(\'filter\')"\n            shard-failures="failures"\n            time-field-name="opts.timefield"\n            query-language="state.query.language"\n            get-doc-link="getDocLink"\n          ></discover-no-results>\n\n          \x3c!-- loading --\x3e\n          <div ng-show="resultState === \'loading\'">\n            <discover-fetch-error\n              ng-show="fetchError"\n              fetch-error="fetchError"\n            ></discover-fetch-error>\n\n            <div\n              ng-hide="fetchError"\n              class="discover-overlay"\n            >\n              <div class="euiTitle" >\n                <h2>Searching</h2>\n              </div>\n              <div class="euiSpacer euiSpacer--m"></div>\n              <div ng-show="fetchStatus">{{fetchStatus.complete}}/{{fetchStatus.total}}</div>\n            </div>\n          </div>\n\n          \x3c!-- result --\x3e\n          <div class="results" ng-show="resultState === \'ready\'">\n            <button\n              class="kuiButton kuiButton--basic kuiButton--iconText discover-skip-button"\n              ng-click="showAllRows(); scrollToBottom()"\n            >\n              <span class="kuiButton__inner">\n                <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-chevron-down"></span>\n                <span>Skip to bottom</span>\n              </span>\n            </button>\n\n            <section aria-label="Histogram of found documents" class="discover-timechart" ng-if="opts.timefield">\n              <header>\n                <center class="small">\n                  <span tooltip="To change the time, click the clock icon in the navigation bar">{{timeRange.from | moment}} - {{timeRange.to | moment}}</span>\n\n                  &mdash;\n\n                  <span class="results-interval form-inline">\n                    <select\n                      class="form-control"\n                      ng-model="state.interval"\n                      ng-options="interval.val as interval.display for interval in intervalOptions | filter: intervalEnabled"\n                      ng-blur="toggleInterval()"\n                      data-test-subj="discoverIntervalSelect"\n                      >\n                    </select>\n                    <span ng-if="bucketInterval.scaled">\n                      <icon-tip\n                        content="getBucketIntervalToolTipText()"\n                        position="\'top\'"\n                      ></icon-tip>\n                      Scaled to {{ bucketInterval.description }}\n                    </span>\n                  </span>\n                </center>\n\n              </header>\n\n              <visualization\n                 ng-if="vis && rows.length != 0"\n                 vis="vis"\n                 ui-state="uiState"\n                 vis-data="visData"\n                 show-spy-panel="true"\n                 search-source="searchSource"\n                 style="height: 200px"\n                >\n              </visualization>\n            </section>\n\n            <section class="discover-table" fixed-scroll aria-label="Documents">\n              <doc-table\n                hits="rows"\n                index-pattern="indexPattern"\n                sorting="state.sort"\n                columns="state.columns"\n                infinite-scroll="true"\n                filter="filterQuery"\n                filters="state.filters"\n                data-shared-item\n                data-title="{{opts.savedSearch.lastSavedTitle}}"\n                data-description="{{opts.savedSearch.description}}"\n                minimum-visible-rows="minimumVisibleRows"\n                render-complete\n                on-add-column="addColumn"\n                on-change-sort-order="setSortOrder"\n                on-move-column="moveColumn"\n                on-remove-column="removeColumn"\n              ></doc-table>\n\n              <a tabindex="0" id="discoverBottomMarker"></a>\n\n              <div ng-if="rows.length == opts.sampleSize" class="discover-table-footer">\n                These are the first {{opts.sampleSize}} documents matching\n                your search, refine your search to see others.\n                <a kbn-accessible-click ng-click="scrollToTop()">Back to top.</a>\n              </div>\n            </section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </main>\n</discover-app>\n'},5175:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5176)},5176:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(183);var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_modules=__webpack_require__(2),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_eui=__webpack_require__(5);__webpack_require__(5177);var DiscoverFetchError=function(_ref){var fetchError=_ref.fetchError;if(!fetchError)return null;var body=void 0;if("painless"===fetchError.lang){var managementUrl=_chrome2.default.getNavLinkById("kibana:management").url,url=managementUrl+"/kibana/indices";body=_react2.default.createElement("p",null,"You can address this error by editing the ‘",fetchError.script,"’ field in ",_react2.default.createElement("a",{href:url},"Management > Index Patterns"),", under the “Scripted fields” tab.")}return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center","data-test-subj":"discoverFetchError"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1,className:"discoverFetchError"},_react2.default.createElement(_eui.EuiCallOut,{title:fetchError.message,color:"danger",iconType:"cross"},body,_react2.default.createElement(_eui.EuiCodeBlock,null,fetchError.error)))),_react2.default.createElement(_eui.EuiSpacer,{size:"xl"}))};_modules.uiModules.get("apps/discover",["react"]).directive("discoverFetchError",function(reactDirective){return reactDirective(DiscoverFetchError)})},5177:function(module,exports){},5178:function(module,exports){module.exports='<form\n  role="form"\n  ng-submit="opts.saveDataSource()"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Save Search\n  </h2>\n\n  <input\n    class="kuiLocalDropdownInput"\n    id="SaveSearch"\n    ng-model="opts.savedSearch.title"\n    input-focus="select"\n    placeholder="Name this search..."\n    aria-label="Name"\n  >\n\n  <saved-object-save-as-check-box\n    class="kuiVerticalRhythmSmall"\n    saved-object="opts.savedSearch"\n  ></saved-object-save-as-check-box>\n\n  <button\n    ng-disabled="!opts.savedSearch.title"\n    data-test-subj="discoverSaveSearchButton"\n    type="submit"\n    class="kuiButton kuiButton--primary kuiVerticalRhythmSmall"\n  >\n    Save\n  </button>\n</form>\n'},5179:function(module,exports){module.exports='<form role="form" ng-submit="fetch()" data-test-subj="loadSearchForm">\n  <h2 class="kuiLocalDropdownTitle">\n    Open Search\n  </h2>\n\n  <saved-object-finder type="searches"></saved-object-finder>\n</form>\n'},5180:function(module,exports){module.exports='<share\n  object-type="search"\n  object-id="{{opts.savedSearch.id}}"\n  allow-embed="false">\n</share>\n'},5181:function(module,exports){},5182:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(303),__webpack_require__(5183),__webpack_require__(5187),__webpack_require__(1523),__webpack_require__(5190),__webpack_require__(5200),__webpack_require__(5201),__webpack_require__(1200),__webpack_require__(489),__webpack_require__(656),__webpack_require__(364);var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_visualize_listing=__webpack_require__(5202),_visualize_listing2=_interopRequireDefault(_visualize_listing),_visualize_listing3=__webpack_require__(5203),_visualize_constants=__webpack_require__(312),_feature_catalogue=__webpack_require__(58);_routes2.default.defaults(/visualize/,{requireDefaultIndex:!0}).when(_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,{template:_visualize_listing2.default,controller:_visualize_listing3.VisualizeListingController,controllerAs:"listingController"}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"visualize",title:"Visualize",description:"Create visualizations and aggregate data stores in your Elasticsearch indices.",icon:"/plugins/kibana/assets/app_visualize.svg",path:"/app/kibana#"+_visualize_constants.VisualizeConstants.LANDING_PAGE_PATH,showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5183:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function VisEditor($scope,$route,timefilter,AppState,$window,kbnUrl,courier,Private,Promise,config,kbnBaseUrl,localStorage){var docTitle=Private(_doc_title.DocTitleProvider),queryFilter=Private(_query_filter.FilterBarQueryFilterProvider),notify=new _notify.Notifier({location:"Visualization Editor"}),savedVis=$route.current.locals.savedVis,vis=savedVis.vis,searchSource=savedVis.searchSource;$scope.vis=vis,$scope.topNavMenu=[{key:"save",description:"Save Visualization",template:__webpack_require__(5185),testId:"visualizeSaveButton",disableButton:function(){return Boolean(vis.dirty)},tooltip:function(){if(vis.dirty)return"Apply or Discard your changes before saving"}},{key:"share",description:"Share Visualization",template:__webpack_require__(5186),testId:"visualizeShareButton"},{key:"refresh",description:"Refresh",run:function(){vis.forceReload()},testId:"visualizeRefreshButton"}];var stateMonitor=void 0,$appStatus=this.appStatus={dirty:!savedVis.id};this.getSharingTitle=function(){return savedVis.title},this.getSharingType=function(){return"visualization"},savedVis.id&&docTitle.change(savedVis.title);var savedVisState=vis.getState(),stateDefaults={uiState:savedVis.uiStateJSON?JSON.parse(savedVis.uiStateJSON):{},linked:!!savedVis.savedSearchId,query:searchSource.getOwn("query")||{query:"",language:localStorage.get("kibana.userQueryLanguage")||config.get("search:queryLanguage")},filters:searchSource.getOwn("filter")||[],vis:savedVisState},$state=function(){var appState=new AppState(stateDefaults);return _angular2.default.equals(appState.vis,savedVisState)||Promise.try(function(){vis.setState(appState.vis)}).catch(courier.redirectWhenMissing({"index-pattern-field":"/visualize"})),appState}();$scope.updateQueryAndFetch=function(query){$state.query=(0,_migrateLegacyQuery.migrateLegacyQuery)(query),$scope.fetch()},$scope.doSave=function(){$state.vis.title=savedVis.title,$state.vis.type=savedVis.type||$state.vis.type,savedVis.visState=$state.vis,savedVis.uiStateJSON=_angular2.default.toJson($scope.uiState.getChanges()),savedVis.save().then(function(id){if(stateMonitor.setInitialState($state.toJSON()),$scope.kbnTopNav.close("save"),id)if(_notify.toastNotifications.addSuccess({title:"Saved '"+savedVis.title+"'","data-test-subj":"saveVisualizationSuccess"}),$scope.isAddToDashMode()){var savedVisualizationParsedUrl=new _kibana_parsed_url.KibanaParsedUrl({basePath:_chrome2.default.getBasePath(),appId:kbnBaseUrl.slice("/app/".length),appPath:kbnUrl.eval(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})});$window.history.pushState({},"",savedVisualizationParsedUrl.getRootRelativePath()),_chrome2.default.trackSubUrlForApp("kibana:visualize",savedVisualizationParsedUrl);var lastDashboardAbsoluteUrl=_chrome2.default.getNavLinkById("kibana:dashboard").lastSubUrl,dashboardParsedUrl=(0,_absolute_to_parsed_url.absoluteToParsedUrl)(lastDashboardAbsoluteUrl,_chrome2.default.getBasePath());dashboardParsedUrl.addQueryParameter(_dashboard_constants.DashboardConstants.NEW_VISUALIZATION_ID_PARAM,savedVis.id),kbnUrl.change(dashboardParsedUrl.appPath)}else savedVis.id===$route.current.params.id?docTitle.change(savedVis.lastSavedTitle):kbnUrl.change(_visualize_constants.VisualizeConstants.EDIT_PATH+"/{{id}}",{id:savedVis.id})},notify.error)},$scope.unlink=function(){if($state.linked){_notify.toastNotifications.addSuccess("Unlinked from saved search '"+savedVis.savedSearch.title+"'"),$state.linked=!1;var parent=searchSource.getParent(!0),parentsParent=parent.getParent(!0);delete savedVis.savedSearchId,parent.set("filter",_lodash2.default.union(searchSource.getOwn("filter"),parent.getOwn("filter"))),(0,_lodash2.default)(parent.toJSON()).omit(["aggs","filter","query"]).forOwn(function(val,key){searchSource.set(key,val)}).commit(),$state.query=searchSource.get("query"),$state.filters=searchSource.get("filter"),searchSource.inherits(parentsParent),$scope.fetch()}},$scope.getAdditionalMessage=function(){return'<i class="kuiIcon fa-flask"></i> This visualization is marked as experimental. '+vis.type.feedbackMessage},function(){$scope.savedVis=savedVis,$scope.indexPattern=vis.indexPattern,$scope.searchSource=searchSource,$scope.state=$state,$scope.uiState=$state.makeStateful("uiState"),$scope.appStatus=$appStatus;var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM),$scope.isAddToDashMode=function(){return addToDashMode},$scope.timefilter=timefilter,$scope.timeRange=timefilter.time,$scope.opts=_lodash2.default.pick($scope,"doSave","savedVis","shareData","timefilter","isAddToDashMode"),stateMonitor=_state_monitor_factory.stateMonitorFactory.create($state,stateDefaults),stateMonitor.ignoreProps(["vis.listeners"]).onChange(function(status){$appStatus.dirty=status.dirty||!savedVis.id}),$scope.$watch("state.query",$scope.updateQueryAndFetch),$state.replace(),$scope.getVisualizationTitle=function(){return savedVis.lastSavedTitle||savedVis.title+" (unsaved)"},$scope.$watchMulti(['searchSource.get("index")',"vis.type.options.showTimePicker"],function(_ref){var _ref2=_slicedToArray(_ref,2),index=_ref2[0],requiresTimePicker=_ref2[1];Boolean((!index||index.timeFieldName)&&requiresTimePicker)?timefilter.enableTimeRangeSelector():timefilter.disableTimeRangeSelector()});var updateTimeRange=function(){$scope.timeRange=timefilter.time};timefilter.enableAutoRefreshSelector(),timefilter.on("update",updateTimeRange),$scope.$listen(queryFilter,"update",function(){$state.save()}),$scope.fetch=function(){$state.save(),$scope.vis.forceReload()},$scope.$on("$destroy",function(){savedVis.destroy(),stateMonitor.destroy(),timefilter.off("update",updateTimeRange)})}()}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(489),__webpack_require__(1426),__webpack_require__(1523),__webpack_require__(752),__webpack_require__(1521),__webpack_require__(1522),__webpack_require__(734);var _chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_notify=__webpack_require__(10),_vis_types=__webpack_require__(94),_doc_title=__webpack_require__(255),_query_filter=__webpack_require__(164),_state_monitor_factory=__webpack_require__(396),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_editor=__webpack_require__(5184),_editor2=_interopRequireDefault(_editor),_dashboard_constants=__webpack_require__(138),_visualize_constants=__webpack_require__(312),_kibana_parsed_url=__webpack_require__(631),_absolute_to_parsed_url=__webpack_require__(1034),_migrateLegacyQuery=__webpack_require__(457),_persisted_log=__webpack_require__(130);_routes2.default.when(_visualize_constants.VisualizeConstants.CREATE_PATH,{template:_editor2.default,resolve:{savedVis:function(savedVisualizations,courier,$route,Private){var visTypes=Private(_vis_types.VisTypesRegistryProvider),visType=_lodash2.default.find(visTypes,{name:$route.current.params.type}),shouldHaveIndex=visType.requiresSearch&&visType.options.showIndexSelection,hasIndex=$route.current.params.indexPattern||$route.current.params.savedSearchId;if(shouldHaveIndex&&!hasIndex)throw new Error("You must provide either an indexPattern or a savedSearchId");return savedVisualizations.get($route.current.params).catch(courier.redirectWhenMissing({"*":"/visualize"}))}}}).when(_visualize_constants.VisualizeConstants.EDIT_PATH+"/:id",{template:_editor2.default,resolve:{savedVis:function(savedVisualizations,courier,$route){return savedVisualizations.get($route.current.params.id).then(function(savedVis){return _persisted_log.recentlyAccessed.add(savedVis.getFullPath(),savedVis.title,savedVis.id),savedVis}).catch(courier.redirectWhenMissing({visualization:"/visualize",search:"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id,"index-pattern-field":"/management/kibana/objects/savedVisualizations/"+$route.current.params.id}))}}}),_modules.uiModules.get("app/visualize",["kibana/notify","kibana/courier"]).directive("visualizeApp",function(){return{restrict:"E",controllerAs:"visualizeApp",controller:VisEditor}})},5184:function(module,exports){module.exports='<visualize-app class="app-container vis-editor vis-type-{{ vis.type.name }}">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="visualize" config="topNavMenu">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        page-title="getVisualizationTitle()"\n        use-links="true"\n        omit-current-page="true"\n        omit-pages="[\'edit\']"\n      ></bread-crumbs>\n\n      \x3c!-- Search. --\x3e\n      <div\n        data-transclude-slot="bottomRow"\n        ng-show="chrome.getVisible()"\n        class="fullWidth"\n      >\n        <div ng-if="vis.type.requiresSearch && state.linked">\n          Linked to Saved Search\n          <a\n            href="#/discover/{{savedVis.savedSearch.id}}"\n          >\n            {{ savedVis.savedSearch.title }}\n          </a>\n          &nbsp;\n          <a\n            href=""\n            ng-dblclick="unlink()"\n            tooltip="Double click to unlink from Saved Search"\n          >\n            <span aria-hidden="true" class="kuiIcon fa-chain-broken"></span>\n          </a>\n        </div>\n\n        <div ng-if="vis.type.requiresSearch && vis.type.options.showQueryBar" class="fullWidth">\n          <query-bar\n            query="state.query"\n            app-name="\'visualize\'"\n            on-submit="updateQueryAndFetch($query)"\n            disable-auto-focus="true"\n            index-patterns="[indexPattern]"\n          >\n          </query-bar>\n        </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  \x3c!-- Filters. --\x3e\n  <filter-bar\n    ng-if="vis.type.options.showFilterBar"\n    state="state"\n    index-patterns="[indexPattern]"\n  ></filter-bar>\n\n  <div\n    class="euiCallOut euiCallOut--primary euiCallOut--small hide-for-sharing"\n    ng-if="vis.type.shouldMarkAsExperimentalInUI()"\n    data-test-subj="experimentalVisInfo"\n  >\n    <div class="euiText">\n      <p ng-bind-html="getAdditionalMessage()"></p>\n    </div>\n  </div>\n\n  <visualize\n    saved-obj="savedVis"\n    ui-state="uiState"\n    app-state="state"\n    editor-mode="chrome.getVisible()"\n    show-spy-panel="chrome.getVisible()"\n    time-range="timeRange"\n    >\n\n  </visualize>\n\n</visualize-app>\n'},5185:function(module,exports){module.exports='<form\n  role="form"\n  ng-submit="opts.doSave()"\n>\n  <h2 class="kuiLocalDropdownTitle">\n    Save Visualization\n  </h2>\n\n  <input\n    class="kuiLocalDropdownInput"\n    input-focus="select"\n    type="text"\n    data-test-subj="visTitleInput"\n    name="visTitle"\n    ng-model="opts.savedVis.title"\n    aria-label="Name"\n    required\n  >\n\n  <saved-object-save-as-check-box\n    class="kuiVerticalRhythmSmall"\n    saved-object="opts.savedVis"\n  ></saved-object-save-as-check-box>\n\n  <button\n    data-test-subj="saveVisualizationButton"\n    type="submit"\n    class="kuiButton kuiButton--primary kuiVerticalRhythmSmall"\n  >\n    {{ opts.isAddToDashMode() ? \'Save and Add to Dashboard\' : \'Save\'}}\n  </button>\n</form>\n'},5186:function(module,exports){module.exports='<share\n  object-type="visualization"\n  object-id="{{opts.savedVis.id}}">\n</share>\n'},5187:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(489),__webpack_require__(670),__webpack_require__(1136),__webpack_require__(692),__webpack_require__(1185);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_vis_category=__webpack_require__(63),_dashboard_constants=__webpack_require__(138),_visualize_constants=__webpack_require__(312),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_vis_types=__webpack_require__(94),_modules=__webpack_require__(2),_step_=__webpack_require__(5188),_step_2=_interopRequireDefault(_step_),_step_3=__webpack_require__(5189),_step_4=_interopRequireDefault(_step_3),_saved_objects=__webpack_require__(67),_module=_modules.uiModules.get("app/visualize",["kibana/courier"]);_routes2.default.when("/visualize/step/1",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH}),_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH,{template:_step_2.default,controller:"VisualizeWizardStep1"}),_module.controller("VisualizeWizardStep1",function($scope,$route,kbnUrl,timefilter,Private,config){timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector();var addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM);var visTypes=Private(_vis_types.VisTypesRegistryProvider),isLabsEnabled=config.get("visualize:enableLabs");$scope.toggleLabView=function(){$route.current.params.lab=!$route.current.params.lab,$route.updateParams($route.current.params),$route.reload()};var categoryToVisTypesMap={};visTypes.forEach(function(visType){var categoryName=visType.category;if(categoryName!==_vis_category.CATEGORY.HIDDEN&&(isLabsEnabled||"lab"!==visType.stage)){_vis_category.CATEGORY_DISPLAY_NAMES[categoryName]||(categoryName=_vis_category.CATEGORY.OTHER),categoryToVisTypesMap[categoryName]||(categoryToVisTypesMap[categoryName]={label:_vis_category.CATEGORY_DISPLAY_NAMES[categoryName],list:[]});var categoryVisTypes=categoryToVisTypesMap[categoryName];categoryVisTypes.list=_lodash2.default.sortBy(categoryVisTypes.list.concat(visType),function(type){return type.title})}});var sortedVisTypeCategories=Object.values(categoryToVisTypesMap).sort(function(a,b){var other=_vis_category.CATEGORY.OTHER.toLowerCase(),labelA=a.label.toLowerCase();if(labelA===other)return 1;var labelB=b.label.toLowerCase();return labelB===other?-1:labelA<labelB?-1:labelA>labelB?1:0});$scope.searchTerm="",$scope.filteredVisTypeCategories=[],$scope.$watch("searchTerm",function(){$scope.filteredVisTypeCategories=function(){var normalizedSearchTerm=$scope.searchTerm.toLowerCase().trim();return sortedVisTypeCategories.map(function(category){if(category.label.toLowerCase().includes(normalizedSearchTerm))return category;var filteredVisTypes=category.list.filter(function(visType){return visType.title.toLowerCase().includes(normalizedSearchTerm)});return{label:category.label,list:filteredVisTypes}}).filter(function(category){return category.list.length})}()}),$scope.getVisTypeId=function(type){return _lodash2.default.camelCase(type.name)},$scope.getVisTypeTooltip=function(type){var prefix="";return"lab"===type.stage?prefix="(Lab)":"experimental"===type.stage&&(prefix="(Experimental)"),prefix+" "+type.description},$scope.getVisTypeTooltipPosition=function(index){return index===$scope.filteredVisTypeCategories.length-1?"top":"bottom"},$scope.getVisTypeUrl=function(visType){var baseUrl=visType.requiresSearch&&visType.options.showIndexSelection?"#"+_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH+"?":"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?",params=["type="+encodeURIComponent(visType.name)];return addToDashMode&&params.push(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM),baseUrl+params.join("&")}}),_routes2.default.when("/visualize/step/2",{redirectTo:_visualize_constants.VisualizeConstants.WIZARD_STEP_1_PAGE_PATH}),_routes2.default.when(_visualize_constants.VisualizeConstants.WIZARD_STEP_2_PAGE_PATH,{template:_step_4.default,controller:"VisualizeWizardStep2",resolve:{indexPatterns:function(Private){return Private(_saved_objects.SavedObjectsClientProvider).find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}}}),_module.controller("VisualizeWizardStep2",function($route,$scope,timefilter,kbnUrl){var type=$route.current.params.type,addToDashMode=$route.current.params[_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM];kbnUrl.removeParam(_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM),$scope.step2WithSearchUrl=function(hit){return addToDashMode?kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}&"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM,{type:type,id:hit.id}):kbnUrl.eval("#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type={{type}}&savedSearchId={{id}}",{type:type,id:hit.id})},timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector(),$scope.indexPattern={selection:null,list:$route.current.locals.indexPatterns},$scope.makeUrl=function(pattern){if(pattern)return addToDashMode?"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?"+_dashboard_constants.DashboardConstants.ADD_VISUALIZATION_TO_DASHBOARD_MODE_PARAM+"&type="+type+"&indexPattern="+pattern.id:"#"+_visualize_constants.VisualizeConstants.CREATE_PATH+"?type="+type+"&indexPattern="+pattern.id}})},5188:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'New\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectTypePage">\n  <div class="kuiViewContentItem">\n    \x3c!-- Header --\x3e\n    <div class="visualizeViewContentHeader kuiVerticalRhythm kuiVerticalRhythm--medium">\n      <h1 class="kuiTitle">\n        Select visualization type\n      </h1>\n    </div>\n\n    \x3c!-- Search --\x3e\n    <div class="kuiSearchInput kuiVerticalRhythm kuiVerticalRhythm--medium fullWidth" role="search">\n      <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n      <input\n        class="kuiSearchInput__input"\n        type="text"\n        placeholder="Search visualization types..."\n        ng-model="searchTerm"\n      >\n    </div>\n    <div\n      class="kuiVerticalRhythm kuiVerticalRhythm--medium"\n      ng-repeat="category in filteredVisTypeCategories"\n    >\n\n      \x3c!-- Title for each category --\x3e\n      <h2 class="kuiSubTitle kuiVerticalRhythm">\n        {{ category.label }}\n      </h2>\n\n      \x3c!-- Gallery of buttons for each vis type --\x3e\n      <div class="kuiGallery kuiVerticalRhythm">\n        <a\n          class="kuiGalleryItem"\n          ng-repeat="type in category.list"\n          ng-href="{{ getVisTypeUrl(type) }}"\n          tooltip="{{ getVisTypeTooltip(type) }}"\n          tooltip-placement="{{ getVisTypeTooltipPosition($parent.$index) }}"\n          aria-describedby="visDescription_{{ ::getVisTypeId(type) }}"\n        >\n          <div class="kuiGalleryItem__image">\n            <img\n              ng-if="type.image"\n              aria-hidden="true"\n              ng-src="{{ type.image }}"\n            />\n\n            \x3c!-- If there\'s no image, default to an icon, for BWC. --\x3e\n            <span\n              ng-if="!type.image"\n              aria-hidden="true"\n              class="kuiIcon visualizeWizardVisTypeIcon"\n              ng-class="type.icon"\n            ></span>\n          </div>\n\n          <div\n            class="kuiGalleryItem__label"\n            data-test-subj="visualizeWizardChartTypeTitle"\n          >\n            {{ type.title }}\n          </div>\n\n          <div\n            class="kuiGalleryItem__icon kuiIcon fa-flask"\n            ng-if="type.shouldMarkAsExperimentalInUI()"\n          ></div>\n\n          <span\n            class="euiScreenReaderOnly"\n            aria-hidden="true"\n            id="visDescription_{{ ::getVisTypeId(type) }}"\n          >{{::getVisTypeTooltip(type)}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'},5189:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Breadcrumbs. --\x3e\n    <bread-crumbs\n      data-transclude-slot="topLeftCorner"\n      use-links="true"\n      omit-current-page="true"\n      page-title="\'Choose search source\'"\n    ></bread-crumbs>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem" data-test-subj="visualizeSelectSearch">\n  <div class="wizard kuiViewContentItem">\n    <div class="wizard-column wizard-column--small">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        From a New Search, Select Index\n      </h2>\n\n      <paginated-selectable-list\n        per-page="20"\n        list="indexPattern.list"\n        list-property="attributes.title"\n        user-make-url="makeUrl"\n        class="wizard-row visualizeWizardPaginatedSelectableList kuiVerticalRhythm"\n        disable-auto-focus="true"\n      ></paginated-selectable-list>\n    </div>\n\n    <div class="wizard-column wizard-column--large">\n      <h2 class="kuiTitle kuiVerticalRhythm">\n        Or, From a Saved Search\n      </h2>\n\n      \x3c!-- Saved searches --\x3e\n      <saved-object-finder\n        type="searches"\n        class="wizard-row visualizeWizardSavedObjectFinder kuiVerticalRhythm"\n        make-url="step2WithSearchUrl"\n        disable-auto-focus="true"\n      ></saved-object-finder>\n    </div>\n  </div>\n</div>\n'},5190:function(module,exports,__webpack_require__){"use strict";var _dragula=__webpack_require__(5191),_dragula2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_dragula),_modules=__webpack_require__(2),_collection=__webpack_require__(295);_modules.uiModules.get("kibana").directive("draggableContainer",function(){var $scopes=new WeakMap;return{restrict:"A",scope:!0,controllerAs:"draggableContainerCtrl",controller:function($scope,$attrs,$parse,$element){$scopes.set($element.get(0),$scope),this.linkDraggableItem=function(el,$scope){$scopes.set(el,$scope)},this.getList=function(){return $parse($attrs.draggableContainer)($scope)}},link:function($scope,$el){function markDragging(isDragging){return function(el){var scope=$scopes.get(el);scope&&(scope.isDragging=isDragging,scope.$apply())}}function forwardEvent(type,el){var name="drag-"+(prettifiedDrakeEvents[type]||type),scope=$scopes.get(el);if(scope){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++)args[_key2-2]=arguments[_key2];scope.$broadcast.apply(scope,[name,el].concat(args))}}function drop(el,target,source,sibling){var list=$scope.draggableContainerCtrl.getList(),itemScope=$scopes.get(el);if(itemScope){var item=itemScope.draggableItemCtrl.getItem(),fromIndex=list.indexOf(item),siblingIndex=getItemIndexFromElement(list,sibling),toIndex=getTargetIndex(list,fromIndex,siblingIndex);(0,_collection.move)(list,item,toIndex)}}function getTargetIndex(list,fromIndex,siblingIndex){return-1===siblingIndex?list.length-1:fromIndex<siblingIndex?siblingIndex-1:siblingIndex}function getItemIndexFromElement(list,element){if(!element)return-1;var scope=$scopes.get(element);if(scope){var item=scope.draggableItemCtrl.getItem();return list.indexOf(item)}}var drake=(0,_dragula2.default)({containers:$el.toArray(),moves:function(el,source,handle){var itemScope=$scopes.get(el);if(itemScope&&"draggableItemCtrl"in itemScope)return itemScope.draggableItemCtrl.moves(handle)}}),prettifiedDrakeEvents={drag:"start",dragend:"end"};["cancel","cloned","drag","dragend","drop","out","over","remove","shadow"].forEach(function(type){drake.on(type,function(el){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return forwardEvent.apply(void 0,[type,el].concat(args))})}),drake.on("drag",markDragging(!0)),drake.on("dragend",markDragging(!1)),drake.on("drop",drop),$scope.$on("$destroy",drake.destroy),$scope.drake=drake}}})},5191:function(module,exports,__webpack_require__){"use strict";(function(global){function dragula(initialContainers,options){function isContainer(el){return-1!==drake.containers.indexOf(el)||o.isContainer(el)}function events(remove){var op=remove?"remove":"add";touchy(documentElement,op,"mousedown",grab),touchy(documentElement,op,"mouseup",release)}function eventualMovements(remove){touchy(documentElement,remove?"remove":"add","mousemove",startBecauseMouseMoved)}function movements(remove){var op=remove?"remove":"add";crossvent[op](documentElement,"selectstart",preventGrabbed),crossvent[op](documentElement,"click",preventGrabbed)}function destroy(){events(!0),release({})}function preventGrabbed(e){_grabbed&&e.preventDefault()}function grab(e){if(_moveX=e.clientX,_moveY=e.clientY,!(1!==whichMouseButton(e)||e.metaKey||e.ctrlKey)){var item=e.target,context=canStart(item);context&&(_grabbed=context,eventualMovements(),"mousedown"===e.type&&(isInput(item)?item.focus():e.preventDefault()))}}function startBecauseMouseMoved(e){if(_grabbed){if(0===whichMouseButton(e))return void release({});if(void 0===e.clientX||e.clientX!==_moveX||void 0===e.clientY||e.clientY!==_moveY){if(o.ignoreInputTextSelection){var clientX=getCoord("clientX",e),clientY=getCoord("clientY",e);if(isInput(doc.elementFromPoint(clientX,clientY)))return}var grabbed=_grabbed;eventualMovements(!0),movements(),end(),start(grabbed);var offset=getOffset(_item);_offsetX=getCoord("pageX",e)-offset.left,_offsetY=getCoord("pageY",e)-offset.top,classes.add(_copy||_item,"gu-transit"),renderMirrorImage(),drag(e)}}}function canStart(item){if(!(drake.dragging&&_mirror||isContainer(item))){for(var handle=item;getParent(item)&&!1===isContainer(getParent(item));){if(o.invalid(item,handle))return;if(!(item=getParent(item)))return}var source=getParent(item);if(source&&!o.invalid(item,handle)){if(o.moves(item,source,handle,nextEl(item)))return{item:item,source:source}}}}function canMove(item){return!!canStart(item)}function manualStart(item){var context=canStart(item);context&&start(context)}function start(context){isCopy(context.item,context.source)&&(_copy=context.item.cloneNode(!0),drake.emit("cloned",_copy,context.item,"copy")),_source=context.source,_item=context.item,_initialSibling=_currentSibling=nextEl(context.item),drake.dragging=!0,drake.emit("drag",_item,_source)}function invalidTarget(){return!1}function end(){if(drake.dragging){var item=_copy||_item;drop(item,getParent(item))}}function ungrab(){_grabbed=!1,eventualMovements(!0),movements(!0)}function release(e){if(ungrab(),drake.dragging){var item=_copy||_item,clientX=getCoord("clientX",e),clientY=getCoord("clientY",e),elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY),dropTarget=findDropTarget(elementBehindCursor,clientX,clientY);dropTarget&&(_copy&&o.copySortSource||!_copy||dropTarget!==_source)?drop(item,dropTarget):o.removeOnSpill?remove():cancel()}}function drop(item,target){var parent=getParent(item);_copy&&o.copySortSource&&target===_source&&parent.removeChild(_item),isInitialPlacement(target)?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,target,_source,_currentSibling),cleanup()}function remove(){if(drake.dragging){var item=_copy||_item,parent=getParent(item);parent&&parent.removeChild(item),drake.emit(_copy?"cancel":"remove",item,parent,_source),cleanup()}}function cancel(revert){if(drake.dragging){var reverts=arguments.length>0?revert:o.revertOnSpill,item=_copy||_item,parent=getParent(item),initial=isInitialPlacement(parent);!1===initial&&reverts&&(_copy?parent.removeChild(_copy):_source.insertBefore(item,_initialSibling)),initial||reverts?drake.emit("cancel",item,_source,_source):drake.emit("drop",item,parent,_source,_currentSibling),cleanup()}}function cleanup(){var item=_copy||_item;ungrab(),removeMirrorImage(),item&&classes.rm(item,"gu-transit"),_renderTimer&&clearTimeout(_renderTimer),drake.dragging=!1,_lastDropTarget&&drake.emit("out",item,_lastDropTarget,_source),drake.emit("dragend",item),_source=_item=_copy=_initialSibling=_currentSibling=_renderTimer=_lastDropTarget=null}function isInitialPlacement(target,s){var sibling;return sibling=void 0!==s?s:_mirror?_currentSibling:nextEl(_copy||_item),target===_source&&sibling===_initialSibling}function findDropTarget(elementBehindCursor,clientX,clientY){for(var target=elementBehindCursor;target&&!function(){if(!1===isContainer(target))return!1;var immediate=getImmediateChild(target,elementBehindCursor),reference=getReference(target,immediate,clientX,clientY);return!!isInitialPlacement(target,reference)||o.accepts(_item,target,_source,reference)}();)target=getParent(target);return target}function drag(e){function moved(type){drake.emit(type,item,_lastDropTarget,_source)}if(_mirror){e.preventDefault();var clientX=getCoord("clientX",e),clientY=getCoord("clientY",e),x=clientX-_offsetX,y=clientY-_offsetY;_mirror.style.left=x+"px",_mirror.style.top=y+"px";var item=_copy||_item,elementBehindCursor=getElementBehindPoint(_mirror,clientX,clientY),dropTarget=findDropTarget(elementBehindCursor,clientX,clientY),changed=null!==dropTarget&&dropTarget!==_lastDropTarget;(changed||null===dropTarget)&&(function(){_lastDropTarget&&moved("out")}(),_lastDropTarget=dropTarget,function(){changed&&moved("over")}());var parent=getParent(item);if(dropTarget===_source&&_copy&&!o.copySortSource)return void(parent&&parent.removeChild(item));var reference,immediate=getImmediateChild(dropTarget,elementBehindCursor);if(null!==immediate)reference=getReference(dropTarget,immediate,clientX,clientY);else{if(!0!==o.revertOnSpill||_copy)return void(_copy&&parent&&parent.removeChild(item));reference=_initialSibling,dropTarget=_source}(null===reference&&changed||reference!==item&&reference!==nextEl(item))&&(_currentSibling=reference,dropTarget.insertBefore(item,reference),drake.emit("shadow",item,dropTarget,_source))}}function spillOver(el){classes.rm(el,"gu-hide")}function spillOut(el){drake.dragging&&classes.add(el,"gu-hide")}function renderMirrorImage(){if(!_mirror){var rect=_item.getBoundingClientRect();_mirror=_item.cloneNode(!0),_mirror.style.width=getRectWidth(rect)+"px",_mirror.style.height=getRectHeight(rect)+"px",classes.rm(_mirror,"gu-transit"),classes.add(_mirror,"gu-mirror"),o.mirrorContainer.appendChild(_mirror),touchy(documentElement,"add","mousemove",drag),classes.add(o.mirrorContainer,"gu-unselectable"),drake.emit("cloned",_mirror,_item,"mirror")}}function removeMirrorImage(){_mirror&&(classes.rm(o.mirrorContainer,"gu-unselectable"),touchy(documentElement,"remove","mousemove",drag),getParent(_mirror).removeChild(_mirror),_mirror=null)}function getImmediateChild(dropTarget,target){for(var immediate=target;immediate!==dropTarget&&getParent(immediate)!==dropTarget;)immediate=getParent(immediate);return immediate===documentElement?null:immediate}function getReference(dropTarget,target,x,y){function resolve(after){return after?nextEl(target):target}var horizontal="horizontal"===o.direction;return target!==dropTarget?function(){var rect=target.getBoundingClientRect();return resolve(horizontal?x>rect.left+getRectWidth(rect)/2:y>rect.top+getRectHeight(rect)/2)}():function(){var i,el,rect,len=dropTarget.children.length;for(i=0;i<len;i++){if(el=dropTarget.children[i],rect=el.getBoundingClientRect(),horizontal&&rect.left+rect.width/2>x)return el;if(!horizontal&&rect.top+rect.height/2>y)return el}return null}()}function isCopy(item,container){return"boolean"==typeof o.copy?o.copy:o.copy(item,container)}1===arguments.length&&!1===Array.isArray(initialContainers)&&(options=initialContainers,initialContainers=[]);var _mirror,_source,_item,_offsetX,_offsetY,_moveX,_moveY,_initialSibling,_currentSibling,_copy,_renderTimer,_grabbed,_lastDropTarget=null,o=options||{};void 0===o.moves&&(o.moves=always),void 0===o.accepts&&(o.accepts=always),void 0===o.invalid&&(o.invalid=invalidTarget),void 0===o.containers&&(o.containers=initialContainers||[]),void 0===o.isContainer&&(o.isContainer=never),void 0===o.copy&&(o.copy=!1),void 0===o.copySortSource&&(o.copySortSource=!1),void 0===o.revertOnSpill&&(o.revertOnSpill=!1),void 0===o.removeOnSpill&&(o.removeOnSpill=!1),void 0===o.direction&&(o.direction="vertical"),void 0===o.ignoreInputTextSelection&&(o.ignoreInputTextSelection=!0),void 0===o.mirrorContainer&&(o.mirrorContainer=doc.body);var drake=emitter({containers:o.containers,start:manualStart,end:end,cancel:cancel,remove:remove,destroy:destroy,canMove:canMove,dragging:!1});return!0===o.removeOnSpill&&drake.on("over",spillOver).on("out",spillOut),events(),drake}function touchy(el,op,type,fn){var touch={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},pointers={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},microsoft={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};global.navigator.pointerEnabled?crossvent[op](el,pointers[type],fn):global.navigator.msPointerEnabled?crossvent[op](el,microsoft[type],fn):(crossvent[op](el,touch[type],fn),crossvent[op](el,type,fn))}function whichMouseButton(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var button=e.button;return void 0!==button?1&button?1:2&button?3:4&button?2:0:void 0}function getOffset(el){var rect=el.getBoundingClientRect();return{left:rect.left+getScroll("scrollLeft","pageXOffset"),top:rect.top+getScroll("scrollTop","pageYOffset")}}function getScroll(scrollProp,offsetProp){return void 0!==global[offsetProp]?global[offsetProp]:documentElement.clientHeight?documentElement[scrollProp]:doc.body[scrollProp]}function getElementBehindPoint(point,x,y){var el,p=point||{},state=p.className;return p.className+=" gu-hide",el=doc.elementFromPoint(x,y),p.className=state,el}function never(){return!1}function always(){return!0}function getRectWidth(rect){return rect.width||rect.right-rect.left}function getRectHeight(rect){return rect.height||rect.bottom-rect.top}function getParent(el){return el.parentNode===doc?null:el.parentNode}function isInput(el){return"INPUT"===el.tagName||"TEXTAREA"===el.tagName||"SELECT"===el.tagName||isEditable(el)}function isEditable(el){return!!el&&("false"!==el.contentEditable&&("true"===el.contentEditable||isEditable(getParent(el))))}function nextEl(el){return el.nextElementSibling||function(){var sibling=el;do{sibling=sibling.nextSibling}while(sibling&&1!==sibling.nodeType);return sibling}()}function getEventHost(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function getCoord(coord,e){var host=getEventHost(e),missMap={pageX:"clientX",pageY:"clientY"};return coord in missMap&&!(coord in host)&&missMap[coord]in host&&(coord=missMap[coord]),host[coord]}var emitter=__webpack_require__(5192),crossvent=__webpack_require__(5196),classes=__webpack_require__(5199),doc=document,documentElement=doc.documentElement;module.exports=dragula}).call(exports,__webpack_require__(24))},5192:function(module,exports,__webpack_require__){"use strict";var atoa=__webpack_require__(5193),debounce=__webpack_require__(5194);module.exports=function(thing,options){var opts=options||{},evt={};return void 0===thing&&(thing={}),thing.on=function(type,fn){return evt[type]?evt[type].push(fn):evt[type]=[fn],thing},thing.once=function(type,fn){return fn._once=!0,thing.on(type,fn),thing},thing.off=function(type,fn){var c=arguments.length;if(1===c)delete evt[type];else if(0===c)evt={};else{var et=evt[type];if(!et)return thing;et.splice(et.indexOf(fn),1)}return thing},thing.emit=function(){var args=atoa(arguments);return thing.emitterSnapshot(args.shift()).apply(this,args)},thing.emitterSnapshot=function(type){var et=(evt[type]||[]).slice(0);return function(){var args=atoa(arguments),ctx=this||thing;if("error"===type&&!1!==opts.throws&&!et.length)throw 1===args.length?args[0]:args;return et.forEach(function(listen){opts.async?debounce(listen,args,ctx):listen.apply(ctx,args),listen._once&&thing.off(type,listen)}),thing}},thing}},5193:function(module,exports){module.exports=function(a,n){return Array.prototype.slice.call(a,n)}},5194:function(module,exports,__webpack_require__){"use strict";var ticky=__webpack_require__(5195);module.exports=function(fn,args,ctx){fn&&ticky(function(){fn.apply(ctx||null,args||[])})}},5195:function(module,exports,__webpack_require__){(function(setImmediate){var tick,si="function"==typeof setImmediate;tick=si?function(fn){setImmediate(fn)}:function(fn){setTimeout(fn,0)},module.exports=tick}).call(exports,__webpack_require__(286).setImmediate)},5196:function(module,exports,__webpack_require__){"use strict";(function(global){function addEventEasy(el,type,fn,capturing){return el.addEventListener(type,fn,capturing)}function addEventHard(el,type,fn){return el.attachEvent("on"+type,wrap(el,type,fn))}function removeEventEasy(el,type,fn,capturing){return el.removeEventListener(type,fn,capturing)}function removeEventHard(el,type,fn){var listener=unwrap(el,type,fn);if(listener)return el.detachEvent("on"+type,listener)}function fabricateEvent(el,type,model){var e=-1===eventmap.indexOf(type)?function(){return new customEvent(type,{detail:model})}():function(){var e;return doc.createEvent?(e=doc.createEvent("Event"),e.initEvent(type,!0,!0)):doc.createEventObject&&(e=doc.createEventObject()),e}();el.dispatchEvent?el.dispatchEvent(e):el.fireEvent("on"+type,e)}function wrapperFactory(el,type,fn){return function(originalEvent){var e=originalEvent||global.event;e.target=e.target||e.srcElement,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},e.which=e.which||e.keyCode,fn.call(el,e)}}function wrap(el,type,fn){var wrapper=unwrap(el,type,fn)||wrapperFactory(el,type,fn);return hardCache.push({wrapper:wrapper,element:el,type:type,fn:fn}),wrapper}function unwrap(el,type,fn){var i=find(el,type,fn);if(i){var wrapper=hardCache[i].wrapper;return hardCache.splice(i,1),wrapper}}function find(el,type,fn){var i,item;for(i=0;i<hardCache.length;i++)if(item=hardCache[i],item.element===el&&item.type===type&&item.fn===fn)return i}var customEvent=__webpack_require__(5197),eventmap=__webpack_require__(5198),doc=global.document,addEvent=addEventEasy,removeEvent=removeEventEasy,hardCache=[];global.addEventListener||(addEvent=addEventHard,removeEvent=removeEventHard),module.exports={add:addEvent,remove:removeEvent,fabricate:fabricateEvent}}).call(exports,__webpack_require__(24))},5197:function(module,exports,__webpack_require__){(function(global){var NativeCustomEvent=global.CustomEvent;module.exports=function(){try{var p=new NativeCustomEvent("cat",{detail:{foo:"bar"}});return"cat"===p.type&&"bar"===p.detail.foo}catch(e){}return!1}()?NativeCustomEvent:"function"==typeof document.createEvent?function(type,params){var e=document.createEvent("CustomEvent");return params?e.initCustomEvent(type,params.bubbles,params.cancelable,params.detail):e.initCustomEvent(type,!1,!1,void 0),e}:function(type,params){var e=document.createEventObject();return e.type=type,params?(e.bubbles=Boolean(params.bubbles),e.cancelable=Boolean(params.cancelable),e.detail=params.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e}}).call(exports,__webpack_require__(24))},5198:function(module,exports,__webpack_require__){"use strict";(function(global){var eventmap=[],eventname="",ron=/^on/;for(eventname in global)ron.test(eventname)&&eventmap.push(eventname.slice(2));module.exports=eventmap}).call(exports,__webpack_require__(24))},5199:function(module,exports,__webpack_require__){"use strict";function lookupClass(className){var cached=cache[className];return cached?cached.lastIndex=0:cache[className]=cached=new RegExp(start+className+end,"g"),cached}function addClass(el,className){var current=el.className;current.length?lookupClass(className).test(current)||(el.className+=" "+className):el.className=className}function rmClass(el,className){el.className=el.className.replace(lookupClass(className)," ").trim()}var cache={},start="(?:^|\\s)",end="(?:\\s|$)";module.exports={add:addClass,rm:rmClass}},5200:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var _jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);__webpack_require__(2).uiModules.get("kibana").directive("draggableItem",function(){return{restrict:"A",require:"^draggableContainer",scope:!0,controllerAs:"draggableItemCtrl",controller:function($scope,$attrs,$parse){var dragHandles=(0,_jquery2.default)();this.getItem=function(){return $parse($attrs.draggableItem)($scope)},this.registerHandle=function($el){dragHandles.push.apply(dragHandles,_toConsumableArray($el))},this.moves=function(handle){var $handle=(0,_jquery2.default)(handle),$anywhereInParentChain=$handle.parents().addBack();return dragHandles.is($anywhereInParentChain)}},link:function($scope,$el,attr,draggableController){draggableController.linkDraggableItem($el.get(0),$scope)}}})},5201:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("kibana").directive("draggableHandle",function(){return{restrict:"A",require:"^draggableItem",link:function($scope,$el,attr,ctrl){ctrl.registerHandle($el),$el.addClass("gu-handle")}}})},5202:function(module,exports){module.exports='\x3c!-- Local nav. --\x3e\n<kbn-top-nav name="visualize">\n  \x3c!-- Transcluded elements. --\x3e\n  <div data-transclude-slots>\n    \x3c!-- Title. --\x3e\n    <div\n      data-transclude-slot="topLeftCorner"\n      class="kuiLocalTitle"\n      role="heading"\n      aria-level="1"\n    >\n      Visualize\n    </div>\n  </div>\n</kbn-top-nav>\n\n<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"\n     data-test-subj="visualizeLandingPage"\n>\n  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">\n    <div class="kuiInfoPanel kuiInfoPanel--warning">\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          You have {{ listingController.totalItems }} visualizations, but your "listingLimit" setting prevents the table below from displaying more than {{ listingController.listingLimit }}. You can change this setting under <a kbn-href="#/management/kibana/settings" class="kuiLink">Advanced Settings</a>.\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <visualize-listing-table\n    fetch-items="listingController.fetchItems"\n    delete-selected-items="listingController.deleteSelectedItems"\n  ></visualize-listing-table>\n\n</div>\n'},5203:function(module,exports,__webpack_require__){"use strict";function VisualizeListingController($injector){var _this=this,Notifier=$injector.get("Notifier"),Private=$injector.get("Private"),timefilter=$injector.get("timefilter"),config=$injector.get("config");timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector();var services=Private(_saved_object_registry.SavedObjectRegistryProvider).byLoaderPropertiesName,visualizationService=services.visualizations,notify=new Notifier({location:"Visualize"});this.fetchItems=function(filter){var isLabsEnabled=config.get("visualize:enableLabs");return visualizationService.find(filter,config.get("savedObjects:listingLimit")).then(function(result){return _this.totalItems=result.total,_this.showLimitError=result.total>config.get("savedObjects:listingLimit"),_this.listingLimit=config.get("savedObjects:listingLimit"),result.hits.filter(function(result){return isLabsEnabled||"lab"!==result.type.stage})})},this.deleteSelectedItems=function(selectedIds){return visualizationService.delete(selectedIds).catch(function(error){return notify.error(error)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisualizeListingController=VisualizeListingController;var _saved_object_registry=__webpack_require__(184);__webpack_require__(308),__webpack_require__(261);var _modules=__webpack_require__(2),_visualize_listing_table=__webpack_require__(5204);_modules.uiModules.get("app/visualize",["ngRoute","react"]).directive("visualizeListingTable",function(reactDirective){return reactDirective(_visualize_listing_table.VisualizeListingTable)})},5204:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.VisualizeListingTable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_pager=__webpack_require__(261),_no_visualizations_prompt=__webpack_require__(5205),_components=__webpack_require__(22),_eui=__webpack_require__(5);(exports.VisualizeListingTable=function(_Component){function VisualizeListingTable(props){_classCallCheck(this,VisualizeListingTable);var _this=_possibleConstructorReturn(this,(VisualizeListingTable.__proto__||Object.getPrototypeOf(VisualizeListingTable)).call(this,props));return _this.calculateItemsOnPage=function(){_this.items=_this.sortableProperties.sortItems(_this.items),_this.pager.setTotalItems(_this.items.length);var pageOfItems=_this.items.slice(_this.pager.startIndex,_this.pager.startIndex+_this.pager.pageSize);_this.setState({pageOfItems:pageOfItems,pageStartNumber:_this.pager.startItem})},_this.deselectAll=function(){_this.setState({selectedRowIds:[]})},_this.isAscending=function(name){return _this.sortableProperties.isAscendingByName(name)},_this.getSortedProperty=function(){return _this.sortableProperties.getSortedProperty()},_this.sortOn=function(propertyName){this.sortableProperties.sortOn(propertyName),this.setState({selectedRowIds:[],sortedColumn:this.sortableProperties.getSortedProperty().name}),this.calculateItemsOnPage()},_this.fetchItems=function(filter){_this.setState({isFetchingItems:!0,filter:filter}),_this.debouncedFetch(filter)},_this.onNextPage=function(){_this.deselectAll(),_this.pager.nextPage(),_this.calculateItemsOnPage()},_this.onPreviousPage=function(){_this.deselectAll(),_this.pager.previousPage(),_this.calculateItemsOnPage()},_this.sortByTitle=function(){return _this.sortOn("title")},_this.sortByType=function(){return _this.sortOn("type")},_this.closeModal=function(){_this.setState({showDeleteModal:!1})},_this.onDelete=function(){_this.setState({showDeleteModal:!0})},_this.deleteSelectedItems=function(){_this.props.deleteSelectedItems(_this.state.selectedRowIds).then(function(){return _this.fetchItems(_this.state.filter)}).catch(function(){}).then(function(){return _this.deselectAll()}).then(function(){return _this.closeModal()})},_this.onItemSelectionChanged=function(newSelectedIds){_this.setState({selectedRowIds:newSelectedIds})},_this.state={selectedRowIds:[],pageOfItems:[],showDeleteModal:!1,filter:"",sortedColumn:"title",pageStartNumber:1,isFetchingItems:!1},_this.sortableProperties=new _eui.SortableProperties([{name:"title",getValue:function(item){return item.title.toLowerCase()},isAscending:!0},{name:"type",getValue:function(item){return item.type.title.toLowerCase()},isAscending:!0}],_this.state.sortedColumn),_this.items=[],_this.pager=new _pager.Pager(_this.items.length,20,1),_this.debouncedFetch=_lodash2.default.debounce(function(filter){_this.props.fetchItems(filter).then(function(items){filter===_this.state.filter&&(_this.setState({isFetchingItems:!1,selectedRowIds:[]}),_this.items=items,_this.calculateItemsOnPage())})},300),_this}return _inherits(VisualizeListingTable,_Component),_createClass(VisualizeListingTable,[{key:"componentWillUnmount",value:function(){this.debouncedFetch.cancel()}},{key:"componentDidMount",value:function(){this.fetchItems(this.state.filter)}},{key:"getUrlForItem",value:function(item){return"#/visualize/edit/"+item.id}},{key:"renderItemTypeIcon",value:function(item){return item.type.image?_react2.default.createElement("img",{className:"kuiStatusText__icon kuiIcon","aria-hidden":"true",src:item.type.image}):_react2.default.createElement("span",{className:"kuiStatusText__icon kuiIcon "+item.icon})}},{key:"renderHeader",value:function(){return[{content:"Title",onSort:this.sortByTitle,isSorted:"title"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("title")},{content:"Type",onSort:this.sortByType,isSorted:"type"===this.state.sortedColumn,isSortAscending:this.sortableProperties.isAscendingByName("type")}]}},{key:"renderRowCells",value:function(item){var flaskHolder=void 0;return flaskHolder=item.type.shouldMarkAsExperimentalInUI()?_react2.default.createElement("span",{className:"kuiIcon fa-flask ng-scope"}," "):_react2.default.createElement("span",null),[_react2.default.createElement("span",null,flaskHolder,_react2.default.createElement("a",{className:"kuiLink",href:this.getUrlForItem(item)},item.title)),_react2.default.createElement("span",{className:"kuiStatusText"},this.renderItemTypeIcon(item),item.type.title)]}},{key:"createRows",value:function(){var _this2=this;return this.state.pageOfItems.map(function(item){return{id:item.id,cells:_this2.renderRowCells(item)}})}},{key:"renderConfirmDeleteModal",value:function(){return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete selected visualizations?",onCancel:this.closeModal,onConfirm:this.deleteSelectedItems,cancelButtonText:"Cancel",confirmButtonText:"Delete"},_react2.default.createElement("p",null,"You can't recover deleted visualizations.")))}},{key:"onCreate",value:function(){window.location="#/visualize/new"}},{key:"renderToolBarActions",value:function(){return this.state.selectedRowIds.length>0?_react2.default.createElement(_components.KuiListingTableDeleteButton,{onDelete:this.onDelete,"aria-label":"Delete selected visualizations"}):_react2.default.createElement(_components.KuiListingTableCreateButton,{onCreate:this.onCreate,"aria-label":"Create new visualization"})}},{key:"renderPager",value:function(){return _react2.default.createElement(_components.KuiPager,{startNumber:this.state.pageStartNumber,hasNextPage:this.pager.hasNextPage,hasPreviousPage:this.pager.hasPreviousPage,endNumber:this.pager.endItem,totalItems:this.items.length,onNextPage:this.onNextPage,onPreviousPage:this.onPreviousPage})}},{key:"renderPrompt",value:function(){return this.state.isFetchingItems?_react2.default.createElement(_components.KuiListingTableLoadingPrompt,null):0===this.items.length?this.state.filter?_react2.default.createElement(_components.KuiListingTableNoMatchesPrompt,null):_react2.default.createElement(_no_visualizations_prompt.NoVisualizationsPrompt,null):null}},{key:"render",value:function(){return _react2.default.createElement("div",null,this.state.showDeleteModal&&this.renderConfirmDeleteModal(),_react2.default.createElement(_components.KuiListingTable,{pager:this.renderPager(),toolBarActions:this.renderToolBarActions(),selectedRowIds:this.state.selectedRowIds,rows:this.createRows(),header:this.renderHeader(),onFilter:this.fetchItems,filter:this.state.filter,prompt:this.renderPrompt(),onItemSelectionChanged:this.onItemSelectionChanged}))}}]),VisualizeListingTable}(_react.Component)).propTypes={deleteSelectedItems:_propTypes2.default.func,fetchItems:_propTypes2.default.func}},5205:function(module,exports,__webpack_require__){"use strict";function NoVisualizationsPrompt(){return _react2.default.createElement(_components.KuiEmptyTablePromptPanel,null,_react2.default.createElement(_components.KuiEmptyTablePrompt,{actions:_react2.default.createElement(_components.KuiLinkButton,{href:"#/visualize/new",buttonType:"primary",icon:_react2.default.createElement(_components.KuiButtonIcon,{type:"create"})},"Create a visualization"),message:"Looks like you don't have any visualizations. Let's create some!"}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoVisualizationsPrompt=NoVisualizationsPrompt;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(22)},5206:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(5207),__webpack_require__(5303),__webpack_require__(1143),__webpack_require__(1525);var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_app=__webpack_require__(5304),_app2=_interopRequireDefault(_app),_landing=__webpack_require__(5305),_landing2=_interopRequireDefault(_landing),_management=__webpack_require__(95),_feature_catalogue=__webpack_require__(58);__webpack_require__(643),_routes2.default.when("/management",{template:_landing2.default}),_routes2.default.when("/management/:section",{redirectTo:"/management"}),__webpack_require__(5306)({whenMissingRedirectTo:"/management/kibana/index"}),_modules.uiModules.get("apps/management").directive("kbnManagementApp",function(Private,$location,timefilter){return{restrict:"E",template:_app2.default,transclude:!0,scope:{sectionName:"@section",omitPages:"@omitBreadcrumbPages",pageTitle:"="},link:function($scope){timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector(),$scope.sections=_management.management.items.inOrder,$scope.section=_management.management.getSection($scope.sectionName)||_management.management,$scope.section&&$scope.section.items.forEach(function(item){item.active=("#"+$location.path()).indexOf(item.url)>-1})}}}),_modules.uiModules.get("apps/management").directive("kbnManagementLanding",function(kbnVersion){return{restrict:"E",link:function($scope){$scope.sections=_management.management.items.inOrder,$scope.kbnVersion=kbnVersion}}}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"management",title:"Management",description:"Your center console for managing the Elastic Stack.",icon:"/plugins/kibana/assets/app_management.svg",path:"/app/kibana#/management",showOnHomePage:!1,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5207:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5208),__webpack_require__(5217),__webpack_require__(5224)},5208:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_to_editable_config=__webpack_require__(5209);__webpack_require__(5213);var _management=__webpack_require__(95),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_index=__webpack_require__(5216),_index2=_interopRequireDefault(_index),_feature_catalogue=__webpack_require__(58);_routes2.default.when("/management/kibana/settings",{template:_index2.default}),_modules.uiModules.get("apps/management").directive("kbnManagementAdvanced",function(config){return{restrict:"E",link:function($scope){function changed(){var all=config.getAll(),editable=(0,_lodash2.default)(all).map(function(def,name){return(0,_to_editable_config.toEditableConfig)({def:def,name:name,value:def.userValue,isCustom:config.isCustom(name)})}).value(),writable=_lodash2.default.reject(editable,"readonly");$scope.configs=writable}config.watchAll(changed,$scope),changed()}}}),_management.management.getSection("kibana").register("settings",{display:"Advanced Settings",order:20,url:"#/management/kibana/settings"}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"advanced_settings",title:"Advanced Settings",description:"Directly edit settings that control behavior in Kibana.",icon:"/plugins/kibana/assets/app_advanced_settings.svg",path:"/app/kibana#/management/kibana/settings",showOnHomePage:!1,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5209:function(module,exports,__webpack_require__){"use strict";function toEditableConfig(_ref){var def=_ref.def,name=_ref.name,value=_ref.value,isCustom=_ref.isCustom;def||(def={});var conf={name:name,ariaName:(0,_get_aria_name.getAriaName)(name),value:value,isCustom:isCustom,readonly:!!def.readonly,defVal:def.value,type:(0,_get_val_type.getValType)(def,value),description:def.description,options:def.options},editor=(0,_get_editor_type.getEditorType)(conf);return conf.json="json"===editor,conf.select="select"===editor,conf.bool="boolean"===editor,conf.array="array"===editor,conf.markdown="markdown"===editor,conf.image="image"===editor,conf.normal="normal"===editor,conf.tooComplex=!editor,conf}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toEditableConfig=toEditableConfig;var _get_val_type=__webpack_require__(5210),_get_editor_type=__webpack_require__(5211),_get_aria_name=__webpack_require__(5212)},5210:function(module,exports,__webpack_require__){"use strict";function getValType(def,value){return def.type?def.type:Array.isArray(value)||Array.isArray(def.value)?"array":null!=def.value?_typeof(def.value):void 0===value?"undefined":_typeof(value)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.getValType=getValType},5211:function(module,exports,__webpack_require__){"use strict";function getEditorType(conf){return _lodash2.default.contains(NAMED_EDITORS,conf.type)?conf.type:_lodash2.default.contains(NORMAL_EDITOR,conf.type)?"normal":void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEditorType=getEditorType;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),NAMED_EDITORS=["json","array","boolean","select","markdown","image"],NORMAL_EDITOR=["number","string","null","undefined"]},5212:function(module,exports,__webpack_require__){"use strict";function getAriaName(name){return(0,_lodash.words)(name).map(function(word){return word.toLowerCase()}).join(" ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAriaName=getAriaName;var _lodash=__webpack_require__(1)},5213:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1065),__webpack_require__(625);var _modules=__webpack_require__(2),_notify=__webpack_require__(10),_eui=__webpack_require__(5),_advanced_row=__webpack_require__(5214),_advanced_row2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_advanced_row);_modules.uiModules.get("apps/management").directive("advancedRow",function(config){return{restrict:"A",replace:!0,template:_advanced_row2.default,scope:{conf:"=advancedRow",configs:"="},link:function($scope){$scope.forms={};var loading=function(conf,fn){conf.loading=!0,fn().then(function(){conf.loading=conf.editing=!1}).catch(_notify.fatalError)};$scope.maybeCancel=function($event,conf){$event.keyCode===_eui.keyCodes.ESCAPE&&$scope.cancelEdit(conf)},$scope.edit=function(conf){conf.unsavedValue=null==conf.value?conf.defVal:conf.value,$scope.configs.forEach(function(c){c.editing=c===conf})},$scope.save=function(conf){"json"===conf.type&&""===conf.unsavedValue&&(conf.unsavedValue="{}"),loading(conf,function(){return conf.unsavedValue===conf.defVal?config.remove(conf.name):config.set(conf.name,conf.unsavedValue)})},$scope.cancelEdit=function(conf){conf.editing=!1},$scope.clear=function(conf){return loading(conf,function(){return config.remove(conf.name)})},$scope.isDefaultValue=function(conf){return conf.isCustom||void 0===conf.value||""===conf.value||String(conf.value)===String(conf.defVal)}}}})},5214:function(module,exports){module.exports='<tr class="kuiTableRow">\n  \x3c!-- Name --\x3e\n  <td class="kuiTableRowCell kuiTableRowCell--wrap">\n    <div class="kuiTableRowCell__liner">\n      <p class="kuiTextTitle kuiVerticalRhythmSmall">\n        {{conf.name}}\n      </p>\n\n      <p\n        class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall"\n        ng-if="!isDefaultValue(conf)"\n      >\n        Default: <em>{{conf.defVal == undefined || conf.defVal === \'\' ? \'null\' : conf.defVal}}</em>\n      </p>\n\n      <p\n        class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall"\n        ng-if="conf.isCustom"\n      >\n        (Custom setting)\n      </p>\n\n      <p\n        class="kuiSubText kuiVerticalRhythmSmall"\n        ng-bind-html="conf.description | trustAsHtml"\n      ></p>\n    </div>\n  </td>\n\n  \x3c!-- Value --\x3e\n  <td class="kuiTableRowCell">\n    <div class="kuiTableRowCell__liner">\n      \x3c!-- Settings editors --\x3e\n      <form\n        name="forms.configEdit"\n        ng-if="conf.editing"\n        ng-submit="save(conf)"\n        role="form"\n      >\n        <input\n          ng-if="conf.normal"\n          ng-model="conf.unsavedValue"\n          ng-keyup="maybeCancel($event, conf)"\n          placeholder="{{conf.value || conf.defVal}}"\n          type="text"\n          class="kuiTextInput fullWidth"\n        >\n\n        <textarea\n          ng-if="conf.markdown"\n          type="text"\n          class="kuiTextArea fullWidth"\n          ng-model="conf.unsavedValue"\n          ng-keyup="maybeCancel($event, conf)"\n          elastic-textarea\n          data-test-subj="unsavedValueMarkdownTextArea"\n        ></textarea>\n\n        <textarea\n          ng-if="conf.json"\n          type="text"\n          class="kuiTextArea fullWidth"\n          ng-model="conf.unsavedValue"\n          ng-keyup="maybeCancel($event, conf)"\n          elastic-textarea\n          validate-json\n          data-test-subj="unsavedValueJsonTextArea"\n        ></textarea>\n\n        <p\n          class="kuiSubText"\n          ng-show="forms.configEdit.$error.jsonInput"\n        >\n          Invalid JSON syntax\n        </p>\n\n        <input\n          ng-if="conf.array"\n          ng-list=","\n          ng-model="conf.unsavedValue"\n          ng-keyup="maybeCancel($event, conf)"\n          placeholder="{{(conf.value || conf.defVal).join(\', \')}}"\n          type="text"\n          class="kuiTextInput fullWidth"\n        >\n\n        <input\n          ng-if="conf.bool"\n          ng-model="conf.unsavedValue"\n          type="checkbox"\n          class="kuiCheckBox"\n          data-test-subj="advancedSetting-{{conf.name}}-checkbox"\n        >\n\n        <select\n          ng-if="conf.select"\n          name="conf.name"\n          ng-model="conf.unsavedValue"\n          ng-options="option as option for option in conf.options"\n          class="kuiSelect"\n        ></select>\n\n        <input\n          ng-if="conf.image"\n          ng-model="conf.unsavedValue"\n          input-base-sixty-four\n          max="{{conf.options.maxSize && conf.options.maxSize.length}}"\n          accept=".jpg,.jpeg,.png"\n          type="file"\n          class="fullWidth"\n          on-change="onImageChange"\n        >\n\n        <p\n          class="kuiSubText"\n          ng-show="forms.configEdit.$error.maxSize"\n        >\n          Image is too large, maximum size is {{conf.options.maxSize.description}}\n        </p>\n\n      </form>\n\n      \x3c!-- Setting display formats --\x3e\n      <span\n        ng-if="!conf.editing"\n        data-test-subj="advancedSetting-{{conf.name}}-currentValue"\n      >\n        <span ng-if="(conf.normal || conf.json || conf.select)">\n          {{conf.value || conf.defVal}}\n        </span>\n        <span ng-if="conf.array">\n          {{(conf.value || conf.defVal).join(\', \')}}\n        </span>\n        <span ng-if="conf.bool">\n          {{conf.value === undefined ? conf.defVal : conf.value}}\n        </span>\n        <span\n          ng-if="conf.markdown"\n          ng-bind-html="conf.value | markdown"\n        ></span>\n        <img\n          alt="Image"\n          ng-if="conf.image && conf.value"\n          ng-src="{{ conf.value }}"\n          class="advancedSettingsTableRowImage"\n        ></img>\n      </span>\n    </div>\n  </td>\n\n  \x3c!-- Actions --\x3e\n  <td class="kuiTableRowCell advancedSettingsTableRowActionsCell">\n    <div class="kuiTableRowCell__liner">\n      <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n        \x3c!-- Edit --\x3e\n        <button\n          ng-if="!conf.editing"\n          ng-click="edit(conf)"\n          class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n          ng-disabled="conf.tooComplex"\n          aria-label="Edit {{conf.ariaName}}"\n          data-test-subj="advancedSetting-{{conf.name}}-editButton"\n        >\n          <span\n            aria-hidden="true"\n            class="kuiMenuButton__icon kuiIcon fa-pencil"\n          ></span>\n          <span>Edit</span>\n        </button>\n\n        \x3c!-- Save --\x3e\n        <button\n          ng-if="conf.editing"\n          ng-click="save(conf)"\n          class="kuiMenuButton kuiMenuButton--primary kuiMenuButton--iconText"\n          ng-disabled="conf.loading || conf.tooComplex || forms.configEdit.$invalid"\n          aria-label="Save edit"\n          data-test-subj="advancedSetting-{{conf.name}}-saveButton"\n        >\n          <span\n            aria-hidden="true"\n            ng-if="!conf.loading"\n            class="kuiMenuButton__icon kuiIcon fa-save"\n          ></span>\n          <span\n            aria-hidden="true"\n            ng-if="conf.loading"\n            class="kuiMenuButton__icon kuiIcon fa-spinner"\n          ></span>\n          <span>Save</span>\n        </button>\n\n        \x3c!-- Clear --\x3e\n        <button\n          ng-if="!conf.editing"\n          ng-click="clear(conf)"\n          ng-hide="isDefaultValue(conf)"\n          aria-label="Clear {{conf.ariaName}}"\n          class="kuiMenuButton kuiMenuButton--danger kuiMenuButton--iconText"\n          data-test-subj="advancedSetting-{{conf.name}}-clearButton"\n        >\n          <span\n            aria-hidden="true"\n            class="kuiMenuButton__icon kuiIcon fa-trash-o"\n          ></span>\n          <span>Clear</span>\n        </button>\n\n        \x3c!-- Cancel --\x3e\n        <button\n          ng-if="conf.editing"\n          ng-click="cancelEdit(conf)"\n          class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n          aria-label="Cancel edit"\n        >\n          <span\n            aria-hidden="true"\n            class="kuiMenuButton__icon kuiIcon fa-times"\n          ></span>\n          <span>Cancel</span>\n        </button>\n      </div>\n    </div>\n  </td>\n</tr>\n'},5215:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManagementSection=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_indexed_array=__webpack_require__(131);exports.ManagementSection=function(){function ManagementSection(id){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ManagementSection),this.display=id,this.id=id,this.items=new _indexed_array.IndexedArray({index:["id"],order:["order"]}),this.visible=!0,this.disabled=!1,this.tooltip="",this.url="",(0,_lodash.assign)(this,options)}return _createClass(ManagementSection,[{key:"register",value:function(id){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},item=new ManagementSection(id,(0,_lodash.assign)(options,{parent:this}));if(this.hasItem(id))throw new Error("'"+id+"' is already registered");return this.items.push(item),item}},{key:"deregister",value:function(id){this.items.remove(function(item){return item.id===id})}},{key:"hasItem",value:function(id){return this.items.byId.hasOwnProperty(id)}},{key:"getSection",value:function(id){if(id){return id.split("/").reduce(function(currentSection,nextSection){if(currentSection)return currentSection.items.byId[nextSection]},this)}}},{key:"hide",value:function(){this.visible=!1}},{key:"show",value:function(){this.visible=!0}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"visibleItems",get:function(){return this.items.inOrder.filter(function(item){return item.visible})}}]),ManagementSection}()},5216:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-advanced class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    \x3c!-- Warning --\x3e\n    <div class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n        <span class="kuiInfoPanelHeader__title" id="kbnManagementAdvancedWarning">\n          Caution: You can break stuff here\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          Be careful in here, these settings are for very advanced users only.\n          Tweaks you make here can break large portions of Kibana. Some of these\n          settings may be undocumented, unsupported or experimental. If a field has a default value,\n          blanking the field will reset it to its default which\n          may be unacceptable given other configuration directives. Deleting a\n          custom setting will permanently remove it from Kibana\'s config.\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Search --\x3e\n    <form\n      role="form"\n      class="kuiVerticalRhythm"\n    >\n      <div class="kuiSearchInput fullWidth">\n        <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n        <input\n          class="kuiSearchInput__input"\n          aria-label="Search"\n          ng-model="advancedFilter"\n          type="text"\n          placeholder="Search..."\n          aria-describedby="kbnManagementAdvancedWarning"\n        >\n      </div>\n    </form>\n\n    \x3c!-- Settings table --\x3e\n    <table class="kuiTable kuiVerticalRhythm">\n      <thead>\n        <tr>\n          <th scope="col" class="kuiTableHeaderCell">\n            <div class="kuiTableRowCell__liner">\n              Name\n            </div>\n          </th>\n          <th scope="col" class="kuiTableHeaderCell">\n            <div class="kuiTableRowCell__liner">\n              Value\n            </div>\n          </th>\n          <th\n            scope="col"\n            class="kuiTableHeaderCell kuiTableHeaderCell--alignRight"\n            style="width: 180px"\n          >\n            <div class="kuiTableRowCell__liner">\n              \x3c!-- Actions --\x3e\n            </div>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr\n          ng-repeat="conf in configs | filter:advancedFilter"\n          advanced-row="conf"\n          configs="configs"\n        ></tr>\n      </tbody>\n    </table>\n  </kbn-management-advanced>\n</kbn-management-app>\n'},5217:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95);__webpack_require__(5218),__webpack_require__(5220),__webpack_require__(106),__webpack_require__(660);var _modules=__webpack_require__(2),_feature_catalogue=__webpack_require__(58);_modules.uiModules.get("apps/management"),_management.management.getSection("kibana").register("objects",{display:"Saved Objects",order:10,url:"#/management/kibana/objects"}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"saved_objects",title:"Saved Objects",description:"Import, export, and manage your saved searches, visualizations, and dashboards.",icon:"/plugins/kibana/assets/app_saved_objects.svg",path:"/app/kibana#/management/kibana/objects",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5218:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_risonNode=__webpack_require__(206),_risonNode2=_interopRequireDefault(_risonNode),_saved_object_registry=__webpack_require__(311),_view=__webpack_require__(5219),_view2=_interopRequireDefault(_view),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_notify=__webpack_require__(10);__webpack_require__(644);var _utils=__webpack_require__(285),_saved_objects=__webpack_require__(67),_numeric=__webpack_require__(636),location="SavedObject view";_routes2.default.when("/management/kibana/objects/:service/:id",{template:_view2.default}),_modules.uiModules.get("apps/management").directive("kbnManagementObjectsView",function(kbnIndex,confirmModal){return{restrict:"E",controller:function($scope,$injector,$routeParams,$location,$window,$rootScope,Private){function redirectHandler(action){$location.path("/management/kibana/objects").search({_a:_risonNode2.default.encode({tab:serviceObj.title})}),_notify.toastNotifications.addSuccess(_lodash2.default.capitalize(action)+" '"+$scope.obj.attributes.title+"' "+$scope.title.toLowerCase()+" object")}var serviceObj=_saved_object_registry.savedObjectManagementRegistry.get($routeParams.service),service=$injector.get(serviceObj.service),savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider),createField=function createField(memo,val,key,collection,parents){Array.isArray(parents)?parents.push(key):parents=[key];var field={type:"text",name:parents.join("."),value:val};if(_lodash2.default.isString(field.value))try{field.value=_angular2.default.toJson(JSON.parse(field.value),!0),field.type="json"}catch(err){field.value=field.value}else if((0,_numeric.isNumeric)(field.value))field.type="number";else if(Array.isArray(field.value))field.type="array",field.value=_angular2.default.toJson(field.value,!0);else if(_lodash2.default.isBoolean(field.value))field.type="boolean",field.value=field.value;else if(_lodash2.default.isPlainObject(field.value))return _lodash2.default.reduce(field.value,_lodash2.default.partialRight(createField,parents),memo);return memo.push(field),parents.pop(),memo},readObjectClass=function(fields,Class){var fieldMap=_lodash2.default.indexBy(fields,"name");_lodash2.default.forOwn(Class.mapping,function(esType,name){fieldMap[name]||fields.push({name:name,type:function(){switch((0,_utils.castEsToKbnFieldTypeName)(esType)){case"string":return"text";case"number":return"number";case"boolean":return"boolean";default:return"json"}}()})}),Class.searchSource&&!fieldMap["kibanaSavedObjectMeta.searchSourceJSON"]&&fields.push({name:"kibanaSavedObjectMeta.searchSourceJSON",type:"json",value:"{}"})};$scope.notFound=$routeParams.notFound,$scope.title=service.type,savedObjectsClient.get(service.type,$routeParams.id).then(function(obj){$scope.obj=obj,$scope.link=service.urlFor(obj.id);var fields=_lodash2.default.reduce(obj.attributes,createField,[]);service.Class&&readObjectClass(fields,service.Class);var nameSortedFields=_lodash2.default.sortBy(fields,"name");$scope.fields=_lodash2.default.sortBy(nameSortedFields,function(field){var orderIndex=service.Class.fieldOrder?service.Class.fieldOrder.indexOf(field.name):-1;return orderIndex>-1?orderIndex:1/0})}).catch(function(error){return(0,_notify.fatalError)(error,location)});var loadedEditors=[];$scope.aceInvalidEditors=[],$scope.aceLoaded=function(editor){if(!_lodash2.default.contains(loadedEditors,editor)){loadedEditors.push(editor),editor.$blockScrolling=1/0;var session=editor.getSession(),fieldName=editor.container.id;session.setTabSize(2),session.setUseSoftTabs(!0),session.on("changeAnnotation",function(){var annotations=session.getAnnotations();_lodash2.default.some(annotations,{type:"error"})?_lodash2.default.contains($scope.aceInvalidEditors,fieldName)||$scope.aceInvalidEditors.push(fieldName):$scope.aceInvalidEditors=_lodash2.default.without($scope.aceInvalidEditors,fieldName),$rootScope.$$phase||$scope.$apply()})}},$scope.cancel=function(){return $window.history.back(),!1},$scope.delete=function(){function doDelete(){savedObjectsClient.delete(service.type,$routeParams.id).then(function(){return redirectHandler("deleted")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}confirmModal("You can't recover deleted objects",{onConfirm:doDelete,confirmButtonText:"Delete",title:"Delete saved Kibana object?"})},$scope.submit=function(){var source=_lodash2.default.cloneDeep($scope.obj.attributes);_lodash2.default.each($scope.fields,function(field){var value=field.value;"number"===field.type&&(value=Number(field.value)),"array"===field.type&&(value=JSON.parse(field.value)),_lodash2.default.set(source,field.name,value)}),savedObjectsClient.update(service.type,$routeParams.id,source).then(function(){return redirectHandler("updated")}).catch(function(error){return(0,_notify.fatalError)(error,location)})}}}})},5219:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects-view class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1 class="kuiTitle">\n          Edit {{ title }}\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <a\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          href="{{ link }}"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-eye"></span>\n            <span>View {{ title }}</span>\n          </span>\n        </a>\n\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="delete()"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash-o"></span>\n            <span>Delete {{ title }}</span>\n          </span>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-if="notFound"\n    >\n      <div class="kuiInfoPanel kuiInfoPanel--error">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            There is a problem with this saved object\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'search\'"\n          >\n            The saved search associated with this object no longer exists.\n          </div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern\'"\n          >\n            The index pattern associated with this object no longer exists.\n          </div>\n\n          <div\n            class="kuiInfoPanelBody__message"\n            ng-if="notFound === \'index-pattern-field\'"\n          >\n            A field associated with this object no longer exists in the index pattern.\n          </div>\n\n          <div class="kuiInfoPanelBody__message">\n            If you know what this error means, go ahead and fix it &mdash; otherwise click the delete button above.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiInfoPanel kuiInfoPanel--warning">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Proceed with caution!\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Modifying objects is for advanced users only. Object properties are not validated and invalid objects could cause errors, data loss, or worse. Unless someone with intimate knowledge of the code told you to be in here, you probably shouldn&rsquo;t be.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Form --\x3e\n      <form\n        role="form"\n        name="objectForm"\n        ng-submit="submit()"\n      >\n        <div class="kuiFormSection" ng-repeat="field in fields">\n          <label for="{{ field.name }}" class="kuiFormLabel">\n            {{ field.name }}\n          </label>\n\n          <input\n            id="{{ field.name }}"\n            ng-if="field.type === \'number\'"\n            class="kuiTextInput"\n            type="number"\n            ng-model="field.value"\n          >\n\n          <textarea\n            id="{{ field.name }}"\n            ng-if="field.type === \'text\'"\n            class="kuiTextArea"\n            rows="1"\n            msd-elastic=" "\n            ng-model="field.value"\n          ></textarea>\n\n          <input\n            ng-if="field.type === \'boolean\'"\n            class="kuiCheckBox"\n            type="checkbox"\n            ng-model="field.value"\n            ng-checked="field.value"\n          >\n\n          <div\n            ng-if="field.type === \'json\' || field.type === \'array\'"\n            kbn-ui-ace-keyboard-mode\n            ui-ace="{ onLoad: aceLoaded, mode: \'json\' }"\n            id="{{field.name}}"\n            ng-model="field.value"\n            class="form-control"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Actions --\x3e\n      <div class="kuiButtonGroup">\n        <button\n          class="kuiButton kuiButton--primary"\n          aria-label="Save {{ title }} Object"\n          ng-click="submit()"\n          ng-disabled="objectForm.$invalid || aceInvalidEditors.length !==0"\n        >\n          Save {{ title }} Object\n        </button>\n\n        <button\n          class="kuiButton kuiButton--basic"\n          aria-label="Cancel"\n          ng-click="cancel()"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  </kbn-management-objects-view>\n</kbn-management-app>\n'},5220:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _filesaver=__webpack_require__(1416),_lodash=__webpack_require__(1),_angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular),_saved_object_registry=__webpack_require__(311),_objects=__webpack_require__(5221),_objects2=_interopRequireDefault(_objects);__webpack_require__(1102);var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_saved_objects=__webpack_require__(67),_modules=__webpack_require__(2),_show_change_index_modal=__webpack_require__(5222),_errors=__webpack_require__(56),indexPatternsResolutions={indexPatterns:function(Private){return Private(_saved_objects.SavedObjectsClientProvider).find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes2.default.when("/management/kibana/objects",{template:_objects2.default,resolve:indexPatternsResolutions}),_routes2.default.when("/management/kibana/objects/:service",{redirectTo:"/management/kibana/objects"}),_modules.uiModules.get("apps/management").directive("kbnManagementObjects",function($route,kbnIndex,Notifier,Private,kbnUrl,Promise,confirmModal){var savedObjectsClient=Private(_saved_objects.SavedObjectsClientProvider);return{restrict:"E",controllerAs:"managementObjectsController",controller:function($scope,$injector,$q,AppState){function retrieveAndExportDocs(objs){if(!objs.length)return notify.error("No saved objects to export.");savedObjectsClient.bulkGet(objs).then(function(response){saveToFile(response.savedObjects.map(function(obj){return{_id:obj.id,_type:obj.type,_source:obj.attributes}}))})}function saveToFile(results){var blob=new Blob([_angular2.default.toJson(results,!0)],{type:"application/json"});(0,_filesaver.saveAs)(blob,"export.json")}var _this=this,notify=new Notifier({location:"Saved Objects"}),$state=$scope.state=new AppState;$scope.currentTab=null,$scope.selectedItems=[],this.areAllRowsChecked=function(){return 0!==$scope.currentTab.data.length&&$scope.selectedItems.length===$scope.currentTab.data.length};var getData=function(filter){var services=_saved_object_registry.savedObjectManagementRegistry.all().map(function(obj){var service=$injector.get(obj.service);return service.findAll(filter).then(function(data){return{service:service,serviceName:obj.service,title:obj.title,type:service.type,data:data.hits,total:data.total}})});$q.all(services).then(function(data){$scope.services=(0,_lodash.sortBy)(data,"title"),$state.tab&&($scope.currentTab=(0,_lodash.find)($scope.services,{title:$state.tab})),$scope.$watch("state.tab",function(tab){tab||$scope.changeTab($scope.services[0])})})},refreshData=function(){return getData(_this.advancedFilter)};$scope.toggleAll=function(){$scope.selectedItems.length===$scope.currentTab.data.length?$scope.selectedItems.length=0:$scope.selectedItems=[].concat($scope.currentTab.data)},$scope.toggleItem=function(item){var i=$scope.selectedItems.indexOf(item);i>=0?$scope.selectedItems.splice(i,1):$scope.selectedItems.push(item)},$scope.open=function(item){kbnUrl.change(item.url.substr(1))},$scope.edit=function(service,item){var params={service:service.serviceName,id:item.id};kbnUrl.change("/management/kibana/objects/{{ service }}/{{ id }}",params)},$scope.bulkDelete=function(){function doBulkDelete(){$scope.currentTab.service.delete((0,_lodash.pluck)($scope.selectedItems,"id")).then(refreshData).then(function(){$scope.selectedItems.length=0}).catch(function(error){return notify.error(error)})}var confirmModalOptions={confirmButtonText:"Delete",onConfirm:doBulkDelete,title:"Delete selected "+$scope.currentTab.title+"?"};confirmModal("You can't recover deleted "+$scope.currentTab.title+".",confirmModalOptions)},$scope.bulkExport=function(){retrieveAndExportDocs($scope.selectedItems.map(function(item){return{type:$scope.currentTab.type,id:item.id}}))},$scope.exportAll=function(){return Promise.map($scope.services,function(service){return service.service.scanAll("").then(function(result){return result.hits})}).then(function(results){return saveToFile((0,_lodash.flattenDeep)(results))}).catch(function(error){return notify.error(error)})},$scope.importAll=function(fileContents){var docs=void 0;try{docs=JSON.parse(fileContents)}catch(e){return void notify.error("The file could not be processed.")}return Array.isArray(docs)?new Promise(function(resolve){confirmModal("",{confirmButtonText:"Yes, overwrite all objects",cancelButtonText:"No, prompt for each object",onConfirm:function(){return resolve(!0)},onCancel:function(){return resolve(!1)},title:"Automatically overwrite all saved objects?"})}).then(function(overwriteAll){function importDocument(swallowErrors,doc){var _ref=(0,_lodash.find)($scope.services,{type:doc._type})||{},service=_ref.service;if(!service){var msg='Skipped import of "'+doc._source.title+'" ('+doc._id+")",reason='Invalid type: "'+doc._type+'"';return void notify.warning(msg+", "+reason,{lifetime:0})}return service.get().then(function(obj){return obj.id=doc._id,obj.applyESResp(doc).then(function(){return obj.save({confirmOverwrite:!overwriteAll})}).catch(function(err){if(swallowErrors&&err instanceof _errors.SavedObjectNotFound)switch(err.savedObjectType){case"search":return void conflictedSearchDocs.push(doc);case"index-pattern":return void(obj.savedSearchId?conflictedSavedObjectsLinkedToSavedSearches.push(obj):conflictedIndexPatterns.push({obj:obj,doc:doc}))}err.message="Importing "+obj.title+" ("+obj.id+") failed: "+err.message,notify.error(err)})})}function resolveConflicts(objs,_ref2){var obj=_ref2.obj,oldIndexId=obj.searchSource.getOwn("index"),newIndexId=objs.find(function(_ref3){return _ref3.oldId===oldIndexId}).newId;if(newIndexId!==oldIndexId)return obj.hydrateIndexPattern(newIndexId).then(function(){return saveObject(obj)})}function saveObject(obj){return obj.save({confirmOverwrite:!overwriteAll})}var conflictedIndexPatterns=[],conflictedSearchDocs=[],conflictedSavedObjectsLinkedToSavedSearches=[],docTypes=function(docs){var defaultDocTypes={searches:[],other:[]};return docs.reduce(function(types,doc){switch(doc._type){case"search":types.searches.push(doc);break;default:types.other.push(doc)}return types},defaultDocTypes)}(docs);return Promise.map(docTypes.searches,importDocument.bind(null,!0)).then(function(){return Promise.map(docTypes.other,importDocument.bind(null,!0))}).then(function(){if(conflictedIndexPatterns.length)return new Promise(function(resolve,reject){(0,_show_change_index_modal.showChangeIndexModal)(function(objs){Promise.map(conflictedIndexPatterns,resolveConflicts.bind(null,objs)).then(Promise.map(conflictedSavedObjectsLinkedToSavedSearches,saveObject)).then(resolve).catch(reject)},conflictedIndexPatterns,$route.current.locals.indexPatterns)})}).then(function(){return Promise.map(conflictedSearchDocs,importDocument.bind(null,!1))}).then(refreshData).catch(notify.error)}):void notify.error("Saved objects file format is invalid and cannot be imported.")},$scope.changeTab=function(tab){$scope.currentTab=tab,$scope.selectedItems.length=0,$state.tab=tab.title,$state.save()},$scope.$watch("managementObjectsController.advancedFilter",function(filter){getData(filter)})}}})},5221:function(module,exports){module.exports='<kbn-management-app section="kibana" class="kuiView">\n  <kbn-management-objects class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header --\x3e\n    <div class="kuiViewContentItem kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        <h1 class="euiTitle">\n          Edit Saved Objects\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        <button\n          class="kuiButton kuiButton--basic kuiButton--iconText"\n          data-test-subj="exportAllObjects"\n          ng-click="exportAll()"\n        >\n          <span class="kuiButton__inner">\n            <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-download"></span>\n            <span>Export Everything</span>\n          </span>\n        </button>\n\n        <file-upload\n          on-read="importAll(fileContents)"\n          upload-selector="[data-import-saved-objects-button]"\n        >\n          <button\n            class="kuiButton kuiButton--basic kuiButton--iconText"\n            data-import-saved-objects-button\n          >\n            <span class="kuiButton__inner">\n              <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-upload"></span>\n              <span>Import</span>\n            </span>\n          </button>\n        </file-upload>\n      </div>\n    </div>\n\n    \x3c!-- Intro --\x3e\n    <div class="euiText">\n      <p class="kuiViewContentItem">\n        From here you can delete saved objects, such as saved searches. You can also edit the raw data of saved objects. Typically objects are only modified via their associated application, which is probably what you should use instead of this screen. Each tab is limited to 100 results. You can use the filter to find objects not in the default list.\n      </p>\n    </div>\n\n    <div class="euiSpacer euiSpacer--m"></div>\n\n    \x3c!-- Tabs --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiTabs">\n        <button\n          class="kuiTab kbn-management-tab"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === service.title }"\n          ng-repeat="service in services"\n          ng-click="changeTab(service)"\n          data-test-subj="objectsTab-{{ service.title }}"\n        >\n          {{ service.title }}\n          <small aria-label="{{:: service.data.length + \' of \' + service.total + \' \' + service.title }}">\n            ({{service.data.length}}<span ng-show="service.total > service.data.length"> of {{service.total}}</span>)\n          </small>\n        </button>\n      </div>\n    </div>\n\n    \x3c!-- ControlledTable --\x3e\n    <div\n      class="kuiViewContentItem kuiControlledTable kuiVerticalRhythm"\n      ng-repeat="service in services track by $index"\n      ng-show="state.tab === service.title"\n    >\n      \x3c!-- ToolBar --\x3e\n      <div class="kuiToolBar">\n        <div class="kuiToolBarSearch">\n          <div\n            class="kuiToolBarSearchBox"\n            role="search"\n          >\n            <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiToolBarSearchBox__input"\n              type="text"\n              placeholder="Search..."\n              aria-label="Search"\n              ng-model="managementObjectsController.advancedFilter"\n            >\n          </div>\n        </div>\n\n        <div class="kuiToolBarSection">\n          \x3c!-- Bulk delete button --\x3e\n          <button\n            class="kuiButton kuiButton--danger kuiButton--iconText"\n            ng-click="bulkDelete()"\n            aria-label="Delete selected objects"\n            ng-disabled="selectedItems.length == 0"\n          >\n            <span class="kuiButton__inner">\n              <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-trash"></span>\n              <span>Delete</span>\n            </span>\n          </button>\n\n          \x3c!-- Bulk export button --\x3e\n          <button\n            class="kuiButton kuiButton--basic kuiButton--iconText"\n            ng-click="bulkExport()"\n            aria-label="Export selected objects"\n            ng-disabled="selectedItems.length == 0"\n          >\n            <span class="kuiButton__inner">\n              <span aria-hidden="true" class="kuiButton__icon kuiIcon fa-download"></span>\n              <span>Export</span>\n            </span>\n          </button>\n        </div>\n\n        <div class="kuiToolBarSection">\n          \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n        </div>\n      </div>\n\n      \x3c!-- NoResults --\x3e\n      <div\n        class="kuiPanel kuiPanel--centered kuiPanel--withToolBar"\n        ng-if="!service.data.length"\n      >\n        <div class="kuiTableInfo">\n          No {{service.title}} matched your search.\n        </div>\n      </div>\n\n      \x3c!-- Table --\x3e\n      <table class="kuiTable" ng-if="service.data.length" data-test-subj="objectsTable-{{service.title}}">\n        <thead>\n          <tr>\n            <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n              <div class="kuiTableHeaderCell__liner">\n                <input\n                  type="checkbox"\n                  aria-label="Select All"\n                  class="kuiCheckBox"\n                  ng-checked="managementObjectsController.areAllRowsChecked()"\n                  ng-click="toggleAll()"\n                  aria-label="{{managementObjectsController.areAllRowsChecked() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                >\n              </div>\n            </th>\n\n            <th scope="col" class="kuiTableHeaderCell">\n              <div class="kuiTableHeaderCell__liner">\n                Title\n              </div>\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr\n            ng-repeat="item in service.data | orderBy:\'title\'"\n            class="kuiTableRow"\n            data-test-subj="objectsTableRow"\n          >\n            <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n              <div class="kuiTableRowCell__liner">\n                <input\n                  type="checkbox"\n                  class="kuiCheckBox"\n                  ng-click="toggleItem(item)"\n                  ng-checked="selectedItems.indexOf(item) >= 0"\n                >\n              </div>\n            </td>\n            <td class="kuiTableRowCell">\n              <div class="kuiTableRowCell__liner">\n                <a class="kuiLink" href="" ng-click="edit(service, item)">\n                  {{ item.title }}\n                </a>\n\n                <button\n                  class="kuiMicroButton kuiTableRowHoverReveal"\n                  ng-click="open(item)"\n                  aria-label="View"\n                  tooltip="View in app"\n                >\n                  <span\n                    aria-hidden="true"\n                    class="kuiIcon fa-eye"\n                  ></span>\n                </button>\n              </div>\n            </td>\n          </tr>\n\n        </tbody>\n      </table>\n\n      \x3c!-- ToolBarFooter --\x3e\n      <div class="kuiToolBarFooter">\n        <div class="kuiToolBarFooterSection">\n          <div class="kuiToolBarText" ng-hide="selectedItems.length === 0">\n            {{ selectedItems.length }} selected\n          </div>\n        </div>\n        <div class="kuiToolBarFooterSection">\n          \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n        </div>\n      </div>\n    </div>\n  </kbn-management-objects>\n</kbn-management-app>\n'},5222:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function showChangeIndexModal(onChange,conflictedObjects){var indices=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],container=document.createElement("div"),closeModal=function(){_reactDom2.default.unmountComponentAtNode(container),document.body.removeChild(container)},onIndexChangeConfirmed=function(newIndex){onChange(newIndex),closeModal()};document.body.appendChild(container);var element=_react2.default.createElement(_change_index_modal.ChangeIndexModal,{onChange:onIndexChangeConfirmed,onClose:closeModal,conflictedObjects:conflictedObjects,indices:indices});_reactDom2.default.render(element,container)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.showChangeIndexModal=showChangeIndexModal;var _change_index_modal=__webpack_require__(5223),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactDom2=_interopRequireDefault(_reactDom)},5223:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChangeIndexModal=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lodash=__webpack_require__(1),_components=__webpack_require__(22),_eui=__webpack_require__(5);(exports.ChangeIndexModal=function(_React$Component){function ChangeIndexModal(props){_classCallCheck(this,ChangeIndexModal);var _this=_possibleConstructorReturn(this,(ChangeIndexModal.__proto__||Object.getPrototypeOf(ChangeIndexModal)).call(this,props));_this.changeIndex=function(){var result=Object.keys(_this.state.objects).map(function(indexPatternId){return{oldId:indexPatternId,newId:_this.state.objects[indexPatternId].newIndexPatternId}});_this.props.onChange(result)},_this.onIndexChange=function(id,event){event.persist(),_this.setState(function(state){return{objects:_extends({},state.objects,_defineProperty({},id,_extends({},state.objects[id],{newIndexPatternId:event.target.value})))}})},_this.onKeyDown=function(event){event.keyCode===_eui.keyCodes.ESCAPE&&_this.props.onClose()};var byId=(0,_lodash.groupBy)(props.conflictedObjects,function(_ref){return _ref.obj.searchSource.getOwn("index")});return _this.state={page:0,perPage:10,objects:(0,_lodash.mapValues)(byId,function(list,indexPatternId){return{newIndexPatternId:(0,_lodash.get)(props,"indices[0].id"),list:list.map(function(_ref2){var doc=_ref2.doc;return{id:indexPatternId,type:doc._type,name:doc._source.title}})}})},_this}return _inherits(ChangeIndexModal,_React$Component),_createClass(ChangeIndexModal,[{key:"render",value:function(){var _this2=this,_state=this.state,page=_state.page,perPage=_state.perPage,totalIndexPatterns=Object.keys(this.state.objects).length,indexPatternIds=Object.keys(this.state.objects).slice(page,page+perPage),rows=indexPatternIds.map(function(indexPatternId,key){var objects=_this2.state.objects[indexPatternId].list,sample=(0,_lodash.take)(objects,5).map(function(obj,key){return _react2.default.createElement("span",{key:key},obj.name,_react2.default.createElement("br",null))});return _react2.default.createElement(_components.KuiTableRow,{key:key},_react2.default.createElement(_components.KuiTableRowCell,null,indexPatternId),_react2.default.createElement(_components.KuiTableRowCell,null,objects.length),_react2.default.createElement(_components.KuiTableRowCell,null,sample),_react2.default.createElement(_components.KuiTableRowCell,null,_react2.default.createElement("select",{className:"kuiSelect kuiSelect--medium","data-test-subj":"managementChangeIndexSelection",value:_this2.state.objects[indexPatternId].newIndexPatternId,onChange:_this2.onIndexChange.bind(_this2,indexPatternId)},_react2.default.createElement("option",{value:indexPatternId},"Skip import"),_this2.props.indices.map(function(index,i){return _react2.default.createElement("option",{key:i,value:index.id},index.get("title"))}))))}),TableComponent=function(){return _react2.default.createElement(_components.KuiTable,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiTableHeader,null,_react2.default.createElement(_components.KuiTableHeaderCell,{style:{maxWidth:"300px",width:"300px"}},"ID"),_react2.default.createElement(_components.KuiTableHeaderCell,{style:{maxWidth:"50px",width:"50px"}},"Count"),_react2.default.createElement(_components.KuiTableHeaderCell,null,"Sample of affected objects"),_react2.default.createElement(_components.KuiTableHeaderCell,{style:{maxWidth:"200px",width:"200px"}},"New index pattern")),_react2.default.createElement(_components.KuiTableBody,null,rows))};return _react2.default.createElement(_components.KuiModalOverlay,null,_react2.default.createElement(_components.KuiModal,{"data-tests-subj":"managementChangeIndexModal","aria-label":"Index does not exist",className:"managementChangeIndexModal",onKeyDown:this.onKeyDown,onClose:this.props.onClose},_react2.default.createElement(_components.KuiModalHeader,null,_react2.default.createElement(_components.KuiModalHeaderTitle,null,"Index Pattern Conflicts")),_react2.default.createElement(_components.KuiModalBody,null,_react2.default.createElement("p",{className:"kuiText kuiVerticalRhythm"},"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated them with."),totalIndexPatterns>perPage?_react2.default.createElement(_components.KuiControlledTable,{className:"kuiVerticalRhythm"},_react2.default.createElement(_components.KuiToolBar,null,_react2.default.createElement(_components.KuiToolBarSection,null,_react2.default.createElement(_components.KuiPager,{startNumber:page+1,hasPreviousPage:page>=1,hasNextPage:page<totalIndexPatterns,endNumber:Math.min(totalIndexPatterns,page+perPage),totalItems:totalIndexPatterns,onNextPage:function(){return _this2.setState({page:page+1})},onPreviousPage:function(){return _this2.setState({page:page-1})}}))),_react2.default.createElement(TableComponent,null)):_react2.default.createElement(TableComponent,null)),_react2.default.createElement(_components.KuiModalFooter,null,_react2.default.createElement(_components.KuiButton,{buttonType:"hollow","data-test-subj":"changeIndexCancelButton",onClick:this.props.onClose},"Cancel"),_react2.default.createElement(_components.KuiButton,{buttonType:"primary","data-test-subj":"changeIndexConfirmButton",onClick:this.changeIndex},"Confirm all changes"))))}}]),ChangeIndexModal}(_react2.default.Component)).propTypes={onChange:_propTypes2.default.func,onClose:_propTypes2.default.func,conflictedObjects:_propTypes2.default.arrayOf(_propTypes2.default.shape({obj:_propTypes2.default.object.isRequired,doc:_propTypes2.default.object.isRequired})).isRequired,indices:_propTypes2.default.array}},5224:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _management=__webpack_require__(95);__webpack_require__(5225),__webpack_require__(5261);var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_index=__webpack_require__(5302),_index2=_interopRequireDefault(_index),_saved_objects=__webpack_require__(67),_feature_catalogue=__webpack_require__(58),indexPatternsResolutions={indexPatterns:function(Private){return Private(_saved_objects.SavedObjectsClientProvider).find({type:"index-pattern",fields:["title"],perPage:1e4}).then(function(response){return response.savedObjects})}};_routes2.default.defaults(/management\/kibana\/indices/,{resolve:indexPatternsResolutions}),_routes2.default.defaults(/management\/kibana\/index/,{resolve:indexPatternsResolutions}),_modules.uiModules.get("apps/management").directive("kbnManagementIndices",function($route,config,kbnUrl){return{restrict:"E",transclude:!0,template:_index2.default,link:function($scope){$scope.editingId=$route.current.params.indexPatternId,config.bindToScope($scope,"defaultIndex"),$scope.$watch("defaultIndex",function(){$scope.indexPatternList=$route.current.locals.indexPatterns.map(function(pattern){var id=pattern.id;return{id:id,title:pattern.get("title"),url:kbnUrl.eval("#/management/kibana/indices/{{id}}",{id:id}),class:"sidebar-item-title "+($scope.editingId===id?"active":""),default:$scope.defaultIndex===id}})})}}}),_management.management.getSection("kibana").register("indices",{display:"Index Patterns",order:0,url:"#/management/kibana/indices/"}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"index_patterns",title:"Index Patterns",description:"Manage the index patterns that help retrieve your data from Elasticsearch.",icon:"/plugins/kibana/assets/app_index_pattern.svg",path:"/app/kibana#/management/kibana/indices",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5225:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _saved_objects=__webpack_require__(67),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_angular_template=__webpack_require__(5226),_angular_template2=_interopRequireDefault(_angular_template);__webpack_require__(358);var _documentation_links=__webpack_require__(254),_render=__webpack_require__(5227);_routes2.default.when("/management/kibana/index",{template:_angular_template2.default,controller:function($scope,$injector){var kbnUrl=$injector.get("kbnUrl");$scope.$$postDigest(function(){var $routeParams=$injector.get("$routeParams"),services={config:$injector.get("config"),es:$injector.get("es"),indexPatterns:$injector.get("indexPatterns"),savedObjectsClient:$injector.get("Private")(_saved_objects.SavedObjectsClientProvider),changeUrl:function(url){$scope.$evalAsync(function(){return kbnUrl.changePath(url)})}},initialQuery=$routeParams.id?decodeURIComponent($routeParams.id):void 0;(0,_render.renderCreateIndexPatternWizard)(_documentation_links.documentationLinks.indexPatterns.loadingData,initialQuery,services)}),$scope.$on("$destroy",_render.destroyCreateIndexPatternWizard)}})},5226:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div id="createIndexPatternReact"></div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},5227:function(module,exports,__webpack_require__){"use strict";function renderCreateIndexPatternWizard(loadingDataDocUrl,initialQuery,services){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.render)(_react2.default.createElement(_create_index_pattern_wizard.CreateIndexPatternWizard,{loadingDataDocUrl:loadingDataDocUrl,initialQuery:initialQuery,services:services}),node)}function destroyCreateIndexPatternWizard(){var node=document.getElementById(CREATE_INDEX_PATTERN_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderCreateIndexPatternWizard=renderCreateIndexPatternWizard,exports.destroyCreateIndexPatternWizard=destroyCreateIndexPatternWizard;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactDom=__webpack_require__(17),_create_index_pattern_wizard=__webpack_require__(5228),CREATE_INDEX_PATTERN_DOM_ELEMENT_ID="createIndexPatternReact"},5228:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateIndexPatternWizard=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lib=__webpack_require__(820),_step_index_pattern=__webpack_require__(5234),_step_time_field=__webpack_require__(5244),_header=__webpack_require__(5255),_loading_state=__webpack_require__(5257),_empty_state=__webpack_require__(5259),_constants=__webpack_require__(553),_get_indices=__webpack_require__(1524);(exports.CreateIndexPatternWizard=function(_Component){function CreateIndexPatternWizard(props){var _this2=this;_classCallCheck(this,CreateIndexPatternWizard);var _this=_possibleConstructorReturn(this,(CreateIndexPatternWizard.__proto__||Object.getPrototypeOf(CreateIndexPatternWizard)).call(this,props));return _this.fetchIndices=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var services,allIndices;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.setState({allIndices:[],isInitiallyLoadingIndices:!0}),services=_this.props.services,_context.next=4,(0,_lib.ensureMinimumTime)((0,_get_indices.getIndices)(services.es,"*",_constants.MAX_SEARCH_SIZE));case 4:allIndices=_context.sent,_this.setState({allIndices:allIndices,isInitiallyLoadingIndices:!1});case 6:case"end":return _context.stop()}},_callee,_this2)})),_this.createIndexPattern=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(timeFieldName,indexPatternId){var services,indexPattern,emptyPattern,createdId;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return services=_this.props.services,indexPattern=_this.state.indexPattern,_context2.next=4,services.indexPatterns.get();case 4:return emptyPattern=_context2.sent,Object.assign(emptyPattern,{id:indexPatternId,title:indexPattern,timeFieldName:timeFieldName}),_context2.next=8,emptyPattern.create();case 8:if(createdId=_context2.sent,services.config.get("defaultIndex")){_context2.next=12;break}return _context2.next=12,services.config.set("defaultIndex",createdId);case 12:services.indexPatterns.cache.clear(createdId),services.changeUrl("/management/kibana/indices/"+createdId);case 14:case"end":return _context2.stop()}},_callee2,_this2)}));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),_this.goToTimeFieldStep=function(indexPattern){_this.setState({step:2,indexPattern:indexPattern})},_this.goToIndexPatternStep=function(){_this.setState({step:1})},_this.onChangeIncludingSystemIndices=function(){_this.setState(function(state){return{isIncludingSystemIndices:!state.isIncludingSystemIndices}})},_this.state={step:1,indexPattern:"",allIndices:[],isInitiallyLoadingIndices:!0,isIncludingSystemIndices:!1},_this}return _inherits(CreateIndexPatternWizard,_Component),_createClass(CreateIndexPatternWizard,[{key:"componentWillMount",value:function(){function componentWillMount(){return _ref3.apply(this,arguments)}var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:this.fetchIndices();case 1:case"end":return _context3.stop()}},_callee3,this)}));return componentWillMount}()},{key:"renderHeader",value:function(){var isIncludingSystemIndices=this.state.isIncludingSystemIndices;return _react2.default.createElement(_header.Header,{isIncludingSystemIndices:isIncludingSystemIndices,onChangeIncludingSystemIndices:this.onChangeIncludingSystemIndices})}},{key:"renderContent",value:function(){var _state=this.state,allIndices=_state.allIndices,isInitiallyLoadingIndices=_state.isInitiallyLoadingIndices,isIncludingSystemIndices=_state.isIncludingSystemIndices,step=_state.step,indexPattern=_state.indexPattern;if(isInitiallyLoadingIndices)return _react2.default.createElement(_loading_state.LoadingState,null);if(0===allIndices.length){var loadingDataDocUrl=this.props.loadingDataDocUrl;return _react2.default.createElement(_empty_state.EmptyState,{loadingDataDocUrl:loadingDataDocUrl,onRefresh:this.fetchIndices})}if(1===step){var _props=this.props,services=_props.services,initialQuery=_props.initialQuery;return _react2.default.createElement(_step_index_pattern.StepIndexPattern,{allIndices:allIndices,initialQuery:indexPattern||initialQuery,isIncludingSystemIndices:isIncludingSystemIndices,esService:services.es,savedObjectsClient:services.savedObjectsClient,goToNextStep:this.goToTimeFieldStep})}if(2===step){var _services=this.props.services;return _react2.default.createElement(_step_time_field.StepTimeField,{indexPattern:indexPattern,indexPatternsService:_services.indexPatterns,goToPreviousStep:this.goToIndexPatternStep,createIndexPattern:this.createIndexPattern})}return null}},{key:"render",value:function(){var header=this.renderHeader(),content=this.renderContent();return _react2.default.createElement("div",null,header,content)}}]),CreateIndexPatternWizard}(_react.Component)).propTypes={loadingDataDocUrl:_propTypes2.default.string.isRequired,initialQuery:_propTypes2.default.string,services:_propTypes2.default.shape({es:_propTypes2.default.object.isRequired,indexPatterns:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,config:_propTypes2.default.object.isRequired,changeUrl:_propTypes2.default.func.isRequired}).isRequired}},5229:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.canAppendWildcard=function(keyPressed){return!(!keyPressed||!/[a-z0-9]/i.test(keyPressed)||1!==keyPressed.length)}},5230:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0});var DEFAULT_MINIMUM_TIME_MS=(exports.ensureMinimumTime=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(promiseOrPromises){var returnValue,bufferedMinimumTimeMs,asyncActionStartTime,asyncActionCompletionTime,asyncActionDuration,additionalWaitingTime,minimumTimeMs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DEFAULT_MINIMUM_TIME_MS;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(returnValue=void 0,bufferedMinimumTimeMs=minimumTimeMs+5,asyncActionStartTime=(new Date).getTime(),!Array.isArray(promiseOrPromises)){_context.next=9;break}return _context.next=6,Promise.all(promiseOrPromises);case 6:returnValue=_context.sent,_context.next=12;break;case 9:return _context.next=11,promiseOrPromises;case 11:returnValue=_context.sent;case 12:if(asyncActionCompletionTime=(new Date).getTime(),!((asyncActionDuration=asyncActionCompletionTime-asyncActionStartTime)<bufferedMinimumTimeMs)){_context.next=18;break}return additionalWaitingTime=bufferedMinimumTimeMs-(asyncActionCompletionTime-asyncActionStartTime),_context.next=18,new Promise(function(resolve){return setTimeout(resolve,additionalWaitingTime)});case 18:return _context.abrupt("return",returnValue);case 19:case"end":return _context.stop()}},_callee,this)}));return function(_x2){return _ref.apply(this,arguments)}}(),exports.DEFAULT_MINIMUM_TIME_MS=300)},5231:function(module,exports,__webpack_require__){"use strict";function isSystemIndex(index){return!!index.startsWith(".")||!!index.includes(":")&&index.split(":").reduce(function(isSystem,index){return isSystem||isSystemIndex(index)},!1)}function filterSystemIndices(indices,isIncludingSystemIndices){return indices?(isIncludingSystemIndices?indices:indices.filter(function(index){return!isSystemIndex(index.name)})).slice(0,_constants.MAX_NUMBER_OF_MATCHING_INDICES):indices}function getMatchedIndices(unfilteredAllIndices,unfilteredPartialMatchedIndices,unfilteredExactMatchedIndices,query,isIncludingSystemIndices){var allIndices=filterSystemIndices(unfilteredAllIndices,isIncludingSystemIndices),partialMatchedIndices=filterSystemIndices(unfilteredPartialMatchedIndices,isIncludingSystemIndices),exactMatchedIndices=filterSystemIndices(unfilteredExactMatchedIndices,isIncludingSystemIndices),visibleIndices=void 0;return visibleIndices=exactMatchedIndices.length?exactMatchedIndices:partialMatchedIndices.length?partialMatchedIndices:allIndices,{allIndices:allIndices,exactMatchedIndices:exactMatchedIndices,partialMatchedIndices:partialMatchedIndices,visibleIndices:visibleIndices}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMatchedIndices=getMatchedIndices;var _constants=__webpack_require__(553)},5232:function(module,exports,__webpack_require__){"use strict";function containsInvalidCharacters(pattern,illegalCharacters){return!illegalCharacters.some(function(char){return pattern.includes(char)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.containsInvalidCharacters=containsInvalidCharacters},5233:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function extractTimeFields(fields){var dateFields=fields.filter(function(field){return"date"===field.type});if(0===dateFields.length)return[{display:"The indices which match this index pattern don't contain any time fields."}];var disabledDividerOption={isDisabled:!0,display:"───",fieldName:""},noTimeFieldOption={display:"I don't want to use the Time Filter",fieldName:void 0};return[].concat(_toConsumableArray(dateFields.map(function(field){return{display:field.name,fieldName:field.name}})),[disabledDividerOption,noTimeFieldOption])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractTimeFields=extractTimeFields},5234:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _step_index_pattern=__webpack_require__(5235);Object.defineProperty(exports,"StepIndexPattern",{enumerable:!0,get:function(){return _step_index_pattern.StepIndexPattern}})},5235:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StepIndexPattern=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_constants=__webpack_require__(553),_lib=__webpack_require__(820),_loading_indices=__webpack_require__(5236),_status_message=__webpack_require__(5238),_indices_list=__webpack_require__(5240),_header=__webpack_require__(5242),_eui=__webpack_require__(5),StepIndexPattern=exports.StepIndexPattern=function(_Component){function StepIndexPattern(props){var _this2=this;_classCallCheck(this,StepIndexPattern);var _this=_possibleConstructorReturn(this,(StepIndexPattern.__proto__||Object.getPrototypeOf(StepIndexPattern)).call(this,props));return _this.fetchExistingIndexPatterns=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref2,savedObjects,existingIndexPatterns;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.props.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4});case 2:_ref2=_context.sent,savedObjects=_ref2.savedObjects,existingIndexPatterns=savedObjects.map(function(obj){return obj&&obj.attributes?obj.attributes.title:""}),_this.setState({existingIndexPatterns:existingIndexPatterns});case 6:case"end":return _context.stop()}},_callee,_this2)})),_this.fetchIndices=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(query){var esService,existingIndexPatterns,_exactMatchedIndices,_ref4,_ref5,partialMatchedIndices,exactMatchedIndices;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(esService=_this.props.esService,existingIndexPatterns=_this.state.existingIndexPatterns,!existingIndexPatterns.includes(query)){_context2.next=5;break}return _this.setState({indexPatternExists:!0}),_context2.abrupt("return");case 5:if(_this.setState({isLoadingIndices:!0,indexPatternExists:!1}),!query.endsWith("*")){_context2.next=14;break}return _context2.next=9,(0,_lib.ensureMinimumTime)((0,_lib.getIndices)(esService,query,_constants.MAX_SEARCH_SIZE));case 9:if(_exactMatchedIndices=_context2.sent,query===_this.lastQuery){_context2.next=12;break}return _context2.abrupt("return");case 12:return _this.setState({exactMatchedIndices:_exactMatchedIndices,isLoadingIndices:!1}),_context2.abrupt("return");case 14:return _context2.next=16,(0,_lib.ensureMinimumTime)([(0,_lib.getIndices)(esService,query+"*",_constants.MAX_SEARCH_SIZE),(0,_lib.getIndices)(esService,query,_constants.MAX_SEARCH_SIZE)]);case 16:if(_ref4=_context2.sent,_ref5=_slicedToArray(_ref4,2),partialMatchedIndices=_ref5[0],exactMatchedIndices=_ref5[1],query===_this.lastQuery){_context2.next=22;break}return _context2.abrupt("return");case 22:_this.setState({partialMatchedIndices:partialMatchedIndices,exactMatchedIndices:exactMatchedIndices,isLoadingIndices:!1});case 23:case"end":return _context2.stop()}},_callee2,_this2)}));return function(_x){return _ref3.apply(this,arguments)}}(),_this.onQueryChanged=function(e){var appendedWildcard=_this.state.appendedWildcard,target=e.target,query=target.value;1===query.length&&(0,_lib.canAppendWildcard)(query)?(query+="*",_this.setState({appendedWildcard:!0}),setTimeout(function(){return target.setSelectionRange(1,1)})):"*"===query&&appendedWildcard&&(query="",_this.setState({appendedWildcard:!1})),_this.lastQuery=query,_this.setState({query:query,showingIndexPatternQueryErrors:!!query.length}),_this.fetchIndices(query)},_this.state={partialMatchedIndices:[],exactMatchedIndices:[],isLoadingIndices:!1,existingIndexPatterns:[],indexPatternExists:!1,query:props.initialQuery,appendedWildcard:!1,showingIndexPatternQueryErrors:!1},_this.lastQuery=null,_this}return _inherits(StepIndexPattern,_Component),_createClass(StepIndexPattern,[{key:"componentWillMount",value:function(){function componentWillMount(){return _ref6.apply(this,arguments)}var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:this.fetchExistingIndexPatterns(),this.state.query&&(this.lastQuery=this.state.query,this.fetchIndices(this.state.query));case 2:case"end":return _context3.stop()}},_callee3,this)}));return componentWillMount}()},{key:"renderLoadingState",value:function(){return this.state.isLoadingIndices?_react2.default.createElement(_loading_indices.LoadingIndices,{"data-test-subj":"createIndexPatternStep1Loading"}):null}},{key:"renderStatusMessage",value:function(matchedIndices){var _state=this.state,query=_state.query,isLoadingIndices=_state.isLoadingIndices,indexPatternExists=_state.indexPatternExists,isIncludingSystemIndices=_state.isIncludingSystemIndices;return isLoadingIndices||indexPatternExists?null:_react2.default.createElement(_status_message.StatusMessage,{matchedIndices:matchedIndices,isIncludingSystemIndices:isIncludingSystemIndices,query:query})}},{key:"renderList",value:function(_ref7){var visibleIndices=_ref7.visibleIndices,allIndices=_ref7.allIndices,_state2=this.state,query=_state2.query,isLoadingIndices=_state2.isLoadingIndices,indexPatternExists=_state2.indexPatternExists;if(isLoadingIndices||indexPatternExists)return null;var indicesToList=query.length?visibleIndices:allIndices;return _react2.default.createElement(_indices_list.IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:query,indices:indicesToList})}},{key:"renderIndexPatternExists",value:function(){var _state3=this.state,indexPatternExists=_state3.indexPatternExists,query=_state3.query;return indexPatternExists?_react2.default.createElement(_eui.EuiCallOut,{title:"Whoops!",iconType:"help",color:"warning"},_react2.default.createElement("p",null,"There's already an index pattern called `",query,"`")):null}},{key:"renderHeader",value:function(_ref8){var indices=_ref8.exactMatchedIndices,goToNextStep=this.props.goToNextStep,_state4=this.state,query=_state4.query,showingIndexPatternQueryErrors=_state4.showingIndexPatternQueryErrors,indexPatternExists=_state4.indexPatternExists,containsErrors=!1,errors=[],characterList=_constants.ILLEGAL_CHARACTERS.slice(0,_constants.ILLEGAL_CHARACTERS.length-1).join(", ");query&&query.length&&"."!==query&&".."!==query?(0,_lib.containsInvalidCharacters)(query,_constants.ILLEGAL_CHARACTERS)||(errors.push("An index pattern cannot contain spaces or the characters: "+characterList),containsErrors=!0):containsErrors=!0;var isInputInvalid=showingIndexPatternQueryErrors&&containsErrors&&errors.length>0,isNextStepDisabled=containsErrors||0===indices.length||indexPatternExists;return _react2.default.createElement(_header.Header,{"data-test-subj":"createIndexPatternStep1Header",isInputInvalid:isInputInvalid,errors:errors,characterList:characterList,query:query,onQueryChanged:this.onQueryChanged,goToNextStep:goToNextStep,isNextStepDisabled:isNextStepDisabled})}},{key:"render",value:function(){var _props=this.props,isIncludingSystemIndices=_props.isIncludingSystemIndices,allIndices=_props.allIndices,_state5=this.state,query=_state5.query,partialMatchedIndices=_state5.partialMatchedIndices,exactMatchedIndices=_state5.exactMatchedIndices,matchedIndices=(0,_lib.getMatchedIndices)(allIndices,partialMatchedIndices,exactMatchedIndices,query,isIncludingSystemIndices);return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},this.renderHeader(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderLoadingState(matchedIndices),this.renderIndexPatternExists(),this.renderStatusMessage(matchedIndices),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderList(matchedIndices))}}]),StepIndexPattern}(_react.Component);StepIndexPattern.propTypes={allIndices:_propTypes2.default.array.isRequired,isIncludingSystemIndices:_propTypes2.default.bool.isRequired,esService:_propTypes2.default.object.isRequired,savedObjectsClient:_propTypes2.default.object.isRequired,goToNextStep:_propTypes2.default.func.isRequired,initialQuery:_propTypes2.default.string},StepIndexPattern.defaultProps={initialQuery:""}},5236:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _loading_indices=__webpack_require__(5237);Object.defineProperty(exports,"LoadingIndices",{enumerable:!0,get:function(){return _loading_indices.LoadingIndices}})},5237:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingIndices=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5),LoadingIndices=function(_ref){var rest=_objectWithoutProperties(_ref,[]);return _react2.default.createElement(_eui.EuiFlexGroup,_extends({justifyContent:"center",alignItems:"center"},rest),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Looking for matching indices...")),_react2.default.createElement(_eui.EuiText,{size:"s",style:{textAlign:"center"}},_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Just a sec..."))))};exports.LoadingIndices=LoadingIndices},5238:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _status_message=__webpack_require__(5239);Object.defineProperty(exports,"StatusMessage",{enumerable:!0,get:function(){return _status_message.StatusMessage}})},5239:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusMessage=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.StatusMessage=function(_ref){var _ref$matchedIndices=_ref.matchedIndices,_ref$matchedIndices$a=_ref$matchedIndices.allIndices,allIndices=void 0===_ref$matchedIndices$a?[]:_ref$matchedIndices$a,_ref$matchedIndices$e=_ref$matchedIndices.exactMatchedIndices,exactMatchedIndices=void 0===_ref$matchedIndices$e?[]:_ref$matchedIndices$e,_ref$matchedIndices$p=_ref$matchedIndices.partialMatchedIndices,partialMatchedIndices=void 0===_ref$matchedIndices$p?[]:_ref$matchedIndices$p,isIncludingSystemIndices=_ref.isIncludingSystemIndices,query=_ref.query,statusIcon=void 0,statusMessage=void 0,statusColor=void 0;return 0===query.length?(statusIcon=null,statusColor="default",statusMessage=allIndices.length>1?_react2.default.createElement("span",null,"Your index pattern can match any of your ",_react2.default.createElement("strong",null,allIndices.length," indices"),", below."):isIncludingSystemIndices?_react2.default.createElement("span",null,"No Elasticsearch indices match your pattern."):_react2.default.createElement("span",null,"No Elasticsearch indices match your pattern. To view the matching system indices, toggle the switch in the upper right.")):exactMatchedIndices.length?(statusIcon="check",statusColor="secondary",statusMessage=_react2.default.createElement("span",null," ",_react2.default.createElement("strong",null,"Success!"),"  Your index pattern matches ",_react2.default.createElement("strong",null,exactMatchedIndices.length," ",exactMatchedIndices.length>1?"indices":"index"),".")):partialMatchedIndices.length?(statusIcon=null,statusColor="default",statusMessage=_react2.default.createElement("span",null,"Your index pattern doesn't match any indices, but you have ",_react2.default.createElement("strong",null,partialMatchedIndices.length," ",partialMatchedIndices.length>1?"indices ":"index "),"which ",partialMatchedIndices.length>1?"look":"looks"," similar.")):allIndices.length&&(statusIcon=null,statusColor="default",statusMessage=_react2.default.createElement("span",null,"The index pattern you've entered doesn't match any indices. You can match any of your ",_react2.default.createElement("strong",null,allIndices.length," indices"),", below.")),_react2.default.createElement(_eui.EuiText,{size:"s"},_react2.default.createElement(_eui.EuiTextColor,{color:statusColor},statusIcon?_react2.default.createElement(_eui.EuiIcon,{type:statusIcon}):null,statusMessage))}},5240:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _indices_list=__webpack_require__(5241);Object.defineProperty(exports,"IndicesList",{enumerable:!0,get:function(){return _indices_list.IndicesList}})},5241:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndicesList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_constants=__webpack_require__(553),_eui=__webpack_require__(5),_services=__webpack_require__(49);(exports.IndicesList=function(_Component){function IndicesList(props){_classCallCheck(this,IndicesList);var _this=_possibleConstructorReturn(this,(IndicesList.__proto__||Object.getPrototypeOf(IndicesList)).call(this,props));return _this.resetPageTo0=function(){return _this.onChangePage(0)},_this.onChangePage=function(page){_this.pager.goToPageIndex(page),_this.setState({page:page})},_this.onChangePerPage=function(perPage){_this.pager.setItemsPerPage(perPage),_this.setState({perPage:perPage}),_this.resetPageTo0(),_this.closePerPageControl()},_this.openPerPageControl=function(){_this.setState({isPerPageControlOpen:!0})},_this.closePerPageControl=function(){_this.setState({isPerPageControlOpen:!1})},_this.state={page:0,perPage:_constants.PER_PAGE_INCREMENTS[1],isPerPageControlOpen:!1},_this.pager=new _services.Pager(props.indices.length,_this.state.perPage,_this.state.page),_this}return _inherits(IndicesList,_Component),_createClass(IndicesList,[{key:"componentWillReceiveProps",value:function(nextProps){nextProps.indices.length!==this.props.indices.length&&(this.pager.setTotalItems(nextProps.indices.length),this.resetPageTo0())}},{key:"renderPagination",value:function(){var _this2=this,_state=this.state,perPage=_state.perPage,page=_state.page,isPerPageControlOpen=_state.isPerPageControlOpen,button=_react2.default.createElement(_eui.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},"Rows per page: ",perPage),items=_constants.PER_PAGE_INCREMENTS.map(function(increment){return _react2.default.createElement(_eui.EuiContextMenuItem,{key:increment,icon:"empty",onClick:function(){return _this2.onChangePerPage(increment)}},increment)}),pageCount=this.pager.getTotalPages(),paginationControls=pageCount>1?_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiPagination,{pageCount:pageCount,activePage:page,onPageClick:this.onChangePage})):null;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiPopover,{id:"customizablePagination",button:button,isOpen:isPerPageControlOpen,closePopover:this.closePerPageControl,panelPaddingSize:"none",withTitle:!0},_react2.default.createElement(_eui.EuiContextMenuPanel,{items:items}))),paginationControls)}},{key:"highlightIndexName",value:function(indexName,query){var queryIdx=indexName.indexOf(query);if(!query||-1===queryIdx)return indexName;var preStr=indexName.substr(0,queryIdx),postStr=indexName.substr(queryIdx+query.length);return _react2.default.createElement("span",null,preStr,_react2.default.createElement("strong",null,query),postStr)}},{key:"render",value:function(){var _this3=this,_props=this.props,indices=_props.indices,query=_props.query,rest=_objectWithoutProperties(_props,["indices","query"]),queryWithoutWildcard=query.endsWith("*")?query.substr(0,query.length-1):query,paginatedIndices=indices.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1),rows=paginatedIndices.map(function(index,key){return _react2.default.createElement(_eui.EuiTableRow,{key:key},_react2.default.createElement(_eui.EuiTableRowCell,null,_this3.highlightIndexName(index.name,queryWithoutWildcard)))});return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableBody,null,rows)),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderPagination())}}]),IndicesList}(_react.Component)).propTypes={indices:_propTypes2.default.array.isRequired,query:_propTypes2.default.string.isRequired}},5242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _header=__webpack_require__(5243);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}})},5243:function(module,exports,__webpack_require__){"use strict";function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5),Header=function(_ref){var isInputInvalid=_ref.isInputInvalid,errors=_ref.errors,characterList=_ref.characterList,query=_ref.query,onQueryChanged=_ref.onQueryChanged,goToNextStep=_ref.goToNextStep,isNextStepDisabled=_ref.isNextStepDisabled,rest=_objectWithoutProperties(_ref,["isInputInvalid","errors","characterList","query","onQueryChanged","goToNextStep","isNextStepDisabled"]);return _react2.default.createElement("div",rest,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,"Step 1 of 2: Define index pattern")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiForm,{isInvalid:isInputInvalid},_react2.default.createElement(_eui.EuiFormRow,{label:"Index pattern",isInvalid:isInputInvalid,error:errors,helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You can use a ",_react2.default.createElement("strong",null,"*")," as a wildcard in your index pattern."),_react2.default.createElement("p",null,"You can't use spaces or the characters ",_react2.default.createElement("strong",null,characterList),"."))},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPattern",placeholder:"index-name-*",value:query,isInvalid:isInputInvalid,onChange:onQueryChanged,"data-test-subj":"createIndexPatternNameInput"})))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{iconType:"arrowRight",onClick:function(){return goToNextStep(query)},isDisabled:isNextStepDisabled,"data-test-subj":"createIndexPatternGoToStep2Button"},"Next step"))))};exports.Header=Header},5244:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _step_time_field=__webpack_require__(5245);Object.defineProperty(exports,"StepTimeField",{enumerable:!0,get:function(){return _step_time_field.StepTimeField}})},5245:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StepTimeField=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_lib=__webpack_require__(820),_header=__webpack_require__(5246),_time_field=__webpack_require__(5248),_advanced_options=__webpack_require__(5251),_action_buttons=__webpack_require__(5253),_eui=__webpack_require__(5);(exports.StepTimeField=function(_Component){function StepTimeField(props){var _this2=this;_classCallCheck(this,StepTimeField);var _this=_possibleConstructorReturn(this,(StepTimeField.__proto__||Object.getPrototypeOf(StepTimeField)).call(this,props));return _this.fetchTimeFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _this$props,indexPatternsService,indexPattern,fields,timeFields;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this$props=_this.props,indexPatternsService=_this$props.indexPatternsService,indexPattern=_this$props.indexPattern,_this.setState({isFetchingTimeFields:!0}),_context.next=4,(0,_lib.ensureMinimumTime)(indexPatternsService.fieldsFetcher.fetchForWildcard(indexPattern));case 4:fields=_context.sent,timeFields=(0,_lib.extractTimeFields)(fields),_this.setState({timeFields:timeFields,isFetchingTimeFields:!1});case 7:case"end":return _context.stop()}},_callee,_this2)})),_this.onTimeFieldChanged=function(e){var value=e.target.value,timeField=_this.state.timeFields.find(function(timeField){return timeField.fieldName===value}),validSelection=""!==value;_this.setState({selectedTimeField:timeField?timeField.fieldName:void 0,timeFieldSet:validSelection})},_this.onChangeIndexPatternId=function(e){_this.setState({indexPatternId:e.target.value})},_this.toggleAdvancedOptions=function(){_this.setState(function(state){return{isAdvancedOptionsVisible:!state.isAdvancedOptionsVisible}})},_this.createIndexPattern=function(){var _this$state=_this.state,selectedTimeField=_this$state.selectedTimeField,indexPatternId=_this$state.indexPatternId;_this.setState({isCreating:!0}),_this.props.createIndexPattern(selectedTimeField,indexPatternId)},_this.state={timeFields:[],selectedTimeField:void 0,timeFieldSet:!1,isAdvancedOptionsVisible:!1,isFetchingTimeFields:!1,isCreating:!1,indexPatternId:""},_this}return _inherits(StepTimeField,_Component),_createClass(StepTimeField,[{key:"componentWillMount",value:function(){this.fetchTimeFields()}},{key:"render",value:function(){var _state=this.state,timeFields=_state.timeFields,selectedTimeField=_state.selectedTimeField,timeFieldSet=_state.timeFieldSet,isAdvancedOptionsVisible=_state.isAdvancedOptionsVisible,indexPatternId=_state.indexPatternId,isCreating=_state.isCreating,isFetchingTimeFields=_state.isFetchingTimeFields;if(isCreating)return _react2.default.createElement(_eui.EuiPanel,null,_react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiLoadingSpinner,null)),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,"Creating index pattern..."))));var _props=this.props,indexPattern=_props.indexPattern,goToPreviousStep=_props.goToPreviousStep,timeFieldOptions=timeFields?[{text:"",value:""}].concat(_toConsumableArray(timeFields.map(function(timeField){return{text:timeField.display,value:timeField.fieldName,disabled:timeFields.isDisabled}}))):[],showTimeField=!timeFields||timeFields.length>1,submittable=!showTimeField||timeFieldSet;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_header.Header,{indexPattern:indexPattern}),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react2.default.createElement(_time_field.TimeField,{isVisible:showTimeField,fetchTimeFields:this.fetchTimeFields,timeFieldOptions:timeFieldOptions,isLoading:isFetchingTimeFields,selectedTimeField:selectedTimeField,onTimeFieldChanged:this.onTimeFieldChanged}),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_advanced_options.AdvancedOptions,{isVisible:isAdvancedOptionsVisible,indexPatternId:indexPatternId,toggleAdvancedOptions:this.toggleAdvancedOptions,onChangeIndexPatternId:this.onChangeIndexPatternId}),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_action_buttons.ActionButtons,{goToPreviousStep:goToPreviousStep,submittable:submittable,createIndexPattern:this.createIndexPattern}))}}]),StepTimeField}(_react.Component)).propTypes={indexPattern:_propTypes2.default.string.isRequired,indexPatternsService:_propTypes2.default.object.isRequired,goToPreviousStep:_propTypes2.default.func.isRequired,createIndexPattern:_propTypes2.default.func.isRequired}},5246:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _header=__webpack_require__(5247);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}})},5247:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.Header=function(_ref){var indexPattern=_ref.indexPattern;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h2",null,"Step 2 of 2: Configure settings")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiText,{color:"subdued"},_react2.default.createElement("span",null,"You've defined ",_react2.default.createElement("strong",null,indexPattern)," as your index pattern. Now you can specify some settings before we create it.")))}},5248:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _time_field=__webpack_require__(5249);Object.defineProperty(exports,"TimeField",{enumerable:!0,get:function(){return _time_field.TimeField}})},5249:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeField=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);__webpack_require__(5250);var _eui=__webpack_require__(5);exports.TimeField=function(_ref){var isVisible=_ref.isVisible,fetchTimeFields=_ref.fetchTimeFields,timeFieldOptions=_ref.timeFieldOptions,isLoading=_ref.isLoading,selectedTimeField=_ref.selectedTimeField,onTimeFieldChanged=_ref.onTimeFieldChanged;return _react2.default.createElement(_eui.EuiForm,null,isVisible?_react2.default.createElement(_eui.EuiFormRow,{label:_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"xs",justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement("span",null,"Time Filter field name")),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},isLoading?_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"s"}):_react2.default.createElement(_eui.EuiLink,{className:"timeFieldRefreshButton",onClick:fetchTimeFields},"Refresh"))),helpText:_react2.default.createElement("div",null,_react2.default.createElement("p",null,"The Time Filter will use this field to filter your data by time."),_react2.default.createElement("p",null,"You can choose not to have a time field, but you will not be able to narrow down your data by a time range."))},isLoading?_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:[{text:"Loading...",value:""}],disabled:!0}):_react2.default.createElement(_eui.EuiSelect,{name:"timeField","data-test-subj":"createIndexPatternTimeFieldSelect",options:timeFieldOptions,isLoading:isLoading,disabled:isLoading,value:selectedTimeField,onChange:onTimeFieldChanged})):_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"The indices which match this index pattern don't contain any time fields.")))}},5250:function(module,exports){},5251:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _advanced_options=__webpack_require__(5252);Object.defineProperty(exports,"AdvancedOptions",{enumerable:!0,get:function(){return _advanced_options.AdvancedOptions}})},5252:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdvancedOptions=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.AdvancedOptions=function(_ref){var isVisible=_ref.isVisible,indexPatternId=_ref.indexPatternId,toggleAdvancedOptions=_ref.toggleAdvancedOptions,onChangeIndexPatternId=_ref.onChangeIndexPatternId;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:isVisible?"arrowDown":"arrowRight",onClick:toggleAdvancedOptions},isVisible?_react2.default.createElement("span",null,"Hide advanced options"):_react2.default.createElement("span",null,"Show advanced options")),_react2.default.createElement(_eui.EuiSpacer,{size:"xs"}),isVisible?_react2.default.createElement(_eui.EuiForm,null,_react2.default.createElement(_eui.EuiFormRow,{label:"Custom index pattern ID",helpText:_react2.default.createElement("span",null,"Kibana will provide a unique identifier for each index pattern. If you do not want to use this unique ID, enter a custom one.")},_react2.default.createElement(_eui.EuiFieldText,{name:"indexPatternId","data-test-subj":"createIndexPatternIdInput",value:indexPatternId,onChange:onChangeIndexPatternId,placeholder:"custom-index-pattern-id"}))):null)}},5253:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _action_buttons=__webpack_require__(5254);Object.defineProperty(exports,"ActionButtons",{enumerable:!0,get:function(){return _action_buttons.ActionButtons}})},5254:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionButtons=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.ActionButtons=function(_ref){var goToPreviousStep=_ref.goToPreviousStep,submittable=_ref.submittable,createIndexPattern=_ref.createIndexPattern;return _react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"arrowLeft",onClick:goToPreviousStep},"Back")),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{isDisabled:!submittable,"data-test-subj":"createIndexPatternCreateButton",fill:!0,onClick:createIndexPattern},"Create index pattern")))}},5255:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _header=__webpack_require__(5256);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}})},5256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.Header=function(_ref){var isIncludingSystemIndices=_ref.isIncludingSystemIndices,onChangeIncludingSystemIndices=_ref.onChangeIncludingSystemIndices;return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("h1",null,"Create index pattern")),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"Kibana uses index patterns to retrieve data from Elasticsearch indices for things like visualizations.")))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiSwitch,{label:"Include system indices",checked:isIncludingSystemIndices,onChange:onChangeIncludingSystemIndices}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}))}},5257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _loading_state=__webpack_require__(5258);Object.defineProperty(exports,"LoadingState",{enumerable:!0,get:function(){return _loading_state.LoadingState}})},5258:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoadingState=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.LoadingState=function(){return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},"Checking for Elasticsearch data"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiLoadingSpinner,{size:"l"})),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiText,{size:"s",color:"subdued"},"Reticulating splines..."))))))}},5259:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _empty_state=__webpack_require__(5260);Object.defineProperty(exports,"EmptyState",{enumerable:!0,get:function(){return _empty_state.EmptyState}})},5260:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmptyState=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.EmptyState=function(_ref){var loadingDataDocUrl=_ref.loadingDataDocUrl,onRefresh=_ref.onRefresh;return _react2.default.createElement(_eui.EuiPanel,{paddingSize:"l"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react2.default.createElement("h2",{style:{textAlign:"center"}},"Couldn't find any Elasticsearch data"))),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},"You'll need to index some data into Elasticsearch before you can create an index pattern.")," ",_react2.default.createElement(_eui.EuiLink,{href:loadingDataDocUrl,target:"_blank"},"Learn how."))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{iconType:"refresh",onClick:onRefresh,"data-test-subj":"refreshIndicesButton"},"Check for new data"))))))}).propTypes={loadingDataDocUrl:_propTypes2.default.string.isRequired,onRefresh:_propTypes2.default.func.isRequired}},5261:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5262)},5262:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function updateSourceFiltersTable($scope,$state){"sourceFilters"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.render)(_react2.default.createElement(_source_filters_table.SourceFiltersTable,{indexPattern:$scope.indexPattern,filterFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,onAddOrRemoveFilter:function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern),$scope.refreshFilters(),$scope.$apply()}}),node)}):destroySourceFiltersTable()}function destroySourceFiltersTable(){var node=document.getElementById(REACT_SOURCE_FILTERS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateScriptedFieldsTable($scope,$state){"scriptedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.render)(_react2.default.createElement(_scripted_fields_table.ScriptedFieldsTable,{indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,scriptedFieldLanguageFilter:$scope.scriptedFieldLanguageFilter,helpers:{redirectToRoute:function(obj,route){$scope.kbnUrl.redirectToRoute(obj,route),$scope.$apply()},getRouteHref:function(obj,route){return $scope.kbnUrl.getRouteHref(obj,route)}},onRemoveField:function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern),$scope.refreshFilters()}}),node)}):destroyScriptedFieldsTable()}function destroyScriptedFieldsTable(){var node=document.getElementById(REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}function updateIndexedFieldsTable($scope,$state){"indexedFields"===$state.tab?$scope.$$postDigest(function(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.render)(_react2.default.createElement(_indexed_fields_table.IndexedFieldsTable,{fields:$scope.fields,indexPattern:$scope.indexPattern,fieldFilter:$scope.fieldFilter,fieldWildcardMatcher:$scope.fieldWildcardMatcher,indexedFieldTypeFilter:$scope.indexedFieldTypeFilter,helpers:{redirectToRoute:function(obj,route){$scope.kbnUrl.redirectToRoute(obj,route),$scope.$apply()}}}),node)}):destroyIndexedFieldsTable()}function destroyIndexedFieldsTable(){var node=document.getElementById(REACT_INDEXED_FIELDS_DOM_ELEMENT_ID);node&&(0,_reactDom.unmountComponentAtNode)(node)}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(5263),__webpack_require__(5266);var _url=__webpack_require__(105),_edit_sections=__webpack_require__(5277),_notify=__webpack_require__(10),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),_edit_index_pattern=__webpack_require__(5278),_edit_index_pattern2=_interopRequireDefault(_edit_index_pattern),_field_wildcard=__webpack_require__(1052),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_source_filters_table=__webpack_require__(5279),_indexed_fields_table=__webpack_require__(5287),_scripted_fields_table=__webpack_require__(5293),REACT_SOURCE_FILTERS_DOM_ELEMENT_ID="reactSourceFiltersTable",REACT_INDEXED_FIELDS_DOM_ELEMENT_ID="reactIndexedFieldsTable",REACT_SCRIPTED_FIELDS_DOM_ELEMENT_ID="reactScriptedFieldsTable";_routes2.default.when("/management/kibana/indices/:indexPatternId",{template:_edit_index_pattern2.default,resolve:{indexPattern:function($route,courier){return courier.indexPatterns.get($route.current.params.indexPatternId).catch(courier.redirectWhenMissing("/management/kibana/index"))}}}),_routes2.default.when("/management/kibana/indices",{resolve:{redirect:function($location,config){var defaultIndex=config.get("defaultIndex"),path="/management/kibana/index";defaultIndex&&(path="/management/kibana/indices/"+defaultIndex),$location.path(path).replace()}}}),_modules.uiModules.get("apps/management").controller("managementIndicesEdit",function($scope,$location,$route,config,courier,Notifier,Private,AppState,docTitle,confirmModal){var notify=new Notifier,$state=$scope.state=new AppState,_Private=Private(_field_wildcard.FieldWildcardProvider),fieldWildcardMatcher=_Private.fieldWildcardMatcher;$scope.fieldWildcardMatcher=fieldWildcardMatcher,$scope.editSectionsProvider=Private(_edit_sections.IndicesEditSectionsProvider),$scope.kbnUrl=Private(_url.KbnUrlProvider),$scope.indexPattern=$route.current.locals.indexPattern,docTitle.change($scope.indexPattern.title);var otherPatterns=_lodash2.default.filter($route.current.locals.indexPatterns,function(pattern){return pattern.id!==$scope.indexPattern.id});$scope.$watch("indexPattern.fields",function(){$scope.editSections=$scope.editSectionsProvider($scope.indexPattern),$scope.refreshFilters(),$scope.fields=$scope.indexPattern.getNonScriptedFields(),updateIndexedFieldsTable($scope,$state),updateScriptedFieldsTable($scope,$state)}),$scope.refreshFilters=function(){var indexedFieldTypes=[],scriptedFieldLanguages=[];$scope.indexPattern.fields.forEach(function(field){field.scripted?scriptedFieldLanguages.push(field.lang):indexedFieldTypes.push(field.type)}),$scope.indexedFieldTypes=_lodash2.default.unique(indexedFieldTypes),$scope.scriptedFieldLanguages=_lodash2.default.unique(scriptedFieldLanguages)},$scope.changeFilter=function(filter,val){$scope[filter]=val||""},$scope.changeTab=function(obj){$state.tab=obj.index,updateIndexedFieldsTable($scope,$state),updateScriptedFieldsTable($scope,$state),updateSourceFiltersTable($scope,$state),$state.save()},$scope.$watch("state.tab",function(tab){tab||$scope.changeTab($scope.editSections[0])}),$scope.$watchCollection("indexPattern.fields",function(){$scope.conflictFields=$scope.indexPattern.fields.filter(function(field){return"conflict"===field.type})}),$scope.refreshFields=function(){var _this=this,confirmModalOptions={confirmButtonText:"Refresh",onConfirm:function(){function onConfirm(){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,$scope.indexPattern.refreshFields();case 2:$scope.fields=$scope.indexPattern.getNonScriptedFields();case 3:case"end":return _context.stop()}},_callee,_this)}));return onConfirm}(),title:"Refresh field list?"};confirmModal("This action resets the popularity counter of each field.",confirmModalOptions)},$scope.removePattern=function(){function doRemove(){$scope.indexPattern.id===config.get("defaultIndex")&&(config.remove("defaultIndex"),otherPatterns.length&&config.set("defaultIndex",otherPatterns[0].id)),courier.indexPatterns.delete($scope.indexPattern).then(function(){$location.url("/management/kibana/index")}).catch(_notify.fatalError)}confirmModal("",{confirmButtonText:"Delete",onConfirm:doRemove,title:"Delete index pattern?"})},$scope.setDefaultPattern=function(){config.set("defaultIndex",$scope.indexPattern.id)},$scope.setIndexPatternsTimeField=function(field){return"date"!==field.type?void notify.error("That field is a "+field.type+" not a date."):($scope.indexPattern.timeFieldName=field.name,$scope.indexPattern.save())},$scope.$watch("fieldFilter",function(){if(void 0!==$scope.fieldFilter)switch($state.tab){case"indexedFields":updateIndexedFieldsTable($scope,$state);case"scriptedFields":updateScriptedFieldsTable($scope,$state);case"sourceFilters":updateSourceFiltersTable($scope,$state)}}),$scope.$watch("indexedFieldTypeFilter",function(){void 0!==$scope.indexedFieldTypeFilter&&"indexedFields"===$state.tab&&updateIndexedFieldsTable($scope,$state)}),$scope.$watch("scriptedFieldLanguageFilter",function(){void 0!==$scope.scriptedFieldLanguageFilter&&"scriptedFields"===$state.tab&&updateScriptedFieldsTable($scope,$state)}),$scope.$on("$destory",function(){destroyIndexedFieldsTable(),destroyScriptedFieldsTable()}),updateScriptedFieldsTable($scope,$state),updateSourceFiltersTable($scope,$state)})},5263:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5264)},5264:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_index_header=__webpack_require__(5265),_index_header2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index_header);_modules.uiModules.get("apps/management").directive("kbnManagementIndexHeader",function(config){return{restrict:"E",template:_index_header2.default,replace:!0,scope:{indexPattern:"=",setDefault:"&",refreshFields:"&",delete:"&"},link:function($scope,$el,attrs){$scope.delete=attrs.delete?$scope.delete:null,$scope.setDefault=attrs.setDefault?$scope.setDefault:null,$scope.refreshFields=attrs.refreshFields?$scope.refreshFields:null,config.bindToScope($scope,"defaultIndex")}}})},5265:function(module,exports){module.exports='<div class="kuiBar kuiVerticalRhythm">\n  <div class="kuiBarSection">\n    \x3c!-- Index pattern name --\x3e\n    <h1\n      class="kuiTitle kuiVerticalRhythm"\n      data-test-subj="indexPatternTitle"\n    >\n      <span\n        aria-hidden="true"\n        ng-if="defaultIndex === indexPattern.id"\n        class="kuiIcon fa-star"\n      ></span>\n      {{indexPattern.title}}\n    </h1>\n  </div>\n\n  <div class="kuiBarSection">\n    <button\n      ng-if="setDefault"\n      ng-click="setDefault()"\n      aria-label="Set as default index"\n      tooltip="Set as default index"\n      class="kuiButton kuiButton--basic"\n      data-test-subj="setDefaultIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-star"\n      ></span>\n    </button>\n\n    <button\n      ng-if="refreshFields"\n      ng-click="refreshFields()"\n      aria-label="Reload field list"\n      tooltip="Refresh field list"\n      class="kuiButton kuiButton--basic"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-refresh"\n      ></span>\n    </button>\n\n    <button\n      ng-if="delete"\n      ng-click="delete()"\n      aria-label="Remove index pattern"\n      tooltip="Remove index pattern"\n      class="kuiButton kuiButton--danger"\n      data-test-subj="deleteIndexPatternButton"\n    >\n      <span\n        aria-hidden="true"\n        class="kuiIcon fa-trash"\n      ></span>\n    </button>\n  </div>\n</div>\n'},5266:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5267)},5267:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(1525);var _field=__webpack_require__(637),_url=__webpack_require__(105),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_scripted_field_editor=__webpack_require__(5276),_scripted_field_editor2=_interopRequireDefault(_scripted_field_editor);_routes2.default.when("/management/kibana/indices/:indexPatternId/field/:fieldName*",{mode:"edit"}).when("/management/kibana/indices/:indexPatternId/create-field/",{mode:"create"}).defaults(/management\/kibana\/indices\/[^\/]+\/(field|create-field)(\/|$)/,{template:_scripted_field_editor2.default,mapBreadcrumbs:function($route,breadcrumbs){var indexPattern=$route.current.locals.indexPattern;return breadcrumbs.map(function(crumb){return crumb.id!==indexPattern.id?crumb:_extends({},crumb,{display:indexPattern.title})})},resolve:{indexPattern:function($route,courier){return courier.indexPatterns.get($route.current.params.indexPatternId).catch(courier.redirectWhenMissing("/management/kibana/indices"))}},controllerAs:"fieldSettings",controller:function($route,Private,docTitle){var Field=Private(_field.IndexPatternsFieldProvider),kbnUrl=Private(_url.KbnUrlProvider);if(this.mode=$route.current.mode,this.indexPattern=$route.current.locals.indexPattern,"edit"===this.mode){var fieldName=$route.current.params.fieldName;if(this.field=this.indexPattern.fields.byName[fieldName],!this.field)return _notify.toastNotifications.add("'"+this.indexPattern.title+"' index pattern doesn't have a scripted field called '"+fieldName+"'"),void kbnUrl.redirectToRoute(this.indexPattern,"edit")}else{if("create"!==this.mode)throw new Error("unknown fieldSettings mode "+this.mode);this.field=new Field(this.indexPattern,{scripted:!0,type:"number"})}docTitle.change([this.field.name||"New Scripted Field",this.indexPattern.title]),this.goBack=function(){kbnUrl.changeToRoute(this.indexPattern,"edit")}}})},5268:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(5269);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_field_formats=__webpack_require__(99),_field=__webpack_require__(637),_modules=__webpack_require__(2),_field_editor=__webpack_require__(5274),_field_editor2=_interopRequireDefault(_field_editor),_notify=__webpack_require__(10);__webpack_require__(297),__webpack_require__(5275);var _scripting_languages=__webpack_require__(1528),_utils=__webpack_require__(285);_modules.uiModules.get("kibana").directive("fieldEditor",function(Private,$sce,confirmModal,config){var getConfig=function(){return config.get.apply(config,arguments)},Field=Private(_field.IndexPatternsFieldProvider),getEnabledScriptingLanguages=Private(_scripting_languages.GetEnabledScriptingLanguagesProvider),fieldTypesByLang={painless:["number","string","date","boolean"],expression:["number"],default:(0,_utils.getKbnTypeNames)()};return{restrict:"E",template:_field_editor2.default,scope:{getIndexPattern:"&indexPattern",getField:"&field"},controllerAs:"editor",controller:function($scope,kbnUrl){function redirectAway(){kbnUrl.changeToRoute(self.indexPattern,self.field.scripted?"scriptedFields":"indexedFields")}function getFieldFormatType(){return self.selectedFormatId?_field_formats.fieldFormats.getType(self.selectedFormatId):_field_formats.fieldFormats.getDefaultType(self.field.type)}function initDefaultFormat(){var def=Object.create(_field_formats.fieldFormats.getDefaultType(self.field.type));return def.id=void 0,def.resolvedTitle=def.title,def.title="- default - ",def}var self=this;(function(){return getEnabledScriptingLanguages().then(function(enabledLanguages){return _lodash2.default.intersection(enabledLanguages,_lodash2.default.union((0,_scripting_languages.getSupportedScriptingLanguages)(),(0,_scripting_languages.getDeprecatedScriptingLanguages)()))})})().then(function(langs){self.scriptingLangs=langs,_lodash2.default.includes(self.scriptingLangs,self.field.lang)||(self.field.lang=void 0)}),self.indexPattern=$scope.getIndexPattern(),self.field=function(field){var changes={},shadowProps={toActualField:{value:function(){return new Field(self.indexPattern,_lodash2.default.defaults({},changes,field.$$spec))}}};return Object.getOwnPropertyNames(field).forEach(function(prop){var desc=Object.getOwnPropertyDescriptor(field,prop);shadowProps[prop]={enumerable:desc.enumerable,get:function(){return _lodash2.default.has(changes,prop)?changes[prop]:field[prop]},set:function(v){changes[prop]=v}}}),Object.create(null,shadowProps)}($scope.getField()),self.formatParams=self.field.format.params(),self.conflictDescriptionsLength=self.field.conflictDescriptions?Object.keys(self.field.conflictDescriptions).length:0,self.creating=!self.indexPattern.fields.byName[self.field.name],self.existingFieldNames=self.indexPattern.fields.map(function(field){return field.name}),self.selectedFormatId=_lodash2.default.get(self.indexPattern,["fieldFormatMap",self.field.name,"type","id"]),self.defFormatType=initDefaultFormat(),self.cancel=redirectAway,self.save=function(){var indexPattern=self.indexPattern,fields=indexPattern.fields,field=self.field.toActualField(),index=fields.findIndex(function(f){return f.name===field.name});return index>-1?fields.splice(index,1,field):fields.push(field),self.selectedFormatId?indexPattern.fieldFormatMap[field.name]=self.field.format:delete indexPattern.fieldFormatMap[field.name],indexPattern.save().then(function(){_notify.toastNotifications.addSuccess("Saved '"+self.field.name+"'"),redirectAway()})},self.delete=function(){function doDelete(){var indexPattern=self.indexPattern,field=self.field;return indexPattern.fields.remove({name:field.name}),indexPattern.save().then(function(){_notify.toastNotifications.addSuccess("Deleted '"+self.field.name+"'"),redirectAway()})}var confirmModalOptions={confirmButtonText:"Delete",onConfirm:doDelete,title:"Delete field '"+self.field.name+"'?"};confirmModal("You can't recover a deleted field.",confirmModalOptions)},self.isDeprecatedLang=function(lang){return _lodash2.default.contains((0,_scripting_languages.getDeprecatedScriptingLanguages)(),lang)},$scope.$watch("editor.selectedFormatId",function(cur,prev){var format=self.field.format,changedFormat=cur!==prev,missingFormat=cur&&(!format||format.type.id!==cur);if(changedFormat&&missingFormat){var FieldFormat=getFieldFormatType(),paramDefaults=new FieldFormat({},getConfig).getParamDefaults();self.formatParams=_lodash2.default.assign({},_lodash2.default.cloneDeep(paramDefaults))}}),$scope.$watch("editor.formatParams",function(){var FieldFormat=getFieldFormatType();self.field.format=new FieldFormat(self.formatParams,getConfig)},!0),$scope.$watch("editor.field.type",function(newValue){self.defFormatType=initDefaultFormat(),self.fieldFormatTypes=[self.defFormatType].concat(_field_formats.fieldFormats.byFieldType[newValue]||[]),_lodash2.default.isUndefined(_lodash2.default.find(self.fieldFormatTypes,{id:self.selectedFormatId}))&&delete self.selectedFormatId}),$scope.$watch("editor.field.lang",function(newValue){self.fieldTypes=_lodash2.default.get(fieldTypesByLang,newValue,fieldTypesByLang.default),_lodash2.default.contains(self.fieldTypes,self.field.type)||(self.field.type=_lodash2.default.first(self.fieldTypes))})}}})},5269:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5270)},5270:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_require__(5271),__webpack_require__(1526);var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_modules=__webpack_require__(2),_field_format_editors=__webpack_require__(1527);_modules.uiModules.get("app/management").directive("fieldFormatEditor",function(Private,$compile){var fieldFormatEditors=Private(_field_format_editors.RegistryFieldFormatEditorsProvider);return{restrict:"A",scope:{getField:"&field",getFormatParams:"&formatParams"},controllerAs:"editor",controller:function($scope){var self=this;$scope.editor=this,$scope.$bind("editor.field","getField()",$scope),$scope.$bind("editor.formatParams","getFormatParams()",$scope),$scope.$watch("editor.field.format.type",function(FieldFormat){var fieldFormatEditor=FieldFormat&&fieldFormatEditors.getEditor(FieldFormat.id);if(!fieldFormatEditor)return void delete self.$$pseudoDirective;self.$$pseudoDirective={template:fieldFormatEditor.template,compile:fieldFormatEditor.compile||function(){return fieldFormatEditor.link},scope:fieldFormatEditor.scope||!1,controller:fieldFormatEditor.controller,controllerAs:fieldFormatEditor.controllerAs}})},link:function($scope,$el){function setupScope(opts){if("object"!==(void 0===opts?"undefined":_typeof(opts)))return scopesToTeardown[scopesToTeardown.push($scope.$new())-1];var isolate=scopesToTeardown[scopesToTeardown.push($scope.$new(!0))-1];return _lodash2.default.forOwn(opts,function(from,to){isolate.$bind(to,from,$scope)}),isolate}var scopesToTeardown=[];$scope.$watch("editor.$$pseudoDirective",function(directive){if($el.empty(),_lodash2.default.invoke(scopesToTeardown.splice(0),"$destroy"),!directive)return $el.hide();$el.show();var askedForChild=!!directive.scope,reuseScope=!askedForChild&&!directive.controller,$formatEditor=(0,_jquery2.default)("<div>").html(directive.template),$formatEditorScope=reuseScope?$scope:setupScope(directive.scope);if(directive.controller){var cntrlAs=directive.controllerAs?" as "+directive.controllerAs:"";$formatEditorScope.Controller=directive.controller,$formatEditor.attr("ng-controller","Controller"+cntrlAs)}var attrs={},linkFns=directive.compile&&directive.compile($el,attrs);linkFns&&!_lodash2.default.isFunction(linkFns)||(linkFns={pre:_lodash2.default.noop,post:linkFns||_lodash2.default.noop}),$el.html($formatEditor),linkFns.pre($formatEditorScope,$formatEditor,attrs),$compile($formatEditor)($formatEditorScope),linkFns.post($formatEditorScope,$formatEditor,attrs)})}}})},5271:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1526);var _modules=__webpack_require__(2),_pattern=__webpack_require__(5273),_pattern2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_pattern);_modules.uiModules.get("kibana").directive("fieldFormatEditorPattern",function(){return{restrict:"E",replace:!0,template:_pattern2.default,require:["ngModel","^fieldEditor"],scope:!0,link:function($scope,$el,attrs,cntrls){var ngModelCntrl=cntrls[0];$scope.$bind("inputs",attrs.inputs),$scope.$bind("placeholder",attrs.placeholder),attrs.$observe("id",function(){return $scope.id=attrs.id}),$scope.$watch("model",function(v){return ngModelCntrl.$setViewValue(v)}),ngModelCntrl.$render=function(){$scope.model=ngModelCntrl.$viewValue}}}})},5272:function(module,exports){module.exports='<div class="form-group hintbox" ng-if="error">\n  <h4 class="hintbox-heading">\n    <i class="fa fa-danger text-danger"></i> Format error\n  </h4>\n  <p>\n    An error occured while trying to use this format configuration.\n  </p>\n  <pre>{{ error.message }}</pre>\n</div>\n\n<div class="form-group" ng-if="samples">\n  <hr>\n  <label>Samples</label>\n  <table class="table">\n    <thead>\n      <tr>\n        <th scope="col">\n          Input\n        </th>\n        <th scope="col">\n          Formatted\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="sample in samples">\n        <td ng-bind="sample[0]"></td>\n        <td ng-bind-html="sample[1]"></td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'},5273:function(module,exports){module.exports='<div>\n  <div class="form-group">\n    <input\n      id="{{ id }}"\n      ng-model="model"\n      placeholder="{{ placeholder }}"\n      class="form-control">\n  </div>\n\n  <field-format-editor-samples\n    ng-model="model"\n    inputs="inputs">\n  </field-format-editor-samples>\n</div>\n'},5274:function(module,exports){module.exports='<form ng-submit="editor.save()" name="form">\n  <div ng-if="editor.scriptingLangs.length === 0" class="hintbox">\n    <p>\n      <i class="fa fa-danger text-danger"></i>\n      <strong>Scripting disabled:</strong>\n      All inline scripting has been disabled in Elasticsearch. You must enable inline scripting for at least one language in order to use scripted fields in Kibana.\n    </p>\n  </div>\n  <div ng-if="editor.creating" class="form-group">\n    <label for="scriptedFieldName" class="kuiFormLabel">Name</label>\n    <input\n      ng-model="editor.field.name"\n      id="scriptedFieldName"\n      required\n      placeholder="New Scripted Field"\n      input-focus\n      class="form-control"\n      data-test-subj="editorFieldName">\n  </div>\n  <div ng-if="editor.creating && editor.existingFieldNames.includes(editor.field.name)" class="hintbox">\n    <p>\n      <i class="fa fa-danger text-danger"></i>\n      <strong>Mapping Conflict:</strong>\n      You already have a field with the name {{ editor.field.name }}. Naming your scripted\n      field with the same name means you won\'t be able to query both fields at the same time.\n    </p>\n  </div>\n\n  <div ng-if="editor.field.scripted" class="form-group">\n    <label for="scriptedFieldLang" class="kuiFormLabel">Language</label>\n    <div class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm" ng-if="editor.field.lang && editor.isDeprecatedLang(editor.field.lang)">\n      <div class="kuiInfoPanelHeader">\n        <span\n          class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"\n          aria-label="Warning"\n          role="img"\n        ></span>\n        <span class="kuiInfoPanelHeader__title">\n          Deprecation Warning\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          <span class="text-capitalize">{{editor.field.lang}}</span> is deprecated and support will be removed in the\n          next major version of Kibana and Elasticsearch. We recommend using\n          <a class="kuiLink" ng-href="{{editor.docLinks.painless}}">Painless</a>\n          for new scripted fields.\n        </div>\n      </div>\n    </div>\n    <select\n      ng-model="editor.field.lang"\n      id="scriptedFieldLang"\n      ng-options="lang as lang for lang in editor.scriptingLangs"\n      required\n      class="form-control kuiVerticalRhythm"\n      data-test-subj="editorFieldLang">\n      <option value="">-- Select Language --</option>\n    </select>\n  </div>\n\n  <div class="form-group">\n    <label for="scriptedFieldType" class="kuiFormLabel">Type</label>\n    <select\n      ng-if="editor.field.scripted"\n      id="scriptedFieldType"\n      ng-model="editor.field.type"\n      ng-options="type as type for type in editor.fieldTypes"\n      class="form-control"\n      data-test-subj="editorFieldType">\n    </select>\n    <input\n      ng-if="!editor.field.scripted"\n      id="scriptedFieldType"\n      ng-model="editor.field.type"\n      readonly\n      class="form-control">\n  </div>\n\n  <div class="form-group">\n    <span class="pull-right text-warning hintbox-label" ng-click="editor.showFormatHelp = !editor.showFormatHelp">\n      <i class="fa fa-warning"></i> Warning\n    </span>\n\n    <label for="scriptFieldFormat" class="kuiFormLabel">Format <small>(Default: <i>{{editor.defFormatType.resolvedTitle}}</i>)</small></label>\n\n    <div class="hintbox" ng-if="editor.showFormatHelp">\n      <h4 class="hintbox-heading">\n        <i class="fa fa-warning text-warning"></i> Format Warning\n      </h4>\n\n      <p id="scriptFieldWarningCopy">\n        Formatting allows you to control the way that specific values are displayed. It can also cause values to be completely changed and prevent highlighting in Discover from working.\n      </p>\n    </div>\n\n    <select\n      ng-model="editor.selectedFormatId"\n      id="scriptFieldFormat"\n      ng-options="format.id as format.title for format in editor.fieldFormatTypes"\n      class="form-control"\n      aria-describedby="scriptFieldWarningCopy"\n      data-test-subj="editorSelectedFormatId">\n    </select>\n    <fieldset\n      field-format-editor\n      ng-if="editor.selectedFormatId"\n      field="editor.field"\n      format-params="editor.formatParams">\n    </fieldset>\n  </div>\n\n  <div class="form-group">\n    <label for="editorFieldCount" class="kuiFormLabel">Popularity</label>\n    <div class="kuiFieldGroup">\n      <div class="kuiFieldGroupSection">\n        <input\n          ng-model="editor.field.count"\n          id="editorFieldCount"\n          type="number"\n          class="form-control"\n          data-test-subj=editorFieldCount\n        >\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <div class="kuiButtonGroup kuiButtonGroup--united">\n          <button\n            data-test-subj="fieldIncreasePopularityButton"\n            type="button"\n            ng-click="editor.field.count = editor.field.count + 1"\n            aria-label="Increment popularity"\n            class="kuiButton kuiButton--basic"\n          >\n            <span\n              aria-hidden="true"\n              class="kuiIcon fa-plus"\n            ></span>\n          </button>\n\n          <button\n            type="button"\n            ng-click="editor.field.count = editor.field.count - 1"\n            aria-label="Decrement popularity"\n            class="kuiButton kuiButton--basic"\n          >\n            <span\n              aria-hidden="true"\n              class="kuiIcon fa-minus"\n            ></span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-if="editor.field.scripted">\n    <div class="form-group">\n      <label for="scriptedFieldScript" class="kuiFormLabel">Script</label>\n      <textarea\n        required\n        class="field-editor_script-input form-control text-monospace"\n        id="scriptedFieldScript"\n        ng-model="editor.field.script"\n        data-test-subj="editorFieldScript"\n      ></textarea>\n    </div>\n\n    <div class="euiCallOut euiCallOut--warning">\n      <div class="euiCallOutHeader">\n        <span class="euiCallOutHeader__title">Proceed with caution</span>\n      </div>\n      <div class="euiText euiText--small">\n        <p>\n          Please familiarize yourself with <a target="_window" documentation-href="scriptedFields.scriptFields">script fields <i class="fa-link fa"></i></a> and with <a target="_window" documentation-href="scriptedFields.scriptAggs">scripts in aggregations <i class="fa-link fa"></i></a> before using scripted fields.\n        </p>\n\n        <p>\n          Scripted fields can be used to display and aggregate calculated values. As such, they can be very slow, and if done incorrectly, can cause Kibana to be unusable. There\'s no safety net here. If you make a typo, unexpected exceptions will be thrown all over the place!\n        </p>\n      </div>\n    </div>\n\n    <div class="euiSpacer euiSpacer--m"></div>\n\n    <div class="euiCallOut euiCallOut--primary">\n      <div class="euiCallOutHeader">\n        <span class="euiCallOutHeader__title">Scripting Help</span>\n      </div>\n      <div class="euiText euiText--small">\n        <p>\n          By default, Kibana scripted fields use <a target="_window" documentation-href="scriptedFields.painless">Painless <i class="fa-link fa"></i></a>, a simple and secure scripting language designed specifically for use with Elasticsearch.  To access values in the document use the following format:\n        </p>\n\n        <p><code>doc[\'some_field\'].value</code></p>\n\n        <p>\n          Painless is powerful but easy to use. It provides access to many <a target="_window" documentation-href="scriptedFields.painlessApi">native Java APIs <i class="fa-link fa"></i></a>. Read up on its <a target="_window" documentation-href="scriptedFields.painlessSyntax">syntax <i class="fa-link fa"></i></a> and you\'ll be up to speed in no time!\n        </p>\n\n        <p>\n          Kibana currently imposes one special limitation on the painless scripts you write. They cannot contain named functions.\n        </p>\n\n        <p>\n          Coming from an older version of Kibana? The <a target="_window" documentation-href="scriptedFields.luceneExpressions">Lucene Expressions <i class="fa-link fa"></i></a> you know and love are still available. Lucene expressions are a lot like JavaScript, but limited to basic arithmetic, bitwise and comparison operations.\n        </p>\n\n        <p>\n          There are a few limitations when using Lucene Expressions:\n        </p>\n        <ul>\n          <li> Only numeric, boolean, date, and geo_point fields may be accessed </li>\n          <li> Stored fields are not available </li>\n          <li> If a field is sparse (only some documents contain a value), documents missing the field will have a value of 0 </li>\n        </ul>\n\n        <p>\n          Here are all the operations available to lucene expressions:\n        </p>\n        <ul>\n          <li> Arithmetic operators: + - * / % </li>\n          <li> Bitwise operators: | & ^ ~ << >> >>> </li>\n          <li> Boolean operators (including the ternary operator): && || ! ?: </li>\n          <li> Comparison operators: < <= == >= > </li>\n          <li> Common mathematic functions: abs ceil exp floor ln log10 logn max min sqrt pow </li>\n          <li> Trigonometric library functions: acosh acos asinh asin atanh atan atan2 cosh cos sinh sin tanh tan </li>\n          <li> Distance functions: haversin </li>\n          <li> Miscellaneous functions: min, max </li>\n        </ul>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="euiSpacer euiSpacer--l"></div>\n\n  <div  ng-if="editor.conflictDescriptionsLength > 0">\n    <p>\n      <i class="fa fa-warning text-warning"></i>\n      <strong>Field Type Conflict:</strong>\n      The type of this field changes across indices. It is unavailable for many analysis functions. The indices per type are as follows:\n      <table class="table">\n      <thead>\n        <th scope="col"> Field Type </th>\n        <th scope="col"> Index Names </th>\n      </thead>\n      <tbody>\n      <tr ng-repeat="(type, indices) in editor.field.conflictDescriptions">\n        <td>{{type}}</td> <td>{{indices.join(\', \')}}</td>\n      </tr>\n      </tbody>\n      </table>\n    </p>\n  </div>\n\n  <div class="form-group">\n    <button\n      type="button"\n      ng-if="editor.field.scripted && !editor.creating"\n      ng-click="editor.delete()"\n      aria-label="Delete"\n      class="kuiButton kuiButton--danger"\n    >\n      Delete Field\n    </button>\n\n    <button\n      data-test-subj="fieldSaveButton"\n      ng-disabled="form.$invalid"\n      type="submit"\n      aria-label="{{ editor.creating ? \'Create\' : \'Update\' }} Field"\n      class="kuiButton kuiButton--primary"\n    >\n      {{ editor.creating ? \'Create\' : \'Update\' }} Field\n    </button>\n\n    <button\n      data-test-subj="fieldCancelButton"\n      type="button"\n      ng-click="editor.cancel()"\n      class="kuiButton kuiButton--hollow"\n    >\n      Cancel\n    </button>\n  </div>\n</form>\n'},5275:function(module,exports){},5276:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <kbn-management-indices>\n    <div class="kuiViewContent">\n      <kbn-management-index-header\n        index-pattern="fieldSettings.indexPattern"\n      ></kbn-management-index-header>\n\n      <h2\n        ng-if="fieldSettings.mode === \'create\'"\n        class="kuiSubTitle kuiVerticalRhythm"\n      >\n        Create {{ fieldSettings.field.scripted ? \'Scripted \' : \'\' }}Field\n      </h2>\n\n      <h2\n        ng-if="fieldSettings.mode === \'edit\'"\n        class="kuiSubTitle kuiVerticalRhythm"\n      >\n        {{ fieldSettings.field.name }}\n      </h2>\n    </div>\n\n    <field-editor index-pattern="fieldSettings.indexPattern" field="fieldSettings.field"></field-editor>\n\n  </kbn-management-indices>\n</kbn-management-app>\n'},5277:function(module,exports,__webpack_require__){"use strict";function IndicesEditSectionsProvider(){return function(indexPattern){var fieldCount=_lodash2.default.countBy(indexPattern.fields,function(field){return field.scripted?"scripted":"indexed"});return _lodash2.default.defaults(fieldCount,{indexed:0,scripted:0,sourceFilters:indexPattern.sourceFilters?indexPattern.sourceFilters.length:0}),[{title:"Fields",index:"indexedFields",count:fieldCount.indexed},{title:"Scripted fields",index:"scriptedFields",count:fieldCount.scripted},{title:"Source filters",index:"sourceFilters",count:fieldCount.sourceFilters}]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndicesEditSectionsProvider=IndicesEditSectionsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash)},5278:function(module,exports){module.exports='<kbn-management-app section="kibana" omit-breadcrumb-pages="[\'indices\']">\n  <kbn-management-indices>\n    <div\n      ng-controller="managementIndicesEdit"\n      data-test-subj="editIndexPattern"\n      class="kuiViewContent"\n      role="region"\n      aria-label="Index pattern details"\n    >\n      \x3c!-- Header --\x3e\n      <kbn-management-index-header\n        index-pattern="indexPattern"\n        set-default="setDefaultPattern()"\n        refresh-fields="refreshFields()"\n        delete="removePattern()"\n      ></kbn-management-index-header>\n\n      <p ng-if="indexPattern.timeFieldName" class="kuiText kuiVerticalRhythm">\n        <span class="label label-success">\n          <span class="kuiIcon fa-clock-o"></span>\n          <span>Time Filter field name</span>: {{indexPattern.timeFieldName}}\n        </span>\n      </p>\n\n      <p class="kuiText kuiVerticalRhythm">\n        This page lists every field in the <strong>{{::indexPattern.title}}</strong> index and the field\'s associated core type as recorded by Elasticsearch. To change a field type, use the Elasticsearch\n        <a target="_window" class="euiLink euiLink--primary" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html">\n          Mapping API\n          <i aria-hidden="true" class="fa-link fa"></i>\n        </a>\n      </p>\n\n      \x3c!-- Alerts --\x3e\n      <div\n        ng-if="indexPattern.isUnsupportedTimePattern()"\n        class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Support for repeating index patterns removed\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Support for time-interval based index patterns has been removed! In the next major\n            version of Kibana this index patterns will stop working. Migrate saved objects that\n            use this index pattern to a wildcard pattern and delete this one.\n          </div>\n        </div>\n      </div>\n\n      <div\n        ng-if="conflictFields.length"\n        class="kuiInfoPanel kuiInfoPanel--warning kuiVerticalRhythm"\n      >\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--warning fa-bolt"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Mapping conflict\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            {{conflictFields.length > 1 ? conflictFields.length : \'A\'}} field{{conflictFields.length > 1 ? \'s\' : \'\'}} {{conflictFields.length > 1 ? \'are\' : \'is\'}} defined as several types (string, integer, etc) across the indices that match this pattern. You may still be able to use these conflict fields in parts of Kibana, but they will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data.\n          </div>\n        </div>\n      </div>\n\n      \x3c!-- Tabs --\x3e\n      <div class="kuiTabs kuiVerticalRhythm">\n        <button\n          class="kuiTab"\n          ng-repeat="editSection in editSections"\n          ng-class="{ \'kuiTab-isSelected\': state.tab === editSection.index }"\n          ng-click="changeTab(editSection)"\n          data-test-subj="tab-{{ editSection.index }}"\n        >\n          {{ editSection.title }}\n          <span\n            data-test-subj="tab-count-{{ editSection.index }}"\n            aria-label="{{:: editSection.count + \' \' + editSection.title}}"\n          >\n            ({{ editSection.count }})\n          </span>\n        </button>\n      </div>\n\n      \x3c!-- Field Filters --\x3e\n      <form role="form" class="kuiFieldGroup kuiVerticalRhythm">\n        <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n          <div class="kuiSearchInput">\n            <div class="kuiSearchInput__icon kuiIcon fa-search"></div>\n            <input\n              class="kuiSearchInput__input"\n              type="text"\n              aria-label="Filter"\n              ng-model="fieldFilter"\n              placeholder="Filter"\n              data-test-subj="indexPatternFieldFilter"\n            >\n          </div>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'indexedFields\' && indexedFieldTypes.length > 0"\n        >\n          <select\n            data-test-subj="indexedFieldTypeFilterDropdown"\n            class="kuiSelect"\n            ng-model="indexedFieldTypeFilter"\n            ng-change="changeFilter(\'indexedFieldTypeFilter\', indexedFieldTypeFilter)"\n            ng-options="o for o in indexedFieldTypes"\n          >\n            <option value="">All field types</option>\n          </select>\n        </div>\n\n        <div\n          class="kuiFieldGroupSection"\n          ng-if="state.tab == \'scriptedFields\' && scriptedFieldLanguages.length > 0"\n        >\n          <select\n            data-test-subj="scriptedFieldLanguageFilterDropdown"\n            class="kuiSelect"\n            ng-model="scriptedFieldLanguageFilter"\n            ng-change="changeFilter(\'scriptedFieldLanguageFilter\', scriptedFieldLanguageFilter)"\n            ng-options="o for o in scriptedFieldLanguages"\n          >\n            <option value="">All languages</option>\n          </select>\n        </div>\n      </form>\n\n      \x3c!-- Tab content --\x3e\n      <div class="kuiVerticalRhythm">\n        <div id="reactIndexedFieldsTable"></div>\n\n        <div id="reactScriptedFieldsTable"></div>\n\n        <div id="reactSourceFiltersTable"></div>\n      </div>\n    </div>\n  </kbn-management-indices>\n</kbn-management-app>\n'},5279:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _source_filters_table=__webpack_require__(5280);Object.defineProperty(exports,"SourceFiltersTable",{enumerable:!0,get:function(){return _source_filters_table.SourceFiltersTable}})},5280:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SourceFiltersTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_reselect=__webpack_require__(175),_eui=__webpack_require__(5),_table=__webpack_require__(5281),_header=__webpack_require__(5283),_add_filter=__webpack_require__(5285);(exports.SourceFiltersTable=function(_Component){function SourceFiltersTable(props){_classCallCheck(this,SourceFiltersTable);var _this=_possibleConstructorReturn(this,(SourceFiltersTable.__proto__||Object.getPrototypeOf(SourceFiltersTable)).call(this,props));return _initialiseProps.call(_this),_this.clientSideId=0,_this.state={filterToDelete:void 0,isDeleteConfirmationModalVisible:!1,isSaving:!1,filters:[]},_this}return _inherits(SourceFiltersTable,_Component),_createClass(SourceFiltersTable,[{key:"componentWillMount",value:function(){this.updateFilters()}},{key:"renderDeleteConfirmationModal",value:function(){var filterToDelete=this.state.filterToDelete;return filterToDelete?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete source filter '"+filterToDelete.value+"'?",onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteFilter,cancelButtonText:"Cancel",confirmButtonText:"Delete",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON})):null}},{key:"render",value:function(){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher,isSaving=this.state.isSaving,filteredFilters=this.getFilteredFilters(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_header.Header,null),_react2.default.createElement(_add_filter.AddFilter,{onAddFilter:this.onAddFilter}),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_table.Table,{isSaving:isSaving,indexPattern:indexPattern,items:filteredFilters,fieldWildcardMatcher:fieldWildcardMatcher,deleteFilter:this.startDeleteFilter,saveFilter:this.saveFilter}),this.renderDeleteConfirmationModal())}}]),SourceFiltersTable}(_react.Component)).propTypes={indexPattern:_propTypes2.default.object.isRequired,filterFilter:_propTypes2.default.string,fieldWildcardMatcher:_propTypes2.default.func.isRequired,onAddOrRemoveFilter:_propTypes2.default.func};var _initialiseProps=function(){var _this2=this;this.updateFilters=function(){var sourceFilters=_this2.props.indexPattern.sourceFilters||[],filters=sourceFilters.map(function(filter){return _extends({},filter,{clientId:++_this2.clientSideId})});_this2.setState({filters:filters})},this.getFilteredFilters=(0,_reselect.createSelector)(function(state){return state.filters},function(state,props){return props.filterFilter},function(filters,filterFilter){if(filterFilter){var filterFilterToLowercase=filterFilter.toLowerCase();return filters.filter(function(filter){return filter.value.toLowerCase().includes(filterFilterToLowercase)})}return filters}),this.startDeleteFilter=function(filter){_this2.setState({filterToDelete:filter,isDeleteConfirmationModalVisible:!0})},this.hideDeleteConfirmationModal=function(){_this2.setState({filterToDelete:void 0,isDeleteConfirmationModalVisible:!1})},this.deleteFilter=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _props2,indexPattern,onAddOrRemoveFilter,_state,filterToDelete,filters;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _props2=_this2.props,indexPattern=_props2.indexPattern,onAddOrRemoveFilter=_props2.onAddOrRemoveFilter,_state=_this2.state,filterToDelete=_state.filterToDelete,filters=_state.filters,indexPattern.sourceFilters=filters.filter(function(filter){return filter.clientId!==filterToDelete.clientId}),_this2.setState({isSaving:!0}),_context.next=6,indexPattern.save();case 6:onAddOrRemoveFilter&&onAddOrRemoveFilter(),_this2.updateFilters(),_this2.setState({isSaving:!1}),_this2.hideDeleteConfirmationModal();case 10:case"end":return _context.stop()}},_callee,_this2)})),this.onAddFilter=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(value){var _props3,indexPattern,onAddOrRemoveFilter;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _props3=_this2.props,indexPattern=_props3.indexPattern,onAddOrRemoveFilter=_props3.onAddOrRemoveFilter,indexPattern.sourceFilters=[].concat(_toConsumableArray(indexPattern.sourceFilters||[]),[{value:value}]),_this2.setState({isSaving:!0}),_context2.next=5,indexPattern.save();case 5:onAddOrRemoveFilter&&onAddOrRemoveFilter(),_this2.updateFilters(),_this2.setState({isSaving:!1});case 8:case"end":return _context2.stop()}},_callee2,_this2)}));return function(_x){return _ref2.apply(this,arguments)}}(),this.saveFilter=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(_ref3){var indexPattern,filters,filterId=_ref3.filterId,newFilterValue=_ref3.newFilterValue;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return indexPattern=_this2.props.indexPattern,filters=_this2.state.filters,indexPattern.sourceFilters=filters.map(function(filter){return filter.clientId===filterId?{value:newFilterValue,clientId:filter.clientId}:filter}),_this2.setState({isSaving:!0}),_context3.next=6,indexPattern.save();case 6:_this2.updateFilters(),_this2.setState({isSaving:!1});case 8:case"end":return _context3.stop()}},_callee3,_this2)}));return function(_x2){return _ref4.apply(this,arguments)}}()}},5281:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _table=__webpack_require__(5282);Object.defineProperty(exports,"Table",{enumerable:!0,get:function(){return _table.Table}})},5282:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.Table=function(_Component){function Table(props){_classCallCheck(this,Table);var _this=_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).call(this,props));return _this.startEditingFilter=function(id,value){return _this.setState({editingFilterId:id,editingFilterValue:value})},_this.stopEditingFilter=function(){return _this.setState({editingFilterId:null})},_this.onEditingFilterChange=function(e){return _this.setState({editingFilterValue:e.target.value})},_this.onEditFieldKeyDown=function(_ref){var keyCode=_ref.keyCode;_eui.keyCodes.ENTER===keyCode&&(_this.props.saveFilter({filterId:_this.state.editingFilterId,newFilterValue:_this.state.editingFilterValue}),_this.stopEditingFilter()),_eui.keyCodes.ESCAPE===keyCode&&_this.stopEditingFilter()},_this.state={editingFilterId:null,editingFilterValue:null},_this}return _inherits(Table,_Component),_createClass(Table,[{key:"getColumns",value:function(){var _this2=this,_props=this.props,deleteFilter=_props.deleteFilter,fieldWildcardMatcher=_props.fieldWildcardMatcher,indexPattern=_props.indexPattern,saveFilter=_props.saveFilter;return[{field:"value",name:"Filter",description:"Filter name",dataType:"string",sortable:!0,render:function(value,filter){return _this2.state.editingFilterId===filter.clientId?_react2.default.createElement(_eui.EuiFieldText,{autoFocus:!0,value:_this2.state.editingFilterValue,onChange:_this2.onEditingFilterChange,onKeyDown:_this2.onEditFieldKeyDown}):_react2.default.createElement("span",null,value)}},{field:"value",name:"Matches",description:"Language used for the field",dataType:"string",sortable:!0,render:function(value,filter){var realtimeValue=_this2.state.editingFilterId===filter.clientId?_this2.state.editingFilterValue:value,matcher=fieldWildcardMatcher([realtimeValue]),matches=indexPattern.getNonScriptedFields().map(function(f){return f.name}).filter(matcher).sort();return matches.length?_react2.default.createElement("span",null,matches.join(", ")):_react2.default.createElement("em",null,"The source filter doesn't match any known fields.")}},{name:"",align:_eui.RIGHT_ALIGNMENT,width:"100",render:function(filter){return _this2.state.editingFilterId===filter.clientId?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function(){saveFilter({filterId:_this2.state.editingFilterId,newFilterValue:_this2.state.editingFilterValue}),_this2.stopEditingFilter()},iconType:"checkInCircleFilled","aria-label":"Save"}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function(){_this2.stopEditingFilter()},iconType:"cross","aria-label":"Cancel"})):_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",color:"danger",onClick:function(){return deleteFilter(filter)},iconType:"trash","aria-label":"Delete"}),_react2.default.createElement(_eui.EuiButtonIcon,{size:"s",onClick:function(){return _this2.startEditingFilter(filter.clientId,filter.value)},iconType:"pencil","aria-label":"Edit"}))}}]}},{key:"render",value:function(){var _props2=this.props,items=_props2.items,isSaving=_props2.isSaving,columns=this.getColumns(),pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{loading:isSaving,items:items,columns:columns,pagination:pagination,sorting:!0})}}]),Table}(_react.Component)).propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,deleteFilter:_propTypes2.default.func.isRequired,fieldWildcardMatcher:_propTypes2.default.func.isRequired,saveFilter:_propTypes2.default.func.isRequired,isSaving:_propTypes2.default.bool.isRequired}},5283:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _header=__webpack_require__(5284);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}})},5284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.Header=function(){return _react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,"Source filters")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Source filters can be used to exclude one or more fields when fetching the document source. This happens when viewing a document in the Discover app, or with a table displaying results from a saved search in the Dashboard app. Each row is built using the source of a single document, and if you have documents with large or unimportant fields you may benefit from filtering those out at this lower level."),_react2.default.createElement("p",null,"Note that multi-fields will incorrectly appear as matches in the table below. These filters only actually apply to fields in the original source document, so matching multi-fields are not actually being filtered.")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}))}},5285:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _add_filter=__webpack_require__(5286);Object.defineProperty(exports,"AddFilter",{enumerable:!0,get:function(){return _add_filter.AddFilter}})},5286:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddFilter=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.AddFilter=function(_Component){function AddFilter(props){_classCallCheck(this,AddFilter);var _this=_possibleConstructorReturn(this,(AddFilter.__proto__||Object.getPrototypeOf(AddFilter)).call(this,props));return _this.onAddFilter=function(){_this.props.onAddFilter(_this.state.filter),_this.setState({filter:""})},_this.state={filter:""},_this}return _inherits(AddFilter,_Component),_createClass(AddFilter,[{key:"render",value:function(){var _this2=this,filter=this.state.filter;return _react2.default.createElement(_eui.EuiFlexGroup,null,_react2.default.createElement(_eui.EuiFlexItem,{grow:10},_react2.default.createElement(_eui.EuiFieldText,{fullWidth:!0,value:filter,onChange:function(e){return _this2.setState({filter:e.target.value.trim()})},placeholder:"source filter, accepts wildcards (e.g., `user*` to filter fields starting with 'user')"})),_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiButton,{isDisabled:0===filter.length,onClick:this.onAddFilter},"Add")))}}]),AddFilter}(_react.Component)).propTypes={onAddFilter:_propTypes2.default.func.isRequired}},5287:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _indexed_fields_table=__webpack_require__(5288);Object.defineProperty(exports,"IndexedFieldsTable",{enumerable:!0,get:function(){return _indexed_fields_table.IndexedFieldsTable}})},5288:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedFieldsTable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_reselect=__webpack_require__(175),_table=__webpack_require__(5289),_lib=__webpack_require__(5291);(exports.IndexedFieldsTable=function(_Component){function IndexedFieldsTable(props){_classCallCheck(this,IndexedFieldsTable);var _this=_possibleConstructorReturn(this,(IndexedFieldsTable.__proto__||Object.getPrototypeOf(IndexedFieldsTable)).call(this,props));return _initialiseProps.call(_this),_this.state={fields:_this.mapFields(_this.props.fields)},_this}return _inherits(IndexedFieldsTable,_Component),_createClass(IndexedFieldsTable,[{key:"componentWillReceiveProps",value:function(nextProps){nextProps.fields!==this.props.fields&&this.setState({fields:this.mapFields(nextProps.fields)})}},{key:"mapFields",value:function(fields){var _props=this.props,indexPattern=_props.indexPattern,fieldWildcardMatcher=_props.fieldWildcardMatcher,sourceFilters=indexPattern.sourceFilters&&indexPattern.sourceFilters.map(function(f){return f.value}),fieldWildcardMatch=fieldWildcardMatcher(sourceFilters||[]);return fields&&fields.map(function(field){return _extends({},field,{displayName:field.displayName,routes:field.routes,indexPattern:field.indexPattern,format:(0,_lib.getFieldFormat)(indexPattern,field.name),excluded:!!fieldWildcardMatch&&fieldWildcardMatch(field.name)})})||[]}},{key:"render",value:function(){var _this2=this,indexPattern=this.props.indexPattern,fields=this.getFilteredFields(this.state,this.props);return _react2.default.createElement("div",null,_react2.default.createElement(_table.Table,{indexPattern:indexPattern,items:fields,editField:function(field){return _this2.props.helpers.redirectToRoute(field,"edit")}}))}}]),IndexedFieldsTable}(_react.Component)).propTypes={fields:_propTypes2.default.array.isRequired,indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,indexedFieldTypeFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired}),fieldWildcardMatcher:_propTypes2.default.func.isRequired};var _initialiseProps=function(){this.getFilteredFields=(0,_reselect.createSelector)(function(state){return state.fields},function(state,props){return props.fieldFilter},function(state,props){return props.indexedFieldTypeFilter},function(fields,fieldFilter,indexedFieldTypeFilter){if(fieldFilter){var normalizedFieldFilter=fieldFilter.toLowerCase();fields=fields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return indexedFieldTypeFilter&&(fields=fields.filter(function(field){return field.type===indexedFieldTypeFilter})),fields})}},5289:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _table=__webpack_require__(5290);Object.keys(_table).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _table[key]}})})},5290:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.Table=function(_PureComponent){function Table(){return _classCallCheck(this,Table),_possibleConstructorReturn(this,(Table.__proto__||Object.getPrototypeOf(Table)).apply(this,arguments))}return _inherits(Table,_PureComponent),_createClass(Table,[{key:"renderBooleanTemplate",value:function(value,label){return value?_react2.default.createElement(_eui.EuiIcon,{type:"dot",color:"secondary","aria-label":label}):_react2.default.createElement("span",null)}},{key:"renderFieldName",value:function(name,isTimeField){return _react2.default.createElement("span",null,name,isTimeField?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"clock",color:"primary","aria-label":"Primary time field",content:"This field represents the time that events occurred."})):"")}},{key:"renderFieldType",value:function(type,isConflict){return _react2.default.createElement("span",null,type,isConflict?_react2.default.createElement("span",null," ",_react2.default.createElement(_eui.EuiIconTip,{type:"alert",color:"warning","aria-label":"Multiple type field",content:"The type of this field changes across indices. It is unavailable for many analysis functions."})):"")}},{key:"render",value:function(){var _this2=this,_props=this.props,indexPattern=_props.indexPattern,items=_props.items,editField=_props.editField,pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]},columns=[{field:"displayName",name:"Name",dataType:"string",sortable:!0,render:function(value){return _this2.renderFieldName(value,indexPattern.timeFieldName===value)},width:"38%","data-test-subj":"indexedFieldName"},{field:"type",name:"Type",dataType:"string",sortable:!0,render:function(value){return _this2.renderFieldType(value,"conflict"===value)},"data-test-subj":"indexedFieldType"},{field:"format",name:"Format",dataType:"string",sortable:!0},{field:"searchable",name:"Searchable",description:"These fields can be used in the filter bar",dataType:"boolean",sortable:!0,render:function(value){return _this2.renderBooleanTemplate(value,"Is searchable")}},{field:"aggregatable",name:"Aggregatable",description:"These fields can be used in visualization aggregations",dataType:"boolean",sortable:!0,render:function(value){return _this2.renderBooleanTemplate(value,"Is aggregatable")}},{field:"excluded",name:"Excluded",description:"Fields that are excluded from _source when it is fetched",dataType:"boolean",sortable:!0,render:function(value){return _this2.renderBooleanTemplate(value,"Is excluded")}},{name:"",actions:[{name:"Edit",description:"Edit",icon:"pencil",onClick:editField,type:"icon"}],width:"40px"}];return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:!0})}}]),Table}(_react.PureComponent)).propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired}},5291:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_field_format=__webpack_require__(5292);Object.defineProperty(exports,"getFieldFormat",{enumerable:!0,get:function(){return _get_field_format.getFieldFormat}})},5292:function(module,exports,__webpack_require__){"use strict";function getFieldFormat(indexPattern,fieldName){return indexPattern&&fieldName?(0,_lodash.get)(indexPattern,["fieldFormatMap",fieldName,"type","title"]):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFieldFormat=getFieldFormat;var _lodash=__webpack_require__(1)},5293:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _scripted_fields_table=__webpack_require__(5294);Object.defineProperty(exports,"ScriptedFieldsTable",{enumerable:!0,get:function(){return _scripted_fields_table.ScriptedFieldsTable}})},5294:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScriptedFieldsTable=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_scripting_languages=__webpack_require__(1528),_documentation_links=__webpack_require__(254),_eui=__webpack_require__(5),_components=__webpack_require__(5295);(exports.ScriptedFieldsTable=function(_Component){function ScriptedFieldsTable(props){var _this2=this;_classCallCheck(this,ScriptedFieldsTable);var _this=_possibleConstructorReturn(this,(ScriptedFieldsTable.__proto__||Object.getPrototypeOf(ScriptedFieldsTable)).call(this,props));return _this.fetchFields=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var fields,deprecatedLangsInUse,deprecatedLangs,supportedLangs,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_ref2,lang;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.props.indexPattern.getScriptedFields();case 2:for(fields=_context.sent,deprecatedLangsInUse=[],deprecatedLangs=(0,_scripting_languages.getDeprecatedScriptingLanguages)(),supportedLangs=(0,_scripting_languages.getSupportedScriptingLanguages)(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=9,_iterator=fields[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_ref2=_step.value,lang=_ref2.lang,!deprecatedLangs.includes(lang)&&supportedLangs.includes(lang)||deprecatedLangsInUse.push(lang);_context.next=17;break;case 13:_context.prev=13,_context.t0=_context.catch(9),_didIteratorError=!0,_iteratorError=_context.t0;case 17:_context.prev=17,_context.prev=18,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 20:if(_context.prev=20,!_didIteratorError){_context.next=23;break}throw _iteratorError;case 23:return _context.finish(20);case 24:return _context.finish(17);case 25:_this.setState({fields:fields,deprecatedLangsInUse:deprecatedLangsInUse});case 26:case"end":return _context.stop()}},_callee,_this2,[[9,13,17,25],[18,,20,24]])})),_this.getFilteredItems=function(){var fields=_this.state.fields,_this$props=_this.props,fieldFilter=_this$props.fieldFilter,scriptedFieldLanguageFilter=_this$props.scriptedFieldLanguageFilter,languageFilteredFields=fields;scriptedFieldLanguageFilter&&(languageFilteredFields=fields.filter(function(field){return field.lang===_this.props.scriptedFieldLanguageFilter}));var filteredFields=languageFilteredFields;if(fieldFilter){var normalizedFieldFilter=_this.props.fieldFilter.toLowerCase();filteredFields=languageFilteredFields.filter(function(field){return field.name.toLowerCase().includes(normalizedFieldFilter)})}return filteredFields},_this.startDeleteField=function(field){_this.setState({fieldToDelete:field,isDeleteConfirmationModalVisible:!0})},_this.hideDeleteConfirmationModal=function(){_this.setState({fieldToDelete:void 0,isDeleteConfirmationModalVisible:!1})},_this.deleteField=function(){var _this$props2=_this.props,indexPattern=_this$props2.indexPattern,onRemoveField=_this$props2.onRemoveField,fieldToDelete=_this.state.fieldToDelete;indexPattern.removeScriptedField(fieldToDelete.name),onRemoveField&&onRemoveField(),_this.fetchFields(),_this.hideDeleteConfirmationModal()},_this.state={deprecatedLangsInUse:[],fieldToDelete:void 0,isDeleteConfirmationModalVisible:!1,fields:[]},_this}return _inherits(ScriptedFieldsTable,_Component),_createClass(ScriptedFieldsTable,[{key:"componentWillMount",value:function(){this.fetchFields()}},{key:"renderCallOuts",value:function(){var deprecatedLangsInUse=this.state.deprecatedLangsInUse;return _react2.default.createElement(_components.CallOuts,{deprecatedLangsInUse:deprecatedLangsInUse,painlessDocLink:_documentation_links.documentationLinks.scriptedFields.painless})}},{key:"renderDeleteConfirmationModal",value:function(){var fieldToDelete=this.state.fieldToDelete;return fieldToDelete?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Delete scripted field '"+fieldToDelete.name+"'?",onCancel:this.hideDeleteConfirmationModal,onConfirm:this.deleteField,cancelButtonText:"Cancel",confirmButtonText:"Delete",defaultFocusedButton:_eui.EUI_MODAL_CONFIRM_BUTTON})):null}},{key:"render",value:function(){var _this3=this,_props=this.props,helpers=_props.helpers,indexPattern=_props.indexPattern,items=this.getFilteredItems();return _react2.default.createElement("div",null,_react2.default.createElement(_components.Header,{addScriptedFieldUrl:helpers.getRouteHref(indexPattern,"addField")}),this.renderCallOuts(),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_components.Table,{indexPattern:indexPattern,items:items,editField:function(field){return _this3.props.helpers.redirectToRoute(field,"edit")},deleteField:this.startDeleteField}),this.renderDeleteConfirmationModal())}}]),ScriptedFieldsTable}(_react.Component)).propTypes={indexPattern:_propTypes2.default.object.isRequired,fieldFilter:_propTypes2.default.string,scriptedFieldLanguageFilter:_propTypes2.default.string,helpers:_propTypes2.default.shape({redirectToRoute:_propTypes2.default.func.isRequired,getRouteHref:_propTypes2.default.func.isRequired}),onRemoveField:_propTypes2.default.func}},5295:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _table=__webpack_require__(5296);Object.defineProperty(exports,"Table",{enumerable:!0,get:function(){return _table.Table}});var _header=__webpack_require__(5298);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}});var _call_outs=__webpack_require__(5300);Object.defineProperty(exports,"CallOuts",{enumerable:!0,get:function(){return _call_outs.CallOuts}})},5296:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _table=__webpack_require__(5297);Object.defineProperty(exports,"Table",{enumerable:!0,get:function(){return _table.Table}})},5297:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.Table=function(_PureComponent){function Table(){var _ref,_temp,_this,_ret;_classCallCheck(this,Table);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=Table.__proto__||Object.getPrototypeOf(Table)).call.apply(_ref,[this].concat(args))),_this.renderFormatCell=function(value){var indexPattern=_this.props.indexPattern,title=indexPattern.fieldFormatMap[value]&&indexPattern.fieldFormatMap[value].type?indexPattern.fieldFormatMap[value].type.title:"";return _react2.default.createElement("span",null,title)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(Table,_PureComponent),_createClass(Table,[{key:"render",value:function(){var _props=this.props,items=_props.items,editField=_props.editField,deleteField=_props.deleteField,columns=[{field:"displayName",name:"Name",description:"Name of the field",dataType:"string",sortable:!0,width:"38%"},{field:"lang",name:"Lang",description:"Language used for the field",dataType:"string",sortable:!0,"data-test-subj":"scriptedFieldLang"},{field:"script",name:"Script",description:"Script for the field",dataType:"string",sortable:!0},{field:"name",name:"Format",description:"Format used for the field",render:this.renderFormatCell,sortable:!1},{name:"",actions:[{name:"Edit",description:"Edit this field",icon:"pencil",onClick:editField},{name:"Delete",description:"Delete this field",icon:"trash",color:"danger",onClick:deleteField}],width:"40px"}],pagination={initialPageSize:10,pageSizeOptions:[5,10,25,50]};return _react2.default.createElement(_eui.EuiInMemoryTable,{items:items,columns:columns,pagination:pagination,sorting:!0})}}]),Table}(_react.PureComponent)).propTypes={indexPattern:_propTypes2.default.object.isRequired,items:_propTypes2.default.array.isRequired,editField:_propTypes2.default.func.isRequired,deleteField:_propTypes2.default.func.isRequired}},5298:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _header=__webpack_require__(5299);Object.defineProperty(exports,"Header",{enumerable:!0,get:function(){return _header.Header}})},5299:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);(exports.Header=function(_ref){var addScriptedFieldUrl=_ref.addScriptedFieldUrl;return _react2.default.createElement(_eui.EuiFlexGroup,{alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,{size:"s"},_react2.default.createElement("h3",null,"Scripted fields")),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"You can use scripted fields in visualizations and display them in your documents. However, you cannot search scripted fields."))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"addScriptedFieldLink",href:addScriptedFieldUrl},"Add scripted field")))}).propTypes={addScriptedFieldUrl:_propTypes2.default.string.isRequired}},5300:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _call_outs=__webpack_require__(5301);Object.defineProperty(exports,"CallOuts",{enumerable:!0,get:function(){return _call_outs.CallOuts}})},5301:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CallOuts=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.CallOuts=function(_ref){var deprecatedLangsInUse=_ref.deprecatedLangsInUse,painlessDocLink=_ref.painlessDocLink;return deprecatedLangsInUse.length?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiCallOut,{title:"Deprecation languages in use",color:"danger",iconType:"cross"},_react2.default.createElement("p",null,"The following deprecated languages are in use: ",deprecatedLangsInUse.join(", "),". Support for these languages will be removed in the next major version of Kibana and Elasticsearch. Convert you scripted fields to ",_react2.default.createElement(_eui.EuiLink,{href:painlessDocLink},"Painless")," to avoid any problems.")),_react2.default.createElement(_eui.EuiSpacer,{size:"m"})):null}},5302:function(module,exports){module.exports='<div class="col-md-2 sidebar-container" role="region" aria-label="Index patterns">\n  <div class="sidebar-list">\n    <div class="sidebar-item-title full-title">\n      <h5 data-test-subj="createIndexPatternParent">\n        <a\n          ng-if="editingId"\n          href="#/management/kibana/index"\n          class="kuiButton kuiButton--primary kuiButton--small"\n          data-test-subj="createIndexPatternButton"\n        >\n          <span aria-hidden="true" class="kuiIcon fa-plus"></span>\n          <span>Create Index Pattern</span>\n        </a>\n      </h5>\n    </div>\n    <ul class="list-unstyled">\n      <li\n        ng-if="!defaultIndex"\n        class="sidebar-item"\n      >\n        <div class="sidebar-item-title full-title">\n          <div class="euiText euiText--extraSmall">\n            <div class="euiBadge euiBadge--warning">Warning</div>\n            <p>\n              No default index pattern. You must select or create one to continue.\n            </p>\n          </div>\n        </div>\n      </li>\n\n      <li\n        ng-repeat="pattern in indexPatternList | orderBy:[\'-default\',\'title\'] track by pattern.id"\n        class="sidebar-item"\n      >\n        <a\n          href="{{::pattern.url}}"\n          class="euiLink euiLink--primary show"\n          data-test-subj="indexPatternLink"\n        >\n          <div class="{{::pattern.class}}">\n            <i aria-hidden="true" ng-if="pattern.default" class="fa fa-star"></i>\n            <span ng-bind="::pattern.title"></span>\n          </div>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<div class="col-md-10" ng-transclude></div>\n'},5303:function(module,exports){},5304:function(module,exports){module.exports='<div class="app-container">\n  \x3c!-- Local nav. --\x3e\n  <kbn-top-nav name="management-subnav" data-test-subj="managementNav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n        use-links="true"\n        omit-pages="omitPages"\n        page-title="pageTitle"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="kuiLocalTabs" role="tablist" ng-show="!sectionName || section.visibleItems.length > 0">\n        <h2 class="kuiLocalTab" ng-if="!sectionName" id="tabHeader" tabindex="0" role="tab">\n          {{::section.display}}\n        </h2>\n        <a\n          role="tab"\n          ng-if="sectionName"\n          ng-repeat="item in section.visibleItems"\n          class="kuiLocalTab"\n          ng-class="{ \'kuiLocalTab-isSelected\': item.active, \'kuiLocalTab-isDisabled\': !item.active && (item.disabled || !item.url) }"\n          kbn-href="{{::item.disabled ? \'\' : item.url}}"\n          data-test-subj="{{::item.name}}"\n          tooltip="{{::item.tooltip}}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="400"\n          tooltip-append-to-body="1"\n          aria-selected="{{!!item.active}}"\n          aria-disabled="{{!!item.disabled}}"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n\n  <main class="management-container" ng-transclude></main>\n</div>\n'},5305:function(module,exports){module.exports='<kbn-management-app>\n  <kbn-management-landing>\n    \x3c!-- General info --\x3e\n    <div class="page-row">\n      <div class="page-row-text">Version: {{::kbnVersion}}</div>\n    </div>\n\n    \x3c!-- Management sections for the ES stack --\x3e\n    <div\n      ng-if="section.visibleItems.length > 0"\n      ng-repeat="section in sections"\n      class="page-row"\n    >\n      <div class="kuiPanel management-panel" role="group">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <div\n              class="management-panel__heading-icon management-panel__heading-icon--{{::section.id}}"\n            ></div>\n            <h3 class="kuiPanelHeader__title">\n              {{::section.display}}\n            </h3>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <div class="row">\n            <ul class="list-unstyled">\n              <li\n                class="col-xs-4 col-md-3"\n                ng-repeat="item in section.visibleItems"\n              >\n                <a\n                  data-test-subj="{{::item.id}}"\n                  class="euiLink euiLink--primary management-panel__link"\n                  ng-class="{ \'management-panel__link--disabled\': item.disabled || !item.url }"\n                  kbn-href="{{::item.disabled ? \'\' : item.url}}"\n                  tooltip="{{::item.tooltip}}"\n                  tooltip-placement="bottom"\n                  tooltip-popup-delay="400"\n                  tooltip-append-to-body="1"\n                >\n                  {{::item.display}}\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </kbn-management-landing>\n</kbn-management-app>\n'},5306:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function displayBanner(){(0,_timers.clearTimeout)(timeoutId),bannerId=_notify.banners.set({id:bannerId,component:_react2.default.createElement(_eui.EuiCallOut,{color:"warning",iconType:"iInCircle",title:"In order to visualize and explore data in Kibana,\n          you'll need to create an index pattern to retrieve data from Elasticsearch."})}),timeoutId=setTimeout(function(){_notify.banners.remove(bannerId),timeoutId=void 0},15e3)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(opts){opts=opts||{};var whenMissingRedirectTo=opts.whenMissingRedirectTo||null;_routes2.default.addSetupWork(function(Private,Promise,$route,config){var getIds=Private(_get.IndexPatternsGetProvider)("id"),route=_lodash2.default.get($route,"current.$$route");return getIds().then(function(patterns){var defaultId=config.get("defaultIndex"),defined=!!defaultId,exists=_lodash2.default.contains(patterns,defaultId);if(defined&&!exists&&(config.remove("defaultIndex"),defaultId=defined=!1),!defined&&route.requireDefaultIndex){if(1!==patterns.length)throw new _errors.NoDefaultIndexPattern;defaultId=patterns[0],config.set("defaultIndex",defaultId)}})}).afterWork(null,function(err,kbnUrl){if(!(err instanceof _errors.NoDefaultIndexPattern&&whenMissingRedirectTo))throw err;kbnUrl.change(whenMissingRedirectTo),displayBanner()})};var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_notify=__webpack_require__(10),_errors=__webpack_require__(56),_get=__webpack_require__(635),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_eui=__webpack_require__(5),_timers=__webpack_require__(286),bannerId=void 0,timeoutId=void 0;module.exports=exports.default},5307:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5308)},5308:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(10),__webpack_require__(251),__webpack_require__(1351),__webpack_require__(358);var _index=__webpack_require__(5309),_index2=_interopRequireDefault(_index),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_modules=__webpack_require__(2),app=_modules.uiModules.get("apps/doc",["kibana/notify","kibana/courier","kibana/index_patterns"]),resolveIndexPattern={indexPattern:function(courier,savedSearches,$route){return courier.indexPatterns.get($route.current.params.indexPattern)}};_routes2.default.when("/doc/:indexPattern/:index/:type/:id",{template:_index2.default,resolve:resolveIndexPattern}).when("/doc/:indexPattern/:index/:type",{template:_index2.default,resolve:resolveIndexPattern}),app.controller("doc",function($scope,$route,es,timefilter){timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector(),$scope.indexPattern=$route.current.locals.indexPattern;var computedFields=$scope.indexPattern.getComputedFields();es.search({index:$route.current.params.index,body:{query:{ids:{type:$route.current.params.type,values:[$route.current.params.id]}},stored_fields:computedFields.storedFields,_source:!0,script_fields:computedFields.scriptFields,docvalue_fields:computedFields.docvalueFields}}).then(function(resp){resp.hits&&(resp.hits.total<1?$scope.status="notFound":($scope.status="found",$scope.hit=resp.hits.hits[0]))}).catch(function(err){404===err.status?$scope.status="notFound":($scope.status="error",$scope.resp=err)})})},5309:function(module,exports){module.exports='<div ng-controller="doc" class="app-container">\n  <div class="kuiLocalNav">\n    <div class="kuiLocalNavRow">\n      <div class="kuiLocalNavRow__section">\n        <div class="kuiLocalTitle">\n          Single Document\n        </div>\n      </div>\n    </div>\n    <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n      <div class="kuiLocalTabs">\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-bind-template="{{ hit._type }}#{{ hit._id | uriescape }}"\n          ng-if="!!hit"\n        ></div>\n        <div\n          class="kuiLocalTab kuiLocalTab-isSelected"\n          ng-if="!hit"\n        >Unknown Id</div>\n      </div>\n    </div>\n  </div>\n\n  <div class="kuiViewContent">\n    \x3c!-- no results --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'notFound\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to locate document\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Unfortunately I could not find any documents matching that id, of that type, in that index. I tried really hard. I wanted it to be there. Sometimes I swear documents grow legs and just walk out of the index. Sneaky. I wish I could offer some advice here, something to make you feel better\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- error --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'error\'">\n      <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Failed to execute query\n          </span>\n        </div>\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            Oh no. Something went very wrong. Its not just that I couldn\'t find your document, I couldn\'t even try. The index was missing, or the type. Go check out Elasticsearch, something isn\'t quite right here.\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- loading --\x3e\n    <div class="kuiViewContentItem" ng-if="status === undefined">\n      <div class="kuiPanel kuiPanel--centered">\n        <div class="kuiTableInfo">\n          Loading&hellip;\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- result --\x3e\n    <div class="kuiViewContentItem" ng-if="status === \'found\'">\n      <doc-viewer hit="hit" index-pattern="indexPattern"></doc-viewer>\n    </div>\n  </div>\n</div>\n'},5310:function(module,exports,__webpack_require__){"use strict";var _routes=__webpack_require__(11),_routes2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_routes),_dev_tools=__webpack_require__(310),_feature_catalogue=__webpack_require__(58);__webpack_require__(5311),_routes2.default.when("/dev_tools",{resolve:{redirect:function(Private,kbnUrl){var items=Private(_dev_tools.DevToolsRegistryProvider).inOrder;kbnUrl.redirect(items[0].url.substring(1))}}}),_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"console",title:"Console",description:"Skip cURL and use this JSON interface to work with your data directly.",icon:"/plugins/kibana/assets/app_console.svg",path:"/app/kibana#/dev_tools/console",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5311:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_dev_tools=__webpack_require__(310),_dev_tools_app=__webpack_require__(5312),_dev_tools_app2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_dev_tools_app);__webpack_require__(5313),__webpack_require__(643),_modules.uiModules.get("apps/dev_tools").directive("kbnDevToolsApp",function(Private,$location){var devToolsRegistry=Private(_dev_tools.DevToolsRegistryProvider);return{restrict:"E",replace:!0,template:_dev_tools_app2.default,transclude:!0,scope:{topNavConfig:"="},bindToController:!0,controllerAs:"kbnDevToolsApp",controller:function(){this.devTools=devToolsRegistry.inOrder,this.currentPath="#"+$location.path(),this.onClick=function(item,$event){item.disabled&&$event.preventDefault()}}}})},5312:function(module,exports){module.exports='<div class="dev-tools__app-container app-container">\n  <kbn-top-nav name="devtools" config="kbnDevToolsApp.topNavConfig">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Breadcrumbs. --\x3e\n      <bread-crumbs\n        data-transclude-slot="topLeftCorner"\n        omit-current-page="true"\n      ></bread-crumbs>\n\n      \x3c!-- Tabs. --\x3e\n      <div data-transclude-slot="bottomRow" class="euiTabs" role="tablist">\n        <a\n          role="tab"\n          aria-selected="{{kbnDevToolsApp.currentPath === item.url}}"\n          ng-repeat="item in kbnDevToolsApp.devTools"\n          class="euiTab"\n          ng-class="{\'euiTab-isSelected\': kbnDevToolsApp.currentPath === item.url, \'euiTab-isDisabled\': item.disabled}"\n          ng-disabled="item.disabled"\n          kbn-href="{{::item.url}}"\n          ng-click="kbnDevToolsApp.onClick(item, $event)"\n          tooltip="{{ item.tooltipContent }}"\n          tooltip-placement="bottom"\n          tooltip-popup-delay="0"\n          tooltip-append-to-body="1"\n        >\n          {{::item.display}}\n        </a>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <main class="dev-tools__container" role="tabpanel" ng-transclude></main>\n</div>\n'},5313:function(module,exports){},5314:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ContextAppRouteController($routeParams,$scope,AppState,chrome,config,indexPattern,Private){var _this=this,queryFilter=Private(_query_filter.FilterBarQueryFilterProvider);this.state=new AppState(createDefaultAppState(config,indexPattern)),this.state.save(!0),$scope.$watchGroup(["contextAppRoute.state.columns","contextAppRoute.state.predecessorCount","contextAppRoute.state.successorCount"],function(){return _this.state.save(!0)}),$scope.$listen(queryFilter,"update",function(){_this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())}),this.anchorUid=(0,_ids.getDocumentUid)($routeParams.type,$routeParams.id),this.indexPattern=indexPattern,this.discoverUrl=chrome.getNavLinkById("kibana:discover").lastSubUrl,this.filters=_lodash2.default.cloneDeep(queryFilter.getFilters())}function createDefaultAppState(config,indexPattern){return{columns:["_source"],filters:[],predecessorCount:parseInt(config.get("context:defaultSize"),10),sort:[indexPattern.timeFieldName,"desc"],successorCount:parseInt(config.get("context:defaultSize"),10)}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_query_filter=__webpack_require__(164),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes);__webpack_require__(5315);var _ids=__webpack_require__(5329),_index=__webpack_require__(5330),_index2=_interopRequireDefault(_index);_routes2.default.when("/context/:indexPatternId/:type/:id*",{controller:ContextAppRouteController,controllerAs:"contextAppRoute",resolve:{indexPattern:function($route,courier){return courier.indexPatterns.get($route.current.params.indexPatternId)}},template:_index2.default})},5315:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function ContextAppController($scope,config,Private,timefilter){var _this=this,queryParameterActions=Private(_query_parameters.QueryParameterActionsProvider),queryActions=Private(_query.QueryActionsProvider);timefilter.disableAutoRefreshSelector(),timefilter.disableTimeRangeSelector(),this.state=createInitialState(parseInt(config.get("context:step"),10),(0,_sorting.getFirstSortableField)(this.indexPattern,config.get("context:tieBreakerFields")),this.discoverUrl),this.actions=_lodash2.default.mapValues(_extends({},queryParameterActions,queryActions),function(action){return function(){return action(_this.state).apply(void 0,arguments)}}),this.constants={FAILURE_REASONS:_query.FAILURE_REASONS,LOADING_STATUS:_query.LOADING_STATUS},$scope.$watchGroup([function(){return _this.state.rows.predecessors},function(){return _this.state.rows.anchor},function(){return _this.state.rows.successors}],function(newValues){var _actions;return(_actions=_this.actions).setAllRows.apply(_actions,_toConsumableArray(newValues))}),$scope.$watchCollection(function(){return _extends({},_lodash2.default.pick(_this,_query_parameters.QUERY_PARAMETER_KEYS),{indexPatternId:_this.indexPattern.id})},function(newQueryParameters){var queryParameters=_this.state.queryParameters;newQueryParameters.indexPatternId===queryParameters.indexPatternId&&newQueryParameters.anchorUid===queryParameters.anchorUid&&_lodash2.default.isEqual(newQueryParameters.sort,queryParameters.sort)?newQueryParameters.predecessorCount===queryParameters.predecessorCount&&newQueryParameters.successorCount===queryParameters.successorCount&&_lodash2.default.isEqual(newQueryParameters.filters,queryParameters.filters)||_this.actions.fetchContextRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters)):_this.actions.fetchAllRowsWithNewQueryParameters(_lodash2.default.cloneDeep(newQueryParameters))}),$scope.$watchCollection(function(){return{predecessorCount:_this.state.queryParameters.predecessorCount,successorCount:_this.state.queryParameters.successorCount}},function(newParameters){_lodash2.default.assign(_this,newParameters)})}function createInitialState(defaultStepSize,tieBreakerField,discoverUrl){return{queryParameters:(0,_query_parameters.createInitialQueryParametersState)(defaultStepSize,tieBreakerField),rows:{all:[],anchor:null,predecessors:[],successors:[]},loadingStatus:(0,_query.createInitialLoadingStatusState)(),navigation:{discover:{url:discoverUrl}}}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_compat=__webpack_require__(60),_modules=__webpack_require__(2),_app=__webpack_require__(5316),_app2=_interopRequireDefault(_app);__webpack_require__(5317),__webpack_require__(5320);var _sorting=__webpack_require__(1529),_query_parameters=__webpack_require__(1530),_query=__webpack_require__(5324);_modules.uiModules.get("apps/context",["elasticsearch","kibana","kibana/config","kibana/notify","ngRoute"]).directive("contextApp",function(){return{bindToController:!0,controller:(0,_compat.callAfterBindingsWorkaround)(ContextAppController),controllerAs:"contextApp",restrict:"E",scope:{anchorUid:"=",columns:"=",indexPattern:"=",filters:"=",predecessorCount:"=",successorCount:"=",sort:"=",discoverUrl:"="},template:_app2.default}})},5316:function(module,exports){module.exports='<div class="kuiLocalNav">\n  <div class="kuiLocalNavRow">\n    <div class="kuiLocalNavRow__section">\n      <div class="kuiLocalTitle" role="heading" aria-level="1">\n        Surrounding Documents in {{ contextApp.state.queryParameters.indexPatternId }}\n      </div>\n    </div>\n  </div>\n  <div class="kuiLocalNavRow kuiLocalNavRow--secondary">\n    <div class="kuiLocalTabs">\n      <div class="kuiLocalTab kuiLocalTab-isSelected" ng-bind="contextApp.state.queryParameters.anchorUid"></div>\n    </div>\n  </div>\n</div>\n\n<filter-bar index-patterns="[contextApp.indexPattern]"></filter-bar>\n\n\x3c!-- Error feedback --\x3e\n<div\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.FAILED"\n>\n  <div class="kuiInfoPanel kuiInfoPanel--error kuiVerticalRhythm">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span class="kuiInfoPanelHeader__title">\n        Failed to load the anchor document\n      </span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.INVALID_TIEBREAKER"\n      >\n        No searchable tiebreaker field could be found in the index pattern\n        {{ contextApp.state.queryParameters.indexPatternId}}.\n\n        Please change the advanced setting\n        <code>context:tieBreakerFields</code> to include a valid field for this\n        index pattern.\n      </div>\n      <div\n        class="kuiInfoPanelBody__message"\n        ng-if="contextApp.state.loadingStatus.anchor.reason === contextApp.constants.FAILURE_REASONS.UNKNOWN"\n      >\n        Please reload or visit\n        <a ng-href="{{ contextApp.state.navigation.discover.url }}">Discover</a>\n        to select a valid anchor document.\n      </div>\n    </div>\n  </div>\n</div>\n\n<main\n  class="kuiViewContent kuiViewContentItem"\n  ng-if="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.FAILED"\n>\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="predecessorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.predecessors.status)"\n        icon="\'fa-chevron-up\'"\n        ng-click="contextApp.actions.fetchMorePredecessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.predecessorCount"\n        data-test-subj="predecessorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenPredecessorRows"\n      ></context-size-picker>\n      <span>newer documents</span>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.predecessors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.predecessorCount > contextApp.state.rows.predecessors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.predecessors.length }} documents newer than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n\n  \x3c!-- Loading feedback --\x3e\n  <div\n    ng-if="[\n      contextApp.constants.LOADING_STATUS.UNINITIALIZED,\n      contextApp.constants.LOADING_STATUS.LOADING,\n    ].includes(contextApp.state.loadingStatus.anchor.status)"\n    class="kuiPanel kuiPanel--centered kuiVerticalRhythm"\n  >\n    <div class="kuiTableInfo">\n      Loading&hellip;\n    </div>\n  </div>\n\n  \x3c!-- Table --\x3e\n  <div\n    ng-if="contextApp.state.loadingStatus.anchor.status === contextApp.constants.LOADING_STATUS.LOADED"\n    class="kuiPanel kuiVerticalRhythm"\n  >\n    <div class="discover-table" fixed-scroll>\n      <doc-table\n        filter="contextApp.actions.addFilter"\n        hits="contextApp.state.rows.all"\n        index-pattern="contextApp.indexPattern"\n        sorting="contextApp.state.queryParameters.sort"\n        columns="contextApp.state.queryParameters.columns"\n        infinite-scroll="true"\n        minimum-visible-rows="contextApp.state.rows.all.length"\n      ></doc-table>\n    </div>\n  </div>\n\n  \x3c!-- Controls --\x3e\n  <div class="kuiBar kuiVerticalRhythm">\n    <div class="kuiBarSection">\n      <context-loading-button\n        data-test-subj="successorLoadMoreButton"\n        is-disabled="![\n          contextApp.constants.LOADING_STATUS.LOADED,\n          contextApp.constants.LOADING_STATUS.FAILED,\n        ].includes(contextApp.state.loadingStatus.successors.status)"\n        icon="\'fa-chevron-down\'"\n        ng-click="contextApp.actions.fetchMoreSuccessorRows()"\n      >\n        Load {{ contextApp.state.queryParameters.defaultStepSize }} more\n      </context-loading-button>\n      <context-size-picker\n        count="contextApp.state.queryParameters.successorCount"\n        data-test-subj="successorCountPicker"\n        is-disabled="contextApp.state.loadingStatus.anchor.status !== contextApp.constants.LOADING_STATUS.LOADED"\n        on-change-count="contextApp.actions.fetchGivenSuccessorRows"\n      ></context-size-picker>\n      <div>older documents</div>\n      <span\n        class="kuiStatusText kuiStatusText--warning"\n        ng-if="(contextApp.state.loadingStatus.successors.status === contextApp.constants.LOADING_STATUS.LOADED)\n          && (contextApp.state.queryParameters.successorCount > contextApp.state.rows.successors.length)"\n      >\n        <span class="kuiStatusText__icon kuiIcon fa-bolt"></span>\n        <span ng-bind-template="Only {{ contextApp.state.rows.successors.length }} documents older than the anchor could be found."></span>\n      </span>\n    </div>\n\n    <div class="kuiBarSection">\n    </div>\n  </div>\n</main>\n'},5317:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5318)},5318:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_loading_button=__webpack_require__(5319),_loading_button2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_loading_button);_modules.uiModules.get("apps/context",["kibana","ngRoute"]).directive("contextLoadingButton",function(){return{replace:!0,restrict:"E",scope:{isDisabled:"=",icon:"="},template:_loading_button2.default,transclude:!0}})},5319:function(module,exports){module.exports='<button\n  class="kuiButton kuiButton--basic kuiButton--iconText"\n  ng-disabled="isDisabled"\n>\n  <span class="kuiButton__inner">\n    <span\n      class="kuiButton__icon kuiIcon fa-spinner fa-spin"\n      ng-class="isDisabled ? [\'fa-spinner\', \'fa-spin\'] : [icon]"\n    />\n    <span ng-transclude />\n  </span>\n</button>\n'},5320:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function linkContextSizePicker(scope,element,attrs,ngModel){scope.countModel=ngModel}function ContextSizePickerController($scope){var _this=this;$scope.$watch(function(){return _this.count},function(){return $scope.countModel.$rollbackViewValue()}),this.getOrSetCount=function(count){return _lodash2.default.isUndefined(count)?_this.count:_this.onChangeCount(count)}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_size_picker=__webpack_require__(5321),_size_picker2=_interopRequireDefault(_size_picker);__webpack_require__(5322),_modules.uiModules.get("apps/context",["kibana"]).directive("contextSizePicker",function(){return{bindToController:!0,controller:(0,_compat.callAfterBindingsWorkaround)(ContextSizePickerController),controllerAs:"contextSizePicker",link:linkContextSizePicker,replace:!0,restrict:"E",require:"ngModel",scope:{count:"=",isDisabled:"=",onChangeCount:"="},template:_size_picker2.default}})},5321:function(module,exports){module.exports='<input\n  class="kuiTextInput contextSizePicker"\n  ng-disabled="contextSizePicker.isDisabled"\n  ng-model-options="{updateOn: \'change\', getterSetter: true, debounce: 200}"\n  ng-model="contextSizePicker.getOrSetCount"\n  type="number"\n>\n'},5322:function(module,exports){},5323:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function QueryParameterActionsProvider(courier,Private){var _this=this,filterManager=Private(_filter_manager.FilterManagerProvider),setPredecessorCount=function(state){return function(predecessorCount){return state.queryParameters.predecessorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,predecessorCount)}},increasePredecessorCount=function(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setPredecessorCount(state)(state.queryParameters.predecessorCount+value)}},setSuccessorCount=function(state){return function(successorCount){return state.queryParameters.successorCount=clamp(_constants.MIN_CONTEXT_SIZE,_constants.MAX_CONTEXT_SIZE,successorCount)}},increaseSuccessorCount=function(state){return function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:state.queryParameters.defaultStepSize;return setSuccessorCount(state)(state.queryParameters.successorCount+value)}},setQueryParameters=function(state){return function(queryParameters){return Object.assign(state.queryParameters,_lodash2.default.pick(queryParameters,_constants.QUERY_PARAMETER_KEYS))}};return{addFilter:function(state){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(field,values,operation){var indexPatternId,indexPattern;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return indexPatternId=state.queryParameters.indexPatternId,filterManager.add(field,values,operation,indexPatternId),_context.next=4,courier.indexPatterns.get(indexPatternId);case 4:indexPattern=_context.sent,indexPattern.popularizeField(field.name,1);case 6:case"end":return _context.stop()}},_callee,_this)}));return function(_x3,_x4,_x5){return _ref.apply(this,arguments)}}()},increasePredecessorCount:increasePredecessorCount,increaseSuccessorCount:increaseSuccessorCount,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueryParameterActionsProvider=QueryParameterActionsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_filter_manager=__webpack_require__(365),_constants=__webpack_require__(1531)},5324:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _actions=__webpack_require__(5325);Object.defineProperty(exports,"QueryActionsProvider",{enumerable:!0,get:function(){return _actions.QueryActionsProvider}});var _constants=__webpack_require__(821);Object.defineProperty(exports,"FAILURE_REASONS",{enumerable:!0,get:function(){return _constants.FAILURE_REASONS}}),Object.defineProperty(exports,"LOADING_STATUS",{enumerable:!0,get:function(){return _constants.LOADING_STATUS}});var _state=__webpack_require__(5328);Object.defineProperty(exports,"createInitialLoadingStatusState",{enumerable:!0,get:function(){return _state.createInitialLoadingStatusState}})},5325:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function QueryActionsProvider(courier,Notifier,Private,Promise){var fetchAnchor=Private(_anchor.fetchAnchorProvider),_Private=Private(_context.fetchContextProvider),fetchPredecessors=_Private.fetchPredecessors,fetchSuccessors=_Private.fetchSuccessors,_Private2=Private(_query_parameters.QueryParameterActionsProvider),increasePredecessorCount=_Private2.increasePredecessorCount,increaseSuccessorCount=_Private2.increaseSuccessorCount,setPredecessorCount=_Private2.setPredecessorCount,setQueryParameters=_Private2.setQueryParameters,setSuccessorCount=_Private2.setSuccessorCount,notifier=new Notifier({location:"Context"}),setFailedStatus=function(state){return function(subject){var details=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return state.loadingStatus[subject]=_extends({status:_constants.LOADING_STATUS.FAILED,reason:_constants.FAILURE_REASONS.UNKNOWN},details)}},setLoadedStatus=function(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADED}}},setLoadingStatus=function(state){return function(subject){return state.loadingStatus[subject]={status:_constants.LOADING_STATUS.LOADING}}},fetchAnchorRow=function(state){return function(){var _state$queryParameter=state.queryParameters,indexPatternId=_state$queryParameter.indexPatternId,anchorUid=_state$queryParameter.anchorUid,sort=_state$queryParameter.sort,tieBreakerField=_state$queryParameter.tieBreakerField;return tieBreakerField?(setLoadingStatus(state)("anchor"),Promise.try(function(){return fetchAnchor(indexPatternId,anchorUid,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")])}).then(function(anchorDocument){return setLoadedStatus(state)("anchor"),state.rows.anchor=anchorDocument,anchorDocument},function(error){throw setFailedStatus(state)("anchor",{error:error}),notifier.error(error),error})):Promise.reject(setFailedStatus(state)("anchor",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}},fetchPredecessorRows=function(state){return function(){var _state$queryParameter2=state.queryParameters,indexPatternId=_state$queryParameter2.indexPatternId,filters=_state$queryParameter2.filters,predecessorCount=_state$queryParameter2.predecessorCount,sort=_state$queryParameter2.sort,tieBreakerField=_state$queryParameter2.tieBreakerField,anchor=state.rows.anchor;return tieBreakerField?(setLoadingStatus(state)("predecessors"),Promise.try(function(){return fetchPredecessors(indexPatternId,anchor,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")],predecessorCount,filters)}).then(function(predecessorDocuments){return setLoadedStatus(state)("predecessors"),state.rows.predecessors=predecessorDocuments,predecessorDocuments},function(error){throw setFailedStatus(state)("predecessors",{error:error}),notifier.error(error),error})):Promise.reject(setFailedStatus(state)("predecessors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}},fetchSuccessorRows=function(state){return function(){var _state$queryParameter3=state.queryParameters,indexPatternId=_state$queryParameter3.indexPatternId,filters=_state$queryParameter3.filters,sort=_state$queryParameter3.sort,successorCount=_state$queryParameter3.successorCount,tieBreakerField=_state$queryParameter3.tieBreakerField,anchor=state.rows.anchor;return tieBreakerField?(setLoadingStatus(state)("successors"),Promise.try(function(){return fetchSuccessors(indexPatternId,anchor,[_lodash2.default.zipObject([sort]),_defineProperty({},tieBreakerField,"asc")],successorCount,filters)}).then(function(successorDocuments){return setLoadedStatus(state)("successors"),state.rows.successors=successorDocuments,successorDocuments},function(error){throw setFailedStatus(state)("successors",{error:error}),notifier.error(error),error})):Promise.reject(setFailedStatus(state)("successors",{reason:_constants.FAILURE_REASONS.INVALID_TIEBREAKER}))}},fetchContextRows=function(state){return function(){return Promise.all([fetchPredecessorRows(state)(),fetchSuccessorRows(state)()])}},fetchAllRows=function(state){return function(){return Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state))}},fetchContextRowsWithNewQueryParameters=function(state){return function(queryParameters){return setQueryParameters(state)(queryParameters),fetchContextRows(state)()}};return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:function(state){return function(queryParameters){return setQueryParameters(state)(queryParameters),fetchAllRows(state)()}},fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:function(state){return function(count){return setPredecessorCount(state)(count),fetchPredecessorRows(state)()}},fetchGivenSuccessorRows:function(state){return function(count){return setSuccessorCount(state)(count),fetchSuccessorRows(state)()}},fetchMorePredecessorRows:function(state){return function(){return increasePredecessorCount(state)(),fetchPredecessorRows(state)()}},fetchMoreSuccessorRows:function(state){return function(){return increaseSuccessorCount(state)(),fetchSuccessorRows(state)()}},fetchPredecessorRows:fetchPredecessorRows,fetchSuccessorRows:fetchSuccessorRows,setAllRows:function(state){return function(predecessorRows,anchorRow,successorRows){return state.rows.all=[].concat(_toConsumableArray(predecessorRows||[]),_toConsumableArray(anchorRow?[anchorRow]:[]),_toConsumableArray(successorRows||[]))}}}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.QueryActionsProvider=QueryActionsProvider;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_anchor=__webpack_require__(5326),_context=__webpack_require__(5327),_query_parameters=__webpack_require__(1530),_constants=__webpack_require__(821)},5326:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function fetchAnchorProvider(courier,Private){var SearchSource=Private(_search_source.SearchSourceProvider);return function(){function fetchAnchor(_x,_x2,_x3){return _ref.apply(this,arguments)}var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,uid,sort){var indexPattern,searchSource,response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,courier.indexPatterns.get(indexPatternId);case 2:return indexPattern=_context.sent,searchSource=(new SearchSource).inherits(!1).set("index",indexPattern).set("version",!0).set("size",1).set("query",{query:{terms:{_uid:[uid]}},language:"lucene"}).set("sort",sort),_context.next=6,searchSource.fetchAsRejectablePromise();case 6:if(response=_context.sent,!(_lodash2.default.get(response,["hits","total"],0)<1)){_context.next=9;break}throw new Error("Failed to load anchor document.");case 9:return _context.abrupt("return",_extends({},_lodash2.default.get(response,["hits","hits",0]),{$$_isAnchor:!0}));case 10:case"end":return _context.stop()}},_callee,this)}));return fetchAnchor}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchAnchorProvider=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_search_source=__webpack_require__(252);exports.fetchAnchorProvider=fetchAnchorProvider},5327:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function fetchContextProvider(courier,Private){var fetchSuccessors=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(indexPatternId,anchorDocument,contextSort,size,filters){var successorsSearchSource,results;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,createSearchSource(indexPatternId,anchorDocument,contextSort,size,filters);case 2:return successorsSearchSource=_context.sent,_context.next=5,performQuery(successorsSearchSource);case 5:return results=_context.sent,_context.abrupt("return",results);case 7:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}}(),fetchPredecessors=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(indexPatternId,anchorDocument,contextSort,size,filters){var predecessorsSort,predecessorsSearchSource,reversedResults,results;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return predecessorsSort=contextSort.map(_sorting.reverseSortDirective),_context2.next=3,createSearchSource(indexPatternId,anchorDocument,predecessorsSort,size,filters);case 3:return predecessorsSearchSource=_context2.sent,_context2.next=6,performQuery(predecessorsSearchSource);case 6:return reversedResults=_context2.sent,results=reversedResults.slice().reverse(),_context2.abrupt("return",results);case 9:case"end":return _context2.stop()}},_callee2,this)}));return function(_x6,_x7,_x8,_x9,_x10){return _ref2.apply(this,arguments)}}(),createSearchSource=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(indexPatternId,anchorDocument,sort,size,filters){var indexPattern;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,courier.indexPatterns.get(indexPatternId);case 2:return indexPattern=_context3.sent,_context3.abrupt("return",(new SearchSource).inherits(!1).set("index",indexPattern).set("version",!0).set("size",size).set("filter",filters).set("query",{query:{match_all:{}},language:"lucene"}).set("searchAfter",anchorDocument.sort).set("sort",sort));case 4:case"end":return _context3.stop()}},_callee3,this)}));return function(_x11,_x12,_x13,_x14,_x15){return _ref3.apply(this,arguments)}}(),performQuery=function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(searchSource){var response;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,searchSource.fetchAsRejectablePromise();case 2:return response=_context4.sent,_context4.abrupt("return",_lodash2.default.get(response,["hits","hits"],[]));case 4:case"end":return _context4.stop()}},_callee4,this)}));return function(_x16){return _ref4.apply(this,arguments)}}(),SearchSource=Private(_search_source.SearchSourceProvider);return{fetchPredecessors:fetchPredecessors,fetchSuccessors:fetchSuccessors}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchContextProvider=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),_search_source=__webpack_require__(252),_sorting=__webpack_require__(1529);exports.fetchContextProvider=fetchContextProvider},5328:function(module,exports,__webpack_require__){"use strict";function createInitialLoadingStatusState(){return{anchor:_constants.LOADING_STATUS.UNINITIALIZED,predecessors:_constants.LOADING_STATUS.UNINITIALIZED,successors:_constants.LOADING_STATUS.UNINITIALIZED}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createInitialLoadingStatusState=createInitialLoadingStatusState;var _constants=__webpack_require__(821)},5329:function(module,exports,__webpack_require__){"use strict";function getDocumentUid(type,id){return type+"#"+id}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocumentUid=getDocumentUid},5330:function(module,exports){module.exports='<context-app\n  anchor-uid="contextAppRoute.anchorUid"\n  columns="contextAppRoute.state.columns"\n  discover-url="contextAppRoute.discoverUrl"\n  index-pattern="contextAppRoute.indexPattern"\n  filters="contextAppRoute.filters"\n  predecessor-count="contextAppRoute.state.predecessorCount"\n  successor-count="contextAppRoute.state.successorCount"\n  sort="contextAppRoute.state.sort"\n></context-app>\n'},5331:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_feature_catalogue=__webpack_require__(58);_chrome2.default.getInjected("apmUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"apm",title:"APM",description:"Automatically collect in-depth performance metrics and errors from inside your applications.",icon:"/plugins/kibana/assets/app_apm.svg",path:"/app/apm",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5332:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_index=__webpack_require__(5333),_index2=_interopRequireDefault(_index);__webpack_require__(124),__webpack_require__(5335),__webpack_require__(2).get("kibana",["sense.ui.bootstrap"]),__webpack_require__(1082),__webpack_require__(300),__webpack_require__(5336),__webpack_require__(5337),__webpack_require__(5355),__webpack_require__(5358),__webpack_require__(5360),__webpack_require__(5363),_routes2.default.when("/dev_tools/console",{controller:"SenseController",template:_index2.default})},5333:function(module,exports){module.exports='<kbn-dev-tools-app data-test-subj="console" top-nav-config="topNavController">\n  <div id="editor_output_container">\n    <div id="editor_container">\n      <ul id="autocomplete"></ul>\n      <div id="editor_actions">\n        <kbn-tooltip text="click to send request">\n          <button\n            class="editor_action"\n            ng-click="sendSelected()"\n            data-test-subj="send-request-button">\n            <i class="fa fa-play"></i>\n          </button>\n        </kbn-tooltip>\n        <span dropdown>\n          <button\n            id="consoleRequestOptions"\n            class="editor_action"\n            dropdown-toggle href="#"\n            aria-label="Request options"\n          >\n            <span class="kuiIcon fa-wrench"></span>\n          </button>\n\n          <ul\n            class="dropdown-menu"\n            role="menu"\n            aria-labelledby="consoleRequestOptions"\n          >\n            <li role="menuitem">\n              <button class="link" id="copy_as_curl">Copy as cURL</button>\n            </li>\n            <li role="menuitem">\n              <button ng-click="autoIndent($event)">Auto indent</button>\n            </li>\n          </ul>\n        </span>\n      </div>\n\n      <div id="editor" data-test-subj="request-editor">GET _search\n  {\n    "query": { "match_all": {} }\n  }</div>\n\n    </div>\n    <div id="editor_resizer">&#xFE19;</div>\n    <div id="output_container" data-test-subj="response-editor">\n      <div id="output">{}</div>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},5334:function(module,exports){!function(){var global=function(){return this}(),_define=function(module,deps,payload){if("string"!=typeof module)return void(_define.original?_define.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace()));2==arguments.length&&(payload=deps),_define.modules||(_define.modules={},_define.payloads={}),_define.payloads[module]=payload,_define.modules[module]=null},_require=function(parentId,module,callback){if("[object Array]"===Object.prototype.toString.call(module)){for(var params=[],i=0,l=module.length;i<l;++i){var dep=lookup(parentId,module[i]);if(!dep&&_require.original)return _require.original.apply(window,arguments);params.push(dep)}callback&&callback.apply(null,params)}else{if("string"==typeof module){var payload=lookup(parentId,module);return!payload&&_require.original?_require.original.apply(window,arguments):(callback&&callback(),payload)}if(_require.original)return _require.original.apply(window,arguments)}},normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=base+"/"+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return moduleName},lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=_define.modules[moduleName];if(!module){if("function"==typeof(module=_define.payloads[moduleName])){var exports={},mod={id:moduleName,uri:"",exports:exports,packaged:!0};exports=module(function(module,callback){return _require(moduleName,module,callback)},exports,mod)||mod.exports,_define.modules[moduleName]=exports,delete _define.payloads[moduleName]}module=_define.modules[moduleName]=exports||module}return module};!function(ns){var require=function(module,callback){return _require("",module,callback)},root=global;ns&&(global[ns]||(global[ns]={}),root=global[ns]),root.define&&root.define.packaged||(_define.original=root.define,root.define=_define,root.define.packaged=!0),root.require&&root.require.packaged||(_require.original=root.require,root.require=require,root.require.packaged=!0)}("consoleAce")}(),consoleAce.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/multi_select","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(require,exports,module){require("./lib/fixoldbrowsers");var dom=require("./lib/dom"),event=require("./lib/event"),Editor=require("./editor").Editor,EditSession=require("./edit_session").EditSession,UndoManager=require("./undomanager").UndoManager,Renderer=require("./virtual_renderer").VirtualRenderer,MultiSelect=require("./multi_select").MultiSelect;require("./worker/worker_client"),require("./keyboard/hash_handler"),require("./placeholder"),require("./mode/folding/fold_mode"),require("./theme/textmate"),require("./ext/error_marker"),exports.config=require("./config"),exports.require=require,exports.edit=function(el){if("string"==typeof el){var _id=el,el=document.getElementById(_id);if(!el)throw new Error("ace.edit can't find div #"+_id)}if(el.env&&el.env.editor instanceof Editor)return el.env.editor;var doc=exports.createEditSession(dom.getInnerText(el));el.innerHTML="";var editor=new Editor(new Renderer(el));new MultiSelect(editor),editor.setSession(doc);var env={document:doc,editor:editor,onResize:editor.resize.bind(editor,null)};return event.addListener(window,"resize",env.onResize),editor.on("destroy",function(){event.removeListener(window,"resize",env.onResize)}),el.env=editor.env=env,editor},exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);return doc.setUndoManager(new UndoManager),doc},exports.EditSession=EditSession,exports.UndoManager=UndoManager}),consoleAce.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(require,exports,module){require("./regexp"),require("./es5-shim")}),consoleAce.define("ace/lib/regexp",["require","exports","module"],function(require,exports,module){function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++)if(array[i]===item)return i;return-1}var real={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},compliantExecNpcg=void 0===real.exec.call(/()??/,"")[1],compliantLastIndexIncrement=function(){var x=/^/g;return real.test.call(x,""),!x.lastIndex}();compliantLastIndexIncrement&&compliantExecNpcg||(RegExp.prototype.exec=function(str){var name,r2,match=real.exec.apply(this,arguments);if("string"==typeof str&&match){if(!compliantExecNpcg&&match.length>1&&indexOf(match,"")>-1&&(r2=RegExp(this.source,real.replace.call(getNativeFlags(this),"g","")),real.replace.call(str.slice(match.index),r2,function(){for(var i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var i=1;i<match.length;i++)(name=this._xregexp.captureNames[i-1])&&(match[name]=match[i]);!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--}return match},compliantLastIndexIncrement||(RegExp.prototype.test=function(str){var match=real.exec.call(this,str);return match&&this.global&&!match[0].length&&this.lastIndex>match.index&&this.lastIndex--,!!match}))}),consoleAce.define("ace/lib/es5-shim",["require","exports","module"],function(require,exports,module){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=new Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];if(array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),array.length,lengthBefore+1==array.length)return!0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:pos<0&&(pos=Math.max(length+pos,0)),pos+removeCount<length||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos)for(var i=0;i<tailCount;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;i<add;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;++i<length;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;i<length;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}do{i in this&&(result=fun.call(void 0,result,self[i],i,object))}while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);i<length;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.defineProperty called on non-object: "+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError("Property description must be an object: "+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError("getters & setters can not be defined on this javascript engine");owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(object){return!1}),Object.isFrozen||(Object.isFrozen=function(object){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;i<ii;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return Object(o)}}),consoleAce.define("ace/lib/dom",["require","exports","module"],function(require,exports,module){if("undefined"!=typeof document){var XHTML_NS="http://www.w3.org/1999/xhtml";exports.getDocumentHead=function(doc){return doc||(doc=document),doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement},exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||XHTML_NS,tag):document.createElement(tag)},exports.hasCssClass=function(el,name){return-1!==el.className.split(/\s+/g).indexOf(name)},exports.addCssClass=function(el,name){exports.hasCssClass(el,name)||(el.className+=" "+name)},exports.removeCssClass=function(el,name){for(var classes=el.className.split(/\s+/g);;){var index=classes.indexOf(name);if(-1==index)break;classes.splice(index,1)}el.className=classes.join(" ")},exports.toggleCssClass=function(el,name){for(var classes=el.className.split(/\s+/g),add=!0;;){var index=classes.indexOf(name);if(-1==index)break;add=!1,classes.splice(index,1)}return add&&classes.push(name),el.className=classes.join(" "),add},exports.setCssClass=function(node,className,include){include?exports.addCssClass(node,className):exports.removeCssClass(node,className)},exports.hasCssString=function(id,doc){var sheets,index=0;if(doc=doc||document,doc.createStyleSheet&&(sheets=doc.styleSheets)){for(;index<sheets.length;)if(sheets[index++].owningElement.id===id)return!0}else if(sheets=doc.getElementsByTagName("style"))for(;index<sheets.length;)if(sheets[index++].id===id)return!0;return!1},exports.importCssString=function(cssText,id,doc){if(doc=doc||document,id&&exports.hasCssString(id,doc))return null;var style;doc.createStyleSheet?(style=doc.createStyleSheet(),style.cssText=cssText,id&&(style.owningElement.id=id)):(style=doc.createElementNS?doc.createElementNS(XHTML_NS,"style"):doc.createElement("style"),style.appendChild(doc.createTextNode(cssText)),id&&(style.id=id),exports.getDocumentHead(doc).appendChild(style))},exports.importCssStylsheet=function(uri,doc){if(doc.createStyleSheet)doc.createStyleSheet(uri);else{var link=exports.createElement("link");link.rel="stylesheet",link.href=uri,exports.getDocumentHead(doc).appendChild(link)}},exports.getInnerWidth=function(element){return parseInt(exports.computedStyle(element,"paddingLeft"),10)+parseInt(exports.computedStyle(element,"paddingRight"),10)+element.clientWidth},exports.getInnerHeight=function(element){return parseInt(exports.computedStyle(element,"paddingTop"),10)+parseInt(exports.computedStyle(element,"paddingBottom"),10)+element.clientHeight},void 0!==window.pageYOffset?(exports.getPageScrollTop=function(){return window.pageYOffset},exports.getPageScrollLeft=function(){return window.pageXOffset}):(exports.getPageScrollTop=function(){return document.body.scrollTop},exports.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?exports.computedStyle=function(element,style){return style?(window.getComputedStyle(element,"")||{})[style]||"":window.getComputedStyle(element,"")||{}}:exports.computedStyle=function(element,style){return style?element.currentStyle[style]:element.currentStyle},exports.scrollbarWidth=function(document){var inner=exports.createElement("ace_inner");inner.style.width="100%",inner.style.minWidth="0px",inner.style.height="200px",inner.style.display="block";var outer=exports.createElement("ace_outer"),style=outer.style;style.position="absolute",style.left="-10000px",style.overflow="hidden",style.width="200px",style.minWidth="0px",style.height="150px",style.display="block",outer.appendChild(inner);var body=document.documentElement;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;return noScrollbar==withScrollbar&&(withScrollbar=outer.clientWidth),body.removeChild(outer),noScrollbar-withScrollbar},exports.setInnerHtml=function(el,innerHtml){var element=el.cloneNode(!1);return element.innerHTML=innerHtml,el.parentNode.replaceChild(element,el),element},"textContent"in document.documentElement?(exports.setInnerText=function(el,innerText){el.textContent=innerText},exports.getInnerText=function(el){return el.textContent}):(exports.setInnerText=function(el,innerText){el.innerText=innerText},exports.getInnerText=function(el){return el.innerText}),exports.getParentWindow=function(document){return document.defaultView||document.parentWindow}}}),consoleAce.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent","ace/lib/dom"],function(require,exports,module){function normalizeCommandKeys(callback,e,keyCode){var hashId=0;if(hashId=!useragent.isOpera||"KeyboardEvent"in window||!useragent.isMac?0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0):0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0),!useragent.isMac&&pressedKeys){if((pressedKeys[91]||pressedKeys[92])&&(hashId|=8),pressedKeys.altGr){if(3==(3&hashId))return;pressedKeys.altGr=0}if(18===keyCode||17===keyCode){var location=e.location||e.keyLocation;if(17===keyCode&&1===location)ts=e.timeStamp;else if(18===keyCode&&3===hashId&&2===location){var dt=-ts;ts=e.timeStamp,dt+=ts,dt<3&&(pressedKeys.altGr=!0)}}}if(keyCode in keys.MODIFIER_KEYS){switch(keys.MODIFIER_KEYS[keyCode]){case"Alt":hashId=2;break;case"Shift":hashId=4;break;case"Ctrl":hashId=1;break;default:hashId=8}keyCode=0}if(8&hashId&&(91===keyCode||93===keyCode)&&(keyCode=0),hashId||13!==keyCode||!e.location&&3!==e.keyLocation||(callback(e,hashId,-keyCode),!e.defaultPrevented))return!!(hashId||keyCode in keys.FUNCTION_KEYS||keyCode in keys.PRINTABLE_KEYS)&&callback(e,hashId,keyCode)}var keys=require("./keys"),useragent=require("./useragent");require("./dom");exports.addListener=function(elem,type,callback){if(elem.addEventListener)return elem.addEventListener(type,callback,!1);if(elem.attachEvent){var wrapper=function(){callback.call(elem,window.event)};callback._wrapper=wrapper,elem.attachEvent("on"+type,wrapper)}},exports.removeListener=function(elem,type,callback){if(elem.removeEventListener)return elem.removeEventListener(type,callback,!1);elem.detachEvent&&elem.detachEvent("on"+type,callback._wrapper||callback)},exports.stopEvent=function(e){return exports.stopPropagation(e),exports.preventDefault(e),!1},exports.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},exports.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},exports.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||e.ctrlKey&&useragent.isMac?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},exports.capture=function(el,eventHandler,releaseCaptureHandler){function onMouseUp(e){eventHandler&&eventHandler(e),releaseCaptureHandler&&releaseCaptureHandler(e),exports.removeListener(document,"mousemove",eventHandler,!0),exports.removeListener(document,"mouseup",onMouseUp,!0),exports.removeListener(document,"dragstart",onMouseUp,!0)}return exports.addListener(document,"mousemove",eventHandler,!0),exports.addListener(document,"mouseup",onMouseUp,!0),exports.addListener(document,"dragstart",onMouseUp,!0),onMouseUp},exports.addMouseWheelListener=function(el,callback){"onmousewheel"in el?exports.addListener(el,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),callback(e)}):"onwheel"in el?exports.addListener(el,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}callback(e)}):exports.addListener(el,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),callback(e)})},exports.addMultiMouseDownListener=function(el,timeouts,eventHandler,callbackName){var startX,startY,timer,clicks=0,eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};exports.addListener(el,"mousedown",function(e){if(0!=exports.getButton(e)?clicks=0:e.detail>1?++clicks>4&&(clicks=1):clicks=1,useragent.isIE){(Math.abs(e.clientX-startX)>5||Math.abs(e.clientY-startY)>5)&&(clicks=1),1==clicks&&(startX=e.clientX,startY=e.clientY)}if(eventHandler[callbackName]("mousedown",e),clicks>4)clicks=0;else if(clicks>1)return eventHandler[callbackName](eventNames[clicks],e)}),useragent.isOldIE&&exports.addListener(el,"dblclick",function(e){clicks=2,timer&&clearTimeout(timer),timer=setTimeout(function(){timer=null},timeouts[clicks-1]||600),eventHandler[callbackName]("mousedown",e),eventHandler[callbackName](eventNames[clicks],e)})};var pressedKeys=null,ts=0;if(exports.addCommandKeyListener=function(el,callback){var addListener=exports.addListener;if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",function(e){lastKeyDownKeyCode=e.keyCode}),addListener(el,"keypress",function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)})}else{var lastDefaultPrevented=null;addListener(el,"keydown",function(e){pressedKeys[e.keyCode]=!0;var result=normalizeCommandKeys(callback,e,e.keyCode);return lastDefaultPrevented=e.defaultPrevented,result}),addListener(el,"keypress",function(e){lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(exports.stopEvent(e),lastDefaultPrevented=null)}),addListener(el,"keyup",function(e){pressedKeys[e.keyCode]=null}),pressedKeys||(pressedKeys=Object.create(null),addListener(window,"focus",function(e){pressedKeys=Object.create(null)}))}},window.postMessage&&!useragent.isOldIE){exports.nextTick=function(callback,win){win=win||window;exports.addListener(win,"message",function listener(e){"zero-timeout-message-1"==e.data&&(exports.stopPropagation(e),exports.removeListener(win,"message",listener),callback())}),win.postMessage("zero-timeout-message-1","*")}}exports.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,exports.nextFrame?exports.nextFrame=exports.nextFrame.bind(window):exports.nextFrame=function(callback){setTimeout(callback,17)}}),consoleAce.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(require,exports,module){var oop=require("./oop"),Keys=function(){var ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var i in ret.FUNCTION_KEYS){ret[ret.FUNCTION_KEYS[i].toLowerCase()]=parseInt(i,10)}return oop.mixin(ret,ret.MODIFIER_KEYS),oop.mixin(ret,ret.PRINTABLE_KEYS),oop.mixin(ret,ret.FUNCTION_KEYS),ret.enter=ret.return,ret.escape=ret.esc,ret.del=ret.delete,ret[173]="-",ret}();oop.mixin(exports,Keys),exports.keyCodeToString=function(keyCode){return(Keys[keyCode]||String.fromCharCode(keyCode)).toLowerCase()}}),consoleAce.define("ace/lib/oop",["require","exports","module"],function(require,exports,module){exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),consoleAce.define("ace/lib/useragent",["require","exports","module"],function(require,exports,module){if(exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},exports.getOS=function(){return exports.isMac?exports.OS.MAC:exports.isLinux?exports.OS.LINUX:exports.OS.WINDOWS},"object"==typeof navigator){var os=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),ua=navigator.userAgent;exports.isWin="win"==os,exports.isMac="mac"==os,exports.isLinux="linux"==os,exports.isIE=("Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0)&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),exports.isOldIE=exports.isIE&&exports.isIE<9,exports.isGecko=exports.isMozilla=window.controllers&&"Gecko"===window.navigator.product,exports.isOldGecko=exports.isGecko&&parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10)<4,exports.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||void 0,exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||void 0,exports.isAIR=ua.indexOf("AdobeAIR")>=0,exports.isIPad=ua.indexOf("iPad")>=0,exports.isTouchPad=ua.indexOf("TouchPad")>=0}}),consoleAce.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config"],function(require,exports,module){require("./lib/fixoldbrowsers");var oop=require("./lib/oop"),dom=require("./lib/dom"),lang=require("./lib/lang"),useragent=require("./lib/useragent"),TextInput=require("./keyboard/textinput").TextInput,MouseHandler=require("./mouse/mouse_handler").MouseHandler,FoldHandler=require("./mouse/fold_handler").FoldHandler,KeyBinding=require("./keyboard/keybinding").KeyBinding,EditSession=require("./edit_session").EditSession,Search=require("./search").Search,Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,CommandManager=require("./commands/command_manager").CommandManager,defaultCommands=require("./commands/default_commands").commands,config=require("./config"),Editor=function(renderer,session){var container=renderer.getContainerElement();this.container=container,this.renderer=renderer,this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands),this.textInput=new TextInput(renderer.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new KeyBinding(this),this.$mouseHandler=new MouseHandler(this),new FoldHandler(this),this.$blockScrolling=0,this.$search=(new Search).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{}),this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(_,_self){_self._$emitInputEvent.schedule(31)}),this.setSession(session||new EditSession("")),config.resetOptions(this),config._emit("editor",this)};(function(){oop.implement(this,EventEmitter),this.$initOperationListeners=function(){function last(a){return a[a.length-1]}this.selections=[],this.commands.on("exec",function(e){if(this.startOperation(e),"fileJump"==e.command.aceCommandGroup){var prev=this.prevOp;prev&&"fileJump"==prev.command.aceCommandGroup||(this.lastFileJumpPos=last(this.selections))}else this.lastFileJumpPos=null}.bind(this),!0),this.commands.on("afterExec",function(e){"fileJump"==e.command.aceCommandGroup&&this.lastFileJumpPos&&!this.curOp.selectionChanged&&this.selection.fromJSON(this.lastFileJumpPos),this.endOperation(e)}.bind(this),!0),this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(commadEvent){if(this.curOp){if(!commadEvent||this.curOp.command)return;this.prevOp=this.curOp}commadEvent||(this.previousCommand=null,commadEvent={}),this.$opResetTimer.schedule(),this.curOp={command:commadEvent.command||{},args:commadEvent.args,scrollTop:this.renderer.scrollTop};var command=this.curOp.command;command&&command.scrollIntoView&&this.$blockScrolling++,this.selections.push(this.selection.toJSON())},this.endOperation=function(){if(this.curOp){var command=this.curOp.command;if(command&&command.scrollIntoView){switch(this.$blockScrolling--,command.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var range=this.selection.getRange(),config=this.renderer.layerConfig;(range.start.row>=config.lastRow||range.end.row<=config.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==command.scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var prev=this.prevOp,mergeableCommands=["backspace","del","insertstring"],shouldMerge=prev.command&&e.command.name==prev.command.name;if("insertstring"==e.command.name){var text=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args)),this.mergeNextCommand=!0}else shouldMerge=shouldMerge&&-1!==mergeableCommands.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(shouldMerge=!1),shouldMerge?this.session.mergeUndoDeltas=!0:-1!==mergeableCommands.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(keyboardHandler){if(keyboardHandler)if("string"==typeof keyboardHandler){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],function(module){_self.$keybindingId==keyboardHandler&&_self.keyBinding.setKeyboardHandler(module&&module.handler)})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(keyboardHandler);else this.keyBinding.setKeyboardHandler(null)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(session){if(this.session!=session){if(this.session){var oldSession=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.removeEventListener("changeCursor",this.$onCursorChange),selection.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=session,this.$onDocumentChange=this.onDocumentChange.bind(this),session.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(session),this.$onChangeMode=this.onChangeMode.bind(this),session.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),session.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),session.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),session.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),session.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),session.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=session.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:session,oldSession:oldSession})}},this.getSession=function(){return this.session},this.setValue=function(val,cursorPos){return this.session.doc.setValue(val),cursorPos?1==cursorPos?this.navigateFileEnd():-1==cursorPos&&this.navigateFileStart():this.selectAll(),val},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(force){this.renderer.onResize(force)},this.setTheme=function(theme){this.renderer.setTheme(theme)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(style){this.renderer.setStyle(style)},this.unsetStyle=function(style){this.renderer.unsetStyle(style)},this.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container,"fontSize")},this.setFontSize=function(size){this.setOption("fontSize",size)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var self=this;this.$highlightPending=!0,setTimeout(function(){self.$highlightPending=!1;var pos=self.session.findMatchingBracket(self.getCursorPosition());if(pos)var range=new Range(pos.row,pos.column,pos.row,pos.column+1);else if(self.session.$mode.getMatching)var range=self.session.$mode.getMatching(self.session);range&&(self.session.$bracketHighlight=self.session.addMarker(range,"ace_bracket","text"))},50)}},this.focus=function(){var _self=this;setTimeout(function(){_self.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))},this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur"))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var lastRow,delta=e.data,range=delta.range;lastRow=range.start.row==range.end.row&&"insertLines"!=delta.action&&"removeLines"!=delta.action?range.end.row:1/0,this.renderer.updateLines(range.start.row,lastRow),this._emit("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine(),this._emit("changeSelection")},this.$updateHighlightActiveLine=function(){var highlight,session=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(highlight=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&(highlight=!1)),session.$highlightLineMarker&&!highlight)session.removeMarker(session.$highlightLineMarker.id),session.$highlightLineMarker=null;else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,1/0);range.id=session.addMarker(range,"ace_active-line","screenLine"),session.$highlightLineMarker=range}else highlight&&(session.$highlightLineMarker.start.row=highlight.row,session.$highlightLineMarker.end.row=highlight.row,session.$highlightLineMarker.start.column=highlight.column,session._emit("changeBackMarker"))},this.onSelectionChange=function(e){var session=this.session;if(session.$selectionMarker&&session.removeMarker(session.$selectionMarker),session.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var range=this.selection.getRange(),style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re),this._emit("changeSelection")},this.$getSelectionHighLightRegexp=function(){var session=this.session,selection=this.getSelectionRange();if(!selection.isEmpty()&&!selection.isMultiLine()){var startOuter=selection.start.column-1,endOuter=selection.end.column+1,line=session.getLine(selection.start.row),lineCols=line.length,needle=line.substring(Math.max(startOuter,0),Math.min(endOuter,lineCols));if(!(startOuter>=0&&/^[\w\d]/.test(needle)||endOuter<=lineCols&&/[\w\d]$/.test(needle))&&(needle=line.substring(selection.start.column,selection.end.column),/^[\w\d]+$/.test(needle))){return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:needle})}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var text=this.getSelectedText();return this._signal("copy",text),text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(text){this.$readOnly||(this._emit("paste",text),this.insert(text))},this.execCommand=function(command,args){this.commands.exec(command,this,args)},this.insert=function(text){var session=this.session,mode=session.getMode(),cursor=this.getCursorPosition();if(this.getBehavioursEnabled()){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);transform&&(text!==transform.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),text=transform.text)}if("\t"==text&&(text=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var range=new Range.fromPoints(cursor,cursor);range.end.column+=text.length,this.session.remove(range)}}else{var range=this.getSelectionRange();cursor=this.session.remove(range),this.clearSelection()}if("\n"==text||"\r\n"==text){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column,lineState=session.getState(cursor.row),line=session.getLine(cursor.row),shouldOutdent=mode.checkOutdent(lineState,line,text);session.insert(cursor,text);if(transform&&transform.selection&&(2==transform.selection.length?this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1])):this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]))),session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}shouldOutdent&&mode.autoOutdent(lineState,session,cursor.row)},this.onTextInput=function(text){this.keyBinding.onTextInput(text)},this.onCommandKey=function(e,hashId,keyCode){this.keyBinding.onCommandKey(e,hashId,keyCode)},this.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(val){this.setOption("selectionStyle",val)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(dir){this.selection.isEmpty()&&("left"==dir?this.selection.selectLeft():this.selection.selectRight());var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session,state=session.getState(range.start.row),new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(0===range.end.column){var text=session.getTextRange(range);if("\n"==text[text.length-1]){var line=session.getLine(range.end.row);/^\s+$/.test(line)&&(range.end.column=line.length)}}new_range&&(range=new_range)}this.session.remove(range),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var range=this.getSelectionRange();range.start.column==range.end.column&&range.start.row==range.end.row&&(range.end.column=0,range.end.row++),this.session.remove(range),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var cursor=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(cursor)},this.transposeLetters=function(){if(this.selection.isEmpty()){var cursor=this.getCursorPosition(),column=cursor.column;if(0!==column){var swap,range,line=this.session.getLine(cursor.row);column<line.length?(swap=line.charAt(column)+line.charAt(column-1),range=new Range(cursor.row,column-1,cursor.row,column+1)):(swap=line.charAt(column-1)+line.charAt(column-2),range=new Range(cursor.row,column-2,cursor.row,column)),this.session.replace(range,swap)}}},this.toLowerCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase()),this.selection.setSelectionRange(originalRange)},this.toUpperCase=function(){var originalRange=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var range=this.getSelectionRange(),text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase()),this.selection.setSelectionRange(originalRange)},this.indent=function(){var session=this.session,range=this.getSelectionRange();if(range.start.row<range.end.row){var rows=this.$getSelectedRows();return void session.indentRows(rows.first,rows.last,"\t")}if(range.start.column<range.end.column){if(!/^\s+$/.test(session.getTextRange(range))){var rows=this.$getSelectedRows();return void session.indentRows(rows.first,rows.last,"\t")}}var line=session.getLine(range.start.row),position=range.start,size=session.getTabSize(),column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs())var count=size-column%size,indentString=lang.stringRepeat(" ",count);else{for(var count=column%size;" "==line[range.start.column]&&count;)range.start.column--,count--;this.selection.setSelectionRange(range),indentString="\t"}return this.insert(indentString)},this.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")},this.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())},this.sortLines=function(){var rows=this.$getSelectedRows(),session=this.session,lines=[];for(i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0});for(var deleteRange=new Range(0,0,0,0),i=rows.first;i<=rows.last;i++){var line=session.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i,deleteRange.end.column=line.length,session.replace(deleteRange,lines[i-rows.first])}},this.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row),rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)},this.toggleBlockComment=function(){var cursor=this.getCursorPosition(),state=this.session.getState(cursor.row),range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)},this.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;for(var s=this.session.getLine(row);_numberRx.lastIndex<column;){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column){return{value:m[0],start:m.index,end:m.index+m[0].length}}}return null},this.modifyNumber=function(amount){var row=this.selection.getCursor().row,column=this.selection.getCursor().column,charRange=new Range(row,column-1,row,column),c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=nr.value.indexOf(".")>=0?nr.start+nr.value.indexOf(".")+1:nr.end,decimals=nr.start+nr.value.length-fp,t=parseFloat(nr.value);t*=Math.pow(10,decimals),fp!==nr.end&&column<fp?amount*=Math.pow(10,nr.end-column-1):amount*=Math.pow(10,nr.end-column),t+=amount,t/=Math.pow(10,decimals);var nnr=t.toFixed(decimals),replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr),this.moveCursorTo(row,Math.max(nr.start+1,column+nnr.length-nr.value.length))}}},this.removeLines=function(){var range,rows=this.$getSelectedRows();range=0===rows.first||rows.last+1<this.session.getLength()?new Range(rows.first,0,rows.last+1,0):new Range(rows.first-1,this.session.getLine(rows.first-1).length,rows.last,this.session.getLine(rows.last).length),this.session.remove(range),this.clearSelection()},this.duplicateSelection=function(){var sel=this.selection,doc=this.session,range=sel.getRange(),reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end,endPoint=doc.insert(point,doc.getTextRange(range),!1);range.start=point,range.end=endPoint,sel.setSelectionRange(range,reverse)}},this.moveLinesDown=function(){this.$moveLines(function(firstRow,lastRow){return this.session.moveLinesDown(firstRow,lastRow)})},this.moveLinesUp=function(){this.$moveLines(function(firstRow,lastRow){return this.session.moveLinesUp(firstRow,lastRow)})},this.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)},this.copyLinesUp=function(){this.$moveLines(function(firstRow,lastRow){return this.session.duplicateLines(firstRow,lastRow),0})},this.copyLinesDown=function(){this.$moveLines(function(firstRow,lastRow){return this.session.duplicateLines(firstRow,lastRow)})},this.$moveLines=function(mover){var selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange(),rows=this.$getSelectedRows(range),linesMoved=mover.call(this,rows.first,rows.last);range.moveBy(linesMoved,0),selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session);for(var i=ranges.length;i--;){for(var rangeIndex=i,rows=ranges[i].collapseRows(),last=rows.end.row,first=rows.start.row;i--&&(rows=ranges[i].collapseRows(),first-rows.end.row<=1);)first=rows.end.row;i++;for(var linesMoved=mover.call(this,first,last);rangeIndex>=i;)ranges[rangeIndex].moveBy(linesMoved,0),rangeIndex--}selection.fromOrientedRange(selection.ranges[0]),selection.rangeList.attach(this.session)}},this.$getSelectedRows=function(){var range=this.getSelectionRange().collapseRows();return{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}},this.onCompositionStart=function(text){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()},this.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(dir,select){var renderer=this.renderer,config=this.renderer.layerConfig,rows=dir*Math.floor(config.height/config.lineHeight);this.$blockScrolling++,!0===select?this.selection.$moveSelection(function(){this.moveCursorBy(rows,0)}):!1===select&&(this.selection.moveCursorBy(rows,0),this.selection.clearSelection()),this.$blockScrolling--;var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight),null!=select&&renderer.scrollCursorIntoView(null,.5),renderer.animateScrolling(scrollTop)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(row){this.renderer.scrollToRow(row)},this.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)},this.centerSelection=function(){var range=this.getSelectionRange(),pos={row:Math.floor(range.start.row+(range.end.row-range.start.row)/2),column:Math.floor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)},this.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)},this.jumpToMatching=function(select){var cursor=this.getCursorPosition(),range=this.session.getBracketRange(cursor);if(!range){if(!(range=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:cursor.row,column:cursor.column-1}})))return;var pos=range.start;pos.row==cursor.row&&Math.abs(pos.column-cursor.column)<2&&(range=this.session.getBracketRange(pos))}(pos=range&&range.cursor||pos)&&(select?range&&range.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(pos.row,pos.column):(this.clearSelection(),this.moveCursorTo(pos.row,pos.column)))},this.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection(),this.session.unfold({row:lineNumber-1,column:column||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(lineNumber-1,column||0),this.$blockScrolling-=1,this.isRowFullyVisible(lineNumber-1)||this.scrollToLine(lineNumber-1,!0,animate)},this.navigateTo=function(row,column){this.clearSelection(),this.moveCursorTo(row,column)},this.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection(),times=times||1,this.selection.moveCursorBy(-times,0)},this.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection(),times=times||1,this.selection.moveCursorBy(times,0)},this.navigateLeft=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorLeft();else{var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}this.clearSelection()},this.navigateRight=function(times){if(this.selection.isEmpty())for(times=times||1;times--;)this.selection.moveCursorRight();else{var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(replacement,options){options&&this.$search.set(options);var range=this.$search.find(this.session),replaced=0;return range?(this.$tryReplace(range,replacement)&&(replaced=1),null!==range&&(this.selection.setSelectionRange(range),this.renderer.scrollSelectionIntoView(range.start,range.end)),replaced):replaced},this.replaceAll=function(replacement,options){options&&this.$search.set(options);var ranges=this.$search.findAll(this.session),replaced=0;if(!ranges.length)return replaced;this.$blockScrolling+=1;var selection=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var i=ranges.length-1;i>=0;--i)this.$tryReplace(ranges[i],replacement)&&replaced++;return this.selection.setSelectionRange(selection),this.$blockScrolling-=1,replaced},this.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);return replacement=this.$search.replace(input,replacement),null!==replacement?(range.end=this.session.replace(range,replacement),range):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(needle,options,animate){options||(options={}),"string"==typeof needle||needle instanceof RegExp?options.needle=needle:"object"==typeof needle&&oop.mixin(options,needle);var range=this.selection.getRange();null==options.needle&&(needle=this.session.getTextRange(range)||this.$search.$options.needle,needle||(range=this.session.getWordRange(range.start.row,range.start.column),needle=this.session.getTextRange(range)),this.$search.set({needle:needle})),this.$search.set(options),options.start||this.$search.set({start:range});var newRange=this.$search.find(this.session);return options.preventScroll?newRange:newRange?(this.revealRange(newRange,animate),newRange):(options.backwards?range.start=range.end:range.end=range.start,void this.selection.setRange(range))},this.findNext=function(options,animate){this.find({skipCurrent:!0,backwards:!1},options,animate)},this.findPrevious=function(options,animate){this.find(options,{skipCurrent:!0,backwards:!0},animate)},this.revealRange=function(range,animate){this.$blockScrolling+=1,this.session.unfold(range),this.selection.setSelectionRange(range),this.$blockScrolling-=1;var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5),!1!==animate&&this.renderer.animateScrolling(scrollTop)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._emit("destroy",this)},this.setAutoScrollEditorIntoView=function(enable){if(!1!==enable){var rect,self=this,shouldScroll=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute",this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",function(){shouldScroll=!0}),onBeforeRender=this.renderer.on("beforeRender",function(){shouldScroll&&(rect=self.renderer.container.getBoundingClientRect())}),onAfterRender=this.renderer.on("afterRender",function(){if(shouldScroll&&rect&&self.isFocused()){var renderer=self.renderer,pos=renderer.$cursorLayer.$pixelPos,config=renderer.layerConfig,top=pos.top-config.offset;shouldScroll=pos.top>=0&&top+rect.top<0||!(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight)&&null,null!=shouldScroll&&(scrollAnchor.style.top=top+"px",scrollAnchor.style.left=pos.left+"px",scrollAnchor.style.height=config.lineHeight+"px",scrollAnchor.scrollIntoView(shouldScroll)),shouldScroll=rect=null}});this.setAutoScrollEditorIntoView=function(enable){!0!==enable&&(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",onChangeSelection),this.renderer.removeEventListener("afterRender",onAfterRender),this.renderer.removeEventListener("beforeRender",onBeforeRender))}}},this.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace",cursorLayer=this.renderer.$cursorLayer;cursorLayer&&(cursorLayer.setSmoothBlinking("smooth"==style),cursorLayer.isBlinking=!this.$readOnly&&"wide"!=style)}}).call(Editor.prototype),config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange(),this._emit("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(shouldHighlight){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(readOnly){this.textInput.setReadOnly(readOnly),this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(val){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),exports.Editor=Editor}),consoleAce.define("ace/lib/lang",["require","exports","module"],function(require,exports,module){exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\s\s*/,trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;i<l;i++)array[i]&&"object"==typeof array[i]?copy[i]=this.copyObject(array[i]):copy[i]=array[i];return copy},exports.deepCopy=function(obj){if("object"!=typeof obj||!obj)return obj;var cons=obj.constructor;if(cons===RegExp)return obj;var copy=cons();for(var key in obj)"object"==typeof obj[key]?copy[key]=exports.deepCopy(obj[key]):copy[key]=obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;i<arr.length;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),consoleAce.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(require,exports,module){var event=require("../lib/event"),useragent=require("../lib/useragent"),dom=require("../lib/dom"),lang=require("../lib/lang"),BROKEN_SETDATA=useragent.isChrome<18,TextInput=function(parentNode,host){function resetSelection(isEmpty){if(!inComposition){if(inputHandler)selectionStart=0,selectionEnd=isEmpty?0:text.value.length-1;else var selectionStart=isEmpty?2:1,selectionEnd=2;try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e){}}}function resetValue(){inComposition||(text.value=PLACEHOLDER,useragent.isWebKit&&syncValue.schedule())}function onContextMenuClose(){setTimeout(function(){tempStyle&&(text.style.cssText=tempStyle,tempStyle=""),null==host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=!0,host.renderer.$moveTextAreaToCursor())},0)}var text=dom.createElement("textarea");text.className="ace_text-input",useragent.isTouchPad&&text.setAttribute("x-palm-disable-auto-cap",!0),text.wrap="off",text.autocorrect="off",text.autocapitalize="off",text.spellcheck=!1,text.style.opacity="0",parentNode.insertBefore(text,parentNode.firstChild);var PLACEHOLDER="",cut=!1,copied=!1,pasted=!1,inComposition=!1,tempStyle="",isSelectionEmpty=!0;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",function(){host.onBlur(),isFocused=!1}),event.addListener(text,"focus",function(){isFocused=!0,host.onFocus(),resetSelection()}),this.focus=function(){text.focus()},this.blur=function(){text.blur()},this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall(function(){isFocused&&resetSelection(isSelectionEmpty)}),syncValue=lang.delayedCall(function(){inComposition||(text.value=PLACEHOLDER,isFocused&&resetSelection())});useragent.isWebKit||host.addEventListener("changeSelection",function(){host.selection.isEmpty()!=isSelectionEmpty&&(isSelectionEmpty=!isSelectionEmpty,syncSelection.schedule())}),resetValue(),isFocused&&host.onFocus();var isAllSelected=function(text){return 0===text.selectionStart&&text.selectionEnd===text.value.length};if(!text.setSelectionRange&&text.createTextRange&&(text.setSelectionRange=function(selectionStart,selectionEnd){var range=this.createTextRange();range.collapse(!0),range.moveStart("character",selectionStart),range.moveEnd("character",selectionEnd),range.select()},isAllSelected=function(text){try{var range=text.ownerDocument.selection.createRange()}catch(e){}return!(!range||range.parentElement()!=text)&&range.text==text.value}),useragent.isOldIE){var inPropertyChange=!1,onPropertyChange=function(e){if(!inPropertyChange){var data=text.value;if(!inComposition&&data&&data!=PLACEHOLDER){if(e&&data==PLACEHOLDER[0])return syncProperty.schedule();sendText(data),inPropertyChange=!0,resetValue(),inPropertyChange=!1}}},syncProperty=lang.delayedCall(onPropertyChange);event.addListener(text,"propertychange",onPropertyChange);var keytable={13:1,27:1};event.addListener(text,"keyup",function(e){if(!inComposition||text.value&&!keytable[e.keyCode]||setTimeout(onCompositionEnd,0),(text.value.charCodeAt(0)||0)<129)return syncProperty.call();inComposition?onCompositionUpdate():onCompositionStart()}),event.addListener(text,"keydown",function(e){syncProperty.schedule(50)})}var onSelect=function(e){cut?cut=!1:copied?copied=!1:isAllSelected(text)?(host.selectAll(),resetSelection()):inputHandler&&resetSelection(host.selection.isEmpty())},inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb},this.getInputHandler=function(){return inputHandler};var afterContextMenu=!1,sendText=function(data){inputHandler&&(data=inputHandler(data),inputHandler=null),pasted?(resetSelection(),data&&host.onPaste(data),pasted=!1):data==PLACEHOLDER.charAt(0)?afterContextMenu?host.execCommand("del",{source:"ace"}):host.execCommand("backspace",{source:"ace"}):(data.substring(0,2)==PLACEHOLDER?data=data.substr(2):data.charAt(0)==PLACEHOLDER.charAt(0)?data=data.substr(1):data.charAt(data.length-1)==PLACEHOLDER.charAt(0)&&(data=data.slice(0,-1)),data.charAt(data.length-1)==PLACEHOLDER.charAt(0)&&(data=data.slice(0,-1)),data&&host.onTextInput(data)),afterContextMenu&&(afterContextMenu=!1)},onInput=function(e){if(!inComposition){var data=text.value;sendText(data),resetValue()}},onCut=function(e){var data=host.getCopyText();if(!data)return void event.preventDefault(e);var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var supported=clipboardData.setData("Text",data);supported&&(host.onCut(),event.preventDefault(e))}supported||(cut=!0,text.value=data,text.select(),setTimeout(function(){cut=!1,resetValue(),resetSelection(),host.onCut()}))},onCopy=function(e){var data=host.getCopyText();if(!data)return void event.preventDefault(e);var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData&&!BROKEN_SETDATA){var supported=clipboardData.setData("Text",data);supported&&(host.onCopy(),event.preventDefault(e))}supported||(copied=!0,text.value=data,text.select(),setTimeout(function(){copied=!1,resetValue(),resetSelection(),host.onCopy()}))},onPaste=function(e){var clipboardData=e.clipboardData||window.clipboardData;if(clipboardData){var data=clipboardData.getData("Text");data&&host.onPaste(data),useragent.isIE&&setTimeout(resetSelection),event.preventDefault(e)}else text.value="",pasted=!0};event.addCommandKeyListener(text,host.onCommandKey.bind(host)),event.addListener(text,"select",onSelect),event.addListener(text,"input",onInput),event.addListener(text,"cut",onCut),event.addListener(text,"copy",onCopy),event.addListener(text,"paste",onPaste),"oncut"in text&&"oncopy"in text&&"onpaste"in text||event.addListener(parentNode,"keydown",function(e){if((!useragent.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e)}});var onCompositionStart=function(e){inComposition||(inComposition={},host.onCompositionStart(),setTimeout(onCompositionUpdate,0),host.on("mousedown",onCompositionEnd),host.selection.isEmpty()||(host.insert(""),host.session.markUndoGroup(),host.selection.clearSelection()),host.session.markUndoGroup())},onCompositionUpdate=function(){if(inComposition){var val=text.value.replace(/\x01/g,"");if(inComposition.lastValue!==val&&(host.onCompositionUpdate(val),inComposition.lastValue&&host.undo(),inComposition.lastValue=val,inComposition.lastValue)){var r=host.selection.getRange();host.insert(inComposition.lastValue),host.session.markUndoGroup(),inComposition.range=host.selection.getRange(),host.selection.setRange(r),host.selection.clearSelection()}}},onCompositionEnd=function(e){var c=inComposition;inComposition=!1;var timer=setTimeout(function(){timer=null;var str=text.value.replace(/\x01/g,"");inComposition||(str==c.lastValue?resetValue():!c.lastValue&&str&&(resetValue(),sendText(str)))});inputHandler=function(str){return timer&&clearTimeout(timer),(str=str.replace(/\x01/g,""))==c.lastValue?"":(c.lastValue&&timer&&host.undo(),str)},host.onCompositionEnd(),host.removeListener("mousedown",onCompositionEnd),"compositionend"==e.type&&c.range&&host.selection.setRange(c.range)},syncComposition=lang.delayedCall(onCompositionUpdate,50);if(event.addListener(text,"compositionstart",onCompositionStart),useragent.isGecko?event.addListener(text,"text",function(){syncComposition.schedule()}):(event.addListener(text,"keyup",function(){syncComposition.schedule()}),event.addListener(text,"keydown",function(){syncComposition.schedule()})),event.addListener(text,"compositionend",onCompositionEnd),this.getElement=function(){return text},this.setReadOnly=function(readOnly){text.readOnly=readOnly},this.onContextMenu=function(e){afterContextMenu=!0,tempStyle||(tempStyle=text.style.cssText),text.style.cssText="z-index:100000;"+(useragent.isIE?"opacity:0.1;":""),resetSelection(host.selection.isEmpty()),host._emit("nativecontextmenu",{target:host,domEvent:e});var rect=host.container.getBoundingClientRect(),style=dom.computedStyle(host.container),top=rect.top+(parseInt(style.borderTopWidth)||0),left=rect.left+(parseInt(rect.borderLeftWidth)||0),maxTop=rect.bottom-top-text.clientHeight,move=function(e){text.style.left=e.clientX-left-2+"px",text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e),"mousedown"==e.type&&(host.renderer.$keepTextAreaAtCursor&&(host.renderer.$keepTextAreaAtCursor=null),useragent.isWin&&event.capture(host.container,move,onContextMenuClose))},this.onContextMenuClose=onContextMenuClose,!useragent.isGecko||useragent.isMac){var onContextMenu=function(e){host.textInput.onContextMenu(e),onContextMenuClose()};event.addListener(host.renderer.scroller,"contextmenu",onContextMenu),event.addListener(text,"contextmenu",onContextMenu)}};exports.TextInput=TextInput}),consoleAce.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(require,exports,module){var event=require("../lib/event"),useragent=require("../lib/useragent"),DefaultHandlers=require("./default_handlers").DefaultHandlers,DefaultGutterHandler=require("./default_gutter_handler").GutterHandler,MouseEvent=require("./mouse_event").MouseEvent,DragdropHandler=require("./dragdrop_handler").DragdropHandler,config=require("../config"),MouseHandler=function(editor){this.editor=editor,new DefaultHandlers(this),new DefaultGutterHandler(this),new DragdropHandler(this);var mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click")),event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove")),event.addMultiMouseDownListener(mouseTarget,[300,300,250],this,"onMouseEvent"),editor.renderer.scrollBarV&&(event.addMultiMouseDownListener(editor.renderer.scrollBarV.inner,[300,300,250],this,"onMouseEvent"),event.addMultiMouseDownListener(editor.renderer.scrollBarH.inner,[300,300,250],this,"onMouseEvent")),event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel"));var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick")),event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),event.addListener(mouseTarget,"mousedown",function(e){editor.focus()}),event.addListener(gutterEl,"mousedown",function(e){return editor.focus(),event.preventDefault(e)})};(function(){this.onMouseEvent=function(name,e){this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;listeners&&listeners.length&&this.editor._emit(name,new MouseEvent(e,this.editor))},this.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=2*this.$scrollSpeed,mouseEvent.wheelX=e.wheelX,mouseEvent.wheelY=e.wheelY,this.editor._emit(name,mouseEvent)},this.setState=function(state){this.state=state},this.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x,this.y=ev.y,this.isMousePressed=!0;var renderer=this.editor.renderer;renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=null);var self=this,onMouseMove=function(e){self.x=e.clientX,self.y=e.clientY,mouseMoveHandler&&mouseMoveHandler(e),self.mouseEvent=new MouseEvent(e,self.editor),self.$mouseMoved=!0},onCaptureEnd=function(e){clearInterval(timerId),onCaptureInterval(),self[self.state+"End"]&&self[self.state+"End"](e),self.$clickSelection=null,null==renderer.$keepTextAreaAtCursor&&(renderer.$keepTextAreaAtCursor=!0,renderer.$moveTextAreaToCursor()),self.isMousePressed=!1,self.$onCaptureMouseMove=self.releaseMouse=null,self.onMouseEvent("mouseup",e)},onCaptureInterval=function(){self[self.state]&&self[self.state](),self.$mouseMoved=!1};if(useragent.isOldIE&&"dblclick"==ev.domEvent.type)return setTimeout(function(){onCaptureEnd(ev)});self.$onCaptureMouseMove=onMouseMove,self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)},this.releaseMouse=null}).call(MouseHandler.prototype),config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:150},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0}}),exports.MouseHandler=MouseHandler}),consoleAce.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(require,exports,module){function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler)),editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler)),editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler)),editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler)),editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(x){mouseHandler[x]=this[x]},this),mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange"),mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row!=range.end.row-1||range.start.column||range.end.column)var cmp=2*cursor.row-range.start.row-range.end.row;else var cmp=cursor.column-4;return cmp<0?{cursor:range.start,anchor:range.end}:{cursor:range.end,anchor:range.start}}require("../lib/dom"),require("../lib/event"),require("../lib/useragent");(function(){this.onMouseDown=function(ev){var inSelection=ev.inSelection(),pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor;if(0!==ev.getButton())return editor.getSelectionRange().isEmpty()&&(editor.moveCursorToPosition(pos),editor.selection.clearSelection()),void editor.textInput.onContextMenu(ev.domEvent);return!inSelection||editor.isFocused()||(editor.focus(),!this.$focusTimout||this.$clickSelection||editor.inMultiSelectMode)?(!inSelection||this.$clickSelection||ev.getShiftKey()||editor.inMultiSelectMode?this.startSelect(pos):inSelection&&(this.mousedownEvent.time=Date.now(),this.startSelect(pos)),this.captureMouse(ev),ev.preventDefault()):(this.mousedownEvent.time=Date.now(),this.setState("focusWait"),void this.captureMouse(ev))},this.startSelect=function(pos){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;this.mousedownEvent.getShiftKey()?editor.selection.selectToPosition(pos):this.$clickSelection||(editor.moveCursorToPosition(pos),editor.selection.clearSelection()),editor.renderer.scroller.setCapture&&editor.renderer.scroller.setCapture(),editor.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(-1==cmp)anchor=this.$clickSelection.end;else if(1==cmp)anchor=this.$clickSelection.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(unitName){var anchor,editor=this.editor,cursor=editor.renderer.screenToTextCoordinates(this.x,this.y),range=editor.selection[unitName](cursor.row,cursor.column);if(this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start),cmpEnd=this.$clickSelection.comparePoint(range.end);if(-1==cmpStart&&cmpEnd<=0)anchor=this.$clickSelection.end,range.end.row==cursor.row&&range.end.column==cursor.column||(cursor=range.start);else if(1==cmpEnd&&cmpStart>=0)anchor=this.$clickSelection.start,range.start.row==cursor.row&&range.start.column==cursor.column||(cursor=range.end);else if(-1==cmpStart&&1==cmpEnd)cursor=range.end,anchor=range.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor,anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor),editor.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),time=Date.now();(distance>0||time-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor,session=editor.session,range=session.getBracketRange(pos);range?(range.isEmpty()&&(range.start.column--,range.end.column++),this.setState("select")):(range=editor.selection.getWordRange(pos.row,pos.column),this.setState("selectByWords")),this.$clickSelection=range,this[this.state]&&this[this.state](ev)},this.onTripleClick=function(ev){var pos=ev.getDocumentPosition(),editor=this.editor;this.setState("selectByLines"),this.$clickSelection=editor.selection.getLineRange(pos.row),this[this.state]&&this[this.state](ev)},this.onQuadClick=function(ev){var editor=this.editor;editor.selectAll(),this.$clickSelection=editor.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(ev){if(!ev.getShiftKey()&&!ev.getAccelKey()){var t=ev.domEvent.timeStamp,dt=t-(this.$lastScrollTime||0),editor=this.editor;return editor.renderer.isScrollableBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed)||dt<200?(this.$lastScrollTime=t,editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed),ev.stop()):void 0}}}).call(DefaultHandlers.prototype),exports.DefaultHandlers=DefaultHandlers}),consoleAce.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event"],function(require,exports,module){function GutterHandler(mouseHandler){function createTooltip(){tooltip=dom.createElement("div"),tooltip.className="ace_gutter-tooltip",tooltip.style.display="none",editor.container.appendChild(tooltip)}function showTooltip(){tooltip||createTooltip();var row=mouseEvent.getDocumentPosition().row,annotation=gutter.$annotations[row];if(!annotation)return hideTooltip();if(row==editor.session.getLength()){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row,pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}tooltipAnnotation!=annotation&&(tooltipAnnotation=annotation.text.join("<br/>"),tooltip.style.display="block",tooltip.innerHTML=tooltipAnnotation,editor.on("mousewheel",hideTooltip),moveTooltip(mouseEvent))}function hideTooltip(){tooltipTimeout&&(tooltipTimeout=clearTimeout(tooltipTimeout)),tooltipAnnotation&&(tooltip.style.display="none",tooltipAnnotation=null,editor.removeEventListener("mousewheel",hideTooltip))}function moveTooltip(e){var rect=editor.renderer.$gutter.getBoundingClientRect();if(tooltip.style.left=e.x+15+"px",e.y+3*editor.renderer.lineHeight+15<rect.bottom)tooltip.style.bottom="",tooltip.style.top=e.y+15+"px";else{tooltip.style.top="";var innerHeight=window.innerHeight||document.documentElement.clientHeight;tooltip.style.bottom=innerHeight-e.y+5+"px"}}var editor=mouseHandler.editor,gutter=editor.renderer.$gutterLayer;mouseHandler.editor.setDefaultHandler("guttermousedown",function(e){if(editor.isFocused()&&0==e.getButton()){if("foldWidgets"!=gutter.getRegion(e)){var row=e.getDocumentPosition().row,selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(2==e.domEvent.detail)return editor.selectAll(),e.preventDefault();mouseHandler.$clickSelection=editor.selection.getLineRange(row)}return mouseHandler.setState("selectByLines"),mouseHandler.captureMouse(e),e.preventDefault()}}});var tooltipTimeout,mouseEvent,tooltip,tooltipAnnotation;mouseHandler.editor.setDefaultHandler("guttermousemove",function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();tooltipAnnotation&&moveTooltip(e),mouseEvent=e,tooltipTimeout||(tooltipTimeout=setTimeout(function(){tooltipTimeout=null,mouseEvent&&!mouseHandler.isMousePressed?showTooltip():hideTooltip()},50))}),event.addListener(editor.renderer.$gutter,"mouseout",function(e){mouseEvent=null,tooltipAnnotation&&!tooltipTimeout&&(tooltipTimeout=setTimeout(function(){tooltipTimeout=null,hideTooltip()},50))}),editor.on("changeSession",hideTooltip)}var dom=require("../lib/dom"),event=require("../lib/event");exports.GutterHandler=GutterHandler}),consoleAce.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(require,exports,module){var event=require("../lib/event"),useragent=require("../lib/useragent"),MouseEvent=exports.MouseEvent=function(domEvent,editor){this.domEvent=domEvent,this.editor=editor,this.x=this.clientX=domEvent.clientX,this.y=this.clientY=domEvent.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){event.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){event.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var editor=this.editor,selectionRange=editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=!1;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection},this.getButton=function(){return event.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=useragent.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(MouseEvent.prototype)}),consoleAce.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(require,exports,module){function DragdropHandler(mouseHandler){function scrollCursorIntoView(cursor,prevCursor){var now=Date.now(),vMovement=!prevCursor||cursor.row!=prevCursor.row,hMovement=!prevCursor||cursor.column!=prevCursor.column;if(!cursorMovedTime||vMovement||hMovement)editor.$blockScrolling+=1,editor.moveCursorToPosition(cursor),editor.$blockScrolling-=1,cursorMovedTime=now,cursorPointOnCaretMoved={x:x,y:y};else{calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y)>SCROLL_CURSOR_HYSTERESIS?cursorMovedTime=null:now-cursorMovedTime>=SCROLL_CURSOR_DELAY&&(editor.renderer.scrollCursorIntoView(),cursorMovedTime=null)}}function autoScroll(cursor,prevCursor){var now=Date.now(),lineHeight=editor.renderer.layerConfig.lineHeight,characterWidth=editor.renderer.layerConfig.characterWidth,editorRect=editor.renderer.scroller.getBoundingClientRect(),offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}},nearestXOffset=Math.min(offsets.x.left,offsets.x.right),nearestYOffset=Math.min(offsets.y.top,offsets.y.bottom),scrollCursor={row:cursor.row,column:cursor.column};nearestXOffset/characterWidth<=2&&(scrollCursor.column+=offsets.x.left<offsets.x.right?-3:2),nearestYOffset/lineHeight<=1&&(scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:1);var vScroll=cursor.row!=scrollCursor.row,hScroll=cursor.column!=scrollCursor.column,vMovement=!prevCursor||cursor.row!=prevCursor.row;vScroll||hScroll&&!vMovement?autoScrollStartTime?now-autoScrollStartTime>=AUTOSCROLL_DELAY&&editor.renderer.scrollCursorIntoView(scrollCursor):autoScrollStartTime=now:autoScrollStartTime=null}function onDragInterval(){var prevCursor=dragCursor;dragCursor=editor.renderer.screenToTextCoordinates(x,y),scrollCursorIntoView(dragCursor,prevCursor),autoScroll(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange(),dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle()),editor.clearSelection(),editor.isFocused()&&editor.renderer.$cursorLayer.setBlinking(!1),clearInterval(timerId),timerId=setInterval(onDragInterval,20),counter=0,event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId),editor.session.removeMarker(dragSelectionMarker),dragSelectionMarker=null,editor.$blockScrolling+=1,editor.selection.fromOrientedRange(range),editor.$blockScrolling-=1,editor.isFocused()&&!isInternal&&editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly()),range=null,counter=0,autoScrollStartTime=null,cursorMovedTime=null,event.removeListener(document,"mousemove",onMouseMove)}function onMouseMove(){null==onMouseMoveTimer&&(onMouseMoveTimer=setTimeout(function(){null!=onMouseMoveTimer&&dragSelectionMarker&&clearDragMarker()},20))}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,function(type){return"text/plain"==type||"Text"==type})}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"],moveAllowed=["move","copymove","linkmove","all","uninitialized"],copyModifierState=useragent.isMac?e.altKey:e.ctrlKey,effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var dropEffect="none";return copyModifierState&&copyAllowed.indexOf(effectAllowed)>=0?dropEffect="copy":moveAllowed.indexOf(effectAllowed)>=0?dropEffect="move":copyAllowed.indexOf(effectAllowed)>=0&&(dropEffect="copy"),dropEffect}var editor=mouseHandler.editor,blankImage=dom.createElement("img");blankImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",useragent.isOpera&&(blankImage.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(x){mouseHandler[x]=this[x]},this),editor.addEventListener("mousedown",this.onMouseDown.bind(mouseHandler));var dragSelectionMarker,x,y,timerId,range,dragCursor,dragOperation,isInternal,autoScrollStartTime,cursorMovedTime,cursorPointOnCaretMoved,mouseTarget=editor.container,counter=0;this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;return setTimeout(function(){self.startSelect(),self.captureMouse(e)},0),e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove",useragent.isOpera&&(editor.container.appendChild(blankImage),blankImage._top=blankImage.offsetTop),dataTransfer.setDragImage&&dataTransfer.setDragImage(blankImage,0,0),useragent.isOpera&&editor.container.removeChild(blankImage),dataTransfer.clearData(),dataTransfer.setData("Text",editor.session.getTextRange()),isInternal=!0,this.setState("drag")},this.onDragEnd=function(e){if(mouseTarget.draggable=!1,isInternal=!1,this.setState(null),!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;dragOperation||"move"!=dropEffect||editor.session.remove(editor.getSelectionRange()),editor.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging")},this.onDragEnter=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return dragSelectionMarker||addDragMarker(),counter++,e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragOver=function(e){if(!editor.getReadOnly()&&canAccept(e.dataTransfer))return dragSelectionMarker||(addDragMarker(),counter++),null!==onMouseMoveTimer&&(onMouseMoveTimer=null),x=e.clientX,y=e.clientY,e.dataTransfer.dropEffect=dragOperation=getDropEffect(e),event.preventDefault(e)},this.onDragLeave=function(e){if(--counter<=0&&dragSelectionMarker)return clearDragMarker(),dragOperation=null,event.preventDefault(e)},this.onDrop=function(e){if(dragSelectionMarker){var dataTransfer=e.dataTransfer;if(isInternal)switch(dragOperation){case"move":range=range.contains(dragCursor.row,dragCursor.column)?{start:dragCursor,end:dragCursor}:editor.moveText(range,dragCursor);break;case"copy":range=editor.moveText(range,dragCursor,!0)}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)},editor.focus(),dragOperation=null}return clearDragMarker(),event.preventDefault(e)}},event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler)),event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler)),event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler)),event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler)),event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler)),event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler));var onMouseMoveTimer=null}function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}var dom=require("../lib/dom"),event=require("../lib/event"),useragent=require("../lib/useragent"),AUTOSCROLL_DELAY=200,SCROLL_CURSOR_DELAY=200,SCROLL_CURSOR_HYSTERESIS=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1,this.editor.container.draggable=!0,this.editor.renderer.$cursorLayer.setBlinking(!1),this.editor.setStyle("ace_dragging"),this.setState("dragReady")},this.onMouseDrag=function(e){var target=this.editor.container;if(useragent.isIE&&"dragReady"==this.state){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);distance>3&&target.dragDrop()}if("dragWait"===this.state){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);distance>0&&(target.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var editor=this.editor,inSelection=e.inSelection(),button=e.getButton();if(1===(e.domEvent.detail||1)&&0===button&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget&&(eventTarget.unselectable="on"),editor.getDragDelay()){if(useragent.isWebKit){this.cancelDrag=!0;editor.container.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(DragdropHandler.prototype),exports.DragdropHandler=DragdropHandler}),consoleAce.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(require,exports,module){"no use strict";function deHyphenate(str){return str.replace(/-(.)/g,function(m,m1){return m1.toUpperCase()})}var lang=require("./lib/lang"),oop=require("./lib/oop"),net=require("./lib/net"),EventEmitter=require("./lib/event_emitter").EventEmitter,global=function(){return this}(),options={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]},exports.set=function(key,value){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);options[key]=value},exports.all=function(){return lang.copyObject(options)},oop.implement(exports,EventEmitter),exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/");component=component||parts[parts.length-2]||"";var sep="snippets"==component?"/":"-",base=parts[parts.length-1];if("-"==sep){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}(!base||base==component)&&parts.length>1&&(base=parts[parts.length-2]);var path=options[component+"Path"];return null==path?path=options.basePath:"/"==sep&&(component=sep=""),path&&"/"!=path.slice(-1)&&(path+="/"),path+component+sep+base+this.get("suffix")},exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst},exports.$loading={},exports.loadModule=function(moduleName,onLoad){var module,moduleType;Array.isArray(moduleName)&&(moduleType=moduleName[0],moduleName=moduleName[1]);try{module=require(moduleName)}catch(e){}if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(exports.$loading[moduleName]||(exports.$loading[moduleName]=[]),exports.$loading[moduleName].push(onLoad),!(exports.$loading[moduleName].length>1)){var afterLoad=function(){require([moduleName],function(module){exports._emit("load.module",{name:moduleName,module:module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null,listeners.forEach(function(onLoad){onLoad&&onLoad(module)})})};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad)}},exports.init=function(){if(options.packaged=require.packaged||module.packaged||global.define&&define.packaged,!global.document)return"";for(var scriptOptions={},scriptUrl="",scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++){var script=scripts[i],src=script.src||script.getAttribute("src");if(src){for(var attributes=script.attributes,j=0,l=attributes.length;j<l;j++){var attr=attributes[j];0===attr.name.indexOf("data-ace-")&&(scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/,""))]=attr.value)}var m=src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);m&&(scriptUrl=m[1])}}scriptUrl&&(scriptOptions.base=scriptOptions.base||scriptUrl,scriptOptions.packaged=!0),scriptOptions.basePath=scriptOptions.base,scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base,scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base,scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base,delete scriptOptions.base;for(var key in scriptOptions)void 0!==scriptOptions[key]&&exports.set(key,scriptOptions[key])};var optionsProvider={setOptions:function(optList){Object.keys(optList).forEach(function(key){this.setOption(key,optList[key])},this)},getOptions:function(optionNames){var result={};return optionNames?Array.isArray(optionNames)||(result=optionNames,optionNames=Object.keys(result)):optionNames=Object.keys(this.$options),optionNames.forEach(function(key){result[key]=this.getOption(key)},this),result},setOption:function(name,value){if(this["$"+name]!==value){var opt=this.$options[name];if(!opt)return void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+name+'"'));if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);opt.handlesSet||(this["$"+name]=value),opt&&opt.set&&opt.set.call(this,value)}},getOption:function(name){var opt=this.$options[name];return opt?opt.forwardTo?this[opt.forwardTo]&&this[opt.forwardTo].getOption(name):opt&&opt.get?opt.get.call(this):this["$"+name]:void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+name+'"'))}},defaultOptions={};exports.defineOptions=function(obj,path,options){return obj.$options||(defaultOptions[path]=obj.$options={}),Object.keys(options).forEach(function(key){var opt=options[key];"string"==typeof opt&&(opt={forwardTo:opt}),opt.name||(opt.name=key),obj.$options[opt.name]=opt,"initialValue"in opt&&(obj["$"+opt.name]=opt.initialValue)}),oop.implement(obj,optionsProvider),this},exports.resetOptions=function(obj){Object.keys(obj.$options).forEach(function(key){var opt=obj.$options[key];"value"in opt&&obj.setOption(key,opt.value)})},exports.setDefaultValue=function(path,name,value){var opts=defaultOptions[path]||(defaultOptions[path]={});opts[name]&&(opts.forwardTo?exports.setDefaultValue(opts.forwardTo,name,value):opts[name].value=value)},exports.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach(function(key){exports.setDefaultValue(path,key,optionHash[key])})}}),consoleAce.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(require,exports,module){var dom=require("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.onreadystatechange=function(){4===xhr.readyState&&callback(xhr.responseText)},xhr.send(null)},exports.loadScript=function(path,callback){var head=dom.getDocumentHead(),s=document.createElement("script");s.src=path,head.appendChild(s),s.onload=s.onreadystatechange=function(_,isAbort){!isAbort&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,isAbort||callback())}}}),consoleAce.define("ace/lib/event_emitter",["require","exports","module"],function(require,exports,module){var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;i<listeners.length&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback){handlers[eventName];disabled&&this.setDefaultHandler(eventName,disabled.pop())}else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),consoleAce.define("ace/mouse/fold_handler",["require","exports","module"],function(require,exports,module){function FoldHandler(editor){editor.on("click",function(e){var position=e.getDocumentPosition(),session=editor.session,fold=session.getFoldAt(position.row,position.column,1);fold&&(e.getAccelKey()?session.removeFold(fold):session.expandFold(fold),e.stop())}),editor.on("gutterclick",function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session;session.foldWidgets&&session.foldWidgets[row]&&editor.session.onFoldWidgetClick(row,e),editor.isFocused()||editor.focus(),e.stop()}}),editor.on("gutterdblclick",function(e){if("foldWidgets"==editor.renderer.$gutterLayer.getRegion(e)){var row=e.getDocumentPosition().row,session=editor.session,data=session.getParentFoldRangeData(row,!0),range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);fold?session.removeFold(fold):(session.addFold("...",range),editor.renderer.scrollCursorIntoView({row:range.start.row,column:0}))}e.stop()}})}exports.FoldHandler=FoldHandler}),consoleAce.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(require,exports,module){var keyUtil=require("../lib/keys"),event=require("../lib/event"),KeyBinding=function(editor){this.$editor=editor,this.$data={},this.$handlers=[],this.setDefaultHandler(editor.commands)};(function(){this.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=kb,this.addKeyboardHandler(kb,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]!=kb){for(;h[h.length-1]&&h[h.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)}},this.addKeyboardHandler=function(kb,pos){if(kb){var i=this.$handlers.indexOf(kb);-1!=i&&this.$handlers.splice(i,1),void 0==pos?this.$handlers.push(kb):this.$handlers.splice(pos,0,kb),-1==i&&kb.attach&&kb.attach(this.$editor)}},this.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);return-1!=i&&(this.$handlers.splice(i,1),kb.detach&&kb.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){for(var toExecute,success=!1,commands=this.$editor.commands,i=this.$handlers.length;i--&&!((toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e))&&toExecute.command&&(success="null"==toExecute.command||commands.exec(toExecute.command,this.$editor,toExecute.args,e),success&&e&&-1!=hashId&&1!=toExecute.passEvent&&1!=toExecute.command.passEvent&&event.stopEvent(e),success)););return success},this.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);this.$callKeyboardHandlers(hashId,keyString,keyCode,e)},this.onTextInput=function(text){this.$callKeyboardHandlers(-1,text)||this.$editor.commands.exec("insertstring",this.$editor,text)}}).call(KeyBinding.prototype),exports.KeyBinding=KeyBinding}),consoleAce.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(require,exports,module){var oop=require("./lib/oop"),lang=require("./lib/lang"),config=require("./config"),EventEmitter=require("./lib/event_emitter").EventEmitter,Selection=require("./selection").Selection,TextMode=require("./mode/text").Mode,Range=require("./range").Range,Document=require("./document").Document,BackgroundTokenizer=require("./background_tokenizer").BackgroundTokenizer,SearchHighlight=require("./search_highlight").SearchHighlight,EditSession=function(text,mode){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof text&&text.getLine||(text=new Document(text)),this.setDocument(text),this.selection=new Selection(this),config.resetOptions(this),this.setMode(mode),config._emit("session",this)};(function(){function isFullWidth(c){return!(c<4352)&&(c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510)}oop.implement(this,EventEmitter),this.setDocument=function(doc){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=doc,doc.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(docRow){if(!docRow)return this.$docRowCache=[],void(this.$screenRowCache=[]);var l=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;l>i&&(this.$docRowCache.splice(i,l),this.$screenRowCache.splice(i,l))},this.$getRowCacheIndex=function(cacheArray,val){for(var low=0,hi=cacheArray.length-1;low<=hi;){var mid=low+hi>>1,c=cacheArray[mid];if(val>c)low=mid+1;else{if(!(val<c))return mid;hi=mid-1}}return low-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)},this.onChange=function(e){var delta=e.data;this.$modified=!0,this.$resetRowCache(delta.range.start.row);var removedFolds=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||delta.ignore||(this.$deltasDoc.push(delta),removedFolds&&0!=removedFolds.length&&this.$deltasFold.push({action:"removeFolds",folds:removedFolds}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(delta),this._emit("change",e)},this.setValue=function(text){this.doc.setValue(text),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(row){return this.bgTokenizer.getState(row)},this.getTokens=function(row){return this.bgTokenizer.getTokens(row)},this.getTokenAt=function(row,column){var token,tokens=this.bgTokenizer.getTokens(row),c=0;if(null==column)i=tokens.length-1,c=this.getLine(row).length;else for(var i=0;i<tokens.length&&!((c+=tokens[i].value.length)>=column);i++);return(token=tokens[i])?(token.index=i,token.start=c-token.value.length,token):null},this.setUndoManager=function(undoManager){if(this.$undoManager=undoManager,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),undoManager){var self=this;this.$syncInformUndoManager=function(){self.$informUndoManager.cancel(),self.$deltasFold.length&&(self.$deltas.push({group:"fold",deltas:self.$deltasFold}),self.$deltasFold=[]),self.$deltasDoc.length&&(self.$deltas.push({group:"doc",deltas:self.$deltasDoc}),self.$deltasDoc=[]),self.$deltas.length>0&&undoManager.execute({action:"aceupdate",args:[self.$deltas,self],merge:self.mergeUndoDeltas}),self.mergeUndoDeltas=!1,self.$deltas=[]},this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?lang.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(position){return this.$useSoftTabs&&position.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(row,className){this.$decorations[row]||(this.$decorations[row]=""),this.$decorations[row]+=" "+className,this._emit("changeBreakpoint",{})},this.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,""),this._emit("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++)this.$breakpoints[rows[i]]="ace_breakpoint";this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(row,className){void 0===className&&(className="ace_breakpoint"),className?this.$breakpoints[row]=className:delete this.$breakpoints[row],this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(row){delete this.$breakpoints[row],this._emit("changeBreakpoint",{})},this.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++,marker={range:range,type:type||"line",renderer:"function"==typeof type?type:null,clazz:clazz,inFront:!!inFront,id:id};return inFront?(this.$frontMarkers[id]=marker,this._emit("changeFrontMarker")):(this.$backMarkers[id]=marker,this._emit("changeBackMarker")),id},this.addDynamicMarker=function(marker,inFront){if(marker.update){var id=this.$markerId++;return marker.id=id,marker.inFront=!!inFront,inFront?(this.$frontMarkers[id]=marker,this._emit("changeFrontMarker")):(this.$backMarkers[id]=marker,this._emit("changeBackMarker")),marker}},this.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];if(marker){var markers=marker.inFront?this.$frontMarkers:this.$backMarkers;marker&&(delete markers[markerId],this._emit(marker.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers},this.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)},this.highlightLines=function(startRow,endRow,clazz,inFront){"number"!=typeof endRow&&(clazz=endRow,endRow=startRow),clazz||(clazz="ace_step");var range=new Range(startRow,0,endRow,1/0);return range.id=this.addMarker(range,clazz,"fullLine",inFront),range},this.setAnnotations=function(annotations){this.$annotations=annotations,this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);this.$autoNewLine=match?match[1]:"\n"},this.getWordRange=function(row,column){var line=this.getLine(row),inToken=!1;if(column>0&&(inToken=!!line.charAt(column-1).match(this.tokenRe)),inToken||(inToken=!!line.charAt(column).match(this.tokenRe)),inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))var re=/\s/;else var re=this.nonTokenRe;var start=column;if(start>0){do{start--}while(start>=0&&line.charAt(start).match(re));start++}for(var end=column;end<line.length&&line.charAt(end).match(re);)end++;return new Range(row,start,row,end)},this.getAWordRange=function(row,column){for(var wordRange=this.getWordRange(row,column),line=this.getLine(wordRange.end.row);line.charAt(wordRange.end.column).match(/[ \t]/);)wordRange.end.column+=1;return wordRange},this.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first),this._emit("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(mode,cb){if(mode&&"object"==typeof mode){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode,path=options.path}else path=mode||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new TextMode),this.$modes[path]&&!options)return this.$onChangeMode(this.$modes[path]),void(cb&&cb());this.$modeId=path,config.loadModule(["mode",path],function(m){return this.$modeId!==path?cb&&cb():this.$modes[path]&&!options?this.$onChangeMode(this.$modes[path]):void(m&&m.Mode&&(m=new m.Mode(options),options||(this.$modes[path]=m,m.$id=path),this.$onChangeMode(m),cb&&cb()))}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(mode,$isPlaceholder){if($isPlaceholder||(this.$modeId=mode.$id),this.$mode!==mode){this.$mode=mode,this.$stopWorker(),this.$useWorker&&this.$startWorker();var tokenizer=mode.getTokenizer();if(void 0!==tokenizer.addEventListener){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.addEventListener("update",onReloadTokenizer)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(tokenizer);else{this.bgTokenizer=new BackgroundTokenizer(tokenizer);var _self=this;this.bgTokenizer.addEventListener("update",function(e){_self._emit("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=mode.tokenRe,this.nonTokenRe=mode.nonTokenRe,$isPlaceholder||(this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(mode.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if("undefined"==typeof Worker||require.noWorker)this.$worker=null;else try{this.$worker=this.$mode.createWorker(this)}catch(e){console.log("Could not load worker"),console.log(e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(scrollTop){this.$scrollTop===scrollTop||isNaN(scrollTop)||(this.$scrollTop=scrollTop,this._signal("changeScrollTop",scrollTop))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(scrollLeft){this.$scrollLeft===scrollLeft||isNaN(scrollLeft)||(this.$scrollLeft=scrollLeft,this._signal("changeScrollLeft",scrollLeft))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var width=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>width&&(width=w.screenWidth)}),this.lineWidgetWidth=width},this.$computeWidth=function(force){if(this.$modified||force){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var lines=this.doc.getAllLines(),cache=this.$rowLengthCache,longestScreenLine=0,foldIndex=0,foldLine=this.$foldData[foldIndex],foldStart=foldLine?foldLine.start.row:1/0,len=lines.length,i=0;i<len;i++){if(i>foldStart){if((i=foldLine.end.row+1)>=len)break;foldLine=this.$foldData[foldIndex++],foldStart=foldLine?foldLine.start.row:1/0}null==cache[i]&&(cache[i]=this.$getStringScreenWidth(lines[i])[0]),cache[i]>longestScreenLine&&(longestScreenLine=cache[i])}this.screenWidth=longestScreenLine}},this.getLine=function(row){return this.doc.getLine(row)},this.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())},this.insert=function(position,text){return this.doc.insert(position,text)},this.remove=function(range){return this.doc.remove(range)},this.undoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=deltas.length-1;-1!=i;i--){var delta=deltas[i];"doc"==delta.group?(this.doc.revertDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!0,lastUndoRange)):delta.deltas.forEach(function(foldDelta){this.addFolds(foldDelta.folds)},this)}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.redoChanges=function(deltas,dontSelect){if(deltas.length){this.$fromUndo=!0;for(var lastUndoRange=null,i=0;i<deltas.length;i++){var delta=deltas[i];"doc"==delta.group&&(this.doc.applyDeltas(delta.deltas),lastUndoRange=this.$getUndoSelection(delta.deltas,!1,lastUndoRange))}return this.$fromUndo=!1,lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange),lastUndoRange}},this.setUndoSelect=function(enable){this.$undoSelect=enable},this.$getUndoSelection=function(deltas,isUndo,lastUndoRange){function isInsert(delta){var insert="insertText"===delta.action||"insertLines"===delta.action;return isUndo?!insert:insert}var range,point,delta=deltas[0];isInsert(delta)?range=Range.fromPoints(delta.range.start,delta.range.end):range=Range.fromPoints(delta.range.start,delta.range.start);for(var i=1;i<deltas.length;i++)delta=deltas[i],isInsert(delta)?(point=delta.range.start,-1==range.compare(point.row,point.column)&&range.setStart(delta.range.start),point=delta.range.end,1==range.compare(point.row,point.column)&&range.setEnd(delta.range.end),!0):(point=delta.range.start,-1==range.compare(point.row,point.column)&&(range=Range.fromPoints(delta.range.start,delta.range.start)),!1);if(null!=lastUndoRange){0==Range.comparePoints(lastUndoRange.start,range.start)&&(lastUndoRange.start.column+=range.end.column-range.start.column,lastUndoRange.end.column+=range.end.column-range.start.column);var cmp=lastUndoRange.compareRange(range);1==cmp?range.setStart(lastUndoRange.start):-1==cmp&&range.setEnd(lastUndoRange.end)}return range},this.replace=function(range,text){return this.doc.replace(range,text)},this.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange),folds=this.getFoldsInRange(fromRange),toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row,collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column;collDiff&&(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column&&(toRange.start.column+=collDiff),toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column&&(toRange.end.column+=collDiff)),rowDiff&&toRange.start.row>=fromRange.end.row&&(toRange.start.row+=rowDiff,toRange.end.row+=rowDiff)}if(toRange.end=this.insert(toRange.start,text),folds.length){var oldStart=fromRange.start,newStart=toRange.start,rowDiff=newStart.row-oldStart.row,collDiff=newStart.column-oldStart.column;this.addFolds(folds.map(function(x){return x=x.clone(),x.start.row==oldStart.row&&(x.start.column+=collDiff),x.end.row==oldStart.row&&(x.end.column+=collDiff),x.start.row+=rowDiff,x.end.row+=rowDiff,x}))}return toRange},this.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.insert({row:row,column:0},indentString)},this.outdentRows=function(range){for(var rowRange=range.collapseRows(),deleteRange=new Range(0,0,0,0),size=this.getTabSize(),i=rowRange.start.row;i<=rowRange.end.row;++i){var line=this.getLine(i);deleteRange.start.row=i,deleteRange.end.row=i;for(var j=0;j<size&&" "==line.charAt(j);++j);j<size&&"\t"==line.charAt(j)?(deleteRange.start.column=j,deleteRange.end.column=j+1):(deleteRange.start.column=0,deleteRange.end.column=j),this.remove(deleteRange)}},this.$moveLines=function(firstRow,lastRow,dir){if(firstRow=this.getRowFoldStart(firstRow),lastRow=this.getRowFoldEnd(lastRow),dir<0){var row=this.getRowFoldStart(firstRow+dir);if(row<0)return 0;var diff=row-firstRow}else if(dir>0){var row=this.getRowFoldEnd(lastRow+dir);if(row>this.doc.getLength()-1)return 0;var diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow),lastRow=this.$clipRowToDocument(lastRow);var diff=lastRow-firstRow+1}var range=new Range(firstRow,0,lastRow,Number.MAX_VALUE),folds=this.getFoldsInRange(range).map(function(x){return x=x.clone(),x.start.row+=diff,x.end.row+=diff,x}),lines=0==dir?this.doc.getLines(firstRow,lastRow):this.doc.removeLines(firstRow,lastRow);return this.doc.insertLines(firstRow+diff,lines),folds.length&&this.addFolds(folds),diff},this.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)},this.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)},this.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)},this.$clipRowToDocument=function(row){return Math.max(0,Math.min(row,this.doc.getLength()-1))},this.$clipColumnToRow=function(row,column){return column<0?0:Math.min(this.doc.getLine(row).length,column)},this.$clipPositionToDocument=function(row,column){if(column=Math.max(0,column),row<0)row=0,column=0;else{var len=this.doc.getLength();row>=len?(row=len-1,column=this.doc.getLine(len-1).length):column=Math.min(this.doc.getLine(row).length,column)}return{row:row,column:column}},this.$clipRangeToDocument=function(range){range.start.row<0?(range.start.row=0,range.start.column=0):range.start.column=this.$clipColumnToRow(range.start.row,range.start.column);var len=this.doc.getLength()-1;return range.end.row>len?(range.end.row=len,range.end.column=this.doc.getLine(len).length):range.end.column=this.$clipColumnToRow(range.end.row,range.end.column),range},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){if(this.$useWrapMode=useWrapMode,this.$modified=!0,this.$resetRowCache(0),useWrapMode){var len=this.getLength();this.$wrapData=[];for(var i=0;i<len;i++)this.$wrapData.push([]);this.$updateWrapData(0,len-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(min,max){this.$wrapLimitRange.min===min&&this.$wrapLimitRange.max===max||(this.$wrapLimitRange={min:min,max:max},this.$modified=!0,this._emit("changeWrapMode"))},this.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;limits.max<0&&(limits={min:$printMargin,max:$printMargin});var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);return wrapLimit!=this.$wrapLimit&&wrapLimit>1&&(this.$wrapLimit=wrapLimit,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(wrapLimit,min,max){return min&&(wrapLimit=Math.max(min,wrapLimit)),max&&(wrapLimit=Math.min(max,wrapLimit)),wrapLimit},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var len,useWrapMode=this.$useWrapMode,action=e.data.action,firstRow=e.data.range.start.row,lastRow=e.data.range.end.row,start=e.data.range.start,end=e.data.range.end,removedFolds=null;if(-1!=action.indexOf("Lines")?(lastRow="insertLines"==action?firstRow+e.data.lines.length:firstRow,len=e.data.lines?e.data.lines.length:lastRow-firstRow):len=lastRow-firstRow,this.$updating=!0,0!=len)if(-1!=action.indexOf("remove")){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(e.data.range),this.removeFolds(removedFolds);var foldLine=this.getFoldLine(end.row),idx=0;if(foldLine){foldLine.addRemoveChars(end.row,end.column,start.column-end.column),foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);foldLineBefore&&foldLineBefore!==foldLine&&(foldLineBefore.merge(foldLine),foldLine=foldLineBefore),idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];foldLine.start.row>=end.row&&foldLine.shiftRow(-len)}lastRow=firstRow}else{var args;if(useWrapMode){args=[firstRow,0];for(var i=0;i<len;i++)args.push([]);this.$wrapData.splice.apply(this.$wrapData,args)}else args=Array(len),args.unshift(firstRow,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,args);var foldLines=this.$foldData,foldLine=this.getFoldLine(firstRow),idx=0;if(foldLine){var cmp=foldLine.range.compareInside(start.row,start.column);0==cmp?(foldLine=foldLine.split(start.row,start.column),foldLine.shiftRow(len),foldLine.addRemoveChars(lastRow,0,end.column-start.column)):-1==cmp&&(foldLine.addRemoveChars(firstRow,0,end.column-start.column),foldLine.shiftRow(len)),idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];foldLine.start.row>=firstRow&&foldLine.shiftRow(len)}}else{len=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=action.indexOf("remove")&&(removedFolds=this.getFoldsInRange(e.data.range),this.removeFolds(removedFolds),len=-len);var foldLine=this.getFoldLine(firstRow);foldLine&&foldLine.addRemoveChars(firstRow,start.column,len)}return useWrapMode&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,useWrapMode?this.$updateWrapData(firstRow,lastRow):this.$updateRowLengthCache(firstRow,lastRow),removedFolds},this.$updateRowLengthCache=function(firstRow,lastRow,b){this.$rowLengthCache[firstRow]=null,this.$rowLengthCache[lastRow]=null},this.$updateWrapData=function(firstRow,lastRow){var tokens,foldLine,lines=this.doc.getAllLines(),tabSize=this.getTabSize(),wrapData=this.$wrapData,wrapLimit=this.$wrapLimit,row=firstRow;for(lastRow=Math.min(lastRow,lines.length-1);row<=lastRow;)foldLine=this.getFoldLine(row,foldLine),foldLine?(tokens=[],foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(null!=placeholder){walkTokens=this.$getDisplayTokens(placeholder,tokens.length),walkTokens[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++)walkTokens[i]=PLACEHOLDER_BODY}else walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length);tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1),wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row=foldLine.end.row+1):(tokens=this.$getDisplayTokens(lines[row]),wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize),row++)};var PLACEHOLDER_START=3,PLACEHOLDER_BODY=4;this.$computeWrapSplits=function(tokens,wrapLimit){function addSplit(screenPos){var displayed=tokens.slice(lastSplit,screenPos),len=displayed.length;displayed.join("").replace(/12/g,function(){len-=1}).replace(/2/g,function(){len-=1}),lastDocSplit+=len,splits.push(lastDocSplit),lastSplit=screenPos}if(0==tokens.length)return[];for(var splits=[],displayLength=tokens.length,lastSplit=0,lastDocSplit=0,isCode=this.$wrapAsCode;displayLength-lastSplit>wrapLimit;){var split=lastSplit+wrapLimit;if(tokens[split-1]>=10&&tokens[split]>=10)addSplit(split);else if(tokens[split]!=PLACEHOLDER_START&&tokens[split]!=PLACEHOLDER_BODY){for(var minSplit=Math.max(split-(isCode?10:wrapLimit-(wrapLimit>>2)),lastSplit-1);split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;if(isCode){for(;split>minSplit&&tokens[split]<PLACEHOLDER_START;)split--;for(;split>minSplit&&9==tokens[split];)split--}else for(;split>minSplit&&tokens[split]<10;)split--;split>minSplit?addSplit(++split):(split=lastSplit+wrapLimit,addSplit(split))}else{for(split;split!=lastSplit-1&&tokens[split]!=PLACEHOLDER_START;split--);if(split>lastSplit){addSplit(split);continue}for(split=lastSplit+wrapLimit;split<tokens.length&&tokens[split]==PLACEHOLDER_BODY;split++);if(split==tokens.length)break;addSplit(split)}}return splits},this.$getDisplayTokens=function(str,offset){var tabSize,arr=[];offset=offset||0;for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(9==c){tabSize=this.getScreenTabSize(arr.length+offset),arr.push(11);for(var n=1;n<tabSize;n++)arr.push(12)}else 32==c?arr.push(10):c>39&&c<48||c>57&&c<64?arr.push(9):c>=4352&&isFullWidth(c)?arr.push(1,2):arr.push(1)}return arr},this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(0==maxScreenColumn)return[0,0];null==maxScreenColumn&&(maxScreenColumn=1/0),screenColumn=screenColumn||0;var c,column;for(column=0;column<str.length&&(c=str.charCodeAt(column),9==c?screenColumn+=this.getScreenTabSize(screenColumn):c>=4352&&isFullWidth(c)?screenColumn+=2:screenColumn+=1,!(screenColumn>maxScreenColumn));column++);return[screenColumn,column]},this.lineWidgets=null,this.getRowLength=function(row){if(this.lineWidgets)var h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.getRowLineCount=function(row){return this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1:1},this.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)},this.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)},this.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,Number.MAX_VALUE/10)},this.getRowSplitData=function(row){return this.$useWrapMode?this.$wrapData[row]:void 0},this.getScreenTabSize=function(screenColumn){return this.$tabSize-screenColumn%this.$tabSize},this.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row},this.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column},this.screenToDocumentPosition=function(screenRow,screenColumn){if(screenRow<0)return{row:0,column:0};var line,column,docRow=0,docColumn=0,row=0,rowLength=0,rowCache=this.$screenRowCache,i=this.$getRowCacheIndex(rowCache,screenRow),l=rowCache.length;if(l&&i>=0)var row=rowCache[i],docRow=this.$docRowCache[i],doCache=screenRow>rowCache[l-1];else var doCache=!l;for(var maxRow=this.getLength()-1,foldLine=this.getNextFoldLine(docRow),foldStart=foldLine?foldLine.start.row:1/0;row<=screenRow&&(rowLength=this.getRowLength(docRow),!(row+rowLength>screenRow||docRow>=maxRow));)row+=rowLength,++docRow>foldStart&&(docRow=foldLine.end.row+1,foldLine=this.getNextFoldLine(docRow,foldLine),foldStart=foldLine?foldLine.start.row:1/0),doCache&&(this.$docRowCache.push(docRow),this.$screenRowCache.push(row));if(foldLine&&foldLine.start.row<=docRow)line=this.getFoldDisplayLine(foldLine),docRow=foldLine.start.row;else{if(row+rowLength<=screenRow||docRow>maxRow)return{row:maxRow,column:this.getLine(maxRow).length};line=this.getLine(docRow),foldLine=null}if(this.$useWrapMode){var splits=this.$wrapData[docRow];if(splits){var splitIndex=Math.floor(screenRow-row);column=splits[splitIndex],splitIndex>0&&splits.length&&(docColumn=splits[splitIndex-1]||splits[splits.length-1],line=line.substring(docColumn))}}return docColumn+=this.$getStringScreenWidth(line,screenColumn)[1],this.$useWrapMode&&docColumn>=column&&(docColumn=column-1),foldLine?foldLine.idxToPosition(docColumn):{row:docRow,column:docColumn}},this.documentToScreenPosition=function(docRow,docColumn){if(void 0===docColumn)var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row,docColumn=pos.column;var screenRow=0,foldStartRow=null,fold=null;(fold=this.getFoldAt(docRow,docColumn,1))&&(docRow=fold.start.row,docColumn=fold.start.column);var rowEnd,row=0,rowCache=this.$docRowCache,i=this.$getRowCacheIndex(rowCache,docRow),l=rowCache.length;if(l&&i>=0)var row=rowCache[i],screenRow=this.$screenRowCache[i],doCache=docRow>rowCache[l-1];else var doCache=!l;for(var foldLine=this.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;row<docRow;){if(row>=foldStart){if((rowEnd=foldLine.end.row+1)>docRow)break;foldLine=this.getNextFoldLine(rowEnd,foldLine),foldStart=foldLine?foldLine.start.row:1/0}else rowEnd=row+1;screenRow+=this.getRowLength(row),row=rowEnd,doCache&&(this.$docRowCache.push(row),this.$screenRowCache.push(screenRow))}var textLine="";if(foldLine&&row>=foldStart?(textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn),foldStartRow=foldLine.start.row):(textLine=this.getLine(docRow).substring(0,docColumn),foldStartRow=docRow),this.$useWrapMode){for(var wrapRow=this.$wrapData[foldStartRow],screenRowOffset=0;textLine.length>=wrapRow[screenRowOffset];)screenRow++,screenRowOffset++;textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length)}return{row:screenRow,column:this.$getStringScreenWidth(textLine)[0]}},this.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column},this.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row},this.getScreenLength=function(){var screenRows=0,fold=null;if(this.$useWrapMode)for(var lastRow=this.$wrapData.length,row=0,i=0,fold=this.$foldData[i++],foldStart=fold?fold.start.row:1/0;row<lastRow;)screenRows+=this.$wrapData[row].length+1,++row>foldStart&&(row=fold.end.row+1,fold=this.$foldData[i++],foldStart=fold?fold.start.row:1/0);else{screenRows=this.getLength();for(var foldData=this.$foldData,i=0;i<foldData.length;i++)fold=foldData[i],screenRows-=fold.end.row-fold.start.row}return this.lineWidgets&&(screenRows+=this.$getWidgetScreenLength()),screenRows}}).call(EditSession.prototype),require("./edit_session/folding").Folding.call(EditSession.prototype),require("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype),config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(value&&"off"!=value?"free"==value?value=!0:"printMargin"==value?value=-1:"string"==typeof value&&(value=parseInt(value,10)||!1):value=!1,this.$wrap!=value){if(value){var col="number"==typeof value?value:null;this.setWrapLimitRange(col,col),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1);this.$wrap=value}},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(val){(val="auto"==val?"text"!=this.$mode.type:"text"!=val)!=this.$wrapAsCode&&(this.$wrapAsCode=val,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._emit("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker,this.$stopWorker(),useWorker&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(tabSize){isNaN(tabSize)||this.$tabSize===tabSize||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=tabSize,this._emit("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(val){this._emit("changeOverwrite")},initialValue:!1},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId}}}),exports.EditSession=EditSession}),consoleAce.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(require,exports,module){var oop=require("./lib/oop"),lang=require("./lib/lang"),EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Selection=function(session){this.session=session,this.doc=session.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var self=this;this.lead.on("change",function(e){self._emit("changeCursor"),self.$isEmpty||self._emit("changeSelection"),self.$keepDesiredColumnOnChange||e.old.column==e.value.column||(self.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){self.$isEmpty||self._emit("changeSelection")})};(function(){oop.implement(this,EventEmitter),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(row,column){this.anchor.setPosition(row,column),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(columns){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+columns);var anchor=this.getSelectionAnchor(),lead=this.getSelectionLead(),isBackwards=this.isBackwards();isBackwards&&0===anchor.column||this.setSelectionAnchor(anchor.row,anchor.column+columns),(isBackwards||0!==lead.column)&&this.$moveSelection(function(){this.moveCursorTo(lead.row,lead.column+columns)})},this.isBackwards=function(){var anchor=this.anchor,lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column},this.getRange=function(){var anchor=this.anchor,lead=this.lead;return this.isEmpty()?Range.fromPoints(lead,lead):this.isBackwards()?Range.fromPoints(lead,anchor):Range.fromPoints(anchor,lead)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var lastRow=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(lastRow,this.doc.getLine(lastRow).length)},this.setRange=this.setSelectionRange=function(range,reverse){reverse?(this.setSelectionAnchor(range.end.row,range.end.column),this.selectTo(range.start.row,range.start.column)):(this.setSelectionAnchor(range.start.row,range.start.column),this.selectTo(range.end.row,range.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(mover){var lead=this.lead;this.$isEmpty&&this.setSelectionAnchor(lead.row,lead.column),mover.call(this)},this.selectTo=function(row,column){this.$moveSelection(function(){this.moveCursorTo(row,column)})},this.selectToPosition=function(pos){this.$moveSelection(function(){this.moveCursorToPosition(pos)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(row,column){if(void 0===column){var cursor=row||this.lead;row=cursor.row,column=cursor.column}return this.session.getWordRange(row,column)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var cursor=this.getCursor(),range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)},this.getLineRange=function(row,excludeLastChar){var rowEnd,rowStart="number"==typeof row?row:this.lead.row,foldLine=this.session.getFoldLine(rowStart);return foldLine?(rowStart=foldLine.start.row,rowEnd=foldLine.end.row):rowEnd=rowStart,!0===excludeLastChar?new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length):new Range(rowStart,0,rowEnd+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else if(0==cursor.column)cursor.row>0&&this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length);else{var tabSize=this.session.getTabSize();this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(cursor.column-tabSize,cursor.column).split(" ").length-1==tabSize?this.moveCursorBy(0,-tabSize):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var fold,cursor=this.lead.getPosition();if(fold=this.session.getFoldAt(cursor.row,cursor.column,1))this.moveCursorTo(fold.end.row,fold.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var tabSize=this.session.getTabSize(),cursor=this.lead;this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(cursor.column,cursor.column+tabSize).split(" ").length-1==tabSize?this.moveCursorBy(0,tabSize):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var row=this.lead.row,column=this.lead.column,screenRow=this.session.documentToScreenRow(row,column),firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0),beforeCursor=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column),leadingSpace=beforeCursor.match(/^\s*/);leadingSpace[0].length==column||this.session.$useEmacsStyleLineStart||(firstColumnPosition.column+=leadingSpace[0].length),this.moveCursorToPosition(firstColumnPosition)},this.moveCursorLineEnd=function(){var lead=this.lead,lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);textEnd>0&&(lineEnd.column=textEnd)}}this.moveCursorTo(lineEnd.row,lineEnd.column)},this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1,column=this.doc.getLine(row).length;this.moveCursorTo(row,column)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);return fold?void this.moveCursorTo(fold.end.row,fold.end.column):(this.session.nonTokenRe.exec(rightOfCursor)&&(column+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,rightOfCursor=line.substring(column)),column>=line.length?(this.moveCursorTo(row,line.length),this.moveCursorRight(),void(row<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(rightOfCursor)&&(column+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(row,column)))},this.moveCursorLongWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))return void this.moveCursorTo(fold.start.row,fold.start.column);var str=this.session.getFoldStringAt(row,column,-1);null==str&&(str=this.doc.getLine(row).substring(0,column));var leftOfCursor=lang.stringReverse(str);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(leftOfCursor)&&(column-=this.session.nonTokenRe.lastIndex,leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),column<=0)return this.moveCursorTo(row,0),this.moveCursorLeft(),void(row>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(leftOfCursor)&&(column-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(row,column)},this.$shortWordEndIndex=function(rightOfCursor){var ch,index=0,whitespaceRe=/\s/,tokenRe=this.session.tokenRe;if(tokenRe.lastIndex=0,this.session.tokenRe.exec(rightOfCursor))index=this.session.tokenRe.lastIndex;else{for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index<1)for(tokenRe.lastIndex=0;(ch=rightOfCursor[index])&&!tokenRe.test(ch);)if(tokenRe.lastIndex=0,index++,whitespaceRe.test(ch)){if(index>2){index--;break}for(;(ch=rightOfCursor[index])&&whitespaceRe.test(ch);)index++;if(index>2)break}}return tokenRe.lastIndex=0,index},this.moveCursorShortWordRight=function(){var row=this.lead.row,column=this.lead.column,line=this.doc.getLine(row),rightOfCursor=line.substring(column),fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++,rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));/^\s+/.test(rightOfCursor)||(rightOfCursor=""),column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)},this.moveCursorShortWordLeft=function(){var fold,row=this.lead.row,column=this.lead.column;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(0==column){do{row--,line=this.doc.getLine(row)}while(row>0&&/^\s*$/.test(line));column=line.length,/\s+$/.test(line)||(line="")}var leftOfCursor=lang.stringReverse(line),index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(rows,chars){var screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===chars&&(this.$desiredColumn?screenPos.column=this.$desiredColumn:this.$desiredColumn=screenPos.column);var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column);0!==rows&&0===chars&&docPos.row===this.lead.row&&docPos.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[docPos.row]&&docPos.row++,this.moveCursorTo(docPos.row,docPos.column+chars,0===chars)},this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)},this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);fold&&(row=fold.start.row,column=fold.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(row,column),this.$keepDesiredColumnOnChange=!1,keepDesiredColumn||(this.$desiredColumn=null)},this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start),this.$desiredColumn=range.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(range){var r=this.getRange();return range?(range.start.column=r.start.column,range.start.row=r.start.row,range.end.column=r.end.column,range.end.row=r.end.row):range=r,range.cursor=this.isBackwards()?range.start:range.end,range.desiredColumn=this.$desiredColumn,range},this.toJSON=function(){if(this.rangeCount)var data=this.ranges.map(function(r){var r1=r.clone();return r1.isBackwards=r.cursor==r.start,r1});else{var data=this.getRange();data.isBackwards=this.isBackwards()}return data},this.fromJSON=function(data){if(void 0==data.start){if(this.rangeList){this.toSingleRange(data[0]);for(var i=data.length;i--;){var r=Range.fromPoints(data[i].start,data[i].end);data.isBackwards&&(r.cursor=r.start),this.addRange(r,!0)}return}data=data[0]}this.rangeList&&this.toSingleRange(data),this.setSelectionRange(data,data.isBackwards)},this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return!1;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(data[i]))return!1;return!0}}).call(Selection.prototype),exports.Selection=Selection}),consoleAce.define("ace/range",["require","exports","module"],function(require,exports,module){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)&&(!this.isEnd(row,column)&&!this.isStart(row,column))},this.insideStart=function(row,column){return 0==this.compare(row,column)&&!this.isEnd(row,column)},this.insideEnd=function(row,column){return 0==this.compare(row,column)&&!this.isStart(row,column)},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?row<this.start.row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?column<=this.end.column?0:1:0:column<this.start.column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),consoleAce.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(require,exports,module){var Tokenizer=require("../tokenizer").Tokenizer,TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,Behaviour=require("./behaviour").Behaviour,unicode=require("../unicode"),lang=require("../lib/lang"),TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range,Mode=function(){this.HighlightRules=TextHighlightRules,this.$behaviour=new Behaviour};(function(){this.tokenRe=new RegExp("^["+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=new this.HighlightRules,this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(state,session,startRow,endRow){function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var doc=session.doc,ignoreBlankLines=!0,shouldRemove=!0,minIndent=1/0,tabSize=session.getTabSize(),insertAtTabStop=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|"),lineCommentStart=this.lineCommentStart[0];else var regexpStart=lang.escapeRegExp(this.lineCommentStart),lineCommentStart=this.lineCommentStart;regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?"),insertAtTabStop=session.getUseSoftTabs();var uncomment=function(line,i){var m=line.match(regexpStart);if(m){var start=m[1].length,end=m[0].length;shouldInsertSpace(line,start,end)||" "!=m[0][end-1]||end--,doc.removeInLine(i,start,end)}},commentWithSpace=lineCommentStart+" ",comment=function(line,i){ignoreBlankLines&&!/\S/.test(line)||(shouldInsertSpace(line,minIndent,minIndent)?doc.insertInLine({row:i,column:minIndent},commentWithSpace):doc.insertInLine({row:i,column:minIndent},lineCommentStart))},testRemove=function(line,i){return regexpStart.test(line)},shouldInsertSpace=function(line,before,after){for(var spaces=0;before--&&" "==line.charAt(before);)spaces++;if(spaces%tabSize!=0)return!1;for(var spaces=0;" "==line.charAt(after++);)spaces++;return tabSize>2?spaces%tabSize!=tabSize-1:spaces%tabSize==0}}else{if(!this.blockComment)return!1;var lineCommentStart=this.blockComment.start,lineCommentEnd=this.blockComment.end,regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")"),regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$"),comment=function(line,i){testRemove(line,i)||ignoreBlankLines&&!/\S/.test(line)||(doc.insertInLine({row:i,column:line.length},lineCommentEnd),doc.insertInLine({row:i,column:minIndent},lineCommentStart))},uncomment=function(line,i){var m;(m=line.match(regexpEnd))&&doc.removeInLine(i,line.length-m[0].length,line.length),(m=line.match(regexpStart))&&doc.removeInLine(i,m[1].length,m[0].length)},testRemove=function(line,row){if(regexpStart.test(line))return!0;for(var tokens=session.getTokens(row),i=0;i<tokens.length;i++)if("comment"===tokens[i].type)return!0}}var minEmptyLength=1/0;iter(function(line,i){var indent=line.search(/\S/);-1!==indent?(indent<minIndent&&(minIndent=indent),shouldRemove&&!testRemove(line,i)&&(shouldRemove=!1)):minEmptyLength>line.length&&(minEmptyLength=line.length)}),minIndent==1/0&&(minIndent=minEmptyLength,ignoreBlankLines=!1,shouldRemove=!1),insertAtTabStop&&minIndent%tabSize!=0&&(minIndent=Math.floor(minIndent/tabSize)*tabSize),iter(shouldRemove?uncomment:comment)},this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(comment){!comment.start&&comment[0]&&(comment=comment[0]);var startRow,colDiff,iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken(),initialRange=(session.selection,session.selection.toOrientedRange());if(token&&/comment/.test(token.type)){for(var startRange,endRange;token&&/comment/.test(token.type);){var i=token.value.indexOf(comment.start);if(-1!=i){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}for(var iterator=new TokenIterator(session,cursor.row,cursor.column),token=iterator.getCurrentToken();token&&/comment/.test(token.type);){var i=token.value.indexOf(comment.end);if(-1!=i){var row=iterator.getCurrentTokenRow(),column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}endRange&&session.remove(endRange),startRange&&(session.remove(startRange),startRow=startRange.start.row,colDiff=-comment.start.length)}else colDiff=comment.start.length,startRow=range.start.row,session.insert(range.end,comment.end),session.insert(range.start,comment.start);initialRange.start.row==startRow&&(initialRange.start.column+=colDiff),initialRange.end.row==startRow&&(initialRange.end.column+=colDiff),session.selection.fromOrientedRange(initialRange)}},this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)},this.checkOutdent=function(state,line,input){return!1},this.autoOutdent=function(state,doc,row){},this.$getIndent=function(line){return line.match(/^\s*/)[0]},this.createWorker=function(session){return null},this.createModeDelegates=function(mapping){this.$embeds=[],this.$modes={};for(var i in mapping)mapping[i]&&(this.$embeds.push(i),this.$modes[i]=new mapping[i]);for(var delegations=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],i=0;i<delegations.length;i++)!function(scope){var functionName=delegations[i],defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}}(this)},this.$delegator=function(method,args,defaultHandler){var state=args[0];"string"!=typeof state&&(state=state[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var split=state.split(this.$embeds[i]);if(!split[0]&&split[1]){args[0]=split[1];var mode=this.$modes[this.$embeds[i]];return mode[method].apply(mode,args)}}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:void 0},this.transformAction=function(state,action,editor,session,param){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours)if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret)return ret}}},this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules,completionKeywords=[];for(var rule in rules)for(var ruleItr=rules[rule],r=0,l=ruleItr.length;r<l;r++)if("string"==typeof ruleItr[r].token)/keyword|support|storage/.test(ruleItr[r].token)&&completionKeywords.push(ruleItr[r].regex);else if("object"==typeof ruleItr[r].token)for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++)if(/keyword|support|storage/.test(ruleItr[r].token[a])){var rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}this.completionKeywords=completionKeywords}return append?completionKeywords.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(state,session,pos,prefix){return(this.$keywordList||this.$createKeywordList()).map(function(word){return{name:word,value:word,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(Mode.prototype),exports.Mode=Mode}),consoleAce.define("ace/tokenizer",["require","exports","module"],function(require,exports,module){var MAX_TOKEN_COUNT=1e3,Tokenizer=function(rules){this.states=rules,this.regExps={},this.matchMappings={};for(var key in this.states){for(var state=this.states[key],ruleRegExps=[],matchTotal=0,mapping=this.matchMappings[key]={defaultToken:"text"},flag="g",splitterRurles=[],i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken&&(mapping.defaultToken=rule.defaultToken),rule.caseInsensitive&&(flag="gi"),null!=rule.regex){rule.regex instanceof RegExp&&(rule.regex=rule.regex.toString().slice(1,-1));var adjustedregex=rule.regex,matchcount=new RegExp("(?:("+adjustedregex+")|(.))").exec("a").length-2;if(Array.isArray(rule.token))if(1==rule.token.length||1==matchcount)rule.token=rule.token[0];else{if(matchcount-1!=rule.token.length)throw new Error("number of classes and regexp groups in '"+rule.token+"'\n'"+rule.regex+"' doesn't match\n"+(matchcount-1)+"!="+rule.token.length);rule.tokenArray=rule.token,rule.token=null,rule.onMatch=this.$arrayTokens}else"function"!=typeof rule.token||rule.onMatch||(rule.onMatch=matchcount>1?this.$applyToken:rule.token);matchcount>1&&(/\\\d/.test(rule.regex)?adjustedregex=rule.regex.replace(/\\([0-9]+)/g,function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)}):(matchcount=1,adjustedregex=this.removeCapturingGroups(rule.regex)),rule.splitRegex||"string"==typeof rule.token||splitterRurles.push(rule)),mapping[matchTotal]=i,matchTotal+=matchcount,ruleRegExps.push(adjustedregex),rule.onMatch||(rule.onMatch=null),rule.__proto__=null}}splitterRurles.forEach(function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)},this),this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=0|m},this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1),types=this.token.apply(this,values);if("string"==typeof types)return[{type:types,value:str}];for(var tokens=[],i=0,l=types.length;i<l;i++)values[i]&&(tokens[tokens.length]={type:types[i],value:values[i]});return tokens},this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";for(var tokens=[],types=this.tokenArray,i=0,l=types.length;i<l;i++)values[i+1]&&(tokens[tokens.length]={type:types[i],value:values[i+1]});return tokens},this.removeCapturingGroups=function(src){return src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(x,y){return y?"(?:":x})},this.createSplitterRegexp=function(src,flag){if(-1!=src.indexOf("(?=")){var stack=0,inChClass=!1,lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(m,esc,parenOpen,parenClose,square,index){return inChClass?inChClass="]"!=square:square?inChClass=!0:parenClose?(stack==lastCapture.stack&&(lastCapture.end=index+1,lastCapture.stack=-1),stack--):parenOpen&&(stack++,1!=parenOpen.length&&(lastCapture.stack=stack,lastCapture.start=index)),m}),null!=lastCapture.end&&/^\)*$/.test(src.substr(lastCapture.end))&&(src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end))}return new RegExp(src,(flag||"").replace("g",""))},this.getLineTokens=function(line,startState){if(startState&&"string"!=typeof startState){var stack=startState.slice(0);startState=stack[0]}else var stack=[];var currentState=startState||"start",state=this.states[currentState];state||(currentState="start",state=this.states[currentState]);var mapping=this.matchMappings[currentState],re=this.regExps[currentState];re.lastIndex=0;for(var match,tokens=[],lastIndex=0,token={type:null,value:""};match=re.exec(line);){var type=mapping.defaultToken,rule=null,value=match[0],index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);token.type==type?token.value+=skipped:(token.type&&tokens.push(token),token={type:type,value:skipped})}for(var i=0;i<match.length-2;i++)if(void 0!==match[i+1]){rule=state[mapping[i]],type=rule.onMatch?rule.onMatch(value,currentState,stack):rule.token,rule.next&&(currentState="string"==typeof rule.next?rule.next:rule.next(currentState,stack),state=this.states[currentState],state||(window.console&&console.error&&console.error(currentState,"doesn't exist"),currentState="start",state=this.states[currentState]),mapping=this.matchMappings[currentState],lastIndex=index,re=this.regExps[currentState],re.lastIndex=index);break}if(value)if("string"==typeof type)rule&&!1===rule.merge||token.type!==type?(token.type&&tokens.push(token),token={type:type,value:value}):token.value+=value;else if(type){token.type&&tokens.push(token),token={type:null,value:""};for(var i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;if(lastIndex=index,tokens.length>MAX_TOKEN_COUNT){for(;lastIndex<line.length;)token.type&&tokens.push(token),token={value:line.substring(lastIndex,lastIndex+=2e3),type:"overflow"};currentState="start",stack=[];break}}return token.type&&tokens.push(token),stack.length>1&&stack[0]!==currentState&&stack.unshift(currentState),{tokens:tokens,state:stack.length?stack:currentState}}}).call(Tokenizer.prototype),exports.Tokenizer=Tokenizer}),consoleAce.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(require,exports,module){var lang=require("../lib/lang"),TextHighlightRules=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(prefix)for(var key in rules){for(var state=rules[key],i=0;i<state.length;i++){var rule=state[i];rule.next&&("string"!=typeof rule.next?rule.nextState&&0!==rule.nextState.indexOf(prefix)&&(rule.nextState=prefix+rule.nextState):0!==rule.next.indexOf(prefix)&&(rule.next=prefix+rule.next))}this.$rules[prefix+key]=state}else for(var key in rules)this.$rules[key]=rules[key]},this.getRules=function(){return this.$rules},this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules=(new HighlightRules).getRules();if(states)for(var i=0;i<states.length;i++)states[i]=prefix+states[i];else{states=[];for(var key in embedRules)states.push(prefix+key)}if(this.addRules(embedRules,prefix),escapeRules)for(var addRules=Array.prototype[append?"push":"unshift"],i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules));this.$embeds||(this.$embeds=[]),this.$embeds.push(prefix)},this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){return"start"!=currentState&&stack.unshift(this.nextState,currentState),this.nextState},popState=function(currentState,stack){return stack[0]!==currentState?"start":(stack.shift(),stack.shift())};this.normalizeRules=function(){function processState(key){var state=rules[key];state.processed=!0;for(var i=0;i<state.length;i++){var rule=state[i];!rule.regex&&rule.start&&(rule.regex=rule.start,rule.next||(rule.next=[]),rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"}),rule.token=rule.token+".start",rule.push=!0);var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;stateName||(stateName=rule.token,"string"!=typeof stateName&&(stateName=stateName[0]||""),rules[stateName]&&(stateName+=id++)),rules[stateName]=next,rule.next=stateName,processState(stateName)}else"pop"==next&&(rule.next=popState);if(rule.push&&(rule.nextState=rule.next||rule.push,rule.next=pushState,delete rule.push),rule.rules)for(var r in rule.rules)rules[r]?rules[r].push&&rules[r].push.apply(rules[r],rule.rules[r]):rules[r]=rule.rules[r];if(rule.include||"string"==typeof rule)var includeName=rule.include||rule,toInsert=rules[includeName];else Array.isArray(rule)&&(toInsert=rule);if(toInsert){var args=[i,1].concat(toInsert);rule.noEscape&&(args=args.filter(function(x){return!x.next})),state.splice.apply(state,args),i--,toInsert=null}rule.keywordMap&&(rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive),delete rule.defaultToken)}}var id=0,rules=this.$rules;Object.keys(rules).forEach(processState,this)},this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);return Object.keys(map).forEach(function(className){var a=map[className];ignoreCase&&(a=a.toLowerCase());for(var list=a.split(splitChar||"|"),i=list.length;i--;)keywords[list[i]]=className}),Object.getPrototypeOf(keywords)&&(keywords.__proto__=null),this.$keywordList=Object.keys(keywords),map=null,ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}},this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype),exports.TextHighlightRules=TextHighlightRules}),consoleAce.define("ace/mode/behaviour",["require","exports","module"],function(require,exports,module){var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={}}this.$behaviours[name][action]=callback},this.addBehaviours=function(behaviours){for(var key in behaviours)for(var action in behaviours[key])this.add(key,action,behaviours[key][action])},this.remove=function(name){this.$behaviours&&this.$behaviours[name]&&delete this.$behaviours[name]},this.inherit=function(mode,filter){if("function"==typeof mode)var behaviours=(new mode).getBehaviours(filter);else var behaviours=mode.getBehaviours(filter);this.addBehaviours(behaviours)},this.getBehaviours=function(filter){if(filter){for(var ret={},i=0;i<filter.length;i++)this.$behaviours[filter[i]]&&(ret[filter[i]]=this.$behaviours[filter[i]]);return ret}return this.$behaviours}}).call(Behaviour.prototype),exports.Behaviour=Behaviour}),consoleAce.define("ace/unicode",["require","exports","module"],function(require,exports,module){exports.packages={},function(pack){var codePoint=/\w{4}/g;for(var name in pack)exports.packages[name]=pack[name].replace(codePoint,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),consoleAce.define("ace/token_iterator",["require","exports","module"],function(require,exports,module){var TokenIterator=function(session,initialRow,initialColumn){this.$session=session,this.$row=initialRow,this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var rowCount;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,rowCount||(rowCount=this.$session.getLength()),this.$row>=rowCount)return this.$row=rowCount-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens,tokenIndex=this.$tokenIndex,column=rowTokens[tokenIndex].start;if(void 0!==column)return column;for(column=0;tokenIndex>0;)tokenIndex-=1,column+=rowTokens[tokenIndex].value.length;return column}}).call(TokenIterator.prototype),exports.TokenIterator=TokenIterator}),consoleAce.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(require,exports,module){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,Range=require("./range").Range,Anchor=require("./anchor").Anchor,Document=function(text){this.$lines=[],0==text.length?this.$lines=[""]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},0=="aaa".split(/a/).length?this.$split=function(text){return text.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(text){return text.split(/\r\n|\r|\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode)},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\r\n"==text||"\r"==text||"\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.getLine(range.start.row).substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):position.row<0&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),this.getLength()<=1&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||"")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},"\n"+lines.join("\n")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};if(lines.length>65535){var end=this._insertLines(row,lines.slice(65535));lines=lines.slice(0,65535)}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:"insertLines",range:range,lines:lines};return this._emit("change",{data:delta}),end||range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:"insertText",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._emit("change",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:"insertText",range:Range.fromPoints(position,end),text:text};return this._emit("change",{data:delta}),end},this.remove=function(range){if(!range instanceof Range&&(range=Range.fromPoints(range.start,range.end)),range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:"removeText",range:range,text:removed};return this._emit("change",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return firstRow<0||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:"removeLines",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._emit("change",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:"removeText",range:range,text:this.getNewLineCharacter()};this._emit("change",{data:delta})},this.replace=function(range,text){if(!range instanceof Range&&(range=Range.fromPoints(range.start,range.end)),0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this.insertLines(range.start.row,delta.lines):"insertText"==delta.action?this.insert(range.start,delta.text):"removeLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"removeText"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"insertText"==delta.action?this.remove(range):"removeLines"==delta.action?this._insertLines(range.start.row,delta.lines):"removeText"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;i<l;i++)if((index-=lines[i].length+newlineLength)<0)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),consoleAce.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(require,exports,module){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),void 0===column?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var delta=e.data,range=delta.range;if((range.start.row!=range.end.row||range.start.row==this.row)&&!(range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;"insertText"===delta.action?start.row===row&&start.column<=column?start.column===column&&this.$insertRight||(start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row)):start.row!==end.row&&start.row<row&&(row+=end.row-start.row):"insertLines"===delta.action?start.row<=row&&(row+=end.row-start.row):"removeText"===delta.action?start.row===row&&start.column<column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&start.row<row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):"removeLines"==delta.action&&start.row<=row&&(end.row<=row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._emit("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):row<0?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),column<0&&(pos.column=0),pos}}).call(Anchor.prototype)}),consoleAce.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(require,exports,module){var oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,BackgroundTokenizer=function(tokenizer,editor){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(self.running){for(var workerStart=new Date,currentLine=self.currentLine,endLine=-1,doc=self.doc;self.lines[currentLine];)currentLine++;var startLine=currentLine,len=doc.getLength(),processedLines=0;for(self.running=!1;currentLine<len;){self.$tokenizeRow(currentLine),endLine=currentLine;do{currentLine++}while(self.lines[currentLine]);if(++processedLines%5==0&&new Date-workerStart>20)return self.running=setTimeout(self.$worker,20),void(self.currentLine=currentLine)}self.currentLine=currentLine,startLine<=endLine&&self.fireUpdateEvent(startLine,endLine)}}};(function(){oop.implement(this,EventEmitter),this.setTokenizer=function(tokenizer){this.tokenizer=tokenizer,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(doc){this.doc=doc,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(firstRow,lastRow){var data={first:firstRow,last:lastRow};this._emit("update",{data:data})},this.start=function(startRow){this.currentLine=Math.min(startRow||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(delta){var range=delta.range,startRow=range.start.row,len=range.end.row-startRow;if(0===len)this.lines[startRow]=null;else if("removeText"==delta.action||"removeLines"==delta.action)this.lines.splice(startRow,len+1,null),this.states.splice(startRow,len+1,null);else{var args=Array(len+1);args.unshift(startRow,1),this.lines.splice.apply(this.lines,args),this.states.splice.apply(this.states,args)}this.currentLine=Math.min(startRow,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)},this.getState=function(row){return this.currentLine==row&&this.$tokenizeRow(row),this.states[row]||"start"},this.$tokenizeRow=function(row){var line=this.doc.getLine(row),state=this.states[row-1],data=this.tokenizer.getLineTokens(line,state,row);return this.states[row]+""!=data.state+""?(this.states[row]=data.state,this.lines[row+1]=null,this.currentLine>row+1&&(this.currentLine=row+1)):this.currentLine==row&&(this.currentLine=row+1),this.lines[row]=data.tokens}}).call(BackgroundTokenizer.prototype),exports.BackgroundTokenizer=BackgroundTokenizer}),consoleAce.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(require,exports,module){var lang=require("./lib/lang"),Range=(require("./lib/oop"),require("./range").Range),SearchHighlight=function(regExp,clazz,type){this.setRegexp(regExp),this.clazz=clazz,this.type=type||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(regExp){this.regExp+""!=regExp+""&&(this.regExp=regExp,this.cache=[])},this.update=function(html,markerLayer,session,config){if(this.regExp)for(var start=config.firstRow,end=config.lastRow,i=start;i<=end;i++){var ranges=this.cache[i];null==ranges&&(ranges=lang.getMatchOffsets(session.getLine(i),this.regExp),ranges.length>this.MAX_RANGES&&(ranges=ranges.slice(0,this.MAX_RANGES)),ranges=ranges.map(function(match){return new Range(i,match.offset,i,match.offset+match.length)}),this.cache[i]=ranges.length?ranges:"");for(var j=ranges.length;j--;)markerLayer.drawSingleLineMarker(html,ranges[j].toScreenRange(session),this.clazz,config)}}}).call(SearchHighlight.prototype),exports.SearchHighlight=SearchHighlight}),consoleAce.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(require,exports,module){function Folding(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;for(var folds=foldLine.folds,i=0;i<folds.length;i++){var fold=folds[i];if(fold.range.contains(row,column)){if(1==side&&fold.range.isEnd(row,column))continue;if(-1==side&&fold.range.isStart(row,column))continue;return fold}}},this.getFoldsInRange=function(range){var start=range.start,end=range.end,foldLines=this.$foldData,foundFolds=[];start.column+=1,end.column-=1;for(var i=0;i<foldLines.length;i++){var cmp=foldLines[i].range.compareRange(range);if(2!=cmp){if(-2==cmp)break;for(var folds=foldLines[i].folds,j=0;j<folds.length;j++){var fold=folds[j];if(-2==(cmp=fold.range.compareRange(range)))break;if(2!=cmp){if(42==cmp)break;foundFolds.push(fold)}}}}return start.column-=1,end.column+=1,foundFolds},this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach(function(range){folds=folds.concat(this.getFoldsInRange(range))},this)}else var folds=this.getFoldsInRange(ranges);return folds},this.getAllFolds=function(){for(var folds=[],foldLines=this.$foldData,i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds},this.getFoldStringAt=function(row,column,trim,foldLine){if(!(foldLine=foldLine||this.getFoldLine(row)))return null;for(var str,fold,lastFold={end:{column:0}},i=0;i<foldLine.folds.length;i++){fold=foldLine.folds[i];var cmp=fold.range.compareEnd(row,column);if(-1==cmp){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}if(0===cmp)return null;lastFold=fold}return str||(str=this.getLine(fold.start.row).substring(lastFold.end.column)),-1==trim?str.substring(0,column-lastFold.end.column):1==trim?str.substring(column-lastFold.end.column):str},this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0),i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow)return foldLine;if(foldLine.end.row>docRow)return null}return null},this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData,i=0;for(startFoldLine&&(i=foldData.indexOf(startFoldLine)),-1==i&&(i=0),i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow)return foldLine}return null},this.getFoldedRowCount=function(first,last){for(var foldData=this.$foldData,rowCount=last-first+1,i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){start<last&&(start>=first?rowCount-=last-start:rowCount=0);break}end>=first&&(rowCount-=start>=first?end-start:end-first+1)}return rowCount},this.$addFoldLine=function(foldLine){return this.$foldData.push(foldLine),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),foldLine},this.addFold=function(placeholder,range){var fold,foldData=this.$foldData,added=!1;placeholder instanceof Fold?fold=placeholder:(fold=new Fold(range,placeholder),fold.collapseChildren=range.collapseChildren),this.$clipRangeToDocument(fold.range);var startRow=fold.start.row,startColumn=fold.start.column,endRow=fold.end.row,endColumn=fold.end.column;if(!(startRow<endRow||startRow==endRow&&startColumn<=endColumn-2))throw new Error("The range has to be at least 2 characters width");var startFold=this.getFoldAt(startRow,startColumn,1),endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);if(startFold&&!startFold.range.isStart(startRow,startColumn)||endFold&&!endFold.range.isEnd(endRow,endColumn))throw new Error("A fold can't intersect already existing fold"+fold.range+startFold.range);var folds=this.getFoldsInRange(fold.range);folds.length>0&&(this.removeFolds(folds),folds.forEach(function(subFold){fold.addSubFold(subFold)}));for(var i=0;i<foldData.length;i++){var foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold),added=!0;break}if(startRow==foldLine.end.row){if(foldLine.addFold(fold),added=!0,!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}if(endRow<=foldLine.start.row)break}return added||(foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold))),this.$useWrapMode?this.$updateWrapData(foldLine.start.row,foldLine.start.row):this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row),this.$modified=!0,this._emit("changeFold",{data:fold,action:"add"}),fold},this.addFolds=function(folds){folds.forEach(function(fold){this.addFold(fold)},this)},this.removeFold=function(fold){var foldLine=fold.foldLine,startRow=foldLine.start.row,endRow=foldLine.end.row,foldLines=this.$foldData,folds=foldLine.folds;if(1==folds.length)foldLines.splice(foldLines.indexOf(foldLine),1);else if(foldLine.range.isEnd(fold.end.row,fold.end.column))folds.pop(),foldLine.end.row=folds[folds.length-1].end.row,foldLine.end.column=folds[folds.length-1].end.column;else if(foldLine.range.isStart(fold.start.row,fold.start.column))folds.shift(),foldLine.start.row=folds[0].start.row,foldLine.start.column=folds[0].start.column;else if(fold.sameRow)folds.splice(folds.indexOf(fold),1);else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);folds=newFoldLine.folds,folds.shift(),newFoldLine.start.row=folds[0].start.row,newFoldLine.start.column=folds[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(startRow,endRow):this.$updateRowLengthCache(startRow,endRow)),this.$modified=!0,this._emit("changeFold",{data:fold,action:"remove"})},this.removeFolds=function(folds){for(var cloneFolds=[],i=0;i<folds.length;i++)cloneFolds.push(folds[i]);cloneFolds.forEach(function(fold){this.removeFold(fold)},this),this.$modified=!0},this.expandFold=function(fold){this.removeFold(fold),fold.subFolds.forEach(function(subFold){fold.restoreRange(subFold),this.addFold(subFold)},this),fold.collapseChildren>0&&this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1),fold.subFolds=[]},this.expandFolds=function(folds){folds.forEach(function(fold){this.expandFold(fold)},this)},this.unfold=function(location,expandInner){var range,folds;if(null==location?(range=new Range(0,0,this.getLength(),0),expandInner=!0):range="number"==typeof location?new Range(location,0,location,this.getLine(location).length):"row"in location?Range.fromPoints(location,location):location,folds=this.getFoldsInRangeList(range),expandInner)this.removeFolds(folds);else for(var subFolds=folds;subFolds.length;)this.expandFolds(subFolds),subFolds=this.getFoldsInRangeList(range);if(folds.length)return folds},this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)},this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow},this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow},this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){null==startRow&&(startRow=foldLine.start.row,startColumn=0),null==endRow&&(endRow=foldLine.end.row,endColumn=this.getLine(endRow).length);var doc=this.doc,textLine="";return foldLine.walk(function(placeholder,row,column,lastColumn){if(!(row<startRow)){if(row==startRow){if(column<startColumn)return;lastColumn=Math.max(startColumn,lastColumn)}textLine+=null!=placeholder?placeholder:doc.getLine(row).substring(lastColumn,column)}},endRow,endColumn),textLine},this.getDisplayLine=function(row,endColumn,startRow,startColumn){var foldLine=this.getFoldLine(row);if(foldLine)return this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn);var line;return line=this.doc.getLine(row),line.substring(startColumn||0,endColumn||line.length)},this.$cloneFoldData=function(){var fd=[];return fd=this.$foldData.map(function(foldLine){var folds=foldLine.folds.map(function(fold){return fold.clone()});return new FoldLine(fd,folds)})},this.toggleFold=function(tryToUnfold){var fold,bracketPos,selection=this.selection,range=selection.getRange();if(range.isEmpty()){var cursor=range.start;if(fold=this.getFoldAt(cursor.row,cursor.column))return void this.expandFold(fold);(bracketPos=this.findMatchingBracket(cursor))?1==range.comparePoint(bracketPos)?range.end=bracketPos:(range.start=bracketPos,range.start.column++,range.end.column--):(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1}))?(1==range.comparePoint(bracketPos)?range.end=bracketPos:range.start=bracketPos,range.start.column++):range=this.getCommentFoldRange(cursor.row,cursor.column)||range}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length)return void this.expandFolds(folds);1==folds.length&&(fold=folds[0])}if(fold||(fold=this.getFoldAt(range.start.row,range.start.column)),fold&&fold.range.toString()==range.toString())return void this.expandFold(fold);var placeholder="...";if(!range.isMultiLine()){if(placeholder=this.getTextRange(range),placeholder.length<4)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)},this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column),token=iterator.getCurrentToken();if(token&&/^comment|string/.test(token.type)){var range=new Range,re=new RegExp(token.type.replace(/\..*/,"\\."));if(1!=dir){do{token=iterator.stepBackward()}while(token&&re.test(token.type));iterator.stepForward()}if(range.start.row=iterator.getCurrentTokenRow(),range.start.column=iterator.getCurrentTokenColumn()+2,iterator=new TokenIterator(this,row,column),-1!=dir){do{token=iterator.stepForward()}while(token&&re.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();return range.end.row=iterator.getCurrentTokenRow(),range.end.column=iterator.getCurrentTokenColumn()+token.value.length-2,range}},this.foldAll=function(startRow,endRow,depth){void 0==depth&&(depth=1e5);var foldWidgets=this.foldWidgets;if(foldWidgets){endRow=endRow||this.getLength(),startRow=startRow||0;for(var row=startRow;row<endRow;row++)if(null==foldWidgets[row]&&(foldWidgets[row]=this.getFoldWidget(row)),"start"==foldWidgets[row]){var range=this.getFoldWidgetRange(row);if(range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow){row=range.end.row;try{var fold=this.addFold("...",range);fold&&(fold.collapseChildren=depth)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=style){this.$foldStyle=style,"manual"==style&&this.unfold();var mode=this.$foldMode;this.$setFolding(null),this.$setFolding(mode)}},this.$setFolding=function(foldMode){if(this.$foldMode!=foldMode){if(this.$foldMode=foldMode,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),!foldMode||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle),this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)}},this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};for(var firstRange,i=row-1;i>=0;){var c=fw[i];if(null==c&&(c=fw[i]=this.getFoldWidget(i)),"start"==c){var range=this.getFoldWidgetRange(i);if(firstRange||(firstRange=range),range&&range.end.row>=row)break}i--}return{range:-1!==i&&range,firstRange:firstRange}},this.onFoldWidgetClick=function(row,e){e=e.domEvent;var options={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(row,options)){var el=e.target||e.srcElement;el&&/ace_fold-widget/.test(el.className)&&(el.className+=" ace_invalid")}},this.$toggleFoldWidget=function(row,options){if(this.getFoldWidget){var type=this.getFoldWidget(row),line=this.getLine(row),dir="end"===type?-1:1,fold=this.getFoldAt(row,-1===dir?0:line.length,dir);if(fold)return void(options.children||options.all?this.removeFold(fold):this.expandFold(fold));var range=this.getFoldWidgetRange(row,!0);if(range&&!range.isMultiLine()&&(fold=this.getFoldAt(range.start.row,range.start.column,1))&&range.isEqual(fold.range))return void this.removeFold(fold);if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range)var startRow=data.range.start.row+1,endRow=data.range.end.row;this.foldAll(startRow,endRow,options.all?1e4:0)}else options.children?(endRow=range?range.end.row:this.getLength(),this.foldAll(row+1,range.end.row,options.all?1e4:0)):range&&(options.all&&(range.collapseChildren=1e4),this.addFold("...",range));return range}},this.toggleFoldWidget=function(toggleParent){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(!range){var data=this.getParentFoldRangeData(row,!0);if(range=data.range||data.firstRange){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);fold?this.removeFold(fold):this.addFold("...",range)}}},this.updateFoldWidgets=function(e){var delta=e.data,range=delta.range,firstRow=range.start.row,len=range.end.row-firstRow;if(0===len)this.foldWidgets[firstRow]=null;else if("removeText"==delta.action||"removeLines"==delta.action)this.foldWidgets.splice(firstRow,len+1,null);else{var args=Array(len+1);args.unshift(firstRow,1),this.foldWidgets.splice.apply(this.foldWidgets,args)}}}var Range=require("../range").Range,FoldLine=require("./fold_line").FoldLine,Fold=require("./fold").Fold,TokenIterator=require("../token_iterator").TokenIterator;exports.Folding=Folding}),consoleAce.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(require,exports,module){function FoldLine(foldData,folds){this.foldData=foldData,Array.isArray(folds)?this.folds=folds:folds=this.folds=[folds];var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(fold){fold.setFoldLine(this)},this)}var Range=require("../range").Range;(function(){this.shiftRow=function(shift){this.start.row+=shift,this.end.row+=shift,this.folds.forEach(function(fold){fold.start.row+=shift,fold.end.row+=shift})},this.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(fold),this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(fold.start.row,fold.start.column)>0?(this.end.row=fold.end.row,this.end.column=fold.end.column):this.range.compareStart(fold.end.row,fold.end.column)<0&&(this.start.row=fold.start.row,this.start.column=fold.start.column)}else if(fold.start.row==this.end.row)this.folds.push(fold),this.end.row=fold.end.row,this.end.column=fold.end.column;else{if(fold.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(fold),this.start.row=fold.start.row,this.start.column=fold.start.column}fold.foldLine=this},this.containsRow=function(row){return row>=this.start.row&&row<=this.end.row},this.walk=function(callback,endRow,endColumn){var fold,comp,stop,lastEnd=0,folds=this.folds,isNewRow=!0;null==endRow&&(endRow=this.end.row,endColumn=this.end.column);for(var i=0;i<folds.length;i++){if(fold=folds[i],-1==(comp=fold.range.compareStart(endRow,endColumn)))return void callback(null,endRow,endColumn,lastEnd,isNewRow);if(stop=callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow),(stop=!stop&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd))||0==comp)return;isNewRow=!fold.sameRow,lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)},this.getNextFoldTo=function(row,column){for(var fold,cmp,i=0;i<this.folds.length;i++){if(fold=this.folds[i],-1==(cmp=fold.range.compareEnd(row,column)))return{fold:fold,kind:"after"};if(0==cmp)return{fold:fold,kind:"inside"}}return null},this.addRemoveChars=function(row,column,len){var fold,folds,ret=this.getNextFoldTo(row,column);if(ret)if(fold=ret.fold,"inside"==ret.kind&&fold.start.column!=column&&fold.start.row!=row)window.console&&window.console.log(row,column,fold);else if(fold.start.row==row){folds=this.folds;var i=folds.indexOf(fold);for(0==i&&(this.start.column+=len),i;i<folds.length;i++){if(fold=folds[i],fold.start.column+=len,!fold.sameRow)return;fold.end.column+=len}this.end.column+=len}},this.split=function(row,column){var fold=this.getNextFoldTo(row,column).fold,folds=this.folds,foldData=this.foldData;if(!fold)return null;var i=folds.indexOf(fold),foldBefore=folds[i-1];this.end.row=foldBefore.end.row,this.end.column=foldBefore.end.column,folds=folds.splice(i,folds.length-i);var newFoldLine=new FoldLine(foldData,folds);return foldData.splice(foldData.indexOf(this)+1,0,newFoldLine),newFoldLine},this.merge=function(foldLineNext){for(var folds=foldLineNext.folds,i=0;i<folds.length;i++)this.addFold(folds[i]);var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)},this.toString=function(){var ret=[this.range.toString()+": ["];return this.folds.forEach(function(fold){ret.push("  "+fold.toString())}),ret.push("]"),ret.join("\n")},this.idxToPosition=function(idx){for(var fold,lastFoldEndColumn=0,i=0;i<this.folds.length;i++){var fold=this.folds[i];if((idx-=fold.start.column-lastFoldEndColumn)<0)return{row:fold.start.row,column:fold.start.column+idx};if((idx-=fold.placeholder.length)<0)return fold.start;lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}}}).call(FoldLine.prototype),exports.FoldLine=FoldLine}),consoleAce.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(require,exports,module){function consumePoint(point,anchor){point.row-=anchor.row,0==point.row&&(point.column-=anchor.column)}function consumeRange(range,anchor){consumePoint(range.start,anchor),consumePoint(range.end,anchor)}function restorePoint(point,anchor){0==point.row&&(point.column+=anchor.column),point.row+=anchor.row}function restoreRange(range,anchor){restorePoint(range.start,anchor),restorePoint(range.end,anchor)}var RangeList=(require("../range").Range,require("../range_list").RangeList),oop=require("../lib/oop"),Fold=exports.Fold=function(range,placeholder){this.foldLine=null,this.placeholder=placeholder,this.range=range,this.start=range.start,this.end=range.end,this.sameRow=range.start.row==range.end.row,this.subFolds=this.ranges=[]};oop.inherits(Fold,RangeList),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(foldLine){this.foldLine=foldLine,this.subFolds.forEach(function(fold){fold.setFoldLine(foldLine)})},this.clone=function(){var range=this.range.clone(),fold=new Fold(range,this.placeholder);return this.subFolds.forEach(function(subFold){fold.subFolds.push(subFold.clone())}),fold.collapseChildren=this.collapseChildren,fold},this.addSubFold=function(fold){if(!this.range.isEqual(fold)){if(!this.range.containsRange(fold))throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);consumeRange(fold,this.start);for(var row=fold.start.row,column=fold.start.column,i=0,cmp=-1;i<this.subFolds.length&&1==(cmp=this.subFolds[i].range.compare(row,column));i++);var afterStart=this.subFolds[i];if(0==cmp)return afterStart.addSubFold(fold);for(var row=fold.range.end.row,column=fold.range.end.column,j=i,cmp=-1;j<this.subFolds.length&&1==(cmp=this.subFolds[j].range.compare(row,column));j++);this.subFolds[j];if(0==cmp)throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);this.subFolds.splice(i,j-i,fold);return fold.setFoldLine(this.foldLine),fold}},this.restoreRange=function(range){return restoreRange(range,this.start)}}.call(Fold.prototype)}),consoleAce.define("ace/range_list",["require","exports","module","ace/range"],function(require,exports,module){var Range=require("./range").Range,comparePoints=Range.comparePoints,RangeList=function(){this.ranges=[]};(function(){this.comparePoints=comparePoints,this.pointIndex=function(pos,excludeEdges,startIndex){for(var list=this.ranges,i=startIndex||0;i<list.length;i++){var range=list[i],cmpEnd=comparePoints(pos,range.end);if(!(cmpEnd>0)){var cmpStart=comparePoints(pos,range.start);return 0===cmpEnd?excludeEdges&&0!==cmpStart?-i-2:i:cmpStart>0||0===cmpStart&&!excludeEdges?i:-i-1}}return-i-1},this.add=function(range){var excludeEdges=!range.isEmpty(),startIndex=this.pointIndex(range.start,excludeEdges);startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);return endIndex<0?endIndex=-endIndex-1:endIndex++,this.ranges.splice(startIndex,endIndex-startIndex,range)},this.addList=function(list){for(var removed=[],i=list.length;i--;)removed.push.call(removed,this.add(list[i]));return removed},this.substractPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges.splice(i,1)},this.merge=function(){var removed=[],list=this.ranges;list=list.sort(function(a,b){return comparePoints(a.start,b.start)});for(var range,next=list[0],i=1;i<list.length;i++){range=next,next=list[i];var cmp=comparePoints(range.end,next.start);cmp<0||(0!=cmp||range.isEmpty()||next.isEmpty())&&(comparePoints(range.end,next.end)<0&&(range.end.row=next.end.row,range.end.column=next.end.column),list.splice(i,1),removed.push(next),next=range,i--)}return this.ranges=list,removed},this.contains=function(row,column){return this.pointIndex({row:row,column:column})>=0},this.containsPoint=function(pos){return this.pointIndex(pos)>=0},this.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges[i]},this.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});startIndex<0&&(startIndex=-startIndex-1);var endIndex=this.pointIndex({row:endRow,column:0},startIndex);endIndex<0&&(endIndex=-endIndex-1);for(var clipped=[],i=startIndex;i<endIndex;i++)clipped.push(list[i]);return clipped},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(session){this.session&&this.detach(),this.session=session,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var changeRange=e.data.range;if("i"==e.data.action[0])var start=changeRange.start,end=changeRange.end;else var end=changeRange.start,start=changeRange.end;for(var startRow=start.row,endRow=end.row,lineDif=endRow-startRow,colDiff=-start.column+end.column,ranges=this.ranges,i=0,n=ranges.length;i<n;i++){var r=ranges[i];if(!(r.end.row<startRow)){if(r.start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column&&(r.start.column==start.column&&this.$insertRight||(r.start.column+=colDiff,r.start.row+=lineDif)),r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$insertRight)continue;r.end.column==start.column&&colDiff>0&&i<n-1&&r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column&&(r.end.column-=colDiff),r.end.column+=colDiff,r.end.row+=lineDif}}}if(0!=lineDif&&i<n)for(;i<n;i++){var r=ranges[i];r.start.row+=lineDif,r.end.row+=lineDif}}}).call(RangeList.prototype),exports.RangeList=RangeList}),consoleAce.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(require,exports,module){function BracketMatch(){this.findMatchingBracket=function(position,chr){if(0==position.column)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(""==charBeforeCursor)return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);return match?match[1]?this.$findClosingBracket(match[1],position):this.$findOpeningBracket(match[2],position):null},this.getBracketRange=function(pos){var range,line=this.getLine(pos.row),before=!0,chr=line.charAt(pos.column-1),match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(match||(chr=line.charAt(pos.column),pos={row:pos.row,column:pos.column+1},match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/),before=!1),!match)return null;if(match[1]){var bracketPos=this.$findClosingBracket(match[1],pos);if(!bracketPos)return null;range=Range.fromPoints(pos,bracketPos),before||(range.end.column++,range.start.column--),range.cursor=range.end}else{var bracketPos=this.$findOpeningBracket(match[2],pos);if(!bracketPos)return null;range=Range.fromPoints(bracketPos,pos),before||(range.start.column++,range.end.column--),range.cursor=range.start}return range},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn()-2,value=token.value;;){for(;valueIndex>=0;){var chr=value.charAt(valueIndex);if(chr==openBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex-=1}do{token=iterator.stepBackward()}while(token&&!typeRe.test(token.type));if(null==token)break;value=token.value,valueIndex=value.length-1}return null}},this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket],depth=1,iterator=new TokenIterator(this,position.row,position.column),token=iterator.getCurrentToken();if(token||(token=iterator.stepForward()),token){typeRe||(typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(var valueIndex=position.column-iterator.getCurrentTokenColumn();;){for(var value=token.value,valueLength=value.length;valueIndex<valueLength;){var chr=value.charAt(valueIndex);if(chr==closingBracket){if(0==(depth-=1))return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else chr==bracket&&(depth+=1);valueIndex+=1}do{token=iterator.stepForward()}while(token&&!typeRe.test(token.type));if(null==token)break;valueIndex=0}return null}}}var TokenIterator=require("../token_iterator").TokenIterator,Range=require("../range").Range;exports.BracketMatch=BracketMatch}),consoleAce.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(require,exports,module){var lang=require("./lib/lang"),oop=require("./lib/oop"),Range=require("./range").Range,Search=function(){this.$options={}};(function(){this.set=function(options){return oop.mixin(this.$options,options),this},this.getOptions=function(){return lang.copyObject(this.$options)},this.setOptions=function(options){this.$options=options},this.find=function(session){var iterator=this.$matchIterator(session,this.$options);if(!iterator)return!1;var firstRange=null;return iterator.forEach(function(range,row,offset){if(range.start)firstRange=range;else{var column=range.offset+(offset||0);firstRange=new Range(row,column,row,column+range.length)}return!0}),firstRange},this.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range,lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines(),ranges=[],re=options.re;if(options.$isMultiLine)for(var len=re.length,maxRow=lines.length-len,row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len&&-1!=lines[row+j].search(re[j]);j++);var startLine=lines[row],line=lines[row+len-1],startIndex=startLine.match(re[0])[0].length,endIndex=line.match(re[len-1])[0].length;ranges.push(new Range(row,startLine.length-startIndex,row+len-1,endIndex))}else for(var i=0;i<lines.length;i++)for(var matches=lang.getMatchOffsets(lines[i],re),j=0;j<matches.length;j++){var match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}if(range){for(var startColumn=range.start.column,endColumn=range.start.column,i=0,j=ranges.length-1;i<j&&ranges[i].start.column<startColumn&&ranges[i].start.row==range.start.row;)i++;for(;i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==range.end.row;)j--;for(ranges=ranges.slice(i,j+1),i=0,j=ranges.length;i<j;i++)ranges[i].start.row+=range.start.row,ranges[i].end.row+=range.start.row}return ranges},this.replace=function(input,replacement){var options=this.$options,re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(re){var match=re.exec(input);if(!match||match[0].length!=input.length)return null;if(replacement=input.replace(re,replacement),options.preserveCase){replacement=replacement.split("");for(var i=Math.min(input.length,input.length);i--;){var ch=input[i];ch&&ch.toLowerCase()!=ch?replacement[i]=replacement[i].toUpperCase():replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement}},this.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return!1;var callback,self=this,backwards=options.backwards;if(options.$isMultiLine)var len=re.length,matchIterator=function(line,row,offset){var startIndex=line.search(re[0]);if(-1!=startIndex){for(var i=1;i<len;i++)if(line=session.getLine(row+i),-1==line.search(re[i]))return;var endIndex=line.match(re[len-1])[0].length,range=new Range(row,startIndex,row+len-1,endIndex);return 1==re.offset?(range.start.row--,range.start.column=Number.MAX_VALUE):offset&&(range.start.column+=offset),!!callback(range)||void 0}};else if(backwards)var matchIterator=function(line,row,startIndex){for(var matches=lang.getMatchOffsets(line,re),i=matches.length-1;i>=0;i--)if(callback(matches[i],row,startIndex))return!0};else var matchIterator=function(line,row,startIndex){for(var matches=lang.getMatchOffsets(line,re),i=0;i<matches.length;i++)if(callback(matches[i],row,startIndex))return!0};return{forEach:function(_callback){callback=_callback,self.$lineIterator(session,options).forEach(matchIterator)}}},this.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=!1;options.regExp||(needle=lang.escapeRegExp(needle)),options.wholeWord&&(needle="\\b"+needle+"\\b");var modifier=options.caseSensitive?"g":"gi";if(options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle),options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=!1}return options.re=re},this.$assembleMultilineRegExp=function(needle,modifier){for(var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),re=[],i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return!1}return""==parts[0]?(re.shift(),re.offset=1):re.offset=0,re},this.$lineIterator=function(session,options){var backwards=1==options.backwards,skipCurrent=0!=options.skipCurrent,range=options.range,start=options.start;start||(start=range?range[backwards?"end":"start"]:session.selection.getRange()),start.start&&(start=start[skipCurrent!=backwards?"end":"start"]);var firstRow=range?range.start.row:0,lastRow=range?range.end.row:session.getLength()-1;return{forEach:backwards?function(callback){var row=start.row;if(!callback(session.getLine(row).substring(0,start.column),row)){for(row--;row>=firstRow;row--)if(callback(session.getLine(row),row))return;if(0!=options.wrap)for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(callback(session.getLine(row),row))return}}:function(callback){var row=start.row;if(!callback(session.getLine(row).substr(start.column),row,start.column)){for(row+=1;row<=lastRow;row++)if(callback(session.getLine(row),row))return;if(0!=options.wrap)for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(callback(session.getLine(row),row))return}}}}}).call(Search.prototype),exports.Search=Search}),consoleAce.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(require,exports,module){var oop=require("../lib/oop"),HashHandler=require("../keyboard/hash_handler").HashHandler,EventEmitter=require("../lib/event_emitter").EventEmitter,CommandManager=function(platform,commands){HashHandler.call(this,commands,platform),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};oop.inherits(CommandManager,HashHandler),function(){oop.implement(this,EventEmitter),this.exec=function(command,editor,args){if("string"==typeof command&&(command=this.commands[command]),!command)return!1;if(editor&&editor.$readOnly&&!command.readOnly)return!1;var e={editor:editor,command:command,args:args},retvalue=this._emit("exec",e);return this._signal("afterExec",e),!1!==retvalue},this.toggleRecording=function(editor){if(!this.$inReplay)return editor&&editor._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(editor){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=!0,this.macro.forEach(function(x){"string"==typeof x?this.exec(x,editor):this.exec(x[0],editor,x[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(m){return m.map(function(x){return"string"!=typeof x[0]&&(x[0]=x[0].name),x[1]||(x=x[0]),x})}}.call(CommandManager.prototype),exports.CommandManager=CommandManager}),consoleAce.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(require,exports,module){function HashHandler(config,platform){if(this.platform=platform||(useragent.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.__defineGetter__&&this.__defineSetter__&&"undefined"!=typeof console&&console.error){var warned=!1,warn=function(){warned||(warned=!0,console.error("commmandKeyBinding has too many m's. use commandKeyBinding"))};this.__defineGetter__("commmandKeyBinding",function(){return warn(),this.commandKeyBinding}),this.__defineSetter__("commmandKeyBinding",function(val){return warn(),this.commandKeyBinding=val})}else this.commmandKeyBinding=this.commandKeyBinding;this.addCommands(config)}var keyUtil=require("../lib/keys"),useragent=require("../lib/useragent");(function(){this.addCommand=function(command){this.commands[command.name]&&this.removeCommand(command),this.commands[command.name]=command,command.bindKey&&this._buildKeyHash(command)},this.removeCommand=function(command){var name="string"==typeof command?command:command.name;command=this.commands[name],delete this.commands[name];var ckb=this.commandKeyBinding;for(var hashId in ckb)for(var key in ckb[hashId])ckb[hashId][key]==command&&delete ckb[hashId][key]},this.bindKey=function(key,command){if(key){if("function"==typeof command)return void this.addCommand({exec:command,bindKey:key,name:command.name||key});var ckb=this.commandKeyBinding;key.split("|").forEach(function(keyPart){var binding=this.parseKeys(keyPart,command),hashId=binding.hashId;(ckb[hashId]||(ckb[hashId]={}))[binding.key]=command},this)}},this.addCommands=function(commands){commands&&Object.keys(commands).forEach(function(name){var command=commands[name];if(command){if("string"==typeof command)return this.bindKey(command,name);"function"==typeof command&&(command={exec:command}),"object"==typeof command&&(command.name||(command.name=name),this.addCommand(command))}},this)},this.removeCommands=function(commands){Object.keys(commands).forEach(function(name){this.removeCommand(commands[name])},this)},this.bindKeys=function(keyList){Object.keys(keyList).forEach(function(key){this.bindKey(key,keyList[key])},this)},this._buildKeyHash=function(command){var binding=command.bindKey;if(binding){var key="string"==typeof binding?binding:binding[this.platform];this.bindKey(key,command)}},this.parseKeys=function(keys){-1!=keys.indexOf(" ")&&(keys=keys.split(/\s+/).pop());var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),key=parts.pop(),keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else{if(!parts.length)return{key:key,hashId:-1};if(1==parts.length&&"shift"==parts[0])return{key:key.toUpperCase(),hashId:-1}}for(var hashId=0,i=parts.length;i--;){var modifier=keyUtil.KEY_MODS[parts[i]];if(null==modifier)return"undefined"!=typeof console&&console.error("invalid modifier "+parts[i]+" in "+keys),!1;hashId|=modifier}return{key:key,hashId:hashId}},this.findKeyCommand=function(hashId,keyString){var ckbr=this.commandKeyBinding;return ckbr[hashId]&&ckbr[hashId][keyString]},this.handleKeyboard=function(data,hashId,keyString,keyCode){return{command:this.findKeyCommand(hashId,keyString)}}}).call(HashHandler.prototype),exports.HashHandler=HashHandler}),consoleAce.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config"],function(require,exports,module){function bindKey(win,mac){return{win:win,mac:mac}}var lang=require("../lib/lang"),config=require("../config");exports.commands=[{name:"showSettingsMenu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",function(module){module.init(editor),editor.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:bindKey("Alt-E","Ctrl-E"),exec:function(editor){config.loadModule("ace/ext/error_marker",function(module){module.showErrorMarker(editor,1)})},scrollIntoView:"center",readOnly:!0},{name:"goToPreviousError",bindKey:bindKey("Alt-Shift-E","Ctrl-Shift-E"),exec:function(editor){config.loadModule("ace/ext/error_marker",function(module){module.showErrorMarker(editor,-1)})},scrollIntoView:"center",readOnly:!0},{name:"selectall",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:!0},{name:"centerselection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor){var line=parseInt(prompt("Enter line number:"),10);isNaN(line)||editor.gotoLine(line)},readOnly:!0},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(!1)},scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(!0)},scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(!0)},scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:bindKey("Ctrl-Alt-0","Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll(),editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},readOnly:!0},{name:"findprevious",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},readOnly:!0},{name:"selectOrFindNext",bindKey:bindKey("ALt-K","Ctrl-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){editor.selection.isEmpty()?editor.selection.selectWord():editor.findPrevious()},readOnly:!0},{name:"find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:bindKey("Shift-Up","Shift-Up"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:bindKey("Shift-Down","Shift-Down"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:bindKey("Shift-Left","Shift-Left"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:!0},{name:"replaymacro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:!0},{name:"jumptomatching",bindKey:bindKey("Ctrl-P","Ctrl-Shift-P"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:bindKey("Ctrl-Shift-P",null),exec:function(editor){editor.jumpToMatching(!0)},multiSelectAction:"forEach",readOnly:!0},{name:"cut",exec:function(editor){var range=editor.getSelectionRange();editor._emit("cut",range),editor.selection.isEmpty()||(editor.session.remove(range),editor.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},multiSelectAction:"forEach"},{name:"sortlines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach"},{name:"modifyNumberUp",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor,!0)})}},{name:"undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()}},{name:"movelinesup",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()}},{name:"copylinesdown",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()}},{name:"movelinesdown",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()}},{name:"del",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach"},{name:"cut_or_delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(!editor.selection.isEmpty())return!1;editor.remove("left")},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:bindKey("Alt-Delete","Ctrl-K"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:bindKey("Ctrl-T","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)}},{name:"touppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach"}]}),consoleAce.define("ace/undomanager",["require","exports","module"],function(require,exports,module){var UndoManager=function(){this.reset()};(function(){this.execute=function(options){var deltas=options.args[0];this.$doc=options.args[1],options.merge&&this.hasUndo()&&(deltas=this.$undoStack.pop().concat(deltas)),this.$undoStack.push(deltas),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(dontSelect){var deltas=this.$undoStack.pop(),undoSelectionRange=null;return deltas&&(undoSelectionRange=this.$doc.undoChanges(deltas,dontSelect),this.$redoStack.push(deltas),this.dirtyCounter--),undoSelectionRange},this.redo=function(dontSelect){var deltas=this.$redoStack.pop(),redoSelectionRange=null;return deltas&&(redoSelectionRange=this.$doc.redoChanges(deltas,dontSelect),this.$undoStack.push(deltas),this.dirtyCounter++),redoSelectionRange},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(UndoManager.prototype),exports.UndoManager=UndoManager}),consoleAce.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/useragent","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/renderloop","ace/lib/event_emitter"],function(require,exports,module){var oop=require("./lib/oop"),dom=require("./lib/dom"),config=(require("./lib/useragent"),require("./config")),GutterLayer=require("./layer/gutter").Gutter,MarkerLayer=require("./layer/marker").Marker,TextLayer=require("./layer/text").Text,CursorLayer=require("./layer/cursor").Cursor,HScrollBar=require("./scrollbar").HScrollBar,VScrollBar=require("./scrollbar").VScrollBar,RenderLoop=require("./renderloop").RenderLoop,EventEmitter=require("./lib/event_emitter").EventEmitter;dom.importCssString(".ace_editor {position: relative;overflow: hidden;font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;font-size: 12px;line-height: normal;color: black;}.ace_editor .ace_line {direction: ltr;unicode-bidi: bidi-override;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: text;min-width: 100%;}.ace_dragging, .ace_dragging * {cursor: move !important;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTQ4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTU4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBMjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBMzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgXxbAAAAJbSURBVHjapFNNaBNBFH4zs5vdZLP5sQmNpT82QY209heh1ioWisaDRcSKF0WKJ0GQnrzrxasHsR6EnlrwD0TagxJabaVEpFYxLWlLSS822tr87m66ccfd2GKyVhA6MMybgfe97/vmPUQphd0sZjto9XIn9OOsvlu2nkqRzVU+6vvlzPf8W6bk8dxQ0NPbxAALgCgg2JkaQuhzQau/El0zbmUA7U0Es8v2CiYmKQJHGO1QICCLoqilMhkmurDAyapKgqItezi/USRdJqEYY4D5jCy03ht2yMkkvL91jTTX10qzyyu2hruPRN7jgbH+EOsXcMLgYiThEgAMhABW85oqy1DXdRIdvP1AHJ2acQXvDIrVHcdQNrEKNYSVMSZGMjEzIIAwDXIo+6G/FxcGnzkC3T2oMhLjre49sBB+RRcHLqdafK6sYdE/GGBwU1VpFNj0aN8pJbe+BkZyevUrvLl6Xmm0W9IuTc0DxrDNAJd5oEvI/KRsNC3bQyNjPO9yQ1YHcfj2QvfQc/5TUhJTBc2iM0U7AWDQtc1nJHvD/cfO2s7jaGkiTEfa/Ep8coLu7zmNmh8+dc5lZDuUeFAGUNA/OY6JVaypQ0vjr7XYjUvJM37vt+j1vuTK5DgVfVUoTjVe+y3/LxMxY2GgU+CSLy4cpfsYorRXuXIOi0Vt40h67uZFTdIo6nLaZcwUJWAzwNS0tBnqqKzQDnjdG/iPyZxo46HaKUpbvYkj8qYRTZsBhge+JHhZyh0x9b95JqjVJkT084kZIPwu/mPWqPgfQ5jXh2+92Ay7HedfAgwA6KDWafb4w3cAAAAASUVORK5CYII=\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUM2OEZDQTg4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUM2OEZDQTk4RTU0MTFFMUEzM0VFRTM2RUY1M0RBMjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQzY4RkNBNjhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQzY4RkNBNzhFNTQxMUUxQTMzRUVFMzZFRjUzREEyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pgd7PfIAAAGmSURBVHjaYvr//z8DJZiJgUIANoCRkREb9gLiSVAaQx4OQM7AAkwd7XU2/v++/rOttdYGEB9dASEvOMydGKfH8Gv/p4XTkvRBfLxeQAP+1cUhXopyvzhP7P/IoSj7g7Mw09cNKO6J1QQ0L4gICPIv/veg/8W+JdFvQNLHVsW9/nmn9zk7B+cCkDwhL7gt6knSZnx9/LuCEOcvkIAMP+cvto9nfqyZmmUAksfnBUtbM60gX/3/kgyv3/xSFOL5DZT+L8vP+Yfh5cvfPvp/xUHyQHXGyAYwgpwBjZYFT3Y1OEl/OfCH4ffv3wzc4iwMvNIsDJ+f/mH4+vIPAxsb631WW0Yln6ZpQLXdMK/DXGDflh+sIv37EivD5x//Gb7+YWT4y86sl7BCCkSD+Z++/1dkvsFRl+HnD1Rvje4F8whjMXmGj58YGf5zsDMwcnAwfPvKcml62DsQDeaDxN+/Y0qwlpEHqrdB94IRNIDUgfgfKJChGK4OikEW3gTiXUB950ASLFAF54AC94A0G9QAfOnmF9DCDzABFqS08IHYDIScdijOjQABBgC+/9awBH96jwAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAAAAAEFBQVJSUl5eXmRkZGtra39/f4WFhYmJiZGRkaampry8vMPDw8zMzNXV1dzc3OTk5Orq6vDw8P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAABQALAAAAAAQABAAAAUuICWOZGmeaBml5XGwFCQSBGyXRSAwtqQIiRuiwIM5BoYVbEFIyGCQoeJGrVptIQA7\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRTk5MTVGREIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRTk5MTVGRUIxNDkxMUUxOTc5Q0FFREQyMTNGMjBFQyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZFOTkxNUZCQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZFOTkxNUZDQjE0OTExRTE5NzlDQUVERDIxM0YyMEVDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SIDkjAAAAJ1JREFUeNpi/P//PwMlgImBQkB7A6qrq/+DMC55FkIGKCoq4pVnpFkgTp069f/+/fv/r1u37r+tre1/kg0A+ptn9uzZYLaRkRHpLvjw4cNXWVlZhufPnzOcO3eOdAO0tbVPAjHDmzdvGA4fPsxIsgGSkpJmv379Ynj37h2DjIyMCMkG3LhxQ/T27dsMampqDHZ2dq/pH41DxwCAAAMAFdc68dUsFZgAAAAASUVORK5CYII=\");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: #f8f8f8;color: #111;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;/* setting pointer-events: auto; on node under the mouse, which changesduring scroll, will break mouse wheel scrolling in Safari */pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0px;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-moz-transition: opacity 0.18s;-webkit-transition: opacity 0.18s;-o-transition: opacity 0.18s;-ms-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_cursor[style*=\"opacity: 0\"]{-ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%3AIDAT8%11c%FC%FF%FF%7F%18%03%1A%60%01%F2%3F%A0%891%80%04%FF%11-%F8%17%9BJ%E2%05%B1ZD%81v%26t%E7%80%F8%A3%82h%A12%1A%20%A3%01%02%0F%01%BA%25%06%00%19%C0%0D%AEF%D5%3ES%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%11%00%00%00%09%08%06%00%00%00%D4%E8%C7%0C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%00%B5IDAT(%15%A5%91%3D%0E%02!%10%85ac%E1%05%D6%CE%D6%C6%CE%D2%E8%ED%CD%DE%C0%C6%D6N.%E0V%F8%3D%9Ca%891XH%C2%BE%D9y%3F%90!%E6%9C%C3%BFk%E5%011%C6-%F5%C8N%04%DF%BD%FF%89%DFt%83DN%60%3E%F3%AB%A0%DE%1A%5Dg%BE%10Q%97%1B%40%9C%A8o%10%8F%5E%828%B4%1B%60%87%F6%02%26%85%1Ch%1E%C1%2B%5Bk%FF%86%EE%B7j%09%9A%DA%9B%ACe%A3%F9%EC%DA!9%B4%D5%A6%81%86%86%98%CC%3C%5B%40%FA%81%B3%E9%CB%23%94%C16Azo%05%D4%E1%C1%95a%3B%8A'%A0%E8%CC%17%22%85%1D%BA%00%A2%FA%DC%0A%94%D1%D1%8D%8B%3A%84%17B%C7%60%1A%25Z%FC%8D%00%00%00%00IEND%AEB%60%82\"),url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%007%08%06%00%00%00%C4%DD%80C%00%00%03%1EiCCPICC%20Profile%00%00x%01%85T%DFk%D3P%14%FE%DAe%9D%B0%E1%8B%3Ag%11%09%3Eh%91ndStC%9C%B6kW%BA%CDZ%EA6%B7!H%9B%A6m%5C%9A%C6%24%ED~%B0%07%D9%8Bo%3A%C5w%F1%07%3E%F9%07%0C%D9%83o%7B%92%0D%C6%14a%F8%AC%88%22L%F6%22%B3%9E%9B4M'S%03%B9%F7%BB%DF%F9%EE9'%E7%E4%5E%A0%F9qZ%D3%14%2F%0F%14USO%C5%C2%FC%C4%E4%14%DF%F2%01%5E%1CC%2B%FChM%8B%86%16J%26G%40%0F%D3%B2y%EF%B3%F3%0E%1E%C6lt%EEo%DF%AB%FEc%D5%9A%95%0C%11%F0%1C%20%BE%945%C4%22%E1Y%A0i%5C%D4t%13%E0%D6%89%EF%9D15%C2%CDLsX%A7%04%09%1Fg8oc%81%E1%8C%8D%23%96f45%40%9A%09%C2%07%C5B%3AK%B8%408%98i%E0%F3%0D%D8%CE%81%14%E4'%26%A9%92.%8B%3C%ABER%2F%E5dE%B2%0C%F6%F0%1Fs%83%F2_%B0%A8%94%E9%9B%AD%E7%10%8Dm%9A%19N%D1%7C%8A%DE%1F9%7Dp%8C%E6%00%D5%C1%3F_%18%BDA%B8%9DpX6%E3%A35~B%CD%24%AE%11%26%BD%E7%EEti%98%EDe%9A%97Y)%12%25%1C%24%BCbT%AE3li%E6%0B%03%89%9A%E6%D3%ED%F4P%92%B0%9F4%BF43Y%F3%E3%EDP%95%04%EB1%C5%F5%F6KF%F4%BA%BD%D7%DB%91%93%07%E35%3E%A7)%D6%7F%40%FE%BD%F7%F5r%8A%E5y%92%F0%EB%B4%1E%8D%D5%F4%5B%92%3AV%DB%DB%E4%CD%A6%23%C3%C4wQ%3F%03HB%82%8E%1Cd(%E0%91B%0Ca%9Ac%C4%AA%F8L%16%19%22J%A4%D2itTy%B28%D6%3B(%93%96%ED%1CGx%C9_%0E%B8%5E%16%F5%5B%B2%B8%F6%E0%FB%9E%DD%25%D7%8E%BC%15%85%C5%B7%A3%D8Q%ED%B5%81%E9%BA%B2%13%9A%1B%7Fua%A5%A3n%E17%B9%E5%9B%1Bm%AB%0B%08Q%FE%8A%E5%B1H%5Ee%CAO%82Q%D7u6%E6%90S%97%FCu%0B%CF2%94%EE%25v%12X%0C%BA%AC%F0%5E%F8*l%0AO%85%17%C2%97%BF%D4%C8%CE%DE%AD%11%CB%80q%2C%3E%AB%9ES%CD%C6%EC%25%D2L%D2%EBd%B8%BF%8A%F5B%C6%18%F9%901CZ%9D%BE%24M%9C%8A9%F2%DAP%0B'%06w%82%EB%E6%E2%5C%2F%D7%07%9E%BB%CC%5D%E1%FA%B9%08%AD.r%23%8E%C2%17%F5E%7C!%F0%BE3%BE%3E_%B7o%88a%A7%DB%BE%D3d%EB%A31Z%EB%BB%D3%91%BA%A2%B1z%94%8F%DB'%F6%3D%8E%AA%13%19%B2%B1%BE%B1~V%08%2B%B4%A2cjJ%B3tO%00%03%25mN%97%F3%05%93%EF%11%84%0B%7C%88%AE-%89%8F%ABbW%90O%2B%0Ao%99%0C%5E%97%0CI%AFH%D9.%B0%3B%8F%ED%03%B6S%D6%5D%E6i_s9%F3*p%E9%1B%FD%C3%EB.7U%06%5E%19%C0%D1s.%17%A03u%E4%09%B0%7C%5E%2C%EB%15%DB%1F%3C%9E%B7%80%91%3B%DBc%AD%3Dma%BA%8B%3EV%AB%DBt.%5B%1E%01%BB%0F%AB%D5%9F%CF%AA%D5%DD%E7%E4%7F%0Bx%A3%FC%06%A9%23%0A%D6%C2%A1_2%00%00%00%09pHYs%00%00%0B%13%00%00%0B%13%01%00%9A%9C%18%00%00%003IDAT8%11c%FC%FF%FF%7F%3E%03%1A%60%01%F2%3F%A3%891%80%04%FFQ%26%F8w%C0%B43%A1%DB%0C%E2%8F%0A%A2%85%CAh%80%8C%06%08%3C%04%E8%96%18%00%A3S%0D%CD%CF%D8%C1%9D%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;}.ace_gutter-tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;display: inline-block;max-width: 500px;padding: 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre-line;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAe%8A%B1%0D%000%0C%C2%F2%2CK%96%BC%D0%8F9%81%88H%E9%D0%0E%96%C0%10%92%3E%02%80%5E%82%E4%A9*-%EEsw%C8%CC%11%EE%96w%D8%DC%E9*Eh%0C%151(%00%00%00%00IEND%AEB%60%82\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%05%00%00%00%05%08%06%00%00%00%8Do%26%E5%00%00%004IDATx%DAm%C7%C1%09%000%08C%D1%8C%ECE%C8E(%8E%EC%02)%1EZJ%F1%C1'%04%07I%E1%E5%EE%CAL%F5%A2%99%99%22%E2%D6%1FU%B5%FE0%D9x%A7%26Wz5%0E%D5%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%03%00%00%00%06%08%06%00%00%00%06%E5%24%0C%00%00%009IDATx%DA5%CA%C1%09%000%08%03%C0%AC*(%3E%04%C1%0D%BA%B1%23%A4Uh%E0%20%81%C0%CC%F8%82%81%AA%A2%AArGfr%88%08%11%11%1C%DD%7D%E0%EE%5B%F6%F6%CB%B8%05Q%2F%E9tai%D9%00%00%00%00IEND%AEB%60%82\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}/*** Dark version for fold widgets*/.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-moz-transition: opacity 0.4s ease 0.05s;-webkit-transition: opacity 0.4s ease 0.05s;-o-transition: opacity 0.4s ease 0.05s;-ms-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-moz-transition: opacity 0.05s ease 0.05s;-webkit-transition: opacity 0.05s ease 0.05s;-o-transition: opacity 0.05s ease 0.05s;-ms-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}","ace_editor");var VirtualRenderer=function(container,theme){var _self=this;this.container=container||dom.createElement("div"),this.$keepTextAreaAtCursor=!0,dom.addCssClass(this.container,"ace_editor"),this.setTheme(theme),this.$gutter=dom.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=dom.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=dom.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new GutterLayer(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element,this.$markerFront=new MarkerLayer(this.content),this.$cursorLayer=new CursorLayer(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this),this.scrollBarH=new HScrollBar(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){_self.$scrollAnimation||_self.session.setScrollTop(e.data-_self.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){_self.$scrollAnimation||_self.session.setScrollLeft(e.data-_self.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){_self.updateCharacterSize(),_self.onResize(!0,_self.gutterWidth,_self.$size.width,_self.$size.height),_self._signal("changeCharacterSize")}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),config.resetOptions(this),config._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,oop.implement(this,EventEmitter),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(session){this.session=session,this.scrollMargin.top&&session.getScrollTop()<=0&&session.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(session),this.$markerBack.setSession(session),this.$markerFront.setSession(session),this.$gutterLayer.setSession(session),this.$textLayer.setSession(session),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(firstRow,lastRow){void 0===lastRow&&(lastRow=1/0),this.$changedLines?(this.$changedLines.firstRow>firstRow&&(this.$changedLines.firstRow=firstRow),this.$changedLines.lastRow<lastRow&&(this.$changedLines.lastRow=lastRow)):this.$changedLines={firstRow:firstRow,lastRow:lastRow},this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(force){force?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(force,gutterWidth,width,height){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=force?1:0;var el=this.container;height||(height=el.clientHeight||el.scrollHeight),width||(width=el.clientWidth||el.scrollWidth);var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;force&&(this.$gutterLayer.$padding=null),force?this.$renderChanges(changes|this.$changes,!0):this.$loop.schedule(changes|this.$changes),this.resizing&&(this.resizing=0)}},this.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0,size=this.$size,oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};return height&&(force||size.height!=height)&&(size.height=height,changes=this.CHANGE_SIZE,size.scrollerHeight=size.height,this.$horizScroll&&(size.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",this.session&&(changes|=this.CHANGE_SCROLL)),width&&(force||size.width!=width)&&(changes=this.CHANGE_SIZE,size.width=width,null==gutterWidth&&(gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=gutterWidth,this.scrollBarH.element.style.left=this.scroller.style.left=gutterWidth+"px",size.scrollerWidth=Math.max(0,width-gutterWidth-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force)&&(changes|=this.CHANGE_FULL)),size.$dirty=!width||!height,changes&&this._signal("resize",oldSize),changes},this.onGutterResize=function(){var gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;gutterWidth!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,gutterWidth,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-2*this.$padding,limit=Math.floor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)},this.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(show){return this.setOption("showGutter",show)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)},this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var pos=this.$cursorLayer.$pixelPos,height=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var cursor=this.session.selection.getCursor();cursor.column=0,pos=this.$cursorLayer.getPixelPosition(cursor,!0),height*=this.session.getRowLength(cursor.row)}this.$gutterLineHighlight.style.top=pos.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=height+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer",this.$printMarginEl=dom.createElement("div"),this.$printMarginEl.className="ace_print-margin",containerEl.appendChild(this.$printMarginEl),this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",style.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var config=this.layerConfig,posTop=this.$cursorLayer.$pixelPos.top,posLeft=this.$cursorLayer.$pixelPos.left;posTop-=config.offset;var h=this.lineHeight;if(!(posTop<0||posTop>config.height-h)){var w=this.characterWidth;if(this.$composition){var val=this.textarea.value.replace(/^\x01+/,"");w*=this.session.$getStringScreenWidth(val)[0]+2,h+=2,posTop-=1}posLeft-=this.scrollLeft,posLeft>this.$size.scrollerWidth-w&&(posLeft=this.$size.scrollerWidth-w),posLeft-=this.scrollBar.width,this.textarea.style.height=h+"px",this.textarea.style.width=w+"px",this.textarea.style.right=Math.max(0,this.$size.scrollerWidth-posLeft-w)+"px",this.textarea.style.bottom=Math.max(0,this.$size.height-posTop-h)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var flint=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+flint},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(padding){this.$padding=padding,this.$textLayer.setPadding(padding),this.$cursorLayer.setPadding(padding),this.$markerFront.setPadding(padding),this.$markerBack.setPadding(padding),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=0|top,sm.bottom=0|bottom,sm.right=0|right,sm.left=0|left,sm.v=sm.top+sm.bottom,sm.h=sm.left+sm.right,sm.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(sm.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)},this.$updateScrollBarV=function(){this.scrollBarV.setScrollHeight(this.layerConfig.maxHeight+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(changes,force){if(this.$changes&&(changes|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!changes&&!force)return void(this.$changes|=changes);if(this.$size.$dirty)return this.$changes|=changes,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var config=this.layerConfig;return(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL)&&(changes|=this.$computeLayerConfig(),config=this.layerConfig,this.$updateScrollBarV(),changes&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-config.offset+"px",this.content.style.marginTop=-config.offset+"px",this.content.style.width=config.width+2*this.$padding+"px",this.content.style.height=config.minHeight+"px"),changes&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),changes&this.CHANGE_FULL?(this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):changes&this.CHANGE_SCROLL?(changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES?this.$textLayer.update(config):this.$textLayer.scrollLines(config),this.$showGutter&&this.$gutterLayer.update(config),this.$markerBack.update(config),this.$markerFront.update(config),this.$cursorLayer.update(config),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(changes&this.CHANGE_TEXT?(this.$textLayer.update(config),this.$showGutter&&this.$gutterLayer.update(config)):changes&this.CHANGE_LINES?(this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(config):(changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(config),changes&this.CHANGE_CURSOR&&(this.$cursorLayer.update(config),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(config),changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(config),void this._signal("afterRender"))},this.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight,maxHeight=this.$maxLines*this.lineHeight,desiredHeight=Math.max((this.$minLines||1)*this.lineHeight,Math.min(maxHeight,height))+this.scrollMargin.v+(this.$extraHeight||0),vScroll=height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){vScroll!=this.$vScroll&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll));var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px",this.$updateCachedSize(!0,this.$gutterWidth,w,desiredHeight),this.desiredHeight=desiredHeight}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var session=this.session,hideScrollbars=this.$size.height<=2*this.lineHeight,screenLines=this.session.getScreenLength(),maxHeight=screenLines*this.lineHeight,offset=this.scrollTop%this.lineHeight,minHeight=this.$size.scrollerHeight+this.lineHeight,longestLine=this.$getLongestLine(),horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||this.$size.scrollerWidth-longestLine-2*this.$padding<0),hScrollChanged=this.$horizScroll!==horizScroll;hScrollChanged&&(this.$horizScroll=horizScroll,this.scrollBarH.setVisible(horizScroll)),!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>maxHeight-this.$size.scrollerHeight&&(maxHeight+=Math.min((this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd,this.scrollTop-maxHeight+this.$size.scrollerHeight));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||this.$size.scrollerHeight-maxHeight<0),vScrollChanged=this.$vScroll!==vScroll;vScrollChanged&&(this.$vScroll=vScroll,this.scrollBarV.setVisible(vScroll)),this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,maxHeight-this.$size.scrollerHeight+this.scrollMargin.v))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,longestLine+2*this.$padding-this.$size.scrollerWidth+this.scrollMargin.h)));var firstRowScreen,firstRowHeight,lineCount=Math.ceil(minHeight/this.lineHeight)-1,firstRow=Math.max(0,Math.round((this.scrollTop-offset)/this.lineHeight)),lastRow=firstRow+lineCount,lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);foldLine&&(firstRow=foldLine.start.row),firstRowScreen=session.documentToScreenRow(firstRow,0),firstRowHeight=session.getRowLength(firstRow)*lineHeight,lastRow=Math.min(session.screenToDocumentRow(lastRow,0),session.getLength()-1),minHeight=this.$size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight,offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;return(hScrollChanged||vScrollChanged)&&(changes=this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this._signal("scrollbarVisibilityChanged"),vScrollChanged&&(longestLine=this.$getLongestLine())),this.layerConfig={width:longestLine,padding:this.$padding,firstRow:firstRow,firstRowScreen:firstRowScreen,lastRow:lastRow,lineHeight:lineHeight,characterWidth:this.characterWidth,minHeight:minHeight,maxHeight:maxHeight,offset:offset,height:this.$size.scrollerHeight},changes},this.$updateLines=function(){var firstRow=this.$changedLines.firstRow,lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(!(firstRow>layerConfig.lastRow+1||lastRow<layerConfig.firstRow))return lastRow===1/0?(this.$showGutter&&this.$gutterLayer.update(layerConfig),void this.$textLayer.update(layerConfig)):(this.$textLayer.updateLines(layerConfig,firstRow,lastRow),!0)},this.$getLongestLine=function(){var charCount=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(charCount+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(charCount*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)},this.updateBreakpoints=function(rows){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset),this.scrollCursorIntoView(lead,offset)},this.scrollCursorIntoView=function(cursor,offset){if(0!==this.$size.scrollerHeight){var pos=this.$cursorLayer.getPixelPosition(cursor),left=pos.left,top=pos.top,scrollTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;scrollTop>top?(offset&&(top-=offset*this.$size.scrollerHeight),0==top?top=-this.scrollMargin.top:0==top&&(top=+this.scrollMargin.bottom),this.session.setScrollTop(top)):scrollTop+this.$size.scrollerHeight<top+this.lineHeight&&(offset&&(top+=offset*this.$size.scrollerHeight),this.session.setScrollTop(top+this.lineHeight-this.$size.scrollerHeight));var scrollLeft=this.scrollLeft;scrollLeft>left?(left<this.$padding+2*this.layerConfig.characterWidth&&(left=-this.scrollMargin.left),this.session.setScrollLeft(left)):scrollLeft+this.$size.scrollerWidth<left+this.characterWidth?this.session.setScrollLeft(Math.round(left+this.characterWidth-this.$size.scrollerWidth)):scrollLeft<=this.$padding&&left-scrollLeft<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)},this.alignCursor=function(cursor,alignment){"number"==typeof cursor&&(cursor={row:cursor,column:0});var pos=this.$cursorLayer.getPixelPosition(cursor),h=this.$size.scrollerHeight-this.lineHeight,offset=pos.top-h*(alignment||0);return this.session.setScrollTop(offset),offset},this.STEPS=8,this.$calcSteps=function(fromValue,toValue){var i=0,l=this.STEPS,steps=[];for(i=0;i<l;++i)steps.push(function(t,x_min,dx){return dx*(Math.pow(t-1,3)+1)+x_min}(i/this.STEPS,fromValue,toValue-fromValue));return steps},this.scrollToLine=function(line,center,animate,callback){var pos=this.$cursorLayer.getPixelPosition({row:line,column:0}),offset=pos.top;center&&(offset-=this.$size.scrollerHeight/2);var initialScroll=this.scrollTop;this.session.setScrollTop(offset),!1!==animate&&this.animateScrolling(initialScroll,callback)},this.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(this.$animatedScroll){var _self=this;if(fromValue!=toValue){if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length&&(fromValue=oldSteps[0])==toValue)return}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps:steps},clearInterval(this.$timer),_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue,this.$timer=setInterval(function(){steps.length?(_self.session.setScrollTop(steps.shift()),_self.session.$scrollTop=toValue):null!=toValue?(_self.session.$scrollTop=-1,_self.session.setScrollTop(toValue),toValue=null):(_self.$timer=clearInterval(_self.$timer),_self.$scrollAnimation=null,callback&&callback())},10)}}},this.scrollToY=function(scrollTop){this.scrollTop!==scrollTop&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=scrollTop)},this.scrollToX=function(scrollLeft){this.scrollLeft!==scrollLeft&&(this.scrollLeft=scrollLeft),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(x,y){this.session.setScrollTop(y),this.session.setScrollLeft(y)},this.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY),deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)},this.isScrollableBy=function(deltaX,deltaY){return deltaY<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(deltaY>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight-(this.$size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd<-1+this.scrollMargin.bottom||(deltaX<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(deltaX>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),offset=(x+this.scrollLeft-canvasPos.left-this.$padding)/this.characterWidth,row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight),col=Math.round(offset);return{row:row,column:col,side:offset-col>0?1:-1}},this.screenToTextCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect(),col=Math.round((x+this.scrollLeft-canvasPos.left-this.$padding)/this.characterWidth),row=(y+this.scrollTop-canvasPos.top)/this.lineHeight;return this.session.screenToDocumentPosition(row,Math.max(col,0))},this.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect(),pos=this.session.documentToScreenPosition(row,column),x=this.$padding+Math.round(pos.column*this.characterWidth),y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}},this.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")},this.showComposition=function(position){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,dom.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(text){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(dom.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(theme,cb){function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(module.cssClass){dom.importCssString(module.cssText,module.cssClass,_self.container.ownerDocument),_self.theme&&dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;_self.$padding&&padding!=_self.$padding&&_self.setPadding(padding),_self.$theme=module.cssClass,_self.theme=module,dom.addCssClass(_self.container,module.cssClass),dom.setCssClass(_self.container,"ace_dark",module.isDark),_self.$size&&(_self.$size.width=0,_self.$updateSizeAsync()),_self._dispatchEvent("themeLoaded",{theme:module}),cb&&cb()}}var _self=this;if(this.$themeId=theme,_self._dispatchEvent("themeChange",{theme:theme}),theme&&"string"!=typeof theme)afterLoad(theme);else{var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(style,include){dom.setCssClass(this.container,style,!1!==include)},this.unsetStyle=function(style){dom.removeCssClass(this.container,style)},this.setCursorStyle=function(style){this.content.style.cursor!=style&&(this.content.style.cursor=style)},this.setMouseCursor=function(cursorStyle){this.content.style.cursor=cursorStyle},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(VirtualRenderer.prototype),config.defineOptions(VirtualRenderer.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(value){this.$textLayer.setShowInvisibles(value)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){"number"==typeof val&&(this.$printMarginColumn=val),this.$showPrintMargin=!!val,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none",this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:!1},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show)},initialValue:!0},displayIndentGuides:{set:function(show){this.$textLayer.setDisplayIndentGuides(show)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(shouldHighlight){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=dom.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=shouldHighlight?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(val){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(val){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(size){"number"==typeof size&&(size+="px"),this.container.style.fontSize=size,this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name,this.updateFontSize()}},maxLines:{set:function(val){this.updateFull()}},minLines:{set:function(val){this.updateFull()}},scrollPastEnd:{set:function(val){val=+val||0,this.$scrollPastEnd!=val&&(this.$scrollPastEnd=val,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),exports.VirtualRenderer=VirtualRenderer}),consoleAce.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(require,exports,module){var dom=require("../lib/dom"),oop=require("../lib/oop"),lang=require("../lib/lang"),EventEmitter=require("../lib/event_emitter").EventEmitter,Gutter=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_gutter-layer",parentEl.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){oop.implement(this,EventEmitter),this.setSession=function(session){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=session,session.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(row,className)},this.removeGutterDecoration=function(row,className){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(row,className)},this.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i],row=annotation.row,rowInfo=this.$annotations[row];rowInfo||(rowInfo=this.$annotations[row]={text:[]});var annoText=annotation.text;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"",-1===rowInfo.text.indexOf(annoText)&&rowInfo.text.push(annoText);var type=annotation.type;"error"==type?rowInfo.className=" ace_error":"warning"==type&&" ace_error"!=rowInfo.className?rowInfo.className=" ace_warning":"info"!=type||rowInfo.className||(rowInfo.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var delta=e.data,range=delta.range,firstRow=range.start.row,len=range.end.row-firstRow;if(0===len);else if("removeText"==delta.action||"removeLines"==delta.action)this.$annotations.splice(firstRow,len+1,null);else{var args=new Array(len+1);args.unshift(firstRow,1),this.$annotations.splice.apply(this.$annotations,args)}}},this.update=function(config){for(var firstRow=config.firstRow,lastRow=config.lastRow,session=this.session,fold=session.getNextFoldLine(firstRow),foldStart=fold?fold.start.row:1/0,foldWidgets=this.$showFoldWidgets&&session.foldWidgets,breakpoints=session.$breakpoints,decorations=session.$decorations,firstLineNumber=session.$firstLineNumber,lastLineNumber=0,gutterRenderer=session.gutterRenderer,cell=null,index=-1,row=firstRow;;){if(row>foldStart&&(row=fold.end.row+1,fold=session.getNextFoldLine(row,fold),foldStart=fold?fold.start.row:1/0),row>lastRow){for(;this.$cells.length>index+1;)cell=this.$cells.pop(),this.element.removeChild(cell.element);break}cell=this.$cells[++index],cell||(cell={element:null,textNode:null,foldWidget:null},cell.element=dom.createElement("div"),cell.textNode=document.createTextNode(""),cell.element.appendChild(cell.textNode),this.element.appendChild(cell.element),this.$cells[index]=cell);var className="ace_gutter-cell ";breakpoints[row]&&(className+=breakpoints[row]),decorations[row]&&(className+=decorations[row]),this.$annotations[row]&&(className+=this.$annotations[row].className),cell.element.className!=className&&(cell.element.className=className);var height=session.getRowLength(row)*config.lineHeight+"px";if(height!=cell.element.style.height&&(cell.element.style.height=height),foldWidgets){var c=foldWidgets[row];null==c&&(c=foldWidgets[row]=session.getFoldWidget(row))}if(c){cell.foldWidget||(cell.foldWidget=dom.createElement("span"),cell.element.appendChild(cell.foldWidget));var className="ace_fold-widget ace_"+c;"start"==c&&row==foldStart&&row<fold.end.row?className+=" ace_closed":className+=" ace_open",cell.foldWidget.className!=className&&(cell.foldWidget.className=className);var height=config.lineHeight+"px";cell.foldWidget.style.height!=height&&(cell.foldWidget.style.height=height)}else cell.foldWidget&&(cell.element.removeChild(cell.foldWidget),cell.foldWidget=null);var text=lastLineNumber=gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber;text!=cell.textNode.data&&(cell.textNode.data=text),row++}this.element.style.height=config.minHeight+"px",(this.$fixedWidth||session.$useWrapMode)&&(lastLineNumber=session.getLength()+firstLineNumber);var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineNumber,config):lastLineNumber.toString().length*config.characterWidth,padding=this.$padding||this.$computePadding();(gutterWidth+=padding.left+padding.right)===this.gutterWidth||isNaN(gutterWidth)||(this.gutterWidth=gutterWidth,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",gutterWidth))},this.$fixedWidth=!1,this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(show){show?dom.addCssClass(this.element,"ace_folding-enabled"):dom.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=show,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(style.paddingLeft)+1||0,this.$padding.right=parseInt(style.paddingRight)||0,this.$padding},this.getRegion=function(point){var padding=this.$padding||this.$computePadding(),rect=this.element.getBoundingClientRect();return point.x<padding.left+rect.left?"markers":this.$showFoldWidgets&&point.x>rect.right-padding.right?"foldWidgets":void 0}}).call(Gutter.prototype),exports.Gutter=Gutter}),consoleAce.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(require,exports,module){var Range=require("../range").Range,dom=require("../lib/dom"),Marker=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_marker-layer",parentEl.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setMarkers=function(markers){this.markers=markers},this.update=function(config){var config=config||this.config;if(config){this.config=config;var html=[];for(var key in this.markers){var marker=this.markers[key];if(marker.range){var range=marker.range.clipRows(config.firstRow,config.lastRow);if(!range.isEmpty())if(range=range.toScreenRange(this.session),marker.renderer){var top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;marker.renderer(html,range,left,top,config)}else"fullLine"==marker.type?this.drawFullLineMarker(html,range,marker.clazz,config):"screenLine"==marker.type?this.drawScreenLineMarker(html,range,marker.clazz,config):range.isMultiLine()?"text"==marker.type?this.drawTextMarker(html,range,marker.clazz,config):this.drawMultiLineMarker(html,range,marker.clazz,config):this.drawSingleLineMarker(html,range,marker.clazz+" ace_start",config)}else marker.update(html,this,this.session,config)}this.element=dom.setInnerHtml(this.element,html.join(""))}},this.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight},this.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){var row=range.start.row,lineRange=new Range(row,range.start.column,row,this.session.getScreenLastRowColumn(row));for(this.drawSingleLineMarker(stringBuilder,lineRange,clazz+" ace_start",layerConfig,1,extraStyle),row=range.end.row,lineRange=new Range(row,0,row,range.end.column),this.drawSingleLineMarker(stringBuilder,lineRange,clazz,layerConfig,0,extraStyle),row=range.start.row+1;row<range.end.row;row++)lineRange.start.row=row,lineRange.end.row=row,lineRange.end.column=this.session.getScreenLastRowColumn(row),this.drawSingleLineMarker(stringBuilder,lineRange,clazz,layerConfig,1,extraStyle)},this.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var padding=this.$padding,height=config.lineHeight,top=this.$getTop(range.start.row,config),left=padding+range.start.column*config.characterWidth;extraStyle=extraStyle||"",stringBuilder.push("<div class='",clazz," ace_start' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",left,"px;",extraStyle,"'></div>"),top=this.$getTop(range.end.row,config);var width=range.end.column*config.characterWidth;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>"),(height=(range.end.row-range.start.row-1)*config.lineHeight)<0||(top=this.$getTop(range.start.row+1,config),stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","right:0;","top:",top,"px;","left:",padding,"px;",extraStyle,"'></div>"))},this.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth,top=this.$getTop(range.start.row,config),left=this.$padding+range.start.column*config.characterWidth;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",left,"px;",extraStyle||"","'></div>")},this.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;range.start.row!=range.end.row&&(height+=this.$getTop(range.end.row,config)-top),stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")},this.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config),height=config.lineHeight;stringBuilder.push("<div class='",clazz,"' style='","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'></div>")}}).call(Marker.prototype),exports.Marker=Marker}),consoleAce.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(require,exports,module){var oop=require("../lib/oop"),dom=require("../lib/dom"),lang=require("../lib/lang"),useragent=require("../lib/useragent"),EventEmitter=require("../lib/event_emitter").EventEmitter,Text=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_text-layer",parentEl.appendChild(this.element),this.$characterSize={width:0,height:0},this.checkForSizeChanges(),this.$pollSizeChanges()};(function(){oop.implement(this,EventEmitter),this.EOF_CHAR="¶",this.EOL_CHAR="¬",this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.setPadding=function(padding){this.$padding=padding,this.element.style.padding="0 "+padding+"px"},this.getLineHeight=function(){return this.$characterSize.height||0},this.getCharacterWidth=function(){return this.$characterSize.width||0},this.checkForSizeChanges=function(){var size=this.$measureSizes();if(size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=size,this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height,this._emit("changeCharacterSize",{data:size})}},this.$pollSizeChanges=function(){var self=this;this.$pollSizeChangesTimer=setInterval(function(){self.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=useragent.isIE||useragent.isOldGecko?function(){if(!this.$measureNode){var measureNode=this.$measureNode=dom.createElement("div"),style=measureNode.style;if(style.width=style.height="auto",style.left=style.top=-4e4+"px",style.visibility="hidden",style.position="fixed",style.overflow="visible",style.whiteSpace="nowrap",measureNode.innerHTML=lang.stringRepeat("Xy",1e3),this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(measureNode);else{for(var container=this.element.parentNode;!dom.hasCssClass(container,"ace_editor");)container=container.parentNode;container.appendChild(measureNode)}}if(!this.element.offsetWidth)return null;var style=this.$measureNode.style,computedStyle=dom.computedStyle(this.element);for(var prop in this.$fontStyles)style[prop]=computedStyle[prop];var size={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/2e3};return 0==size.width||0==size.height?null:size}:function(){if(!this.$measureNode){var measureNode=this.$measureNode=dom.createElement("div"),style=measureNode.style;style.width=style.height="auto",style.left=style.top="-100px",style.visibility="hidden",style.position="fixed",style.overflow="visible",style.whiteSpace="nowrap",measureNode.innerHTML=lang.stringRepeat("X",100);for(var container=this.element.parentNode;container&&!dom.hasCssClass(container,"ace_editor");)container=container.parentNode;if(!container)return this.$measureNode=null;container.appendChild(measureNode)}var rect=this.$measureNode.getBoundingClientRect(),size={height:rect.height,width:rect.width/100};return 0==size.width||0==size.height?null:size},this.setSession=function(session){this.session=session,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(showInvisibles){return this.showInvisibles!=showInvisibles&&(this.showInvisibles=showInvisibles,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(display){return this.displayIndentGuides!=display&&(this.displayIndentGuides=display,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;for(var tabStr=this.$tabStrings=[0],i=1;i<tabSize+1;i++)this.showInvisibles?tabStr.push("<span class='ace_invisible'>"+this.TAB_CHAR+lang.stringRepeat(" ",i-1)+"</span>"):tabStr.push(lang.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var className="ace_indent-guide";if(this.showInvisibles){className+=" ace_invisible";var spaceContent=lang.stringRepeat(this.SPACE_CHAR,this.tabSize),tabContent=this.TAB_CHAR+lang.stringRepeat(" ",this.tabSize-1)}else var spaceContent=lang.stringRepeat(" ",this.tabSize),tabContent=spaceContent;this.$tabStrings[" "]="<span class='"+className+"'>"+spaceContent+"</span>",this.$tabStrings["\t"]="<span class='"+className+"'>"+tabContent+"</span>"}},this.updateLines=function(config,firstRow,lastRow){this.config.lastRow==config.lastRow&&this.config.firstRow==config.firstRow||this.scrollLines(config),this.config=config;for(var first=Math.max(firstRow,config.firstRow),last=Math.min(lastRow,config.lastRow),lineElements=this.element.childNodes,lineElementsIdx=0,row=config.firstRow;row<first;row++){var foldLine=this.session.getFoldLine(row);if(foldLine){if(foldLine.containsRow(first)){first=foldLine.start.row;break}row=foldLine.end.row}lineElementsIdx++}for(var row=first,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;;){if(row>foldStart&&(row=foldLine.end.row+1,foldLine=this.session.getNextFoldLine(row,foldLine),foldStart=foldLine?foldLine.start.row:1/0),row>last)break;var lineElement=lineElements[lineElementsIdx++];if(lineElement){var html=[];this.$renderLine(html,row,!this.$useLineGroups(),row==foldStart&&foldLine),lineElement.style.height=config.lineHeight*this.session.getRowLength(row)+"px",dom.setInnerHtml(lineElement,html.join(""))}row++}},this.scrollLines=function(config){var oldConfig=this.config;if(this.config=config,!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);var el=this.element;if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)el.removeChild(el.firstChild);if(oldConfig.lastRow>config.lastRow)for(var row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);row>0;row--)el.removeChild(el.lastChild);if(config.firstRow<oldConfig.firstRow){var fragment=this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1);el.firstChild?el.insertBefore(fragment,el.firstChild):el.appendChild(fragment)}if(config.lastRow>oldConfig.lastRow){var fragment=this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow);el.appendChild(fragment)}},this.$renderLinesFragment=function(config,firstRow,lastRow){for(var fragment=this.element.ownerDocument.createDocumentFragment(),row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;;){if(row>foldStart&&(row=foldLine.end.row+1,foldLine=this.session.getNextFoldLine(row,foldLine),foldStart=foldLine?foldLine.start.row:1/0),row>lastRow)break;var container=dom.createElement("div"),html=[];if(this.$renderLine(html,row,!1,row==foldStart&&foldLine),container.innerHTML=html.join(""),this.$useLineGroups())container.className="ace_line_group",fragment.appendChild(container),container.style.height=config.lineHeight*this.session.getRowLength(row)+"px";else for(var lines=container.childNodes;lines.length;)fragment.appendChild(lines[0]);row++}return fragment},this.update=function(config){this.config=config;for(var html=[],firstRow=config.firstRow,lastRow=config.lastRow,row=firstRow,foldLine=this.session.getNextFoldLine(row),foldStart=foldLine?foldLine.start.row:1/0;;){if(row>foldStart&&(row=foldLine.end.row+1,foldLine=this.session.getNextFoldLine(row,foldLine),foldStart=foldLine?foldLine.start.row:1/0),row>lastRow)break;this.$useLineGroups()&&html.push("<div class='ace_line_group' style='height:",config.lineHeight*this.session.getRowLength(row),"px'>"),this.$renderLine(html,row,!1,row==foldStart&&foldLine),this.$useLineGroups()&&html.push("</div>"),row++}this.element=dom.setInnerHtml(this.element,html.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(stringBuilder,screenColumn,token,value){var self=this,replaceReg=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,replaceFunc=function(c,a,b,tabIdx,idx4){if(a)return self.showInvisibles?"<span class='ace_invisible'>"+lang.stringRepeat(self.SPACE_CHAR,c.length)+"</span>":lang.stringRepeat(" ",c.length);if("&"==c)return"&#38;";if("<"==c)return"&#60;";if("\t"==c){var tabSize=self.session.getScreenTabSize(screenColumn+tabIdx);return screenColumn+=tabSize-1,self.$tabStrings[tabSize]}if("　"==c){var classToUse=self.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",space=self.showInvisibles?self.SPACE_CHAR:"";return screenColumn+=1,"<span class='"+classToUse+"' style='width:"+2*self.config.characterWidth+"px'>"+space+"</span>"}return b?"<span class='ace_invisible ace_invalid'>"+self.SPACE_CHAR+"</span>":(screenColumn+=1,"<span class='ace_cjk' style='width:"+2*self.config.characterWidth+"px'>"+c+"</span>")},output=value.replace(replaceReg,replaceFunc);if(this.$textToken[token.type])stringBuilder.push(output);else{var classes="ace_"+token.type.replace(/\./g," ace_"),style="";"fold"==token.type&&(style=" style='width:"+token.value.length*this.config.characterWidth+"px;' "),stringBuilder.push("<span class='",classes,"'",style,">",output,"</span>")}return screenColumn+value.length},this.renderIndentGuide=function(stringBuilder,value,max){var cols=value.search(this.$indentGuideRe);return cols<=0||cols>=max?value:" "==value[0]?(cols-=cols%this.tabSize,stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "],cols/this.tabSize)),value.substr(cols)):"\t"==value[0]?(stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"],cols)),value.substr(cols)):value},this.$renderWrappedLine=function(stringBuilder,tokens,splits,onlyContents){for(var chars=0,split=0,splitChars=splits[0],screenColumn=0,i=0;i<tokens.length;i++){var token=tokens[i],value=token.value;if(0==i&&this.displayIndentGuides){if(chars=value.length,!(value=this.renderIndentGuide(stringBuilder,value,splitChars)))continue;chars-=value.length}if(chars+value.length<splitChars)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value),chars+=value.length;else{for(;chars+value.length>=splitChars;)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value.substring(0,splitChars-chars)),value=value.substring(splitChars-chars),chars=splitChars,onlyContents||stringBuilder.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),split++,screenColumn=0,splitChars=splits[split]||Number.MAX_VALUE;0!=value.length&&(chars+=value.length,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value))}}},this.$renderSimpleLine=function(stringBuilder,tokens){var screenColumn=0,token=tokens[0],value=token.value;this.displayIndentGuides&&(value=this.renderIndentGuide(stringBuilder,value)),value&&(screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value));for(var i=1;i<tokens.length;i++)token=tokens[i],value=token.value,screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value)},this.$renderLine=function(stringBuilder,row,onlyContents,foldLine){if(foldLine||0==foldLine||(foldLine=this.session.getFoldLine(row)),foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else var tokens=this.session.getTokens(row);if(onlyContents||stringBuilder.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(row)),"px'>"),tokens.length){var splits=this.session.getRowSplitData(row);splits&&splits.length?this.$renderWrappedLine(stringBuilder,tokens,splits,onlyContents):this.$renderSimpleLine(stringBuilder,tokens)}this.showInvisibles&&(foldLine&&(row=foldLine.end.row),stringBuilder.push("<span class='ace_invisible'>",row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),onlyContents||stringBuilder.push("</div>")},this.$getFoldLineTokens=function(row,foldLine){function addTokens(tokens,from,to){for(var idx=0,col=0;col+tokens[idx].value.length<from;)if(col+=tokens[idx].value.length,++idx==tokens.length)return;if(col!=from){var value=tokens[idx].value.substring(from-col);value.length>to-from&&(value=value.substring(0,to-from)),renderTokens.push({type:tokens[idx].type,value:value}),col=from+value.length,idx+=1}for(;col<to&&idx<tokens.length;){var value=tokens[idx].value;value.length+col>to?renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)}):renderTokens.push(tokens[idx]),col+=value.length,idx+=1}}var session=this.session,renderTokens=[],tokens=session.getTokens(row);return foldLine.walk(function(placeholder,row,column,lastColumn,isNewRow){null!=placeholder?renderTokens.push({type:"fold",value:placeholder}):(isNewRow&&(tokens=session.getTokens(row)),tokens.length&&addTokens(tokens,lastColumn,column))},foldLine.end.row,this.session.getLine(foldLine.end.row).length),renderTokens},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(Text.prototype),exports.Text=Text}),consoleAce.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(require,exports,module){var dom=require("../lib/dom"),Cursor=function(parentEl){this.element=dom.createElement("div"),this.element.className="ace_layer ace_cursor-layer",parentEl.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),dom.addCssClass(this.element,"ace_hidden-cursors")};(function(){this.$padding=0,this.setPadding=function(padding){this.$padding=padding},this.setSession=function(session){this.session=session},this.setBlinking=function(blinking){blinking!=this.isBlinking&&(this.isBlinking=blinking,this.restartTimer())},this.setBlinkInterval=function(blinkInterval){blinkInterval!=this.blinkInterval&&(this.blinkInterval=blinkInterval,this.restartTimer())},this.setSmoothBlinking=function(smoothBlinking){smoothBlinking!=this.smoothBlinking&&(this.smoothBlinking=smoothBlinking,smoothBlinking?dom.addCssClass(this.element,"ace_smooth-blinking"):dom.removeCssClass(this.element,"ace_smooth-blinking"),this.restartTimer())},this.addCursor=function(){var el=dom.createElement("div");return el.className="ace_cursor",this.element.appendChild(el),this.cursors.push(el),el},this.removeCursor=function(){if(this.cursors.length>1){var el=this.cursors.pop();return el.parentNode.removeChild(el),el}},this.hideCursor=function(){this.isVisible=!1,dom.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,dom.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&dom.removeCssClass(this.element,"ace_smooth-blinking");for(var i=this.cursors.length;i--;)this.cursors[i].style.opacity="";if(this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var blink=function(){this.timeoutId=setTimeout(function(){for(var i=this.cursors.length;i--;)this.cursors[i].style.opacity=0}.bind(this),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){for(var i=this.cursors.length;i--;)this.cursors[i].style.opacity="";blink()}.bind(this),this.blinkInterval),blink()}},this.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};position||(position=this.session.selection.getCursor());var pos=this.session.documentToScreenPosition(position);return{left:this.$padding+pos.column*this.config.characterWidth,top:(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(config){this.config=config;var selections=this.session.$selectionMarkers,i=0,cursorIndex=0;void 0!==selections&&0!==selections.length||(selections=[{cursor:null}]);for(var i=0,n=selections.length;i<n;i++){var pixelPos=this.getPixelPosition(selections[i].cursor,!0);if(!((pixelPos.top>config.height+config.offset||pixelPos.top<-config.offset)&&i>1)){var style=(this.cursors[cursorIndex++]||this.addCursor()).style;style.left=pixelPos.left+"px",style.top=pixelPos.top+"px",style.width=config.characterWidth+"px",style.height=config.lineHeight+"px"}}for(;this.cursors.length>cursorIndex;)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite),this.$pixelPos=pixelPos,this.restartTimer()},this.$setOverwrite=function(overwrite){overwrite!=this.overwrite&&(this.overwrite=overwrite,overwrite?dom.addCssClass(this.element,"ace_overwrite-cursors"):dom.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(Cursor.prototype),exports.Cursor=Cursor}),consoleAce.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(require,exports,module){var oop=require("./lib/oop"),dom=require("./lib/dom"),event=require("./lib/event"),EventEmitter=require("./lib/event_emitter").EventEmitter,ScrollBar=function(parent){this.element=dom.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=dom.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),parent.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,event.addListener(this.element,"scroll",this.onScroll.bind(this)),event.addListener(this.element,"mousedown",event.preventDefault)};(function(){oop.implement(this,EventEmitter),this.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none",this.isVisible=isVisible}}).call(ScrollBar.prototype);var VScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollTop=0,renderer.$scrollbarWidth=this.width=dom.scrollbarWidth(parent.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};oop.inherits(VScrollBar,ScrollBar),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(height){this.element.style.height=height+"px"},this.setInnerHeight=function(height){this.inner.style.height=height+"px"},this.setScrollHeight=function(height){this.inner.style.height=height+"px"},this.setScrollTop=function(scrollTop){this.scrollTop!=scrollTop&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=scrollTop)}}.call(VScrollBar.prototype);var HScrollBar=function(parent,renderer){ScrollBar.call(this,parent),this.scrollLeft=0,this.height=renderer.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};oop.inherits(HScrollBar,ScrollBar),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(width){this.element.style.width=width+"px"},this.setInnerWidth=function(width){this.inner.style.width=width+"px"},this.setScrollWidth=function(width){this.inner.style.width=width+"px"},this.setScrollLeft=function(scrollLeft){this.scrollLeft!=scrollLeft&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=scrollLeft)}}.call(HScrollBar.prototype),exports.ScrollBar=VScrollBar,exports.ScrollBarV=VScrollBar,exports.ScrollBarH=HScrollBar,exports.VScrollBar=VScrollBar,exports.HScrollBar=HScrollBar}),consoleAce.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(require,exports,module){var event=require("./lib/event"),RenderLoop=function(onRender,win){this.onRender=onRender,this.pending=!1,this.changes=0,this.window=win||window};(function(){this.schedule=function(change){if(this.changes=this.changes|change,!this.pending&&this.changes){this.pending=!0;var _self=this;event.nextFrame(function(){_self.pending=!1;for(var changes;changes=_self.changes;)_self.changes=0,_self.onRender(changes)},this.window)}}}).call(RenderLoop.prototype),exports.RenderLoop=RenderLoop}),consoleAce.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(require,exports,module){function find(session,needle,dir){return search.$options.wrap=!0,search.$options.needle=needle,search.$options.backwards=-1==dir,search.find(session)}function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}function MultiSelect(editor){editor.$multiselectOnSessionChange||(editor.$onAddRange=editor.$onAddRange.bind(editor),editor.$onRemoveRange=editor.$onRemoveRange.bind(editor),editor.$onMultiSelect=editor.$onMultiSelect.bind(editor),editor.$onSingleSelect=editor.$onSingleSelect.bind(editor),editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor),editor.$multiselectOnSessionChange(editor),editor.on("changeSession",editor.$multiselectOnSessionChange),editor.on("mousedown",onMouseDown),editor.commands.addCommands(commands.defaultCommands),addAltCursorListeners(editor))}function addAltCursorListeners(editor){function reset(e){altCursor&&(editor.renderer.setMouseCursor(""),altCursor=!1)}var el=editor.textInput.getElement(),altCursor=!1;event.addListener(el,"keydown",function(e){18!=e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?altCursor&&reset():altCursor||(editor.renderer.setMouseCursor("crosshair"),altCursor=!0)}),event.addListener(el,"keyup",reset),event.addListener(el,"blur",reset)}var RangeList=require("./range_list").RangeList,Range=require("./range").Range,Selection=require("./selection").Selection,onMouseDown=require("./mouse/multi_select_handler").onMouseDown,event=require("./lib/event"),lang=require("./lib/lang"),commands=require("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var Search=require("./search").Search,search=new Search,EditSession=require("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(range,$blockChangeEvents){if(range){if(!this.inMultiSelectMode&&0==this.rangeCount){var oldRange=this.toOrientedRange();if(this.rangeList.add(oldRange),this.rangeList.add(range),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),$blockChangeEvents||this.fromOrientedRange(range);this.rangeList.removeAll(),this.rangeList.add(oldRange),this.$onAddRange(oldRange)}range.cursor||(range.cursor=range.end);var removed=this.rangeList.add(range);return this.$onAddRange(range),removed.length&&this.$onRemoveRange(removed),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),$blockChangeEvents||this.fromOrientedRange(range)}},this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();removed.length&&this.$onRemoveRange(removed),range&&this.fromOrientedRange(range)},this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed)return this.$onRemoveRange(removed),removed[0]},this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();removed.length?this.$onRemoveRange(removed):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(range),this._emit("addRange",{range:range})},this.$onRemoveRange=function(removed){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange),this.rangeCount=0}for(var i=removed.length;i--;){var index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._emit("removeRange",{ranges:removed}),0==this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(lastRange=lastRange||this.ranges[0])&&!lastRange.isEqual(this.getRange())&&this.fromOrientedRange(lastRange)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new RangeList,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var range=this.getRange(),isBackwards=this.isBackwards(),startRow=range.start.row,endRow=range.end.row;if(startRow==endRow){if(isBackwards)var start=range.end,end=range.start;else var start=range.start,end=range.end;return this.addRange(Range.fromPoints(end,end)),void this.addRange(Range.fromPoints(start,start))}var rectSel=[],r=this.getLineRange(startRow,!0);r.start.column=range.start.column,rectSel.push(r);for(var i=startRow+1;i<endRow;i++)rectSel.push(this.getLineRange(i,!0));r=this.getLineRange(endRow,!0),r.end.column=range.end.column,rectSel.push(r),rectSel.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges,lastRange=ranges[ranges.length-1],range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange(),this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.selectionLead),anchor=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(cursor,anchor).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[],xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards)var startColumn=screenCursor.column,endColumn=screenAnchor.column;else var startColumn=screenAnchor.column,endColumn=screenCursor.column;var yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards)var startRow=screenCursor.row,endRow=screenAnchor.row;else var startRow=screenAnchor.row,endRow=screenCursor.row;startColumn<0&&(startColumn=0),startRow<0&&(startRow=0),startRow==endRow&&(includeEmptyLines=!0);for(var row=startRow;row<=endRow;row++){var range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn),this.session.screenToDocumentPosition(row,endColumn));if(range.isEmpty()){if(docEnd&&isSamePoint(range.end,docEnd))break;var docEnd=range.end}range.cursor=xBackwards?range.start:range.end,rectSel.push(range)}if(yBackwards&&rectSel.reverse(),!includeEmptyLines){for(var end=rectSel.length-1;rectSel[end].isEmpty()&&end>0;)end--;if(end>0)for(var start=0;rectSel[start].isEmpty();)start++;for(var i=end;i>=start;i--)rectSel[i].isEmpty()&&rectSel.splice(i,1)}return rectSel}}.call(Selection.prototype);var Editor=require("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(orientedRange){orientedRange.cursor||(orientedRange.cursor=orientedRange.end);var style=this.getSelectionStyle();return orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style),this.session.$selectionMarkers.push(orientedRange),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,orientedRange},this.removeSelectionMarker=function(range){if(range.marker){this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);-1!=index&&this.session.$selectionMarkers.splice(index,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(ranges){for(var markerList=this.session.$selectionMarkers,i=ranges.length;i--;){var range=ranges[i];if(range.marker){this.session.removeMarker(range.marker);var index=markerList.indexOf(range);-1!=index&&markerList.splice(index,1)}}this.session.selectionMarkerCount=markerList.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(commands.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(commands.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onMultiSelectExec=function(e){var command=e.command,editor=e.editor;if(editor.multiSelect){if(command.multiSelectAction)"forEach"==command.multiSelectAction?result=editor.forEachSelection(command,e.args):"forEachLine"==command.multiSelectAction?result=editor.forEachSelection(command,e.args,!0):"single"==command.multiSelectAction?(editor.exitMultiSelectMode(),result=command.exec(editor,e.args||{})):result=command.multiSelectAction(editor,e.args||{});else{var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange()),editor.multiSelect.mergeOverlappingRanges()}return result}},this.forEachSelection=function(cmd,args,$byLines){if(!this.inVirtualSelectionMode){var result,session=this.session,selection=this.selection,rangeList=selection.rangeList,reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=!0;for(var i=rangeList.ranges.length;i--;){if($byLines)for(;i>0&&rangeList.ranges[i].start.row==rangeList.ranges[i-1].end.row;)i--;tmpSel.fromOrientedRange(rangeList.ranges[i]),this.selection=session.selection=tmpSel;var cmdResult=cmd.exec(this,args||{});void 0==!result&&(result=cmdResult),tmpSel.toOrientedRange(rangeList.ranges[i])}tmpSel.detach(),this.selection=session.selection=selection,this.inVirtualSelectionMode=!1,selection._eventRegistry=reg,selection.mergeOverlappingRanges();var anim=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),anim&&anim.from==anim.to&&this.renderer.animateScrolling(anim.from),result}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var ranges=this.multiSelect.rangeList.ranges,buf=[],i=0;i<ranges.length;i++)buf.push(this.session.getTextRange(ranges[i]));var nl=this.session.getDocument().getNewLineCharacter();text=buf.join(nl),text.length==(buf.length-1)*nl.length&&(text="")}else this.selection.isEmpty()||(text=this.session.getTextRange(this.getSelectionRange()));return text},this.onPaste=function(text){if(!this.$readOnly){if(this._signal("paste",text),!this.inMultiSelectMode||this.inVirtualSelectionMode)return this.insert(text);var lines=text.split(/\r\n|\r|\n/),ranges=this.selection.rangeList.ranges;if(lines.length>ranges.length||lines.length<2||!lines[1])return this.commands.exec("insertstring",this,text);for(var i=ranges.length;i--;){var range=ranges[i];range.isEmpty()||this.session.remove(range),this.session.insert(range.start,lines[i])}}},this.findAll=function(needle,options,additive){options=options||{},options.needle=needle||options.needle,this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;this.$blockScrolling+=1;var selection=this.multiSelect;additive||selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],!0);return this.$blockScrolling-=1,ranges.length},this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange(),isBackwards=range.cursor==range.end,screenLead=this.session.documentToScreenPosition(range.cursor);this.selection.$desiredColumn&&(screenLead.column=this.selection.$desiredColumn);var lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(range.isEmpty())var anchor=lead;else var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start),anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column);if(isBackwards){var newRange=Range.fromPoints(lead,anchor);newRange.cursor=newRange.start}else{var newRange=Range.fromPoints(anchor,lead);newRange.cursor=newRange.end}if(newRange.desiredColumn=screenLead.column,this.selection.inMultiSelectMode){if(skip)var toRemove=range.cursor}else this.selection.addRange(range);this.selection.addRange(newRange),toRemove&&this.selection.substractPoint(toRemove)},this.transposeSelections=function(dir){for(var session=this.session,sel=session.multiSelect,all=sel.ranges,i=all.length;i--;){var range=all[i];if(range.isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row,range.start.column=tmp.start.column,range.end.row=tmp.end.row,range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();for(var words=[],i=all.length;i--;){var range=all[i];words.unshift(session.getTextRange(range))}dir<0?words.unshift(words.pop()):words.push(words.shift());for(var i=all.length;i--;){var range=all[i],tmp=range.clone();session.replace(range,words[i]),range.start.row=tmp.start.row,range.start.column=tmp.start.column}},this.selectMore=function(dir,skip){var session=this.session,sel=session.multiSelect,range=sel.toOrientedRange();range.isEmpty()&&(range=session.getWordRange(range.start.row,range.start.column),range.cursor=-1==dir?range.start:range.end,this.multiSelect.addRange(range));var needle=session.getTextRange(range),newRange=find(session,needle,dir);newRange&&(newRange.cursor=-1==dir?newRange.start:newRange.end,this.$blockScrolling+=1,this.session.unfold(newRange),this.multiSelect.addRange(newRange),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),skip&&this.multiSelect.substractPoint(range.cursor)},this.alignCursors=function(){var session=this.session,sel=session.multiSelect,ranges=sel.ranges;if(ranges.length){var row=-1,sameRowRanges=ranges.filter(function(r){if(r.cursor.row==row)return!0;row=r.cursor.row});sel.$onRemoveRange(sameRowRanges);var maxCol=0,minSpace=1/0,spaceOffsets=ranges.map(function(r){var p=r.cursor,line=session.getLine(p.row),spaceOffset=line.substr(p.column).search(/\S/g);return-1==spaceOffset&&(spaceOffset=0),p.column>maxCol&&(maxCol=p.column),spaceOffset<minSpace&&(minSpace=spaceOffset),spaceOffset});ranges.forEach(function(r,i){var p=r.cursor,l=maxCol-p.column,d=spaceOffsets[i]-minSpace;l>d?session.insert(p,lang.stringRepeat(" ",l-d)):session.remove(new Range(p.row,p.column,p.row,p.column-l+d)),r.start.column=r.end.column=maxCol,r.start.row=r.end.row=p.row,r.cursor=r.end}),sel.fromOrientedRange(ranges[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var range=this.selection.getRange(),fr=range.start.row,lr=range.end.row,guessRange=fr==lr;if(guessRange){var line,max=this.session.getLength();do{line=this.session.getLine(lr)}while(/[=:]/.test(line)&&++lr<max);do{line=this.session.getLine(fr)}while(/[=:]/.test(line)&&--fr>0);fr<0&&(fr=0),lr>=max&&(lr=max-1)}var lines=this.session.doc.removeLines(fr,lr);lines=this.$reAlignText(lines,guessRange),this.session.doc.insert({row:fr,column:0},lines.join("\n")+"\n"),guessRange||(range.start.column=0,range.end.column=lines[lines.length-1].length),this.selection.setRange(range)}},this.$reAlignText=function(lines,forceLeft){function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return m[2]?spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}function alignRight(m){return m[2]?spaces(startW+textW-m[2].length)+m[2]+spaces(endW," ")+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}function unAlign(m){return m[2]?spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 "):m[0]}var startW,textW,endW,isLeftAligned=!0,isRightAligned=!0;return lines.map(function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);return m?null==startW?(startW=m[1].length,textW=m[2].length,endW=m[3].length,m):(startW+textW+endW!=m[1].length+m[2].length+m[3].length&&(isRightAligned=!1),startW!=m[1].length&&(isLeftAligned=!1),startW>m[1].length&&(startW=m[1].length),textW<m[2].length&&(textW=m[2].length),endW>m[3].length&&(endW=m[3].length),m):[line]}).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?alignRight:alignLeft:unAlign)}}).call(Editor.prototype),exports.onSessionChange=function(e){var session=e.session;session.multiSelect||(session.$selectionMarkers=[],session.selection.$initRangeList(),session.multiSelect=session.selection),this.multiSelect=session.multiSelect;var oldSession=e.oldSession;oldSession&&(oldSession.multiSelect.removeEventListener("addRange",this.$onAddRange),oldSession.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),oldSession.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),oldSession.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),session.multiSelect.on("addRange",this.$onAddRange),session.multiSelect.on("removeRange",this.$onRemoveRange),session.multiSelect.on("multiSelect",this.$onMultiSelect),session.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=session.selection.inMultiSelectMode&&(session.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},exports.MultiSelect=MultiSelect,require("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this),val?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",onMouseDown)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",onMouseDown))},value:!0}})}),consoleAce.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event"],function(require,exports,module){function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}function onMouseDown(e){var ev=e.domEvent,alt=ev.altKey,shift=ev.shiftKey,ctrl=e.getAccelKey(),button=e.getButton();if(e.editor.inMultiSelectMode&&2==button)return void e.editor.textInput.onContextMenu(e.domEvent);if(!ctrl&&!alt)return void(0==button&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());var editor=e.editor,selection=editor.selection,isMultiSelect=editor.inMultiSelectMode,pos=e.getDocumentPosition(),cursor=selection.getCursor(),inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor),mouseX=e.x,mouseY=e.y,onMouseSelection=function(e){mouseX=e.clientX,mouseY=e.clientY},blockSelect=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column);isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.selectionLead)||(screenCursor=newCursor,editor.selection.moveCursorToPosition(cursor),editor.selection.clearSelection(),editor.renderer.scrollCursorIntoView(),editor.removeSelectionMarkers(rectSel),rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor),rectSel.forEach(editor.addSelectionMarker,editor),editor.updateSelectionMarkers())},session=editor.session,screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY),screenCursor=screenAnchor;if(!ctrl||shift||alt||0!=button){if(alt&&0==button){e.stop(),isMultiSelect&&!ctrl?selection.toSingleRange():!isMultiSelect&&ctrl&&selection.addRange();var rectSel=[];shift?(screenAnchor=session.documentToScreenPosition(selection.lead),blockSelect()):(selection.moveCursorToPosition(pos),selection.clearSelection());var onMouseSelectionEnd=function(e){clearInterval(timerId),editor.removeSelectionMarkers(rectSel);for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i])},onSelectionInterval=blockSelect;event.capture(editor.container,onMouseSelection,onMouseSelectionEnd);var timerId=setInterval(function(){onSelectionInterval()},20);return e.preventDefault()}}else{if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.$blockScrolling++,editor.once("mouseup",function(){var tmpSel=selection.toOrientedRange();oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor)?selection.substractPoint(tmpSel.cursor):(range&&(editor.removeSelectionMarker(range),selection.addRange(range)),selection.addRange(tmpSel)),editor.$blockScrolling--})}}var event=require("../lib/event");exports.onMouseDown=onMouseDown}),consoleAce.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(require,exports,module){exports.defaultCommands=[{name:"addCursorAbove",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(editor){editor.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(editor){editor.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(editor){editor.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(editor){editor.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(editor){editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}}],exports.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},readonly:!0,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=require("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)}),consoleAce.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/config"],function(require,exports,module){var oop=require("../lib/oop"),EventEmitter=require("../lib/event_emitter").EventEmitter,config=require("../config"),WorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),require.nameToUrl&&!require.toUrl&&(require.toUrl=require.nameToUrl);var workerUrl;if(config.get("packaged")||!require.toUrl)workerUrl=config.moduleUrl(mod,"worker");else{var normalizePath=this.$normalizePath;workerUrl=normalizePath(require.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach(function(ns){tlns[ns]=normalizePath(require.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=new Worker(workerUrl),this.$worker.postMessage({init:!0,tlns:tlns,module:mod,classname:classname}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter),this.onMessage=function(e){var msg=e.data;switch(msg.type){case"log":window.console&&console.log&&console.log.apply(console,msg.data);break;case"event":this._emit(msg.name,{data:msg.data});break;case"call":var callback=this.callbacks[msg.id];callback&&(callback(msg.data),delete this.callbacks[msg.id])}},this.$normalizePath=function(path){return location.host?(path=path.replace(/^[a-z]+:\/\/[^\/]+/,""),path=location.protocol+"//"+location.host+("/"==path.charAt(0)?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+path.replace(/^[\/]+/,"")):path},this.terminate=function(){this._emit("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args:args})},this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback,args.push(id)}this.send(cmd,args)},this.emit=function(event,data){try{this.$worker.postMessage({event:event,data:{data:data.data}})}catch(ex){}},this.attachToDocument=function(doc){this.$doc&&this.terminate(),this.$doc=doc,this.call("setValue",[doc.getValue()]),doc.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var q=this.deltaQueue;q&&(this.deltaQueue=null,q.length>20&&q.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:q}))}}).call(WorkerClient.prototype);var UIWorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var main=null,sender=Object.create(EventEmitter),_self=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){_self.messageBuffer.push(e),main&&setTimeout(processNext)};var processNext=function(){var msg=_self.messageBuffer.shift();msg.command?main[msg.command].apply(main,msg.args):msg.event&&sender._emit(msg.event,msg.data)};sender.postMessage=function(msg){_self.onMessage({data:msg})},sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data:data})},sender.emit=function(name,data){this.postMessage({type:"event",name:name,data:data})},config.loadModule(["worker",mod],function(Main){for(main=new Main[classname](sender);_self.messageBuffer.length;)processNext()})};UIWorkerClient.prototype=WorkerClient.prototype,exports.UIWorkerClient=UIWorkerClient,exports.WorkerClient=WorkerClient}),consoleAce.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(require,exports,module){var Range=require("./range").Range,EventEmitter=require("./lib/event_emitter").EventEmitter,oop=require("./lib/oop"),PlaceHolder=function(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length,this.session=session,this.doc=session.getDocument(),this.mainClass=mainClass,this.othersClass=othersClass,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=others,this.$onCursorChange=function(){setTimeout(function(){_self.onCursorChange()})},this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length,this.setup(),session.selection.on("changeCursor",this.$onCursorChange)};(function(){oop.implement(this,EventEmitter),this.setup=function(){var _self=this,doc=this.doc,session=this.session,pos=this.$pos;this.pos=doc.createAnchor(pos.row,pos.column),this.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(event){session.removeMarker(_self.markerId),_self.markerId=session.addMarker(new Range(event.value.row,event.value.column,event.value.row,event.value.column+_self.length),_self.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(other){var anchor=doc.createAnchor(other.row,other.column);_self.others.push(anchor)}),session.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var session=this.session,_self=this;this.othersActive=!0,this.others.forEach(function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,!1),anchor.on("change",function(event){session.removeMarker(anchor.markerId),anchor.markerId=session.addMarker(new Range(event.value.row,event.value.column,event.value.row,event.value.column+_self.length),_self.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var i=0;i<this.others.length;i++)this.session.removeMarker(this.others[i].markerId)}},this.onUpdate=function(event){var delta=event.data,range=delta.range;if(range.start.row===range.end.row&&range.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var lengthDiff="insertText"===delta.action?range.end.column-range.start.column:range.start.column-range.end.column;if(range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1){var distanceFromStart=range.start.column-this.pos.column;if(this.length+=lengthDiff,!this.session.$fromUndo){if("insertText"===delta.action)for(var i=this.others.length-1;i>=0;i--){var otherPos=this.others[i],newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};otherPos.row===range.start.row&&range.start.column<otherPos.column&&(newPos.column+=lengthDiff),this.doc.insert(newPos,delta.text)}else if("removeText"===delta.action)for(var i=this.others.length-1;i>=0;i--){var otherPos=this.others[i],newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};otherPos.row===range.start.row&&range.start.column<otherPos.column&&(newPos.column+=lengthDiff),this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}range.start.column===this.pos.column&&"insertText"===delta.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-lengthDiff);for(var i=0;i<this.others.length;i++){var other=this.others[i],newPos={row:other.row,column:other.column-lengthDiff};other.row===range.start.row&&range.start.column<other.column&&(newPos.column+=lengthDiff),other.setPosition(newPos.row,newPos.column)}}.bind(this),0):range.start.column===this.pos.column&&"removeText"===delta.action&&setTimeout(function(){for(var i=0;i<this.others.length;i++){var other=this.others[i];other.row===range.start.row&&range.start.column<other.column&&other.setPosition(other.row,other.column-lengthDiff)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var i=0;i<this.others.length;i++)this.others[i]._emit("change",{value:this.others[i]})}this.$updating=!1}},this.onCursorChange=function(event){if(!this.$updating){var pos=this.session.selection.getCursor();pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",event)):(this.hideOtherMarkers(),this._emit("cursorLeave",event))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var i=0;i<this.others.length;i++)this.others[i].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var undoManager=this.session.getUndoManager(),undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth,i=0;i<undosRequired;i++)undoManager.undo(!0)}}).call(PlaceHolder.prototype),exports.PlaceHolder=PlaceHolder}),consoleAce.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(require,exports,module){var Range=require("../../range").Range,FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);return this.foldingStartMarker.test(line)?"start":"markbeginend"==foldStyle&&this.foldingStopMarker&&this.foldingStopMarker.test(line)?"end":""},this.getFoldWidgetRange=function(session,foldStyle,row){return null},this.indentationBlock=function(session,row,column){var re=/\S/,line=session.getLine(row),startLevel=line.search(re);if(-1!=startLevel){for(var startColumn=column||line.length,maxRow=session.getLength(),startRow=row,endRow=row;++row<maxRow;){var level=session.getLine(row).search(re);if(-1!=level){if(level<=startLevel)break;endRow=row}}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}}},this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row:row,column:column+1},end=session.$findClosingBracket(bracket,start,typeRe);if(end){var fw=session.foldWidgets[end.row];return null==fw&&(fw=session.getFoldWidget(end.row)),"start"==fw&&end.row>start.row&&(end.row--,end.column=session.getLine(end.row).length),Range.fromPoints(start,end)}},this.closingBracketBlock=function(session,bracket,row,column,typeRe){var end={row:row,column:column},start=session.$findOpeningBracket(bracket,end);if(start)return start.column++,end.column--,Range.fromPoints(start,end)}}).call(FoldMode.prototype)}),consoleAce.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(require,exports,module){exports.isDark=!1,exports.cssClass="ace-tm",exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',require("../lib/dom").importCssString(exports.cssText,exports.cssClass)}),consoleAce.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(require,exports,module){function binarySearch(array,needle,comparator){for(var first=0,last=array.length-1;first<=last;){var mid=first+last>>1,c=comparator(needle,array[mid]);if(c>0)first=mid+1;else{if(!(c<0))return mid;last=mid-1}}return-(first+1)}function findAnnotations(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(annotations.length){var i=binarySearch(annotations,{row:row,column:-1},Range.comparePoints);i<0&&(i=-i-1),i>=annotations.length-1?i=dir>0?0:annotations.length-1:0===i&&dir<0&&(i=annotations.length-1);var annotation=annotations[i];if(annotation&&dir){if(annotation.row===row){do{annotation=annotations[i+=dir]}while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[dir<0?"unshift":"push"](annotation),annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}}}var LineWidgets=require("ace/line_widgets").LineWidgets,dom=require("ace/lib/dom"),Range=require("ace/range").Range;exports.showErrorMarker=function(editor,dir){var session=editor.session;session.widgetManager||(session.widgetManager=new LineWidgets(session),session.widgetManager.attach(editor));var pos=editor.getCursorPosition(),row=pos.row,oldWidget=session.lineWidgets&&session.lineWidgets[row];oldWidget?oldWidget.destroy():row-=dir;var gutterAnno,annotations=findAnnotations(session,row,dir);if(annotations){var annotation=annotations[0];annotation.pos&&null==annotation.column&&(pos.column=annotation.pos.sc),pos.row=annotation.row,gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else{if(oldWidget)return;gutterAnno={text:["Looks good!"],className:"ace_ok"}}editor.session.unfold(pos.row),editor.selection.moveCursorToPosition(pos),editor.selection.clearSelection();var w={row:pos.row,fixedWidth:!0,coverGutter:!0,el:dom.createElement("div")},el=w.el.appendChild(dom.createElement("div")),arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px",w.el.className="error_widget_wrapper",el.className="error_widget "+gutterAnno.className,el.innerHTML=gutterAnno.text.join("<br>");var kb={handleKeyboard:function(_,hashId,keyString){if(0===hashId&&"esc"===keyString)return w.destroy(),!0}};w.destroy=function(){editor.$mouseHandler.isMousePressed||(editor.keyBinding.removeKeyboardHandler(kb),session.widgetManager.removeLineWidget(w),editor.off("changeSelection",w.destroy),editor.off("changeSession",w.destroy),editor.off("mouseup",w.destroy),editor.off("change",w.destroy))},editor.keyBinding.addKeyboardHandler(kb),editor.on("changeSelection",w.destroy),editor.on("changeSession",w.destroy),editor.on("mouseup",w.destroy),editor.on("change",w.destroy),editor.session.widgetManager.addLineWidget(w),w.el.onmousedown=editor.focus.bind(editor)},dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),consoleAce.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(require,exports,module){function LineWidgets(session){this.session=session,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.detach=this.detach.bind(this),this.session.on("change",this.updateOnChange)}var dom=(require("./lib/oop"),require("./lib/dom"));require("./range").Range;(function(){this.getRowLength=function(row){var h;return h=this.lineWidgets?this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0:0,this.$useWrapMode&&this.$wrapData[row]?this.$wrapData[row].length+1+h:1+h},this.$getWidgetScreenLength=function(){var screenRows=0;return this.lineWidgets.forEach(function(w){w&&w.rowCount&&(screenRows+=w.rowCount)}),screenRows},this.attach=function(editor){editor.widgetManager&&editor.widgetManager!=this&&editor.widgetManager.detach(),this.editor!=editor&&(this.detach(),this.editor=editor,this.editor.on("changeSession",this.detach),editor.widgetManager=this,editor.setOption("enableLineWidgets",!0),editor.renderer.on("beforeRender",this.measureWidgets),editor.renderer.on("afterRender",this.renderWidgets))},this.detach=function(e){if(!e||e.session!=this.session){var editor=this.editor;if(editor){editor.off("changeSession",this.detach),this.editor=null,editor.widgetManager=null,editor.renderer.off("beforeRender",this.measureWidgets),editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach(function(w){w&&w.el&&w.el.parentNode&&(w._inDocument=!1,w.el.parentNode.removeChild(w.el))})}}},this.updateOnChange=function(e){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var delta=e.data,range=delta.range,startRow=range.start.row,len=range.end.row-startRow;if(0===len);else if("removeText"==delta.action||"removeLines"==delta.action){var removed=lineWidgets.splice(startRow+1,len);removed.forEach(function(w){w&&this.removeLineWidget(w)},this),this.$updateRows()}else{var args=new Array(len);args.unshift(startRow,0),lineWidgets.splice.apply(lineWidgets,args),this.$updateRows()}}},this.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(lineWidgets){var noWidgets=!0;lineWidgets.forEach(function(w,i){w&&(noWidgets=!1,w.row=i)}),noWidgets&&(this.session.lineWidgets=null)}},this.addLineWidget=function(w){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[w.row]=w;var renderer=this.editor.renderer;return w.html&&!w.el&&(w.el=dom.createElement("div"),w.el.innerHTML=w.html),w.el&&(dom.addCssClass(w.el,"ace_lineWidgetContainer"),w.el.style.position="absolute",w.el.style.zIndex=5,renderer.container.appendChild(w.el),w._inDocument=!0),w.coverGutter||(w.el.style.zIndex=3),w.pixelHeight||(w.pixelHeight=w.el.offsetHeight),null==w.rowCount&&(w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows(),this.renderWidgets(null,renderer),w},this.removeLineWidget=function(w){if(w._inDocument=!1,w.el&&w.el.parentNode&&w.el.parentNode.removeChild(w.el),w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}this.session.lineWidgets&&(this.session.lineWidgets[w.row]=void 0),this.session._emit("changeFold",{data:{start:{row:w.row}}}),this.$updateRows()},this.onWidgetChanged=function(w){this.session._changedWidgets.push(w),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets,config=renderer.layerConfig;if(changedWidgets&&changedWidgets.length){for(var min=1/0,i=0;i<changedWidgets.length;i++){var w=changedWidgets[i];w._inDocument||(w._inDocument=!0,renderer.container.appendChild(w.el)),w.h=w.el.offsetHeight,w.fixedWidth||(w.w=w.el.offsetWidth,w.screenWidth=Math.ceil(w.w/config.characterWidth));var rowCount=w.h/config.lineHeight;w.coverLine&&(rowCount-=this.session.getRowLineCount(w.row))<0&&(rowCount=0),w.rowCount!=rowCount&&(w.rowCount=rowCount,w.row<min&&(min=w.row))}min!=1/0&&(this.session._emit("changeFold",{data:{start:{row:min}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,renderer){var config=renderer.layerConfig,lineWidgets=this.session.lineWidgets;if(lineWidgets){for(var first=Math.min(this.firstRow,config.firstRow),last=Math.max(this.lastRow,config.lastRow,lineWidgets.length);first>0&&!lineWidgets[first];)first--;this.firstRow=config.firstRow,this.lastRow=config.lastRow,renderer.$cursorLayer.config=config;for(var i=first;i<=last;i++){var w=lineWidgets[i];if(w&&w.el){w._inDocument||(w._inDocument=!0,renderer.container.appendChild(w.el));var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},!0).top;w.coverLine||(top+=config.lineHeight*this.session.getRowLineCount(w.row)),w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;w.fixedWidth||(left-=renderer.scrollLeft),w.el.style.left=left+"px",w.fixedWidth?w.el.style.right=renderer.scrollBar.getWidth()+"px":w.el.style.right=""}}}}}).call(LineWidgets.prototype),exports.LineWidgets=LineWidgets}),function(){consoleAce.require(["ace/ace"],function(a){a&&a.config.init(),window.consoleAce||(window.consoleAce={});for(var key in a)a.hasOwnProperty(key)&&(consoleAce[key]=a[key])})}()},5335:function(module,exports){angular.module("sense.ui.bootstrap",["sense.ui.bootstrap.tpls","sense.ui.bootstrap.typeahead","sense.ui.bootstrap.position"]),angular.module("sense.ui.bootstrap.tpls",["sense/template/typeahead/typeahead-match.html","sense/template/typeahead/typeahead-popup.html"]),angular.module("sense.ui.bootstrap.typeahead",["sense.ui.bootstrap.position"]).factory("senseUibTypeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).controller("SenseUibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$senseUibPosition","senseUibTypeaheadParser",function(originalScope,element,attrs,$compile,$parse,$q,$timeout,$document,$window,$rootScope,$position,typeaheadParser){function fireRecalculating(){scope.moveInProgress||(scope.moveInProgress=!0,scope.$digest()),timeoutEventPromise&&$timeout.cancel(timeoutEventPromise),timeoutEventPromise=$timeout(function(){scope.matches.length&&recalculatePosition(),scope.moveInProgress=!1},eventDebounceTime)}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top+=element.prop("offsetHeight")}var modelCtrl,ngModelOptions,HOT_KEYS=[9,13,27,38,40],eventDebounceTime=200,minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1);var hasFocus,selected,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=!1!==originalScope.$eval(attrs.typeaheadEditable),isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur),isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop,inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),appendToElementId=attrs.typeaheadAppendToElementId||!1,focusFirst=!1!==originalScope.$eval(attrs.typeaheadFocusFirst),selectOnExact=!!attrs.typeaheadSelectOnExact&&originalScope.$eval(attrs.typeaheadSelectOnExact),parsedModel=$parse(attrs.ngModel),invokeModelSetter=$parse(attrs.ngModel+"($$$p)"),$setModelValue=function(scope,newValue){return angular.isFunction(parsedModel(originalScope))&&ngModelOptions&&ngModelOptions.$options&&ngModelOptions.$options.getterSetter?invokeModelSetter(scope,{$$$p:newValue}):parsedModel.assign(scope,newValue)},parserResult=typeaheadParser.parse(attrs.senseUibTypeahead),scope=originalScope.$new(),offDestroy=originalScope.$on("$destroy",function(){scope.$destroy()});scope.$on("$destroy",offDestroy);var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div sense-uib-typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl),angular.isDefined(attrs.typeaheadPopupTemplateUrl)&&popUpEl.attr("popup-template-url",attrs.typeaheadPopupTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var inputIsExactMatch=function(inputValue,index){return!!(scope.matches.length>index&&inputValue)&&inputValue.toUpperCase()===scope.matches[index].label.toUpperCase()},getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),isNoResultsSetter(originalScope,!1),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1,isNoResultsSetter(originalScope,!1),scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,recalculatePosition(),element.attr("aria-expanded",!0),selectOnExact&&1===scope.matches.length&&inputIsExactMatch(inputValue,0)&&scope.select(0)}else resetMatches(),isNoResultsSetter(originalScope,!0);onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1),isNoResultsSetter(originalScope,!0)})};appendToBody&&(angular.element($window).bind("resize",fireRecalculating),$document.find("body").bind("scroll",fireRecalculating));var timeoutEventPromise;scope.moveInProgress=!1,scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};resetMatches(),scope.select=function(activeIdx){var model,item,locals={};selected=!0,locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),modelCtrl.$setValidity("parse",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),!1!==scope.$eval(attrs.typeaheadFocusOnSelect)&&$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){if(0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)){if(-1===scope.activeIdx&&(9===evt.which||13===evt.which))return resetMatches(),void scope.$digest();evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest())}}),element.bind("blur",function(){isSelectOnBlur&&scope.matches.length&&-1!==scope.activeIdx&&!selected&&(selected=!0,scope.$apply(function(){scope.select(scope.activeIdx)})),hasFocus=!1,selected=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&3!==evt.which&&0!==scope.matches.length&&(resetMatches(),$rootScope.$$phase||scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),(appendToBody||appendToElementId)&&$popup.remove(),popUpEl.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):!1!==appendToElementId?angular.element($document[0].getElementById(appendToElementId)).append($popup):element.after($popup),this.init=function(_modelCtrl,_ngModelOptions){modelCtrl=_modelCtrl,ngModelOptions=_ngModelOptions,modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,0===minLength||inputValue&&inputValue.length>=minLength?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),null)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return isEditable||modelCtrl.$setValidity("editable",!0),inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)})}}]).directive("senseUibTypeahead",function(){return{controller:"SenseUibTypeaheadController",require:["ngModel","^?ngModelOptions","senseUibTypeahead"],link:function(originalScope,element,attrs,ctrls){ctrls[2].init(ctrls[0],ctrls[1])}}}).directive("senseUibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(element,attrs){return attrs.popupTemplateUrl||"sense/template/typeahead/typeahead-popup.html"},link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("senseUibTypeaheadMatch",["$templateCache","$compile","$parse",function($templateCache,$compile,$parse){return{scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"sense/template/typeahead/typeahead-match.html";$compile($templateCache.get(tplUrl).trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})}}}]).filter("senseUibTypeaheadHighlight",["$sce","$injector","$log",function($sce,$injector,$log){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function containsHtml(matchItem){return/<.*>/g.test(matchItem)}var isSanitizePresent;return isSanitizePresent=$injector.has("$sanitize"),function(matchItem,query){return!isSanitizePresent&&containsHtml(matchItem)&&$log.warn("Unsafe use of typeahead please use ngSanitize"),matchItem=query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem,isSanitizePresent||(matchItem=$sce.trustAsHtml(matchItem)),matchItem}}]),angular.module("sense.ui.bootstrap.position",[]).factory("$senseUibPosition",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]),angular.module("sense/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | senseUibTypeaheadHighlight:query"></a>\n')}]),angular.module("sense/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("sense/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div sense-uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},5336:function(module,exports){},5337:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(255);var _sense_editor_resize=__webpack_require__(822),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery),_input=__webpack_require__(1533),_output=__webpack_require__(1535),_app=__webpack_require__(5353),_app2=_interopRequireDefault(_app),_sense_top_nav_controller=__webpack_require__(5354),_module=__webpack_require__(2).get("app/sense");_module.run(function(Private,$rootScope){_module.setupResizeCheckerForRootEditors=function($el){for(var _len=arguments.length,editors=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)editors[_key-1]=arguments[_key];return _sense_editor_resize.useResizeChecker.apply(void 0,[$rootScope,$el].concat(editors))}}),_module.controller("SenseController",function(Private,$scope,$timeout,$location,docTitle,kbnUiAceKeyboardModeService){docTitle.change("Console"),$scope.topNavController=Private(_sense_top_nav_controller.SenseTopNavController);var input=void 0,output=void 0;$timeout(function(){output=(0,_output.initializeOutput)((0,_jquery2.default)("#output")),input=(0,_input.initializeInput)((0,_jquery2.default)("#editor"),(0,_jquery2.default)("#editor_actions"),(0,_jquery2.default)("#copy_as_curl"),output),(0,_app2.default)(input,output,$location.search().load_from),kbnUiAceKeyboardModeService.initialize($scope,(0,_jquery2.default)("#editor"))}),$scope.sendSelected=function(){return input.focus(),input.sendCurrentRequestToES(),!1},$scope.autoIndent=function(event){input.autoIndent(),event.preventDefault(),input.focus()}})},5338:function(module,exports){consoleAce.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(require,exports,module){var dom=require("../lib/dom"),lang=require("../lib/lang"),event=require("../lib/event"),HashHandler=require("../keyboard/hash_handler").HashHandler,keyUtil=require("../lib/keys");dom.importCssString("/* ------------------------------------------------------------------------------------------* Editor Search Form* --------------------------------------------------------------------------------------- */.ace_search {background-color: #ddd;border: 1px solid #cbcbcb;border-top: 0 none;max-width: 297px;overflow: hidden;margin: 0;padding: 4px;padding-right: 6px;padding-bottom: 0;position: absolute;top: 0px;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {border-radius: 3px;border: 1px solid #cbcbcb;float: left;margin-bottom: 4px;overflow: hidden;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {background-color: white;border-right: 1px solid #cbcbcb;border: 0 none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;display: block;float: left;height: 22px;outline: 0;padding: 0 7px;width: 214px;margin: 0;}.ace_searchbtn,.ace_replacebtn {background: #fff;border: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;display: block;float: left;height: 22px;margin: 0;padding: 0;position: relative;}.ace_searchbtn:last-child,.ace_replacebtn:last-child {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn {background-position: 50% 50%;background-repeat: no-repeat;width: 27px;}.ace_searchbtn.prev {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    }.ace_searchbtn.next {background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    }.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;display: block;float: right;font-family: Arial;font-size: 16px;height: 14px;line-height: 16px;margin: 5px 1px 9px 5px;padding: 0;text-align: center;width: 14px;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_replacebtn.prev {width: 54px}.ace_replacebtn.next {width: 27px}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;-moz-box-sizing: border-box;box-sizing:    border-box;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;}","ace_searchbox");var html='<div class="ace_search right">    <button type="button" action="hide" class="ace_searchbtn_close"></button>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <button type="button" action="findNext" class="ace_searchbtn next"></button>        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>    </div>    <div class="ace_search_options">        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>    </div></div>'.replace(/>\s+/g,">"),SearchBox=function(editor,range,showReplaceForm){var div=dom.createElement("div");div.innerHTML=html,this.element=div.firstChild,this.$init(),this.setEditor(editor)};(function(){this.setEditor=function(editor){editor.searchBox=this,editor.container.appendChild(this.element),this.editor=editor},this.$initElements=function(sb){this.searchBox=sb.querySelector(".ace_search_form"),this.replaceBox=sb.querySelector(".ace_replace_form"),this.searchOptions=sb.querySelector(".ace_search_options"),this.regExpOption=sb.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=sb.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=sb.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var sb=this.element;this.$initElements(sb);var _this=this;event.addListener(sb,"mousedown",function(e){setTimeout(function(){_this.activeInput.focus()},0),event.stopPropagation(e)}),event.addListener(sb,"click",function(e){var t=e.target||e.srcElement,action=t.getAttribute("action");action&&_this[action]?_this[action]():_this.$searchBarKb.commands[action]&&_this.$searchBarKb.commands[action].exec(_this),event.stopPropagation(e)}),event.addCommandKeyListener(sb,function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode),command=_this.$searchBarKb.findKeyCommand(hashId,keyString);command&&command.exec&&(command.exec(_this),event.stopEvent(e))}),this.$onChange=lang.delayedCall(function(){_this.find(!1,!1)}),event.addListener(this.searchInput,"input",function(){_this.$onChange.schedule(20)}),event.addListener(this.searchInput,"focus",function(){_this.activeInput=_this.searchInput,_this.searchInput.value&&_this.highlight()}),event.addListener(this.replaceInput,"focus",function(){_this.activeInput=_this.replaceInput,_this.searchInput.value&&_this.highlight()})},this.$closeSearchBarKb=new HashHandler([{bindKey:"Esc",name:"closeSearchBar",exec:function(editor){editor.searchBox.hide()}}]),this.$searchBarKb=new HashHandler,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(sb){var isReplace=sb.isReplace=!sb.isReplace;sb.replaceBox.style.display=isReplace?"":"none",sb[isReplace?"replaceInput":"searchInput"].focus()},"Ctrl-G|Command-G":function(sb){sb.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(sb){sb.findPrev()},esc:function(sb){setTimeout(function(){sb.hide()})},Return:function(sb){sb.activeInput==sb.replaceInput&&sb.replace(),sb.findNext()},"Shift-Return":function(sb){sb.activeInput==sb.replaceInput&&sb.replace(),sb.findPrev()},Tab:function(sb){(sb.activeInput==sb.replaceInput?sb.searchInput:sb.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(sb){sb.regExpOption.checked=!sb.regExpOption.checked,sb.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(sb){sb.caseSensitiveOption.checked=!sb.caseSensitiveOption.checked,sb.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(sb){sb.wholeWordOption.checked=!sb.wholeWordOption.checked,sb.$syncOptions()}}]),this.$syncOptions=function(){dom.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),dom.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),dom.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(re){this.editor.session.highlight(re||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(skipCurrent,backwards){var range=this.editor.find(this.searchInput.value,{skipCurrent:skipCurrent,backwards:backwards,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),noMatch=!range&&this.searchInput.value;dom.setCssClass(this.searchBox,"ace_nomatch",noMatch),this.editor._emit("findSearchBox",{match:!noMatch}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(value,isReplace){this.element.style.display="",this.replaceBox.style.display=isReplace?"":"none",this.isReplace=isReplace,value&&(this.searchInput.value=value),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)}}).call(SearchBox.prototype),exports.SearchBox=SearchBox,exports.Search=function(editor,isReplace){(editor.searchBox||new SearchBox(editor)).show(editor.session.getTextRange(),isReplace)}})},5339:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=function(editor){function isSeparatorToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.questionmark":case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"whitespace":return!0;default:return!1}}function isUrlPathToken(token){switch((token||{}).type){case"url.slash":case"url.comma":case"url.part":return!0;default:return!1}}function isUrlParamsToken(token){switch((token||{}).type){case"url.param":case"url.equal":case"url.value":case"url.questionmark":case"url.amp":return!0;default:return!1}}function getAutoCompleteValueFromToken(token){switch((token||{}).type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":return token.value.replace(/"/g,"");case"method":case"url.part":return token.value;default:return""}}function addMetaToTermsList(list,meta,template){return _lodash2.default.map(list,function(t){return"object"!==(void 0===t?"undefined":_typeof(t))&&(t={name:t}),_lodash2.default.defaults(t,{meta:meta,template:template})})}function applyTerm(term){var session=editor.getSession(),context=term.context;addReplacementInfoToContext(context,editor.getCursorPosition(),term.insert_value);var termAsString;"body"==context.autoCompleteType?(termAsString="string"==typeof term.insert_value?'"'+term.insert_value+'"':term.insert_value+"","["!==term.insert_value&&"{"!==term.insert_value||(termAsString="")):termAsString=term.insert_value+"";var valueToInsert=termAsString,templateInserted=!1;if(!context.addTemplate||_lodash2.default.isUndefined(term.template)||_lodash2.default.isNull(term.template))templateInserted=!0,"["===term.value?valueToInsert+="[]":"{"==term.value?valueToInsert+="{}":templateInserted=!1;else{var indentedTemplateLines=_utils2.default.jsonToString(term.template,!0).split("\n"),currentIndentation=session.getLine(context.rangeToReplace.start.row);currentIndentation=currentIndentation.match(/^\s*/)[0];for(var i=1;i<indentedTemplateLines.length;i++)indentedTemplateLines[i]=currentIndentation+indentedTemplateLines[i];valueToInsert+=": "+indentedTemplateLines.join("\n"),templateInserted=!0}valueToInsert=context.prefixToAdd+valueToInsert+context.suffixToAdd,removeChangeListener(),context.rangeToReplace.start.column!=context.rangeToReplace.end.column?session.replace(context.rangeToReplace,valueToInsert):editor.insert(valueToInsert),editor.clearSelection();var newPos={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column+termAsString.length+context.prefixToAdd.length+(templateInserted?0:context.suffixToAdd.length)},tokenIter=editor.iterForPosition(newPos.row,newPos.column);if("body"===context.autoCompleteType){var nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"paren.rparen":newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()};break;case"punctuation.colon":nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter),"paren.lparen"==(nonEmptyToken||{}).type&&(nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter),newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()},nonEmptyToken&&0===nonEmptyToken.value.indexOf('"')&&newPos.column++);break;case"paren.lparen":case"punctuation.comma":tokenIter.stepForward(),newPos={row:tokenIter.getCurrentTokenRow(),column:tokenIter.getCurrentTokenColumn()}}editor.moveCursorToPosition(newPos)}addChangeListener()}function getAutoCompleteContext(editor,session,pos){var context={autoCompleteSet:null,endpoint:null,urlPath:null,method:null,activeScheme:null,editor:editor};switch(context.autoCompleteType=getAutoCompleteType(pos),context.autoCompleteType){case"path":addPathAutoCompleteSetToContext(context,pos);break;case"url_params":addUrlParamsAutoCompleteSetToContext(context,pos);break;case"method":addMethodAutoCompleteSetToContext(context);break;case"body":addBodyAutoCompleteSetToContext(context,pos);break;default:return null}return context.autoCompleteSet?(addReplacementInfoToContext(context,pos),context.createdWithToken=_lodash2.default.clone(context.updatedForToken),context):null}function getAutoCompleteType(pos){var rowMode=editor.parser.getRowParseMode(pos.row);if(rowMode&editor.parser.MODE.IN_REQUEST)return"body";if(rowMode&editor.parser.MODE.REQUEST_START){for(var tokenIter=editor.iterForPosition(pos.row,pos.column),t=tokenIter.getCurrentToken();"url.comma"==t.type;)t=tokenIter.stepBackward();switch(t.type){case"method":return"method";case"whitespace":switch(t=editor.parser.prevNonEmptyToken(tokenIter),(t||{}).type){case"method":return"path";default:return isUrlPathToken(t)?"path":isUrlParamsToken(t)?"url_params":null}break;default:return isUrlPathToken(t)?"path":isUrlParamsToken(t)?"url_params":null}}return rowMode&editor.parser.MODE.REQUEST_END?"body":""===(editor.getSession().getLine(pos.row)||"").trim()?(rowMode=editor.parser.getRowParseMode(pos.row-1),rowMode&editor.parser.MODE.REQUEST_START&&rowMode&editor.parser.MODE.REQUEST_END?"body":"method"):null}function addReplacementInfoToContext(context,pos,replacingTerm){var session=editor.getSession();context.updatedForToken=_lodash2.default.clone(session.getTokenAt(pos.row,pos.column)),context.updatedForToken||(context.updatedForToken={value:"",start:pos.column});var anchorToken=context.createdWithToken;switch(anchorToken||(anchorToken=context.updatedForToken),context.updatedForToken.type){case"variable":case"string":case"text":case"constant.numeric":case"constant.language.boolean":case"method":case"url.index":case"url.type":case"url.id":case"url.method":case"url.endpoint":case"url.part":case"url.param":case"url.value":context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length),context.replacingToken=!0;break;default:replacingTerm&&context.updatedForToken.value==replacingTerm?(context.rangeToReplace=new AceRange(pos.row,anchorToken.start,pos.row,context.updatedForToken.start+context.updatedForToken.value.length),context.replacingToken=!0):(context.rangeToReplace=new AceRange(pos.row,pos.column,pos.row,pos.column),context.replacingToken=!1)}switch(context.textBoxPosition={row:context.rangeToReplace.start.row,column:context.rangeToReplace.start.column},context.autoCompleteType){case"path":addPathPrefixSuffixToContext(context);break;case"url_params":addUrlParamsPrefixSuffixToContext(context);break;case"method":addMethodPrefixSuffixToContext(context);break;case"body":addBodyPrefixSuffixToContext(context)}}function addBodyPrefixSuffixToContext(context){context.prefixToAdd="",context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc(),nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter);switch(nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"paren.rparen":case"punctuation.comma":context.addTemplate=!0;break;case"punctuation.colon":if(context.addTemplate=!1,!(nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter))||"{"!=nonEmptyToken.value)break;if(!(nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter))||"}"!=nonEmptyToken.value)break;switch(context.addTemplate=!0,context.rangeToReplace.end.row=tokenIter.getCurrentTokenRow(),context.rangeToReplace.end.column=tokenIter.getCurrentTokenColumn()+nonEmptyToken.value.length,nonEmptyToken=editor.parser.nextNonEmptyToken(tokenIter),nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.rparen":case"punctuation.comma":case"punctuation.colon":break;default:context.suffixToAdd=", "}break;default:context.addTemplate=!0,context.suffixToAdd=", "}tokenIter=editor.iterForCurrentLoc(),nonEmptyToken=tokenIter.getCurrentToken();var insertingRelativeToToken;if(context.replacingToken)insertingRelativeToToken=0;else{var pos=editor.getCursorPosition();insertingRelativeToToken=pos.column==context.updatedForToken.start?-1:pos.column<context.updatedForToken.start+context.updatedForToken.value.length?0:1}switch((editor.parser.isEmptyToken(nonEmptyToken)||insertingRelativeToToken<=0)&&(nonEmptyToken=editor.parser.prevNonEmptyToken(tokenIter)),nonEmptyToken?nonEmptyToken.type:"NOTOKEN"){case"NOTOKEN":case"paren.lparen":case"punctuation.comma":case"punctuation.colon":case"method":break;default:nonEmptyToken&&nonEmptyToken.type.indexOf("url")<0&&(context.prefixToAdd=", ")}return context}function addUrlParamsPrefixSuffixToContext(context){context.prefixToAdd="",context.suffixToAdd=""}function addMethodPrefixSuffixToContext(context){context.prefixToAdd="",context.suffixToAdd="";var tokenIter=editor.iterForCurrentLoc(),row=tokenIter.getCurrentTokenRow(),t=editor.parser.nextNonEmptyToken(tokenIter);tokenIter.getCurrentTokenRow()==row&&t||(context.suffixToAdd=" ")}function addPathPrefixSuffixToContext(context){context.prefixToAdd="",context.suffixToAdd=""}function addMethodAutoCompleteSetToContext(context){context.autoCompleteSet=["GET","PUT","POST","DELETE","HEAD"].map(function(m,i){return{name:m,score:-i,meta:"method"}})}function addPathAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(pos);context.method=ret.method,context.token=ret.token,context.otherTokenValues=ret.otherTokenValues,context.urlTokenPath=ret.urlTokenPath,(0,_engine.populateContext)(ret.urlTokenPath,context,editor,!0,(0,_kb.getTopLevelUrlCompleteComponents)()),context.autoCompleteSet=addMetaToTermsList(context.autoCompleteSet,"endpoint")}function addUrlParamsAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(pos);if(context.method=ret.method,context.otherTokenValues=ret.otherTokenValues,context.urlTokenPath=ret.urlTokenPath,!ret.urlTokenPath)return console.log("Can't extract a valid url token path."),context;if((0,_engine.populateContext)(ret.urlTokenPath,context,editor,!1,(0,_kb.getTopLevelUrlCompleteComponents)()),!context.endpoint)return console.log("couldn't resolve an endpoint."),context;if(!ret.urlParamsTokenPath)return console.log("Can't extract a valid urlParams token path."),context;var tokenPath=[],currentParam=ret.urlParamsTokenPath.pop();return currentParam&&(tokenPath=Object.keys(currentParam),context.otherTokenValues=currentParam[tokenPath[0]]),(0,_engine.populateContext)(tokenPath,context,editor,!0,context.endpoint.paramsAutocomplete.getTopLevelComponents()),context}function addBodyAutoCompleteSetToContext(context,pos){var ret=getCurrentMethodAndTokenPaths(pos);if(context.method=ret.method,context.otherTokenValues=ret.otherTokenValues,context.urlTokenPath=ret.urlTokenPath,context.requestStartRow=ret.requestStartRow,!ret.urlTokenPath)return console.log("Can't extract a valid url token path."),context;if((0,_engine.populateContext)(ret.urlTokenPath,context,editor,!1,(0,_kb.getTopLevelUrlCompleteComponents)()),context.bodyTokenPath=ret.bodyTokenPath,!ret.bodyTokenPath)return console.log("Can't extract a valid body token path."),context;context.endpointComponentResolver=_kb.getEndpointBodyCompleteComponents,context.globalComponentResolver=_kb.getGlobalAutocompleteComponents;var components;return components=context.endpoint?context.endpoint.bodyAutocompleteRootComponents:(0,_kb.getUnmatchedEndpointComponents)(),(0,_engine.populateContext)(ret.bodyTokenPath,context,editor,!0,components),context}function getCurrentMethodAndTokenPaths(pos){var tokenIter=editor.iterForPosition(pos.row,pos.column),startPos=pos,bodyTokenPath=[],ret={},STATES={looking_for_key:0,looking_for_scope_start:1,start:3},state=STATES.start,t=tokenIter.getCurrentToken();t?0==startPos.column&&(t=tokenIter.stepBackward(),state=STATES.looking_for_scope_start):0==startPos.column&&(t=tokenIter.stepBackward(),state=STATES.start);for(var walkedSomeBody=!1;t&&-1==t.type.indexOf("url")&&"method"!=t.type;t=tokenIter.stepBackward())switch("whitespace"!=t.type&&(walkedSomeBody=!0),t.type){case"variable":state==STATES.looking_for_key&&bodyTokenPath.unshift(t.value.trim().replace(/"/g,"")),state=STATES.looking_for_scope_start;break;case"paren.lparen":bodyTokenPath.unshift(t.value),state==STATES.looking_for_scope_start&&(state=STATES.looking_for_key);break;case"paren.rparen":state=STATES.looking_for_scope_start;var parenCount=1;for(t=tokenIter.stepBackward();t&&parenCount>0;){switch(t.type){case"paren.lparen":parenCount--;break;case"paren.rparen":parenCount++}parenCount>0&&(t=tokenIter.stepBackward())}if(!t)return{};continue;case"punctuation.end_triple_quote":for(state=STATES.looking_for_scope_start,t=tokenIter.stepBackward();t;t=tokenIter.stepBackward())if("punctuation.start_tripple_qoute"===t.type){t=tokenIter.stepBackward();break}if(!t)return{};continue;case"punctuation.start_triple_quote":state==STATES.start?state=STATES.looking_for_key:state==STATES.looking_for_key&&(state=STATES.looking_for_scope_start),bodyTokenPath.unshift('"""');continue;case"string":case"constant.numeric":case"constant.language.boolean":case"text":state==STATES.start?state=STATES.looking_for_key:state==STATES.looking_for_key&&(state=STATES.looking_for_scope_start);break;case"punctuation.comma":state==STATES.start&&(state=STATES.looking_for_scope_start);break;case"punctuation.colon":case"whitespace":state==STATES.start&&(state=STATES.looking_for_key)}if(walkedSomeBody&&(!bodyTokenPath||0==bodyTokenPath.length))return{};tokenIter.getCurrentTokenRow()==startPos.row&&("url.part"!==t.type&&"url.param"!==t.type&&"url.value"!==t.type||(t=tokenIter.stepBackward()),bodyTokenPath=null),ret.bodyTokenPath=bodyTokenPath,ret.urlTokenPath=[],ret.urlParamsTokenPath=null,ret.requestStartRow=tokenIter.getCurrentTokenRow();for(var curUrlPart;t&&isUrlParamsToken(t);){switch(t.type){case"url.value":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.param":var v=curUrlPart;curUrlPart={},curUrlPart[t.value]=v;break;case"url.amp":case"url.questionmark":ret.urlParamsTokenPath||(ret.urlParamsTokenPath=[]),ret.urlParamsTokenPath.unshift(curUrlPart||{}),curUrlPart=null}t=tokenIter.stepBackward()}for(curUrlPart=null;t&&-1!=t.type.indexOf("url");){switch(t.type){case"url.part":Array.isArray(curUrlPart)?curUrlPart.unshift(t.value):curUrlPart=curUrlPart?[t.value,curUrlPart]:t.value;break;case"url.comma":curUrlPart?Array.isArray(curUrlPart)||(curUrlPart=[curUrlPart]):curUrlPart=[];break;case"url.slash":ret.urlTokenPath.unshift(curUrlPart),curUrlPart=null}t=editor.parser.prevNonEmptyToken(tokenIter)}return curUrlPart&&ret.urlTokenPath.unshift(curUrlPart),ret.bodyTokenPath||ret.urlParamsTokenPath?ret.urlTokenPath.push(_url_pattern_matcher.URL_PATH_END_MARKER):ret.urlTokenPath.length>0&&(ret.otherTokenValues=ret.urlTokenPath.splice(-1)[0]),t&&"method"==t.type&&(ret.method=t.value),ret}function editorChangeListener(){var cursor=editor.selection.lead;editor.__ace.completer&&editor.__ace.completer.activated||evaluateCurrentTokenAfterAChange(cursor)}function addChangeListener(){editor.on("changeSelection",editorChangeListener)}function removeChangeListener(){editor.off("changeSelection",editorChangeListener)}function getCompletions(aceEditor,session,pos,prefix,callback){try{var context=getAutoCompleteContext(editor,session,pos);if(context){var terms=_lodash2.default.map(context.autoCompleteSet,function(term){return term="object"!==(void 0===term?"undefined":_typeof(term))?{name:term}:_lodash2.default.clone(term),_lodash2.default.defaults(term,{value:term.name,meta:"API",score:0,context:context,completer:{insertMatch:function(){applyTerm(term)}}})});terms.sort(function(t1,t2){return t1.score>t2.score?-1:t1.score<t2.score?1:t1.name<t2.name?-1:t1.name===t2.name?0:1}),callback(null,_lodash2.default.map(terms,function(t,i){return t.insert_value=t.insert_value||t.value,t.value=""+t.value,t.score=-i,t}))}else callback(null,[])}catch(e){console.log("error while getting completion terms",e),callback(e,null)}}var evaluateCurrentTokenAfterAChange=_lodash2.default.debounce(function(pos){var session=editor.getSession(),currentToken=session.getTokenAt(pos.row,pos.column);if(!currentToken){if(0==pos.row)return void(LAST_EVALUATED_TOKEN=null);currentToken={start:0,value:""}}if(currentToken.row=pos.row,editor.parser.isEmptyToken(currentToken)){var nextToken=session.getTokenAt(pos.row,pos.column+1);return void(editor.parser.isEmptyToken(nextToken)?(currentToken.start=pos.column,LAST_EVALUATED_TOKEN=currentToken):(nextToken.row=pos.row,LAST_EVALUATED_TOKEN=nextToken))}if(!LAST_EVALUATED_TOKEN)return void(LAST_EVALUATED_TOKEN=currentToken);if(LAST_EVALUATED_TOKEN.start!=currentToken.start||LAST_EVALUATED_TOKEN.row!=currentToken.row||LAST_EVALUATED_TOKEN.value===currentToken.value)return void(LAST_EVALUATED_TOKEN=currentToken);switch(currentToken.type||"UNKNOWN"){case"paren.lparen":case"paren.rparen":case"punctuation.colon":case"punctuation.comma":case"UNKOWN":return}LAST_EVALUATED_TOKEN=currentToken,editor.execCommand("startAutocomplete")},100);addChangeListener(),_ace2.default.define("ace/autocomplete/text_completer",["require","exports","module"],function(require,exports){exports.getCompletions=function(editor,session,pos,prefix,callback){callback(null,[])}});var langTools=_ace2.default.require("ace/ext/language_tools"),aceUtils=_ace2.default.require("ace/autocomplete/util"),aceAutoComplete=_ace2.default.require("ace/autocomplete");langTools.addCompleter({getCompletions:getCompletions}),editor.setOptions({enableBasicAutocompletion:!0});var aceAutoCompleteInstance=new aceAutoComplete.Autocomplete;return aceAutoCompleteInstance.autoInsert=!1,aceAutoCompleteInstance.gatherCompletions=function(ace_editor,callback){var session=ace_editor.getSession(),pos=ace_editor.getCursorPosition(),prefix="",token=session.getTokenAt(pos.row,pos.column);this.base=_lodash2.default.clone(pos),editor.parser.isEmptyToken(token)||isSeparatorToken(token)||(0==token.value.indexOf('"')?this.base.column=token.start+1:this.base.column=token.start,prefix=getAutoCompleteValueFromToken(token));var matches=[];return aceUtils.parForEach(ace_editor.completers,function(completer,next){completer.getCompletions(ace_editor,session,pos,prefix,function(err,results){err||(matches=matches.concat(results)),next()})},function(){callback(null,{prefix:prefix,matches:matches})}),!0},editor.__ace.completer=aceAutoCompleteInstance,{_test:{getCompletions:getCompletions,addReplacementInfoToContext:addReplacementInfoToContext,addChangeListener:addChangeListener,removeChangeListener:removeChangeListener}}};var _kb=__webpack_require__(5340),_utils=__webpack_require__(824),_utils2=_interopRequireDefault(_utils),_engine=__webpack_require__(416),_url_pattern_matcher=__webpack_require__(1540),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_ace=__webpack_require__(124),_ace2=_interopRequireDefault(_ace);__webpack_require__(5345);var AceRange=_ace2.default.require("ace/range").Range,LAST_EVALUATED_TOKEN=null;module.exports=exports.default},5340:function(module,exports,__webpack_require__){"use strict";function nonValidIndexType(token){return!("_all"===token||"_"!==token[0])}function IndexAutocompleteComponent(name,parent,multi_valued){autocomplete_engine.ListComponent.call(this,name,mappings.getIndices,parent,multi_valued)}function TypeGenerator(context){return mappings.getTypes(context.indices)}function TypeAutocompleteComponent(name,parent,multi_valued){autocomplete_engine.ListComponent.call(this,name,TypeGenerator,parent,multi_valued)}function FieldGenerator(context){return _.map(mappings.getFields(context.indices,context.types),function(field){return{name:field.name,meta:field.type}})}function FieldAutocompleteComponent(name,parent,multi_valued){autocomplete_engine.ListComponent.call(this,name,FieldGenerator,parent,multi_valued)}function IdAutocompleteComponent(name,parent,multi){autocomplete_engine.SharedComponent.call(this,name,parent),this.multi_match=multi}function getUnmatchedEndpointComponents(){return ACTIVE_API.getUnmatchedEndpointComponents()}function getEndpointDescriptionByEndpoint(endpoint){return ACTIVE_API.getEndpointDescriptionByEndpoint(endpoint)}function getEndpointBodyCompleteComponents(endpoint){var desc=getEndpointDescriptionByEndpoint(endpoint);if(!desc)throw new Error("failed to resolve endpoint ['"+endpoint+"']");return desc.bodyAutocompleteRootComponents}function getTopLevelUrlCompleteComponents(){return ACTIVE_API.getTopLevelUrlCompleteComponents()}function getGlobalAutocompleteComponents(term,throwOnMissing){return ACTIVE_API.getGlobalAutocompleteComponents(term,throwOnMissing)}function loadApisFromJson(json,urlParametrizedComponentFactories,bodyParametrizedComponentFactories){urlParametrizedComponentFactories=urlParametrizedComponentFactories||parametrizedComponentFactories,bodyParametrizedComponentFactories=bodyParametrizedComponentFactories||urlParametrizedComponentFactories;var api=new Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories),names=[];return _.each(json,function(apiJson,name){names.unshift(name),_.each(apiJson.globals||{},function(globalJson,globalName){api.addGlobalAutocompleteRules(globalName,globalJson)}),_.each(apiJson.endpoints||{},function(endpointJson,endpointName){api.addEndpointDescription(endpointName,endpointJson)})}),api.name=names.join(","),api}function setActiveApi(api){if(_.isString(api))return void $.ajax({url:"../api/console/api_server?sense_version="+encodeURIComponent("@@SENSE_VERSION")+"&apis="+encodeURIComponent(api),dataType:"json"}).then(function(data){setActiveApi(loadApisFromJson(data))},function(jqXHR){console.log("failed to load API '"+api+"': "+jqXHR.responseText)});console.log("setting active api to ["+api.name+"]"),ACTIVE_API=api}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUnmatchedEndpointComponents=getUnmatchedEndpointComponents,exports.getEndpointDescriptionByEndpoint=getEndpointDescriptionByEndpoint,exports.getEndpointBodyCompleteComponents=getEndpointBodyCompleteComponents,exports.getTopLevelUrlCompleteComponents=getTopLevelUrlCompleteComponents,exports.getGlobalAutocompleteComponents=getGlobalAutocompleteComponents,exports.setActiveApi=setActiveApi;var $=__webpack_require__(12),_=__webpack_require__(1),mappings=__webpack_require__(1534),Api=__webpack_require__(5342),autocomplete_engine=__webpack_require__(416),ACTIVE_API=new Api;IndexAutocompleteComponent.prototype=_.create(autocomplete_engine.ListComponent.prototype,{constructor:IndexAutocompleteComponent}),function(cls){cls.validateTokens=function(tokens){return!(!this.multi_valued&&tokens.length>1)&&!_.find(tokens,nonValidIndexType)},cls.getDefaultTermMeta=function(){return"index"},cls.getContextKey=function(){return"indices"}}(IndexAutocompleteComponent.prototype),TypeAutocompleteComponent.prototype=_.create(autocomplete_engine.ListComponent.prototype,{constructor:TypeAutocompleteComponent}),function(cls){cls.validateTokens=function(tokens){return!(!this.multi_valued&&tokens.length>1)&&!_.find(tokens,nonValidIndexType)},cls.getDefaultTermMeta=function(){return"type"},cls.getContextKey=function(){return"types"}}(TypeAutocompleteComponent.prototype),FieldAutocompleteComponent.prototype=_.create(autocomplete_engine.ListComponent.prototype,{constructor:FieldAutocompleteComponent}),function(cls){cls.validateTokens=function(tokens){return!(!this.multi_valued&&tokens.length>1)&&!_.find(tokens,function(token){return token.match(/[^\w.?*]/)})},cls.getDefaultTermMeta=function(){return"field"},cls.getContextKey=function(){return"fields"}}(FieldAutocompleteComponent.prototype),IdAutocompleteComponent.prototype=_.create(autocomplete_engine.SharedComponent.prototype,{constructor:IdAutocompleteComponent}),function(cls){cls.match=function(token,context,editor){if(!token)return null;if(!this.multi_match&&Array.isArray(token))return null;if(token=Array.isArray(token)?token:[token],_.find(token,function(t){return t.match(/[\/,]/)}))return null;var r=Object.getPrototypeOf(cls).match.call(this,token,context,editor);return r.context_values=r.context_values||{},r.context_values.id=token,r}}(IdAutocompleteComponent.prototype);var parametrizedComponentFactories={index:function(name,parent){return new IndexAutocompleteComponent(name,parent,!1)},indices:function(name,parent){return new IndexAutocompleteComponent(name,parent,!0)},type:function(name,parent){return new TypeAutocompleteComponent(name,parent,!1)},types:function(name,parent){return new TypeAutocompleteComponent(name,parent,!0)},id:function(name,parent){return new IdAutocompleteComponent(name,parent)},ids:function(name,parent){return new IdAutocompleteComponent(name,parent,!0)},fields:function(name,parent){return new FieldAutocompleteComponent(name,parent,!0)},field:function(name,parent){return new FieldAutocompleteComponent(name,parent,!1)},nodes:function(name,parent){return new autocomplete_engine.ListComponent(name,["_local","_master","data:true","data:false","master:true","master:false"],parent)},node:function(name,parent){return new autocomplete_engine.ListComponent(name,[],parent,!1)}};setActiveApi("es_5_0");exports._test={loadApisFromJson:loadApisFromJson}},5341:function(module,exports,__webpack_require__){"use strict";function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules()),this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mode=Mode;var ace=__webpack_require__(124);__webpack_require__(554),__webpack_require__(1536);var oop=ace.require("ace/lib/oop"),JSONMode=ace.require("ace/mode/json").Mode,HighlightRules=__webpack_require__(1536).OutputJsonHighlightRules,MatchingBraceOutdent=ace.require("ace/mode/matching_brace_outdent").MatchingBraceOutdent,CstyleBehaviour=ace.require("ace/mode/behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=ace.require("ace/mode/folding/cstyle").FoldMode;ace.require("ace/worker/worker_client");var AceTokenizer=ace.require("ace/tokenizer").Tokenizer;oop.inherits(Mode,JSONMode),function(){this.createWorker=function(){return null},this.$id="sense/mode/input"}.call(Mode.prototype)},5342:function(module,exports,__webpack_require__){"use strict";function Api(urlParametrizedComponentFactories,bodyParametrizedComponentFactories){this.globalRules={},this.endpoints={},this.urlPatternMatcher=new url_pattern_matcher.UrlPatternMatcher(urlParametrizedComponentFactories),this.globalBodyComponentFactories=bodyParametrizedComponentFactories,this.name=""}Object.defineProperty(exports,"__esModule",{value:!0});var _=__webpack_require__(1),url_pattern_matcher=__webpack_require__(1540),url_params=__webpack_require__(5343),body_completer=__webpack_require__(5344);!function(cls){cls.addGlobalAutocompleteRules=function(parentNode,rules){this.globalRules[parentNode]=body_completer.compileBodyDescription("GLOBAL."+parentNode,rules,this.globalBodyComponentFactories)},cls.getGlobalAutocompleteComponents=function(term,throwOnMissing){var result=this.globalRules[term];if(_.isUndefined(result)&&(throwOnMissing||_.isUndefined(throwOnMissing)))throw new Error("failed to resolve global components for  ['"+term+"']");return result},cls.addEndpointDescription=function(endpoint,description){var copiedDescription={};_.extend(copiedDescription,description||{}),_.defaults(copiedDescription,{id:endpoint,patterns:[endpoint],methods:["GET"]}),_.each(copiedDescription.patterns,function(p){this.urlPatternMatcher.addEndpoint(p,copiedDescription)},this),copiedDescription.paramsAutocomplete=new url_params.UrlParams(copiedDescription.url_params),copiedDescription.bodyAutocompleteRootComponents=body_completer.compileBodyDescription(copiedDescription.id,copiedDescription.data_autocomplete_rules,this.globalBodyComponentFactories),this.endpoints[endpoint]=copiedDescription},cls.getEndpointDescriptionByEndpoint=function(endpoint){return this.endpoints[endpoint]},cls.getTopLevelUrlCompleteComponents=function(){return this.urlPatternMatcher.getTopLevelComponents()},cls.getUnmatchedEndpointComponents=function(){return body_completer.globalsOnlyAutocompleteComponents()},cls.clear=function(){this.endpoints={},this.globalRules={}}}(Api.prototype),exports.default=Api,module.exports=exports.default},5343:function(module,exports,__webpack_require__){"use strict";function ParamComponent(name,parent,description){engine.ConstantComponent.call(this,name,parent),this.description=description}function UrlParams(description,defaults){this.rootComponent=new engine.SharedComponent("ROOT"),_.isUndefined(defaults)&&(defaults={pretty:"__flag__",format:["json","yaml"],filter_path:""}),description=_.clone(description||{}),_.defaults(description,defaults),_.each(description,function(p_description,param){var component=new ParamComponent(param,this.rootComponent,p_description);Array.isArray(p_description)?new engine.ListComponent(param,p_description,component):"__flag__"===p_description&&new engine.ListComponent(param,["true","false"],component)},this)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParamComponent=ParamComponent,exports.UrlParams=UrlParams;var _=__webpack_require__(1),engine=__webpack_require__(416);ParamComponent.prototype=_.create(engine.ConstantComponent.prototype,{constructor:ParamComponent}),function(cls){cls.getTerms=function(){var t={name:this.name};return"__flag__"===this.description?t.meta="flag":(t.meta="param",t.insert_value=this.name+"="),[t]}}(ParamComponent.prototype),function(cls){cls.getTopLevelComponents=function(){return this.rootComponent.next}}(UrlParams.prototype)},5344:function(module,exports,__webpack_require__){"use strict";function CompilingContext(endpoint_id,parametrizedComponentFactories){this.parametrizedComponentFactories=parametrizedComponentFactories,this.endpoint_id=endpoint_id}function getTemplate(description){if(description.__template)return description.__template;if(description.__one_of)return getTemplate(description.__one_of[0]);if(description.__any_of)return[];if(description.__scope_link)return{};if(Array.isArray(description)){if(1==description.length&&_.isObject(description[0])){var innerTemplate=getTemplate(description[0]);return null!=innerTemplate?[innerTemplate]:[]}return[]}return _.isObject(description)?{}:(_.isString(description)&&/^\{.*\}$/.test(description),description)}function getOptions(description){var options={},template=getTemplate(description);return _.isUndefined(template)||(options.template=template),options}function compileDescription(description,compilingContext){if(Array.isArray(description))return[compileList(description,compilingContext)];if(_.isObject(description)){if(description.__scope_link)return[new ScopeResolver(description.__scope_link,compilingContext)];if(description.__any_of)return[compileList(description.__any_of,compilingContext)];if(description.__one_of)return _.flatten(_.map(description.__one_of,function(d){return compileDescription(d,compilingContext)}));var obj=compileObject(description,compilingContext);return description.__condition?[compileCondition(description.__condition,obj)]:[obj]}return _.isString(description)&&/^\{.*\}$/.test(description)?[compileParametrizedValue(description,compilingContext)]:[new engine.ConstantComponent(description)]}function compileParametrizedValue(value,compilingContext,template){value=value.substr(1,value.length-2).toLowerCase();var component=compilingContext.parametrizedComponentFactories[value];if(!component)throw new Error("no factory found for '"+value+"'");return component=component(value,null,template),_.isUndefined(template)||(component=engine.wrapComponentWithDefaults(component,{template:template})),component}function compileObject(objDescription,compilingContext){var objectC=new engine.ConstantComponent("{"),constants=[],patterns=[];return _.each(objDescription,function(desc,key){if(0!=key.indexOf("__")){var component,options=getOptions(desc);/^\{.*\}$/.test(key)?(component=compileParametrizedValue(key,compilingContext,options.template),patterns.push(component)):"*"===key?(component=new engine.SharedComponent(key),patterns.push(component)):(options.name=key,component=new engine.ConstantComponent(key,null,[options]),constants.push(component)),_.map(compileDescription(desc,compilingContext),function(subComponent){component.addComponent(subComponent)})}}),objectC.addComponent(new ObjectComponent("inner",constants,patterns)),objectC}function compileList(listRule,compilingContext){var listC=new engine.ConstantComponent("[");return _.each(listRule,function(desc){_.each(compileDescription(desc,compilingContext),function(component){listC.addComponent(component)})}),listC}function compileCondition(description,compiledObject){if(description.lines_regex)return new ConditionalProxy(function(context,editor){var lines=editor.getSession().getLines(context.requestStartRow,editor.getCursorPosition().row).join("\n");return new RegExp(description.lines_regex,"m").test(lines)},compiledObject);throw"unknown condition type - got: "+JSON.stringify(description)}function ObjectComponent(name,constants,patternsAndWildCards){engine.AutocompleteComponent.call(this,name),this.constants=constants,this.patternsAndWildCards=patternsAndWildCards}function ScopeResolver(link,compilingContext){engine.SharedComponent.call(this,"__scope_link",null),_.isString(link)&&"."===link[0]&&(link="."===link?compilingContext.endpoint_id:compilingContext.endpoint_id+link),this.link=link,this.compilingContext=compilingContext}function ConditionalProxy(predicate,delegate){engine.SharedComponent.call(this,"__condition",null),this.predicate=predicate,this.delegate=delegate}function GlobalOnlyComponent(name){engine.AutocompleteComponent.call(this,name)}function globalsOnlyAutocompleteComponents(){return[new GlobalOnlyComponent("__global__")]}function compileBodyDescription(endpoint_id,description,parametrizedComponentFactories){return compileDescription(description,new CompilingContext(endpoint_id,parametrizedComponentFactories))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.globalsOnlyAutocompleteComponents=globalsOnlyAutocompleteComponents,exports.compileBodyDescription=compileBodyDescription;var _=__webpack_require__(1),engine=__webpack_require__(416);ObjectComponent.prototype=_.create(engine.AutocompleteComponent.prototype,{constructor:ObjectComponent}),function(cls){cls.getTerms=function(context,editor){var options=[];return _.each(this.constants,function(component){options.push.apply(options,component.getTerms(context,editor))}),_.each(this.patternsAndWildCards,function(component){options.push.apply(options,component.getTerms(context,editor))}),options},cls.match=function(token,context,editor){var result={next:[]};_.each(this.constants,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)});var globalRules=context.globalComponentResolver(token,!1);return globalRules&&result.next.push.apply(result.next,globalRules),result.next.length?result:(_.each(this.patternsAndWildCards,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)}),result)}}(ObjectComponent.prototype),ScopeResolver.prototype=_.create(engine.SharedComponent.prototype,{constructor:ScopeResolver}),function(cls){cls.resolveLinkToComponents=function(context,editor){if(_.isFunction(this.link)){return compileDescription(this.link(context,editor),this.compilingContext)}if(!_.isString(this.link))throw new Error("unsupported link format",this.link);var components,path=this.link.replace(/\./g,"{").split(/(\{)/),endpoint=path[0];try{if("GLOBAL"===endpoint){if(path.length<3)throw new Error("missing term in global link: "+this.link);var term=path[2];components=context.globalComponentResolver(term),path=path.slice(3)}else path=path.slice(1),components=context.endpointComponentResolver(endpoint)}catch(e){throw new Error("failed to resolve link ["+this.link+"]: "+e)}return engine.resolvePathToComponents(path,context,editor,components)},cls.getTerms=function(context,editor){var options=[],components=this.resolveLinkToComponents(context,editor);return _.each(components,function(component){options.push.apply(options,component.getTerms(context,editor))}),options},cls.match=function(token,context,editor){var result={next:[]},components=this.resolveLinkToComponents(context,editor);return _.each(components,function(component){var componentResult=component.match(token,context,editor);componentResult&&componentResult.next&&result.next.push.apply(result.next,componentResult.next)}),result}}(ScopeResolver.prototype),ConditionalProxy.prototype=_.create(engine.SharedComponent.prototype,{constructor:ConditionalProxy}),function(cls){cls.getTerms=function(context,editor){return this.predicate(context,editor)?this.delegate.getTerms(context,editor):null},cls.match=function(token,context,editor){return!!this.predicate(context,editor)&&this.delegate.match(token,context,editor)}}(ConditionalProxy.prototype),GlobalOnlyComponent.prototype=_.create(engine.AutocompleteComponent.prototype,{constructor:ObjectComponent}),function(cls){cls.getTerms=function(){return null},cls.match=function(token,context){var result={next:[]},globalRules=context.globalComponentResolver(token,!1);return globalRules&&result.next.push.apply(result.next,globalRules),result.next.length?result:(result.next=[this],result)}}(GlobalOnlyComponent.prototype)},5345:function(module,exports){consoleAce.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/autocomplete/text_completer","ace/editor"],function(require,exports,module){var snippetManager=require("../snippets").snippetManager,Autocomplete=require("../autocomplete").Autocomplete,config=require("../config"),textCompleter=require("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){var state=editor.session.getState(pos.row);callback(null,session.$mode.getCompletions(state,session,pos,prefix))}},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap,completions=[];snippetManager.getActiveScopes(editor).forEach(function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+"⇥ ":"snippet"})}},this),callback(null,completions)}},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.addCompleter=function(completer){completers.push(completer)};var expandSnippet={name:"expandSnippet",exec:function(editor){snippetManager.expandWithTab(editor)||editor.execCommand("indent")},bindKey:"tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={}),loadSnippetFile(id),mode.modes&&mode.modes.forEach(loadSnippetsForMode)},loadSnippetFile=function(id){if(id&&!snippetManager.files[id]){var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={},config.loadModule(snippetFilePath,function(m){m&&(snippetManager.files[id]=m,m.snippets=snippetManager.parseSnippetFile(m.snippetText),snippetManager.register(m.snippets,m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach(function(x){loadSnippetFile("ace/mode/"+x)})))})}},Editor=require("../editor").Editor;require("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers=completers,this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})}),consoleAce.define("ace/snippets",["require","exports","module","ace/lib/lang","ace/range","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom"],function(require,exports,module){var lang=require("./lib/lang"),Range=require("./range").Range,HashHandler=require("./keyboard/hash_handler").HashHandler,Tokenizer=require("./tokenizer").Tokenizer,comparePoints=Range.comparePoints,SnippetManager=function(){this.snippetMap={},this.snippetNameMap={}};(function(){this.getTokenizer=function(){function TabstopToken(str,_,stack){return str=str.substr(1),/^\d+$/.test(str)&&!stack.inFormatString?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectIf?(stack[0].expectIf=!1,stack[0].elseBranch=stack[0],[stack[0]]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length?val=ch:-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch?val="\n":"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"})),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),state,stack);return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=val,val=this.splitRegex.exec(val),ts.guard=val[1],ts.fmt=val[2],ts.flag=val[3],""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){return stack[0].code=val.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=!0},next:"start"}]}),SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer},SnippetManager.$tokenizer},this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map(function(x){return x.value||x})},this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];if(name=name.replace(/^TM_/,""),editor){var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"ace.ajax.org";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(editor,varName){return this.variables.hasOwnProperty(varName)?this.variables[varName](editor,varName)||"":this.$getDefaultValue(editor,varName)||""},this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString"),_self=this,formatted=str.replace(re,function(){_self.variables.__=arguments;for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")});return this.variables.__=null,formatted},this.resolveVariables=function(snippet,editor){function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}for(var result=[],i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch)),ch.processed=i,null==ch.expectIf?value&&(result.push(value),gotoNext(ch)):value?ch.skip=ch.elseBranch:gotoNext(ch)}else null!=ch.tabstopId?result.push(ch):null!=ch.changeCase&&result.push(ch)}}}return result},this.insertSnippet=function(editor,snippetText){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),indentString=line.match(/^\s*/)[0],tabString=editor.session.getTabString(),tokens=this.tokenizeTmSnippet(snippetText);tokens=this.resolveVariables(tokens,editor),tokens=tokens.map(function(x){return"\n"==x?x+indentString:"string"==typeof x?x.replace(/\t/g,tabString):x});var tabstops=[];tokens.forEach(function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||(ts=tabstops[id]=[],ts.index=id,ts.value=""),-1===ts.indexOf(p)){ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some(function(t){return"object"==typeof t})&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}}),tabstops.forEach(function(ts){ts.length=0});for(var expanding={},i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,i1=tokens.indexOf(p,i+1);if(expanding[id]!=p){var ts=tabstops[id],arg="string"==typeof ts.value?[ts.value]:function(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}(ts.value);arg.unshift(i+1,Math.max(0,i1-i)),arg.push(p),expanding[id]=p,tokens.splice.apply(tokens,arg),-1===ts.indexOf(p)&&ts.push(p)}else expanding[id]=null}}var row=0,column=0,text="";tokens.forEach(function(t){"string"==typeof t?("\n"===t[0]?(column=t.length-1,row++):column+=t.length,text+=t):t.start?t.end={row:row,column:column}:t.start={row:row,column:column}});var range=editor.getSelectionRange(),end=editor.session.replace(range,text),tabstopManager=new TabstopManager(editor);tabstopManager.addTabstops(tabstops,range.start,end),tabstopManager.tabNext()},this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"===scope&&(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},this.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},this.expandWithTab=function(editor){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet},this),!!snippet&&(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippet(editor,snippet.content),this.variables.M__=this.variables.T__=null,!0)},this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},this.snippetMap={},this.snippetNameMap={},this.register=function(snippets,scope){function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger,"",!0),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger,"",!0)}var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet)},this.unregister=function(snippets,scope){function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):snippet[key]=val}}return list},this.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet},this),snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)};(function(){this.attach=function(editor){this.index=-1,this.ranges=[],this.tabstops=[],this.selectedTabstop=null,this.editor=editor,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var changeRange=e.data.range,isRemove="r"==e.data.action[0],start=changeRange.start,end=changeRange.end,startRow=start.row,endRow=end.row,lineDif=endRow-startRow,colDiff=end.column-start.column;if(isRemove&&(lineDif=-lineDif,colDiff=-colDiff),!this.$inChange&&isRemove){if(!this.selectedTabstop.some(function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0}))return this.detach()}for(var ranges=this.ranges,i=0;i<ranges.length;i++){var r=ranges[i];r.end.row<start.row||(comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0?(this.removeRange(r),i--):(r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff),r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff),r.start.row>=startRow&&(r.start.row+=lineDif),r.end.row>=startRow&&(r.end.row+=lineDif),comparePoints(r.start,r.end)>0&&this.removeRange(r)))}ranges.length||this.detach()},this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts.hasLinkedRanges){this.$inChange=!0;for(var session=this.editor.session,text=session.getTextRange(ts.firstNonLinked),i=ts.length;i--;){var range=ts[i];if(range.linked){var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(dir){var max=this.tabstops.length-1,index=this.index+(dir||1);index=Math.min(Math.max(index,0),max),this.selectTabstop(index),index==max&&this.detach()},this.selectTabstop=function(index){var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){if(this.selectedTabstop=ts,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(tabstops,start,end){if(!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var i=this.index,arg=[i,0],ranges=this.ranges;this.editor;tabstops.forEach(function(ts){for(var i=ts.length;i--;){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=ts,ranges.push(range),ts[i]=range,p.fmtString?(range.linked=!0,ts.hasLinkedRanges=!0):ts.firstNonLinked||(ts.firstNonLinked=range)}ts.firstNonLinked||(ts.hasLinkedRanges=!1),arg.push(ts),this.addTabstopMarkers(ts)},this),arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg)},this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){session.removeMarker(range.markerId),range.markerId=null})},this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1),i=this.ranges.indexOf(range),this.ranges.splice(i,1),this.editor.session.removeMarker(range.markerId)},this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys({Tab:function(ed){exports.snippetManager&&exports.snippetManager.expandWithTab(ed)||ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return!1}})}).call(TabstopManager.prototype);var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};require("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),exports.snippetManager=new SnippetManager}),consoleAce.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/snippets"],function(require,exports,module){var HashHandler=require("./keyboard/hash_handler").HashHandler,AcePopup=require("./autocomplete/popup").AcePopup,util=require("./autocomplete/util"),event=require("./lib/event"),lang=require("./lib/lang"),snippetManager=require("./snippets").snippetManager,Autocomplete=function(){this.autoInsert=!0,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this))};(function(){this.$init=function(){this.popup=new AcePopup(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this))},this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.popup.setData(this.completions.filtered);var renderer=editor.renderer;if(!keepPopupPosition){this.popup.setRow(0),this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.$gutterLayer.gutterWidth,this.popup.show(pos,lineHeight)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.changeListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.popup&&this.popup.hide(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(){document.activeElement!=this.editor.textInput.getElement()&&this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(where){var row=this.popup.getRow(),max=this.popup.session.getLength()-1;switch(where){case"up":row=row<0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)},this.insertMatch=function(data){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor);else{if(this.completions.filterText)for(var range,ranges=this.editor.selection.getAllRanges(),i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,this.editor.session.remove(range);data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()},this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Space:function(editor){editor.completer.detach(),editor.insert(" ")},Return:function(editor){editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch()},Tab:function(editor){editor.completer.insertMatch()},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},this.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),line=session.getLine(pos.row),prefix=util.retrievePrecedingIdentifier(line,pos.column);this.base=editor.getCursorPosition(),this.base.column-=prefix.length;var matches=[];return util.parForEach(editor.completers,function(completer,next){completer.getCompletions(editor,session,pos,prefix,function(err,results){err||(matches=matches.concat(results)),next()})},function(){callback(null,{prefix:prefix,matches:matches})}),!0},this.showPopup=function(editor){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.keyBinding.addKeyboardHandler(this.keyboardHandler),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach()}this.gatherCompletions(this.editor,function(err,results){var matches=results&&results.matches;if(!matches||!matches.length)return this.detach();this.completions=new FilteredList(matches),this.completions.setFilter(results.prefix);var filtered=this.completions.filtered;return filtered.length?this.autoInsert&&1==filtered.length?this.insertMatch(filtered[0]):void this.openPopup(this.editor,results.prefix,keepPopupPosition):this.detach()}.bind(this))},this.cancelContextMenu=function(){var stop=function(e){this.editor.off("nativecontextmenu",stop),e&&e.domEvent&&event.stopEvent(e.domEvent)}.bind(this);setTimeout(stop,10),this.editor.on("nativecontextmenu",stop)}}).call(Autocomplete.prototype),Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete),editor.completer.showPopup(editor),editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText,mutateData){this.all=array,this.filtered=array,this.filterText=filterText||""};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else var matches=this.all;this.filterText=str,matches=this.filterCompletions(matches,this.filterText),matches=matches.sort(function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score});var prev=null;matches=matches.filter(function(item){var caption=item.value||item.caption||item.snippet;return caption!==prev&&(prev=caption,!0)}),this.filtered=matches},this.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(caption){for(var index,distance,lastIndex=-1,matchMask=0,penalty=0,j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;distance=index-lastIndex-1,distance>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance),matchMask|=1<<index,lastIndex=index}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.score=(item.score||0)-penalty,results.push(item)}}return results}}).call(FilteredList.prototype),exports.Autocomplete=Autocomplete,exports.FilteredList=FilteredList}),consoleAce.define("ace/autocomplete/popup",["require","exports","module","ace/edit_session","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(require,exports,module){var Renderer=(require("../edit_session").EditSession,require("../virtual_renderer").VirtualRenderer),Editor=require("../editor").Editor,Range=require("../range").Range,event=require("../lib/event"),lang=require("../lib/lang"),dom=require("../lib/dom"),$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusWaitTimout=0,editor},AcePopup=function(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.setOption("displayIndentGuides",!1);var noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",function(e){var pos=e.getDocumentPosition();popup.moveCursorToPosition(pos),popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()});var lastMouseEvent,hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",function(e){if(!lastMouseEvent)return void(lastMouseEvent=e);if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){lastMouseEvent=e,lastMouseEvent.scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}),popup.renderer.on("beforeRender",function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}}),popup.renderer.on("afterRender",function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow];selected!=t.selectedNode&&(t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=selected,selected&&dom.addCssClass(selected,"ace_selected"))});var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(i){var data=popup.data[i],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data}),data.caption||(data.caption=data.value);for(var flag,c,last=-1,i=0;i<data.caption.length;i++)c=data.caption[i],flag=data.matchMask&1<<i?1:0,last!==flag?(tokens.push({type:data.className||(flag?"completion-highlight":""),value:c}),last=flag):tokens[tokens.length-1].value+=c;if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth;data.meta.length+data.caption.length<maxW-2&&tokens.push({type:"rightAlignedText",value:data.meta})}return tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.isOpen=!1,popup.isTopdown=!1,popup.data=[],popup.setData=function(list){popup.data=list||[],popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(-1,Math.min(this.data.length,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",function(){popup.isOpen&&popup.setRow(popup.selection.lead.row)}),popup.hide=function(){this.container.style.display="none",this._signal("hide"),popup.isOpen=!1},popup.show=function(pos,lineHeight,topdownOnly){var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,top=pos.top+this.$borderSize;top+maxH>screenHeight-lineHeight&&!topdownOnly?(el.style.top="",el.style.bottom=screenHeight-top+"px",popup.isTopdown=!1):(top+=lineHeight,el.style.top=top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="",this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",this._signal("show"),lastMouseEvent=null,popup.isOpen=!0},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup};dom.importCssString(".ace_autocomplete.ace-tm .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_autocomplete.ace-tm .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),exports.AcePopup=AcePopup}),consoleAce.define("ace/autocomplete/util",["require","exports","module"],function(require,exports,module){exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],function(result,err){++completed===arLength&&callback(result,err)})};var ID_REGEX=/[a-zA-Z_0-9\$-]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf}}),consoleAce.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(require,exports,module){function getWordIndex(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}function wordDistance(doc,pos){var prefixPos=getWordIndex(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach(function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}}),wordScores}var Range=require("ace/range").Range,splitRegex=/[^a-zA-Z_0-9\$\-]+/;exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map(function(word){return{name:word,value:word,score:wordScore[word],meta:"local"}}))}})},5346:function(module,exports,__webpack_require__){"use strict";function detectCURLinLine(line){return line.match(/^\s*?curl\s+(-X[A-Z]+)?\s*['"]?.*?['"]?(\s*$|\s+?-d\s*?['"])/)}function detectCURL(text){if(!text)return!1;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=text.split("\n")[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){if(detectCURLinLine(_step.value))return!0}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!1}function parseCURL(text){function unescapeLastBodyEl(){var str=body.pop().replace(/\\([\\"'])/g,"$1");body.push(str)}function detectQuote(){"'"==line.substr(0,1)?(line=line.substr(1),state="SINGLE_QUOTE"):'"'==line.substr(0,1)?(line=line.substr(1),state="DOUBLE_QUOTE"):state="UNQUOTED"}function addBodyToOut(){body.length>0&&(out.push(body.join("")),body=[]),state="LF",out.push("\n")}function consumeMatching(pattern){var matches=line.match(pattern);matches?(body.push(matches[1]),line=line.substr(matches[0].length),detectQuote()):(body.push(line),line="")}var matches,state="NONE",out=[],body=[],line="",lines=text.trim().split("\n"),EmptyLine=/^\s*$/,Comment=/^\s*(?:#|\/{2,})(.*)\n?$/,ExecutionComment=/^\s*#!/,ClosingSingleQuote=/^([^']*)'/,ClosingDoubleQuote=/^((?:[^\\"]|\\.)*)"/,EscapedQuotes=/^((?:[^\\"']|\\.)+)/,LooksLikeCurl=/^\s*curl\s+/,CurlVerb=/-X ?(GET|HEAD|POST|PUT|DELETE)/,HasProtocol=/[\s"']https?:\/\//,CurlRequestWithProto=/[\s"']https?:\/\/[^\/ ]+\/+([^\s"']+)/,CurlRequestWithoutProto=/[\s"'][^\/ ]+\/+([^\s"']+)/,CurlData=/^.+\s(--data|-d)\s*/,SenseLine=/^\s*(GET|HEAD|POST|PUT|DELETE)\s+\/?(.+)/;for(lines.length>0&&ExecutionComment.test(lines[0])&&lines.shift();function(){return line.length>0||0!=lines.length&&(line=lines.shift().replace(/[\r\n]+/g,"\n")+"\n",!0)}();)"SINGLE_QUOTE"==state?consumeMatching(ClosingSingleQuote):"DOUBLE_QUOTE"==state?(consumeMatching(ClosingDoubleQuote),unescapeLastBodyEl()):"UNQUOTED"==state?(consumeMatching(EscapedQuotes),body.length&&unescapeLastBodyEl(),"UNQUOTED"==state&&(addBodyToOut(),line="")):"BODY"==state?Comment.test(line)||EmptyLine.test(line)?addBodyToOut():(body.push(line),line=""):EmptyLine.test(line)?("LF"!=state&&(out.push("\n"),state="LF"),line=""):(matches=line.match(Comment))?(out.push("#"+matches[1]+"\n"),state="NONE",line=""):LooksLikeCurl.test(line)?function(){var matches,verb="GET",request="";(matches=line.match(CurlVerb))&&(verb=matches[1]);var pattern=HasProtocol.test(line)?CurlRequestWithProto:CurlRequestWithoutProto;(matches=line.match(pattern))&&(request=matches[1]),out.push(verb+" /"+request+"\n"),(matches=line.match(CurlData))?(line=line.substr(matches[0].length),detectQuote(),EmptyLine.test(line)&&(line="")):(state="NONE",line="",out.push(""))}():(matches=line.match(SenseLine))?(out.push(matches[1]+" /"+matches[2]+"\n"),line="",state="BODY"):(out.push("### "+line),line="");return addBodyToOut(),out.join("").trim()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.detectCURL=detectCURL,exports.parseCURL=parseCURL},5347:function(module,exports,__webpack_require__){"use strict";function RowParser(editor){var defaultEditor=editor;this.getRowParseMode=function(row){null!=row&&void 0!==row||(row=editor.getCursorPosition().row);var session=editor.getSession();if(row>=session.getLength()||row<0)return MODE.BETWEEN_REQUESTS;var mode=session.getState(row);if(!mode)return MODE.BETWEEN_REQUESTS;if("start"!==mode)return MODE.IN_REQUEST;var line=(session.getLine(row)||"").trim();return line&&"#"!==line[0]?line.indexOf("}",line.length-1)>=0?(row++,row<session.getLength()&&(line=(session.getLine(row)||"").trim(),0===line.indexOf("{"))?MODE.MULTI_DOC_CUR_DOC_END|MODE.IN_REQUEST:MODE.REQUEST_END|MODE.MULTI_DOC_CUR_DOC_END):++row>=session.getLength()?MODE.REQUEST_START|MODE.REQUEST_END:(line=(session.getLine(row)||"").trim(),0!==line.indexOf("{")?MODE.REQUEST_START|MODE.REQUEST_END:MODE.REQUEST_START):MODE.BETWEEN_REQUESTS},this.rowPredicate=function(row,editor,value){return(this.getRowParseMode(row,editor)&value)>0},this.isEndRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END)},this.isRequestEdge=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_END|MODE.REQUEST_START)},this.isStartRequestRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.REQUEST_START)},this.isInBetweenRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.BETWEEN_REQUESTS)},this.isInRequestsRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.IN_REQUEST)},this.isMultiDocDocEndRow=function(row,_e){var editor=_e||defaultEditor;return this.rowPredicate(row,editor,MODE.MULTI_DOC_CUR_DOC_END)},this.isEmptyToken=function(tokenOrTokenIter){var token=tokenOrTokenIter&&tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return!token||"whitespace"==token.type},this.isUrlOrMethodToken=function(tokenOrTokenIter){var t=tokenOrTokenIter.getCurrentToken?tokenOrTokenIter.getCurrentToken():tokenOrTokenIter;return t&&t.type&&("method"==t.type||0===t.type.indexOf("url"))},this.nextNonEmptyToken=function(tokenIter){for(var t=tokenIter.stepForward();t&&this.isEmptyToken(t);)t=tokenIter.stepForward();return t},this.prevNonEmptyToken=function(tokenIter){for(var t=tokenIter.stepBackward();(t||tokenIter.getCurrentTokenRow()>0)&&this.isEmptyToken(t);)t=tokenIter.stepBackward();return t}}Object.defineProperty(exports,"__esModule",{value:!0});var MODE={REQUEST_START:2,IN_REQUEST:4,MULTI_DOC_CUR_DOC_END:8,REQUEST_END:16,BETWEEN_REQUESTS:32};RowParser.prototype.MODE=MODE,exports.default=RowParser,module.exports=exports.default},5348:function(module,exports,__webpack_require__){"use strict";function Mode(){this.$tokenizer=new AceTokenizer((new HighlightRules).getRules()),this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode,this.createModeDelegates({"script-":ScriptMode})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mode=Mode;var acequire=__webpack_require__(1541);__webpack_require__(124),__webpack_require__(554);var oop=acequire("ace/lib/oop"),TextMode=acequire("ace/mode/text").Mode,ScriptMode=__webpack_require__(5349).ScriptMode,MatchingBraceOutdent=acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent,CstyleBehaviour=acequire("ace/mode/behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=acequire("ace/mode/folding/cstyle").FoldMode,WorkerClient=acequire("ace/worker/worker_client").WorkerClient,AceTokenizer=acequire("ace/tokenizer").Tokenizer,HighlightRules=__webpack_require__(5350).InputHighlightRules;acequire("ace/config").setModuleUrl("sense_editor/mode/worker",__webpack_require__(5351)),oop.inherits(Mode,TextMode),function(){this.getCompletions=function(){return[]},this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("string_literal"!==state){line.match(/^.*[\{\(\[]\s*$/)&&(indent+=tab)}return indent},this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)},this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)},this.createWorker=function(session){var worker=new WorkerClient(["ace","sense_editor"],"sense_editor/mode/worker","SenseWorker");return worker.attachToDocument(session.getDocument()),worker.on("error",function(e){session.setAnnotations([e.data])}),worker.on("ok",function(anno){session.setAnnotations(anno.data)}),worker}}.call(Mode.prototype)},5349:function(module,exports,__webpack_require__){"use strict";function ScriptMode(){this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ScriptMode=ScriptMode;var acequire=__webpack_require__(1541);__webpack_require__(124),__webpack_require__(554);var oop=acequire("ace/lib/oop"),TextMode=acequire("ace/mode/text").Mode,MatchingBraceOutdent=acequire("ace/mode/matching_brace_outdent").MatchingBraceOutdent,CstyleBehaviour=acequire("ace/mode/behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=acequire("ace/mode/folding/cstyle").FoldMode;acequire("ace/tokenizer");var ScriptHighlightRules=__webpack_require__(1538).ScriptHighlightRules;oop.inherits(ScriptMode,TextMode),function(){this.HighlightRules=ScriptHighlightRules,this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);return line.match(/^.*[\{\[]\s*$/)&&(indent+=tab),indent},this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)},this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)}}.call(ScriptMode.prototype)},5350:function(module,exports,__webpack_require__){"use strict";function InputHighlightRules(){function mergeTokens(){return[].concat.apply([],arguments)}function addEOL(tokens,reg,nextIfEOL,normalNext){return"object"==(void 0===reg?"undefined":_typeof(reg))&&(reg=reg.source),[{token:tokens.concat(["whitespace"]),regex:reg+"(\\s*)$",next:nextIfEOL},{token:tokens,regex:reg,next:normalNext}]}this.$rules={start:mergeTokens([{token:"warning",regex:"#!.*$"},{token:"comment",regex:/^#.*$/},{token:"paren.lparen",regex:"{",next:"json",push:!0}],addEOL(["method"],/([a-zA-Z]+)/,"start","method_sep"),[{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}]),method_sep:mergeTokens(addEOL(["whitespace","url.protocol_host","url.slash"],/(\s+)(https?:\/\/[^?\/,]+)(\/)/,"start","url"),addEOL(["whitespace","url.protocol_host"],/(\s+)(https?:\/\/[^?\/,]+)/,"start","url"),addEOL(["whitespace","url.slash"],/(\s+)(\/)/,"start","url"),addEOL(["whitespace"],/(\s+)/,"start","url")),url:mergeTokens(addEOL(["url.part"],/([^?\/,\s]+)/,"start"),addEOL(["url.comma"],/(,)/,"start"),addEOL(["url.slash"],/(\/)/,"start"),addEOL(["url.questionmark"],/(\?)/,"start","urlParams")),urlParams:mergeTokens(addEOL(["url.param","url.equal","url.value"],/([^&=]+)(=)([^&]*)/,"start"),addEOL(["url.param"],/([^&=]+)/,"start"),addEOL(["url.amp"],/(&)/,"start"))},x_json.addToRules(this),this.constructor===InputHighlightRules&&this.normalizeRules()}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.InputHighlightRules=InputHighlightRules;var ace=__webpack_require__(124),x_json=__webpack_require__(1537),oop=ace.require("ace/lib/oop"),TextHighlightRules=ace.require("ace/mode/text_highlight_rules").TextHighlightRules;oop.inherits(InputHighlightRules,TextHighlightRules)},5351:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"08dd79443c24d83e569939cc78508c5e.js"},5352:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(input,output){function storeEditorWidth(editorWidth){storage.set("editorWidth",editorWidth)}function setEditorWidth(editorWidth){storeEditorWidth(editorWidth),$left.width(editorWidth)}var $left=input.$el.parent(),$resizer=$("#editor_resizer");$resizer.on("mousedown",function(event){function onMove(event){setEditorWidth(startWidth+event.pageX-startX)}$resizer.addClass("active");var startWidth=$left.width(),startX=event.pageX;input.resize.topRow=input.renderer.layerConfig.firstRow,output.resize.topRow=output.renderer.layerConfig.firstRow,$(document.body).on("mousemove",onMove).one("mouseup",function(){$resizer.removeClass("active"),$(this).off("mousemove",onMove),input.resize(),output.resize()})});var initialEditorWidth=function(){return storage.get("editorWidth")}();null!=initialEditorWidth&&setEditorWidth(initialEditorWidth)};var $=__webpack_require__(12),storage=__webpack_require__(415);module.exports=exports.default},5353:function(module,exports,__webpack_require__){"use strict";function init(input,output){function resetToValues(content){null!=content&&input.update(content),output.update("")}function saveCurrentState(){try{var content=input.getValue();history.updateCurrentState(content)}catch(e){console.log("Ignoring saving error: "+e)}}var sourceLocation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stored";$(document.body).removeClass("fouc"),history.restoreFromHistory=function(req){var session=input.getSession(),pos=input.getCursorPosition(),prefix="",suffix="\n";if(input.parser.isStartRequestRow(pos.row))pos.column=0,suffix+="\n";else if(input.parser.isEndRequestRow(pos.row)){var line=session.getLine(pos.row);pos.column=line.length,prefix="\n\n"}else input.parser.isInBetweenRequestsRow(pos.row)?pos.column=0:(pos=input.nextRequestEnd(pos),prefix="\n\n");var s=prefix+req.method+" "+req.endpoint;req.data&&(s+="\n"+req.data),s+=suffix,session.insert(pos,s),input.clearSelection(),input.moveCursorTo(pos.row+prefix.length,0),input.focus()},function(){var previousSaveState=history.getSavedEditorState();if("stored"==sourceLocation)previousSaveState?resetToValues(previousSaveState.content):(resetToValues(),input.autoIndent());else if(/^https?:\/\//.test(sourceLocation)){var loadFrom={url:sourceLocation,dataType:"text",kbnXsrfToken:!1};/https?:\/\/api.github.com/.test(sourceLocation)&&(loadFrom.headers={Accept:"application/vnd.github.v3.raw"}),$.ajax(loadFrom).done(function(data){resetToValues(data),input.moveToNextRequestEdge(!0),input.highlightCurrentRequestsAndUpdateActionBar(),input.updateActionsBar()})}else resetToValues();input.moveToNextRequestEdge(!0)}(),function(){var timer;input.getSession().on("change",function(){timer&&(timer=clearTimeout(timer)),timer=setTimeout(saveCurrentState,500)})}(),mappings.startRetrievingAutoCompleteInfo()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=init;var $=__webpack_require__(12),history=__webpack_require__(826),mappings=__webpack_require__(1534);module.exports=exports.default},5354:function(module,exports,__webpack_require__){"use strict";function SenseTopNavController(Private){var KbnTopNavController=Private(_kbn_top_nav_controller.KbnTopNavControllerProvider),controller=new KbnTopNavController([{key:"welcome",hideButton:!0,template:"<sense-welcome></sense-welcome>",testId:"consoleWelcomeButton"},{key:"history",description:"History",template:"<sense-history></sense-history>",testId:"consoleHistoryButton"},{key:"settings",description:"Settings",template:"<sense-settings></sense-settings>",testId:"consoleSettingsButton"},{key:"help",description:"Help",template:"<sense-help></sense-help>",testId:"consoleHelpButton"}]);return"@@SENSE_REVISION"!==_storage2.default.get("version_welcome_shown")&&controller.open("welcome"),controller}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SenseTopNavController=SenseTopNavController;var _kbn_top_nav_controller=__webpack_require__(1061),_storage=__webpack_require__(415),_storage2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_storage)},5355:function(module,exports,__webpack_require__){"use strict";var _eui=__webpack_require__(5),_require=__webpack_require__(1),memoize=_require.memoize,moment=__webpack_require__(9),history=__webpack_require__(826);__webpack_require__(5356),__webpack_require__(2).get("app/sense").directive("senseHistory",function(){return{restrict:"E",template:__webpack_require__(5357),controllerAs:"history",controller:function($scope,$element){var _this=this;this.reqs=history.getHistory(),this.selectedIndex=0,this.selectedReq=this.reqs[this.selectedIndex],this.viewingReq=this.selectedReq,this.describeReq=memoize(function(req){var endpoint=req.endpoint,date=moment(req.time),formattedDate=date.format("MMM D");return date.diff(moment(),"days")>-7&&(formattedDate=date.fromNow()),endpoint+" ("+formattedDate+")"}),this.describeReq.cache=new WeakMap,this.clear=function(){history.clearHistory($element),$scope.kbnTopNav.close()},this.restore=function(){var req=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_this.selectedReq;history.restoreFromHistory(req),$scope.kbnTopNav.close()},this.onKeyDown=function(ev){if(ev.keyCode===_eui.keyCodes.ENTER)return void _this.restore();ev.keyCode===_eui.keyCodes.UP?(ev.preventDefault(),_this.selectedIndex--):ev.keyCode===_eui.keyCodes.DOWN&&(ev.preventDefault(),_this.selectedIndex++),_this.selectedIndex=Math.min(Math.max(0,_this.selectedIndex),_this.reqs.length-1),_this.selectedReq=_this.reqs[_this.selectedIndex],_this.viewingReq=_this.reqs[_this.selectedIndex]}}}})},5356:function(module,exports,__webpack_require__){"use strict";var _sense_editor_resize=__webpack_require__(822),SenseEditor=__webpack_require__(825);__webpack_require__(2).get("app/sense").directive("senseHistoryViewer",function(){return{restrict:"E",scope:{req:"="},link:function($scope,$el){var viewer=new SenseEditor($el);viewer.setReadOnly(!0),viewer.renderer.setShowPrintMargin(!1),(0,_sense_editor_resize.useResizeChecker)($scope,$el,viewer),__webpack_require__(414).applyCurrentSettings(viewer),$scope.$watch("req",function(req){if(req){var s=req.method+" "+req.endpoint+"\n"+(req.data||"");viewer.setValue(s),viewer.clearSelection()}else viewer.getSession().setValue("No history available")}),$scope.$on("$destroy",function(){viewer.destroy()})}}})},5357:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">History</h2>\n\n<div class="history-body">\n  <ul\n    class="list-group history-reqs"\n    tabindex="0"\n    role="listbox"\n    aria-activedescendant="historyReq{{ history.selectedIndex }}"\n    scrollto-activedescendant\n    ng-keydown="history.onKeyDown($event)"\n    aria-label="History of sent requests"\n  >\n    <li\n      role="option"\n      ng-repeat="req in history.reqs"\n      id="historyReq{{$index}}"\n      ng-class="{ selected: history.viewingReq === req }"\n      ng-click="history.selectedReq = req; history.viewingReq = req; history.selectedIndex = $index"\n      ng-mouseenter="history.viewingReq = req"\n      ng-mouseleave="history.viewingReq = history.selectedReq"\n      ng-dblclick="history.restore(req)"\n      aria-label="{{:: \'Request: \' + history.describeReq(req) }}"\n      aria-selected="{{ history.selectedReq === req }}"\n      class="list-group-item history-req"\n    >\n      {{ history.describeReq(req) }}\n      <span class="history-req-icon"><i class="fa fa-chevron-right"></i></span>\n    </li>\n  </ul>\n\n  <sense-history-viewer class="history-viewer" req="history.viewingReq" />\n</div>\n\n<div class="history-footer">\n  <button class="kuiButton kuiButton--danger" ng-click="history.clear()">Clear</button>\n  <button\n    class="kuiButton kuiButton--primary"\n    ng-disabled="!history.selectedReq"\n    ng-click="history.restore()"\n  >\n    Apply\n  </button>\n</div>\n'},5358:function(module,exports,__webpack_require__){"use strict";__webpack_require__(296),__webpack_require__(2).get("app/sense").directive("senseSettings",function(){return{restrict:"E",template:__webpack_require__(5359),controllerAs:"settings",controller:function($scope,$element){function onEnter(event){13===event.which&&self.apply()}var _this=this,settings=__webpack_require__(414);this.vals=settings.getCurrentSettings(),this.apply=function(){_this.vals=settings.updateSettings(_this.vals),$scope.kbnTopNav.close()};var self=this,boundElement=$element.bind("keydown",onEnter);$scope.$on("$destroy",function(){return boundElement.unbind("keydown",onEnter)})}}})},5359:function(module,exports){module.exports='<h2 class="kuiLocalDropdownTitle">Settings</h2>\n\n<form class="form" name="settingsForm" ng-submit="settingsForm.$valid && settings.apply()">\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleFontSize"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Font Size\n      </legend>\n    </div>\n\n    <input\n      input-focus\n      ng-model="settings.vals.fontSize"\n      name="fontSize"\n      type="number"\n      required\n      class="kuiLocalDropdownInput kuiVerticalRhythmSmall"\n      aria-labelledby="consoleFontSize"\n      data-test-subj="setting-font-size-input"\n    >\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        type="checkbox"\n        ng-model="settings.vals.wrapMode"\n        aria-describedby="consoleFontSize"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Wrap long lines\n      </span>\n    </label>\n  </fieldset>\n\n  <fieldset\n    class="kuiVerticalRhythm"\n    role="group"\n  >\n    <div class="kuiLocalDropdownHeader">\n      <legend\n        id="consoleAutocomplete"\n        class="kuiLocalDropdownHeader__label"\n      >\n        Autocomplete\n      </legend>\n    </div>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteFields"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.fields"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Fields\n      </span>\n    </label>\n\n    <label class="kuiCheckBoxLabel kuiVerticalRhythmSmall">\n      <input\n        class="kuiCheckBox"\n        name="autocompleteIndices"\n        type="checkbox"\n        ng-model="settings.vals.autocomplete.indices"\n        aria-describedby="consoleAutocomplete"\n      >\n      <span class="kuiCheckBoxLabel__text">\n        Indices &amp; Aliases\n      </span>\n    </label>\n  </fieldset>\n\n  <div class="kuiVerticalRhythm">\n    <button\n      ng-click="kbnTopNav.close()"\n      class="kuiButton kuiButton--hollow"\n    >\n      Cancel\n    </button>\n\n    <button\n      type="submit"\n      ng-disabled="settingsForm.$invalid"\n      class="kuiButton kuiButton--primary"\n      data-test-subj="settings-save-button"\n    >\n      Save\n    </button>\n  </div>\n</form>\n'},5360:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1542),__webpack_require__(2).get("app/sense").directive("senseHelp",function(){return{restrict:"E",template:__webpack_require__(5362)}})},5361:function(module,exports){module.exports='# index a doc\nPUT index/type/1\n{\n  "body": "here"\n}\n\n# and get it ...\nGET index/type/1\n'},5362:function(module,exports){module.exports='<h2 class="euiTitle">Help</h2>\n\n<div class="euiSpacer euiSpacer--m"></div>\n\n<div class="euiPanel euiPanel--paddingLarge">\n  <div class="euiFlexGroup euiFlexGroup--gutterExtraLarge">\n    <div class="euiFlexItem">\n      <h2 class="euiTitle">Request format</h2>\n      <div class="euiSpacer euiSpacer--l"></div>\n      You can type one or more requests in the white editor. Console understands requests in a compact format:\n      <sense-help-example></sense-help-example>\n    </div>\n    <div class="euiFlexItem">\n      <h2 class="euiTitle">Keyboard commands</h2>\n      <div class="euiSpacer euiSpacer--l"></div>\n      <dl class="euiDescriptionList euiDescriptionList--row euiDescriptionList--compressed">\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + I</dt>\n        <dd class="euiDescriptionList__description">Auto indent current request</dd>\n        <dt class="euiDescriptionList__title">Ctrl + Space</dt>\n        <dd class="euiDescriptionList__description">Open Auto complete (even if not typing)</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Enter</dt>\n        <dd class="euiDescriptionList__description">Submit request</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Up/Down</dt>\n        <dd class="euiDescriptionList__description">Jump to the previous/next request start or end.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Alt + L</dt>\n        <dd class="euiDescriptionList__description">Collapse/expand current scope.</dd>\n        <dt class="euiDescriptionList__title">Ctrl/Cmd + Option + 0</dt>\n        <dd class="euiDescriptionList__description">Collapse all scopes but the current one. Expand by adding a shift.</dd>\n        <dt class="euiDescriptionList__title">Down arrow</dt>\n        <dd class="euiDescriptionList__description">Switch focus to auto-complete menu. Use arrows to further select a term</dd>\n        <dt class="euiDescriptionList__title">Enter/Tab</dt>\n        <dd class="euiDescriptionList__description">Select the currently selected or the top most term in auto-complete menu</dd>\n        <dt class="euiDescriptionList__title">Esc</dt>\n        <dd class="euiDescriptionList__description">Close auto-complete menu</dd>\n      </dl>\n    </div>\n  </div>\n</div>\n'},5363:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1542);var storage=__webpack_require__(415);__webpack_require__(2).get("app/sense").directive("senseWelcome",function(){return{restrict:"E",template:__webpack_require__(5364),link:function($scope){$scope.$on("$destroy",function(){storage.set("version_welcome_shown","@@SENSE_REVISION")})}}})},5364:function(module,exports){module.exports='<div class="euiText">\n\n  <h2>Welcome to Console</h2>\n\n  <p><strong>Quick intro to the UI</strong></p>\n\n  <p>The Console UI is split into two panes: an editor pane (left) and a response pane (right).\n    Use the editor to type requests and submit them to Elasticsearch. The results will be displayed in\n    the response pane on the right side.\n  </p>\n\n  <p>Console understands requests in a compact format, similar to cURL:\n  <sense-help-example></sense-help-example>\n\n  <p>While typing a request, Console will make suggestions which you can then accept by hitting Enter/Tab.\n    These suggestions are made based on the request structure <i>as well as</i> your indices and types.\n  </p>\n\n  <p><strong>A few quick tips, while I have your attention</strong></p>\n  <ul>\n    <li>Submit requests to ES using the green triangle button.</li>\n    <li>Use the wrench menu for other useful things.</li>\n    <li>You can paste requests in cURL format and they will be translated to the Console syntax.</li>\n    <li>You can resize the editor and output panes by dragging the separator between them.</li>\n    <li>Study the keyboard shortcuts under the Help button. Good stuff in there!</li>\n  </ul>\n\n  <button\n    type="button"\n    class="kuiButton kuiButton--primary"\n    data-test-subj="help-close-button"\n    ng-click="kbnTopNav.close()"\n  >\n    Get to work\n  </button>\n\n</div>\n'},5365:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"graph",title:"Graph",description:"Surface and analyze relevant relationships in your Elasticsearch data.",icon:"/plugins/graph/assets/app_graph.svg",path:"/app/graph",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5366:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"grokdebugger",title:"Grok Debugger",description:"Simulate and debug grok patterns for data transformation on ingestion.",icon:"/plugins/grokdebugger/assets/app_grok.svg",path:"/app/kibana#/dev_tools/grokdebugger",showOnHomePage:!1,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5367:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5368)},5368:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_xpack_info=__webpack_require__(46),_grokdebugger_route=__webpack_require__(5369),_grokdebugger_route2=_interopRequireDefault(_grokdebugger_route);__webpack_require__(5370),_routes2.default.when("/dev_tools/grokdebugger",{template:_grokdebugger_route2.default,resolve:{licenseCheckResults:function(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider);return{showPage:xpackInfo.get("features.grokdebugger.enableLink"),message:xpackInfo.get("features.grokdebugger.message")}}},controller:function GrokDebuggerRouteController($injector){_classCallCheck(this,GrokDebuggerRouteController);var $route=$injector.get("$route"),kbnUrl=$injector.get("kbnUrl"),licenseCheckResults=$route.current.locals.licenseCheckResults;if(!licenseCheckResults.showPage)return kbnUrl.change("/dev_tools"),void _notify.toastNotifications.addDanger(licenseCheckResults.message)}})},5369:function(module,exports){module.exports="<grokdebugger></grokdebugger>\n"},5370:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5371)},5371:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_grokdebugger=__webpack_require__(5372),_grokdebugger2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_grokdebugger),_notify=__webpack_require__(10),_grokdebugger_request=__webpack_require__(5373);__webpack_require__(5375),__webpack_require__(5383),__webpack_require__(5384),__webpack_require__(5388),__webpack_require__(5392),__webpack_require__(5396);var _lodash=__webpack_require__(1);_modules.uiModules.get("xpack/grokdebugger").directive("grokdebugger",function($injector){var grokdebuggerService=$injector.get("grokdebuggerService");return{restrict:"E",template:_grokdebugger2.default,bindToController:!0,controllerAs:"grokdebugger",controller:function(){function GrokdebuggerController(){var _this=this;_classCallCheck(this,GrokdebuggerController),this.onSimulateClick=function(){return grokdebuggerService.simulate(_this.grokdebuggerRequest).then(function(simulateResponse){_this.structuredEvent=simulateResponse.structuredEvent,(0,_lodash.isEmpty)(simulateResponse.error)||_this.notifier.error(simulateResponse.error)}).catch(function(e){_this.notifier.error(e)})},this.onCustomPatternsChange=function(){var customPatterns=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(customPatterns=customPatterns.trim()){var customPatternsObj={};customPatterns.split("\n").forEach(function(customPattern){var _ref=customPattern.match(/(\S+)\s+(.+)/)||[],_ref2=_slicedToArray(_ref,3),patternName=_ref2[1],patternDefinition=_ref2[2];patternName&&patternDefinition&&(customPatternsObj[patternName]=patternDefinition)}),_this.grokdebuggerRequest.customPatterns=customPatternsObj}},this.onRawEventChange=function(rawEvent){_this.grokdebuggerRequest.rawEvent=rawEvent},this.onPatternChange=function(pattern){_this.grokdebuggerRequest.pattern=pattern},this.structuredEvent={},this.grokdebuggerRequest=new _grokdebugger_request.GrokdebuggerRequest,this.notifier=new _notify.Notifier({location:"GrokDebugger"})}return _createClass(GrokdebuggerController,[{key:"isSimulateEnabled",get:function(){return!((0,_lodash.isEmpty)((0,_lodash.trim)(this.grokdebuggerRequest.rawEvent))||(0,_lodash.isEmpty)((0,_lodash.trim)(this.grokdebuggerRequest.pattern)))}}]),GrokdebuggerController}()}})},5372:function(module,exports){module.exports='<kbn-dev-tools-app class="grokdebuggerDevTool">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div\n      class="grokdebugger-container"\n      data-test-subj="grokDebugger"\n    >\n      <event-input on-change="grokdebugger.onRawEventChange"></event-input>\n      <pattern-input on-change="grokdebugger.onPatternChange"></pattern-input>\n      <custom-patterns-input on-change="grokdebugger.onCustomPatternsChange"></custom-patterns-input>\n      <div class="grokdebugger-simulate-button">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-disabled="!grokdebugger.isSimulateEnabled"\n          ng-click="grokdebugger.onSimulateClick()"\n          data-test-subj="btnSimulate"\n        >\n          Simulate\n        </button>\n      </div>\n      <event-output structured-event="grokdebugger.structuredEvent"></event-output>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},5373:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _grokdebugger_request=__webpack_require__(5374);Object.defineProperty(exports,"GrokdebuggerRequest",{enumerable:!0,get:function(){return _grokdebugger_request.GrokdebuggerRequest}})},5374:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GrokdebuggerRequest=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1);exports.GrokdebuggerRequest=function(){function GrokdebuggerRequest(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,GrokdebuggerRequest),this.rawEvent=(0,_lodash.get)(props,"rawEvent",""),this.pattern=(0,_lodash.get)(props,"pattern",""),this.customPatterns=(0,_lodash.get)(props,"customPatterns",{})}return _createClass(GrokdebuggerRequest,[{key:"upstreamJSON",get:function(){return(0,_lodash.pick)(this,["rawEvent","pattern","customPatterns"])}}]),GrokdebuggerRequest}()},5375:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5376)},5376:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_grokdebugger_service=__webpack_require__(5377);_modules.uiModules.get("xpack/grokdebugger").factory("grokdebuggerService",function($injector){var $http=$injector.get("$http");return new _grokdebugger_service.GrokdebuggerService($http)})},5377:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GrokdebuggerService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(5378),_grokdebugger_response=__webpack_require__(5381);exports.GrokdebuggerService=function(){function GrokdebuggerService($http){_classCallCheck(this,GrokdebuggerService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(GrokdebuggerService,[{key:"simulate",value:function(grokdebuggerRequest){return this.$http.post(this.basePath+"/simulate",grokdebuggerRequest.upstreamJSON).then(function(response){return _grokdebugger_response.GrokdebuggerResponse.fromUpstreamJSON(response.data.grokdebuggerResponse)}).catch(function(e){throw e.data.message})}}]),GrokdebuggerService}()},5378:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _routes=__webpack_require__(5379);Object.defineProperty(exports,"ROUTES",{enumerable:!0,get:function(){return _routes.ROUTES}});var _plugin=__webpack_require__(5380);Object.defineProperty(exports,"PLUGIN",{enumerable:!0,get:function(){return _plugin.PLUGIN}})},5379:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ROUTES={API_ROOT:"/api/grokdebugger"}},5380:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PLUGIN={ID:"grokdebugger"}},5381:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _grokdebugger_response=__webpack_require__(5382);Object.defineProperty(exports,"GrokdebuggerResponse",{enumerable:!0,get:function(){return _grokdebugger_response.GrokdebuggerResponse}})},5382:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GrokdebuggerResponse=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1);exports.GrokdebuggerResponse=function(){function GrokdebuggerResponse(props){_classCallCheck(this,GrokdebuggerResponse),this.structuredEvent=(0,_lodash.get)(props,"structuredEvent",{}),this.error=(0,_lodash.get)(props,"error",{})}return _createClass(GrokdebuggerResponse,null,[{key:"fromUpstreamJSON",value:function(grokdebuggerResponse){return new GrokdebuggerResponse(grokdebuggerResponse)}}]),GrokdebuggerResponse}()},5383:function(module,exports){},5384:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5385)},5385:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_event_input=__webpack_require__(5386),_event_input2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_event_input);__webpack_require__(5387),__webpack_require__(106),_modules.uiModules.get("xpack/grokdebugger").directive("eventInput",function(){return{restrict:"E",template:_event_input2.default,scope:{onChange:"="},bindToController:!0,controllerAs:"eventInput",controller:function EventInputController($scope){var _this=this;_classCallCheck(this,EventInputController),$scope.$watch("eventInput.rawEvent",function(newRawEvent){_this.onChange(newRawEvent)}),$scope.aceLoaded=function(editor){_this.editor=editor,editor.getSession().setUseWrapMode(!0),editor.setOptions({highlightActiveLine:!1,highlightGutterLine:!1,minLines:3,maxLines:10}),editor.$blockScrolling=1/0}}}})},5386:function(module,exports){module.exports='<form novalidate>\n  <div class="kuiFormSection">\n    <label class="kuiLabel kuiVerticalRhythmSmall">\n      Sample Data\n    </label>\n    <div\n      class="event-input-editor grokdebugger-ace-editor kuiVerticalRhythmSmall"\n      require-keys="true"\n      ui-ace="{\n        onLoad: aceLoaded\n      }"\n      ng-model="eventInput.rawEvent"\n      data-test-subj="aceEventInput"\n    ></div>\n  </div>\n</form>\n'},5387:function(module,exports){},5388:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5389)},5389:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_event_output=__webpack_require__(5390),_event_output2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_event_output);__webpack_require__(5391),__webpack_require__(106),_modules.uiModules.get("xpack/grokdebugger").directive("eventOutput",function(){return{restrict:"E",template:_event_output2.default,scope:{structuredEvent:"="},bindToController:!0,controllerAs:"eventOutput",controller:function EventOutputController($scope){var _this=this;_classCallCheck(this,EventOutputController),$scope.aceLoaded=function(editor){_this.editor=editor,editor.getSession().setUseWrapMode(!0),editor.setOptions({readOnly:!0,highlightActiveLine:!1,highlightGutterLine:!1,minLines:20,maxLines:25}),editor.$blockScrolling=1/0}}}})},5390:function(module,exports){module.exports='<form novalidate>\n  <div class="kuiFormSection">\n    <label class="kuiLabel kuiVerticalRhythmSmall">\n      Structured Data\n    </label>\n    <div\n      class="event-output-editor grokdebugger-ace-editor kuiVerticalRhythmSmall"\n      json-input\n      require-keys="true"\n      ui-ace="{\n        mode: \'json\',\n        onLoad: aceLoaded\n      }"\n      ng-model="eventOutput.structuredEvent"\n      data-test-subj="aceEventOutput"\n    ></div>\n  </div>\n</form>\n'},5391:function(module,exports){},5392:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5393)},5393:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_pattern_input=__webpack_require__(5394),_pattern_input2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_pattern_input);__webpack_require__(5395),_modules.uiModules.get("xpack/grokdebugger").directive("patternInput",function(){return{restrict:"E",template:_pattern_input2.default,scope:{onChange:"="},bindToController:!0,controllerAs:"patternInput",controller:function PatternInputController($scope){var _this=this;_classCallCheck(this,PatternInputController),$scope.$watch("patternInput.pattern",function(newPattern){_this.onChange(newPattern)}),$scope.aceLoaded=function(editor){_this.editor=editor,editor.getSession().setUseWrapMode(!0),editor.setOptions({highlightActiveLine:!1,highlightGutterLine:!1,minLines:3,maxLines:10}),editor.$blockScrolling=1/0}}}})},5394:function(module,exports){module.exports='<form novalidate>\n  <div class="kuiFormSection">\n    <label class="kuiLabel kuiVerticalRhythmSmall">\n      Grok Pattern\n    </label>\n    <div\n      class="pattern-input-editor grokdebugger-ace-editor kuiVerticalRhythmSmall"\n      require-keys="true"\n      ui-ace="{\n        onLoad: aceLoaded\n      }"\n      ng-model="patternInput.pattern"\n      data-test-subj="acePatternInput"\n    ></div>\n  </div>\n</form>\n'},5395:function(module,exports){},5396:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5397)},5397:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_custom_patterns_input=__webpack_require__(5398),_custom_patterns_input2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_custom_patterns_input);__webpack_require__(5399),__webpack_require__(1543),__webpack_require__(106),_modules.uiModules.get("xpack/grokdebugger").directive("customPatternsInput",function(){return{restrict:"E",template:_custom_patterns_input2.default,scope:{onChange:"="},bindToController:!0,controllerAs:"customPatternsInput",controller:function(_InitAfterBindingsWor){function CustomPatternsInputController(){var _ref,_temp,_this,_ret;_classCallCheck(this,CustomPatternsInputController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=CustomPatternsInputController.__proto__||Object.getPrototypeOf(CustomPatternsInputController)).call.apply(_ref,[this].concat(args))),_this.onSectionToggle=function(sectionId){_this.isCollapsed[sectionId]=!_this.isCollapsed[sectionId]},_this.isSectionCollapsed=function(sectionId){return _this.isCollapsed[sectionId]},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(CustomPatternsInputController,_InitAfterBindingsWor),_createClass(CustomPatternsInputController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.isCollapsed={action:!0},$scope.$watch("customPatternsInput.customPatterns",function(){_this2.onChange(_this2.customPatterns)}),$scope.aceLoaded=function(editor){_this2.editor=editor,editor.getSession().setUseWrapMode(!0),editor.setOptions({highlightActiveLine:!1,highlightGutterLine:!1,minLines:3,maxLines:25}),editor.$blockScrolling=1/0}}}]),CustomPatternsInputController}(_compat.InitAfterBindingsWorkaround)}})},5398:function(module,exports){module.exports='<form novalidate>\n  <toggle-panel\n    toggle-panel-id="action"\n    button-text="Custom Patterns"\n    is-collapsed="customPatternsInput.isSectionCollapsed(\'action\')"\n    on-toggle="customPatternsInput.onSectionToggle"\n    data-test-subj="btnToggleCustomPatternsInput"\n  >\n    <div class="kuiFormSection">\n      <div class="kuiInfoPanel kuiInfoPanel--info kuiVerticalRhythm">\n        <div class="kuiInfoPanelHeader">\n          <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"></span>\n          <span class="kuiInfoPanelHeader__title">\n            Enter one custom pattern per line. For example:\n          </span>\n        </div>\n\n        <div class="kuiInfoPanelBody">\n          <div class="kuiInfoPanelBody__message">\n            <pre><code>POSTFIX_QUEUEID [0-9A-F]{10,11}\nMSG message-id=<%{GREEDYDATA}></code></pre>\n          </div>\n        </div>\n      </div>\n      <div\n        class="custom-patterns-input-editor grokdebugger-ace-editor kuiVerticalRhythm"\n        require-keys="true"\n        ui-ace="{\n          onLoad: aceLoaded\n        }"\n        ng-model="customPatternsInput.customPatterns"\n        data-test-subj="aceCustomPatternsInput"\n        ></div>\n    </div>\n  </toggle-panel>\n</form>\n'},5399:function(module,exports){},5400:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_toggle_panel=__webpack_require__(5401),_toggle_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_toggle_panel);__webpack_require__(5402),_modules.uiModules.get("kibana").directive("togglePanel",function(){return{restrict:"E",replace:!0,transclude:!0,template:_toggle_panel2.default,scope:{togglePanelId:"@",buttonText:"@",isDisabled:"=",isCollapsed:"=",onToggle:"="},controllerAs:"togglePanel",bindToController:!0,controller:function TogglePanelController(){var _this=this;_classCallCheck(this,TogglePanelController),this.toggle=function(){_this.onToggle(_this.togglePanelId)}}}})},5401:function(module,exports){module.exports='<div>\n  <div class="kuiTogglePanelHeader">\n    <toggle-button\n      is-disabled="togglePanel.isDisabled"\n      is-collapsed="togglePanel.isCollapsed"\n      on-click="togglePanel.toggle"\n    >\n      {{togglePanel.buttonText}}\n    </toggle-button>\n  </div>\n  <div\n    ng-hide="togglePanel.isCollapsed"\n    ng-transclude\n  ></div>\n</div>\n'},5402:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5403)},5403:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_toggle_button=__webpack_require__(5404),_toggle_button2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_toggle_button);_modules.uiModules.get("kibana").directive("toggleButton",function(){return{restrict:"E",replace:!0,transclude:!0,template:_toggle_button2.default,scope:{isDisabled:"=",isCollapsed:"=",onClick:"="},controllerAs:"toggleButton",bindToController:!0,controller:function ToggleButtonController(){_classCallCheck(this,ToggleButtonController)}}})},5404:function(module,exports){module.exports='<button\n  class="kuiToggleButton"\n  ng-disabled="toggleButton.isDisabled"\n  ng-click="toggleButton.onClick()"\n  type="button"\n>\n  <span\n    ng-class="{\'fa-caret-down\': !toggleButton.isCollapsed, \'fa-caret-right\': toggleButton.isCollapsed}"\n    class="kuiToggleButton__icon kuiIcon"\n  ></span>\n  <span ng-transclude></span>\n</button>\n'},5405:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5406),__webpack_require__(5409)},5406:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95),_constants=__webpack_require__(332);_management.management.getSection("elasticsearch").register("index_management",{visible:!0,display:"Index Management",order:1,url:"#"+_constants.BASE_PATH+"home"})},5407:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PLUGIN={ID:"index_management"}},5408:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.INDEX_CLOSED="close",exports.INDEX_OPEN="open",exports.INDEX_CLOSING="closing",exports.INDEX_OPENING="opening",exports.INDEX_REFRESHING="refreshing",exports.INDEX_FLUSHING="flushing",exports.INDEX_FORCEMERGING="forcemerging",exports.INDEX_MERGING="merging",exports.INDEX_CLEARING_CACHE="clearing cache"},5409:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactRedux=__webpack_require__(25),_reactRouterDom=__webpack_require__(158),_api=__webpack_require__(1545),_app=__webpack_require__(5410),_base_path=__webpack_require__(1544),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_main=__webpack_require__(5457),_main2=_interopRequireDefault(_main),_manage_angular_lifecycle=__webpack_require__(5458),_store=__webpack_require__(5459),renderReact=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(elem){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:(0,_reactDom.render)(_react2.default.createElement(_reactRedux.Provider,{store:(0,_store.indexManagementStore)()},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app.App,null))),elem);case 1:case"end":return _context.stop()}},_callee,void 0)}));return function(_x){return _ref.apply(this,arguments)}}();_routes2.default.when(_base_path.BASE_PATH+":view?/:id?",{template:_main2.default,controllerAs:"indexManagement",controller:function IndexManagementController($scope,$route,$http){_classCallCheck(this,IndexManagementController),(0,_api.setHttpClient)($http),$scope.$$postDigest(function(){var elem=document.getElementById("indexManagementReactRoot");renderReact(elem),(0,_manage_angular_lifecycle.manageAngularLifecycle)($scope,$route,elem)})}})},5410:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.App=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactRouterDom=__webpack_require__(158),_constants=__webpack_require__(332),_index_list=__webpack_require__(5411);exports.App=function(){return _react2.default.createElement("div",null,_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH,component:_index_list.IndexList})))}},5411:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_list=__webpack_require__(1546);Object.defineProperty(exports,"IndexList",{enumerable:!0,get:function(){return _index_list.IndexList}})},5412:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexList=void 0;var _reactRedux=__webpack_require__(25),_index_list=__webpack_require__(5413),_actions=__webpack_require__(96),mapDispatchToProps=function(dispatch){return{loadIndices:function(){dispatch((0,_actions.loadIndices)())},reloadIndices:function(){dispatch((0,_actions.reloadIndices)())}}};exports.IndexList=(0,_reactRedux.connect)(null,mapDispatchToProps)(_index_list.IndexList)},5413:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexList=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_components=__webpack_require__(827),_constants=__webpack_require__(5455);exports.IndexList=function(_React$PureComponent){function IndexList(){return _classCallCheck(this,IndexList),_possibleConstructorReturn(this,(IndexList.__proto__||Object.getPrototypeOf(IndexList)).apply(this,arguments))}return _inherits(IndexList,_React$PureComponent),_createClass(IndexList,[{key:"componentWillMount",value:function(){this.props.loadIndices()}},{key:"componentDidMount",value:function(){this.interval=setInterval(this.props.reloadIndices,_constants.REFRESH_RATE_INDEX_LIST)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"indexTableHorizontalScroll im-snapshotTestSubject"},_react2.default.createElement(_components.IndexTable,null),_react2.default.createElement(_components.DetailPanel,null))}}]),IndexList}(_react2.default.PureComponent)},5414:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_actions_context_menu=__webpack_require__(5415);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:!0,get:function(){return _index_actions_context_menu.IndexActionsContextMenu}})},5415:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexActionsContextMenu=void 0;var _reactRedux=__webpack_require__(25),_index_actions_context_menu=__webpack_require__(5416),_actions=__webpack_require__(96),_selectors=__webpack_require__(274),mapStateToProps=function(state,ownProps){var indexStatusByName={};return ownProps.indexNames.forEach(function(indexName){indexStatusByName[indexName]=(0,_selectors.getIndexStatusByIndexName)(state,indexName)}),{indexStatusByName:indexStatusByName}},mapDispatchToProps=function(dispatch,_ref){var indexNames=_ref.indexNames;return{editIndexSettings:function(){dispatch((0,_actions.editIndexSettings)({indexName:indexNames[0]}))},clearCacheIndices:function(){dispatch((0,_actions.clearCacheIndices)({indexNames:indexNames}))},closeIndices:function(){dispatch((0,_actions.closeIndices)({indexNames:indexNames}))},flushIndices:function(){dispatch((0,_actions.flushIndices)({indexNames:indexNames}))},openIndices:function(){dispatch((0,_actions.openIndices)({indexNames:indexNames}))},refreshIndices:function(){dispatch((0,_actions.refreshIndices)({indexNames:indexNames}))},forcemergeIndices:function(maxNumSegments){dispatch((0,_actions.forcemergeIndices)({indexNames:indexNames,maxNumSegments:maxNumSegments}))},showSettings:function(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Settings"}))},showMapping:function(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Mapping"}))},showStats:function(){dispatch((0,_actions.openDetailPanel)({indexName:indexNames[0],panelType:"Stats"}))},editIndex:function(){var indexName=indexNames?indexNames[0]:null;indexName&&dispatch((0,_actions.openDetailPanel)({indexName:indexName,panelType:"Edit settings"}))},deleteIndices:function(){dispatch((0,_actions.deleteIndices)({indexNames:indexNames}))}}};exports.IndexActionsContextMenu=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_actions_context_menu.IndexActionsContextMenu)},5416:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexActionsContextMenu=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(1),_pluralize=__webpack_require__(828),_pluralize2=_interopRequireDefault(_pluralize),_eui=__webpack_require__(5),_flatten_panel_tree=__webpack_require__(5417),_constants=__webpack_require__(332);exports.IndexActionsContextMenu=function(_Component){function IndexActionsContextMenu(props){_classCallCheck(this,IndexActionsContextMenu);var _this=_possibleConstructorReturn(this,(IndexActionsContextMenu.__proto__||Object.getPrototypeOf(IndexActionsContextMenu)).call(this,props));return _this.onButtonClick=function(){_this.setState(function(prevState){return{isPopoverOpen:!prevState.isPopoverOpen}})},_this.closePopoverAndExecute=function(func){_this.setState({isPopoverOpen:!1,showDeleteConfirmation:!1}),func(),_this.props.resetSelection&&_this.props.resetSelection()},_this.closePopover=function(){_this.setState({isPopoverOpen:!1})},_this.closeDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:!1})},_this.openDeleteConfirmationModal=function(){_this.setState({showDeleteConfirmation:!0})},_this.openForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:!0})},_this.closeForcemergeSegmentsModal=function(){_this.setState({showForcemergeSegmentsModal:!1})},_this.forcemergeSegmentsError=function(){var forcemergeSegments=_this.state.forcemergeSegments;return!forcemergeSegments||forcemergeSegments.match(/^([1-9][0-9]*)?$/)?void 0:"The number of segments must be greater than zero."},_this.forcemergeSegmentsModal=function(){var oneIndexSelected=_this.oneIndexSelected(),entity=_this.getEntity(oneIndexSelected),_this$props=_this.props,forcemergeIndices=_this$props.forcemergeIndices,indexNames=_this$props.indexNames;return _this.state.showForcemergeSegmentsModal?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Set number of segments for force merge",onCancel:_this.closeForcemergeSegmentsModal,onConfirm:function(){_this.forcemergeSegmentsError()||_this.closePopoverAndExecute(function(){forcemergeIndices(_this.state.forcemergeSegments),_this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})})},cancelButtonText:"Cancel",confirmButtonText:"Force merge"},_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You are about to force merge ",oneIndexSelected?"this":"these"," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement(_eui.EuiForm,{isInvalid:_this.forcemergeSegmentsError(),error:_this.forcemergeSegmentsError()},_react2.default.createElement(_eui.EuiFormRow,{label:"Maximum number of segments",helpText:"Merge the segments in an index until the number \n    is reduced to this or fewer segments. The default is 1."},_react2.default.createElement(_eui.EuiFieldText,{onChange:function(event){_this.setState({forcemergeSegments:event.target.value})},name:"maxNumberSegments"})))))):null},_this.confirmDeleteModal=function(){var oneIndexSelected=_this.oneIndexSelected(),entity=_this.getEntity(oneIndexSelected),_this$props2=_this.props,deleteIndices=_this$props2.deleteIndices,indexNames=_this$props2.indexNames;return _this.state.showDeleteConfirmation?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm Delete "+entity,onCancel:_this.closeDeleteConfirmationModal,onConfirm:function(){return _this.closePopoverAndExecute(deleteIndices)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement("p",null,"You are about to delete ",oneIndexSelected?"this":"these"," ",entity,":"),_react2.default.createElement("ul",null,indexNames.map(function(indexName){return _react2.default.createElement("li",{key:indexName},indexName)})),_react2.default.createElement("p",null,"This operation cannot be undone. Make sure you have appropriate backups.")))):null},_this.oneIndexSelected=function(){return 1===_this.props.indexNames.length},_this.getEntity=function(oneIndexSelected){return oneIndexSelected?"index":"indices"},_this.state={isPopoverOpen:!1,showDeleteConfirmation:!1},_this}return _inherits(IndexActionsContextMenu,_Component),_createClass(IndexActionsContextMenu,[{key:"panels",value:function(){var _this2=this,_props=this.props,closeIndices=_props.closeIndices,openIndices=_props.openIndices,flushIndices=_props.flushIndices,refreshIndices=_props.refreshIndices,clearCacheIndices=_props.clearCacheIndices,editIndex=_props.editIndex,showMapping=_props.showMapping,showStats=_props.showStats,showSettings=_props.showSettings,detailPanel=_props.detailPanel,indexNames=_props.indexNames,indexStatusByName=_props.indexStatusByName,allOpen=(0,_lodash.all)(indexNames,function(indexName){return indexStatusByName[indexName]===_constants.INDEX_OPEN}),oneIndexSelected=this.oneIndexSelected(),entity=this.getEntity(oneIndexSelected),entityUpper=""+entity[0].toUpperCase()+entity.slice(1),items=[];!detailPanel&&oneIndexSelected&&(items.push({name:"Show "+entity+" settings",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexSettings"}),onClick:function(){_this2.closePopoverAndExecute(showSettings)}}),items.push({name:"Show "+entity+" mapping",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexMapping"}),onClick:function(){_this2.closePopoverAndExecute(showMapping)}}),allOpen&&items.push({name:"Show "+entity+" stats",icon:_react2.default.createElement(_eui.EuiIcon,{type:"stats"}),onClick:function(){_this2.closePopoverAndExecute(showStats)}}),items.push({name:"Edit "+entity+" settings",icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexEdit"}),onClick:function(){_this2.closePopoverAndExecute(editIndex)}})),allOpen?(items.push({name:"Close "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexClose"}),onClick:function(){_this2.closePopoverAndExecute(closeIndices)}}),items.push({name:"Force merge "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"merge"}),onClick:function(){_this2.closePopover(),_this2.openForcemergeSegmentsModal()}}),items.push({name:"Refresh "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"refresh"}),onClick:function(){_this2.closePopoverAndExecute(refreshIndices)}}),items.push({name:"Clear "+entity+" cache",icon:_react2.default.createElement(_eui.EuiIcon,{type:"broom"}),onClick:function(){_this2.closePopoverAndExecute(clearCacheIndices)}}),items.push({name:"Flush "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexFlush"}),onClick:function(){_this2.closePopoverAndExecute(flushIndices)}})):items.push({name:"Open "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"indexOpen"}),onClick:function(){_this2.closePopoverAndExecute(openIndices)}}),items.push({name:"Delete "+entity,icon:_react2.default.createElement(_eui.EuiIcon,{type:"trash"}),onClick:function(){_this2.closePopover(),_this2.openDeleteConfirmationModal()}}),items.forEach(function(item){item["data-test-subj"]="indexTableContextMenuButton"});var panelTree={id:0,title:entityUpper+" options",items:items};return(0,_flatten_panel_tree.flattenPanelTree)(panelTree)}},{key:"render",value:function(){var _props2=this.props,_props2$iconSide=_props2.iconSide,iconSide=void 0===_props2$iconSide?"right":_props2$iconSide,_props2$anchorPositio=_props2.anchorPosition,anchorPosition=void 0===_props2$anchorPositio?"rightUp":_props2$anchorPositio,_props2$label=_props2.label,label=void 0===_props2$label?"Manage "+this.props.indexNames.length+(0,_pluralize2.default)(" index",this.props.indexNames.length):_props2$label,_props2$iconType=_props2.iconType,iconType=void 0===_props2$iconType?"arrowDown":_props2$iconType,panels=this.panels(),oneIndexSelected=this.oneIndexSelected(),entity=this.getEntity(oneIndexSelected),button=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:iconSide,"aria-label":entity+" options",onClick:this.onButtonClick,iconType:iconType,fill:!0},label);return _react2.default.createElement("div",null,this.confirmDeleteModal(),this.forcemergeSegmentsModal(),_react2.default.createElement(_eui.EuiPopover,{id:"contextMenu"+entity,button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",withTitle:!0,anchorPosition:anchorPosition},_react2.default.createElement(_eui.EuiContextMenu,{initialPanelId:0,panels:panels})))}}]),IndexActionsContextMenu}(_react.Component)},5417:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.flattenPanelTree=function flattenPanelTree(tree){var array=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return array.push(tree),tree.items&&tree.items.forEach(function(item){item.panel&&(flattenPanelTree(item.panel,array),item.panel=item.panel.id)}),array}},5418:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearCacheIndices=exports.clearCacheIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_notify=__webpack_require__(10),_services=__webpack_require__(97),_actions=__webpack_require__(96),clearCacheIndicesStart=exports.clearCacheIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START");exports.clearCacheIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(clearCacheIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.clearCacheIndices)(indexNames);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully cleared cache: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5419:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortTable=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(1),stringSort=function(fieldName){return function(item){return item[fieldName]}},numericSort=function(fieldName){return function(item){return+item[fieldName]}},unitMagnitude={kb:1,mb:2,gb:3,tb:4,pb:5},byteSort=function(fieldName){return function(item){var rawValue=item[fieldName],_rawValue$match=rawValue.match(/(.*)([kmgtp]b)/),_rawValue$match2=_slicedToArray(_rawValue$match,3),number=_rawValue$match2[1],unit=_rawValue$match2[2];return+number*Math.pow(1024,unitMagnitude[unit])}},sorters={name:stringSort("name"),status:stringSort("status"),health:stringSort("health"),primary:numericSort("primary"),replica:numericSort("replica"),documents:numericSort("documents"),size:byteSort("size"),primary_size:byteSort("primary_size")};exports.sortTable=function(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],sortField=arguments[1],isSortAscending=arguments[2],sorted=(0,_lodash.sortBy)(array,sorters[sortField]);return isSortAscending?sorted:sorted.reverse()}},5420:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.filterItems=function(fields){var filter=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",items=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],lowerFilter=filter.toLowerCase();return items.filter(function(item){return-1!==(fields||Object.keys(item)).findIndex(function(field){return String(item[field]).toLowerCase().includes(lowerFilter)})})}},5421:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.healthToColor=function(health){switch(health){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}}},5422:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeIndices=exports.closeIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_notify=__webpack_require__(10),_actions=__webpack_require__(96),closeIndicesStart=exports.closeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START");exports.closeIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(closeIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.closeIndices)(indexNames);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully closed: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5423:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.flushIndices=exports.flushIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_actions=__webpack_require__(96),_notify=__webpack_require__(10),flushIndicesStart=exports.flushIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START");exports.flushIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(flushIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.flushIndices)(indexNames);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully flushed: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5424:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forcemergeIndices=exports.forcemergeIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_actions=__webpack_require__(96),_notify=__webpack_require__(10),forcemergeIndicesStart=exports.forcemergeIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START");exports.forcemergeIndices=function(_ref){var indexNames=_ref.indexNames,maxNumSegments=_ref.maxNumSegments;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(forcemergeIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.forcemergeIndices)(indexNames,maxNumSegments);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully force merged: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5425:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadIndices=exports.loadIndicesSuccess=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_notify=__webpack_require__(10),loadIndicesSuccess=exports.loadIndicesSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS");exports.loadIndices=function(){return function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indices;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return indices=void 0,_context.prev=1,_context.next=4,(0,_services.loadIndices)();case 4:indices=_context.sent,_context.next=10;break;case 7:return _context.prev=7,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndicesSuccess({indices:indices}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])}));return function(_x){return _ref.apply(this,arguments)}}()}},5426:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.openIndices=exports.openIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_actions=__webpack_require__(96),_notify=__webpack_require__(10),openIndicesStart=exports.openIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START");exports.openIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(openIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.openIndices)(indexNames);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully opened: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5427:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.refreshIndices=exports.refreshIndicesStart=void 0;var _reduxActions=__webpack_require__(30),_services=__webpack_require__(97),_actions=__webpack_require__(96),_notify=__webpack_require__(10),refreshIndicesStart=exports.refreshIndicesStart=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START");exports.refreshIndices=function(_ref){var indexNames=_ref.indexNames;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return dispatch(refreshIndicesStart({indexNames:indexNames})),_context.prev=1,_context.next=4,(0,_services.refreshIndices)(indexNames);case 4:_context.next=9;break;case 6:return _context.prev=6,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 9:dispatch((0,_actions.reloadIndices)(indexNames)),_notify.toastNotifications.addSuccess("Successfully refreshed: ["+indexNames.join(", ")+"]");case 11:case"end":return _context.stop()}},_callee,void 0,[[1,6]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5428:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexStatusLabels=void 0;var _indexStatusLabels,_constants=__webpack_require__(332);exports.indexStatusLabels=(_indexStatusLabels={},_defineProperty(_indexStatusLabels,_constants.INDEX_CLEARING_CACHE,"clearing cache..."),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSED,"closed"),_defineProperty(_indexStatusLabels,_constants.INDEX_CLOSING,"closing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_MERGING,"merging..."),_defineProperty(_indexStatusLabels,_constants.INDEX_OPENING,"opening..."),_defineProperty(_indexStatusLabels,_constants.INDEX_REFRESHING,"refreshing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_FLUSHING,"flushing..."),_defineProperty(_indexStatusLabels,_constants.INDEX_FORCEMERGING,"forcing merge..."),_indexStatusLabels)},5429:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.showSystemIndicesChanged=exports.sortChanged=exports.pageSizeChanged=exports.pageChanged=exports.filterChanged=exports.filtersApplied=exports.applyFilters=void 0;var _reduxActions=__webpack_require__(30);exports.applyFilters=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),exports.filtersApplied=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),exports.filterChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED"),exports.pageChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),exports.pageSizeChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),exports.sortChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),exports.showSystemIndicesChanged=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_SHOW_SYSTEM_INDICES_CHANGED")},5430:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.editIndexSettings=void 0;var _services=__webpack_require__(97),_load_index_data=__webpack_require__(829),_notify=__webpack_require__(10);exports.editIndexSettings=function(_ref){var indexName=_ref.indexName;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var indexSettings;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return indexSettings=void 0,_context.prev=1,_context.next=4,(0,_services.loadIndexSettings)(indexName);case 4:indexSettings=_context.sent,_context.next=10;break;case 7:return _context.prev=7,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:_notify.toastNotifications.addSuccess("Successfully saved settings for "+indexName),dispatch((0,_load_index_data.loadIndexDataSuccess)({data:indexSettings,panelType:"editIndexSettings",indexName:indexName}));case 12:case"end":return _context.stop()}},_callee,void 0,[[1,7]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},5431:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _detail_panel=__webpack_require__(5432);Object.defineProperty(exports,"DetailPanel",{enumerable:!0,get:function(){return _detail_panel.DetailPanel}})},5432:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DetailPanel=void 0;var _reactRedux=__webpack_require__(25),_detail_panel=__webpack_require__(5433),_selectors=__webpack_require__(274),_actions=__webpack_require__(96),mapStateToProps=function(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{panelType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}},mapDispatchToProps=function(dispatch){return{clearCacheIndex:function(indexName){dispatch((0,_actions.clearCacheIndices)({indexNames:[indexName]}))},closeIndex:function(indexName){dispatch((0,_actions.closeIndices)({indexNames:[indexName]}))},flushIndex:function(indexName){dispatch((0,_actions.flushIndices)({indexNames:[indexName]}))},openIndex:function(indexName){dispatch((0,_actions.openIndices)({indexNames:[indexName]}))},refreshIndex:function(indexName){dispatch((0,_actions.refreshIndices)({indexNames:[indexName]}))},forcemergeIndex:function(indexName){dispatch((0,_actions.forcemergeIndices)({indexNames:[indexName]}))},deleteIndex:function(indexName){dispatch((0,_actions.deleteIndices)({indexNames:[indexName]}))},closeDetailPanel:function(){return dispatch((0,_actions.closeDetailPanel)())},openDetailPanel:function(indexName,panelType){return dispatch((0,_actions.openDetailPanel)(indexName,panelType))}}};exports.DetailPanel=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_detail_panel.DetailPanel)},5433:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DetailPanel=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactRouterDom=__webpack_require__(158),_show_json=__webpack_require__(5434),_summary=__webpack_require__(5437),_edit_settings_json=__webpack_require__(5440),_eui=__webpack_require__(5),_components=__webpack_require__(827),_constants=__webpack_require__(332),tabs=["Summary","Settings","Mapping","Stats","Edit settings"];exports.DetailPanel=function(_Component){function DetailPanel(){return _classCallCheck(this,DetailPanel),_possibleConstructorReturn(this,(DetailPanel.__proto__||Object.getPrototypeOf(DetailPanel)).apply(this,arguments))}return _inherits(DetailPanel,_Component),_createClass(DetailPanel,[{key:"renderTabs",value:function(){var _props=this.props,panelType=_props.panelType,indexName=_props.indexName,indexStatus=_props.indexStatus,openDetailPanel=_props.openDetailPanel;return tabs.map(function(tab,index){var isSelected=tab===panelType;return _react2.default.createElement(_eui.EuiTab,{onClick:function(){return openDetailPanel({panelType:tab,indexName:indexName})},isSelected:isSelected,"data-test-subj":"detailPanelTab"+(isSelected?"Selected":""),disabled:"stats"===tab&&indexStatus!==_constants.INDEX_OPEN,key:index},capitalizeFirstLetter(tab))})}},{key:"render",value:function(){var _props2=this.props,panelType=_props2.panelType,indexName=_props2.indexName,closeDetailPanel=_props2.closeDetailPanel;if(!panelType)return null;var component=null;switch(panelType){case"Edit settings":component=_react2.default.createElement(_edit_settings_json.EditSettingsJson,null);break;case"Mapping":case"Settings":case"Stats":component=_react2.default.createElement(_show_json.ShowJson,null);break;default:component=_react2.default.createElement(_summary.Summary,null)}return _react2.default.createElement(_eui.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"indexDetailsFlyoutTitle"},_react2.default.createElement(_eui.EuiFlyoutHeader,null,_react2.default.createElement(_eui.EuiTitle,{size:"l",id:"indexDetailsFlyoutTitle"},_react2.default.createElement("h2",null,indexName)),_react2.default.createElement(_eui.EuiTabs,null,this.renderTabs())),_react2.default.createElement(_eui.EuiFlyoutBody,null,component),_react2.default.createElement(_eui.EuiFlyoutFooter,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButtonEmpty,{iconType:"cross",onClick:closeDetailPanel},"Close")),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function(){return _react2.default.createElement(_components.IndexActionsContextMenu,{iconSide:"left",indexNames:[indexName],anchorPosition:"upRight",detailPanel:!0,iconType:"arrowUp",label:"Manage"})}})))))}}]),DetailPanel}(_react.Component)},5434:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _show_json=__webpack_require__(5435);Object.defineProperty(exports,"ShowJson",{enumerable:!0,get:function(){return _show_json.ShowJson}})},5435:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowJson=void 0;var _reactRedux=__webpack_require__(25),_show_json=__webpack_require__(5436),_actions=__webpack_require__(96),_selectors=__webpack_require__(274),mapStateToProps=function(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),dataType:(0,_selectors.getDetailPanelType)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}},mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel};exports.ShowJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_show_json.ShowJson)},5436:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShowJson=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.ShowJson=function(_React$PureComponent){function ShowJson(){return _classCallCheck(this,ShowJson),_possibleConstructorReturn(this,(ShowJson.__proto__||Object.getPrototypeOf(ShowJson)).apply(this,arguments))}return _inherits(ShowJson,_React$PureComponent),_createClass(ShowJson,[{key:"componentWillMount",value:function(){this.props.loadIndexData(this.props)}},{key:"componentWillUpdate",value:function(newProps){var data=newProps.data,loadIndexData=newProps.loadIndexData;data||loadIndexData(newProps)}},{key:"render",value:function(){var data=this.props.data;if(!data)return null;var json=JSON.stringify(data,null,2);return _react2.default.createElement(_eui.EuiCodeEditor,{mode:"json",theme:"github",isReadOnly:!0,setOptions:{maxLines:1/0},value:json})}}]),ShowJson}(_react2.default.PureComponent)},5437:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _summary=__webpack_require__(5438);Object.defineProperty(exports,"Summary",{enumerable:!0,get:function(){return _summary.Summary}})},5438:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Summary=void 0;var _reactRedux=__webpack_require__(25),_summary=__webpack_require__(5439),_selectors=__webpack_require__(274),mapStateToProps=function(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{indexName:indexName,index:(0,_selectors.getIndexByIndexName)(state,indexName)}};exports.Summary=(0,_reactRedux.connect)(mapStateToProps)(_summary.Summary)},5439:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Summary=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_services=__webpack_require__(97),_eui=__webpack_require__(5),HEADERS={health:"Health",status:"Status",primary:"Primaries",replica:"Replicas",documents:"Docs Count",documents_deleted:"Docs Deleted",size:"Storage Size",primary_size:"Primary Storage Size"};exports.Summary=function(_React$PureComponent){function Summary(){return _classCallCheck(this,Summary),_possibleConstructorReturn(this,(Summary.__proto__||Object.getPrototypeOf(Summary)).apply(this,arguments))}return _inherits(Summary,_React$PureComponent),_createClass(Summary,[{key:"buildRows",value:function(){var index=this.props.index;return Object.keys(HEADERS).map(function(fieldName){var value=index[fieldName],content="health"===fieldName?_react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value):value;return[_react2.default.createElement(_eui.EuiDescriptionListTitle,{key:fieldName},_react2.default.createElement("strong",null,HEADERS[fieldName],":")),_react2.default.createElement(_eui.EuiDescriptionListDescription,{key:fieldName+"_desc"},content)]})}},{key:"render",value:function(){return _react2.default.createElement(_eui.EuiDescriptionList,{type:"column",align:"center"},this.buildRows())}}]),Summary}(_react2.default.PureComponent)},5440:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _edit_settings_json=__webpack_require__(5441);Object.defineProperty(exports,"EditSettingsJson",{enumerable:!0,get:function(){return _edit_settings_json.EditSettingsJson}})},5441:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditSettingsJson=void 0;var _reactRedux=__webpack_require__(25),_edit_settings_json=__webpack_require__(5442),_actions=__webpack_require__(96),_selectors=__webpack_require__(274),mapStateToProps=function(state){var indexName=(0,_selectors.getDetailPanelIndexName)(state);return{error:(0,_selectors.getDetailPanelError)(state),data:(0,_selectors.getDetailPanelData)(state),indexName:indexName,indexStatus:(0,_selectors.getIndexStatusByIndexName)(state,indexName)}},mapDispatchToProps={loadIndexData:_actions.loadIndexData,closeDetailPanel:_actions.closeDetailPanel,updateIndexSettings:_actions.updateIndexSettings};exports.EditSettingsJson=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_edit_settings_json.EditSettingsJson)},5442:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditSettingsJson=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_documentation_links=__webpack_require__(5443),_eui=__webpack_require__(5),_editSettings=__webpack_require__(5444),_ace=__webpack_require__(5445),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_flatten_object=__webpack_require__(5447);exports.EditSettingsJson=function(_React$PureComponent){function EditSettingsJson(){_classCallCheck(this,EditSettingsJson);var _this=_possibleConstructorReturn(this,(EditSettingsJson.__proto__||Object.getPrototypeOf(EditSettingsJson)).call(this));return _this.commitSettings=function(){var _this$props=_this.props,updateIndexSettings=_this$props.updateIndexSettings,indexName=_this$props.indexName,json=_this.editor.getValue(),settings=JSON.parse(json);Object.keys(_this.originalSettings).forEach(function(key){_lodash2.default.isEqual(_this.originalSettings[key],settings[key])&&delete settings[key]}),updateIndexSettings({indexName:indexName,settings:settings})},_this.state={valid:!0},_this}return _inherits(EditSettingsJson,_React$PureComponent),_createClass(EditSettingsJson,[{key:"transformSettingsForApi",value:function(data,isOpen){var defaults=data.defaults,settings=data.settings,flattenedSettings=(0,_flatten_object.flattenObject)(settings),flattenedDefaults=(0,_flatten_object.flattenObject)(defaults),filteredDefaults=_lodash2.default.pick(flattenedDefaults,_editSettings.settingsToDisplay),newSettings=_extends({},filteredDefaults,flattenedSettings);return this.settingsKeys=Object.keys(newSettings),_editSettings.readOnlySettings.forEach(function(e){return delete newSettings[e]}),isOpen&&delete newSettings["index.codec"],newSettings}},{key:"componentWillMount",value:function(){var indexName=this.props.indexName;this.props.loadIndexData({dataType:"Settings",indexName:indexName})}},{key:"componentDidUpdate",value:function(){var _this2=this,_props=this.props,data=_props.data,indexStatus=_props.indexStatus;if(data&&!this.editor){var isOpen="open"===indexStatus,newSettings=this.transformSettingsForApi(data,isOpen);this.originalSettings=newSettings;var prettyJson=JSON.stringify(newSettings,null,2),settingsKeys=Object.keys(newSettings),editor=this.editor=(0,_ace.createAceEditor)(this.aceDiv,prettyJson,!1,settingsKeys),session=editor.getSession();session.on("changeAnnotation",function(){_this2.setState({valid:0===session.getAnnotations().length})})}}},{key:"componentWillUnmount",value:function(){this.editor&&this.editor.destroy()}},{key:"errorMessage",value:function(){var error=this.props.error;return error?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiIcon,{color:"danger",type:"alert"}),_react2.default.createElement(_eui.EuiTextColor,{color:"danger"},error),_react2.default.createElement(_eui.EuiSpacer,null)):null}},{key:"render",value:function(){var _this3=this;return this.props.data?_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiTitle,null,_react2.default.createElement("p",null,"Edit, then save your JSON"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{size:"s",fill:!0,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},"Save"))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiLink,{href:_documentation_links.settingsDocumentationLink,target:"_blank",rel:"noopener noreferrer"},"Settings reference"),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement("div",{"data-test-subj":"indexJsonEditor",ref:function(aceDiv){_this3.aceDiv=aceDiv}}),this.errorMessage(),_react2.default.createElement(_eui.EuiSpacer,null)):null}}]),EditSettingsJson}(_react2.default.PureComponent)},5443:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.settingsDocumentationLink=void 0;var _documentation_links=__webpack_require__(254),esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION;exports.settingsDocumentationLink=esBase+"/index-modules.html#index-modules-settings"},5444:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.readOnlySettings=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],exports.settingsToDisplay=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"]},5445:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createAceEditor=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_ace=__webpack_require__(106),_ace2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ace);__webpack_require__(5446);var splitTokens=function(line){return line.split(/\s+/)},wordCompleter=function(words){return{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:function(editor,session,pos,prefix,callback){var document=session.getDocument(),currentLine=document.getLine(pos.row),previousLine=document.getLine(pos.row-1),currentTokens=splitTokens(currentLine.slice(0,pos.column)),fullLineTokens=splitTokens(currentLine),isInArray=previousLine&&"["===splitTokens(previousLine).slice(-1)[0],_currentTokens=_slicedToArray(currentTokens,2),_currentTokens$=_currentTokens[1],secondToken=void 0===_currentTokens$?null:_currentTokens$,_fullLineTokens=_slicedToArray(fullLineTokens,2),_fullLineTokens$=_fullLineTokens[1],secondFullToken=void 0===_fullLineTokens$?null:_fullLineTokens$;if(isInArray||currentTokens.length>2)return callback(null,[]);var startQuote='"'===secondToken?"":'"',endQuote='""'===secondFullToken?"":'"';callback(null,words.map(function(word){return{caption:" "+word,value:""+startQuote+word+endQuote}}))}}};exports.createAceEditor=function(div,value){var readOnly=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],autocompleteArray=arguments[3],editor=_ace2.default.edit(div);editor.$blockScrolling=1/0,editor.setValue(value,-1);var session=editor.getSession();if(session.setUseWrapMode(!0),session.setMode("ace/mode/json"),autocompleteArray){var languageTools=_ace2.default.acequire("ace/ext/language_tools"),autocompleter=wordCompleter(autocompleteArray);languageTools.setCompleters([autocompleter])}var options={readOnly:readOnly,highlightActiveLine:!1,highlightGutterLine:!1,minLines:20,maxLines:30},autocompleteOptions=readOnly?{}:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0};return editor.setOptions(_extends({},options,autocompleteOptions)),editor.setBehavioursEnabled(!readOnly),editor}},5446:function(module,exports){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(acequire,exports,module){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,lang=acequire("./lib/lang"),Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,HashHandler=acequire("./keyboard/hash_handler").HashHandler,Tokenizer=acequire("./tokenizer").Tokenizer,comparePoints=Range.comparePoints,SnippetManager=function(){this.snippetMap={},this.snippetNameMap={}};(function(){oop.implement(this,EventEmitter),this.getTokenizer=function(){function TabstopToken(str,_,stack){return str=str.substr(1),/^\d+$/.test(str)&&!stack.inFormatString?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectIf?(stack[0].expectIf=!1,stack[0].elseBranch=stack[0],[stack[0]]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length?val=ch:-1!="`$\\".indexOf(ch)?val=ch:stack.inFormatString&&("n"==ch?val="\n":"t"==ch?val="\n":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"})),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1),state,stack);return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){stack[0].choices=val.slice(1,-1).split(",")},next:"start"},{regex:"/("+escape("/")+"+)/(?:("+escape("/")+"*)/)(\\w*):?",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=val,val=this.splitRegex.exec(val),ts.guard=val[1],ts.fmt=val[2],ts.flag=val[3],""},next:"start"},{regex:"`"+escape("`")+"*`",onMatch:function(val,state,stack){return stack[0].code=val.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(val,state,stack){stack[0]&&(stack[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+escape("/")+"+)/",token:"regex"},{regex:"",onMatch:function(val,state,stack){stack.inFormatString=!0},next:"start"}]}),SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer},SnippetManager.$tokenizer},this.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map(function(x){return x.value||x})},this.$getDefaultValue=function(editor,name){if(/^[A-Z]\d+$/.test(name)){var i=name.substr(1);return(this.variables[name[0]+"__"]||{})[i]}if(/^\d+$/.test(name))return(this.variables.__||{})[name];if(name=name.replace(/^TM_/,""),editor){var s=editor.session;switch(name){case"CURRENT_WORD":var r=s.getWordRange();case"SELECTION":case"SELECTED_TEXT":return s.getTextRange(r);case"CURRENT_LINE":return s.getLine(editor.getCursorPosition().row);case"PREV_LINE":return s.getLine(editor.getCursorPosition().row-1);case"LINE_INDEX":return editor.getCursorPosition().column;case"LINE_NUMBER":return editor.getCursorPosition().row+1;case"SOFT_TABS":return s.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return s.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(editor,varName){return this.variables.hasOwnProperty(varName)?this.variables[varName](editor,varName)||"":this.$getDefaultValue(editor,varName)||""},this.tmStrFormat=function(str,ch,editor){var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gi]/,""));var fmtTokens=this.tokenizeTmSnippet(ch.fmt,"formatString"),_self=this,formatted=str.replace(re,function(){_self.variables.__=arguments;for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return fmtParts.join("")});return this.variables.__=null,formatted},this.resolveVariables=function(snippet,editor){function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}for(var result=[],i=0;i<snippet.length;i++){var ch=snippet[i];if("string"==typeof ch)result.push(ch);else{if("object"!=typeof ch)continue;if(ch.skip)gotoNext(ch);else{if(ch.processed<i)continue;if(ch.text){var value=this.getVariableValue(editor,ch.text);value&&ch.fmtString&&(value=this.tmStrFormat(value,ch)),ch.processed=i,null==ch.expectIf?value&&(result.push(value),gotoNext(ch)):value?ch.skip=ch.elseBranch:gotoNext(ch)}else null!=ch.tabstopId?result.push(ch):null!=ch.changeCase&&result.push(ch)}}}return result},this.insertSnippetForSelection=function(editor,snippetText){var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column)),snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=this.resolveVariables(tokens,editor),tokens=tokens.map(function(x){return"\n"==x?x+indentString:"string"==typeof x?x.replace(/\t/g,tabString):x});var tabstops=[];tokens.forEach(function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||(ts=tabstops[id]=[],ts.index=id,ts.value=""),-1===ts.indexOf(p)){ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some(function(t){return"object"==typeof t})&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}}),tabstops.forEach(function(ts){ts.length=0});for(var expanding={},i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,i1=tokens.indexOf(p,i+1);if(expanding[id])expanding[id]===p&&(expanding[id]=null);else{var ts=tabstops[id],arg="string"==typeof ts.value?[ts.value]:function(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}(ts.value);arg.unshift(i+1,Math.max(0,i1-i)),arg.push(p),expanding[id]=p,tokens.splice.apply(tokens,arg),-1===ts.indexOf(p)&&ts.push(p)}}}var row=0,column=0,text="";tokens.forEach(function(t){if("string"==typeof t){var lines=t.split("\n");lines.length>1?(column=lines[lines.length-1].length,row+=lines.length-1):column+=t.length,text+=t}else t.start?t.end={row:row,column:column}:t.start={row:row,column:column}});var range=editor.getSelectionRange(),end=editor.session.replace(range,text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(tabstops,range.start,end,selectionId)},this.insertSnippet=function(editor,snippetText){var self=this;if(editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText);editor.forEachSelection(function(){self.insertSnippetForSelection(editor,snippetText)},null,{keepOrder:!0}),editor.tabstopManager&&editor.tabstopManager.tabNext()},this.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},this.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},this.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection(function(){return self.expandSnippetForSelection(editor,options)},null,{keepOrder:!0});return result&&editor.tabstopManager&&editor.tabstopManager.tabNext(),result},this.expandSnippetForSelection=function(editor,options){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet},this),!!snippet&&(!(!options||!options.dryRun)||(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippetForSelection(editor,snippet.content),this.variables.M__=this.variables.T__=null,!0))},this.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},this.snippetMap={},this.snippetNameMap={},this.register=function(snippets,scope){function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),(s.trigger||s.guard||s.endTrigger||s.endGuard)&&(s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger,"",!0),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger,"",!0))}var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;snippets||(snippets=[]),snippets&&snippets.content?addSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(addSnippet),this._signal("registerSnippets",{scope:scope})},this.unregister=function(snippets,scope){function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},this.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):snippet[key]=val}}return list},this.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some(function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet},this),snippet}}).call(SnippetManager.prototype);var TabstopManager=function(editor){if(editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)};(function(){this.attach=function(editor){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=editor,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(delta){var isRemove="r"==delta.action[0],start=delta.start,end=delta.end,startRow=start.row,endRow=end.row,lineDif=endRow-startRow,colDiff=end.column-start.column;if(isRemove&&(lineDif=-lineDif,colDiff=-colDiff),!this.$inChange&&isRemove){var ts=this.selectedTabstop;if(ts&&!ts.some(function(r){return comparePoints(r.start,start)<=0&&comparePoints(r.end,end)>=0}))return this.detach()}for(var ranges=this.ranges,i=0;i<ranges.length;i++){var r=ranges[i];r.end.row<start.row||(isRemove&&comparePoints(start,r.start)<0&&comparePoints(end,r.end)>0?(this.removeRange(r),i--):(r.start.row==startRow&&r.start.column>start.column&&(r.start.column+=colDiff),r.end.row==startRow&&r.end.column>=start.column&&(r.end.column+=colDiff),r.start.row>=startRow&&(r.start.row+=lineDif),r.end.row>=startRow&&(r.end.row+=lineDif),comparePoints(r.start,r.end)>0&&this.removeRange(r)))}ranges.length||this.detach()},this.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts&&ts.hasLinkedRanges){this.$inChange=!0;for(var session=this.editor.session,text=session.getTextRange(ts.firstNonLinked),i=ts.length;i--;){var range=ts[i];if(range.linked){var fmt=exports.snippetManager.tmStrFormat(text,range.original);session.replace(range,fmt)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);index=Math.min(Math.max(index,1),max),index==max&&(index=0),this.selectTabstop(index),0===index&&this.detach()},this.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){if(this.selectedTabstop=ts,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(ts.firstNonLinked);else{var sel=this.editor.multiSelect;sel.toSingleRange(ts.firstNonLinked.clone());for(var i=ts.length;i--;)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0);sel.ranges[0]&&sel.addRange(sel.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(tabstops,start,end){if(this.$openTabstops||(this.$openTabstops=[]),!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var i=this.index,arg=[i+1,0],ranges=this.ranges;tabstops.forEach(function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=ts.length;i--;){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=dest,ranges.push(range),dest!=ts?dest.unshift(range):dest[i]=range,p.fmtString?(range.linked=!0,dest.hasLinkedRanges=!0):dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=!1),dest===ts&&(arg.push(dest),this.$openTabstops[index]=dest),this.addTabstopMarkers(dest)},this),arg.length>2&&(this.tabstops.length&&arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg))},this.addTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(ts){var session=this.editor.session;ts.forEach(function(range){session.removeMarker(range.markerId),range.markerId=null})},this.removeRange=function(range){var i=range.tabstop.indexOf(range);range.tabstop.splice(i,1),i=this.ranges.indexOf(range),this.ranges.splice(i,1),this.editor.session.removeMarker(range.markerId),range.tabstop.length||(i=this.tabstops.indexOf(range.tabstop),-1!=i&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys({Tab:function(ed){exports.snippetManager&&exports.snippetManager.expandWithTab(ed)||ed.tabstopManager.tabNext(1)},"Shift-Tab":function(ed){ed.tabstopManager.tabNext(-1)},Esc:function(ed){ed.tabstopManager.detach()},Return:function(ed){return!1}})}).call(TabstopManager.prototype);var changeTracker={};changeTracker.onChange=Anchor.prototype.onChange,changeTracker.setPosition=function(row,column){this.pos.row=row,this.pos.column=column},changeTracker.update=function(pos,delta,$insertRight){this.$insertRight=$insertRight,this.pos=pos,this.onChange(delta)};var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};acequire("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),exports.snippetManager=new SnippetManager;var Editor=acequire("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)},this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(acequire,exports,module){"use strict";var Renderer=acequire("../virtual_renderer").VirtualRenderer,Editor=acequire("../editor").Editor,Range=acequire("../range").Range,event=acequire("../lib/event"),lang=acequire("../lib/lang"),dom=acequire("../lib/dom"),$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusWaitTimout=0,editor.$highlightTagPending=!0,editor},AcePopup=function(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.setOption("displayIndentGuides",!1),popup.setOption("dragDelay",150);var noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()});var lastMouseEvent,hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",function(e){if(!lastMouseEvent)return void(lastMouseEvent=e);if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){lastMouseEvent=e,lastMouseEvent.scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}),popup.renderer.on("beforeRender",function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}}),popup.renderer.on("afterRender",function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow];selected!=t.selectedNode&&(t.selectedNode&&dom.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=selected,selected&&dom.addCssClass(selected,"ace_selected"))});var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data}),data.caption||(data.caption=data.value||data.name);for(var flag,c,last=-1,i=0;i<data.caption.length;i++)c=data.caption[i],flag=data.matchMask&1<<i?1:0,last!==flag?(tokens.push({type:data.className||(flag?"completion-highlight":""),value:c}),last=flag):tokens[tokens.length-1].value+=c;if(data.meta){var maxW=popup.renderer.$size.scrollerWidth/popup.renderer.layerConfig.characterWidth,metaData=data.meta;metaData.length+data.caption.length>maxW-2&&(metaData=metaData.substr(0,maxW-data.caption.length-3)+"…"),tokens.push({type:"rightAlignedText",value:metaData})}return tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.$blockScrolling=1/0,popup.isOpen=!1,popup.isTopdown=!1,popup.data=[],popup.setData=function(list){popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.data=list||[],popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(0,Math.min(this.data.length,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",function(){popup.isOpen&&popup.setRow(popup.selection.lead.row),popup.renderer.scrollCursorIntoView()}),popup.hide=function(){this.container.style.display="none",this._signal("hide"),popup.isOpen=!1},popup.show=function(pos,lineHeight,topdownOnly){var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,top=pos.top+this.$borderSize;top>screenHeight/2&&!topdownOnly&&top+lineHeight+maxH>screenHeight?(renderer.$maxPixelHeight=top-2*this.$borderSize,el.style.top="",el.style.bottom=screenHeight-top+"px",popup.isTopdown=!1):(top+=lineHeight,renderer.$maxPixelHeight=screenHeight-top-.2*lineHeight,el.style.top=top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="",this.renderer.$textLayer.checkForSizeChanges();var left=pos.left;left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",this._signal("show"),lastMouseEvent=null,popup.isOpen=!0},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup};dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),exports.AcePopup=AcePopup}),ace.define("ace/autocomplete/util",["require","exports","module"],function(acequire,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],function(result,err){++completed===arLength&&callback(result,err)})};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf},exports.getCompletionPrefix=function(editor){var prefix,pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row);return editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this)),prefix||this.retrievePrecedingIdentifier(line,pos.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(acequire,exports,module){"use strict";var HashHandler=acequire("./keyboard/hash_handler").HashHandler,AcePopup=acequire("./autocomplete/popup").AcePopup,util=acequire("./autocomplete/util"),lang=(acequire("./lib/event"),acequire("./lib/lang")),dom=acequire("./lib/dom"),snippetManager=acequire("./snippets").snippetManager,Autocomplete=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new AcePopup(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.popup.setData(this.completions.filtered),editor.keyBinding.addKeyboardHandler(this.keyboardHandler);var renderer=editor.renderer;if(this.popup.setRow(this.autoSelect?0:-1),keepPopupPosition)keepPopupPosition&&!prefix&&this.detach();else{this.popup.setTheme(editor.getTheme()),this.popup.setFontSize(editor.getFontSize());var lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.gutterWidth,this.popup.show(pos,lineHeight)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){e.relatedTarget&&"A"==e.relatedTarget.nodeName&&e.relatedTarget.href&&window.open(e.relatedTarget.href,"_blank");var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&e.relatedTarget==this.tooltipNode,container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(where){var row=this.popup.getRow(),max=this.popup.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.popup.setRow(row)},this.insertMatch=function(data,options){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(data.completer&&data.completer.insertMatch)data.completer.insertMatch(this.editor,data);else{if(this.completions.filterText)for(var range,ranges=this.editor.selection.getAllRanges(),i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,this.editor.session.remove(range);data.snippet?snippetManager.insertSnippet(this.editor,data.snippet):this.editor.execCommand("insertstring",data.value||data)}this.detach()},this.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},this.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=(session.getLine(pos.row),util.getCompletionPrefix(editor));this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;var matches=[],total=editor.completers.length;return editor.completers.forEach(function(completer,i){completer.getCompletions(editor,session,pos,prefix,function(err,results){!err&&results&&(matches=matches.concat(results));var pos=editor.getCursorPosition();session.getLine(pos.row);callback(null,{prefix:prefix,matches:matches,finished:0==--total})})}),!0},this.showPopup=function(editor){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(keepPopupPosition){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});if(prefix==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach():this.detach()}var _id=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(err,results){var detachIfFinished=function(){if(results.finished)return this.detach()}.bind(this),prefix=results.prefix,matches=results&&results.matches;if(!matches||!matches.length)return detachIfFinished();if(0===prefix.indexOf(results.prefix)&&_id==this.gatherCompletionsId){this.completions=new FilteredList(matches),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(prefix);var filtered=this.completions.filtered;return filtered.length&&(1!=filtered.length||filtered[0].value!=prefix||filtered[0].snippet)?this.autoInsert&&1==filtered.length&&results.finished?this.insertMatch(filtered[0]):void this.openPopup(this.editor,prefix,keepPopupPosition):detachIfFinished()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;return selected&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(completer){return completer.getDocTooltip&&(doc=completer.getDocTooltip(selected)),doc}),doc||(doc=selected),"string"==typeof doc&&(doc={docText:doc}),doc&&(doc.docHTML||doc.docText)?void this.showDocTooltip(doc):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(item){this.tooltipNode||(this.tooltipNode=dom.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText),tooltipNode.parentNode||document.body.appendChild(tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top,tooltipNode.style.bottom=popup.container.style.bottom,window.innerWidth-rect.right<320?(tooltipNode.style.right=window.innerWidth-rect.left+"px",tooltipNode.style.left=""):(tooltipNode.style.left=rect.right+1+"px",tooltipNode.style.right=""),tooltipNode.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus(),this.tooltipNode=null,el.parentNode&&el.parentNode.removeChild(el)}}}).call(Autocomplete.prototype),Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor){editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.autoSelect=!0,editor.completer.showPopup(editor),editor.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var FilteredList=function(array,filterText){this.all=array,this.filtered=array,this.filterText=filterText||"",this.exactMatch=!1};(function(){this.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else var matches=this.all;this.filterText=str,matches=this.filterCompletions(matches,this.filterText),matches=matches.sort(function(a,b){return b.exactMatch-a.exactMatch||b.score-a.score});var prev=null;matches=matches.filter(function(item){var caption=item.snippet||item.caption||item.value;return caption!==prev&&(prev=caption,!0)}),this.filtered=matches},this.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=item.value||item.caption||item.snippet;if(caption){var index,distance,lastIndex=-1,matchMask=0,penalty=0;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;distance=index-lastIndex-1,distance>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance),matchMask|=1<<index,lastIndex=index}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.score=(item.score||0)-penalty,results.push(item)}}return results}}).call(FilteredList.prototype),exports.Autocomplete=Autocomplete,exports.FilteredList=FilteredList}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(acequire,exports,module){function getWordIndex(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}function wordDistance(doc,pos){var prefixPos=getWordIndex(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach(function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}}),wordScores}var Range=acequire("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map(function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(acequire,exports,module){"use strict";var snippetManager=acequire("../snippets").snippetManager,Autocomplete=acequire("../autocomplete").Autocomplete,config=acequire("../config"),lang=acequire("../lib/lang"),util=acequire("../autocomplete/util"),textCompleter=acequire("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row);callback(null,session.$mode.getCompletions(state,session,pos,prefix))}},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var snippetMap=snippetManager.snippetMap,completions=[];snippetManager.getActiveScopes(editor).forEach(function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),callback(null,completions)},getDocTooltip:function(item){"snippet"!=item.type||item.docHTML||(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML(item.snippet)].join(""))}},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0,val&&completers.push.apply(completers,val)},exports.addCompleter=function(completer){completers.push(completer)},exports.textCompleter=textCompleter,exports.keyWordCompleter=keyWordCompleter,exports.snippetCompleter=snippetCompleter;var expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){var id=mode.$id;snippetManager.files||(snippetManager.files={}),loadSnippetFile(id),mode.modes&&mode.modes.forEach(loadSnippetsForMode)},loadSnippetFile=function(id){if(id&&!snippetManager.files[id]){var snippetFilePath=id.replace("mode","snippets");snippetManager.files[id]={},config.loadModule(snippetFilePath,function(m){m&&(snippetManager.files[id]=m,!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText)),snippetManager.register(m.snippets||[],m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach(function(x){loadSnippetFile("ace/mode/"+x)})))})}},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name){var prefix=util.getCompletionPrefix(editor);prefix&&!hasCompleter&&(editor.completer||(editor.completer=new Autocomplete),editor.completer.autoInsert=!1,editor.completer.showPopup(editor))}},Editor=acequire("../editor").Editor;acequire("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableLiveAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.on("afterExec",doLiveAutocomplete)):this.commands.removeListener("afterExec",doLiveAutocomplete)},value:!1},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})}),function(){ace.acequire(["ace/ext/language_tools"],function(){})}()},5447:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flattenObject=void 0;var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash);exports.flattenObject=function(nestedObj,flattenArrays){var stack=[],flatObj={};return function flattenObj(obj){_lodash2.default.keys(obj).forEach(function(key){stack.push(key),!flattenArrays&&Array.isArray(obj[key])?flatObj[stack.join(".")]=obj[key]:_lodash2.default.isObject(obj[key])?flattenObj(obj[key]):flatObj[stack.join(".")]=obj[key],stack.pop()})}(nestedObj),flatObj}},5448:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_table=__webpack_require__(5449);Object.defineProperty(exports,"IndexTable",{enumerable:!0,get:function(){return _index_table.IndexTable}})},5449:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexTable=void 0;var _reactRedux=__webpack_require__(25),_selectors=__webpack_require__(274),_actions=__webpack_require__(96),_index_table=__webpack_require__(5450),mapStateToProps=function(state){return{isDetailPanelOpen:(0,_selectors.isDetailPanelOpen)(state),detailPanelIndexName:(0,_selectors.getDetailPanelIndexName)(state),indices:(0,_selectors.getPageOfIndices)(state),pager:(0,_selectors.getPager)(state),filter:(0,_selectors.getFilter)(state),showSystemIndices:(0,_selectors.showSystemIndices)(state),sortField:(0,_selectors.getSortField)(state),isSortAscending:(0,_selectors.isSortAscending)(state)}},mapDispatchToProps=function(dispatch){return{filterChanged:function(filter){dispatch((0,_actions.filterChanged)({filter:filter}))},pageChanged:function(pageNumber){dispatch((0,_actions.pageChanged)({pageNumber:pageNumber}))},pageSizeChanged:function(pageSize){dispatch((0,_actions.pageSizeChanged)({pageSize:pageSize}))},sortChanged:function(sortField,isSortAscending){dispatch((0,_actions.sortChanged)({sortField:sortField,isSortAscending:isSortAscending}))},showSystemIndicesChanged:function(showSystemIndices){dispatch((0,_actions.showSystemIndicesChanged)({showSystemIndices:showSystemIndices}))},openDetailPanel:function(indexName){dispatch((0,_actions.openDetailPanel)({indexName:indexName}))},closeDetailPanel:function(){dispatch((0,_actions.closeDetailPanel)())}}};exports.IndexTable=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_index_table.IndexTable)},5450:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexTable=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactRouterDom=__webpack_require__(158),_no_match=__webpack_require__(5451),_services=__webpack_require__(97);__webpack_require__(5454);var _eui=__webpack_require__(5),_components=__webpack_require__(827),HEADERS={name:"Name",health:"Health",status:"Status",primary:"Primaries",replica:"Replicas",documents:"Docs count",size:"Storage size",primary_size:"Primary storage size"};exports.IndexTable=function(_Component){function IndexTable(props){_classCallCheck(this,IndexTable);var _this=_possibleConstructorReturn(this,(IndexTable.__proto__||Object.getPrototypeOf(IndexTable)).call(this,props));return _this.onSort=function(column){var _this$props=_this.props,sortField=_this$props.sortField,isSortAscending=_this$props.isSortAscending;(0,_this$props.sortChanged)(column,sortField!==column||!isSortAscending)},_this.toggleAll=function(){if(_this.areAllItemsSelected())return _this.setState({selectedIndicesMap:{}});var indices=_this.props.indices,selectedIndicesMap={};indices.forEach(function(_ref){var name=_ref.name;selectedIndicesMap[name]=!0}),_this.setState({selectedIndicesMap:selectedIndicesMap})},_this.toggleItem=function(name){_this.setState(function(_ref2){var selectedIndicesMap=_ref2.selectedIndicesMap,newMap=_extends({},selectedIndicesMap);return newMap[name]?delete newMap[name]:newMap[name]=!0,{selectedIndicesMap:newMap}})},_this.isItemSelected=function(name){return!!_this.state.selectedIndicesMap[name]},_this.areAllItemsSelected=function(){return-1===_this.props.indices.findIndex(function(index){return!_this.isItemSelected(index.name)})},_this.onItemSelectionChanged=function(selectedIndices){_this.setState({selectedIndices:selectedIndices})},_this.state={selectedIndicesMap:{}},_this}return _inherits(IndexTable,_Component),_createClass(IndexTable,[{key:"buildHeader",value:function(){var _this2=this,_props=this.props,sortField=_props.sortField,isSortAscending=_props.isSortAscending;return Object.entries(HEADERS).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),fieldName=_ref4[0],label=_ref4[1],isSorted=sortField===fieldName;return _react2.default.createElement(_eui.EuiTableHeaderCell,{key:fieldName,onSort:function(){return _this2.onSort(fieldName)},isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":"indexTableHeaderCell-"+fieldName,className:"indexTable__header--"+fieldName},label)})}},{key:"buildRowCell",value:function(fieldName,value){var openDetailPanel=this.props.openDetailPanel;return"health"===fieldName?_react2.default.createElement(_eui.EuiHealth,{color:(0,_services.healthToColor)(value)},value):"name"===fieldName?_react2.default.createElement(_eui.EuiLink,{className:"indexTable__link","data-test-subj":"indexTableIndexNameLink",onClick:function(){openDetailPanel(value)}},value):value}},{key:"buildRowCells",value:function(index){var _this3=this;return Object.keys(HEADERS).map(function(fieldName){var name=index.name,value=index[fieldName];return _react2.default.createElement(_eui.EuiTableRowCell,{key:fieldName+"-"+name,truncateText:!1,"data-test-subj":"indexTableCell-"+fieldName},_this3.buildRowCell(fieldName,value))})}},{key:"buildRows",value:function(){var _this4=this,_props2=this.props,_props2$indices=_props2.indices,indices=void 0===_props2$indices?[]:_props2$indices,detailPanelIndexName=_props2.detailPanelIndexName;return indices.map(function(index){var name=index.name;return _react2.default.createElement(_eui.EuiTableRow,{isSelected:_this4.isItemSelected(name)||name===detailPanelIndexName,key:name+"-row"},_react2.default.createElement(_eui.EuiTableRowCellCheckbox,{key:"checkbox-"+name},_react2.default.createElement(_eui.EuiCheckbox,{type:"inList",id:"checkboxSelectIndex-"+name,checked:_this4.isItemSelected(name),onChange:function(){_this4.toggleItem(name)},"data-test-subj":"indexTableRowCheckbox"})),_this4.buildRowCells(index))})}},{key:"renderPager",value:function(){var _props3=this.props,pager=_props3.pager,pageChanged=_props3.pageChanged,pageSizeChanged=_props3.pageSizeChanged;return _react2.default.createElement(_eui.EuiTablePagination,{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}},{key:"render",value:function(){var _this5=this,_props4=this.props,filterChanged=_props4.filterChanged,filter=_props4.filter,showSystemIndices=_props4.showSystemIndices,showSystemIndicesChanged=_props4.showSystemIndicesChanged,indices=_props4.indices,selectedIndicesMap=this.state.selectedIndicesMap,atLeastOneItemSelected=Object.keys(selectedIndicesMap).length>0;return _react2.default.createElement(_eui.EuiPage,null,_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"flexEnd"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Index management")),_react2.default.createElement(_eui.EuiSpacer,{size:"s"}),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"Update your Elasticsearch indices individually or in bulk"))),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiSwitch,{id:"checkboxShowSystemIndices",checked:showSystemIndices,onChange:function(event){return showSystemIndicesChanged(event.target.checked)},label:"Include system indices"}))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_reactRouterDom.Route,{key:"menu",render:function(){return _react2.default.createElement(_components.IndexActionsContextMenu,{indexNames:Object.keys(selectedIndicesMap),resetSelection:function(){_this5.setState({selectedIndicesMap:{}})}})}})):null,_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiFieldSearch,{fullWidth:!0,value:filter,onChange:function(event){filterChanged(event.target.value)},"data-test-subj":"indexTableFilterInput",placeholder:"Search","aria-label":"Search indices"}))),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?_react2.default.createElement(_eui.EuiTable,null,_react2.default.createElement(_eui.EuiTableHeader,null,_react2.default.createElement(_eui.EuiTableHeaderCellCheckbox,null,_react2.default.createElement(_eui.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList"})),this.buildHeader()),_react2.default.createElement(_eui.EuiTableBody,null,this.buildRows())):_react2.default.createElement(_no_match.NoMatch,null),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),indices.length>0?this.renderPager():null)}}]),IndexTable}(_react.Component)},5451:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _no_match=__webpack_require__(5452);Object.defineProperty(exports,"NoMatch",{enumerable:!0,get:function(){return _no_match.NoMatch}})},5452:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _no_match=__webpack_require__(5453);Object.defineProperty(exports,"NoMatch",{enumerable:!0,get:function(){return _no_match.NoMatch}})},5453:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoMatch=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.NoMatch=function(){return _react2.default.createElement("div",null,"No indices to show")}},5454:function(module,exports){},5455:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _refresh_intervals=__webpack_require__(5456);Object.defineProperty(exports,"REFRESH_RATE_INDEX_LIST",{enumerable:!0,get:function(){return _refresh_intervals.REFRESH_RATE_INDEX_LIST}})},5456:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.REFRESH_RATE_INDEX_LIST=3e4},5457:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/index_management">\n  <div id="indexManagementReactRoot" class="indexTableHorizontalScrollContainer" />\n</kbn-management-app>\n'},5458:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.manageAngularLifecycle=void 0;var _reactDom=__webpack_require__(17);exports.manageAngularLifecycle=function($scope,$route,elem){var lastRoute=$route.current,deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister(),elem&&(0,_reactDom.unmountComponentAtNode)(elem)})}},5459:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _store=__webpack_require__(5460);Object.defineProperty(exports,"indexManagementStore",{enumerable:!0,get:function(){return _store.indexManagementStore}})},5460:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexManagementStore=void 0;var _redux=__webpack_require__(117),_reduxThunk=__webpack_require__(393),_reduxThunk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_reduxThunk),_reducers=__webpack_require__(5461);exports.indexManagementStore=function(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default)];return window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__()),(0,_redux.createStore)(_reducers.indexManagement,initialState,_redux.compose.apply(void 0,enhancers))}},5461:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_management=__webpack_require__(5462);Object.defineProperty(exports,"indexManagement",{enumerable:!0,get:function(){return _index_management.indexManagement}})},5462:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.indexManagement=void 0;var _redux=__webpack_require__(117),_detail_panel=__webpack_require__(5463),_indices=__webpack_require__(5464),_row_status=__webpack_require__(5465),_table_state=__webpack_require__(5466);exports.indexManagement=(0,_redux.combineReducers)({indices:_indices.indices,rowStatus:_row_status.rowStatus,tableState:_table_state.tableState,detailPanel:_detail_panel.detailPanel})},5463:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.detailPanel=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_detail_panel=__webpack_require__(1550),_load_index_data=__webpack_require__(829),_update_index_settings=__webpack_require__(1549),_delete_indices=__webpack_require__(1547),defaultState={};exports.detailPanel=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_delete_indices.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames,indexName=state.indexName;return indexNames.includes(indexName)?{}:state}),_defineProperty(_handleActions,_detail_panel.openDetailPanel,function(state,action){var _action$payload=action.payload,panelType=_action$payload.panelType,indexName=_action$payload.indexName,title=_action$payload.title;return{panelType:panelType||state.panelType||"Summary",indexName:indexName,title:title}}),_defineProperty(_handleActions,_detail_panel.closeDetailPanel,function(){return{}}),_defineProperty(_handleActions,_load_index_data.loadIndexDataSuccess,function(state,action){var data=action.payload.data;return _extends({},state,{data:data})}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsError,function(state,action){var error=action.payload.error;return _extends({},state,{error:error})}),_defineProperty(_handleActions,_update_index_settings.updateIndexSettingsSuccess,function(){return{}}),_handleActions),defaultState)},5464:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.indices=void 0;var _handleActions,_handleActions2,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_redux=__webpack_require__(117),_reduxActions=__webpack_require__(30),_actions=__webpack_require__(96),byId=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames,newState={};return Object.values(state).forEach(function(index){indexNames.includes(index.name)||(newState[index.name]=index)}),newState}),_defineProperty(_handleActions,_actions.loadIndicesSuccess,function(state,action){var indices=action.payload.indices,newState={};return indices.forEach(function(index){newState[index.name]=index}),newState}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices,newState={};return indices.forEach(function(index){newState[index.name]=index}),_extends({},state,newState)}),_handleActions),{}),allIds=(0,_reduxActions.handleActions)((_handleActions2={},_defineProperty(_handleActions2,_actions.deleteIndicesSuccess,function(state,action){var indexNames=action.payload.indexNames,newState=[];return state.forEach(function(indexName){indexNames.includes(indexName)||newState.push(indexName)}),newState}),_defineProperty(_handleActions2,_actions.loadIndicesSuccess,function(state,action){return action.payload.indices.map(function(index){return index.name})}),_defineProperty(_handleActions2,_actions.reloadIndicesSuccess,function(state){return state}),_handleActions2),[]);exports.indices=(0,_redux.combineReducers)({byId:byId,allIds:allIds})},5465:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rowStatus=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_actions=__webpack_require__(96),_constants=__webpack_require__(332);exports.rowStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.closeIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLOSING}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.openIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_OPENING}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.refreshIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_REFRESHING}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.flushIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FLUSHING}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.forcemergeIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_FORCEMERGING}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.clearCacheIndicesStart,function(state,action){var indexNames=action.payload.indexNames,statuses={};return indexNames.forEach(function(indexName){statuses[indexName]=_constants.INDEX_CLEARING_CACHE}),_extends({},state,statuses)}),_defineProperty(_handleActions,_actions.reloadIndicesSuccess,function(state,action){var indices=action.payload.indices,indicesByName=indices.reduce(function(acc,index){return acc[index.name]=index,acc},{}),newState=_extends({},state);for(var indexName in state)state[indexName]===_constants.INDEX_CLOSING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName],state[indexName]===_constants.INDEX_OPENING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName],state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName],state[indexName]===_constants.INDEX_REFRESHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName],state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName],state[indexName]===_constants.INDEX_FLUSHING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName],state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName],state[indexName]===_constants.INDEX_FORCEMERGING&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName],state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_OPEN&&delete newState[indexName],state[indexName]===_constants.INDEX_CLEARING_CACHE&&indicesByName[indexName].status===_constants.INDEX_CLOSED&&delete newState[indexName];return newState}),_handleActions),{})},5466:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.tableState=void 0;var _handleActions,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_reduxActions=__webpack_require__(30),_actions=__webpack_require__(96),defaultState={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0,showSystemIndices:!1};exports.tableState=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_actions.filterChanged,function(state,action){var filter=action.payload.filter;return _extends({},state,{filter:filter,currentPage:0})}),_defineProperty(_handleActions,_actions.showSystemIndicesChanged,function(state,action){var showSystemIndices=action.payload.showSystemIndices;return _extends({},state,{showSystemIndices:showSystemIndices})}),_defineProperty(_handleActions,_actions.sortChanged,function(state,action){var _action$payload=action.payload,sortField=_action$payload.sortField,isSortAscending=_action$payload.isSortAscending;return _extends({},state,{sortField:sortField,isSortAscending:isSortAscending})}),_defineProperty(_handleActions,_actions.pageChanged,function(state,action){var pageNumber=action.payload.pageNumber;return _extends({},state,{currentPage:pageNumber})}),_defineProperty(_handleActions,_actions.pageSizeChanged,function(state,action){var pageSize=action.payload.pageSize;return _extends({},state,{pageSize:pageSize})}),_handleActions),defaultState)},5467:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5468),__webpack_require__(5469),__webpack_require__(5498)},5468:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95),_constants=__webpack_require__(392);_management.management.getSection("elasticsearch").register("license_management",{visible:!0,display:"License Management",order:4,url:"#"+_constants.BASE_PATH+"home"})},5469:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(17),_reactRedux=__webpack_require__(25),_reactRouterDom=__webpack_require__(158),_app=__webpack_require__(5470),_app2=_interopRequireDefault(_app),_base_path=__webpack_require__(733),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_xpack_info=__webpack_require__(46),_main=__webpack_require__(5494),_main2=_interopRequireDefault(_main),_store=__webpack_require__(5495),renderReact=function(elem,store){(0,_reactDom.render)(_react2.default.createElement(_reactRedux.Provider,{store:store},_react2.default.createElement(_reactRouterDom.HashRouter,null,_react2.default.createElement(_app2.default,null))),elem)},manageAngularLifecycle=function($scope,$route,elem){var lastRoute=$route.current,deregister=$scope.$on("$locationChangeSuccess",function(){var currentRoute=$route.current;lastRoute.$$route.template===currentRoute.$$route.template&&($route.current=lastRoute)});$scope.$on("$destroy",function(){deregister&&deregister(),elem&&(0,_reactDom.unmountComponentAtNode)(elem)})};_routes2.default.when(_base_path.BASE_PATH+":view?",{template:_main2.default,controllerAs:"licenseManagement",controller:function LicenseManagementController($injector,$window,$rootScope,$scope,$route,kbnUrl){_classCallCheck(this,LicenseManagementController);var autoLogout=null;try{autoLogout=$injector.get("autoLogout")}catch(e){autoLogout=function(){}}$scope.$$postDigest(function(){var elem=document.getElementById("licenseReactRoot"),xPackInfo=(0,_xpack_info.XPackInfoProvider)($window,$injector,$injector.get("Private")),initialState={license:xPackInfo.get("license")},kbnUrlWrapper={change:function(url){kbnUrl.change(url),$rootScope.$digest()}},services={autoLogout:autoLogout,xPackInfo:xPackInfo,kbnUrl:kbnUrlWrapper},store=(0,_store.licenseManagementStore)(initialState,services);renderReact(elem,store),manageAngularLifecycle($scope,$route,elem)})}})},5470:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_sections=__webpack_require__(5471),_reactRouterDom=__webpack_require__(158),_constants=__webpack_require__(392),_eui=__webpack_require__(5);exports.default=function(){return _react2.default.createElement(_eui.EuiPage,{className:"licenseManagement"},_react2.default.createElement(_eui.EuiPageBody,{className:"licenseManagement__pageBody"},_react2.default.createElement(_reactRouterDom.Switch,null,_react2.default.createElement(_reactRouterDom.Route,{path:_constants.BASE_PATH+"upload_license",component:_sections.UploadLicense}),_react2.default.createElement(_reactRouterDom.Route,{path:""+_constants.BASE_PATH,component:_sections.LicenseDashboard}))))},module.exports=exports.default},5471:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _license_dashboard=__webpack_require__(5472);Object.defineProperty(exports,"LicenseDashboard",{enumerable:!0,get:function(){return _license_dashboard.LicenseDashboard}});var _upload_license=__webpack_require__(5491);Object.defineProperty(exports,"UploadLicense",{enumerable:!0,get:function(){return _upload_license.UploadLicense}})},5472:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _license_dashboard=__webpack_require__(5473);Object.defineProperty(exports,"LicenseDashboard",{enumerable:!0,get:function(){return _license_dashboard.LicenseDashboard}})},5473:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicenseDashboard=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_license_status=__webpack_require__(5474),_revert_to_basic=__webpack_require__(5481),_start_trial=__webpack_require__(5484),_add_license=__webpack_require__(5487),_request_trial_extension=__webpack_require__(5488),_eui=__webpack_require__(5);exports.LicenseDashboard=function(){return _react2.default.createElement("div",{className:"licenseManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_license_status.LicenseStatus,null)),_react2.default.createElement(_eui.EuiSpacer,{size:"l"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_add_license.AddLicense,null)),_react2.default.createElement(_start_trial.StartTrial,null),_react2.default.createElement(_request_trial_extension.RequestTrialExtension,null),_react2.default.createElement(_revert_to_basic.RevertToBasic,null)))}},5474:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _license_status=__webpack_require__(5475);Object.defineProperty(exports,"LicenseStatus",{enumerable:!0,get:function(){return _license_status.LicenseStatus}})},5475:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicenseStatus=void 0;var _license_status=__webpack_require__(1282),_reactRedux=__webpack_require__(25),_licenseManagement=__webpack_require__(333),mapStateToProps=function(state){var _getLicense=(0,_licenseManagement.getLicense)(state),isActive=_getLicense.isActive,type=_getLicense.type,typeTitleCase=type.charAt(0).toUpperCase()+type.substr(1).toLowerCase();return{status:isActive?"Active":"Inactive",type:typeTitleCase,isExpired:(0,_licenseManagement.isExpired)(state),expiryDate:(0,_licenseManagement.getExpirationDateFormatted)(state)}};exports.LicenseStatus=(0,_reactRedux.connect)(mapStateToProps)(_license_status.LicenseStatus)},5476:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.license=void 0;var _reduxActions=__webpack_require__(30),_add_license=__webpack_require__(1551);exports.license=(0,_reduxActions.handleActions)(function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},_add_license.addLicense,function(state,_ref){return _ref.payload}),{})},5477:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uploadStatus=void 0;var _reduxActions=__webpack_require__(30),_upload_license=__webpack_require__(1552);exports.uploadStatus=(0,_reduxActions.handleActions)(function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},_upload_license.uploadLicenseStatus,function(state,_ref){return _ref.payload}),{})},5478:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.startBasicStatus=void 0;var _handleActions,_reduxActions=__webpack_require__(30),_start_basic=__webpack_require__(1553);exports.startBasicStatus=(0,_reduxActions.handleActions)((_handleActions={},_defineProperty(_handleActions,_start_basic.startBasicLicenseStatus,function(state,_ref){return _ref.payload}),_defineProperty(_handleActions,_start_basic.cancelStartBasicLicense,function(){return{}}),_handleActions),{})},5479:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.uploadErrorMessage=void 0;var _reduxActions=__webpack_require__(30),_add_error_message=__webpack_require__(831);exports.uploadErrorMessage=(0,_reduxActions.handleActions)(function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},_add_error_message.addUploadErrorMessage,function(state,_ref){return _ref.payload}),"")},5480:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trialStatus=void 0;var _reduxActions=__webpack_require__(30),_start_trial=__webpack_require__(1554);exports.trialStatus=(0,_reduxActions.handleActions)(function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},_start_trial.trialStatusLoaded,function(state,_ref){return{canStartTrial:_ref.payload}}),{})},5481:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _revert_to_basic=__webpack_require__(5482);Object.defineProperty(exports,"RevertToBasic",{enumerable:!0,get:function(){return _revert_to_basic.RevertToBasic}})},5482:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RevertToBasic=void 0;var _reactRedux=__webpack_require__(25),_revert_to_basic=__webpack_require__(5483),_licenseManagement=__webpack_require__(333),_start_basic=__webpack_require__(1553),mapStateToProps=function(state){return{shouldShowRevertToBasicLicense:(0,_licenseManagement.shouldShowRevertToBasicLicense)(state),licenseType:(0,_licenseManagement.getLicenseType)(state),needsAcknowledgement:(0,_licenseManagement.startBasicLicenseNeedsAcknowledgement)(state),messages:(0,_licenseManagement.getStartBasicMessages)(state)}},mapDispatchToProps={startBasicLicense:_start_basic.startBasicLicense,cancelStartBasicLicense:_start_basic.cancelStartBasicLicense};exports.RevertToBasic=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_revert_to_basic.RevertToBasic)},5483:function(module,exports,__webpack_require__){"use strict";function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RevertToBasic=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.RevertToBasic=function(_React$PureComponent){function RevertToBasic(){var _ref,_temp,_this,_ret;_classCallCheck(this,RevertToBasic);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=RevertToBasic.__proto__||Object.getPrototypeOf(RevertToBasic)).call.apply(_ref,[this].concat(args))),_this.cancel=function(){_this.props.uploadLicenseStatus({})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(RevertToBasic,_React$PureComponent),_createClass(RevertToBasic,[{key:"acknowledgeModal",value:function(){var _props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1),startBasicLicense=_props.startBasicLicense,cancelStartBasicLicense=_props.cancelStartBasicLicense,licenseType=_props.licenseType;return needsAcknowledgement?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm Revert to Basic License",onCancel:cancelStartBasicLicense,onConfirm:function(){return startBasicLicense(licenseType,!0)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)})))))):null}},{key:"render",value:function(){var _props2=this.props,licenseType=_props2.licenseType,shouldShowRevertToBasicLicense=_props2.shouldShowRevertToBasicLicense,startBasicLicense=_props2.startBasicLicense;if(!shouldShowRevertToBasicLicense)return null;var description=_react2.default.createElement("span",null,"You’ll revert to our free features and lose access to security, machine learning and other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features"),".");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Revert to Basic license",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:function(){return startBasicLicense(licenseType)}},"Revert to Basic")}))}}]),RevertToBasic}(_react2.default.PureComponent)},5484:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _start_trial=__webpack_require__(5485);Object.defineProperty(exports,"StartTrial",{enumerable:!0,get:function(){return _start_trial.StartTrial}})},5485:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StartTrial=void 0;var _reactRedux=__webpack_require__(25),_start_trial=__webpack_require__(5486),_start_trial2=__webpack_require__(1554),_licenseManagement=__webpack_require__(333),mapStateToProps=function(state){return{shouldShowStartTrial:(0,_licenseManagement.shouldShowStartTrial)(state)}},mapDispatchToProps={loadTrialStatus:_start_trial2.loadTrialStatus,startLicenseTrial:_start_trial2.startLicenseTrial};exports.StartTrial=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_start_trial.StartTrial)},5486:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.StartTrial=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5),_documentation_links=__webpack_require__(254),esBase=_documentation_links.ELASTIC_WEBSITE_URL+"guide/en/elasticsearch/reference/"+_documentation_links.DOC_LINK_VERSION,securityDocumentationLink=esBase+"/security-settings.html";exports.StartTrial=function(_React$PureComponent){function StartTrial(props){_classCallCheck(this,StartTrial);var _this=_possibleConstructorReturn(this,(StartTrial.__proto__||Object.getPrototypeOf(StartTrial)).call(this,props));return _this.state={showConfirmation:!1},_this}return _inherits(StartTrial,_React$PureComponent),_createClass(StartTrial,[{key:"componentWillMount",value:function(){this.props.loadTrialStatus()}},{key:"acknowledgeModal",value:function(){var _this2=this;if(!this.state.showConfirmation)return null;var startLicenseTrial=this.props.startLicenseTrial;return _react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Start your free 30-day trial",onCancel:function(){return _this2.setState({showConfirmation:!1})},onConfirm:function(){return startLicenseTrial()},cancelButtonText:"Cancel",confirmButtonText:"Start my trial"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("p",null,"This trial is for the full set of"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," of the Elastic Stack. You'll get immediate access to:"),_react2.default.createElement("ul",null,_react2.default.createElement("li",null,"Machine learning"),_react2.default.createElement("li",null,"Alerting"),_react2.default.createElement("li",null,"Graph capabilities"),_react2.default.createElement("li",null,"JDBC connectivity for SQL")),_react2.default.createElement("p",null,"Security features, such as authentication (native, AD/LDAP, SAML, PKI), role-based access control, and auditing, require configuration. See the"," ",_react2.default.createElement(_eui.EuiLink,{href:securityDocumentationLink,target:"_blank"},"documentation")," ","for instructions."),_react2.default.createElement("p",null,"By starting this trial, you agree that it is subject to these"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://elastic.co/legal/trial_license",target:"_blank"},"terms and conditions"),".")))))}},{key:"render",value:function(){var _this3=this;if(!this.props.shouldShowStartTrial)return null;var description=_react2.default.createElement("span",null,"Experience what security, machine learning, and all our other"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"Platinum features")," ","have to offer."),footer=_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"startTrialButton",onClick:function(){return _this3.setState({showConfirmation:!0})}},"Start trial");return _react2.default.createElement(_eui.EuiFlexItem,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiCard,{title:"Start a 30-day trial",description:description,footer:footer}))}}]),StartTrial}(_react2.default.PureComponent)},5487:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _add_license=__webpack_require__(1283);Object.defineProperty(exports,"AddLicense",{enumerable:!0,get:function(){return _add_license.AddLicense}})},5488:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _request_trial_extension=__webpack_require__(5489);Object.defineProperty(exports,"RequestTrialExtension",{enumerable:!0,get:function(){return _request_trial_extension.RequestTrialExtension}})},5489:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestTrialExtension=void 0;var _reactRedux=__webpack_require__(25),_request_trial_extension=__webpack_require__(5490),_licenseManagement=__webpack_require__(333),mapStateToProps=function(state){return{shouldShowRequestTrialExtension:(0,_licenseManagement.shouldShowRequestTrialExtension)(state)}};exports.RequestTrialExtension=(0,_reactRedux.connect)(mapStateToProps)(_request_trial_extension.RequestTrialExtension)},5490:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestTrialExtension=void 0;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_eui=__webpack_require__(5);exports.RequestTrialExtension=function(_ref){if(!_ref.shouldShowRequestTrialExtension)return null;var description=_react2.default.createElement("span",null,"If you’d like to continuing using Security, Machine Learning, and our other awesome"," ",_react2.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/subscriptions/xpack",target:"_blank"},"platinum features"),", request an extension now.");return _react2.default.createElement(_eui.EuiFlexItem,null,_react2.default.createElement(_eui.EuiCard,{title:"Extend your trial",description:description,footer:_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"extendTrialButton",style:{marginTop:"auto"},target:"_blank",href:"https://www.elastic.co/trialextension"},"Extend trial")}))}},5491:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _upload_license=__webpack_require__(5492);Object.defineProperty(exports,"UploadLicense",{enumerable:!0,get:function(){return _upload_license.UploadLicense}})},5492:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UploadLicense=void 0;var _reactRedux=__webpack_require__(25),_upload_license=__webpack_require__(1552),_add_error_message=__webpack_require__(831),_licenseManagement=__webpack_require__(333),_upload_license2=__webpack_require__(5493),mapStateToProps=function(state){return{isInvalid:(0,_licenseManagement.isInvalid)(state),needsAcknowledgement:(0,_licenseManagement.uploadNeedsAcknowledgement)(state),messages:(0,_licenseManagement.uploadMessages)(state),errorMessage:(0,_licenseManagement.getUploadErrorMessage)(state),applying:(0,_licenseManagement.isApplying)(state),currentLicenseType:(0,_licenseManagement.getLicenseType)(state)||""}},mapDispatchToProps={addUploadErrorMessage:_add_error_message.addUploadErrorMessage,uploadLicense:_upload_license.uploadLicense,uploadLicenseStatus:_upload_license.uploadLicenseStatus};exports.UploadLicense=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(_upload_license2.UploadLicense)},5493:function(module,exports,__webpack_require__){"use strict";function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UploadLicense=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_constants=__webpack_require__(392),_eui=__webpack_require__(5);exports.UploadLicense=function(_React$PureComponent){function UploadLicense(){var _ref,_temp,_this,_ret;_classCallCheck(this,UploadLicense);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=UploadLicense.__proto__||Object.getPrototypeOf(UploadLicense)).call.apply(_ref,[this].concat(args))),_this.send=function(acknowledge){var file=_this.file,fr=new FileReader;fr.onload=function(_ref2){var result=_ref2.target.result;_this.props.uploadLicense(result,_this.props.currentLicenseType,acknowledge)},fr.readAsText(file)},_this.cancel=function(){_this.props.uploadLicenseStatus({})},_this.handleFile=function(_ref3){var _ref4=_slicedToArray(_ref3,1),file=_ref4[0];file&&_this.props.addUploadErrorMessage(""),_this.file=file},_this.submit=function(event){event.preventDefault(),_this.file?_this.send():_this.props.addUploadErrorMessage("You must select a license file.")},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(UploadLicense,_React$PureComponent),_createClass(UploadLicense,[{key:"acknowledgeModal",value:function(){var _this2=this,_props=this.props,needsAcknowledgement=_props.needsAcknowledgement,_props$messages=_props.messages;_props$messages=void 0===_props$messages?[]:_props$messages;var _props$messages2=_toArray(_props$messages),firstLine=_props$messages2[0],messages=_props$messages2.slice(1);return needsAcknowledgement?_react2.default.createElement(_eui.EuiOverlayMask,null,_react2.default.createElement(_eui.EuiConfirmModal,{title:"Confirm License Upload",onCancel:this.cancel,onConfirm:function(){return _this2.send(!0)},cancelButtonText:"Cancel",confirmButtonText:"Confirm"},_react2.default.createElement("div",null,_react2.default.createElement(_eui.EuiText,null,firstLine),_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement("ul",null,messages.map(function(message){return _react2.default.createElement("li",{key:message},message)})))))):null}},{key:"errorMessage",value:function(){var errorMessage=this.props.errorMessage;return errorMessage?[errorMessage]:null}},{key:"render",value:function(){var _props2=this.props,currentLicenseType=_props2.currentLicenseType,applying=_props2.applying;return _react2.default.createElement("div",{className:"licenseManagement__contain"},_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiTitle,{size:"l"},_react2.default.createElement("h1",null,"Upload your license")))),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiPanel,null,this.acknowledgeModal(),_react2.default.createElement(_eui.EuiText,null,"Your license key is a JSON file with a signature attached."),_react2.default.createElement(_eui.EuiText,null,"Uploading a license will replace your current"," ",_react2.default.createElement("strong",null,currentLicenseType.toUpperCase())," license."),_react2.default.createElement(_eui.EuiSpacer,null),_react2.default.createElement(_eui.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},_react2.default.createElement(_eui.EuiText,null,_react2.default.createElement(_eui.EuiFilePicker,{id:"licenseFile",initialPromptText:"Select or drag your license file",onChange:this.handleFile})),_react2.default.createElement(_eui.EuiSpacer,{size:"m"}),_react2.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButtonEmpty,{href:"#"+_constants.BASE_PATH+"home"},"Cancel")),_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:!0,isLoading:applying,onClick:this.submit},applying?"Uploading...":"Upload"))))))}}]),UploadLicense}(_react2.default.PureComponent)},5494:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/license_management">\n  <div id="licenseReactRoot" class="licenseFeature"></div>\n</kbn-management-app>\n'},5495:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _store=__webpack_require__(5496);Object.defineProperty(exports,"licenseManagementStore",{enumerable:!0,get:function(){return _store.licenseManagementStore}})},5496:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.licenseManagementStore=void 0;var _redux=__webpack_require__(117),_reduxThunk=__webpack_require__(393),_reduxThunk2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_reduxThunk),_reducers=__webpack_require__(5497);exports.licenseManagementStore=function(){var initialState=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},services=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},enhancers=[(0,_redux.applyMiddleware)(_reduxThunk2.default.withExtraArgument(services))];return window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__()),(0,_redux.createStore)(_reducers.licenseManagement,initialState,_redux.compose.apply(void 0,enhancers))}},5497:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _licenseManagement=__webpack_require__(333);Object.defineProperty(exports,"licenseManagement",{enumerable:!0,get:function(){return _licenseManagement.licenseManagement}})},5498:function(module,exports){},5499:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5500)},5500:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function($injector){if($injector.get("logstashLicenseService").enableLinks)return{id:"management_logstash",title:"Logstash Pipelines",description:"Create, delete, update, and clone data ingestion pipelines.",icon:"/plugins/logstash/assets/app_pipeline.svg",path:"/app/kibana#/management/logstash/pipelines",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5501:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5502)},5502:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_pipeline_edit_route=__webpack_require__(5503),_pipeline_edit_route2=_interopRequireDefault(_pipeline_edit_route);__webpack_require__(5504),__webpack_require__(555),__webpack_require__(5519),__webpack_require__(5522),__webpack_require__(5531);var _update_management_sections=__webpack_require__(5534),_pipeline=__webpack_require__(1555);_routes2.default.when("/management/logstash/pipelines/pipeline/:id/edit").when("/management/logstash/pipelines/new-pipeline").defaults(/management\/logstash\/pipelines\/(new-pipeline|pipeline\/:id\/edit)/,{template:_pipeline_edit_route2.default,controller:function PipelineEditRouteController($injector){_classCallCheck(this,PipelineEditRouteController);var $route=$injector.get("$route");this.pipeline=$route.current.locals.pipeline,this.isUpgraded=$route.current.locals.isUpgraded},controllerAs:"pipelineEditRoute",resolve:{logstashTabs:function($injector){var $route=$injector.get("$route"),pipelineId=$route.current.params.id;(0,_update_management_sections.updateLogstashSections)(pipelineId)},pipeline:function($injector){var $route=$injector.get("$route"),pipelineService=$injector.get("pipelineService"),licenseService=$injector.get("logstashLicenseService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Logstash"}),pipelineId=$route.current.params.id;return pipelineId?pipelineService.loadPipeline(pipelineId).then(function(pipeline){return $route.current.params.clone?pipeline.clone:pipeline}).catch(function(err){return licenseService.checkValidity().then(function(){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/logstash/pipelines"),Promise.reject()})}):new _pipeline.Pipeline},checkLicense:function($injector){return $injector.get("logstashLicenseService").checkValidity()},isUpgraded:function($injector){return $injector.get("upgradeService").executeUpgrade()}}}),_routes2.default.when("/management/logstash/pipelines/pipeline/:id",{redirectTo:"/management/logstash/pipelines/pipeline/:id/edit"})},5503:function(module,exports){module.exports='<pipeline-edit\n  ng-if="pipelineEditRoute.isUpgraded"\n  pipeline="pipelineEditRoute.pipeline"\n></pipeline-edit>\n\n<upgrade-failure\n  ng-if="!pipelineEditRoute.isUpgraded"\n  pipeline="pipelineEditRoute.pipeline"\n></upgrade-failure>\n'},5504:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5505)},5505:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_pipeline_service=__webpack_require__(5506);_modules.uiModules.get("xpack/logstash").factory("pipelineService",function($injector){var $http=$injector.get("$http"),pipelinesService=$injector.get("pipelinesService");return new _pipeline_service.PipelineService($http,pipelinesService)})},5506:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(202),_pipeline=__webpack_require__(1555);exports.PipelineService=function(){function PipelineService($http,pipelinesService){_classCallCheck(this,PipelineService),this.$http=$http,this.pipelinesService=pipelinesService,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(PipelineService,[{key:"loadPipeline",value:function(id){return this.$http.get(this.basePath+"/pipeline/"+id).then(function(response){return _pipeline.Pipeline.fromUpstreamJSON(response.data)})}},{key:"savePipeline",value:function(pipelineModel){return this.$http.put(this.basePath+"/pipeline/"+pipelineModel.id,pipelineModel.upstreamJSON).catch(function(e){throw e.data.message})}},{key:"deletePipeline",value:function(id){var _this=this;return this.$http.delete(this.basePath+"/pipeline/"+id).then(function(){return _this.pipelinesService.addToRecentlyDeleted(id)}).catch(function(e){throw e.data.message})}}]),PipelineService}()},5507:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.INDEX_NAMES={PIPELINES:".logstash"}},5508:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TYPE_NAMES={PIPELINES:"doc"}},5509:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ROUTES={API_ROOT:"/api/logstash",MONITORING_API_ROOT:"/api/monitoring"}},5510:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PAGINATION={PAGE_SIZE:20}},5511:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PLUGIN={ID:"logstash"}},5512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},5513:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.TOOLTIPS={settings:{"pipeline.workers":"The number of workers that will, in parallel, execute the filter and output stages of the pipeline. If you find that events are backing up, or that the CPU is not saturated, consider increasing this number to better utilize machine processing power.\n\nDefault value: Number of the host’s CPU cores","pipeline.batch.size":"The maximum number of events an individual worker thread will collect from inputs before attempting to execute its filters and outputs. Larger batch sizes are generally more efficient, but come at the cost of increased memory overhead. You may have to increase the JVM heap size by setting the LS_HEAP_SIZE variable to effectively use the option.\n\nDefault value: 125","pipeline.batch.delay":"When creating pipeline event batches, how long in milliseconds to wait for each event before dispatching an undersized batch to pipeline workers.\n\nDefault value: 50ms","queue.type":"The internal queuing model to use for event buffering. Specify memory for legacy in-memory based queuing, or persisted for disk-based ACKed queueing\n\nDefault value: memory","queue.max_bytes":"The total capacity of the queue in number of bytes. Make sure the capacity of your disk drive is greater than the value you specify here.\n\nDefault value: 1024mb (1g)","queue.checkpoint.writes":"The maximum number of written events before forcing a checkpoint when persistent queues are enabled. Specify 0 to set this value to unlimited.\n\nDefault value: 1024"}}},5514:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PIPELINE={ORIGIN:{CCM:"centralized_configuration_management",OTHER:"file_or_command_line_interface_or_pipelines_yml"}}},5515:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.MONITORING={ACTIVE_PIPELINE_RANGE_S:30}},5516:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pipeline=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),emptyPipeline="input {\n}\nfilter {\n}\noutput {\n}",settingsDefaults={"pipeline.workers":null,"pipeline.batch.size":125,"pipeline.batch.delay":50,"queue.type":"memory","queue.max_bytes.number":1,"queue.max_bytes.units":"gb","queue.checkpoint.writes":1024};exports.Pipeline=function(){function Pipeline(props){var _this=this;_classCallCheck(this,Pipeline),this.isEqualTo=function(otherPipeline){var cleanPipeline=_extends({},_this),cleanOtherPipeline=_extends({},otherPipeline);return(0,_lodash.isEqual)(cleanPipeline,cleanOtherPipeline)},this.id=(0,_lodash.get)(props,"id"),this.description=(0,_lodash.get)(props,"description",""),this.pipeline=(0,_lodash.get)(props,"pipeline",emptyPipeline),this.username=(0,_lodash.get)(props,"username"),this.settings=(0,_lodash.defaultsDeep)((0,_lodash.get)(props,"settings",{}),settingsDefaults)}return _createClass(Pipeline,[{key:"clone",get:function(){return new Pipeline(_extends({},(0,_lodash.omit)(this,["id","username"])))}},{key:"upstreamJSON",get:function(){var settings=this.settings,maxBytesNumber=(0,_lodash.get)(settings,"queue.max_bytes.number"),maxBytesUnits=(0,_lodash.get)(settings,"queue.max_bytes.units"),upstreamSettings=_extends({},settings);return maxBytesNumber&&maxBytesUnits&&(delete upstreamSettings["queue.max_bytes.number"],delete upstreamSettings["queue.max_bytes.units"],upstreamSettings["queue.max_bytes"]=""+maxBytesNumber+maxBytesUnits),{description:this.description,pipeline:this.pipeline,username:this.username,settings:upstreamSettings}}}],[{key:"fromUpstreamJSON",value:function(pipeline){var settings=pipeline.settings,maxBytesStr=(0,_lodash.get)(settings,"queue.max_bytes",""),maxBytesParts=maxBytesStr.match(/(\d+)(\w+)/);if(Array.isArray(maxBytesParts)&&3===maxBytesParts.length){var maxBytesNumber=maxBytesParts[1],maxBytesUnits=maxBytesParts[2];maxBytesNumber&&maxBytesUnits&&(delete settings["queue.max_bytes"],settings["queue.max_bytes.number"]=parseInt(maxBytesNumber),settings["queue.max_bytes.units"]=maxBytesUnits)}return new Pipeline({id:pipeline.id,description:pipeline.description,pipeline:pipeline.pipeline,username:pipeline.username,settings:settings})}}]),Pipeline}()},5517:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_xpack_info=__webpack_require__(46);__webpack_require__(105);var _logstash_license_service=__webpack_require__(5518);_modules.uiModules.get("xpack/logstash").factory("logstashLicenseService",function($injector){var Private=$injector.get("Private"),xpackInfoService=Private(_xpack_info.XPackInfoProvider),kbnUrlService=$injector.get("kbnUrl"),$timeout=$injector.get("$timeout");return new _logstash_license_service.LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout)})},5518:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogstashLicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(202),_notify=__webpack_require__(10);exports.LogstashLicenseService=function(){function LogstashLicenseService(xpackInfoService,kbnUrlService,$timeout){_classCallCheck(this,LogstashLicenseService),this.xpackInfoService=xpackInfoService,this.kbnUrlService=kbnUrlService,this.$timeout=$timeout,this.notifier=new _notify.Notifier({location:"Logstash"})}return _createClass(LogstashLicenseService,[{key:"notifyAndRedirect",value:function(){this.notifier.error(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")),this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){return _this.isAvailable?resolve():(_this.notifyAndRedirect(),reject())},10)})}},{key:"enableLinks",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"isReadOnly",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isReadOnly"))}},{key:"message",get:function(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]),LogstashLicenseService}()},5519:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5520)},5520:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_upgrade_service=__webpack_require__(5521);_modules.uiModules.get("xpack/logstash").factory("upgradeService",function($injector){var $http=$injector.get("$http");return new _upgrade_service.UpgradeService($http)})},5521:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpgradeService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(202);exports.UpgradeService=function(){function UpgradeService($http){_classCallCheck(this,UpgradeService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(UpgradeService,[{key:"executeUpgrade",value:function(){return this.$http.post(this.basePath+"/upgrade").then(function(response){return response.data.is_upgraded}).catch(function(e){throw e.data.message})}}]),UpgradeService}()},5522:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5523)},5523:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_notify=__webpack_require__(10),_pipeline_edit=__webpack_require__(5524),_pipeline_edit2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_pipeline_edit);__webpack_require__(555),__webpack_require__(1556),__webpack_require__(5527),__webpack_require__(1557);var _constants=__webpack_require__(202);__webpack_require__(106),_modules.uiModules.get("xpack/logstash").directive("pipelineEdit",function($injector){var pipelineService=$injector.get("pipelineService"),licenseService=$injector.get("logstashLicenseService"),securityService=$injector.get("logstashSecurityService"),kbnUrl=$injector.get("kbnUrl"),confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_pipeline_edit2.default,scope:{pipeline:"="},bindToController:!0,controllerAs:"pipelineEdit",controller:function(_InitAfterBindingsWor){function PipelineEditController(){var _ref,_temp,_this,_ret;_classCallCheck(this,PipelineEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=PipelineEditController.__proto__||Object.getPrototypeOf(PipelineEditController)).call.apply(_ref,[this].concat(args))),_this.onPipelineSave=function(username){return _this.pipeline.username=username,pipelineService.savePipeline(_this.pipeline).then(function(){_notify.toastNotifications.addSuccess("Saved '"+_this.pipeline.id+"'"),_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onPipelineDelete=function(pipelineId){var confirmModalOptions={onConfirm:_this.deletePipeline,confirmButtonText:"Delete pipeline "+pipelineId};return confirmModal("You cannot recover a deleted pipeline.",confirmModalOptions)},_this.onClose=function(){_this.close()},_this.deletePipeline=function(){return pipelineService.deletePipeline(_this.pipeline.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.pipeline.id+"'"),_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.close=function(){kbnUrl.change("/management/logstash/pipelines",{})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(PipelineEditController,_InitAfterBindingsWor),_createClass(PipelineEditController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.originalPipeline=_extends({},this.pipeline),this.notifier=new _notify.Notifier({location:"Logstash"}),this.isNewPipeline=(0,_lodash.isEmpty)(this.pipeline.id),securityService.isSecurityEnabled?$scope.user=$injector.get("ShieldUser").getCurrent():$scope.user=null,$scope.aceLoaded=function(editor){_this2.editor=editor,editor.setReadOnly(_this2.isReadOnly),editor.getSession().setMode("ace/mode/ruby"),editor.setOptions({minLines:25,maxLines:1/0}),editor.$blockScrolling=1/0},this.isReadOnly&&_notify.toastNotifications.addWarning(licenseService.message),this.tooltips=_constants.TOOLTIPS}},{key:"isSaveEnabled",get:function(){return!(this.form.$invalid||this.jsonForm.$invalid)}},{key:"isReadOnly",get:function(){return licenseService.isReadOnly}}]),PipelineEditController}(_compat.InitAfterBindingsWorkaround)}})},5524:function(module,exports){module.exports='<kbn-management-app\n  section="logstash/pipelines/pipeline"\n  omit-breadcrumb-pages="[\'pipeline\']"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth" data-test-subj="pipelineEdit pipelineEdit-{{pipelineEdit.pipeline.id}}">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              class="kuiButton kuiButton--primary"\n              ng-disabled="pipelineEdit.isReadOnly || !pipelineEdit.isSaveEnabled"\n              ng-click="pipelineEdit.onPipelineSave(user.username)"\n              data-test-subj="btnSavePipeline"\n            >\n              <span ng-if="pipelineEdit.isNewPipeline">Create</span>\n              <span ng-if="!pipelineEdit.isNewPipeline">Save</span>\n              and deploy\n            </button>\n            <button\n              class="kuiButton kuiButton--basic"\n              ng-click="pipelineEdit.onClose()"\n              data-test-subj="btnCancel"\n            >\n              Cancel\n            </button>\n            <button\n              ng-if="!pipelineEdit.isNewPipeline"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-click="pipelineEdit.onPipelineDelete(pipelineEdit.pipeline.id)"\n              ng-disabled="pipelineEdit.isReadOnly"\n              tooltip="Delete Pipeline"\n              data-test-subj="btnDeletePipeline"\n            >\n              Delete pipeline\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <form name="pipelineEdit.form" novalidate>\n        <div ng-show="pipelineEdit.isNewPipeline"\n          class="kuiFormSection">\n          <label\n            for="id"\n            class="kuiFormLabel"\n          >\n            Pipeline ID\n          </label>\n          <input\n            type="text"\n            ng-class="::pipelineEdit.isNewPipeline ? \'kuiTextInput fullWidth\' : \'kuiStaticInput\'"\n            ng-disabled="pipelineEdit.isReadOnly || !pipelineEdit.isNewPipeline"\n            id="id"\n            name="id"\n            ng-model="pipelineEdit.pipeline.id"\n            ng-trim="false"\n            pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n            required\n            data-test-subj="inputId"\n          >\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="pipelineEdit.form.id.$error.pattern"\n          >\n            Pipeline ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers\n          </div>\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="pipelineEdit.form.id.$touched && pipelineEdit.form.id.$error.required"\n          >\n            Pipeline ID is required\n          </div>\n        </div>\n        <div class="kuiFormSection">\n          <label\n            for="description"\n            class="kuiFormLabel"\n          >\n            Description\n          </label>\n          <input\n            type="text"\n            class="kuiTextInput fullWidth"\n            id="description"\n            name="description"\n            ng-disabled="pipelineEdit.isReadOnly"\n            ng-model="pipelineEdit.pipeline.description"\n            data-test-subj="inputDescription"\n          >\n        </div>\n      </form>\n      <form name="pipelineEdit.jsonForm" novalidate>\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel"\n          >\n            Pipeline\n          </label>\n          <div\n            class="pipeline-editor"\n            ruby-input\n            require-keys="true"\n            ui-ace="{\n              onLoad: aceLoaded\n            }"\n            ng-model="pipelineEdit.pipeline.pipeline"\n            data-test-subj="acePipeline"\n          ></div>\n        </div>\n      </form>\n\n      \x3c!-- Advanced Options: TODO: create toggle panel? --\x3e\n      <form name="pipelineEdit.advancedOptionsForm" novalidate>\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="workers"\n                class="kuiFormLabel"\n              >\n                Pipeline workers\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.workers\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput kuiTextInput--small"\n                id="workers"\n                name="workers"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.workers\']"\n                data-test-subj="inputWorkers"\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="batchSize"\n                class="kuiFormLabel"\n              >\n                Pipeline batch size\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.batch.size\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="batchSize"\n                name="batchSize"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.batch.size\']"\n                data-test-subj="inputBatchSize"\n              >\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="batchDelay"\n                class="kuiFormLabel"\n              >\n                Pipeline batch delay\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'pipeline.batch.delay\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="batchDelay"\n                name="batchDelay"\n                ng-model="pipelineEdit.pipeline.settings[\'pipeline.batch.delay\']"\n                data-test-subj="inputBatchDelay"\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiFormSection">\n          <div class="kuiFieldGroup">\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueType"\n                class="kuiFormLabel"\n              >\n                Queue type\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.type\']}}"></logstash-tooltip>\n              </label>\n              <select\n                class="kuiSelect"\n                id="queueType"\n                name="queueType"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.type\']"\n                data-test-subj="selectQueueType"\n              >\n                <option\n                  value="memory"\n                  data-test-subj="selectQueueType-memory"\n                >\n                  memory\n                </option>\n                <option\n                  value="persisted"\n                  data-test-subj="selectQueueType-persisted"\n                >\n                  persisted\n                </option>\n              </select>\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueMaxBytesNumber"\n                class="kuiFormLabel"\n              >\n                Queue max bytes\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.max_bytes\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput kuiTextInput--small"\n                id="queueMaxBytesNumber"\n                name="queueMaxBytesNumber"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.max_bytes.number\']"\n                data-test-subj="inputQueueMaxBytesNumber"\n              >\n              <select\n                class="kuiSelect"\n                id="queueMaxBytesUnits"\n                name="queueMaxBytesUnits"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.max_bytes.units\']"\n                data-test-subj="selectQueueMaxBytesUnits"\n              >\n                <option\n                  value="b"\n                  data-test-subj="selectQueueMaxBytesUnits-b"\n                >\n                  bytes\n                </option>\n                <option\n                  value="kb"\n                  data-test-subj="selectQueueMaxBytesUnits-kb"\n                >\n                  kilobytes\n                </option>\n                <option\n                  value="mb"\n                  data-test-subj="selectQueueMaxBytesUnits-mb"\n                >\n                  megabytes\n                </option>\n                <option\n                  value="gb"\n                  data-test-subj="selectQueueMaxBytesUnits-gb"\n                >\n                  gigabytes\n                </option>\n                <option\n                  value="tb"\n                  data-test-subj="selectQueueMaxBytesUnits-tb"\n                >\n                  terabytes\n                </option>\n                <option\n                  value="pb"\n                  data-test-subj="selectQueueMaxBytesUnits-pb"\n                >\n                  petabytes\n                </option>\n              </select>\n            </div>\n            <div class="kuiFieldGroupSection">\n              <label\n                for="queueCheckpointWrites"\n                class="kuiFormLabel"\n              >\n                Queue checkpoint writes\n                <logstash-tooltip text="{{pipelineEdit.tooltips.settings[\'queue.checkpoint.writes\']}}"></logstash-tooltip>\n              </label>\n              <input\n                type="number"\n                class="kuiTextInput"\n                id="queueCheckpointWrites"\n                name="queueCheckpointWrites"\n                ng-model="pipelineEdit.pipeline.settings[\'queue.checkpoint.writes\']"\n                data-test-subj="inputQueueCheckpointWrites"\n              >\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</kbn-management-app>\n'},5525:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_xpack_info=__webpack_require__(46),_logstash_security_service=__webpack_require__(5526);_modules.uiModules.get("xpack/logstash").factory("logstashSecurityService",function($injector){var Private=$injector.get("Private"),xpackInfoService=Private(_xpack_info.XPackInfoProvider);return new _logstash_security_service.LogstashSecurityService(xpackInfoService)})},5526:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.LogstashSecurityService=function(){function LogstashSecurityService(xpackInfoService){_classCallCheck(this,LogstashSecurityService),this.xpackInfoService=xpackInfoService}return _createClass(LogstashSecurityService,[{key:"isSecurityEnabled",get:function(){return Boolean(this.xpackInfoService.get("features.security"))}}]),LogstashSecurityService}()},5527:function(module,exports){},5528:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_tooltip=__webpack_require__(5529),_tooltip2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tooltip);__webpack_require__(5530),_modules.uiModules.get("xpack/logstash").directive("logstashTooltip",function(){return{restrict:"E",template:_tooltip2.default,scope:{text:"@"},bindToController:!0,controllerAs:"tooltip",controller:function TooltipController(){_classCallCheck(this,TooltipController)}}})},5529:function(module,exports){module.exports='<kbn-tooltip text={{tooltip.text}}>\n  <i aria-hidden="true" class="fa fa-question-circle">\n    <span class="logstash-tooltip">{{tooltip.text}}</span>\n  </i>\n</kbn-tooltip>\n'},553:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ESTIMATED_NUMBER_OF_SYSTEM_INDICES=exports.ESTIMATED_NUMBER_OF_SYSTEM_INDICES=100,MAX_NUMBER_OF_MATCHING_INDICES=exports.MAX_NUMBER_OF_MATCHING_INDICES=100;exports.MAX_SEARCH_SIZE=MAX_NUMBER_OF_MATCHING_INDICES+ESTIMATED_NUMBER_OF_SYSTEM_INDICES,exports.PER_PAGE_INCREMENTS=[5,10,20,50],exports.ILLEGAL_CHARACTERS=["\\","/","?",'"',"<",">","|"," "]},5530:function(module,exports){},5531:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5532)},5532:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_upgrade_failure=__webpack_require__(5533),_upgrade_failure2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_upgrade_failure);_modules.uiModules.get("xpack/logstash").directive("upgradeFailure",function($injector){var $route=$injector.get("$route"),kbnUrl=$injector.get("kbnUrl");return{restrict:"E",template:_upgrade_failure2.default,scope:{pipeline:"="},bindToController:!0,controllerAs:"upgradeFailure",controller:function(_InitAfterBindingsWor){function UpgradeController(){var _ref,_temp,_this,_ret;_classCallCheck(this,UpgradeController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=UpgradeController.__proto__||Object.getPrototypeOf(UpgradeController)).call.apply(_ref,[this].concat(args))),_this.onRetry=function(){$route.updateParams({retry:!0}),$route.reload()},_this.onClose=function(){kbnUrl.change("/management/logstash/pipelines",{})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(UpgradeController,_InitAfterBindingsWor),_createClass(UpgradeController,[{key:"initAfterBindings",value:function(){this.isNewPipeline=(0,_lodash.isEmpty)(this.pipeline.id),this.isManualUpgrade=!!$route.current.params.retry}}]),UpgradeController}(_compat.InitAfterBindingsWorkaround)}})},5533:function(module,exports){module.exports='<kbn-management-app\n  section="logstash/pipelines/pipeline"\n  omit-breadcrumb-pages="[\'pipeline\']"\n>\n  <div\n    class="kuiViewContent kuiViewContent--constrainedWidth"\n    data-test-subj="pipelineEdit upgradeFailure"\n  >\n    <div class="kuiNotice">\n      <div class="kuiPanel">\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeader__title">\n            <span ng-if="!upgradeFailure.isManualUpgrade">Time for an upgrade!</span>\n            <span ng-if="upgradeFailure.isManualUpgrade">Upgrade failed</span>\n          </div>\n        </div>\n        <div class="kuiPanelBody">\n          <p\n            class="kuiVerticalRhythm"\n            ng-if="!upgradeFailure.isManualUpgrade"\n          >\n            Before you can\n            <span ng-if="upgradeFailure.isNewPipeline">add a</span>\n            <span ng-if="!upgradeFailure.isNewPipeline">edit this</span>\n            pipeline, we need to upgrade your configuration.\n          </p>\n          <p\n            class="kuiVerticalRhythm"\n            ng-if="upgradeFailure.isManualUpgrade"\n          >\n            This upgrade is required before you can\n            <span ng-if="upgradeFailure.isNewPipeline">add a</span>\n            <span ng-if="!upgradeFailure.isNewPipeline">edit this</span>\n            pipeline.\n          </p>\n          <div class="kuiVerticalRhythm">\n            <button\n              class="kuiButton kuiButton--primary"\n              ng-click="upgradeFailure.onRetry()"\n            >\n              <span class="kuiButton__inner">\n                <span ng-if="!upgradeFailure.isManualUpgrade">Upgrade now</span>\n                <span ng-if="upgradeFailure.isManualUpgrade">Try again</span>\n              </span>\n            </button>\n            <button\n              class="kuiButton"\n              ng-click="upgradeFailure.onClose()"\n            >\n              <span class="kuiButton__inner">\n                <span>Go back</span>\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5534:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _update_logstash_sections=__webpack_require__(5535);Object.defineProperty(exports,"updateLogstashSections",{enumerable:!0,get:function(){return _update_logstash_sections.updateLogstashSections}})},5535:function(module,exports,__webpack_require__){"use strict";function updateLogstashSections(pipelineId){var editSection=_management.management.getSection("logstash/pipelines/pipeline/edit"),newSection=_management.management.getSection("logstash/pipelines/pipeline/new");newSection.hide(),editSection.hide(),pipelineId?(editSection.url="#/management/logstash/pipelines/pipeline/"+pipelineId+"/edit",editSection.show()):newSection.show()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLogstashSections=updateLogstashSections;var _management=__webpack_require__(95)},5536:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5537),__webpack_require__(5538)},5537:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95);_management.management.getSection("logstash").register("pipelines",{display:"Pipelines",order:10,url:"#/management/logstash/pipelines/"}),_management.management.getSection("logstash/pipelines").register("pipeline",{visible:!1}),_management.management.getSection("logstash/pipelines/pipeline").register("edit",{display:"Edit pipeline",order:1,visible:!1}),_management.management.getSection("logstash/pipelines/pipeline").register("new",{display:"Create pipeline",order:1,visible:!1})},5538:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_management=__webpack_require__(95),_pipeline_list_route=__webpack_require__(5539),_pipeline_list_route2=_interopRequireDefault(_pipeline_list_route);__webpack_require__(5540),__webpack_require__(555),_routes2.default.when("/management/logstash/pipelines/",{template:_pipeline_list_route2.default}),_routes2.default.defaults(/\/management/,{resolve:{logstashManagementSection:function($injector){var licenseService=$injector.get("logstashLicenseService"),logstashSection=_management.management.getSection("logstash/pipelines");licenseService.enableLinks?(logstashSection.show(),logstashSection.enable()):logstashSection.hide()}}})},5539:function(module,exports){module.exports="<pipeline-list></pipeline-list>\n"},554:function(module,exports){consoleAce.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(require,exports,module){var oop=require("../lib/oop"),TextMode=require("./text").Mode,HighlightRules=(require("../tokenizer").Tokenizer,require("./json_highlight_rules").JsonHighlightRules),MatchingBraceOutdent=require("./matching_brace_outdent").MatchingBraceOutdent,CstyleBehaviour=require("./behaviour/cstyle").CstyleBehaviour,CStyleFoldMode=require("./folding/cstyle").FoldMode,WorkerClient=require("../worker/worker_client").WorkerClient,Mode=function(){this.HighlightRules=HighlightRules,this.$outdent=new MatchingBraceOutdent,this.$behaviour=new CstyleBehaviour,this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode),function(){this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if("start"==state){line.match(/^.*[\{\(\[]\s*$/)&&(indent+=tab)}return indent},this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)},this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)},this.createWorker=function(session){var worker=new WorkerClient(["ace"],"ace/mode/json_worker","JsonWorker");return worker.attachToDocument(session.getDocument()),worker.on("error",function(e){session.setAnnotations([e.data])}),worker.on("ok",function(){session.clearAnnotations()}),worker},this.$id="ace/mode/json"}.call(Mode.prototype),exports.Mode=Mode}),consoleAce.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(require,exports,module){var oop=require("../lib/oop"),TextHighlightRules=require("./text_highlight_rules").TextHighlightRules,JsonHighlightRules=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};oop.inherits(JsonHighlightRules,TextHighlightRules),exports.JsonHighlightRules=JsonHighlightRules}),consoleAce.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(require,exports,module){var Range=require("../range").Range,MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){return!!/^\s+$/.test(line)&&/^\s*\}/.test(input)},this.autoOutdent=function(doc,row){var line=doc.getLine(row),match=line.match(/^(\s*\})/);if(!match)return 0;var column=match[1].length,openBracePos=doc.findMatchingBracket({row:row,column:column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)},this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype),exports.MatchingBraceOutdent=MatchingBraceOutdent}),consoleAce.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(require,exports,module){var oop=require("../../lib/oop"),Behaviour=require("../behaviour").Behaviour,TokenIterator=require("../../token_iterator").TokenIterator,lang=require("../../lib/lang"),SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"],SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"],autoInsertedBrackets=0,autoInsertedRow=-1,autoInsertedLineEnd="",maybeInsertedBrackets=0,maybeInsertedRow=-1,maybeInsertedLineStart="",maybeInsertedLineEnd="",CstyleBehaviour=function(){CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition(),iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return!1}return iterator.stepForward(),iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)},CstyleBehaviour.$matchTokenType=function(token,types){return types.indexOf(token.type||token)>-1},CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isAutoInsertedClosing(cursor,line,autoInsertedLineEnd[0])||(autoInsertedBrackets=0),autoInsertedRow=cursor.row,autoInsertedLineEnd=bracket+line.substr(cursor.column),autoInsertedBrackets++},CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);this.isMaybeInsertedClosing(cursor,line)||(maybeInsertedBrackets=0),maybeInsertedRow=cursor.row,maybeInsertedLineStart=line.substr(0,cursor.column)+bracket,maybeInsertedLineEnd=line.substr(cursor.column),maybeInsertedBrackets++},CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return autoInsertedBrackets>0&&cursor.row===autoInsertedRow&&bracket===autoInsertedLineEnd[0]&&line.substr(cursor.column)===autoInsertedLineEnd},CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return maybeInsertedBrackets>0&&cursor.row===maybeInsertedRow&&line.substr(cursor.column)===maybeInsertedLineEnd&&line.substr(0,cursor.column)==maybeInsertedLineStart},CstyleBehaviour.popAutoInsertedClosing=function(){autoInsertedLineEnd=autoInsertedLineEnd.substr(1),autoInsertedBrackets--},CstyleBehaviour.clearMaybeInsertedClosing=function(){maybeInsertedBrackets=0,maybeInsertedRow=-1},this.add("braces","insertion",function(state,action,editor,session,text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("{"==text){var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"{"!==selected&&editor.getWrapBehavioursEnabled())return{text:"{"+selected+"}",selection:!1};if(CstyleBehaviour.isSaneInsertion(editor,session))return/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode?(CstyleBehaviour.recordAutoInsert(editor,session,"}"),{text:"{}",selection:[1,1]}):(CstyleBehaviour.recordMaybeInsert(editor,session,"{"),{text:"{",selection:[1,1]})}else if("}"==text){var rightChar=line.substring(cursor.column,cursor.column+1);if("}"==rightChar){var matching=session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==text||"\r\n"==text){var closing="";CstyleBehaviour.isMaybeInsertedClosing(cursor,line)&&(closing=lang.stringRepeat("}",maybeInsertedBrackets),CstyleBehaviour.clearMaybeInsertedClosing());var rightChar=line.substring(cursor.column,cursor.column+1);if("}"===rightChar){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else{if(!closing)return;var next_indent=this.$getIndent(line)}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}CstyleBehaviour.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"{"==selected){if("}"==session.doc.getLine(range.start.row).substring(range.end.column,range.end.column+1))return range.end.column++,range;maybeInsertedBrackets--}}),this.add("parens","insertion",function(state,action,editor,session,text){if("("==text){var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return{text:"("+selected+")",selection:!1};if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,")"),{text:"()",selection:[1,1]}}else if(")"==text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if(")"==rightChar){var matching=session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"("==selected){if(")"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2))return range.end.column++,range}}),this.add("brackets","insertion",function(state,action,editor,session,text){if("["==text){var selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&editor.getWrapBehavioursEnabled())return{text:"["+selected+"]",selection:!1};if(CstyleBehaviour.isSaneInsertion(editor,session))return CstyleBehaviour.recordAutoInsert(editor,session,"]"),{text:"[]",selection:[1,1]}}else if("]"==text){var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row),rightChar=line.substring(cursor.column,cursor.column+1);if("]"==rightChar){var matching=session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row});if(null!==matching&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text))return CstyleBehaviour.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&"["==selected){if("]"==session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2))return range.end.column++,range}}),this.add("string_dquotes","insertion",function(state,action,editor,session,text){if('"'==text||"'"==text){var quote=text,selection=editor.getSelectionRange(),selected=session.doc.getTextRange(selection);if(""!==selected&&"'"!==selected&&'"'!=selected&&editor.getWrapBehavioursEnabled())return{text:quote+selected+quote,selection:!1};var cursor=editor.getCursorPosition(),line=session.doc.getLine(cursor.row);if("\\"==line.substring(cursor.column-1,cursor.column))return null;for(var token,tokens=session.getTokens(selection.start.row),col=0,quotepos=-1,x=0;x<tokens.length&&(token=tokens[x],"string"==token.type?quotepos=-1:quotepos<0&&(quotepos=token.value.indexOf(quote)),!(token.value.length+col>selection.start.column));x++)col+=tokens[x].value.length;if(!token||quotepos<0&&"comment"!==token.type&&("string"!==token.type||selection.start.column!==token.value.length+col-1&&token.value.lastIndexOf(quote)===token.value.length-1)){if(!CstyleBehaviour.isSaneInsertion(editor,session))return;return{text:quote+quote,selection:[1,1]}}if(token&&"string"===token.type){if(line.substring(cursor.column,cursor.column+1)==quote)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&('"'==selected||"'"==selected)){if(session.doc.getLine(range.start.row).substring(range.start.column+1,range.start.column+2)==selected)return range.end.column++,range}})};oop.inherits(CstyleBehaviour,Behaviour),exports.CstyleBehaviour=CstyleBehaviour}),consoleAce.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(require,exports,module){var oop=require("../../lib/oop"),Range=require("../../range").Range,BaseFoldMode=require("./fold_mode").FoldMode,FoldMode=exports.FoldMode=function(commentRegex){commentRegex&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end)))};oop.inherits(FoldMode,BaseFoldMode),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var line=session.getLine(row),match=line.match(this.foldingStartMarker);if(match){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);return range&&!range.isMultiLine()&&(forceMultiline?range=this.getSectionRange(session,row):"all"!=foldStyle&&(range=null)),range}if("markbegin"!==foldStyle){var match=line.match(this.foldingStopMarker);if(match){var i=match.index+match[0].length;return match[1]?this.closingBracketBlock(session,match[1],row,i):session.getCommentFoldRange(row,i,-1)}}},this.getSectionRange=function(session,row){var line=session.getLine(row),startIndent=line.search(/\S/),startRow=row,startColumn=line.length;row+=1;for(var endRow=row,maxRow=session.getLength();++row<maxRow;){line=session.getLine(row);var indent=line.search(/\S/);if(-1!==indent){if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange){if(subRange.start.row<=startRow)break;if(subRange.isMultiLine())row=subRange.end.row;else if(startIndent==indent)break}endRow=row}}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)}}.call(FoldMode.prototype)})},5540:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5541)},5541:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_pluralize=__webpack_require__(828),_pluralize2=_interopRequireDefault(_pluralize),_modules=__webpack_require__(2),_notify=__webpack_require__(10),_pipeline_list=__webpack_require__(5542),_pipeline_list2=_interopRequireDefault(_pipeline_list);__webpack_require__(5543);var _constants=__webpack_require__(202);__webpack_require__(308),__webpack_require__(261),__webpack_require__(658),__webpack_require__(556),__webpack_require__(5550),__webpack_require__(555),__webpack_require__(1561),__webpack_require__(1560),_modules.uiModules.get("xpack/logstash").directive("pipelineList",function($injector){var pagerFactory=$injector.get("pagerFactory"),pipelinesService=$injector.get("pipelinesService"),licenseService=$injector.get("logstashLicenseService"),clusterService=$injector.get("xpackLogstashClusterService"),monitoringService=$injector.get("xpackLogstashMonitoringService"),confirmModal=$injector.get("confirmModal"),kbnUrl=$injector.get("kbnUrl"),$filter=$injector.get("$filter"),filter=$filter("filter"),orderBy=$filter("orderBy"),limitTo=$filter("limitTo");return{restrict:"E",template:_pipeline_list2.default,scope:{},controllerAs:"pipelineList",controller:function(){function PipelineListController($scope){var _this=this;_classCallCheck(this,PipelineListController),this.loadPipelines=function(){return pipelinesService.getPipelineList().then(function(pipelines){_this.isLoading=!1,_this.isForbidden=!1,_this.pipelines=pipelines}).catch(function(err){return licenseService.checkValidity().then(function(){403===err.status?(_this.isLoading=!1,_this.isReadOnly?_this.isForbidden=!1:_this.isForbidden=!0):(_this.isForbidden=!1,_this.notifier.error(err))})})},this.checkMonitoringAccess=function(){clusterService.isClusterInfoAvailable().then(function(isAvailable){_this.showAddRoleAlert=!isAvailable,_this.showEnableMonitoringAlert=!monitoringService.isMonitoringEnabled()})},this.onQueryChange=function(query){_this.query=query},this.onPageNext=function(){_this.pager.nextPage()},this.onPagePrevious=function(){_this.pager.previousPage()},this.onSortChange=function(field,reverse){_this.sortField=field,_this.sortReverse=reverse},this.onSelectedPipelinesDelete=function(){var numPipelinesToDelete=_this.selectedPipelines.length,confirmModalText=1===numPipelinesToDelete?"You cannot recover a deleted pipeline.":"Delete "+numPipelinesToDelete+" pipelines? You cannot recover deleted pipelines.",confirmButtonText=1===numPipelinesToDelete?"Delete pipeline "+_this.selectedPipelines[0].id:"Delete "+numPipelinesToDelete+" pipelines",confirmModalOptions={confirmButtonText:confirmButtonText,onConfirm:_this.deleteSelectedPipelines};return confirmModal(confirmModalText,confirmModalOptions)},this.deleteSelectedPipelines=function(){var numPipelinesToDelete=_this.selectedPipelines.length,pipelinesStr=(0,_pluralize2.default)("Pipeline",numPipelinesToDelete),pipelineIds=_this.selectedPipelines.map(function(pipeline){return pipeline.id});return pipelinesService.deletePipelines(pipelineIds).then(function(results){var numSuccesses=results.numSuccesses,numErrors=results.numErrors,numTotal=_this.selectedPipelines.length;if(numSuccesses>0){var text=void 0;numErrors>0&&(text="But "+numErrors+" "+pipelinesStr+" couldn't be deleted"),_notify.toastNotifications.addSuccess({title:"Deleted "+numSuccesses+" out of "+numTotal+" selected "+pipelinesStr,text:text})}else numErrors>0&&_notify.toastNotifications.addError("Couldn't delete any of the "+numTotal+" selected "+pipelinesStr);_this.loadPipelines()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},this.onSelectedChange=function(selectedPipelines){_this.selectedPipelines=selectedPipelines},this.applyFilters=function(){var filteredPipelines=_this.pipelines,pageOfPipelines=[];filteredPipelines=filter(filteredPipelines,{searchValue:_this.query}),filteredPipelines=orderBy(filteredPipelines,_this.sortField,_this.sortReverse),pageOfPipelines=limitTo(filteredPipelines,_this.pager.pageSize,_this.pager.startIndex),_this.pageOfPipelines=pageOfPipelines,_this.pager.setTotalItems(filteredPipelines.length)},this.isForbidden=!0,this.isLoading=!0,this.pipelines=[],this.selectedPipelines=[],this.pageOfPipelines=[],this.sortField="status.sortOrder",this.sortReverse=!1,this.notifier=new _notify.Notifier({location:"Logstash"}),this.pager=pagerFactory.create(this.pipelines.length,_constants.PAGINATION.PAGE_SIZE,1),this.loadPipelines().then(function(){_this.isReadOnly&&_notify.toastNotifications.addWarning(licenseService.message)}),this.checkMonitoringAccess(),$scope.$watchMulti(["pipelineList.pipelines","pipelineList.sortField","pipelineList.sortReverse","pipelineList.query","pipelineList.pager.currentPage"],this.applyFilters)}return _createClass(PipelineListController,[{key:"onNewPipeline",value:function(){kbnUrl.change("/management/logstash/pipelines/new-pipeline")}},{key:"hasPageOfPipelines",get:function(){return this.pageOfPipelines.length>0}},{key:"hasSelectedPipelines",get:function(){return this.selectedPipelines.length>0}},{key:"isReadOnly",get:function(){return licenseService.isReadOnly}}]),PipelineListController}()}})},5542:function(module,exports){module.exports='<kbn-management-app section="logstash">\n  <div class="kuiNotice" ng-show="pipelineList.isForbidden && !pipelineList.isLoading">\n    <div class="kuiNotice__header">\n      <h1 class="kuiNoticeTitle">\n        <span class="fa fa-times kuiIcon--error"></span>\n          You do not have permission to manage Logstash pipelines.\n      </h1>\n      <div class="kuiNoticeText">\n        Please contact your administrator.\n      </div>\n    </div>\n  </div>\n\n  <div\n    class="kuiViewContent kuiViewContent--constrainedWidth"\n    ng-show="!pipelineList.isForbidden"\n    data-test-subj="pipelineList"\n  >\n    <div class="kuiViewContentItem kuiControlledTable kuiVerticalRhythm">\n      <div class="kuiToolBar">\n        <div class="kuiToolBarSearch">\n          <tool-bar-search-box\n            filter="pipelineList.query"\n            on-filter="pipelineList.onQueryChange"\n            data-test-subj="filter"\n          ></tool-bar-search-box>\n        </div>\n\n        <div class="kuiToolBarSection">\n          <button\n            class="kuiButton kuiButton--primary"\n            ng-click="pipelineList.onNewPipeline()"\n            ng-disabled="pipelineList.isReadOnly"\n            data-test-subj="btnAdd"\n          >\n            Create pipeline\n          </button>\n          <button\n            class="kuiButton kuiButton--danger"\n            ng-click="pipelineList.onSelectedPipelinesDelete()"\n            ng-disabled="pipelineList.isReadOnly || !pipelineList.hasSelectedPipelines"\n            data-test-subj="btnDelete"\n          >\n            Delete\n          </button>\n        </div>\n\n        <div class="kuiToolBarSection">\n          <tool-bar-pager-text\n            start-item="pipelineList.pager.startItem"\n            end-item="pipelineList.pager.endItem"\n            total-items="pipelineList.pager.totalItems"\n          ></tool-bar-pager-text>\n          <tool-bar-pager-buttons\n            has-previous-page="pipelineList.pager.hasPreviousPage"\n            has-next-page="pipelineList.pager.hasNextPage"\n            on-page-next="pipelineList.onPageNext"\n            on-page-previous="pipelineList.onPagePrevious"\n          ></tool-bar-pager-buttons>\n        </div>\n      </div>\n\n      <table-info\n        ng-show="pipelineList.isLoading">\n          Loading pipelines\n      </table-info>\n      <table-info\n        ng-show="!pipelineList.isLoading && !pipelineList.hasPageOfPipelines">\n          No pipelines found\n      </table-info>\n\n      <pipeline-table\n        pipelines="pipelineList.pageOfPipelines"\n        sort-field="pipelineList.sortField"\n        sort-reverse="pipelineList.sortReverse"\n        on-sort-change="pipelineList.onSortChange"\n        on-select-change="pipelineList.onSelectedChange"\n        ng-show="!pipelineList.isLoading && pipelineList.hasPageOfPipelines"\n        class="kuiVerticalRhythm"\n      ></pipeline-table>\n\n      <div\n        ng-if="pipelineList.showAddRoleAlert || pipelineList.showEnableMonitoringAlert"\n        data-test-subj="alertCallout"\n        class="kuiPanel kuiVerticalRhythm"\n      >\n        <div class="kuiPanelHeader">\n          <div class="kuiPanelHeaderSection">\n            <div class="kuiPanelHeader__title">\n              <div class="kuiIcon kuiIcon--error fa-warning"></div>\n              <span class="kuiSubTitle">Only pipelines created in Kibana Management appear here</span>\n            </div>\n          </div>\n        </div>\n\n        <div class="kuiPanelBody">\n          <p class="kuiVerticalRhythm">How can I see additional pipelines?</p>\n\n          <ul\n            ng-if="pipelineList.showAddRoleAlert && pipelineList.showEnableMonitoringAlert"\n            class="kuiVerticalRhythm"\n          >\n            <li class="kuiText kuiVerticalRhythmSmall"><strong>Grant additional privileges.</strong> In Kibana Management, assign the <code class="euiCodeBlock euiCodeBlock--inline">monitoring_user</code> role to your Kibana user.</li>\n            <li class="kuiText kuiVerticalRhythmSmall"><strong>Enable monitoring.</strong> In the <code class="euiCodeBlock euiCodeBlock--inline">kibana.yml</code> file, set <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.enabled</code> and <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.ui.enabled</code> to <code class="euiCodeBlock euiCodeBlock--inline">true</code>.</li>\n          </ul>\n\n          <p\n            ng-if="pipelineList.showAddRoleAlert && !pipelineList.showEnableMonitoringAlert"\n            class="kuiVerticalRhythm kuiText"\n          >\n            <strong>Grant additional privileges.</strong> In Kibana Management, assign the <code class="euiCodeBlock euiCodeBlock--inline">monitoring_user</code> role to your Kibana user.\n          </p>\n\n          <p\n            ng-if="pipelineList.showEnableMonitoringAlert && !pipelineList.showAddRoleAlert"\n            class="kuiVerticalRhythm kuiText"\n          >\n            <strong>Enable monitoring.</strong> In the <code class="euiCodeBlock euiCodeBlock--inline">kibana.yml</code> file, set <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.enabled</code> and <code class="euiCodeBlock euiCodeBlock--inline">xpack.monitoring.ui.enabled</code> to <code class="euiCodeBlock euiCodeBlock--inline">true</code>.\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</kbn-management-app>\n'},5543:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5544)},5544:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_momentTimezone=__webpack_require__(109),_momentTimezone2=_interopRequireDefault(_momentTimezone),_modules=__webpack_require__(2);__webpack_require__(257),__webpack_require__(1558),__webpack_require__(690);var _pipeline_table=__webpack_require__(5547),_pipeline_table2=_interopRequireDefault(_pipeline_table);__webpack_require__(1556),__webpack_require__(1557),_modules.uiModules.get("xpack/logstash").directive("pipelineTable",function($injector){var config=$injector.get("config"),securityService=$injector.get("logstashSecurityService");return _momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz")),{restrict:"E",template:_pipeline_table2.default,scope:{pipelines:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"pipelineTable",bindToController:!0,controller:function(){function PipelineTableController($scope){var _this=this;_classCallCheck(this,PipelineTableController),this.onAllSelectedChange=function(itemId,allSelected){_this.items.filter(function(item){return item.pipeline.isCentrallyManaged}).forEach(function(item){return item.selected=allSelected}),_this.updateSelectedPipelines()},this.onPipelineSelectedChange=function(pipelineId,selected){_lodash2.default.find(_this.items,function(item){return item.pipeline.id===pipelineId}).selected=selected,_this.updateSelectedPipelines()},this.updateSelectedPipelines=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected}),selectedPipelines=_lodash2.default.map(selectedItems,function(item){return item.pipeline});_this.allSelected=selectedPipelines.length>0&&selectedPipelines.length===_this.items.filter(function(item){return item.pipeline.isCentrallyManaged}).length,_this.onSelectChange(selectedPipelines)},this.allSelected=!1,$scope.$watch("pipelineTable.pipelines",function(pipelines){var previousItems=_this.items;_this.items=_lodash2.default.map(pipelines,function(pipeline){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.pipeline.id===pipeline.id}),selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{pipeline:pipeline,selected:selected}}),_this.updateSelectedPipelines()})}return _createClass(PipelineTableController,[{key:"isSecurityEnabled",get:function(){return securityService.isSecurityEnabled}}]),PipelineTableController}()}})},5545:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_check_box=__webpack_require__(5546),_check_box2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_check_box);_modules.uiModules.get("kibana").directive("checkBox",function(){return{restrict:"E",replace:!0,template:_check_box2.default,scope:{id:"=",isSelected:"=",onSelectChange:"="},controllerAs:"checkBox",bindToController:!0,controller:function CheckBoxController(){_classCallCheck(this,CheckBoxController)}}})},5546:function(module,exports){module.exports='<input\n  type="checkbox"\n  class="kuiCheckBox"\n  ng-click="checkBox.onSelectChange(checkBox.id, checkBox.isSelected)"\n  ng-model="checkBox.isSelected"\n>\n'},5547:function(module,exports){module.exports='<table class="kuiTable" data-test-subj="pipelineTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <div class="kuiTableHeaderCell__liner">\n          <check-box\n            is-selected="pipelineTable.allSelected"\n            on-select-change="pipelineTable.onAllSelectedChange"\n            data-test-subj="chkSelectAll"\n          ></check-box>\n        </div>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="pipelineTable.onSortChange"\n          sort-field="pipelineTable.sortField"\n          sort-reverse="pipelineTable.sortReverse"\n        >\n          ID\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        Description\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="lastModified.sortOrder"\n          on-sort-change="pipelineTable.onSortChange"\n          sort-field="pipelineTable.sortField"\n          sort-reverse="pipelineTable.sortReverse"\n        >\n          Last modified\n        </sortable-column>\n      </th>\n      <th\n       scope="col"\n       class="kuiTableHeaderCell"\n       ng-show="pipelineTable.isSecurityEnabled"\n      >\n        Modified by\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in pipelineTable.items"\n      class="kuiTableRow"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            ng-if="item.pipeline.isCentrallyManaged"\n            id="item.pipeline.id"\n            is-selected="item.selected"\n            on-select-change="pipelineTable.onPipelineSelectedChange"\n            data-test-subj="chkSelectRow"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            ng-if="item.pipeline.isCentrallyManaged"\n            class="kuiLink"\n            ng-href="#/management/logstash/pipelines/pipeline/{{item.pipeline.id}}/edit"\n            data-test-subj="cellId"\n          >\n            {{item.pipeline.id}}\n          </a>\n          <span ng-if="!item.pipeline.isCentrallyManaged">\n            {{item.pipeline.id}}\n            <logstash-tooltip text="This pipeline wasn\'t created using Centralized Configuration Management. It can\'t be managed or edited here."></logstash-tooltip>\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner" data-test-subj="cellDescription">\n          {{item.pipeline.description}}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner" data-test-subj="cellLastModified">\n          <span title="{{item.pipeline.lastModified | moment}}">\n            {{ item.pipeline.lastModifiedHumanized }}\n          </span>\n        </div>\n      </td>\n      <td\n       class="kuiTableRowCell"\n       ng-show="pipelineTable.isSecurityEnabled"\n      >\n        <div class="kuiTableRowCell__liner" data-test-subj="cellUsername">\n          {{item.pipeline.username}}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              ng-if="item.pipeline.isCentrallyManaged"\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="Clone"\n              ng-href="#/management/logstash/pipelines/pipeline/{{item.pipeline.id}}/edit?clone"\n              data-test-subj="lnkPipelineClone-{{ item.pipeline.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-clone"></span>\n              <span>Clone</span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5548:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_table_info=__webpack_require__(5549),_table_info2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_table_info);_modules.uiModules.get("kibana").directive("tableInfo",function(){return{restrict:"E",replace:!0,template:_table_info2.default,transclude:!0,controllerAs:"tableInfo",bindToController:!0,controller:function TableInfoController(){_classCallCheck(this,TableInfoController)}}})},5549:function(module,exports){module.exports='<div class="kuiPanel kuiPanel--centered kuiPanel--withToolBar">\n  <div\n    class="kuiTableInfo"\n    ng-transclude\n  ></div>\n</div>\n'},555:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5517)},5550:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5551)},5551:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_pipelines_service=__webpack_require__(5552);__webpack_require__(1560),_modules.uiModules.get("xpack/logstash").factory("pipelinesService",function($injector){var $http=$injector.get("$http"),$window=$injector.get("$window"),Promise=$injector.get("Promise"),monitoringService=$injector.get("xpackLogstashMonitoringService");return new _pipelines_service.PipelinesService($http,$window,Promise,monitoringService)})},5552:function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelinesService=void 0;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(202),_pipeline_list_item=__webpack_require__(1559);exports.PipelinesService=function(){function PipelinesService($http,$window,Promise,monitoringService){_classCallCheck(this,PipelinesService),this.$http=$http,this.$window=$window,this.Promise=Promise,this.monitoringService=monitoringService,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(PipelinesService,[{key:"getPipelineList",value:function(){var _this=this;return this.Promise.all([this.getManagementPipelineList(),this.getMonitoringPipelineList()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),managementPipelines=_ref2[0],monitoringPipelines=_ref2[1],now=Date.now(),monitoringPipelineIds=monitoringPipelines.map(function(pipeline){return pipeline.id});_this.getRecentlyDeleted().forEach(function(recentlyDeletedPipeline){now-recentlyDeletedPipeline.deletedOn<1e3*_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S||monitoringPipelineIds.includes(recentlyDeletedPipeline.id)||_this.removeFromRecentlyDeleted(recentlyDeletedPipeline.id)});var managementPipelineIds=managementPipelines.map(function(pipeline){return pipeline.id});return managementPipelines.concat(monitoringPipelines.filter(function(monitoringPipeline){return!managementPipelineIds.includes(monitoringPipeline.id)&&!_this.isRecentlyDeleted(monitoringPipeline.id)}))})}},{key:"getManagementPipelineList",value:function(){return this.$http.get(this.basePath+"/pipelines").then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamJSON(pipeline)})})}},{key:"getMonitoringPipelineList",value:function(){return this.monitoringService.getPipelineList()}},{key:"deletePipelines",value:function(pipelineIds){var _this2=this,requestOpts={data:{pipelineIds:pipelineIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/pipelines",requestOpts).then(function(response){return _this2.addToRecentlyDeleted.apply(_this2,_toConsumableArray(pipelineIds)),response.data.results})}},{key:"addToRecentlyDeleted",value:function(){for(var recentlyDeletedPipelines=this.getRecentlyDeleted(),recentlyDeletedPipelineIds=recentlyDeletedPipelines.map(function(pipeline){return pipeline.id}),_len=arguments.length,pipelineIds=Array(_len),_key=0;_key<_len;_key++)pipelineIds[_key]=arguments[_key];pipelineIds.forEach(function(pipelineId){recentlyDeletedPipelineIds.includes(pipelineId)||recentlyDeletedPipelines.push({id:pipelineId,deletedOn:Date.now()})}),this.setRecentlyDeleted(recentlyDeletedPipelines)}},{key:"removeFromRecentlyDeleted",value:function(){for(var _len2=arguments.length,pipelineIds=Array(_len2),_key2=0;_key2<_len2;_key2++)pipelineIds[_key2]=arguments[_key2];var recentlyDeletedPipelinesToKeep=this.getRecentlyDeleted().filter(function(recentlyDeletedPipeline){return!pipelineIds.includes(recentlyDeletedPipeline.id)});this.setRecentlyDeleted(recentlyDeletedPipelinesToKeep)}},{key:"isRecentlyDeleted",value:function(pipelineId){return this.getRecentlyDeleted().map(function(pipeline){return pipeline.id}).includes(pipelineId)}},{key:"getRecentlyDeleted",value:function(){var recentlyDeletedPipelines=this.$window.localStorage.getItem("xpack.logstash.recentlyDeletedPipelines");return recentlyDeletedPipelines?JSON.parse(recentlyDeletedPipelines):[]}},{key:"setRecentlyDeleted",value:function(recentlyDeletedPipelineIds){this.$window.localStorage.setItem("xpack.logstash.recentlyDeletedPipelines",JSON.stringify(recentlyDeletedPipelineIds))}}]),PipelinesService}()},5553:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineListItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_get_search_value=__webpack_require__(5554),_get_moment=__webpack_require__(5556),_constants=__webpack_require__(202);exports.PipelineListItem=function(){function PipelineListItem(props){_classCallCheck(this,PipelineListItem),this.id=props.id,this.origin=props.origin,this.description=props.description,this.username=props.username,props.lastModified&&(this.lastModified=(0,_get_moment.getMoment)(props.lastModified),this.lastModifiedHumanized=(0,_lodash.capitalize)(this.lastModified.fromNow()))}return _createClass(PipelineListItem,[{key:"searchValue",get:function(){return(0,_get_search_value.getSearchValue)(this,["id"])}},{key:"isCentrallyManaged",get:function(){return this.origin===_constants.PIPELINE.ORIGIN.CCM}}],[{key:"fromUpstreamJSON",value:function(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id","description","username"]);return props.origin=_constants.PIPELINE.ORIGIN.CCM,props.lastModified=pipelineListItem.last_modified,new PipelineListItem(props)}},{key:"fromUpstreamMonitoringJSON",value:function(pipelineListItem){var props=(0,_lodash.pick)(pipelineListItem,["id"]);return props.origin=_constants.PIPELINE.ORIGIN.OTHER,new PipelineListItem(props)}}]),PipelineListItem}()},5554:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_search_value=__webpack_require__(5555);Object.defineProperty(exports,"getSearchValue",{enumerable:!0,get:function(){return _get_search_value.getSearchValue}})},5555:function(module,exports,__webpack_require__){"use strict";function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1)},5556:function(module,exports,__webpack_require__){"use strict";function getMoment(date){return date?(0,_moment2.default)(date):null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMoment=getMoment;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment)},5557:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_monitoring_service=__webpack_require__(5558);__webpack_require__(1561),_modules.uiModules.get("xpack/logstash").factory("xpackLogstashMonitoringService",function($injector){var $http=$injector.get("$http"),Promise=$injector.get("Promise"),monitoringUiEnabled=$injector.has("monitoringUiEnabled")&&$injector.get("monitoringUiEnabled"),clusterService=$injector.get("xpackLogstashClusterService");return new _monitoring_service.MonitoringService($http,Promise,monitoringUiEnabled,clusterService)})},5558:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment),_chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_constants=__webpack_require__(202),_pipeline_list_item=__webpack_require__(1559);exports.MonitoringService=function(){function MonitoringService($http,Promise,monitoringUiEnabled,clusterService){_classCallCheck(this,MonitoringService),this.$http=$http,this.Promise=Promise,this.monitoringUiEnabled=monitoringUiEnabled,this.clusterService=clusterService,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.MONITORING_API_ROOT)}return _createClass(MonitoringService,[{key:"isMonitoringEnabled",value:function(){return this.monitoringUiEnabled}},{key:"getPipelineList",value:function(){var _this=this;return this.isMonitoringEnabled()?this.clusterService.loadCluster().then(function(cluster){var url=_this.basePath+"/v1/clusters/"+cluster.uuid+"/logstash/pipelines",now=_moment2.default.utc(),body={timeRange:{max:now.toISOString(),min:now.subtract(_constants.MONITORING.ACTIVE_PIPELINE_RANGE_S,"seconds").toISOString()}};return _this.$http.post(url,body)}).then(function(response){return response.data.pipelines.map(function(pipeline){return _pipeline_list_item.PipelineListItem.fromUpstreamMonitoringJSON(pipeline)})}).catch(function(){return[]}):Promise.resolve([])}}]),MonitoringService}()},5559:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_cluster_service=__webpack_require__(5560);_modules.uiModules.get("xpack/logstash").factory("xpackLogstashClusterService",function($injector){var $http=$injector.get("$http");return new _cluster_service.ClusterService($http)})},556:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5548)},5560:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClusterService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(202),_cluster=__webpack_require__(5561);exports.ClusterService=function(){function ClusterService($http){_classCallCheck(this,ClusterService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(ClusterService,[{key:"loadCluster",value:function(){return this.$http.get(this.basePath+"/cluster").then(function(response){if(response.data)return _cluster.Cluster.fromUpstreamJSON(response.data.cluster)})}},{key:"isClusterInfoAvailable",value:function(){return this.loadCluster().then(function(cluster){return Boolean(cluster)}).catch(function(){return!1})}}]),ClusterService}()},5561:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _cluster=__webpack_require__(5562);Object.defineProperty(exports,"Cluster",{enumerable:!0,get:function(){return _cluster.Cluster}})},5562:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cluster=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1);exports.Cluster=function(){function Cluster(props){_classCallCheck(this,Cluster),this.uuid=(0,_lodash.get)(props,"uuid")}return _createClass(Cluster,null,[{key:"fromUpstreamJSON",value:function(cluster){return new Cluster({uuid:cluster.uuid})}}]),Cluster}()},5563:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"ml",title:"Machine Learning",description:"Automatically model the normal behavior of your time series data to detect anomalies.",icon:"/plugins/ml/assets/app_ml.svg",path:"/app/ml",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5564:function(module,exports,__webpack_require__){"use strict";var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_feature_catalogue=__webpack_require__(58);_chrome2.default.getInjected("monitoringUiEnabled")&&_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"monitoring",title:"Monitoring",description:"Track the real-time health and performance of your Elastic Stack.",icon:"/plugins/kibana/assets/app_monitoring.svg",path:"/app/monitoring",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5565:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"reporting",title:"Reporting",description:"Manage your reports generated from Discover, Visualize, and Dashboard.",icon:"/plugins/reporting/assets/app_reporting.svg",path:"/app/kibana#/management/kibana/reporting",showOnHomePage:!1,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5566:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5567)},5567:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95),_routes=__webpack_require__(11),_routes2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_routes),_xpack_info=__webpack_require__(46);__webpack_require__(5568),_routes2.default.defaults(/\/management/,{resolve:{reportingManagementSection:function(Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider),kibanaManagementSection=_management.management.getSection("kibana"),showReportingLinks=xpackInfo.get("features.reporting.management.showLinks");if(kibanaManagementSection.deregister("reporting"),showReportingLinks){var enableReportingLinks=xpackInfo.get("features.reporting.management.enableLinks"),tooltipMessage=xpackInfo.get("features.reporting.management.message"),url=void 0,tooltip=void 0;return enableReportingLinks?url="#/management/kibana/reporting":tooltip=tooltipMessage,kibanaManagementSection.register("reporting",{order:15,display:"Reporting",url:url,tooltip:tooltip})}}}})},5568:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function mapJobs(jobs){return jobs.map(function(job){return{id:job._id,type:job._source.jobtype,object_type:job._source.payload.type,object_title:job._source.payload.title,created_by:job._source.created_by,created_at:job._source.created_at,started_at:job._source.started_at,completed_at:job._source.completed_at,status:job._source.status,content_type:!!job._source.output&&job._source.output.content_type,max_size_reached:!!job._source.output&&job._source.output.max_size_reached}})}__webpack_require__(5569),__webpack_require__(1204),__webpack_require__(5571);var _notify=__webpack_require__(10),_xpack_info=__webpack_require__(46),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_jobs=__webpack_require__(5572),_jobs2=_interopRequireDefault(_jobs),_poller=__webpack_require__(1206);_routes2.default.when("/management/kibana/reporting",{template:_jobs2.default,controllerAs:"jobsCtrl",controller:function($scope,$route,$window,$interval,reportingJobQueue,kbnUrl,Private,reportingPollConfig){var _this=this,jobsRefresh=reportingPollConfig.jobsRefresh,notifier=new _notify.Notifier({location:"Reporting"}),xpackInfo=Private(_xpack_info.XPackInfoProvider);this.loading=!1,this.pageSize=10,this.currentPage=1,this.reportingJobs=[];var licenseAllowsToShowThisPage=function(){return xpackInfo.get("features.reporting.management.showLinks")&&xpackInfo.get("features.reporting.management.enableLinks")},notifyAndRedirectToManagementOverviewPage=function(){return notifier.error(xpackInfo.get("features.reporting.management.message")),kbnUrl.redirect("/management"),Promise.reject()},getJobs=function(){var page=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return reportingJobQueue.list(page).then(function(jobs){return reportingJobQueue.total().then(function(total){return{jobs:mapJobs(jobs),total:total,pages:Math.ceil(total/10)}})}).catch(function(err){return licenseAllowsToShowThisPage()?(401!==err.status&&403!==err.status&&notifier.error(err.statusText||"Request failed"),{jobs:[],total:0,pages:1}):notifyAndRedirectToManagementOverviewPage()})},toggleLoading=function(){_this.loading=!_this.loading},updateJobs=function(){return getJobs(_this.currentPage-1).then(function(jobs){_this.reportingJobs=jobs})},updateJobsLoading=function(){toggleLoading(),updateJobs().then(toggleLoading)};this.setPage=function(page){_this.currentPage=page};var poller=new _poller.Poller({functionToPoll:function(){return updateJobs()},pollFrequencyInMillis:jobsRefresh.interval,trailing:!0,continuePollingOnError:!0,pollFrequencyErrorMultiplier:jobsRefresh.intervalErrorMultiplier});poller.start(),this.download=function(jobId){$window.open("../api/reporting/jobs/download/"+jobId)},this.showError=function(jobId){reportingJobQueue.getContent(jobId).then(function(doc){_this.errorMessage={job_id:jobId,message:doc.content}})},$scope.$watch("jobsCtrl.currentPage",updateJobsLoading),$scope.$on("$destroy",function(){return poller.stop()})}})},5569:function(module,exports,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(13),__webpack_require__(5570),__webpack_require__(2).uiModules.get("kibana",["bw.paging"])},557:function(module,exports,__webpack_require__){"use strict";function checkLicenseError(kbnUrl,Promise,Private){var xpackInfo=Private(_xpack_info.XPackInfoProvider),genericNotifier=new _notify.Notifier({location:"Security"});return function(err){return xpackInfo.get("features.security.showLinks")?Promise.reject(err):(genericNotifier.error(xpackInfo.get("features.security.linksMessage")),kbnUrl.redirect("/management"),Promise.halt())}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkLicenseError=checkLicenseError;var _xpack_info=__webpack_require__(46),_notify=__webpack_require__(10)},5570:function(module,exports){angular.module("bw.paging",[]).directive("paging",function(){function fieldLink(scope,el,attrs){scope.$watchCollection("[page,pageSize,total]",function(){build(scope,attrs)})}function fieldTemplate(el,attrs){return'<ul data-ng-hide="Hide" data-ng-class="ulClass"> <li title="{{Item.title}}" data-ng-class="Item.liClass" data-ng-repeat="Item in List"> <a '+(attrs.pgHref?'data-ng-href="{{Item.pgHref}}" ':"href ")+'data-ng-class="Item.aClass" data-ng-click="Item.action()" data-ng-bind="Item.value"></a> </li></ul>'}function setScopeValues(scope,attrs){scope.List=[],scope.Hide=!1,scope.page=parseInt(scope.page)||1,scope.total=parseInt(scope.total)||0,scope.adjacent=parseInt(scope.adjacent)||2,scope.pgHref=scope.pgHref||"",scope.dots=scope.dots||"...",scope.ulClass=scope.ulClass||"pagination",scope.activeClass=scope.activeClass||"active",scope.disabledClass=scope.disabledClass||"disabled",scope.textFirst=scope.textFirst||"<<",scope.textLast=scope.textLast||">>",scope.textNext=scope.textNext||">",scope.textPrev=scope.textPrev||"<",scope.textFirstClass=scope.textFirstClass||"",scope.textLastClass=scope.textLastClass||"",scope.textNextClass=scope.textNextClass||"",scope.textPrevClass=scope.textPrevClass||"",scope.textTitlePage=scope.textTitlePage||"Page {page}",scope.textTitleFirst=scope.textTitleFirst||"First Page",scope.textTitleLast=scope.textTitleLast||"Last Page",scope.textTitleNext=scope.textTitleNext||"Next Page",scope.textTitlePrev=scope.textTitlePrev||"Previous Page",scope.hideIfEmpty=evalBoolAttribute(scope,attrs.hideIfEmpty),scope.showPrevNext=evalBoolAttribute(scope,attrs.showPrevNext),scope.showFirstLast=evalBoolAttribute(scope,attrs.showFirstLast),scope.scrollTop=evalBoolAttribute(scope,attrs.scrollTop)}function evalBoolAttribute(scope,value){return!!angular.isDefined(value)&&!!scope.$parent.$eval(value)}function validateScopeValues(scope,pageCount){scope.page>pageCount&&(scope.page=pageCount),scope.page<=0&&(scope.page=1),scope.adjacent<=0&&(scope.adjacent=2),pageCount<=1&&(scope.Hide=scope.hideIfEmpty)}function internalAction(scope,page){scope.page!=page&&(scope.page=page,scope.pagingAction({page:scope.page,pageSize:scope.pageSize,total:scope.total}),scope.scrollTop&&scrollTo(0,0))}function addPrevNext(scope,pageCount,mode){if(!(!scope.showPrevNext&&!scope.showFirstLast||pageCount<1)){var disabled,alpha,beta;if("prev"===mode){disabled=scope.page-1<=0;var prevPage=scope.page-1<=0?1:scope.page-1;scope.showFirstLast&&(alpha={value:scope.textFirst,title:scope.textTitleFirst,aClass:scope.textFirstClass,page:1}),scope.showPrevNext&&(beta={value:scope.textPrev,title:scope.textTitlePrev,aClass:scope.textPrevClass,page:prevPage})}else{disabled=scope.page+1>pageCount;var nextPage=scope.page+1>=pageCount?pageCount:scope.page+1;scope.showPrevNext&&(alpha={value:scope.textNext,title:scope.textTitleNext,aClass:scope.textNextClass,page:nextPage}),scope.showFirstLast&&(beta={value:scope.textLast,title:scope.textTitleLast,aClass:scope.textLastClass,page:pageCount})}var buildItem=function(item,disabled){return{value:item.aClass?"":item.value,title:item.title,liClass:disabled?scope.disabledClass:"",aClass:item.aClass,pgHref:scope.pgHref.replace(regex,item.page),action:function(){disabled||internalAction(scope,item.page)}}};if(alpha){var alphaItem=buildItem(alpha,disabled);scope.List.push(alphaItem)}if(beta){var betaItem=buildItem(beta,disabled);scope.List.push(betaItem)}}}function addRange(start,finish,scope){var i=0;for(i=start;i<=finish;i++)scope.List.push({value:i,title:scope.textTitlePage.replace(regex,i),liClass:scope.page==i?scope.activeClass:"",pgHref:scope.pgHref.replace(regex,i),action:function(){internalAction(scope,this.value)}})}function addDots(scope){scope.List.push({value:scope.dots,liClass:scope.disabledClass})}function addFirst(scope,next){addRange(1,2,scope),3!=next&&addDots(scope)}function addLast(pageCount,scope,prev){prev!=pageCount-2&&addDots(scope),addRange(pageCount-1,pageCount,scope)}function build(scope,attrs){(!scope.pageSize||scope.pageSize<=0)&&(scope.pageSize=1);var pageCount=Math.ceil(scope.total/scope.pageSize);setScopeValues(scope,attrs),validateScopeValues(scope,pageCount);var start,finish,fullAdjacentSize=2*scope.adjacent+2;addPrevNext(scope,pageCount,"prev"),pageCount<=fullAdjacentSize+2?(start=1,addRange(start,pageCount,scope)):scope.page-scope.adjacent<=2?(start=1,finish=1+fullAdjacentSize,addRange(start,finish,scope),addLast(pageCount,scope,finish)):scope.page<pageCount-(scope.adjacent+2)?(start=scope.page-scope.adjacent,finish=scope.page+scope.adjacent,addFirst(scope,start),addRange(start,finish,scope),addLast(pageCount,scope,finish)):(start=pageCount-fullAdjacentSize,finish=pageCount,addFirst(scope,start),addRange(start,finish,scope)),addPrevNext(scope,pageCount,"next")}var regex=/\{page\}/g;return{restrict:"EA",link:fieldLink,template:fieldTemplate,scope:{page:"=",pageSize:"=",total:"=",dots:"@",ulClass:"@",activeClass:"@",disabledClass:"@",adjacent:"@",pagingAction:"&",pgHref:"@",textFirst:"@",textLast:"@",textNext:"@",textPrev:"@",textFirstClass:"@",textLastClass:"@",textNextClass:"@",textPrevClass:"@",textTitlePage:"@",textTitleFirst:"@",textTitleLast:"@",textTitleNext:"@",textTitlePrev:"@"}}})},5571:function(module,exports){},5572:function(module,exports){module.exports='<kbn-management-app section="kibana">\n  <div class="euiPage">\n    <h1 class="euiTitle">Generated reports</h1>\n\n    <table class="table table-striped job-list" ng-class="{ loading: jobsCtrl.loading }">\n      <thead>\n        <tr>\n          <th scope="col">Document</th>\n          <th scope="col">Added</th>\n          <th scope="col">Status</th>\n          <th scope="col">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-if="!jobsCtrl.reportingJobs.jobs.length">\n          <td colspan="5">No reports have been created</td>\n        </tr>\n        <tr ng-if="jobsCtrl.reportingJobs.jobs.length" ng-repeat="job in jobsCtrl.reportingJobs.jobs">\n          <td>\n            <div>{{ job.object_title }}</div>\n            <div class="metadata">{{ job.object_type }}</div>\n          </td>\n          <td>\n            <div>{{ job.created_at | date : \'yyyy-MM-dd @ h:mm a\' }}</div>\n            <div class="metadata" ng-if="job.created_by">{{ job.created_by }}</div>\n          </td>\n          <td>\n            <div ng-class="{kuiStatusText: true, \'kuiStatusText--warning\': job.max_size_reached}">\n              {{ job.status }}<span ng-if="job.max_size_reached">&nbsp;- max size reached</span>\n            </div>\n            <div\n              class="metadata"\n              ng-if="job.status !== \'pending\'"\n              >\n              {{ job.started_at | date : \'yyyy-MM-dd @ h:mm a\' }}\n            </div>\n          </td>\n          <td class="actions">\n            <button\n              class="kuiButton kuiButton--danger"\n              ng-if="job.status === \'failed\' && jobsCtrl.errorMessage.job_id !== job.id"\n              ng-click=jobsCtrl.showError(job.id)\n              aria-label="Show report-generation error"\n            >\n              <span class="kuiIcon fa-question-circle"></span>\n            </button>\n\n            <div\n              class="error-message"\n              ng-if="jobsCtrl.errorMessage.job_id === job.id"\n            >\n              {{ jobsCtrl.errorMessage.message }}\n            </div>\n\n            <button\n              ng-if="job.status === \'completed\'"\n              ng-click=jobsCtrl.download(job.id)\n              ng-class="{ kuiButton: true,\n                \'kuiButton--basic\': !job.max_size_reached,\n                \'kuiButton--warning\': job.max_size_reached}"\n              aria-label="Download report"\n              ng-attr-tooltip="{{\n                job.max_size_reached ? \'Max size reached, contains partial data.\' : null\n              }}"\n            >\n              <span class="kuiIcon fa-download"></span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div style="text-align: center;">\n      <paging\n        page="jobsCtrl.currentPage"\n        page-size="10"\n        total="jobsCtrl.reportingJobs.total"\n        show-prev-next="true"\n        show-first-last="true"\n        paging-action="jobsCtrl.setPage(page)">\n      </paging>\n    </div>\n  </div>\n</kbn-management-app>\n'},5573:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function profileVizController($scope,$route,$interval,$http,HighlightService,Private){$scope.title="Search Profile",$scope.description="Search profiling and visualization",$scope.profileResponse=[],$scope.highlight=HighlightService,$scope.activeTab={search:!0},$scope.markers=[],$scope.query=_default_query.defaultQuery;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.licenseEnabled=xpackInfo.get("features.searchprofiler.enableAppLink"),$scope.aceLoaded=function(_editor){$scope.ace=_editor,$scope.ace.$blockScrolling=1/0,$scope.ace.setReadOnly(!$scope.licenseEnabled),$scope.licenseEnabled||($scope.ace.container.style.pointerEvents="none",$scope.ace.container.style.opacity=.5,$scope.ace.renderer.setStyle("disabled",!0),$scope.ace.blur())},$scope.profile=function(){if($scope.licenseEnabled){$scope.resetHighlightPanel();var json=(0,_app_util.checkForParseErrors)($scope.query);if(!1===json.status)return void _notify.notify.error(json.error);if(json=json.parsed,json.profile&&json.profile.shards)$scope.renderProfile(json.profile.shards);else{var requestBody={query:$scope.query};null==$scope.index||""===$scope.index?requestBody.index="_all":requestBody.index=$scope.index,""===!$scope.type&&(requestBody.type=$scope.type),$scope.executeRemoteQuery(requestBody)}}},$scope.executeRemoteQuery=function(requestBody){$http.post("../api/searchprofiler/profile",requestBody).then(function(resp){if(resp.data.ok)$scope.renderProfile(resp.data.resp.profile.shards);else{_notify.notify.error(resp.data.err.msg);try{var regex=/line=([0-9]+) col=([0-9]+)/g,_regex$exec=regex.exec(resp.data.err.msg),_regex$exec2=_slicedToArray(_regex$exec,3),row=_regex$exec2[1],column=_regex$exec2[2];$scope.markers.push($scope.ace.session.addMarker(new _range.Range(row-1,0,row-1,column),"errorMarker","fullLine"))}catch(e){}}}).catch(_notify.notify.error)},$scope.renderProfile=function(data){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var shard=_step.value;shard.id=shard.id.match(/\[([^\]\[]*?)\]/g),shard.id=_lodash2.default.map(shard.id,function(id){return id.replace("[","").replace("]","")})}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}$scope.hasAggregations=null!=data[0].aggregations&&data[0].aggregations.length>0,$scope.hasSearch=null!=data[0].searches&&data[0].searches.length>0,$scope.profileResponse=data,$scope.hasAggregations||$scope.activateTab("search")},$scope.activateTab=function(tab){$scope.resetHighlightPanel(),$scope.activeTab={},"aggregations"===tab&&$scope.hasAggregations?$scope.activeTab.aggregations=!0:$scope.activeTab.search=!0},$scope.resetHighlightPanel=function(){$scope.highlight.details=null}}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_modules=__webpack_require__(2),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_xpack_info=__webpack_require__(46),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash);__webpack_require__(106),__webpack_require__(5574),__webpack_require__(5575);var _range=__webpack_require__(5582),_ns_to_pretty=__webpack_require__(5583),_ms_to_pretty=__webpack_require__(1562),_app_util=__webpack_require__(5584);__webpack_require__(186),__webpack_require__(5585);var _index=__webpack_require__(5586),_index2=_interopRequireDefault(_index),_default_query=__webpack_require__(5587);_routes2.default.when("/dev_tools/searchprofiler",{template:_index2.default}),_modules.uiModules.get("app/searchprofiler",["ui.bootstrap.buttons","ui.ace"]).controller("profileViz",profileVizController).filter("nsToPretty",function(){return _ns_to_pretty.nsToPretty}).filter("msToPretty",function(){return _ms_to_pretty.msToPretty}).factory("HighlightService",function(){return{details:null}})},5574:function(module,exports,__webpack_require__){"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(uiAceConfig){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var setOptions=function(acee,session,opts){if(angular.isDefined(opts.workerPath)){window.ace.require("ace/config").set("workerPath",opts.workerPath)}angular.isDefined(opts.require)&&opts.require.forEach(function(n){window.ace.require(n)}),angular.isDefined(opts.showGutter)&&acee.renderer.setShowGutter(opts.showGutter),angular.isDefined(opts.useWrapMode)&&session.setUseWrapMode(opts.useWrapMode),angular.isDefined(opts.showInvisibles)&&acee.renderer.setShowInvisibles(opts.showInvisibles),angular.isDefined(opts.showIndentGuides)&&acee.renderer.setDisplayIndentGuides(opts.showIndentGuides),angular.isDefined(opts.useSoftTabs)&&session.setUseSoftTabs(opts.useSoftTabs),angular.isDefined(opts.showPrintMargin)&&acee.setShowPrintMargin(opts.showPrintMargin),angular.isDefined(opts.disableSearch)&&opts.disableSearch&&acee.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(opts.theme)&&acee.setTheme("ace/theme/"+opts.theme),angular.isString(opts.mode)&&session.setMode("ace/mode/"+opts.mode),angular.isDefined(opts.firstLineNumber)&&(angular.isNumber(opts.firstLineNumber)?session.setOption("firstLineNumber",opts.firstLineNumber):angular.isFunction(opts.firstLineNumber)&&session.setOption("firstLineNumber",opts.firstLineNumber()));var key,obj;if(angular.isDefined(opts.advanced))for(key in opts.advanced)obj={name:key,value:opts.advanced[key]},acee.setOption(obj.name,obj.value);if(angular.isDefined(opts.rendererOptions))for(key in opts.rendererOptions)obj={name:key,value:opts.rendererOptions[key]},acee.renderer.setOption(obj.name,obj.value);angular.forEach(opts.callbacks,function(cb){angular.isFunction(cb)&&cb(acee)})};return{restrict:"EA",require:"?ngModel",link:function(scope,elm,attrs,ngModel){var onChangeListener,onBlurListener,options=uiAceConfig.ace||{},opts=angular.extend({},options,scope.$eval(attrs.uiAce)),acee=window.ace.edit(elm[0]),session=acee.getSession(),executeUserCallback=function(){var callback=arguments[0],args=Array.prototype.slice.call(arguments,1);angular.isDefined(callback)&&scope.$evalAsync(function(){if(!angular.isFunction(callback))throw new Error("ui-ace use a function as callback.");callback(args)})},listenerFactory={onChange:function(callback){return function(e){var newValue=session.getValue();!ngModel||newValue===ngModel.$viewValue||scope.$$phase||scope.$root.$$phase||scope.$evalAsync(function(){ngModel.$setViewValue(newValue)}),executeUserCallback(callback,e,acee)}},onBlur:function(callback){return function(){executeUserCallback(callback,acee)}}};attrs.$observe("readonly",function(value){acee.setReadOnly(!!value||""===value)}),ngModel&&(ngModel.$formatters.push(function(value){if(angular.isUndefined(value)||null===value)return"";if(angular.isObject(value)||angular.isArray(value))throw new Error("ui-ace cannot use an object or an array as a model");return value}),ngModel.$render=function(){session.setValue(ngModel.$viewValue)});var updateOptions=function(current,previous){current!==previous&&(opts=angular.extend({},options,scope.$eval(attrs.uiAce)),opts.callbacks=[opts.onLoad],opts.onLoad!==options.onLoad&&opts.callbacks.unshift(options.onLoad),session.removeListener("change",onChangeListener),onChangeListener=listenerFactory.onChange(opts.onChange),session.on("change",onChangeListener),acee.removeListener("blur",onBlurListener),onBlurListener=listenerFactory.onBlur(opts.onBlur),acee.on("blur",onBlurListener),setOptions(acee,session,opts))};scope.$watch(attrs.uiAce,updateOptions,!0),updateOptions(options),elm.on("$destroy",function(){acee.session.$stopWorker(),acee.destroy()}),scope.$watch(function(){return[elm[0].offsetWidth,elm[0].offsetHeight]},function(){acee.resize(),acee.renderer.updateFull()},!0)}}}])},5575:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5576),__webpack_require__(5580)},5576:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(5577),_index2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index),_util=__webpack_require__(5578);__webpack_require__(2).uiModules.get("app/searchprofiler/directives",[]).directive("profiletree",function(HighlightService){return{restrict:"E",scope:{data:"=",target:"@"},template:_index2.default,link:function($scope){function render(data){if(0!==data.length){$scope.visible={};var indices={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var shard=_step.value;initShardTargets(shard),"searches"===$scope.target?shard.time[$scope.target]=collectSearchTimes(shard):"aggregations"===$scope.target&&(shard.time[$scope.target]=collectAggTimes(shard)),indices[shard.id[1]]||(indices[shard.id[1]]={shards:[],time:{searches:0,aggregations:0},name:shard.id[1]}),indices[shard.id[1]].shards.push(shard),indices[shard.id[1]].time[$scope.target]+=shard.time[$scope.target]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}data=null;var finalIndices=(0,_util.normalizeIndices)(indices,$scope.indexVisibility,$scope.target);indices=null,$scope.profileResponse=finalIndices}}function collectSearchTimes(shard){if(null==shard.searches)return 0;shard.rewrite_time=0;var shardTime=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=shard.searches[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var search=_step2.value;shard.rewrite_time+=search.rewrite_time;var totalTime=(0,_util.calcTimes)(search.query);shardTime+=totalTime,(0,_util.normalizeTimes)(search.query,totalTime,0);var flat=[];(0,_util.flattenResults)(search.query,flat,0,$scope.visible),search.flat=flat,search.query=null}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return shardTime}function collectAggTimes(shard){if(null==shard.aggregations)return 0;var shardTime=0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var agg=_step3.value;shardTime+=(0,_util.calcTimes)([agg])}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=shard.aggregations[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _agg=_step4.value;(0,_util.normalizeTimes)([_agg],shardTime,0);var flat=[];(0,_util.flattenResults)([_agg],flat,0,$scope.visible),_agg.flat=flat}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return shardTime}function initShardTargets(shard){shard.time||(shard.time={searches:0,aggregations:0}),shard.color||(shard.color={searches:0,aggregations:0}),shard.relative||(shard.relative={searches:0,aggregations:0})}$scope.visible={foo:{}},$scope.indexVisibility={},$scope.highlightedRow=null,$scope.updateDetail=function(row,indexName,shardID,shardNumber){HighlightService.details=row,HighlightService.details.indexName=indexName,HighlightService.details.shardID=shardID,HighlightService.details.shardNumber=shardNumber,HighlightService.details.highlightedRow=row.id},$scope.getHighlightedRow=function(){return HighlightService.details?HighlightService.details.highlightedRow:null},$scope.toggle=function(id){!0===$scope.visible[id].visible?(0,_util.closeNode)($scope.visible,id):$scope.visible[id].visible=!0},$scope.$watch("data",render)}}})},5577:function(module,exports){module.exports='<div class="panel panel-default index" ng-repeat="index in profileResponse">\n  <div class="shard-details-right">\n    <span\n      tooltip-placement="bottom"\n      tooltip="The cumulative time of all shards in the index. Note: this is not wall-clock time, as shards can execute in parallel.">\n      <h3>Cumulative Time: {{index.time[target] | msToPretty: 3}}</h3>\n    </span><br/>\n  </div>\n  <div class="shard-details"  style="margin-left:5px">\n    <h3><b>Index:</b> {{index.name}}</h3>\n  </div>\n  <div ng-repeat="shard in index.shards">\n    <div class="panel shard">\n      <div class="shard-body">\n        <div class="shard-details-right" style="width:150px">\n          <div class="graph progress">\n            <div class="bar" style="width:{{shard.relative[target]}}%"></div>\n            <p>{{shard.time[target] | msToPretty: 3}}</p>\n          </div>\n\n        </div>\n        <div class="shard-details">\n          <span class="glyphicon" aria-hidden="true"\n                  ng-click="shardVisibility = !shardVisibility"\n                  ng-class="visible[row.id].visible ? \'glyphicon-menu-down\' : \'glyphicon-menu-right\'"\n                  style="font-size:9px">\n                </span>\n                <b>[{{shard.id[0]}}][{{shard.id[2]}}]</b>\n        </div>\n        <div class="treeviewwrapper"\n            ng-repeat="search in shard[target]"\n            ng-hide="!shardVisibility"\n            ng-class="{\'panel-body-underline\' : shardVisibility}">\n          <div class="tv-row-header">\n            <div class="cell description">Type</div>\n            <div class="cell time">Self Time</div>\n            <div class="cell totaltime">Total Time</div>\n            <div class="cell percentage">% Time</div>\n          </div>\n          <div class="tv-row"\n            ng-repeat="row in search.flat"\n            ng-show="row.depth === 0 ? true : visible[row.parentId].visible"\n            style="background-color:{{row.absoluteColor}}"\n            ng-mouseenter="updateDetail(row, index.name, shard.id[0], shard.id[2])"\n            ng-class="row.id == getHighlightedRow() ? \'tv-row-last-hover\' : \'\'">\n            <div class="cell description" style="padding-left:{{row.depth * 10}}px;">\n              <div style="display:inline;" ng-class="row.hasChildren ? \'\' : \'glyphicon-menu-pad\'">\n                <span class="glyphicon" aria-hidden="true"\n                  ng-click="toggle(row.id)"\n                  ng-class="visible[row.id].visible ? \'glyphicon-menu-down\' : \'glyphicon-menu-right\'"\n                  ng-hide="!row.hasChildren"\n                  style="font-size:9px">\n                </span>&nbsp;\n              </div>\n              {{row.query_type}}\n              <span class=\'detail\'>\n              <span\n                tooltip-placement="top"\n                tooltip="{{row.lucene.length > 40 ? row.lucene : \'\'}}">\n              {{row.lucene | limitTo : 40}}{{row.lucene.length > 40 ? \'...\' : \'\'}}\n              </span>\n              </span>\n            </div>\n            <div class="cell time">{{row.selfTime | msToPretty: 1}}</div>\n            <div class="cell totaltime">{{row.time | msToPretty: 1}}</div>\n            <div class="cell percentage">\n              <div class="graph progress">\n                <div class="bar" style="width:{{row.timePercentage}}%"></div>\n                <p>{{row.timePercentage}}%</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},5578:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getToolTip(key){switch(key){case"build_scorer":return"The time taken to create the Scoring object, which is later used to execute the actual scoring of each doc.";case"create_weight":return"The time taken to create the Weight object, which holds temporary information during scoring.";case"next_doc":return"The time taken to advance the iterator to the next matching document.";case"score":return"The time taken in actually scoring the document against the query.";case"match":return"The time taken to execute a secondary, more precise scoring phase (used by phrase queries).";case"advance":return"The time taken to advance the iterator to the next document.";default:return""}}function timeInMilliseconds(data){return data.time_in_nanos?data.time_in_nanos/1e6:"string"==typeof data.time?data.time.replace("ms",""):data.time}function calcTimes(data,parentId){if(null!=data){var totalTime=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=data[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var child=_step.value;totalTime+=timeInMilliseconds(child),child.id=_uuid2.default.v4(),child.parentId=parentId,child.childrenIds=[],child.breakdown=normalizeBreakdown(child.breakdown);var childrenTime=0;if(null!=child.children&&0!==child.children.length){childrenTime=calcTimes(child.children,child.id),child.hasChildren=!0;var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=child.children[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var c=_step2.value;child.childrenIds.push(c.id)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}child.selfTime=timeInMilliseconds(child)-childrenTime}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return totalTime}}function normalizeBreakdown(breakdown){var final=[],total=Object.keys(breakdown).reduce(function(partialTotal,currentKey){return-1===currentKey.indexOf("_count")&&(partialTotal+=breakdown[currentKey]),partialTotal},0);return Object.keys(breakdown).forEach(function(key){var relative=0;-1===key.indexOf("_count")&&(relative=(breakdown[key]/total*100).toFixed(1)),final.push({key:key,time:breakdown[key],relative:relative,color:_tinycolor2.default.mix("#F5F5F5","#FFAFAF",relative).toHexString(),tip:getToolTip(key)})}),final.sort(function(a,b){return comparator(a.time,b.time)}),final}function normalizeTimes(data,totalTime,depth){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=data[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var child=_step3.value;child.timePercentage=(timeInMilliseconds(child)/totalTime*100).toFixed(2),child.absoluteColor=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",child.timePercentage).toHexString(),child.depth=depth,null!=child.children&&0!==child.children.length&&normalizeTimes(child.children,totalTime,depth+1)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}data.sort(function(a,b){return comparator(timeInMilliseconds(a),timeInMilliseconds(b))})}function normalizeIndices(indices,visibility,target){var sortQueryComponents=void 0;"searches"===target?sortQueryComponents=function(a,b){var aTime=_lodash2.default.sum(a.searches,function(search){return search.flat[0].time}),bTime=_lodash2.default.sum(b.searches,function(search){return search.flat[0].time});return comparator(aTime,bTime)}:"aggregations"===target&&(sortQueryComponents=function(a,b){var aTime=_lodash2.default.sum(a.aggregations,function(agg){return agg.flat[0].time}),bTime=_lodash2.default.sum(b.aggregations,function(agg){return agg.flat[0].time});return comparator(aTime,bTime)});var sortedIndices=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=Object.entries(indices)[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var _ref=_step4.value,_ref2=_slicedToArray(_ref,2),key=_ref2[0],index=_ref2[1];index.shards.sort(sortQueryComponents);var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=index.shards[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var shard=_step5.value;shard.relative[target]=(shard.time[target]/index.time[target]*100).toFixed(2),shard.color[target]=_tinycolor2.default.mix("#F5F5F5","#FFAFAF",shard.relative[target]).toHexString()}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}sortedIndices.push(index),visibility[key]=!1}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return sortedIndices.sort(function(a,b){return comparator(a.time,b.time)}),sortedIndices}function flattenResults(data,accumulator,depth,visibleMap){if(null!=data){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=data[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var child=_step6.value;child.description||(child.description=child.lucene,child.lucene=null,child.type=child.query_type,child.query_type=null),accumulator.push({id:child.id,parentId:child.parentId,childrenIds:child.childrenIds,lucene:child.description,time:timeInMilliseconds(child),selfTime:child.selfTime,timePercentage:child.timePercentage,query_type:child.type.split(".").pop(),absoluteColor:child.absoluteColor,depth:depth,hasChildren:child.hasChildren,breakdown:child.breakdown}),visibleMap[child.id]={visible:child.timePercentage>20,children:child.children},null!=child.children&&0!==child.children.length&&flattenResults(child.children,accumulator,depth+1,visibleMap)}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}}function closeNode(visibleMap,id){if(visibleMap[id].visible=!1,null!=visibleMap[id].children&&0!==visibleMap[id].children.length){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=visibleMap[id].children[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){closeNode(visibleMap,_step7.value.id)}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.timeInMilliseconds=timeInMilliseconds,exports.calcTimes=calcTimes,exports.normalizeBreakdown=normalizeBreakdown,exports.normalizeTimes=normalizeTimes,exports.normalizeIndices=normalizeIndices,exports.flattenResults=flattenResults,exports.closeNode=closeNode;var _uuid=__webpack_require__(68),_uuid2=_interopRequireDefault(_uuid),_tinycolor=__webpack_require__(5579),_tinycolor2=_interopRequireDefault(_tinycolor),_lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),comparator=function(v1,v2){return v1<v2?1:v1>v2?-1:0}},5579:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){function tinycolor(color,opts){if(color=color||"",opts=opts||{},color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=mathRound(this._r)),this._g<1&&(this._g=mathRound(this._g)),this._b<1&&(this._b=mathRound(this._b)),this._ok=rgb.ok,this._tc_id=tinyCounter++}function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,ok=!1,format=!1;return"string"==typeof color&&(color=stringInputToObject(color)),"object"==typeof color&&(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")?(rgb=rgbToRgb(color.r,color.g,color.b),ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")?(color.s=convertToPercentage(color.s),color.v=convertToPercentage(color.v),rgb=hsvToRgb(color.h,color.s,color.v),ok=!0,format="hsv"):color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")&&(color.s=convertToPercentage(color.s),color.l=convertToPercentage(color.l),rgb=hslToRgb(color.h,color.s,color.l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a)),a=boundAlpha(a),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}var r,g,b;if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6;return{r:255*[v,q,p,p,t,v][mod],g:255*[t,v,v,q,p,p][mod],b:255*[p,p,t,v,v,q][mod]}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function rgbaToHex(r,g,b,a){return[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))].join("")}function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(-amount/100*255))),rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(-amount/100*255))),rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(-amount/100*255))),tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(mathRound(hsl.h)+amount)%360;return hsl.h=hue<0?360+hue:hue,tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)}function isPercentage(n){return"string"==typeof n&&-1!=n.indexOf("%")}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return n<=1&&(n=100*n+"%"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};var match;return(match=matchers.rgb.exec(color))?{r:match[1],g:match[2],b:match[3]}:(match=matchers.rgba.exec(color))?{r:match[1],g:match[2],b:match[3],a:match[4]}:(match=matchers.hsl.exec(color))?{h:match[1],s:match[2],l:match[3]}:(match=matchers.hsla.exec(color))?{h:match[1],s:match[2],l:match[3],a:match[4]}:(match=matchers.hsv.exec(color))?{h:match[1],s:match[2],v:match[3]}:(match=matchers.hsva.exec(color))?{h:match[1],s:match[2],v:match[3],a:match[4]}:(match=matchers.hex8.exec(color))?{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?"name":"hex8"}:(match=matchers.hex6.exec(color))?{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"}:!!(match=matchers.hex3.exec(color))&&{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"}}function validateWCAG2Parms(parms){var level,size;return parms=parms||{level:"AA",size:"small"},level=(parms.level||"AA").toUpperCase(),size=(parms.size||"small").toLowerCase(),"AA"!==level&&"AAA"!==level&&(level="AA"),"small"!==size&&"large"!==size&&(size="small"),{level:level,size:size}}var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,R,G,B,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,R=RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4),G=GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4),B=BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4),.2126*R+.7152*G+.0722*B},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=mathRound(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(){return rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(secondColor){var hex8String="#"+rgbaToHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){secondHex8String=tinycolor(secondColor).toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0;return formatSet||!hasAlpha||"hex"!==format&&"hex6"!==format&&"hex3"!==format&&"name"!==format?("rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"hex8"===format&&(formattedString=this.toHex8String()),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString()):"name"===format&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return!(!color1||!color2)&&tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var w1,rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100,w=2*p-1,a=rgb2.a-rgb1.a;w1=w*a==-1?w:(w+a)/(1+w*a),w1=(w1+1)/2;var w2=1-w1;return tinycolor({r:rgb2.r*w1+rgb1.r*w2,g:rgb2.g*w1+rgb1.g*w2,b:rgb2.b*w1+rgb1.b*w2,a:rgb2.a*p+rgb1.a*(1-p)})},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,wcag2Parms=validateWCAG2Parms(wcag2),wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;args=args||{},includeFallbackColors=args.includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)(readability=tinycolor.readability(baseColor,colorList[i]))>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,["#fff","#000"],args))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=function(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}(names),matchers=function(){var CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==module&&module.exports?module.exports=tinycolor:void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},558:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),BaseAction=exports.BaseAction=function(){function BaseAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseAction),this.id=(0,_lodash.get)(props,"id"),this.type=(0,_lodash.get)(props,"type")}return _createClass(BaseAction,[{key:"upstreamJson",get:function(){return{id:this.id,type:this.type}}},{key:"typeName",get:function(){return this.constructor.typeName}},{key:"iconClass",get:function(){return this.constructor.iconClass}},{key:"selectMessage",get:function(){return this.constructor.selectMessage}},{key:"simulateMessage",get:function(){return"Action "+this.id+" simulated successfully"}},{key:"simulatePrompt",get:function(){return this.constructor.simulatePrompt}},{key:"template",get:function(){return this.constructor.template}}]),BaseAction}();BaseAction.typeName="Action",BaseAction.iconClass="fa-cog",BaseAction.template="",BaseAction.selectMessage="Perform an action.",BaseAction.simulatePrompt="Simulate this action now"},5580:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_index=__webpack_require__(5581),_index2=_interopRequireDefault(_index);__webpack_require__(2).uiModules.get("app/searchprofiler/directives",[]).directive("highlightdetails",function(HighlightService){return{restrict:"E",scope:{data:"@"},template:_index2.default,link:function($scope){function render(data){data&&(data.breakdown=_lodash2.default.filter(data.breakdown,function(o){return-1===o.key.indexOf("_count")}),$scope.detailRow=data)}$scope.$watch(function(){return HighlightService.details},render)}}})},5581:function(module,exports){module.exports='<div>\n  <b>{{detailRow.indexName}}</b>\n  <p>[{{detailRow.shardID}}][{{detailRow.shardNumber}}]</p>\n  <br/>\n  <b>Type</b>\n  <p>{{detailRow.query_type}}</p>\n  <b>Description</b>\n  <p>{{detailRow.lucene}}</p>\n  <b><span tooltip="The total time spent at this query component, inclusive of children" tooltip-placement="left">Total Time</span></b>\n  <p>{{detailRow.time | msToPretty:3 }}</p>\n  <b><span tooltip="The time spent by this query component alone, exclusive of children" tooltip-placement="left">Self Time</span></b>\n  <p>{{detailRow.selfTime | msToPretty:3 }}</p>\n  <b>Timing Breakdown</b>\n  <table class="breakdown">\n    <tr style="background-color:{{breakdown.color}}" ng-repeat="breakdown in detailRow.breakdown">\n      <td><span tooltip="{{breakdown.tip}}" tooltip-placement="left">{{breakdown.key}}</span></td>\n      <td>{{breakdown.time | nsToPretty: 1}}</td>\n      <td style="width:33%; background-color:white;">\n        <div class="graph progress">\n          <div class="bar" style="width:{{breakdown.relative}}%"></div>\n          <p>{{breakdown.relative}}%</p>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'},5582:function(module,exports,__webpack_require__){"use strict";function Range(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.Range=Range;var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0===this.compare(row,column)},this.compareRange=function(range){var cmp=void 0,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1===cmp?(cmp=this.compare(start.row,start.column),1===cmp?2:0===cmp?1:0):-1===cmp?-2:(cmp=this.compare(start.row,start.column),-1===cmp?-1:1===cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0===this.comparePoint(range.start)&&0===this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1===cmp||0===cmp||1===cmp},this.isEnd=function(row,column){return this.end.row===row&&this.end.column===column},this.isStart=function(row,column){return this.start.row===row&&this.start.column===column},this.setStart=function(row,column){"object"===(void 0===row?"undefined":_typeof(row))?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"===(void 0===row?"undefined":_typeof(row))?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0===this.compare(row,column)&&(!this.isEnd(row,column)&&!this.isStart(row,column))},this.insideStart=function(row,column){return 0===this.compare(row,column)&&!this.isEnd(row,column)},this.insideEnd=function(row,column){return 0===this.compare(row,column)&&!this.isStart(row,column)},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?row<this.start.row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?column<=this.end.column?0:1:0:column<this.start.column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row===row&&this.start.column===column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row===row&&this.end.column===column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row===row&&this.end.column===column?1:this.start.row===row&&this.start.column===column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){var end=void 0,start=void 0;return this.end.row>lastRow?end={row:lastRow+1,column:0}:this.end.row<firstRow&&(end={row:firstRow,column:0}),this.start.row>lastRow?start={row:lastRow+1,column:0}:this.start.row<firstRow&&(start={row:firstRow,column:0}),Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0===cmp)return this;var start=void 0,end=void 0;return-1===cmp?start={row:row,column:column}:end={row:row,column:column},Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0===this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column}},5583:function(module,exports,__webpack_require__){"use strict";function nsToPretty(ns,precision){precision||(precision=1);var units=["ns","µs"];for(var i in units){if(ns<1e3)return ns.toFixed(precision)+units[i];ns/=1e3}return(0,_ms_to_pretty.msToPretty)(ns,precision)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.nsToPretty=nsToPretty;var _ms_to_pretty=__webpack_require__(1562)},5584:function(module,exports,__webpack_require__){"use strict";function checkForParseErrors(json){try{json=JSON.parse(json)}catch(error){return{status:!1,error:error}}return{status:!0,parsed:json}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkForParseErrors=checkForParseErrors},5585:function(module,exports){},5586:function(module,exports){module.exports='<kbn-dev-tools-app class="profilerDevTool">\n  <div class="profilerDevTool__container kuiViewContent kuiViewContentItem" ng-controller="profileViz">\n    <div class="wrapper">\n      <div class="main">\n        <tabset ng-show="profileResponse.length > 0">\n          <tab heading="Query Profile"\n            active="activeTab.search"\n            ng-click="activateTab(\'search\')"\n            disabled="!hasSearch">\n              <profileTree data="profileResponse" target="searches"></profileTree>\n          </tab>\n          <tab heading="Aggregation Profile"\n            active="activeTab.aggregations"\n            ng-click="activateTab(\'aggregations\')"\n            disabled="!hasAggregations">\n              <profileTree data="profileResponse" target="aggregations"></profileTree>\n          </tab>\n        </tabset>\n\n        \x3c!-- License error notice --\x3e\n        <div class="kuiNotice" ng-hide="licenseEnabled">\n          <h2 class="kuiTitle kuiVerticalRhythmSmall">\n            <span class="kuiIcon fa-warning kuiIcon--error"></span>\n            License error\n          </h1>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            The Profiler Vizualization requires an active license (<code>Trial</code>,\n            <code>Basic</code>, <code>Gold</code> or <code>Platinum</code>), but none were found in your cluster.\n          </p>\n\n          <p class="kuiText kuiVerticalRhythmSmall">\n            Please <a class="kuiLink" href="https://www.elastic.co/subscriptions" rel="noopener noreferrer">register a license</a>\n            to continue using the Search Profiler.\n          </p>\n        </div>\n      </div>\n\n      <div class="aside sense">\n        \x3c!-- Form --\x3e\n        <div class="kuiFieldGroup">\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerIndexInput"\n              >\n                Index\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerIndexInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="index"\n                placeholder="_all"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n\n          <div class="kuiFieldGroupSection">\n            <div class="kuiVerticalRhythmSmall">\n              <label\n                class="kuiLabel"\n                for="searchProfilerTypeInput"\n              >\n                Type\n              </label>\n            </div>\n\n            <div class="kuiVerticalRhythmSmall">\n              <input\n                id="searchProfilerTypeInput"\n                class="kuiTextInput"\n                type="text"\n                ng-model="type"\n                ng-disabled="!licenseEnabled"\n              ></input>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Code editor --\x3e\n        <div style="height:85%;margin-bottom:5px;padding-top:20px">\n          <div ui-ace="{ onLoad : aceLoaded, mode: \'json\' }" ng-model="query" class="ace_editor"></div>\n        </div>\n\n        \x3c!-- Actions --\x3e\n        <button\n          class="kuiButton kuiButton--primary"\n          style="float:right;"\n          ng-click="profile()"\n          ng-disabled="!licenseEnabled || !query"\n        >\n          Profile\n        </button>\n      </div>\n      <aside class="aside details">\n        <highlightdetails ng-show="highlight.details && licenseEnabled"></highlightdetails>\n      </aside>\n    </div>\n  </div>\n</kbn-dev-tools-app>\n'},5587:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.defaultQuery='{\n  "query":{\n    "match_all" : {}\n  }\n}'},5588:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"searchprofiler",title:"Search Profiler",description:"Quickly check the performance of any Elasticsearch query.",icon:"/plugins/searchprofiler/assets/app_search_profiler.svg",path:"/app/kibana#/dev_tools/searchprofiler",showOnHomePage:!1,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5589:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"security",title:"Security Settings",description:"Protect your data and easily manage who has access to what with users and roles.",icon:"/plugins/kibana/assets/app_security.svg",path:"/app/kibana#/management/security",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},559:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5680)},5590:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5591)},5591:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1208),__webpack_require__(5592),__webpack_require__(5594),__webpack_require__(5596),__webpack_require__(5598),__webpack_require__(5600),__webpack_require__(5606),__webpack_require__(5610);var _routes=__webpack_require__(11),_routes2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_routes),_xpack_info=__webpack_require__(46);__webpack_require__(313);var _management_urls=__webpack_require__(417),_management=__webpack_require__(95);_routes2.default.defaults(/\/management/,{resolve:{securityManagementSection:function(ShieldUser,Private,esDataIsTribe){function deregisterSecurity(){_management.management.deregister("security")}function ensureSecurityRegistered(){var security=_management.management.hasItem("security")?function(){return _management.management.getSection("security")}():function(){return _management.management.register("security",{display:"Security",order:10})}();security.hasItem("users")||security.register("users",{name:"securityUsersLink",order:10,display:"Users",url:esDataIsTribe?void 0:"#"+_management_urls.USERS_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0}),security.hasItem("roles")||security.register("roles",{name:"securityRolesLink",order:20,display:"Roles",url:esDataIsTribe?void 0:"#"+_management_urls.ROLES_PATH,tooltip:esDataIsTribe?tribeTooltip:void 0})}var xpackInfo=Private(_xpack_info.XPackInfoProvider),showSecurityLinks=xpackInfo.get("features.security.showLinks"),tribeTooltip="Not available when using a tribe node.";if(deregisterSecurity(),showSecurityLinks)return ShieldUser.getCurrent().$promise.then(ensureSecurityRegistered).catch(deregisterSecurity)}}})},5592:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2),_index_privileges_form=__webpack_require__(5593),_index_privileges_form2=_interopRequireDefault(_index_privileges_form);_modules.uiModules.get("security",["kibana"]).directive("kbnIndexPrivilegesForm",function(){return{template:_index_privileges_form2.default,scope:{isNewRole:"=",indices:"=",indexPatterns:"=",privileges:"=",fieldOptions:"=",isReserved:"=",isEnabled:"=",allowDocumentLevelSecurity:"=",allowFieldLevelSecurity:"=",addIndex:"&",removeIndex:"&"},restrict:"E",replace:!0,controllerAs:"indexPrivilegesController",controller:function($scope){this.addIndex=function(){$scope.addIndex({indices:$scope.indices})},this.removeIndex=function(index){$scope.removeIndex({indices:$scope.indices,index:index})},this.getIndexTitle=function(index){return(index.names.length?index.names.join(", "):"No indices")+" ("+(index.privileges.length?index.privileges.join(", "):"No privileges")+")"},this.union=_lodash2.default.flow(_lodash2.default.union,_lodash2.default.compact),$scope.isNewRole||$scope.isEnabled?(this.showDocumentLevelSecurity=$scope.allowDocumentLevelSecurity,this.showFieldLevelSecurity=$scope.allowFieldLevelSecurity):(this.showDocumentLevelSecurity=!0,this.showFieldLevelSecurity=!0)}}})},5593:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    Index Privileges\n  </label>\n\n  \x3c!-- Panel list --\x3e\n  <div class="kuiList">\n    <div\n      class="kuiListItem"\n      ng-repeat="index in indices"\n      data-test-subj="{{ \'indicesPrivileges\' + $index }}"\n    >\n      \x3c!-- Top row --\x3e\n      <div class="kuiFormSubSection">\n        \x3c!-- Select indices --\x3e\n        <div class="kuiColumn kuiColumn--6">\n          <label class="kuiFormSubLabel">\n            Indices\n          </label>\n          <ui-select\n            multiple\n            ng-model="index.names"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'indicesInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="indexPattern in indexPrivilegesController.union([$select.search], indexPatterns) | filter:$select.search">\n              <div ng-bind-html="indexPattern"></div>\n            </ui-select-choices>\n          </ui-select>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--5">\n        \x3c!-- Select privileges --\x3e\n          <label class="kuiFormSubLabel">\n            Privileges\n          </label>\n          <ui-select\n            ng-class="{\'kuiInputError\' : index.names.length && !index.privileges.length}"\n            multiple\n            ng-model="index.privileges"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'privilegesInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="privilege in privileges.indices | filter:$select.search" >\n              <div ng-bind-html="privilege" data-test-subj="{{ \'privilegeOption-\'+  privilege }}"></div>\n            </ui-select-choices>\n          </ui-select>\n\n          \x3c!-- Errors --\x3e\n          <div\n            class="kuiInputNote kuiInputNote--danger"\n            ng-show="index.names.length && !index.privileges.length"\n          >\n            Indices must contain at least one privilege.\n          </div>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--1">\n          <label class="kuiFormSubLabel">&nbsp;</label>\n          \x3c!-- Delete index privilege --\x3e\n          <button\n            class="kuiButton kuiButton--danger fullWidth"\n            ng-if="!isReserved && indices.length > 1"\n            ng-click="indexPrivilegesController.removeIndex(index)"\n            tooltip="Remove index privilege"\n            data-test-subj="{{ \'removeIndicesPrivileges\' + $index }}"\n          >\n            <span class="kuiButton__icon kuiIcon fa-trash"></span>\n          </button>\n        </div>\n      </div>\n\n      \x3c!-- Bottom row --\x3e\n      <div class="kuiFormSubSection">\n        \x3c!-- Query --\x3e\n        <div class="kuiColumn kuiColumn--6" ng-if="indexPrivilegesController.showDocumentLevelSecurity">\n          <label for="query" class="kuiFormSubLabel">\n            Granted Documents Query\n            <span class="kuiFormSubLabel__note">Optional</span>\n          </label>\n          <textarea\n            class="kuiTextArea fullWidth"\n            id="query"\n            rows="1"\n            ng-model="index.query"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'queryInput\' + $index }}"\n          ></textarea>\n\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--5" ng-if="indexPrivilegesController.showFieldLevelSecurity">\n        \x3c!-- Select fields --\x3e\n          <label class="kuiFormSubLabel">\n            Granted Fields\n            <span class="kuiFormSubLabel__note">Optional</span>\n          </label>\n          <ui-select\n            multiple\n            ng-model="index.field_security.grant"\n            ng-disabled="isReserved || !isEnabled"\n            data-test-subj="{{ \'fieldInput\' + $index }}"\n          >\n            <ui-select-match>{{$item}}</ui-select-match>\n            <ui-select-choices repeat="field in indexPrivilegesController.union([$select.search], fieldOptions[index.names]) | filter:$select.search | limitTo:25">\n              <div ng-bind-html="field" data-test-subj="{{ \'fieldOption-\' + field }}"></div>\n            </ui-select-choices>\n          </ui-select>\n        \x3c!-- TODO: Minimize markup so we don\'t need to worry about whitespsace. --\x3e\n        </div><div class="kuiColumn kuiColumn--1">\n          <div ng-if="!isReserved && isEnabled && $index === indices.length - 1">\n            <label class="kuiFormSubLabel">&nbsp;</label>\n            \x3c!-- Add index privilege --\x3e\n            <button\n              ng-click="indexPrivilegesController.addIndex()"\n              class="kuiButton kuiButton--primary fullWidth"\n              tooltip="Add index privilege"\n              data-test-subj="{{ \'addIndicesPrivileges\' + $index }}"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},5594:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_password_form=__webpack_require__(5595),_password_form2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_password_form);_modules.uiModules.get("security",["kibana"]).directive("kbnPasswordForm",function(){return{template:_password_form2.default,scope:{password:"="},restrict:"E",replace:!0,controllerAs:"passwordController",controller:function(){this.confirmation=null}}})},5595:function(module,exports){module.exports='<ng-form name="passwordForm">\n  \x3c!-- Password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Password\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      id="password"\n      name="password"\n      ng-model="password"\n      required\n      minlength="6"\n      data-test-subj="passwordInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.password.$touched && (passwordForm.password.$error.required || passwordForm.password.$error.minlength)"\n    >\n      Password must be at least 6 characters long.\n    </div>\n  </div>\n\n  \x3c!-- Confirm password --\x3e\n  <div class="kuiFormSection">\n    <label class="kuiFormLabel">\n      Password Again, Please\n    </label>\n    <input\n      type="password"\n      class="kuiTextInput fullWidth"\n      name="confirmation"\n      ng-model="passwordController.confirmation"\n      required\n      data-test-subj="passwordConfirmationInput"\n    />\n\n    \x3c!-- Errors --\x3e\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="passwordForm.confirmation.$touched && (password !== passwordController.confirmation)"\n    >\n      Passwords do not match.\n    </div>\n  </div>\n</ng-form>\n'},5596:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_util=__webpack_require__(832),_users=__webpack_require__(5597),_users2=_interopRequireDefault(_users);__webpack_require__(313);var _check_license_error=__webpack_require__(557),_gate_keeper=__webpack_require__(382),_management_urls=__webpack_require__(417);_routes2.default.when(_management_urls.SECURITY_PATH,{redirectTo:_management_urls.USERS_PATH}),_routes2.default.when(_management_urls.USERS_PATH,{template:_users2.default,resolve:{tribeRedirect:function(Private){Private(_gate_keeper.GateKeeperProvider).redirectAndNotifyIfTribe()},users:function(ShieldUser,kbnUrl,Promise,Private){return ShieldUser.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private)).catch(_lodash2.default.identity)}},controller:function($scope,$route,$q,confirmModal){function getActionableUsers(){return $scope.users.filter(function(user){return!user.metadata._reserved})}$scope.users=$route.current.locals.users,$scope.forbidden=!_lodash2.default.isArray($scope.users),$scope.selectedUsers=[],$scope.sort={orderBy:"full_name",reverse:!1},$scope.editUsersHref="#"+_management_urls.EDIT_USERS_PATH,$scope.getEditUrlHref=function(user){return"#"+_management_urls.EDIT_USERS_PATH+"/"+user},$scope.getEditRoleHref=function(role){return"#"+_management_urls.EDIT_ROLES_PATH+"/"+role},$scope.deleteUsers=function(){confirmModal("Are you sure you want to delete the selected user(s)? This action is irreversible!",{onConfirm:function(){$q.all($scope.selectedUsers.map(function(user){return user.$delete()})).then(function(){return _notify.toastNotifications.addSuccess("Deleted "+($scope.selectedUsers.length>1?"users":"user"))}).then(function(){$scope.selectedUsers.map(function(user){var i=$scope.users.indexOf(user);$scope.users.splice(i,1)}),$scope.selectedUsers.length=0})},confirmButtonText:"Delete user(s)"})},$scope.getSortArrowClass=function(field){return $scope.sort.orderBy===field&&$scope.sort.reverse?"fa-long-arrow-down":"fa-long-arrow-up"},$scope.toggleAll=function(){$scope.allSelected()?$scope.selectedUsers.length=0:$scope.selectedUsers=getActionableUsers().slice()},$scope.allSelected=function(){var users=getActionableUsers();return users.length&&users.length===$scope.selectedUsers.length},$scope.toggle=_util.toggle,$scope.includes=_lodash2.default.includes,$scope.toggleSort=_util.toggleSort}})},5597:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div class="kuiInfoPanel kuiInfoPanel--error" ng-if="forbidden">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n        <span class="kuiInfoPanelHeader__title">\n          You do not have permission to manage users.\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          Please contact your administrator.\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="!forbidden">\n      \x3c!-- ControlledTable --\x3e\n      <div class="kuiControlledTable">\n        \x3c!-- ToolBar --\x3e\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <div class="kuiToolBarSearchBox">\n              <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n              <input\n                class="kuiToolBarSearchBox__input"\n                type="text"\n                placeholder="Search..."\n                aria-label="Filter"\n                ng-model="query"\n              >\n            </div>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- Delete users button --\x3e\n            <button\n              ng-click="deleteUsers()"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-if="selectedUsers.length"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-trash"></span>\n                <span>Delete</span>\n              <span class="kuiButton__inner">\n            </button>\n\n            \x3c!-- Create user button --\x3e\n            <a\n              ng-href="{{editUsersHref}}"\n              ng-click="newUser()"\n              class="kuiButton kuiButton--primary kuiButton--iconText"\n              ng-if="!selectedUsers.length"\n              data-test-subj="createUserButton"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-plus"></span>\n                <span>Create user</span>\n              </span>\n            </a>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n\n        \x3c!-- NoResults --\x3e\n        <div class="kuiPanel kuiPanel--centered" ng-show="!(users | filter:query).length">\n          <div class="kuiNoItems">\n            No <span ng-show="query">matching</span> users found.\n          </div>\n        </div>\n\n        \x3c!-- Table --\x3e\n        <table class="kuiTable" ng-show="(users | filter:query).length">\n          <thead>\n            <tr>\n              <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n                <div class="kuiTableHeaderCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-checked="allSelected()"\n                    ng-click="toggleAll()"\n                    aria-label="{{allSelected() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                  >\n                </div>\n              </th>\n\n              <th\n                scope="col"\n                class="kuiTableHeaderCell"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'full_name\'}"\n                  ng-click="toggleSort(sort, \'full_name\')"\n                  aria-label="{{sort.reverse ? \'Sort full name ascending\' : \'Sort full name descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Full Name\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'full_name\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th\n                scope="col"\n                class="kuiTableHeaderCell"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'username\'}"\n                  ng-click="toggleSort(sort, \'username\')"\n                  aria-label="{{sort.reverse ? \'Sort user name ascending\' : \'Sort user name descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Username\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'username\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th\n                scope="col"\n                class="kuiTableHeaderCell"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'roles\'}"\n                  ng-click="toggleSort(sort, \'roles\')"\n                  aria-label="{{sort.reverse ? \'Sort roles ascending\' : \'Sort roles descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Roles\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'roles\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th scope="col" class="kuiTableHeaderCell">\n                <span class="kuiTableHeaderCell__liner">\n                  Reserved\n                  <span\n                    class="kuiIcon fa-question-circle"\n                    tooltip="Reserved users are built-in and cannot be removed or modified. Only the password may be changed."\n                    aria-label="Reserved users are built-in and cannot be removed or modified. Only the password may be changed."\n                  ></span>\n                </span>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr\n              ng-repeat="user in users | orderBy:\'username\' | filter:query | orderBy:sort.orderBy:sort.reverse"\n              data-test-subj="userRow"\n              class="kuiTableRow"\n            >\n              <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n                <div class="kuiTableRowCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-click="toggle(selectedUsers, user)"\n                    ng-checked="includes(selectedUsers, user)"\n                    ng-disabled="user.metadata._reserved"\n                  >\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditUrlHref(user.username)}}"\n                    data-test-subj="userRowFullName"\n                  >\n                    {{ user.full_name }}\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditUrlHref(user.username)}}"\n                    data-test-subj="userRowUserName"\n                  >\n                    {{ user.username }}\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell" data-test-subj="userRowRoles">\n                <div class="kuiTableRowCell__liner">\n                  <span ng-repeat="role in user.roles">\n                    <a\n                      class="kuiLink"\n                      ng-href="{{getEditRoleHref(role)}}"\n                    >\n                      {{ role }}\n                    </a>\n                    <span ng-if="!$last">,</span>\n                  </span>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <div\n                    ng-if="user.metadata._reserved"\n                    class="kuiIcon fa-check"\n                    data-test-subj="userRowReserved"\n                  ></div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        \x3c!-- ToolBarFooter --\x3e\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <div class="kuiToolBarText" ng-hide="selectedUsers.length === 0">\n              {{ selectedUsers.length }} users selected\n            </div>\n          </div>\n          <div class="kuiToolBarFooterSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5598:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_util=__webpack_require__(832),_role=__webpack_require__(1563),_roles=__webpack_require__(5599),_roles2=_interopRequireDefault(_roles);__webpack_require__(833);var _check_license_error=__webpack_require__(557),_gate_keeper=__webpack_require__(382),_management_urls=__webpack_require__(417);_routes2.default.when(_management_urls.ROLES_PATH,{template:_roles2.default,resolve:{tribeRedirect:function(Private){Private(_gate_keeper.GateKeeperProvider).redirectAndNotifyIfTribe()},roles:function(ShieldRole,kbnUrl,Promise,Private){return ShieldRole.query().$promise.catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private)).catch(_lodash2.default.identity)}},controller:function($scope,$route,$q,confirmModal){function getActionableRoles(){return $scope.roles.filter(function(role){return!role.metadata._reserved})}$scope.roles=$route.current.locals.roles,$scope.forbidden=!_lodash2.default.isArray($scope.roles),$scope.selectedRoles=[],$scope.sort={orderBy:"name",reverse:!1},$scope.editRolesHref="#"+_management_urls.EDIT_ROLES_PATH,$scope.getEditRoleHref=function(role){return"#"+_management_urls.EDIT_ROLES_PATH+"/"+role},$scope.deleteRoles=function(){confirmModal("\n        Are you sure you want to delete the selected role(s)? This action is irreversible!",{confirmButtonText:"Delete role(s)",onConfirm:function(){$q.all($scope.selectedRoles.map(function(role){return role.$delete()})).then(function(){return _notify.toastNotifications.addSuccess("Deleted "+($scope.selectedRoles.length>1?"roles":"role"))}).then(function(){$scope.selectedRoles.map(function(role){var i=$scope.roles.indexOf(role);$scope.roles.splice(i,1)}),$scope.selectedRoles.length=0})}})},$scope.getSortArrowClass=function(field){return $scope.sort.orderBy===field&&$scope.sort.reverse?"fa-long-arrow-down":"fa-long-arrow-up"},$scope.toggleAll=function(){$scope.allSelected()?$scope.selectedRoles.length=0:$scope.selectedRoles=getActionableRoles().slice()},$scope.allSelected=function(){var roles=getActionableRoles();return roles.length&&roles.length===$scope.selectedRoles.length},$scope.isRoleEnabled=_role.isRoleEnabled,$scope.toggle=_util.toggle,$scope.includes=_lodash2.default.includes,$scope.toggleSort=_util.toggleSort}})},5599:function(module,exports){module.exports='<kbn-management-app section="security">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    <div class="kuiInfoPanel kuiInfoPanel--error" ng-if="forbidden">\n      <div class="kuiInfoPanelHeader">\n        <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n        <span class="kuiInfoPanelHeader__title">\n          You do not have permission to manage roles.\n        </span>\n      </div>\n\n      <div class="kuiInfoPanelBody">\n        <div class="kuiInfoPanelBody__message">\n          Please contact your administrator.\n        </div>\n      </div>\n    </div>\n\n    <div ng-if="!forbidden">\n      \x3c!-- ControlledTable --\x3e\n      <div class="kuiControlledTable">\n        \x3c!-- ToolBar --\x3e\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <div class="kuiToolBarSearchBox">\n              <div class="kuiToolBarSearchBox__icon kuiIcon fa-search"></div>\n              <input\n                class="kuiToolBarSearchBox__input"\n                type="text"\n                placeholder="Search..."\n                aria-label="Filter"\n                ng-model="query"\n              >\n            </div>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- Delete roles button --\x3e\n            <button\n              ng-click="deleteRoles()"\n              class="kuiButton kuiButton--danger kuiButton--iconText"\n              ng-if="selectedRoles.length"\n            >\n              <span class="kuiButton__inner">\n                <span class="kuiButton__icon kuiIcon fa-trash"></span>\n                <span>Delete</span>\n              </span>\n            </button>\n\n            \x3c!-- Create role button --\x3e\n            <a\n              ng-href="{{editRolesHref}}"\n              ng-click="newRole()"\n              class="kuiButton kuiButton--primary kuiButton--iconText"\n              ng-if="!selectedRoles.length"\n              data-test-subj="createRoleButton"\n            >\n              <span class="kuiButton__icon kuiIcon fa-plus"></span><span>Create role</span>\n            </a>\n          </div>\n\n          <div class="kuiToolBarSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n\n        \x3c!-- NoResults --\x3e\n        <div class="kuiPanel kuiPanel--centered" ng-show="!(roles | filter:query).length">\n          <div class="kuiNoItems">\n            No <span ng-show="query">matching</span> roles found.\n          </div>\n        </div>\n\n        \x3c!-- Table --\x3e\n        <table class="kuiTable" ng-show="(roles | filter:query).length">\n          <thead>\n            <tr>\n              <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n                <div class="kuiTableHeaderCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-checked="allSelected()"\n                    ng-click="toggleAll()"\n                    aria-label="{{allSelected() ? \'Deselect all rows\' : \'Select all rows\'}}"\n                  >\n                </div>\n              </th>\n\n              <th\n                class="kuiTableHeaderCell"\n                scope="col"\n              >\n                <button\n                  class="kuiTableHeaderCellButton"\n                  ng-class="{\'kuiTableHeaderCellButton-isSorted\': sort.orderBy == \'name\'}"\n                  ng-click="toggleSort(sort, \'name\')"\n                  aria-label="{{sort.reverse ? \'Sort role ascending\' : \'Sort role descending\'}}"\n                >\n                  <span class="kuiTableHeaderCell__liner">\n                    Role\n                    <span\n                      aria-hidden="true"\n                      class="kuiTableSortIcon kuiIcon"\n                      ng-class="getSortArrowClass(\'name\')"\n                    ></span>\n                  </span>\n                </button>\n              </th>\n\n              <th scope="col" class="kuiTableHeaderCell">\n                <span class="kuiTableHeaderCell__liner">\n                  Reserved\n                  <span\n                    class="kuiIcon fa-question-circle"\n                    tooltip="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                    aria-label="Reserved roles are built-in and cannot be removed or modified. Only the password may be changed."\n                  ></span>\n                </span>\n              </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr\n              ng-repeat="role in roles | orderBy:\'name\' | filter:query | orderBy:sort.orderBy:sort.reverse"\n              data-test-subj="roleRow"\n              class="kuiTableRow"\n            >\n              <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n                <div class="kuiTableRowCell__liner">\n                  <input\n                    type="checkbox"\n                    class="kuiCheckBox"\n                    ng-click="toggle(selectedRoles, role)"\n                    ng-checked="includes(selectedRoles, role)"\n                    ng-disabled="role.metadata._reserved"\n                  >\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <a\n                    class="kuiLink"\n                    ng-href="{{getEditRoleHref(role.name)}}"\n                    data-test-subj="roleRowName"\n                  >\n                    {{ role.name }}\n                    <span\n                      ng-if="!isRoleEnabled(role)"\n                      class="kuiBadge kuiBadge--default"\n                      tooltip="This role is currently disabled. You may only view or delete it."\n                      aria-label="This role is currently disabled. You may only view or delete it."\n                    >\n                      <span class="kuiIcon fa-warning"></span>\n                      Disabled\n                    </span>\n                  </a>\n                </div>\n              </td>\n\n              <td class="kuiTableRowCell">\n                <div class="kuiTableRowCell__liner">\n                  <div\n                    ng-if="role.metadata._reserved"\n                    class="kuiIcon fa-check"\n                    data-test-subj="roleRowReserved"\n                  ></div>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        \x3c!-- ToolBarFooter --\x3e\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <div class="kuiToolBarText" ng-hide="selectedRoles.length === 0">\n              {{ selectedRoles.length }} roles selected\n            </div>\n          </div>\n          <div class="kuiToolBarFooterSection">\n            \x3c!-- We need an empty section for the buttons to be positioned consistently. --\x3e\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5600:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_edit_user=__webpack_require__(5601),_edit_user2=_interopRequireDefault(_edit_user);__webpack_require__(694),__webpack_require__(1564),__webpack_require__(313),__webpack_require__(833);var _check_license_error=__webpack_require__(557),_gate_keeper=__webpack_require__(382),_management_urls=__webpack_require__(417);_routes2.default.when(_management_urls.EDIT_USERS_PATH+"/:username?",{template:_edit_user2.default,resolve:{tribeRedirect:function(Private){Private(_gate_keeper.GateKeeperProvider).redirectAndNotifyIfTribe()},me:function(ShieldUser){return ShieldUser.getCurrent()},user:function($route,ShieldUser,kbnUrl,Promise,Notifier){var username=$route.current.params.username;return null!=username?ShieldUser.get({username:username}).$promise.catch(function(response){return 404!==response.status?(0,_notify.fatalError)(response):((new Notifier).error('No "'+username+'" user found.'),kbnUrl.redirect(_management_urls.USERS_PATH),Promise.halt())}):new ShieldUser({roles:[]})},roles:function(ShieldRole,kbnUrl,Promise,Private){return ShieldRole.query().$promise.then(function(roles){return _lodash2.default.map(roles,"name")}).catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))}},controllerAs:"editUser",controller:function($scope,$route,kbnUrl,Notifier,confirmModal){$scope.me=$route.current.locals.me,$scope.user=$route.current.locals.user,$scope.availableRoles=$route.current.locals.roles,$scope.usersHref="#"+_management_urls.USERS_PATH,this.isNewUser=null==$route.current.params.username;var notifier=new Notifier;$scope.deleteUser=function(user){confirmModal("Are you sure you want to delete this user? This action is irreversible!",{confirmButtonText:"Delete user",onConfirm:function(){user.$delete().then(function(){return _notify.toastNotifications.addSuccess("Deleted user")}).then($scope.goToUserList).catch(function(error){return notifier.error(_lodash2.default.get(error,"data.message"))})}})},$scope.saveUser=function(user){delete user.newPassword,user.$save().then(function(){return _notify.toastNotifications.addSuccess("User updated")}).then($scope.goToUserList).catch(function(error){return notifier.error(_lodash2.default.get(error,"data.message"))})},$scope.goToUserList=function(){kbnUrl.redirect(_management_urls.USERS_PATH)},$scope.saveNewPassword=function(newPassword,currentPassword,onSuccess,onIncorrectPassword){$scope.user.newPassword=newPassword,currentPassword&&($scope.user.password=currentPassword),$scope.user.$changePassword().then(function(){return _notify.toastNotifications.addSuccess("Password updated")}).then(onSuccess).catch(function(error){401===error.status?onIncorrectPassword():notifier.error(_lodash2.default.get(error,"data.message"))})}}})},5601:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    \x3c!-- Subheader --\x3e\n    <div class="kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        \x3c!-- Title --\x3e\n        <h1 class="kuiTitle">\n          <span ng-if="editUser.isNewUser">\n            New User\n          </span>\n          <span ng-if="!editUser.isNewUser">\n            &ldquo;{{ user.username }}&rdquo; User\n          </span>\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        \x3c!-- Delete button --\x3e\n        <button\n          ng-if="!editUser.isNewUser && !user.metadata._reserved"\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="deleteUser(user)"\n          tooltip="Delete User"\n          data-test-subj="userFormDeleteButton"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash"></span>\n            <span>Delete user</span>\n          </span>\n        </button>\n        <div\n          ng-if="user.metadata._reserved"\n          class="kuiBadge kuiBadge--default"\n          tooltip="Reserved users are built-in and cannot be removed or modified. Only the password may be changed."\n        >\n          <span class="kuiIcon fa-lock"></span>\n          Reserved\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Form --\x3e\n    <form name="form" novalidate class="kuiVerticalRhythm">\n      \x3c!-- Username --\x3e\n      <div class="kuiFormSection">\n        <label for="username" class="kuiFormLabel">\n          Username\n        </label>\n        <input\n          type="text"\n          ng-class="::editUser.isNewUser ? \'kuiTextInput fullWidth\' : \'kuiStaticInput\'"\n          ng-disabled="!editUser.isNewUser"\n          id="username"\n          name="username"\n          ng-model="user.username"\n          required pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n          maxlength="30"\n          ng-disabled="!editUser.isNewUser"\n          data-test-subj="userFormUserNameInput"\n        />\n\n        \x3c!-- Errors --\x3e\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.username.$error.pattern"\n        >\n          Username must begin with a letter or underscore and contain only letters, underscores, and numbers.\n        </div>\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.username.$touched && form.username.$error.required"\n        >\n          Username is required.\n        </div>\n      </div>\n\n      \x3c!-- New user password --\x3e\n      <kbn-password-form\n        ng-if="editUser.isNewUser"\n        password="user.password"\n      ></kbn-password-form>\n\n      \x3c!-- Full name --\x3e\n      <div class="kuiFormSection" ng-if="!user.metadata._reserved">\n        <label for="fullname" class="kuiFormLabel">\n          Full Name\n        </label>\n        <input\n          type="text"\n          class="kuiTextInput fullWidth"\n          id="fullname"\n          name="fullname"\n          ng-model="user.full_name"\n          required\n          ng-disabled="editUser.changePasswordMode"\n          data-test-subj="userFormFullNameInput"\n        />\n\n        \x3c!-- Errors --\x3e\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.fullname.$touched && form.fullname.$error.required"\n        >\n          Full Name is required.\n        </div>\n      </div>\n\n      \x3c!-- Email--\x3e\n      <div class="kuiFormSection" ng-if="!user.metadata._reserved">\n        <label for="email" class="kuiFormLabel">\n          Email\n        </label>\n        <input\n          type="email"\n          class="kuiTextInput fullWidth"\n          id="email"\n          name="email"\n          ng-model="user.email"\n          required\n          ng-disabled="editUser.changePasswordMode"\n          data-test-subj="userFormEmailInput"\n        />\n\n        \x3c!-- Errors --\x3e\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.email.$touched && form.email.$error.required"\n        >\n          Email is required.\n        </div>\n      </div>\n\n      \x3c!-- Roles--\x3e\n      <div class="kuiFormSection">\n        <label class="kuiFormLabel">\n          Roles\n        </label>\n        <ui-select\n          multiple\n          ng-model="user.roles"\n          ng-disabled="user.metadata._reserved"\n          data-test-subj="userFormRolesDropdown"\n        >\n          <ui-select-match placeholder="Add a role...">\n            <span data-test-subj="userRole userRole-{{$item}}">{{$item}}</span>\n          </ui-select-match>\n          <ui-select-choices repeat="role as role in availableRoles | filter:$select.search">\n            <div ng-bind-html="role" data-test-subj="addRoleOption addRoleOption-{{role}}" ></div>\n          </ui-select-choices>\n        </ui-select>\n      </div>\n    </form>\n\n    \x3c!-- Form actions --\x3e\n    <div class="kuiFormSection kuiFormFooter">\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-if="!user.metadata._reserved"\n        ng-disabled="form.$invalid"\n        ng-click="saveUser(user)"\n        data-test-subj="userFormSaveButton"\n      >\n        Save\n      </button>\n\n      <a\n        class="kuiButton kuiButton--basic"\n        ng-if="!user.metadata._reserved"\n        ng-href="{{usersHref}}"\n        data-test-subj="userFormCancelButton"\n      >\n        Cancel\n      </a>\n    </div>\n\n    \x3c!-- Existing user password --\x3e\n    <kbn-change-password-form\n      ng-if="!editUser.isNewUser"\n      require-current-password="me.username === user.username"\n      show-kibana-warning="user.metadata._reserved && user.username === \'kibana\'"\n      on-change-password="saveNewPassword(newPassword, currentPassword, onSuccess, onIncorrectPassword)"\n    ></kbn-change-password-form>\n  </div>\n</kbn-management-app>\n'},5602:function(module,exports,__webpack_require__){__webpack_require__(5603),module.exports="ngSanitize"},5603:function(module,exports){/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(window,angular,undefined){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[];return htmlSanitizeWriter(buf,angular.noop).chars(chars),buf.join("")}function makeMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?angular.lowercase(items[i]):items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),(unary=voidElements[tagName]||!!unary)||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}"string"!=typeof html&&(html=null===html||void 0===html?"":""+html);var index,chars,match,text,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(text="",chars=!0,stack.last()&&specialElements[stack.last()]?(html=html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last())):(0===html.indexOf("\x3c!--")?(index=html.indexOf("--",4))>=0&&html.lastIndexOf("--\x3e",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP))&&(html=html.replace(match[0],""),chars=!1):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP))&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match?(match[4]&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag)),chars=!1):(text+="<",html=html.substring(1))),chars&&(index=html.indexOf("<"),text+=index<0?html:html.substring(0,index),html=index<0?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text)))),html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){return value?(hiddenPre.innerHTML=value.replace(/</g,"&lt;"),hiddenPre.textContent):""}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){return"&#"+(1024*(value.charCodeAt(0)-55296)+(value.charCodeAt(1)-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||!0!==validElements[tag]||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;!0!==validAttrs[lkey]||!0===uriAttrs[lkey]&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||!0!==validElements[tag]||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href"),htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs),hiddenPre=document.createElement("pre");angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),function(url,text){html.push("<a "),angular.isDefined(target)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular)},5604:function(module,exports){/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.3 - 2016-08-17T06:16:41.345Z
 * License: MIT
 */
!function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(k){return(k=k.which?k.which:k)>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];return sep||(KEY[k]?void 0:k)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){for(var elem=this[0],matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;elem;){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return!1});var latestId=0,uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return latestId++},appendToBody:!1}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments),message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){return tElement.addClass("ui-select-choices"),(tElement.parent().attr("theme")||uiSelectConfig.theme)+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");var groupByExp=tAttrs.groupBy,groupFilterExp=tAttrs.groupFilter;if(groupByExp){var groups=tElement.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var parserResult=RepeatParser.parse(tAttrs.repeat),choices=tElement.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open");var rowsInner=tElement.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);return rowsInner.attr("uis-transclude-append",""),($window.document.addEventListener?choices:rowsInner).attr("ng-click","$select.select("+parserResult.itemName+",$select.skipFocusser,$event)"),function(scope,element,attrs,$select){$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp),$select.disableChoiceExpression=attrs.uiDisableChoice,$select.onHighlightCallback=attrs.onHighlight,$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition,scope.$on("$destroy",function(){choices.remove()}),scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(!1,!0),$select.activeIndex=$select.tagging.isActivated?-1:0,!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?$select.refresh(attrs.refresh):$select.items=[]}),attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay})}}}}]),uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,$$uisDebounce,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){function _findIndex(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);for(var value,list=Object(collection),length=list.length>>>0,i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1}function _resetSearchInput(){ctrl.resetSearchInput&&(ctrl.search=EMPTY_SEARCH,ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected)))}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++)for(j=0;j<groups.length;j++)groups[j].name==[groupNames[i]]&&result.push(groups[j]);return result}function _updateItemDisabled(item,isDisabled){var disabledItemIndex=disabledItems.indexOf(item);isDisabled&&-1===disabledItemIndex&&disabledItems.push(item),!isDisabled&&disabledItemIndex>-1&&disabledItems.splice(disabledItemIndex,1)}function _isItemDisabled(item){return disabledItems.indexOf(item)>-1}function _initaliseLockedChoices(doInitalise){function _updateItemLocked(item,isLocked){var lockedItemIndex=lockedItems.indexOf(item);isLocked&&-1===lockedItemIndex&&lockedItems.push(item),!isLocked&&lockedItemIndex>-1&&lockedItems.splice(lockedItemIndex,0)}function _isItemlocked(item){return lockedItems.indexOf(item)>-1}if(doInitalise){var lockedItems=[];ctrl.isLocked=function(itemScope,itemIndex){var isLocked=!1,item=ctrl.selected[itemIndex];return item&&(itemScope?(isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression),_updateItemLocked(item,isLocked)):isLocked=_isItemlocked(item)),isLocked}}}function _handleDropDownSelection(key){var processed=!0;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):(ctrl.activeIndex>0||0===ctrl.search.length&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],!0);break;case KEY.ENTER:ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):ctrl.activate(!1,!0);break;case KEY.ESC:ctrl.close();break;default:processed=!1}return processed}function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content"),choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(!(ctrl.activeIndex<0)){var highlighted=choices[ctrl.activeIndex],posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop,height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}}var ctrl=this,EMPTY_SEARCH="";if(ctrl.placeholder=uiSelectConfig.placeholder,ctrl.searchEnabled=uiSelectConfig.searchEnabled,ctrl.sortable=uiSelectConfig.sortable,ctrl.refreshDelay=uiSelectConfig.refreshDelay,ctrl.paste=uiSelectConfig.paste,ctrl.resetSearchInput=uiSelectConfig.resetSearchInput,ctrl.removeSelected=uiSelectConfig.removeSelected,ctrl.closeOnSelect=!0,ctrl.skipFocusser=!1,ctrl.search=EMPTY_SEARCH,ctrl.activeIndex=0,ctrl.items=[],ctrl.open=!1,ctrl.focus=!1,ctrl.disabled=!1,ctrl.selected=void 0,ctrl.dropdownPosition="auto",ctrl.focusser=void 0,ctrl.multiple=void 0,ctrl.disableChoiceExpression=void 0,ctrl.tagging={isActivated:!1,fct:void 0},ctrl.taggingTokens={isActivated:!1,tokens:void 0},ctrl.lockChoiceExpression=void 0,ctrl.clickTriggeredSelect=!1,ctrl.$filter=$filter,ctrl.$element=$element,ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}(),ctrl.searchInput=$element.querySelectorAll("input.ui-select-search"),1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length},ctrl.activate=function(initSearchValue,avoidReset){if(ctrl.disabled||ctrl.open)ctrl.open&&!ctrl.searchEnabled&&ctrl.close();else{avoidReset||_resetSearchInput(),$scope.$broadcast("uis:activate"),ctrl.open=!0,ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex,-1===ctrl.activeIndex&&!1!==ctrl.taggingLabel&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content"),searchInput=$element.querySelectorAll(".ui-select-search");if(ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])){var animateHandler=function(elem,phase){"start"===phase&&0===ctrl.items.length?(ctrl.$animate.off("removeClass",searchInput[0],animateHandler),$timeout(function(){ctrl.focusSearchInput(initSearchValue)})):"close"===phase&&(ctrl.$animate.off("enter",container[0],animateHandler),$timeout(function(){ctrl.focusSearchInput(initSearchValue)}))};ctrl.items.length>0?ctrl.$animate.on("enter",container[0],animateHandler):ctrl.$animate.on("removeClass",searchInput[0],animateHandler)}else $timeout(function(){ctrl.focusSearchInput(initSearchValue),!ctrl.tagging.isActivated&&ctrl.items.length>1&&_ensureHighlightVisible()})}},ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search,ctrl.searchInput[0].focus()},ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]},ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);if(ctrl.groups=[],angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn],group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})}),groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn))}ctrl.items=[],ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems,ctrl.parserResult=RepeatParser.parse(repeatAttr),ctrl.isGrouped=!!groupByExp,ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source,createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};return result[ctrl.parserResult.keyName]=v,result.value=origSrc[v],result})};ctrl.parserResult.keyName&&(createArrayFromObject(),ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters),$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},!0)),ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.multiple||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data&&null!==data){var filteredItems=data.filter(function(i){return angular.isArray(selectedItems)?selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)}):!angular.equals(i,selectedItems)});ctrl.setItemsFn(filteredItems)}"auto"!==ctrl.dropdownPosition&&"up"!==ctrl.dropdownPosition||$scope.calculateDropdownPos(),$scope.$broadcast("uis:refresh")},$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);ctrl.refreshItems(items),angular.isDefined(ctrl.ngModel.$modelValue)&&(ctrl.ngModel.$modelValue=null)}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){void 0!==refreshAttr&&(_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise),_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay))},ctrl.isActive=function(itemScope){if(!ctrl.open)return!1;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isActive=itemIndex==ctrl.activeIndex;return!(!isActive||itemIndex<0)&&(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback),isActive)};var _isItemSelected=function(item){return ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0},disabledItems=[];ctrl.isDisabled=function(itemScope){if(ctrl.open){var item=itemScope[ctrl.itemProperty],itemIndex=ctrl.items.indexOf(item),isDisabled=!1;if(itemIndex>=0&&(angular.isDefined(ctrl.disableChoiceExpression)||ctrl.multiple)){if(item.isTag)return!1;ctrl.multiple&&(isDisabled=_isItemSelected(item)),!isDisabled&&angular.isDefined(ctrl.disableChoiceExpression)&&(isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression)),_updateItemDisabled(item,isDisabled)}return isDisabled}},ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!_isItemDisabled(item)){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!_isItemDisabled(item)){if(ctrl.clickTriggeredSelect=!1,$event&&"click"===$event.type&&item&&(ctrl.clickTriggeredSelect=!0),ctrl.tagging.isActivated&&!1===ctrl.clickTriggeredSelect){if(!1===ctrl.taggingLabel)if(ctrl.activeIndex<0){if(void 0===item&&(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search),!item||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"==typeof item){if(!(item=ctrl.tagging.fct(item)))return}else"string"==typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(_isItemSelected(item))return void ctrl.close(skipFocusser)}_resetSearchInput(),$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item,$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})}),ctrl.closeOnSelect&&ctrl.close(skipFocusser)}}},ctrl.close=function(skipFocusser){ctrl.open&&(ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched(),ctrl.open=!1,_resetSearchInput(),$scope.$broadcast("uis:close",skipFocusser))},ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()},ctrl.clear=function($event){ctrl.select(void 0),$event.stopPropagation(),$timeout(function(){ctrl.focusser[0].focus()},0,!1)},ctrl.toggle=function(e){ctrl.open?(ctrl.close(),e.preventDefault(),e.stopPropagation()):ctrl.activate()},ctrl.isLocked=function(){return!1},$scope.$watch(function(){return angular.isDefined(ctrl.lockChoiceExpression)&&""!==ctrl.lockChoiceExpression},_initaliseLockedChoices);var sizeWatch=null,updaterScheduled=!1;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return!1;var inputWidth=containerWidth-input.offsetLeft-10;return inputWidth<50&&(inputWidth=containerWidth),ctrl.searchInput.css("width",inputWidth+"px"),!0};ctrl.searchInput.css("width","10px"),$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(function(){updaterScheduled||(updaterScheduled=!0,$scope.$$postDigest(function(){updaterScheduled=!1,updateIfVisible(calculateContainerWidth())&&(sizeWatch(),sizeWatch=null)}))},angular.noop))})},ctrl.searchInput.on("keydown",function(e){var key=e.which;~[KEY.ENTER,KEY.ESC].indexOf(key)&&(e.preventDefault(),e.stopPropagation()),$scope.$apply(function(){var tagged=!1;if((ctrl.items.length>0||ctrl.tagging.isActivated)&&(_handleDropDownSelection(key)||ctrl.searchEnabled||(e.preventDefault(),e.stopPropagation()),ctrl.taggingTokens.isActivated)){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&ctrl.search.length>0&&(tagged=!0);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem)),newItem&&ctrl.select(newItem,!0)})}}),KEY.isVerticalMovement(key)&&ctrl.items.length>0&&_ensureHighlightVisible(),key!==KEY.ENTER&&key!==KEY.ESC||(e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("paste",function(e){var data;if(data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(data=ctrl.search+data)&&data.length>0)if(ctrl.taggingTokens.isActivated){for(var items=[],i=0;i<ctrl.taggingTokens.tokens.length;i++){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[i])||ctrl.taggingTokens.tokens[i];if(data.indexOf(separator)>-1){items=data.split(separator);break}}0===items.length&&(items=[data]);var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,!0)}),ctrl.search=oldsearch||EMPTY_SEARCH,e.preventDefault(),e.stopPropagation()}else ctrl.paste&&(ctrl.paste(data),ctrl.search=EMPTY_SEARCH,e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});var onResize=$$uisDebounce(function(){ctrl.sizeSearchInput()},50);angular.element($window).bind("resize",onResize),$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste"),angular.element($window).off("resize",onResize)})}]),uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){return(tAttrs.theme||uiSelectConfig.theme)+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined,tElement.attr("ng-class",combined)}return angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>"),tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId),function(scope,element,attrs,ctrls,transcludeFn){function onDocumentClick(e){if($select.open){if(!(window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target))&&!$select.clickTriggeredSelect){var skipFocusser;if($select.skipFocusser)skipFocusser=!0;else{var focusableControls=["input","button","textarea","select"],targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select,skipFocusser||(skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase()))}$select.close(skipFocusser),scope.$digest()}$select.clickTriggeredSelect=!1}}function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>'),placeholder[0].style.width=offset.width+"px",placeholder[0].style.height=offset.height+"px",element.after(placeholder),originalWidth=element[0].style.width,$document.find("body").append(element),element[0].style.position="absolute",element[0].style.left=offset.left+"px",element[0].style.top=offset.top+"px",element[0].style.width=offset.width+"px"}function resetDropdown(){null!==placeholder&&(placeholder.replaceWith(element),placeholder=null,element[0].style.position="",element[0].style.left="",element[0].style.top="",element[0].style.width=originalWidth,$select.setFocus())}var $select=ctrls[0],ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId(),$select.baseTitle=attrs.title||"Select box",$select.focusserTitle=$select.baseTitle+" focus",$select.focusserId="focusser-"+$select.generatedId,$select.closeOnSelect=function(){return angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect}(),scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0!==skipFocusser?skipFocusser:uiSelectConfig.skipFocusser}),$select.onSelectCallback=$parse(attrs.onSelect),$select.onRemoveCallback=$parse(attrs.onRemove),$select.ngModel=ngModel,$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name},attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value),element.removeAttr("tabindex")}),scope.$watch(function(){return scope.$eval(attrs.searchEnabled)},function(newVal){$select.searchEnabled=void 0!==newVal?newVal:uiSelectConfig.searchEnabled}),scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable}),attrs.$observe("limit",function(){$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0}),scope.$watch("removeSelected",function(){var removeSelected=scope.$eval(attrs.removeSelected);$select.removeSelected=void 0!==removeSelected?removeSelected:uiSelectConfig.removeSelected}),attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled}),attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput}),attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)}),attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:!0,fct:!0!==taggingEval?taggingEval:void 0}}else $select.tagging={isActivated:!1,fct:void 0}}),attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=!1:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")}),attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:!0,tokens:tokens}}}),angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()}),angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})}),$document.on("click",onDocumentClick),scope.$on("$destroy",function(){$document.off("click",onDocumentClick)}),transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone),transcludedMatch=transcluded.querySelectorAll(".ui-select-match");if(transcludedMatch.removeAttr("ui-select-match"),transcludedMatch.removeAttr("data-ui-select-match"),1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");if(transcludedChoices.removeAttr("ui-select-choices"),transcludedChoices.removeAttr("data-ui-select-choices"),1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices);var transcludedNoChoice=transcluded.querySelectorAll(".ui-select-no-choice");transcludedNoChoice.removeAttr("ui-select-no-choice"),transcludedNoChoice.removeAttr("data-ui-select-no-choice"),1==transcludedNoChoice.length&&element.querySelectorAll(".ui-select-no-choice").replaceWith(transcludedNoChoice)});var appendToBody=scope.$eval(attrs.appendToBody);(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody)&&(scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()}),scope.$on("$destroy",function(){resetDropdown()}));var placeholder=null,originalWidth="",dropdown=null;scope.$watch("$select.open",function(){"auto"!==$select.dropdownPosition&&"up"!==$select.dropdownPosition||scope.calculateDropdownPos()});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="absolute",dropdown[0].style.top=-1*offsetDropdown.height+"px",element.addClass("direction-up")},setDropdownPosDown=function(offset,offsetDropdown){element.removeClass("direction-up"),offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="",dropdown[0].style.top=""},calculateDropdownPosAfterAnimation=function(){$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass("direction-up");var offset=uisOffset(element),offsetDropdown=uisOffset(dropdown),scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):setDropdownPosDown(offset,offsetDropdown)}dropdown[0].style.opacity=1})},opened=!1;scope.calculateDropdownPos=function(){if($select.open){if(dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown"),0===dropdown.length)return;if(""!==$select.search||opened||(dropdown[0].style.opacity=0,opened=!0),!uisOffset(dropdown).height&&$select.$animate&&$select.$animate.on&&$select.$animate.enabled(dropdown)){var needsCalculated=!0;$select.$animate.on("enter",dropdown,function(elem,phase){"close"===phase&&needsCalculated&&(calculateDropdownPosAfterAnimation(),needsCalculated=!1)})}else calculateDropdownPosAfterAnimation()}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.opacity=0,dropdown[0].style.position="",dropdown[0].style.top="",element.removeClass("direction-up")}}}}}}]),uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){function getAttribute(elem,attribute){return elem[0].hasAttribute(attribute)?elem.attr(attribute):elem[0].hasAttribute("data-"+attribute)?elem.attr("data-"+attribute):elem[0].hasAttribute("x-"+attribute)?elem.attr("x-"+attribute):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){tElement.addClass("ui-select-match");var parent=tElement.parent();return(getAttribute(parent,"theme")||uiSelectConfig.theme)+(angular.isDefined(getAttribute(parent,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}$select.lockChoiceExpression=attrs.uiLockChoice,attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder}),attrs.$observe("allowClear",setAllowClear),setAllowClear(attrs.allowClear),$select.multiple&&$select.sizeSearchInput()}}}]),uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;angular.isUndefined($select.selected)&&($select.selected=[]),$scope.$evalAsync(function(){ngModel=$scope.ngModel}),ctrl.activeMatchIndex=-1,ctrl.updateModel=function(){ngModel.$setViewValue(Date.now()),ctrl.refreshComponent()},ctrl.refreshComponent=function(){$select.refreshItems&&$select.refreshItems(),$select.sizeSearchInput&&$select.sizeSearchInput()},ctrl.removeChoice=function(index){if($select.isLocked(null,index))return!1;var removedChoice=$select.selected[index],locals={};return locals[$select.parserResult.itemName]=removedChoice,$select.selected.splice(index,1),ctrl.activeMatchIndex=-1,$select.sizeSearchInput(),$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})}),ctrl.updateModel(),!0},ctrl.getPlaceholder=function(){if(!$select.selected||!$select.selected.length)return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;return!(caretPosition>0||$select.search.length&&key==KEY.RIGHT)&&($select.close(),newIndex=function(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;case KEY.RIGHT:return~$selectMultiple.activeMatchIndex&&curr!==last?next:($select.activate(),!1);case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?$selectMultiple.removeChoice(curr)?prev:curr:last;case KEY.DELETE:return!!~$selectMultiple.activeMatchIndex&&($selectMultiple.removeChoice($selectMultiple.activeMatchIndex),curr)}}(),$select.selected.length&&!1!==newIndex?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(0,newIndex)):$selectMultiple.activeMatchIndex=-1,!0)}function _findCaseInsensitiveDupe(arr){return void 0!==arr&&void 0!==$select.search&&arr.filter(function(origItem){return void 0!==$select.search.toUpperCase()&&void 0!==origItem&&origItem.toUpperCase()===$select.search.toUpperCase()}).length>0}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack))for(var tempArr=angular.copy(haystack),i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=!0),angular.equals(mockObj,needle)&&(dupeIndex=i)}return dupeIndex}var $select=ctrls[0],ngModel=scope.ngModel=ctrls[1],$selectMultiple=scope.$selectMultiple;$select.multiple=!0,$select.focusInput=$select.searchInput,ngModel.$isEmpty=function(value){return!value||0===value.length},ngModel.$parsers.unshift(function(){for(var result,locals={},resultMultiple=[],j=$select.selected.length-1;j>=0;j--)locals={},locals[$select.parserResult.itemName]=$select.selected[j],result=$select.parserResult.modelMapper(scope,locals),resultMultiple.unshift(result);return resultMultiple}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;var resultMultiple=[],checkFnMultiple=function(list,value){if(list&&list.length){for(var p=list.length-1;p>=0;p--){if(locals[$select.parserResult.itemName]=list[p],result=$select.parserResult.modelMapper(scope,locals),$select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp),matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&propsItemNameMatches.length>0&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&matches.length>0&&result[matches[1]]==value[matches[1]])return resultMultiple.unshift(list[p]),!0}if(angular.equals(result,value))return resultMultiple.unshift(list[p]),!0}return!1}};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple}),scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){oldValue!=newValue&&(angular.isDefined(ngModel.$modelValue)&&(ngModel.$modelValue=null),$selectMultiple.refreshComponent())}),ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);ngModel.$viewValue=[]}$select.selected=ngModel.$viewValue,$selectMultiple.refreshComponent(),scope.$evalAsync()},scope.$on("uis:select",function(event,item){$select.selected.length>=$select.limit||($select.selected.push(item),$selectMultiple.updateModel())}),scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1}),scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()}),$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=!1;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key)),processed&&key!=KEY.TAB&&(e.preventDefault(),e.stopPropagation())})}),$select.searchInput.on("keyup",function(e){if(KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=!1===$select.taggingLabel?-1:0}),$select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;if($select.activeIndex=!1===$select.taggingLabel?-1:0,!1===$select.taggingLabel)return;var newItem,item,tagItems,tagItem,items=angular.copy($select.items),stashArr=angular.copy($select.items),hasTag=!1,dupeIndex=-1;if(void 0!==$select.tagging.fct){if(tagItems=$select.$filter("filter")(items,{isTag:!0}),tagItems.length>0&&(tagItem=tagItems[0]),items.length>0&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.tagging.fct($select.search),stashArr.some(function(origItem){return angular.equals(origItem,newItem)})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)}))return void scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items});newItem&&(newItem.isTag=!0)}else{if(tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)}),tagItems.length>0&&(tagItem=tagItems[0]),item=items[0],void 0!==item&&items.length>0&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.search+" "+$select.taggingLabel,_findApproxDupe($select.selected,$select.search)>-1)return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected)))return void(hasTag&&(items=stashArr,scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})));if(_findCaseInsensitiveDupe(stashArr))return void(hasTag&&($select.items=stashArr.slice(1,stashArr.length)))}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem)),dupeIndex>-1?items=items.slice(dupeIndex+1,items.length-1):(items=[],newItem&&items.push(newItem),items=items.concat(stashArr)),scope.$evalAsync(function(){if($select.activeIndex=0,$select.items=items,$select.isGrouped){var itemsWithoutTag=newItem?items.slice(1):items;$select.setItemsFn(itemsWithoutTag),newItem&&($select.items.unshift(newItem),$select.groups.unshift({name:"",items:[newItem],tagging:!0}))}})}}),$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]),uis.directive("uiSelectNoChoice",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){return tElement.addClass("ui-select-no-choice"),(tElement.parent().attr("theme")||uiSelectConfig.theme)+"/no-choice.tpl.html"}}}]),uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={};return locals[$select.parserResult.itemName]=inputValue,$select.parserResult.modelMapper(scope,locals)}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult&&$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){return locals[$select.parserResult.itemName]=d,(result=$select.parserResult.modelMapper(scope,locals))===inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;i>=0;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue}),scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)}),ngModel.$render=function(){$select.selected=ngModel.$viewValue},scope.$on("uis:select",function(event,item){$select.selected=item}),scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",!1),skipFocusser||$select.focusser[0].focus()},0,!1)}),scope.$on("uis:activate",function(){focusser.prop("disabled",!0)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope),$select.focusser=focusser,$select.focusInput=focusser,element.parent().append(focusser),focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=!0})}),focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=!1})}),focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE)return e.preventDefault(),e.stopPropagation(),$select.select(void 0),void scope.$apply();e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||(e.which!=KEY.DOWN&&e.which!=KEY.UP&&e.which!=KEY.ENTER&&e.which!=KEY.SPACE||(e.preventDefault(),e.stopPropagation(),$select.activate()),scope.$digest())}),focusser.bind("keyup input",function(e){e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE||($select.activate(focusser.val()),focusser.val(""),scope.$digest())})}}}]),uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:["^^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var $select=ctrls[0],$ngModel=ctrls[1],options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions)),axis=options.axis;scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",!0):element.removeAttr("draggable")}),element.on("dragstart",function(event){element.addClass("dragging"),(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())}),element.on("dragend",function(){removeClass("dragging")});var dropTimeout,move=function(from,to){this.splice(to,0,this.splice(from,1)[0])},removeClass=function(className){angular.forEach($select.$element.querySelectorAll("."+className),function(el){angular.element(el).removeClass(className)})},dragOverHandler=function(event){event.preventDefault(),("vertical"===axis?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0))<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2?(removeClass("dropping-after"),element.addClass("dropping-before")):(removeClass("dropping-before"),element.addClass("dropping-after"))},dropHandler=function(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout),dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)},_dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;newIndex=element.hasClass("dropping-before")?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1,move.apply(theList,[droppedItemIndex,newIndex]),$ngModel.$setViewValue(Date.now()),scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})}),removeClass("dropping"),removeClass("dropping-before"),removeClass("dropping-after"),element.off("drop",dropHandler)};element.on("dragenter",function(){element.hasClass("dragging")||(element.addClass("dropping"),element.on("dragover",dragOverHandler),element.on("drop",dropHandler))}),element.on("dragleave",function(event){event.target==element&&(removeClass("dropping"),removeClass("dropping-before"),removeClass("dropping-after"),element.off("dragover",dragOverHandler),element.off("drop",dropHandler))})}}}]),uis.factory("$$uisDebounce",["$timeout",function($timeout){return function(callback,debounceTime){var timeoutPromise;return function(){var self=this,args=Array.prototype.slice.call(arguments);timeoutPromise&&$timeout.cancel(timeoutPromise),timeoutPromise=$timeout(function(){callback.apply(self,args)},debounceTime)}}}]),uis.directive("uisOpenClose",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",require:"uiSelect",link:function(scope,element,attrs,$select){$select.onOpenCloseCallback=$parse(attrs.uisOpenClose),scope.$watch("$select.open",function(isOpen,previousState){isOpen!==previousState&&$timeout(function(){$select.onOpenCloseCallback(scope,{isOpen:isOpen})})})}}}]),uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;if(!(match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);filterMatch&&filterMatch[1].trim()&&(filters=filterMatch[1],source=source.replace(filters,""))}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");return this.trackByExp&&(expression+=" track by "+this.trackByExp),expression}}},self.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),$templateCache.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),$templateCache.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),$templateCache.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),$templateCache.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),$templateCache.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}])},5605:function(module,exports){},5606:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_notify=__webpack_require__(10),_util=__webpack_require__(832),_role=__webpack_require__(1563),_edit_role=__webpack_require__(5607),_edit_role2=_interopRequireDefault(_edit_role);__webpack_require__(1564),__webpack_require__(313),__webpack_require__(833),__webpack_require__(5608),__webpack_require__(5609);var _index_patterns=__webpack_require__(632),_xpack_info=__webpack_require__(46),_check_license_error=__webpack_require__(557),_gate_keeper=__webpack_require__(382),_management_urls=__webpack_require__(417);_routes2.default.when(_management_urls.EDIT_ROLES_PATH+"/:name?",{template:_edit_role2.default,resolve:{tribeRedirect:function(Private){Private(_gate_keeper.GateKeeperProvider).redirectAndNotifyIfTribe()},role:function($route,ShieldRole,kbnUrl,Promise,Notifier){var name=$route.current.params.name;return null!=name?ShieldRole.get({name:name}).$promise.catch(function(response){return 404!==response.status?(0,_notify.fatalError)(response):((new Notifier).error('No "'+name+'" role found.'),kbnUrl.redirect(_management_urls.ROLES_PATH),Promise.halt())}):new ShieldRole({cluster:[],indices:[],run_as:[]})},users:function(ShieldUser,kbnUrl,Promise,Private){return ShieldUser.query().$promise.then(function(users){return _lodash2.default.map(users,"username")}).catch((0,_check_license_error.checkLicenseError)(kbnUrl,Promise,Private))},indexPatterns:function(Private){return Private(_index_patterns.IndexPatternsProvider).getTitles()}},controllerAs:"editRole",controller:function($injector,$scope){var _this=this,$route=$injector.get("$route"),kbnUrl=$injector.get("kbnUrl"),shieldPrivileges=$injector.get("shieldPrivileges"),Notifier=$injector.get("Notifier"),Private=$injector.get("Private"),confirmModal=$injector.get("confirmModal"),shieldIndices=$injector.get("shieldIndices");$scope.role=$route.current.locals.role,$scope.users=$route.current.locals.users,$scope.indexPatterns=$route.current.locals.indexPatterns,$scope.privileges=shieldPrivileges,$scope.rolesHref="#"+_management_urls.ROLES_PATH,this.isNewRole=null==$route.current.params.name,this.fieldOptions={};var notifier=new Notifier;$scope.deleteRole=function(role){confirmModal("Are you sure you want to delete this role? This action is irreversible!",{confirmButtonText:"Delete role",onConfirm:function(){role.$delete().then(function(){return _notify.toastNotifications.addSuccess("Deleted role")}).then($scope.goToRoleList).catch(function(error){return notifier.error(_lodash2.default.get(error,"data.message"))})}})},$scope.saveRole=function(role){return role.indices=role.indices.filter(function(index){return index.names.length}),role.indices.forEach(function(index){return index.query||delete index.query}),role.$save().then(function(){return _notify.toastNotifications.addSuccess("Updated role")}).then($scope.goToRoleList).catch(function(error){return notifier.error(_lodash2.default.get(error,"data.message"))})},$scope.goToRoleList=function(){kbnUrl.redirect(_management_urls.ROLES_PATH)},$scope.addIndex=function(indices){indices.push({names:[],privileges:[],field_security:{grant:["*"]}})},$scope.areIndicesValid=function(indices){return null==indices.filter(function(index){return index.names.length}).find(function(index){return 0===index.privileges.length})},$scope.fetchFieldOptions=function(index){var indices=index.names.join(","),fieldOptions=_this.fieldOptions;indices&&null==fieldOptions[indices]&&shieldIndices.getFields(indices).then(function(fields){return fieldOptions[indices]=fields}).catch(function(){return fieldOptions[indices]=[]})},$scope.isRoleEnabled=_role.isRoleEnabled;var xpackInfo=Private(_xpack_info.XPackInfoProvider);$scope.allowDocumentLevelSecurity=xpackInfo.get("features.security.allowRoleDocumentLevelSecurity"),$scope.allowFieldLevelSecurity=xpackInfo.get("features.security.allowRoleFieldLevelSecurity"),$scope.$watch("role.indices",function(indices){indices.length?indices.forEach($scope.fetchFieldOptions):$scope.addIndex(indices)},!0),$scope.toggle=_util.toggle,$scope.includes=_lodash2.default.includes,$scope.union=_lodash2.default.flow(_lodash2.default.union,_lodash2.default.compact)}})},5607:function(module,exports){module.exports='<kbn-management-app section="security" omit-breadcrumb-pages="[\'edit\']">\n  \x3c!-- This content gets injected below the localNav. --\x3e\n  <div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n    \x3c!-- Subheader --\x3e\n    <div class="kuiBar kuiVerticalRhythm">\n      <div class="kuiBarSection">\n        \x3c!-- Title --\x3e\n        <h1 class="kuiTitle">\n          <span ng-if="editRole.isNewRole">\n            New Role\n          </span>\n          <span ng-if="!editRole.isNewRole">\n            &ldquo;{{ role.name }}&rdquo; Role\n          </span>\n        </h1>\n      </div>\n\n      <div class="kuiBarSection">\n        \x3c!-- Delete button --\x3e\n        <button\n          ng-if="!editRole.isNewRole && !role.metadata._reserved"\n          class="kuiButton kuiButton--danger kuiButton--iconText"\n          ng-click="deleteRole(role)"\n          tooltip="Delete Role"\n        >\n          <span class="kuiButton__inner">\n            <span class="kuiButton__icon kuiIcon fa-trash"></span>\n            <span>Delete role</span>\n          </span>\n        </button>\n        <div\n          ng-if="role.metadata._reserved"\n          class="kuiBadge kuiBadge--default"\n          tooltip="Reserved roles are built-in and cannot be removed or modified."\n        >\n          <span class="kuiIcon fa-lock"></span>\n          Reserved\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Form --\x3e\n    <form name="form" novalidate class="kuiVerticalRhythm">\n      \x3c!-- Name --\x3e\n      <div class="kuiFormSection">\n        <label for="name" class="kuiFormLabel">\n          Name\n        </label>\n        <input\n          type="text"\n          class="fullWidth"\n          ng-class="::editRole.isNewRole ? \'kuiTextInput\' : \'kuiStaticInput\'"\n          ng-disabled="!editRole.isNewRole"\n          id="name"\n          name="name"\n          ng-model="role.name"\n          required\n          pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n          maxlength="30"\n          data-test-subj="roleFormNameInput"\n        />\n\n        \x3c!-- Errors --\x3e\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.name.$error.pattern"\n        >\n          Name must begin with a letter or underscore and contain only letters, underscores, and numbers.\n        </div>\n\n        <div\n          class="kuiInputNote kuiInputNote--danger"\n          ng-show="form.name.$touched && form.name.$error.required"\n        >\n          Name is required.\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        \x3c!-- Cluster privileges --\x3e\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel">\n            Cluster Privileges\n          </label>\n          <div ng-repeat="privilege in privileges.cluster">\n            <label>\n              <input\n                class="kuiCheckBox"\n                type="checkbox"\n                ng-checked="includes(role.cluster, privilege)"\n                ng-click="toggle(role.cluster, privilege)"\n                ng-disabled="role.metadata._reserved || !isRoleEnabled(role)"\n              />\n              <span class="kuiOptionLabel">{{privilege}}</span>\n            </label>\n          </div>\n        </div>\n\n        \x3c!-- Run-as privileges --\x3e\n        <div class="kuiFormSection">\n          <label class="kuiFormLabel">\n            Run As Privileges\n          </label>\n          <ui-select\n            multiple\n            ng-model="role.run_as"\n            ng-disabled="role.metadata._reserved || !isRoleEnabled(role)"\n          >\n            <ui-select-match placeholder="Add a user...">\n              {{$item}}\n            </ui-select-match>\n            <ui-select-choices repeat="user as user in union([$select.search], users) | filter:$select.search">\n              <div ng-bind-html="user"></div>\n            </ui-select-choices>\n          </ui-select>\n        </div>\n\n        \x3c!-- Index privileges --\x3e\n        <div class="kuiFormSection">\n          <kbn-index-privileges-form\n            is-new-role="editRole.isNewRole"\n            indices="role.indices"\n            index-patterns="indexPatterns"\n            privileges="privileges"\n            field-options="editRole.fieldOptions"\n            is-reserved="role.metadata._reserved"\n            is-enabled="isRoleEnabled(role)"\n            allow-document-level-security="allowDocumentLevelSecurity"\n            allow-field-level-security="allowFieldLevelSecurity"\n            add-index="addIndex(indices)"\n            remove-index="toggle(indices, index)"\n          ></kbn-index-privileges-form>\n        </div>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        \x3c!-- Form actions --\x3e\n        <div class="kuiFormSection kuiFormFooter">\n          <button\n            class="kuiButton kuiButton--primary"\n            ng-click="saveRole(role)"\n            ng-if="!role.metadata._reserved && isRoleEnabled(role)"\n            ng-disabled="form.$invalid || !areIndicesValid(role.indices)"\n            data-test-subj="roleFormSaveButton"\n          >\n            Save\n          </button>\n\n          <a\n            class="kuiButton kuiButton--basic"\n            ng-if="!role.metadata._reserved"\n            ng-href="{{rolesHref}}"\n            data-test-subj="roleFormCancelButton"\n          >\n            Cancel\n          </a>\n        </div>\n      </div>\n    </form>\n  </div>\n</kbn-management-app>\n'},5608:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("security",[]).constant("shieldPrivileges",{cluster:["all","monitor","manage","manage_security","manage_index_templates","manage_pipeline","manage_ingest_pipelines","transport_client","manage_ml","monitor_ml","manage_watcher","monitor_watcher"],indices:["all","manage","monitor","read","index","create","delete","write","delete_index","create_index","view_index_metadata","read_cross_cluster"]})},5609:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2).uiModules.get("security",[]).service("shieldIndices",function($http,chrome){return{getFields:function(query){return $http.get(chrome.addBasePath("/api/security/v1/fields/"+query)).then(function(response){return response.data})}}})},5610:function(module,exports){},5611:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"timelion",title:"Timelion",description:"Use an expression language to analyze time series data and visualize the results.",icon:"/plugins/kibana/assets/app_timelion.svg",path:"/app/timelion",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.DATA}})},5612:function(module,exports,__webpack_require__){"use strict";var _feature_catalogue=__webpack_require__(58);_feature_catalogue.FeatureCatalogueRegistryProvider.register(function(){return{id:"watcher",title:"Watcher",description:"Detect changes in your data by creating, managing, and monitoring alerts.",icon:"/plugins/watcher/assets/app_watches.svg",path:"/app/kibana#/management/elasticsearch/watcher/watches",showOnHomePage:!0,category:_feature_catalogue.FeatureCatalogueCategory.ADMIN}})},5613:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5614),__webpack_require__(5615)},5614:function(module,exports,__webpack_require__){"use strict"},5615:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_testbed_route=__webpack_require__(5616),_testbed_route2=_interopRequireDefault(_testbed_route);__webpack_require__(5617),_routes2.default.when("/management/elasticsearch/watches/testbed/:data?",{template:_testbed_route2.default,resolve:{data:function($route){return $route.current.params.data}},controllerAs:"testbedRoute",controller:function TestbedRouteController($injector){_classCallCheck(this,TestbedRouteController);var $route=$injector.get("$route");this.data=$route.current.locals.data}})},5616:function(module,exports){module.exports='<testbed data="testbedRoute.data"></testbed>\n'},5617:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5618)},5618:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_testbed=__webpack_require__(5619),_testbed2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_testbed);__webpack_require__(5620),_modules.uiModules.get("xpack/watcher").directive("testbed",function(){return{restrict:"E",template:_testbed2.default,scope:{},bindToController:!0,controllerAs:"testbed",controller:function TestbedController(){_classCallCheck(this,TestbedController)}}})},5619:function(module,exports){module.exports='<div class="kuiViewContent">\n  <div class="kuiViewContentItem">\n\n    \x3c!-- All markup within the CONTENT section below can be deleted and replaced with whatever markup you need to   demonstate your functionality. Nothing need be preserved. --\x3e\n    \x3c!-- CONTENT START --\x3e\n\n    \x3c!-- CONTENT END --\x3e\n\n  </div>\n</div>\n'},5620:function(module,exports){},5621:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5622)},5622:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes);__webpack_require__(105);var _notify=__webpack_require__(10),_watch_detail_route=__webpack_require__(5623),_watch_detail_route2=_interopRequireDefault(_watch_detail_route);__webpack_require__(418),__webpack_require__(5667);var _constants=__webpack_require__(35),_update_management_sections=__webpack_require__(838);__webpack_require__(232),_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id",{redirectTo:"/management/elasticsearch/watcher/watches/watch/:id/status"}),_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/status",{template:_watch_detail_route2.default,resolve:{watchTabs:function($injector){var $route=$injector.get("$route"),watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},initialHistoryRange:function(){return _constants.WATCH_HISTORY.INITIAL_RANGE},watch:function($injector){var $route=$injector.get("$route"),watchService=$injector.get("xpackWatcherWatchService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"}),watchId=$route.current.params.id;return watchService.loadWatch(watchId).catch(function(err){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches"),Promise.reject()})},watchHistoryItems:function($injector){var $route=$injector.get("$route"),watchService=$injector.get("xpackWatcherWatchService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"}),watchId=$route.current.params.id;return watchService.loadWatchHistory(watchId,_constants.WATCH_HISTORY.INITIAL_RANGE).catch(function(err){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches"),Promise.reject()})},checkLicense:function($injector){return $injector.get("xpackWatcherLicenseService").checkValidity()}},controllerAs:"watchDetailRoute",controller:function WatchDetailRouteController($injector){_classCallCheck(this,WatchDetailRouteController);var $route=$injector.get("$route");this.initialHistoryRange=$route.current.locals.initialHistoryRange,this.watch=$route.current.locals.watch,this.watchHistoryItems=$route.current.locals.watchHistoryItems}})},5623:function(module,exports){module.exports='<watch-detail\n  xpack-watch="watchDetailRoute.watch"\n  initial-history-range="watchDetailRoute.initialHistoryRange"\n  watch-history-items="watchDetailRoute.watchHistoryItems"\n></watch-detail>\n'},5624:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_watch_service=__webpack_require__(5625);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchService",function($injector){var $http=$injector.get("$http");return new _watch_service.WatchService($http)})},5625:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_lodash=__webpack_require__(1),_constants=__webpack_require__(35),_execute_details=__webpack_require__(1566),_watch=__webpack_require__(1567),_watch_status=__webpack_require__(835),_watch_history_item=__webpack_require__(1570);exports.WatchService=function(){function WatchService($http){_classCallCheck(this,WatchService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(WatchService,[{key:"newWatch",value:function(){var watchType=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_constants.WATCH_TYPES.JSON;return new(0,_watch.Watch.getWatchTypes()[watchType])}},{key:"loadWatch",value:function(id){return this.$http.get(this.basePath+"/watch/"+id).then(function(response){return _watch.Watch.fromUpstreamJson(response.data.watch)})}},{key:"loadWatchHistory",value:function(watchId,startTime){var url=this.basePath+"/watch/"+watchId+"/history";return startTime&&(url+="?startTime="+startTime),this.$http.get(url).then(function(response){return response.data.watchHistoryItems}).then(function(watchHistoryItems){return watchHistoryItems.map(_watch_history_item.WatchHistoryItem.fromUpstreamJson)})}},{key:"saveWatch",value:function(watchModel){var url=this.basePath+"/watch/"+watchModel.id;return this.$http.put(url,watchModel.upstreamJson).catch(function(e){throw e.data.message})}},{key:"deleteWatch",value:function(id){return this.$http.delete(this.basePath+"/watch/"+id).catch(function(e){throw e.data.message})}},{key:"deactivateWatch",value:function(id){var url=this.basePath+"/watch/"+id+"/deactivate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"activateWatch",value:function(id){var url=this.basePath+"/watch/"+id+"/activate";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"acknowledgeWatchAction",value:function(watchId,actionId){var url=this.basePath+"/watch/"+watchId+"/action/"+actionId+"/acknowledge";return this.$http.put(url).then(function(response){return _watch_status.WatchStatus.fromUpstreamJson(response.data.watchStatus)}).catch(function(e){throw e.data.message})}},{key:"executeWatch",value:function(executeDetailsModel,watchModel){return this.$http.put(this.basePath+"/watch/execute",{executeDetails:executeDetailsModel.upstreamJson,watch:watchModel.upstreamJson}).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)}).catch(function(e){throw e.data.message})}},{key:"simulateWatchAction",value:function(watchModel,actionModel){var actionModes=(0,_lodash.reduce)(watchModel.actions,function(acc,action){return acc[action.id]=action===actionModel?_constants.ACTION_MODES.FORCE_EXECUTE:_constants.ACTION_MODES.SKIP,acc},{}),executeDetails=new _execute_details.ExecuteDetails({triggeredTime:"now",scheduledTime:"now",ignoreCondition:!0,actionModes:actionModes,recordExecution:!1});return this.executeWatch(executeDetails,watchModel)}},{key:"visualizeWatch",value:function(watchModel,visualizeOptions){return this.$http.post(this.basePath+"/watch/visualize",{watch:watchModel.upstreamJson,options:visualizeOptions.upstreamJson}).then(function(response){return response.data}).catch(function(e){throw e.data.message})}}]),WatchService}()},5626:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ACTION_MODES={SIMULATE:"simulate",FORCE_SIMULATE:"force_simulate",EXECUTE:"execute",FORCE_EXECUTE:"force_execute",SKIP:"skip"}},5627:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ACTION_STATES={OK:"OK",ACKNOWLEDGED:"Acked",THROTTLED:"Throttled",FIRING:"Firing",ERROR:"Error"}},5628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ACTION_TYPES={EMAIL:"email",WEBHOOK:"webhook",INDEX:"index",LOGGING:"logging",HIPCHAT:"hipchat",SLACK:"slack",JIRA:"jira",PAGERDUTY:"pagerduty",UNKNOWN:"unknown/invalid"}},5629:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AGG_TYPES={COUNT:"count",AVERAGE:"avg",SUM:"sum",MIN:"min",MAX:"max"}},5630:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.COMPARATORS={GREATER_THAN:">",LESS_THAN:"<"}},5631:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ES_SCROLL_SETTINGS={KEEPALIVE:"30s",PAGE_SIZE:100}},5632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.INDEX_NAMES={WATCHES:".watches",WATCHER_HISTORY:".watcher-history-*"}},5633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.LISTS={NEW_ITEMS_HIGHLIGHT_DURATION:1e3}},5634:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PAGINATION={PAGE_SIZE:20}},5635:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PLUGIN={ID:"watcher"}},5636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.REFRESH_INTERVALS={WATCH_LIST:6e4,WATCH_HISTORY:6e4,WATCH_VISUALIZATION:6e4}},5637:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ROUTES={API_ROOT:"/api/watcher"}},5638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SORT_ORDERS={ASCENDING:"asc",DESCENDING:"desc"}},5639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WATCH_STATE_COMMENTS={OK:"",PARTIALLY_THROTTLED:"Partially Throttled",THROTTLED:"Throttled",PARTIALLY_ACKNOWLEDGED:"Partially Acked",ACKNOWLEDGED:"Acked",FAILING:"Execution Failing"}},5640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WATCH_HISTORY={INITIAL_RANGE:"now-1h"}},5641:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WATCH_STATES={DISABLED:"Disabled",OK:"OK",FIRING:"Firing",ERROR:"Error!"}},5642:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.WATCH_TYPES={JSON:"json",THRESHOLD:"threshold",MONITORING:"monitoring"}},5643:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.ExecuteDetails=function(){function ExecuteDetails(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ExecuteDetails),this.triggeredTime=props.triggeredTime,this.scheduledTime=props.scheduledTime,this.ignoreCondition=props.ignoreCondition,this.alternativeInput=props.alternativeInput,this.actionModes=props.actionModes,this.recordExecution=props.recordExecution}return _createClass(ExecuteDetails,[{key:"upstreamJson",get:function(){return{triggerData:{triggeredTime:this.triggeredTime,scheduledTime:this.scheduledTime},ignoreCondition:this.ignoreCondition,alternativeInput:this.alternativeInput,actionModes:this.actionModes,recordExecution:this.recordExecution}}}]),ExecuteDetails}()},5644:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Watch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_constants=__webpack_require__(35),_json_watch=__webpack_require__(5645),_threshold_watch=__webpack_require__(5662),_monitoring_watch=__webpack_require__(5665),WatchTypes={};(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.JSON,_json_watch.JsonWatch),(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.THRESHOLD,_threshold_watch.ThresholdWatch),(0,_lodash.set)(WatchTypes,_constants.WATCH_TYPES.MONITORING,_monitoring_watch.MonitoringWatch),(exports.Watch=function(){function Watch(){_classCallCheck(this,Watch)}return _createClass(Watch,null,[{key:"fromUpstreamJson",value:function(upstreamWatch){var type=(0,_lodash.get)(upstreamWatch,"type"),WatchType=WatchTypes[type];return Object.assign(upstreamWatch,{isNew:!1}),WatchType.fromUpstreamJson(upstreamWatch)}}]),Watch}()).getWatchTypes=function(){return WatchTypes}},5645:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_base_watch=__webpack_require__(834),_constants=__webpack_require__(35),_default_watch=__webpack_require__(5661),_default_watch2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_default_watch),JsonWatch=exports.JsonWatch=function(_BaseWatch){function JsonWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,JsonWatch),props.type=_constants.WATCH_TYPES.JSON;var _this=_possibleConstructorReturn(this,(JsonWatch.__proto__||Object.getPrototypeOf(JsonWatch)).call(this,props));return _this.watch=(0,_lodash.get)(props,"watch",_default_watch2.default),_this}return _inherits(JsonWatch,_BaseWatch),_createClass(JsonWatch,[{key:"upstreamJson",get:function(){var result=_get(JsonWatch.prototype.__proto__||Object.getPrototypeOf(JsonWatch.prototype),"upstreamJson",this);return Object.assign(result,{watch:this.watch}),result}}],[{key:"fromUpstreamJson",value:function(upstreamWatch){return new JsonWatch(upstreamWatch)}}]),JsonWatch}(_base_watch.BaseWatch);JsonWatch.defaultWatchJson=_default_watch2.default,JsonWatch.typeName="Advanced Watch",JsonWatch.iconClass="",JsonWatch.selectMessage="Set up a custom watch in raw JSON.",JsonWatch.isCreatable=!0,JsonWatch.selectSortOrder=100},5646:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_search_value=__webpack_require__(5647);Object.defineProperty(exports,"getSearchValue",{enumerable:!0,get:function(){return _get_search_value.getSearchValue}})},5647:function(module,exports,__webpack_require__){"use strict";function getSearchValue(obj,fields){return(0,_lodash.values)((0,_lodash.pick)(obj,fields)).join("\n")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSearchValue=getSearchValue;var _lodash=__webpack_require__(1)},5648:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_constants=__webpack_require__(35),_email_action=__webpack_require__(5649),_logging_action=__webpack_require__(5650),_slack_action=__webpack_require__(5651),_unknown_action=__webpack_require__(5652),ActionTypes={};(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.EMAIL,_email_action.EmailAction),(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.LOGGING,_logging_action.LoggingAction),(0,_lodash.set)(ActionTypes,_constants.ACTION_TYPES.SLACK,_slack_action.SlackAction),(exports.Action=function(){function Action(){_classCallCheck(this,Action)}return _createClass(Action,null,[{key:"fromUpstreamJson",value:function(upstreamAction){var type=(0,_lodash.get)(upstreamAction,"type");return(ActionTypes[type]||_unknown_action.UnknownAction).fromUpstreamJson(upstreamAction)}}]),Action}()).getActionTypes=function(){return ActionTypes}},5649:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmailAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_base_action=__webpack_require__(558),EmailAction=exports.EmailAction=function(_BaseAction){function EmailAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,EmailAction);var _this=_possibleConstructorReturn(this,(EmailAction.__proto__||Object.getPrototypeOf(EmailAction)).call(this,props)),toArray=(0,_lodash.get)(props,"to",[]);return _this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray],_this.subject=(0,_lodash.get)(props,"subject",""),_this.body=(0,_lodash.get)(props,"body",""),_this}return _inherits(EmailAction,_BaseAction),_createClass(EmailAction,[{key:"upstreamJson",get:function(){var result=_get(EmailAction.prototype.__proto__||Object.getPrototypeOf(EmailAction.prototype),"upstreamJson",this);return Object.assign(result,{to:this.to,subject:this.subject,body:this.body}),result}},{key:"description",get:function(){var toList=this.to.join(", ");return'"'+(this.subject||"")+'" will be sent to '+toList}},{key:"simulateMessage",get:function(){return"Sample e-mail sent to "+this.to.join(", ")}},{key:"simulateFailMessage",get:function(){return"Failed to send e-mail to "+this.to.join(", ")+"."}}],[{key:"fromUpstreamJson",value:function(upstreamAction){return new EmailAction(upstreamAction)}}]),EmailAction}(_base_action.BaseAction);EmailAction.typeName="E-mail",EmailAction.iconClass="kuiIcon fa-envelope-o",EmailAction.template="<watch-email-action></watch-email-action>",EmailAction.selectMessage="Send out an e-mail from your server.",EmailAction.simulatePrompt="Test fire an e-mail now"},5650:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggingAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_base_action=__webpack_require__(558),LoggingAction=exports.LoggingAction=function(_BaseAction){function LoggingAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,LoggingAction);var _this=_possibleConstructorReturn(this,(LoggingAction.__proto__||Object.getPrototypeOf(LoggingAction)).call(this,props));return _this.text=(0,_lodash.get)(props,"text",""),_this}return _inherits(LoggingAction,_BaseAction),_createClass(LoggingAction,[{key:"upstreamJson",get:function(){var result=_get(LoggingAction.prototype.__proto__||Object.getPrototypeOf(LoggingAction.prototype),"upstreamJson",this);return Object.assign(result,{text:this.text}),result}},{key:"description",get:function(){return"Log message '"+(this.text||"")+"'"}},{key:"simulateMessage",get:function(){return"Sample message logged"}},{key:"simulateFailMessage",get:function(){return"Failed to log sample message."}}],[{key:"fromUpstreamJson",value:function(upstreamAction){return new LoggingAction(upstreamAction)}}]),LoggingAction}(_base_action.BaseAction);LoggingAction.typeName="Logging",LoggingAction.iconClass="kuiIcon fa-file-text-o",LoggingAction.selectMessage="Add a new item to the logs.",LoggingAction.template="<watch-logging-action></watch-logging-action>",LoggingAction.selectMessage="Add a new item to the logs.",LoggingAction.simulatePrompt="Log a sample message now"},5651:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SlackAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_base_action=__webpack_require__(558),SlackAction=exports.SlackAction=function(_BaseAction){function SlackAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SlackAction);var _this=_possibleConstructorReturn(this,(SlackAction.__proto__||Object.getPrototypeOf(SlackAction)).call(this,props)),toArray=(0,_lodash.get)(props,"to",[]);return _this.to=(0,_lodash.isArray)(toArray)?toArray:[toArray],_this.text=props.text,_this}return _inherits(SlackAction,_BaseAction),_createClass(SlackAction,[{key:"upstreamJson",get:function(){var result=_get(SlackAction.prototype.__proto__||Object.getPrototypeOf(SlackAction.prototype),"upstreamJson",this);return Object.assign(result,{to:this.to,text:this.text}),result}},{key:"description",get:function(){return"Slack message will be sent to "+this.to.join(", ")}},{key:"simulateMessage",get:function(){return"Sample Slack message sent to "+this.to.join(", ")+"."}},{key:"simulateFailMessage",get:function(){return"Failed to send sample Slack message to "+this.to.join(", ")+"."}}],[{key:"fromUpstreamJson",value:function(upstreamAction){return new SlackAction(upstreamAction)}}]),SlackAction}(_base_action.BaseAction);SlackAction.typeName="Slack",SlackAction.iconClass="kuiIcon fa-slack",SlackAction.template="<watch-slack-action></watch-slack-action>",SlackAction.selectMessage="Send a message to a slack user or channel.",SlackAction.simulatePrompt="Send a sample message now"},5652:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnknownAction=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_lodash=__webpack_require__(1),_base_action=__webpack_require__(558);exports.UnknownAction=function(_BaseAction){function UnknownAction(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,UnknownAction);var _this=_possibleConstructorReturn(this,(UnknownAction.__proto__||Object.getPrototypeOf(UnknownAction)).call(this,props));return _this.actionJson=(0,_lodash.get)(props,"actionJson"),_this}return _inherits(UnknownAction,_BaseAction),_createClass(UnknownAction,[{key:"upstreamJson",get:function(){var result=_get(UnknownAction.prototype.__proto__||Object.getPrototypeOf(UnknownAction.prototype),"upstreamJson",this);return Object.assign(result,{actionJson:this.actionJson}),result}}],[{key:"fromUpstreamJson",value:function(upstreamAction){return new UnknownAction(upstreamAction)}}]),UnknownAction}(_base_action.BaseAction)},5653:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_get_moment=__webpack_require__(836),_action_status=__webpack_require__(5655);exports.WatchStatus=function(){function WatchStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchStatus),this.id=(0,_lodash.get)(props,"id"),this.state=(0,_lodash.get)(props,"state"),this.comment=(0,_lodash.get)(props,"comment"),this.isActive=(0,_lodash.get)(props,"isActive"),this.lastFired=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastFired")),this.lastChecked=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastChecked")),this.lastMetCondition=(0,_get_moment.getMoment)(this.lastMetCondition),this.lastFired&&(this.lastFiredHumanized=this.lastFired.fromNow()),this.lastChecked&&(this.lastCheckedHumanized=this.lastChecked.fromNow());var actionStatuses=(0,_lodash.get)(props,"actionStatuses",[]);this.actionStatuses=actionStatuses.map(function(actionStatus){return _action_status.ActionStatus.fromUpstreamJson(actionStatus)})}return _createClass(WatchStatus,null,[{key:"fromUpstreamJson",value:function(upstreamWatchStatus){return new WatchStatus(upstreamWatchStatus)}}]),WatchStatus}()},5654:function(module,exports,__webpack_require__){"use strict";function getMoment(date){return date?(0,_moment2.default)(date):null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMoment=getMoment;var _moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment)},5655:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _action_status=__webpack_require__(5656);Object.defineProperty(exports,"ActionStatus",{enumerable:!0,get:function(){return _action_status.ActionStatus}})},5656:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionStatus=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_get_moment=__webpack_require__(836);exports.ActionStatus=function(){function ActionStatus(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ActionStatus),this.id=(0,_lodash.get)(props,"id"),this.state=(0,_lodash.get)(props,"state"),this.isAckable=(0,_lodash.get)(props,"isAckable"),this.lastAcknowledged=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastAcknowledged")),this.lastThrottled=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastThrottled")),this.lastExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastExecution")),this.lastExecutionSuccessful=(0,_lodash.get)(props,"lastExecutionSuccessful"),this.lastExecutionReason=(0,_lodash.get)(props,"lastExecutionReason"),this.lastSuccessfulExecution=(0,_get_moment.getMoment)((0,_lodash.get)(props,"lastSuccessfulExecution")),this.lastAcknowledged&&(this.lastAcknowledgedHumanized=this.lastAcknowledged.fromNow()),this.lastExecution&&(this.lastExecutionHumanized=this.lastExecution.fromNow()),this.lastThrottled&&(this.lastThrottledHumanized=this.lastThrottled.fromNow())}return _createClass(ActionStatus,null,[{key:"fromUpstreamJson",value:function(upstreamActionStatus){return new ActionStatus(upstreamActionStatus)}}]),ActionStatus}()},5657:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _create_action_id=__webpack_require__(5658);Object.defineProperty(exports,"createActionId",{enumerable:!0,get:function(){return _create_action_id.createActionId}})},5658:function(module,exports,__webpack_require__){"use strict";function createActionId(actions,type){for(var existingIds=actions.map(function(action){return action.id}),nextValidIncrement=1,nextValidId=void 0;void 0===nextValidId;){var proposedId=type+"_"+nextValidIncrement;existingIds.includes(proposedId)?nextValidIncrement++:nextValidId=proposedId}return nextValidId}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createActionId=createActionId},5659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _check_action_id_collision=__webpack_require__(5660);Object.defineProperty(exports,"checkActionIdCollision",{enumerable:!0,get:function(){return _check_action_id_collision.checkActionIdCollision}})},5660:function(module,exports,__webpack_require__){"use strict";function checkActionIdCollision(actions,action){var collision=(0,_lodash.find)(actions,{id:action.id});return Boolean(collision)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkActionIdCollision=checkActionIdCollision;var _lodash=__webpack_require__(1)},5661:function(module,exports){module.exports={trigger:{schedule:{interval:"30m"}},input:{search:{request:{body:{size:0,query:{match_all:{}}},indices:["*"]}}},condition:{compare:{"ctx.payload.hits.total":{gte:10}}},actions:{"my-logging-action":{logging:{text:"There are {{ctx.payload.hits.total}} documents in your index. Threshold is 10."}}}}},5662:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThresholdWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_base_watch=__webpack_require__(834),_uuid=__webpack_require__(68),_uuid2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_uuid),_constants=__webpack_require__(35),_get_time_units_label=__webpack_require__(1569),DEFAULT_VALUES={AGG_TYPE:"count",TERM_SIZE:5,THRESHOLD_COMPARATOR:_constants.COMPARATORS.GREATER_THAN,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",TRIGGER_INTERVAL_SIZE:1,TRIGGER_INTERVAL_UNIT:"m",THRESHOLD:1e3},ThresholdWatch=exports.ThresholdWatch=function(_BaseWatch){function ThresholdWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,ThresholdWatch),props.id=props.id||_uuid2.default.v4(),props.type=_constants.WATCH_TYPES.THRESHOLD;var _this=_possibleConstructorReturn(this,(ThresholdWatch.__proto__||Object.getPrototypeOf(ThresholdWatch)).call(this,props));return _this.index=props.index,_this.timeField=props.timeField,_this.triggerIntervalSize=props.triggerIntervalSize||DEFAULT_VALUES.TRIGGER_INTERVAL_SIZE,_this.triggerIntervalUnit=props.triggerIntervalUnit||DEFAULT_VALUES.TRIGGER_INTERVAL_UNIT,_this.aggType=props.aggType||DEFAULT_VALUES.AGG_TYPE,_this.aggField=props.aggField,_this.termSize=props.termSize||DEFAULT_VALUES.TERM_SIZE,_this.termField=props.termField,_this.thresholdComparator=props.thresholdComparator||DEFAULT_VALUES.THRESHOLD_COMPARATOR,_this.timeWindowSize=props.timeWindowSize||DEFAULT_VALUES.TIME_WINDOW_SIZE,_this.timeWindowUnit=props.timeWindowUnit||DEFAULT_VALUES.TIME_WINDOW_UNIT,_this.threshold=props.threshold||DEFAULT_VALUES.THRESHOLD,_this}return _inherits(ThresholdWatch,_BaseWatch),_createClass(ThresholdWatch,[{key:"hasTermsAgg",get:function(){return Boolean(this.termField)}},{key:"termOrder",get:function(){return this.thresholdComparator===_constants.COMPARATORS.GREATER_THAN?_constants.SORT_ORDERS.DESCENDING:_constants.SORT_ORDERS.ASCENDING}},{key:"titleDescription",get:function(){var staticPart="Send an alert when a specific condition is met.";if(isNaN(this.triggerIntervalSize))return staticPart;var timeUnitLabel=(0,_get_time_units_label.getTimeUnitsLabel)(this.triggerIntervalUnit,this.triggerIntervalSize);return staticPart+" This will run every "+this.triggerIntervalSize+" "+timeUnitLabel+"."}},{key:"upstreamJson",get:function(){var result=_get(ThresholdWatch.prototype.__proto__||Object.getPrototypeOf(ThresholdWatch.prototype),"upstreamJson",this);return Object.assign(result,{index:this.index,timeField:this.timeField,triggerIntervalSize:this.triggerIntervalSize,triggerIntervalUnit:this.triggerIntervalUnit,aggType:this.aggType,aggField:this.aggField,termSize:this.termSize,termField:this.termField,thresholdComparator:this.thresholdComparator,timeWindowSize:this.timeWindowSize,timeWindowUnit:this.timeWindowUnit,threshold:this.threshold}),result}},{key:"DEFAULT_VALUES",get:function(){return DEFAULT_VALUES}}],[{key:"fromUpstreamJson",value:function(upstreamWatch){return new ThresholdWatch(upstreamWatch)}}]),ThresholdWatch}(_base_watch.BaseWatch);ThresholdWatch.typeName="Threshold Alert",ThresholdWatch.iconClass="",ThresholdWatch.selectMessage="Send an alert on a specific condition",ThresholdWatch.isCreatable=!0,ThresholdWatch.selectSortOrder=1},5663:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTimeUnitsLabel=void 0;var _constants=__webpack_require__(837);exports.getTimeUnitsLabel=function(unit,size){var timeUnit=_constants.TIME_UNITS[unit];return 1===size?timeUnit.labelSingular:timeUnit.labelPlural}},5664:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TIME_UNITS=void 0;var _TIME_UNITS,_time_units=__webpack_require__(1565);exports.TIME_UNITS=(_TIME_UNITS={},_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.SECOND,{labelPlural:"seconds",labelSingular:"second"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.MINUTE,{labelPlural:"minutes",labelSingular:"minute"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.HOUR,{labelPlural:"hours",labelSingular:"hour"}),_defineProperty(_TIME_UNITS,_time_units.TIME_UNITS.DAY,{labelPlural:"days",labelSingular:"day"}),_TIME_UNITS)},5665:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MonitoringWatch=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_base_watch=__webpack_require__(834),_constants=__webpack_require__(35);(exports.MonitoringWatch=function(_BaseWatch){function MonitoringWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,MonitoringWatch),props.type=_constants.WATCH_TYPES.MONITORING,_possibleConstructorReturn(this,(MonitoringWatch.__proto__||Object.getPrototypeOf(MonitoringWatch)).call(this,props))}return _inherits(MonitoringWatch,_BaseWatch),_createClass(MonitoringWatch,[{key:"upstreamJson",get:function(){var result=_get(MonitoringWatch.prototype.__proto__||Object.getPrototypeOf(MonitoringWatch.prototype),"upstreamJson",this);return Object.assign(result,{watch:this.watch}),result}}],[{key:"fromUpstreamJson",value:function(upstreamWatch){return new MonitoringWatch(upstreamWatch)}}]),MonitoringWatch}(_base_watch.BaseWatch)).isCreatable=!1},5666:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchHistoryItem=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(496);var _lodash=__webpack_require__(1),_get_moment=__webpack_require__(836),_watch_status=__webpack_require__(835);exports.WatchHistoryItem=function(){function WatchHistoryItem(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,WatchHistoryItem),this.id=props.id,this.watchId=props.watchId,this.details=props.details,this.startTime=(0,_get_moment.getMoment)(props.startTime),this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"))}return _createClass(WatchHistoryItem,null,[{key:"fromUpstreamJson",value:function(upstreamHistory){return new WatchHistoryItem(upstreamHistory)}}]),WatchHistoryItem}()},5667:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5668)},5668:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_momentTimezone=__webpack_require__(109),_momentTimezone2=_interopRequireDefault(_momentTimezone),_notify=__webpack_require__(10);__webpack_require__(353),__webpack_require__(105),__webpack_require__(556),__webpack_require__(1571),__webpack_require__(418),__webpack_require__(232);var _watch_detail=__webpack_require__(5673),_watch_detail2=_interopRequireDefault(_watch_detail);__webpack_require__(5674),__webpack_require__(5685);var _constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("watchDetail",function($injector){var watchService=$injector.get("xpackWatcherWatchService"),licenseService=$injector.get("xpackWatcherLicenseService"),config=$injector.get("config"),kbnUrl=$injector.get("kbnUrl"),confirmModal=$injector.get("confirmModal"),$interval=$injector.get("$interval"),$filter=$injector.get("$filter"),orderBy=$filter("orderBy");return _momentTimezone2.default.tz.setDefault(config.get("dateFormat:tz")),{restrict:"E",template:_watch_detail2.default,scope:{watch:"=xpackWatch",initialHistoryRange:"=",watchHistoryItems:"="},bindToController:!0,controllerAs:"watchDetail",controller:function(_InitAfterBindingsWor){function WatchDetailController(){var _ref,_temp,_this,_ret;_classCallCheck(this,WatchDetailController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=WatchDetailController.__proto__||Object.getPrototypeOf(WatchDetailController)).call.apply(_ref,[this].concat(args))),_this.loadWatchHistory=function(){return watchService.loadWatchHistory(_this.watch.id,_this.historyRange).then(function(watchHistoryItems){_this.isHistoryLoading=!1,_this.watchHistoryItems=watchHistoryItems}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onHistoryRangeChange=function(range){return _this.historyRange=range,_this.isHistoryLoading=!0,_this.loadWatchHistory()},_this.onActionSortChange=function(field,reverse){_this.actionStatusTableSortField=field,_this.actionStatusTableSortReverse=reverse},_this.applySortToActionStatusTable=function(){_this.sortedActionStatuses=orderBy(_this.watch.watchStatus.actionStatuses,_this.actionStatusTableSortField,_this.actionStatusTableSortReverse)},_this.onActionAcknowledge=function(actionStatus){return watchService.acknowledgeWatchAction(_this.watch.id,actionStatus.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus),_this.applySortToActionStatusTable()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onWatchDeactivate=function(){return watchService.deactivateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onWatchActivate=function(){return watchService.activateWatch(_this.watch.id).then(function(watchStatus){_this.watch.updateWatchStatus(watchStatus)}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={confirmButtonText:"Delete Watch",onConfirm:_this.deleteWatch};return confirmModal("This will permanently delete the watch. Are you sure?",confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.watch.displayName+"'"),_this.close()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.close=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(WatchDetailController,_InitAfterBindingsWor),_createClass(WatchDetailController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.notifier=new _notify.Notifier({location:"Watcher"}),this.isHistoryLoading=!1,this.historyRange=this.initialHistoryRange,this.actionStatusTableSortField="id",this.actionStatusTableSortReverse=!1,this.omitBreadcrumbPages=["watch",this.watch.id],this.breadcrumb=this.watch.displayName;var refreshInterval=$interval(function(){return _this2.loadWatchHistory()},_constants.REFRESH_INTERVALS.WATCH_HISTORY);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)}),$scope.$watchMulti(["watchDetail.actionStatusTableSortField","watchDetail.actionStatusTableSortReverse"],this.applySortToActionStatusTable)}},{key:"hasActionStatusTableActions",get:function(){return this.sortedActionStatuses.length>0}}]),WatchDetailController}(_compat.InitAfterBindingsWorkaround)}})},5669:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_tool_bar_selected_count=__webpack_require__(5670),_tool_bar_selected_count2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_tool_bar_selected_count);_modules.uiModules.get("xpack/watcher").directive("toolBarSelectedCount",function(){return{restrict:"E",replace:!0,template:_tool_bar_selected_count2.default,scope:{count:"=",singularName:"@",pluralName:"@"},controllerAs:"toolBarSelectedCount",bindToController:!0,controller:function ToolBarSelectedCountController(){_classCallCheck(this,ToolBarSelectedCountController)}}})},5670:function(module,exports){module.exports='<div class="kuiToolBarText">\n  {{ toolBarSelectedCount.count }} {{ toolBarSelectedCount.count === 1 ? toolBarSelectedCount.singularName : toolBarSelectedCount.pluralName}} selected\n</div>\n'},5671:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_xpack_info=__webpack_require__(46);__webpack_require__(105);var _license_service=__webpack_require__(5672);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherLicenseService",function($injector){var $http=$injector.get("$http"),Private=$injector.get("Private"),xpackInfoService=Private(_xpack_info.XPackInfoProvider),kbnUrlService=$injector.get("kbnUrl"),$timeout=$injector.get("$timeout");return new _license_service.LicenseService(xpackInfoService,kbnUrlService,$timeout,$http)})},5672:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicenseService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35),_notify=__webpack_require__(10);exports.LicenseService=function(){function LicenseService(xpackInfoService,kbnUrlService,$timeout,$http){_classCallCheck(this,LicenseService),this.$http=$http,this.xpackInfoService=xpackInfoService,this.kbnUrlService=kbnUrlService,this.$timeout=$timeout,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT),this.notifier=new _notify.Notifier({location:"Watcher"})}return _createClass(LicenseService,[{key:"notifyAndRedirect",value:function(){this.notifier.error(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")),this.kbnUrlService.redirect("/management")}},{key:"checkValidity",value:function(){var _this=this;return new Promise(function(resolve,reject){_this.$timeout(function(){return _this.isAvailable?resolve():(_this.notifyAndRedirect(),reject())},10)})}},{key:"refreshLicense",value:function(){return this.$http.get(this.basePath+"/license/refresh").then(function(response){return response.data.success})}},{key:"showLinks",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".showLinks"))}},{key:"enableLinks",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".enableLinks"))}},{key:"isAvailable",get:function(){return Boolean(this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".isAvailable"))}},{key:"message",get:function(){return this.xpackInfoService.get("features."+_constants.PLUGIN.ID+".message")}}]),LicenseService}()},5673:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchDetail.omitBreadcrumbPages }}"\n  page-title="watchDetail.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    \x3c!-- Header and buttons --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <div class="kuiBar">\n\n        \x3c!-- Watch Details --\x3e\n        <div class="kuiBarSection">\n          <h1 class="kuiTitle">\n            Current Status\n          </h1>\n        </div>\n\n        <div class="kuiBarSection">\n          <div class="kuiButtonGroup">\n            <button\n              ng-if="watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchDeactivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnDeactivateWatch"\n            >\n              Deactivate\n            </button>\n            <button\n              ng-if="!watchDetail.watch.watchStatus.isActive"\n              ng-click="watchDetail.onWatchActivate()"\n              class="kuiButton kuiButton--basic"\n              data-test-subj="btnActivateWatch"\n            >\n              Activate\n            </button>\n            <button\n              ng-click="watchDetail.onWatchDelete()"\n              class="kuiButton kuiButton--danger"\n              data-test-subj="btnDeleteWatch"\n            >\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- End Watch Details --\x3e\n\n    \x3c!-- Watch action status --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      \x3c!-- Action status table --\x3e\n      <action-status-table\n        action-statuses="watchDetail.sortedActionStatuses"\n        on-action-acknowledge="watchDetail.onActionAcknowledge"\n        sort-field="watchDetail.actionStatusTableSortField"\n        sort-reverse="watchDetail.actionStatusTableSortReverse"\n        on-sort-change="watchDetail.onActionSortChange"\n      ></action-status-table>\n      <table-info ng-show="!watchDetail.hasActionStatusTableActions">No actions found.</table-info>\n    </div>\n\n    \x3c!-- Watch History --\x3e\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <h1 class="kuiTitle">\n        Watch History\n      </h1>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history\n        xpack-watch="watchDetail.watch"\n        history-items="watchDetail.watchHistoryItems"\n        initial-range="watchDetail.historyRange"\n        on-range-change="watchDetail.onHistoryRangeChange"\n        is-loading="watchDetail.isHistoryLoading"\n      ></watch-history>\n    </div>\n    \x3c!-- End Watch History --\x3e\n\n  </div>\n</kbn-management-app>\n'},5674:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5675)},5675:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(257);var _modules=__webpack_require__(2),_notify=__webpack_require__(10);__webpack_require__(308),__webpack_require__(261),__webpack_require__(556);var _compat=__webpack_require__(60),_constants=__webpack_require__(35),_watch_history=__webpack_require__(5676),_watch_history2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history);__webpack_require__(5677),__webpack_require__(5682),_modules.uiModules.get("xpack/watcher").directive("watchHistory",function($injector){var pagerFactory=$injector.get("pagerFactory"),$filter=$injector.get("$filter"),orderBy=$filter("orderBy"),limitTo=$filter("limitTo");return{restrict:"E",replace:!0,template:_watch_history2.default,scope:{watch:"=xpackWatch",historyItems:"=",initialRange:"=",onRangeChange:"=",isLoading:"="},bindToController:!0,controllerAs:"watchHistory",controller:function(_InitAfterBindingsWor){function WatchHistoryController(){var _ref,_temp,_this,_ret;_classCallCheck(this,WatchHistoryController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=WatchHistoryController.__proto__||Object.getPrototypeOf(WatchHistoryController)).call.apply(_ref,[this].concat(args))),_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field,_this.sortReverse=reverse},_this.applyFilters=function(){var orderedHistoryItems=orderBy(_this.historyItems,_this.sortField,_this.sortReverse);_this.pageOfHistoryItems=limitTo(orderedHistoryItems,_this.pager.pageSize,_this.pager.startIndex),_this.pager.setTotalItems(orderedHistoryItems.length)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(WatchHistoryController,_InitAfterBindingsWor),_createClass(WatchHistoryController,[{key:"initAfterBindings",value:function($scope){this.isLoading=!1,this.sortField="startTime",this.sortReverse=!0,this.pageOfHistoryItems=[],this.historyRange=this.initialRange,this.notifier=new _notify.Notifier({location:"Watcher"}),this.pager=pagerFactory.create(this.historyItems.length,_constants.PAGINATION.PAGE_SIZE,1),$scope.$watchMulti(["watchHistory.historyItems","watchHistory.sortField","watchHistory.sortReverse","watchHistory.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfHistoryItems",get:function(){return this.pageOfHistoryItems.length>0}}]),WatchHistoryController}(_compat.InitAfterBindingsWorkaround)}})},5676:function(module,exports){module.exports='<div class="kuiControlledTable">\n  \x3c!-- Toolbar with filters and pagination --\x3e\n  <div class="kuiToolBar">\n    <div class="kuiToolBarSearch">\n      \x3c!-- History range filter --\x3e\n      <watch-history-range-filter\n        history-range="watchHistory.historyRange"\n        on-range-change="watchHistory.onRangeChange"\n      ></watch-history-range-filter>\n    </div>\n\n    \x3c!-- Pagination --\x3e\n    <div class="kuiToolBarSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n\n  \x3c!-- Watch history table --\x3e\n  <table-info ng-show="watchHistory.isLoading">\n    Loading watch history&hellip;\n  </table-info>\n  <table-info ng-show="!watchHistory.isLoading && !watchHistory.hasPageOfHistoryItems">\n    No watch history found.\n  </table-info>\n  <watch-history-table\n    xpack-watch="watchHistory.watch"\n    history-items="watchHistory.pageOfHistoryItems"\n    ng-show="!watchHistory.isLoading && watchHistory.hasPageOfHistoryItems"\n    sort-field="watchHistory.sortField"\n    sort-reverse="watchHistory.sortReverse"\n    on-sort-change="watchHistory.onSortChange"\n  ></watch-history-table>\n\n  \x3c!-- Footer --\x3e\n  <div class="kuiToolBarFooter">\n    <div class="kuiToolBarFooterSection">\n      <tool-bar-pager-text\n        start-item="watchHistory.pager.startItem"\n        end-item="watchHistory.pager.endItem"\n        total-items="watchHistory.pager.totalItems"\n      ></tool-bar-pager-text>\n      <tool-bar-pager-buttons\n        has-previous-page="watchHistory.pager.hasPreviousPage"\n        has-next-page="watchHistory.pager.hasNextPage"\n        on-page-next="watchHistory.onPageNext"\n        on-page-previous="watchHistory.onPagePrevious"\n      ></tool-bar-pager-buttons>\n    </div>\n  </div>\n</div>\n'},5677:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5678)},5678:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__(257);var _modules=__webpack_require__(2),_watch_history_table=__webpack_require__(5679),_watch_history_table2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_table);__webpack_require__(559);var _lodash=__webpack_require__(1),_constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("watchHistoryTable",function($injector){var $timeout=$injector.get("$timeout");return{restrict:"E",replace:!0,template:_watch_history_table2.default,scope:{watch:"=xpackWatch",historyItems:"=",sortField:"=",sortReverse:"=",onSortChange:"="},bindToController:!0,controllerAs:"watchHistoryTable",controller:function WatchHistoryTableController($scope){var _this=this;_classCallCheck(this,WatchHistoryTableController),$scope.$watch("watchHistoryTable.historyItems",function(historyItems){var previousItems=_this.items,isInitialLoad=(0,_lodash.isEmpty)(previousItems);_this.items=historyItems.map(function(historyItem){var matchedItem=(0,_lodash.find)(previousItems,function(previousItem){return previousItem.historyItem.id===historyItem.id}),isNew=!isInitialLoad&&Boolean(!matchedItem);return{historyItem:historyItem,isNew:isNew}}),$timeout(function(){_this.items.forEach(function(item){item.isNew=!1})},_constants.LISTS.NEW_ITEMS_HIGHLIGHT_DURATION)})}}})},5679:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="startTime"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          Trigger Time\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchHistoryTable.onSortChange"\n          sort-field="watchHistoryTable.sortField"\n          sort-reverse="watchHistoryTable.sortReverse"\n        >\n          Comment\n        </sortable-column>\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchHistoryTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isNew\': item.isNew }"\n    >\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            title="View"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{watchHistoryTable.watch.id}}/history-item/{{item.historyItem.id}}"\n            data-test-subj="lnkWatchHistoryItem"\n          >\n            {{ item.historyItem.startTime | moment }}\n          </a>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title={{item.historyItem.watchStatus.state}}>\n            <watch-state-icon watch-status="item.historyItem.watchStatus"></watch-state-icon>\n            {{ item.historyItem.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.historyItem.watchStatus.comment}}">\n            {{item.historyItem.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5680:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_state_icon=__webpack_require__(5681),_watch_state_icon2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_state_icon),_constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("watchStateIcon",function(){return{restrict:"E",replace:!0,template:_watch_state_icon2.default,scope:{watchStatus:"="},bindToController:!0,controllerAs:"watchStateIcon",controller:function WatchStateIconController(){_classCallCheck(this,WatchStateIconController),this.WATCH_STATES=_constants.WATCH_STATES}}})},5681:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-ban"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.DISABLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="watchStateIcon.watchStatus.state === watchStateIcon.WATCH_STATES.ERROR"\n  ></div>\n</div>\n'},5682:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5683)},5683:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_watch_history_range_filter=__webpack_require__(5684),_watch_history_range_filter2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_range_filter);_modules.uiModules.get("xpack/watcher").directive("watchHistoryRangeFilter",function(){return{restrict:"E",replace:!0,template:_watch_history_range_filter2.default,scope:{historyRange:"=",onRangeChange:"="},controllerAs:"watchHistoryRangeFilter",bindToController:!0,controller:function(_InitAfterBindingsWor){function WatchHistoryRangeFilterController(){return _classCallCheck(this,WatchHistoryRangeFilterController),_possibleConstructorReturn(this,(WatchHistoryRangeFilterController.__proto__||Object.getPrototypeOf(WatchHistoryRangeFilterController)).apply(this,arguments))}return _inherits(WatchHistoryRangeFilterController,_InitAfterBindingsWor),_createClass(WatchHistoryRangeFilterController,[{key:"initAfterBindings",value:function(){this.range=this.historyRange}}]),WatchHistoryRangeFilterController}(_compat.InitAfterBindingsWorkaround)}})},5684:function(module,exports){module.exports='<select\n  ng-model="watchHistoryRangeFilter.range"\n  ng-change="watchHistoryRangeFilter.onRangeChange(watchHistoryRangeFilter.range)"\n  class="kuiSelect"\n>\n  <option value="now-1h">Last 1 hour</option>\n  <option value="now-24h">Last 24 hours</option>\n  <option value="now-7d">Last 7 days</option>\n  <option value="now-30d">Last 30 days</option>\n  <option value="now-6M">Last 6 months</option>\n  <option value="now-1y">Last 1 year</option>\n  <option value="all">All</option>\n</select>\n'},5685:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5686)},5686:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_action_status_table=__webpack_require__(5687),_action_status_table2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_action_status_table);_modules.uiModules.get("xpack/watcher").directive("actionStatusTable",function(){return{restrict:"E",replace:!0,template:_action_status_table2.default,scope:{actionStatuses:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onActionAcknowledge:"="},bindToController:!0,controllerAs:"actionStatusTable",controller:function ActionStatusTableController(){_classCallCheck(this,ActionStatusTableController)}}})},5687:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          Action\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="state"\n          on-sort-change="actionStatusTable.onSortChange"\n          sort-field="actionStatusTable.sortField"\n          sort-reverse="actionStatusTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n      </th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="actionStatus in actionStatusTable.actionStatuses">\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          {{ actionStatus.id }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <action-state-icon action-status="actionStatus"></action-state-icon>\n          {{ actionStatus.state }}\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <button\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              ng-click="actionStatusTable.onActionAcknowledge(actionStatus)"\n              title="Acknowledge"\n              ng-if="actionStatus.isAckable"\n              data-test-subj="btnActionAcknowledge-{{ actionStatus.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-thumbs-up"></span>\n              <span>Acknowledge</span>\n            </button>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5688:function(module,exports,__webpack_require__){"use strict";function updateWatchSections(watchId){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status"),editSection=_management.management.getSection("elasticsearch/watcher/watch/edit"),newSection=_management.management.getSection("elasticsearch/watcher/watch/new"),historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide(),statusSection.hide(),editSection.hide(),historySection.hide(),watchId?(statusSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/status",editSection.url="#/management/elasticsearch/watcher/watches/watch/"+watchId+"/edit",statusSection.show(),editSection.show()):newSection.show()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateWatchSections=updateWatchSections;var _management=__webpack_require__(95)},5689:function(module,exports,__webpack_require__){"use strict";function updateHistorySection(display){var statusSection=_management.management.getSection("elasticsearch/watcher/watch/status"),editSection=_management.management.getSection("elasticsearch/watcher/watch/edit"),newSection=_management.management.getSection("elasticsearch/watcher/watch/new"),historySection=_management.management.getSection("elasticsearch/watcher/watch/history-item");newSection.hide(),statusSection.hide(),editSection.hide(),historySection.show(),historySection.display=display}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateHistorySection=updateHistorySection;var _management=__webpack_require__(95)},5690:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5691)},5691:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes);__webpack_require__(105);var _notify=__webpack_require__(10),_watch_edit_route=__webpack_require__(5692),_watch_edit_route2=_interopRequireDefault(_watch_edit_route);__webpack_require__(418),__webpack_require__(5693),__webpack_require__(5742);var _constants=__webpack_require__(35),_update_management_sections=__webpack_require__(838);__webpack_require__(232),_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:id/edit").when("/management/elasticsearch/watcher/watches/new-watch/:watchType").defaults(/management\/elasticsearch\/watcher\/watches\/(new-watch\/:watchType|watch\/:id\/edit)/,{template:_watch_edit_route2.default,controller:function WatchEditRouteController($injector){_classCallCheck(this,WatchEditRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.xpackWatch,this.WATCH_TYPES=_constants.WATCH_TYPES},controllerAs:"watchEditRoute",resolve:{watchTabs:function($injector){var $route=$injector.get("$route"),watchId=$route.current.params.id;(0,_update_management_sections.updateWatchSections)(watchId)},xpackWatch:function($injector){var $route=$injector.get("$route"),watchService=$injector.get("xpackWatcherWatchService"),licenseService=$injector.get("xpackWatcherLicenseService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"}),watchId=$route.current.params.id,watchType=$route.current.params.watchType;return watchId?watchService.loadWatch(watchId).catch(function(err){return licenseService.checkValidity().then(function(){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches"),Promise.reject()})}):licenseService.refreshLicense().then(function(){return watchService.newWatch(watchType)}).catch(function(err){return licenseService.checkValidity().then(function(){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches"),Promise.reject()})})},checkLicense:function($injector){return $injector.get("xpackWatcherLicenseService").checkValidity()}}})},5692:function(module,exports){module.exports='<json-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.JSON"\n></json-watch-edit>\n<threshold-watch-edit\n  xpack-watch="watchEditRoute.watch"\n  ng-if="watchEditRoute.watch.type === watchEditRoute.WATCH_TYPES.THRESHOLD"\n></threshold-watch-edit>\n'},5693:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5694)},5694:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_notify=__webpack_require__(10);__webpack_require__(1572);var _json_watch_edit=__webpack_require__(5697),_json_watch_edit2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_json_watch_edit);__webpack_require__(5698),__webpack_require__(1573),__webpack_require__(5708),__webpack_require__(5719),__webpack_require__(5722),__webpack_require__(5725),__webpack_require__(5734),__webpack_require__(5739),__webpack_require__(232),_modules.uiModules.get("xpack/watcher").directive("jsonWatchEdit",function($injector){var watchService=$injector.get("xpackWatcherWatchService"),licenseService=$injector.get("xpackWatcherLicenseService"),kbnUrl=$injector.get("kbnUrl"),confirmModal=$injector.get("confirmModal");return{restrict:"E",template:_json_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:!0,controllerAs:"jsonWatchEdit",controller:function(_InitAfterBindingsWor){function JsonWatchEditController(){var _ref,_temp,_this,_ret;_classCallCheck(this,JsonWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=JsonWatchEditController.__proto__||Object.getPrototypeOf(JsonWatchEditController)).call.apply(_ref,[this].concat(args))),_this.onTabSelect=function(tabId){_this.selectedTabId=tabId},_this.isTabSelected=function(tabId){return _this.selectedTabId===tabId},_this.onWatchChange=function(watch){_this.watch=watch},_this.onValid=function(){_this.isValid=!0},_this.onInvalid=function(){_this.isValid=!1},_this.executeDetailsChange=function(executeDetails){_this.executeDetails=executeDetails},_this.onExecuteDetailsValid=function(){_this.isExecuteValid=!0},_this.onExecuteDetailsInvalid=function(){_this.isExecuteValid=!1},_this.onWatchExecute=function(){return watchService.executeWatch(_this.executeDetails,_this.watch).then(function(watchHistoryItem){_this.simulateResults=watchHistoryItem,_this.onTabSelect("simulate-results")}).catch(function(e){_this.notifier.error(e)})},_this.onWatchSave=function(){return _this.watch.isNew?_this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:"Overwrite Watch"},watchNameMessageFragment=existingWatch.name?' (name: "'+existingWatch.name+'")':"",message='Watch with ID "'+_this.watch.id+'"'+watchNameMessageFragment+" already exists. Do you want to overwrite it?";return confirmModal(message,confirmModalOptions)}).catch(function(err){return _this.notifier.error(err)}):_this.saveWatch()},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return!1;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=!1,_notify.toastNotifications.addSuccess("Saved '"+_this.watch.displayName+"'"),_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onWatchDelete=function(){var confirmModalOptions={onConfirm:_this.deleteWatch,confirmButtonText:"Delete Watch"};return confirmModal("This will permanently delete the watch. Are you sure?",confirmModalOptions)},_this.deleteWatch=function(){return watchService.deleteWatch(_this.watch.id).then(function(){_notify.toastNotifications.addSuccess("Deleted '"+_this.watch.displayName+"'"),_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(JsonWatchEditController,_InitAfterBindingsWor),_createClass(JsonWatchEditController,[{key:"initAfterBindings",value:function(){this.notifier=new _notify.Notifier({location:"Watcher"}),this.selectedTabId="edit-watch",this.simulateResults=null,this.originalWatch=_extends({},this.watch),this.omitBreadcrumbPages=["new-watch",this.watch.id],this.breadcrumb=this.watch.displayName,this.onExecuteDetailsValid()}}]),JsonWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},5695:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_dirty_prompt=__webpack_require__(5696);_modules.uiModules.get("kibana").factory("dirtyPrompt",function($injector){var $window=$injector.get("$window"),confirmModal=$injector.get("confirmModal"),$rootScope=$injector.get("$rootScope");return new _dirty_prompt.DirtyPrompt($window,$rootScope,confirmModal)})},5696:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function registerUrlChangeHandler(checkDirty){this.beforeUnloadHandler=function(event){checkDirty()&&(event.returnValue=confirmMessage)},this.$window.addEventListener("beforeunload",this.beforeUnloadHandler)}function deregisterUrlChangeHandler(){this.$window.removeEventListener("beforeunload",this.beforeUnloadHandler)}function registerRouteChangeHandler(checkDirty){var _this=this,deregister=this.$rootScope.$on("$locationChangeStart",function(event,newUrl){if(checkDirty()){event.preventDefault();var confirmModalOptions={onConfirm:function(){_this.deregister(),_this.$window.location.href=newUrl},confirmButtonText:"Discard Changes"};return _this.confirmModal(confirmMessage,confirmModalOptions)}});this.deregisterListener=deregister}function deregisterRouteChangeHandler(){this.deregisterListener()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DirtyPrompt=void 0;var _lodash=__webpack_require__(1),confirmMessage="You have unsaved changes. Proceed and discard changes?";exports.DirtyPrompt=function DirtyPrompt($window,$rootScope,confirmModal){var _this2=this;_classCallCheck(this,DirtyPrompt),this.register=function(checkDirty){registerUrlChangeHandler.call(_this2,checkDirty),registerRouteChangeHandler.call(_this2,checkDirty)},this.deregister=function(){deregisterUrlChangeHandler.call(_this2),deregisterRouteChangeHandler.call(_this2)},this.$window=$window,this.$rootScope=$rootScope,this.confirmModal=confirmModal,this.deregisterListener=_lodash.noop,this.beforeUnloadHandler=_lodash.noop}},5697:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ jsonWatchEdit.omitBreadcrumbPages }}"\n  page-title="jsonWatchEdit.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-edit-title-bar\n        xpack-watch="jsonWatchEdit.watch"\n        is-watch-valid="jsonWatchEdit.isValid"\n        on-watch-delete="jsonWatchEdit.onWatchDelete"\n        on-watch-save="jsonWatchEdit.onWatchSave"\n        on-close="jsonWatchEdit.onClose"\n      ></watch-edit-title-bar>\n    </div>\n\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <kbn-tabs\n        selected-tab-id="jsonWatchEdit.selectedTabId"\n        on-tab-select="jsonWatchEdit.onTabSelect"\n      >\n        <kbn-tab\n          tab-id="edit-watch"\n          title="Edit Watch"\n        >\n          Edit\n        </kbn-tab>\n        <kbn-tab\n          tab-id="watch-simulate"\n          title="Simulate Watch"\n        >\n          Simulate\n        </kbn-tab>\n        <kbn-tab\n          tab-id="simulate-results"\n          title="Simulate Results"\n          ng-if="jsonWatchEdit.simulateResults"\n        >\n          Simulation Results\n        </kbn-tab>\n      </kbn-tabs>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'edit-watch\'"\n    >\n      <watch-edit-detail\n        xpack-watch="jsonWatchEdit.watch"\n        on-watch-change="jsonWatchEdit.onWatchChange"\n        on-valid="jsonWatchEdit.onValid"\n        on-invalid="jsonWatchEdit.onInvalid"\n      ></watch-edit-detail>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'watch-simulate\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-info-panel></watch-edit-execute-info-panel>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-execute-detail\n          xpack-watch="jsonWatchEdit.watch"\n          previous-watch-history-item="jsonWatchEdit.simulateResults"\n          on-change="jsonWatchEdit.executeDetailsChange"\n          on-valid="jsonWatchEdit.onExecuteDetailsValid"\n          on-invalid="jsonWatchEdit.onExecuteDetailsInvalid"\n        ></watch-edit-execute-detail>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText"\n          ng-disabled="!jsonWatchEdit.isExecuteValid"\n          ng-click="jsonWatchEdit.onWatchExecute()"\n          data-test-subj="btnSimulateWatch"\n        >\n          <span class="kuiButton__icon kuiIcon fa-play"></span>\n          Simulate Watch\n        </button>\n      </div>\n    </div>\n\n    <div\n      class="kuiViewContentItem kuiVerticalRhythm"\n      ng-show="jsonWatchEdit.selectedTabId === \'simulate-results\'"\n    >\n      <div class="kuiVerticalRhythm">\n        <watch-edit-watch-execute-summary\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-watch-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <watch-edit-actions-execute-summary\n          xpack-watch="jsonWatchEdit.watch"\n          execute-details="jsonWatchEdit.executeDetails"\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-edit-actions-execute-summary>\n      </div>\n\n      <div class="kuiVerticalRhythm">\n        <label>Simulation Output:</label>\n        <watch-history-item-detail\n          watch-history-item="jsonWatchEdit.simulateResults"\n        ></watch-history-item-detail>\n      </div>\n    </div>\n\n  </div>\n</kbn-management-app>\n'},5698:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5699),__webpack_require__(5702)},5699:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5700)},5700:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_kbn_tabs=__webpack_require__(5701),_kbn_tabs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_tabs);_modules.uiModules.get("xpack/watcher").directive("kbnTabs",function(){return{restrict:"E",replace:!0,transclude:!0,template:_kbn_tabs2.default,scope:{selectedTabId:"=",onTabSelect:"="},controllerAs:"kbnTabs",bindToController:!0,controller:function KbnTabsController(){var _this=this;_classCallCheck(this,KbnTabsController),this.isTabSelected=function(tabId){return _this.selectedTabId===tabId}}}})},5701:function(module,exports){module.exports='<div class="kuiTabs" ng-transclude></div>\n'},5702:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5703)},5703:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_kbn_tab=__webpack_require__(5704),_kbn_tab2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_kbn_tab);_modules.uiModules.get("xpack/watcher").directive("kbnTab",function(){return{require:"^^kbnTabs",restrict:"E",transclude:!0,replace:!0,template:_kbn_tab2.default,scope:{tabId:"@",title:"@"},controllerAs:"kbnTab",bindToController:!0,controller:function KbnTabController(){_classCallCheck(this,KbnTabController)},link:function($scope,$ele,attrs,kbnTabs){$scope.kbnTabs=kbnTabs}}})},5704:function(module,exports){module.exports='<button\n  class="kuiTab"\n  ng-class="{ \'kuiTab-isSelected\': kbnTabs.isTabSelected(kbnTab.tabId) }"\n  title="{{ kbnTab.title }}"\n  ng-click="kbnTabs.onTabSelect(kbnTab.tabId)"\n  data-test-subj="btnSelectTab-{{ kbnTab.id }}"\n>\n  <div class="kbn-tab-liner" ng-transclude></div>\n</button>\n'},5705:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_history_item_detail=__webpack_require__(5706),_watch_history_item_detail2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_item_detail);__webpack_require__(5707),__webpack_require__(106),_modules.uiModules.get("xpack/watcher").directive("watchHistoryItemDetail",function(){return{restrict:"E",template:_watch_history_item_detail2.default,scope:{watchHistoryItem:"="},bindToController:!0,controllerAs:"watchHistoryItemDetail",controller:function WatchHistoryItemDetailController($scope){var _this=this;_classCallCheck(this,WatchHistoryItemDetailController),$scope.aceLoaded=function(editor){_this.editor=editor,editor.$blockScrolling=1/0}}}})},5706:function(module,exports){module.exports='<div\n  class="json-editor"\n  ng-model="watchHistoryItemDetail.watchHistoryItem.details"\n  json-input\n  readonly\n  ui-ace="{\n    useWrapMode: true,\n    mode: \'json\',\n    onLoad: aceLoaded,\n    advanced: {\n      highlightActiveLine: false\n    }\n  }"\n></div>\n'},5707:function(module,exports){},5708:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5709)},5709:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_edit_detail=__webpack_require__(5710),_watch_edit_detail2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_detail);__webpack_require__(5711),__webpack_require__(5712);var _documentation_links=__webpack_require__(5716);_modules.uiModules.get("xpack/watcher").directive("watchEditDetail",function(){return{restrict:"E",template:_watch_edit_detail2.default,scope:{watch:"=xpackWatch",onWatchChange:"=",onInvalid:"=",onValid:"="},bindToController:!0,controllerAs:"watchEditDetail",controller:function WatchEditDetailController($scope){var _this=this;_classCallCheck(this,WatchEditDetailController),this.updateIsValid=function(){_this.form.$invalid||!_this.isJsonValid?_this.onInvalid():_this.onValid()},this.onJsonValid=function(){_this.isJsonValid=!0,_this.updateIsValid()},this.onJsonInvalid=function(){_this.isJsonValid=!1,_this.updateIsValid()},this.onJsonChange=function(json){_this.watch.watch=json},$scope.$watchMulti(["watchEditDetail.watch.id","watchEditDetail.watch.name","watchEditDetail.watch.watch"],function(){_this.onWatchChange(_this.watch)}),$scope.$watch("watchEditDetail.form.$valid",function(){_this.updateIsValid()}),this.documentationLinks=_documentation_links.documentationLinks}}})},5710:function(module,exports){module.exports='<form name="watchEditDetail.form" novalidate>\n  <div class="kuiFormSection">\n    <label\n      for="id"\n      class="kuiFormLabel"\n    >\n      ID\n    </label>\n    <input\n      type="text"\n      id="id"\n      name="id"\n      class="fullWidth"\n      ng-class="::watchEditDetail.watch.isNew ? \'kuiTextInput\' : \'kuiStaticInput\'"\n      ng-model="watchEditDetail.watch.id"\n      ng-trim="false"\n      ng-disabled="!watchEditDetail.watch.isNew"\n      pattern="[a-zA-Z_][a-zA-Z0-9_@\\-\\$\\.]*"\n      required\n    >\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$error.pattern"\n    >\n      ID must begin with a letter or underscore and contain only letters, underscores, dashes, and numbers.\n    </div>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="watchEditDetail.form.id.$touched && watchEditDetail.form.id.$error.required"\n    >\n      ID is required.\n    </div>\n  </div>\n\n  <div class="kuiFormSection">\n    <label\n      for="name"\n      class="kuiFormLabel"\n    >\n      Name\n    </label>\n    <input\n      type="text"\n      id="name"\n      name="name"\n      class="kuiTextInput fullWidth"\n      ng-model="watchEditDetail.watch.name"\n    >\n  </div>\n</form>\n\n<div class="kuiFormSection">\n  <label class="kuiFormLabel">\n    Watch JSON\n    (<a\n      href="{{ watchEditDetail.documentationLinks.watcher.putWatchApi }}"\n      target="_blank"\n      rel="noopener noreferrer"\n      data-test-subj="lnkPutWatchApiDoc"\n    >\n    Syntax\n    </a>)\n  </label>\n  <json-editor\n    json="watchEditDetail.watch.watch"\n    on-change="watchEditDetail.onJsonChange"\n    on-valid="watchEditDetail.onJsonValid"\n    on-invalid="watchEditDetail.onJsonInvalid"\n  ></json-editor>\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="!watchEditDetail.isJsonValid"\n  >\n    Invalid JSON\n  </div>\n</div>\n'},5711:function(module,exports){},5712:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5713)},5713:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_json_editor=__webpack_require__(5714),_json_editor2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_json_editor);__webpack_require__(5715),__webpack_require__(106),_modules.uiModules.get("xpack/watcher").directive("jsonEditor",function(){return{restrict:"E",template:_json_editor2.default,replace:!0,scope:{json:"=",onChange:"=",onValid:"=",onInvalid:"="},bindToController:!0,controllerAs:"jsonEditor",controller:function JsonEditorController($scope){var _this=this;_classCallCheck(this,JsonEditorController),$scope.aceLoaded=function(editor){_this.editor=editor,editor.$blockScrolling=1/0},$scope.$watch("jsonEditor.form.$valid",function(){_this.form.$invalid?_this.onInvalid():_this.onValid()}),$scope.$watch("jsonEditor.json",function(){_this.onChange(_this.json)})}}})},5714:function(module,exports){module.exports='<form name="jsonEditor.form" novalidate>\n  <div\n    class="json-editor"\n    json-input\n    require-keys="true"\n    ui-ace="{\n      mode: \'json\',\n      onLoad: aceLoaded\n    }"\n    ng-model="jsonEditor.json"\n  ></div>\n</form>\n'},5715:function(module,exports){},5716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _documentation_links=__webpack_require__(5717);Object.defineProperty(exports,"documentationLinks",{enumerable:!0,get:function(){return _documentation_links.documentationLinks}})},5717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.documentationLinks=void 0;var _make_documentation_link=__webpack_require__(5718);exports.documentationLinks={watcher:{putWatchApi:(0,_make_documentation_link.makeDocumentationLink)("{baseUrl}guide/en/elasticsearch/reference/{urlVersion}/watcher-api-put-watch.html")}}},5718:function(module,exports,__webpack_require__){"use strict";function makeDocumentationLink(linkTemplate){return linkTemplate.replace("{baseUrl}",baseUrl).replace("{urlVersion}",urlVersion)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeDocumentationLink=makeDocumentationLink;var _semver=__webpack_require__(673),_semver2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_semver),_metadata=__webpack_require__(159),major=_semver2.default.major(_metadata.metadata.version),minor=_semver2.default.minor(_metadata.metadata.version),urlVersion=major+"."+minor,baseUrl="https://www.elastic.co/"},5719:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5720)},5720:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_edit_title_bar=__webpack_require__(5721),_watch_edit_title_bar2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_title_bar);_modules.uiModules.get("xpack/watcher").directive("watchEditTitleBar",function(){return{restrict:"E",replace:!0,template:_watch_edit_title_bar2.default,scope:{watch:"=xpackWatch",isWatchValid:"=",onWatchDelete:"=",onWatchSave:"=",onClose:"="},bindToController:!0,controllerAs:"watchEditTitleBar",controller:function WatchEditTitleBarController(){_classCallCheck(this,WatchEditTitleBarController)}}})},5721:function(module,exports){module.exports='<div class="kuiBar">\n  <div class="kuiBarSection">\n    <div class="kuiButtonGroup">\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="!watchEditTitleBar.isWatchValid"\n        ng-click="watchEditTitleBar.onWatchSave()"\n        data-test-subj="btnSaveWatch"\n      >\n        Save\n      </button>\n      <button\n        class="kuiButton kuiButton--basic"\n        ng-click="watchEditTitleBar.onClose()"\n        data-test-subj="btnCancel"\n      >\n        Cancel\n      </button>\n      <button\n        ng-if="!watchEditTitleBar.watch.isNew"\n        class="kuiButton kuiButton--danger kuiButton--iconText"\n        ng-click="watchEditTitleBar.onWatchDelete()"\n        tooltip="Delete Watch"\n        data-test-subj="btnDeleteWatch"\n      >\n        Delete\n      </button>\n    </div>\n  </div>\n</div>\n'},5722:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5723)},5723:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_edit_execute_info_panel=__webpack_require__(5724),_watch_edit_execute_info_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_execute_info_panel);_modules.uiModules.get("xpack/watcher").directive("watchEditExecuteInfoPanel",function(){return{restrict:"E",replace:!0,template:_watch_edit_execute_info_panel2.default,scope:{},bindToController:!0,controllerAs:"watchEditExecuteInfoPanel",controller:function WatchEditExecuteInfoPanelController(){_classCallCheck(this,WatchEditExecuteInfoPanelController)}}})},5724:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--info">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--info fa-info"></span>\n    <span class="kuiInfoPanelHeader__title">\n      Test your watch execution\n    </span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div class="kuiInfoPanelBody__message">\n      To modify how the watch is executed, expand the sections below\n    </div>\n  </div>\n</div>\n'},5725:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5726)},5726:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_watch_edit_execute_detail=__webpack_require__(5727),_watch_edit_execute_detail2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_execute_detail);__webpack_require__(5728),__webpack_require__(5729),__webpack_require__(106),__webpack_require__(1543);var _execute_details=__webpack_require__(1566);_modules.uiModules.get("xpack/watcher").directive("watchEditExecuteDetail",function(){return{restrict:"E",template:_watch_edit_execute_detail2.default,scope:{watch:"=xpackWatch",previousWatchHistoryItem:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:!0,controllerAs:"watchEditExecuteDetail",controller:function(){function WatchEditExecuteDetailController($scope){var _this=this;_classCallCheck(this,WatchEditExecuteDetailController),this.onSectionToggle=function(sectionId){_this.isCollapsed[sectionId]=!_this.isCollapsed[sectionId]},this.isSectionCollapsed=function(sectionId){return _this.isCollapsed[sectionId]},this.onActionModesChanged=function(actionModes){_this.executeDetails.actionModes=actionModes},this.copyFromPreviousExecution=function(){_this.executeDetails.alternativeInput=(0,_lodash.get)(_this.previousWatchHistoryItem.details,"result.input.payload")},this.reportChanges=function(){_this.triggerForm.$valid&&(_this.isAlternativeInputValid||_this.isAlternativeInputEmpty)&&_this.conditionForm.$valid&&_this.actionForm.$valid?_this.onValid():_this.onInvalid(),_this.onChange(_this.executeDetails)},this.onAlternativeInputValid=function(){_this.isAlternativeInputValid=!0,_this.reportChanges()},this.onAlternativeInputInvalid=function(){_this.isAlternativeInputValid=!1,_this.reportChanges()},this.onAlternativeInputChange=function(json){_this.executeDetails.alternativeInput=json,_this.reportChanges()},this.executeDetails=new _execute_details.ExecuteDetails,this.isCollapsed={trigger:!0,input:!0,condition:!0,action:!0},$scope.aceLoaded=function(editor){_this.editor=editor,editor.$blockScrolling=1/0},$scope.$watchMulti(["watchEditExecuteDetail.executeDetails.triggeredTime","watchEditExecuteDetail.executeDetails.scheduledTime","watchEditExecuteDetail.executeDetails.ignoreCondition","watchEditExecuteDetail.executeDetails.recordExecution","watchEditExecuteDetail.executeDetails.actionModes"],this.reportChanges)}return _createClass(WatchEditExecuteDetailController,[{key:"isAlternativeInputEmpty",get:function(){return(0,_lodash.isEmpty)(String(this.executeDetails.alternativeInput))}}]),WatchEditExecuteDetailController}()}})},5727:function(module,exports){module.exports='<form name="watchEditExecuteDetail.triggerForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="trigger"\n    button-text="Trigger Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'trigger\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="triggeredTime"\n        class="kuiFormLabel"\n      >\n        Triggered Time\n      </label>\n      <input\n        type="text"\n        id="triggeredTime"\n        name="triggeredTime"\n        ng-model="watchEditExecuteDetail.executeDetails.triggeredTime"\n        class="kuiTextInput"\n        placeholder="now"\n      >\n    </div>\n    <div class="kuiFormSection">\n      <label\n        for="scheduledTime"\n        class="kuiFormLabel"\n      >\n        Scheduled Time\n      </label>\n      <input\n        type="text"\n        id="scheduledTime"\n        name="scheduledTime"\n        ng-model="watchEditExecuteDetail.executeDetails.scheduledTime"\n        class="kuiTextInput"\n        placeholder="now"\n      >\n    </div>\n  </toggle-panel>\n</form>\n\n<toggle-panel\n  toggle-panel-id="input"\n  button-text="Input Overrides"\n  is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'input\')"\n  on-toggle="watchEditExecuteDetail.onSectionToggle"\n>\n  <div class="kuiFormSection">\n    <label\n      for="recordExecution"\n      class="kuiFormLabel"\n    >\n      Alternative Input\n      <a\n        class="copyFromPrevious"\n        ng-click="watchEditExecuteDetail.copyFromPreviousExecution()"\n        ng-show="watchEditExecuteDetail.previousWatchHistoryItem"\n        data-test-subj="lnkCopyFromPreviousExecution"\n      >\n        Copy from previous execution\n      </a>\n    </label>\n\n    <json-editor\n      json="watchEditExecuteDetail.executeDetails.alternativeInput"\n      on-change="watchEditExecuteDetail.onAlternativeInputChange"\n      on-valid="watchEditExecuteDetail.onAlternativeInputValid"\n      on-invalid="watchEditExecuteDetail.onAlternativeInputInvalid"\n    ></json-editor>\n    <div\n      class="kuiInputNote kuiInputNote--danger"\n      ng-show="!watchEditExecuteDetail.isAlternativeInputValid && !watchEditExecuteDetail.isAlternativeInputEmpty"\n    >\n      Invalid JSON\n    </div>\n  </div>\n</toggle-panel>\n\n<form name="watchEditExecuteDetail.conditionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="condition"\n    button-text="Condition Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'condition\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label\n        for="ignoreCondition"\n        class="kuiFormLabel"\n      >\n        <input\n          id="ignoreCondition"\n          name="ignoreCondition"\n          type="checkbox"\n          ng-model="watchEditExecuteDetail.executeDetails.ignoreCondition"\n          class="kuiCheckBox"\n        >\n        Ignore Condition (Condition is always true)\n      </label>\n    </div>\n  </toggle-panel>\n</form>\n\n<form name="watchEditExecuteDetail.actionForm" novalidate>\n  <toggle-panel\n    toggle-panel-id="action"\n    button-text="Action Overrides"\n    is-collapsed="watchEditExecuteDetail.isSectionCollapsed(\'action\')"\n    on-toggle="watchEditExecuteDetail.onSectionToggle"\n  >\n    <div class="kuiFormSection">\n      <label class="kuiFormLabel">\n        Action Modes\n      </label>\n      <watch-action-mode-table\n        xpack-watch="watchEditExecuteDetail.watch"\n        on-change="watchEditExecuteDetail.onActionModesChanged"\n      ></watch-action-mode-table>\n    </div>\n  </toggle-panel>\n</form>\n'},5728:function(module,exports){},5729:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5730)},5730:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_watch_action_mode_table=__webpack_require__(5731),_watch_action_mode_table2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_action_mode_table),_get_action_type=__webpack_require__(5732),_constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("watchActionModeTable",function(){return{restrict:"E",replace:!0,template:_watch_action_mode_table2.default,scope:{watch:"=xpackWatch",onChange:"="},bindToController:!0,controllerAs:"watchActionModeTable",controller:function(){function WatchActionModeTableController($scope){var _this=this;_classCallCheck(this,WatchActionModeTableController),$scope.$watch("watchActionModeTable.watch.watch",function(){_this.populateActionCollection(),_this.onActionModeChange()}),this.actionModes=(0,_lodash.values)(_constants.ACTION_MODES)}return _createClass(WatchActionModeTableController,[{key:"populateActionCollection",value:function(){var actions=(0,_lodash.get)(this.watch,"watch.actions");this.actionOptions=(0,_lodash.map)(actions,function(action,actionId){return{actionId:actionId,type:(0,_get_action_type.getActionType)(action),actionMode:_constants.ACTION_MODES.SIMULATE}})}},{key:"onActionModeChange",value:function(){var result={};this.actionOptions.forEach(function(actionOption){(0,_lodash.set)(result,actionOption.actionId,actionOption.actionMode)}),this.onChange(result)}}]),WatchActionModeTableController}()}})},5731:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">Mode</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionOption in watchActionModeTable.actionOptions">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionOption.actionId}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionOption.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <select\n          class="kuiSelect"\n          ng-model="actionOption.actionMode"\n          ng-options="actionMode for actionMode in watchActionModeTable.actionModes"\n          ng-change="watchActionModeTable.onActionModeChange()"\n        ></select>\n      </div>\n    </td>\n  </tr>\n</table>\n'},5732:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_action_type=__webpack_require__(5733);Object.defineProperty(exports,"getActionType",{enumerable:!0,get:function(){return _get_action_type.getActionType}})},5733:function(module,exports,__webpack_require__){"use strict";function getActionType(action){return(0,_lodash.intersection)((0,_lodash.keys)(action),(0,_lodash.values)(_constants.ACTION_TYPES))[0]||_constants.ACTION_TYPES.UNKNOWN}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getActionType=getActionType;var _lodash=__webpack_require__(1),_constants=__webpack_require__(35)},5734:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5735)},5735:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _lodash=__webpack_require__(1),_modules=__webpack_require__(2),_watch_edit_actions_execute_summary=__webpack_require__(5736),_watch_edit_actions_execute_summary2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_actions_execute_summary);__webpack_require__(1574),_modules.uiModules.get("xpack/watcher").directive("watchEditActionsExecuteSummary",function(){return{restrict:"E",replace:!0,template:_watch_edit_actions_execute_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"=",executeDetails:"="},bindToController:!0,controllerAs:"watchEditActionsExecuteSummary",controller:function WatchEditActionsExecuteSummaryController($scope){var _this=this;_classCallCheck(this,WatchEditActionsExecuteSummaryController),$scope.$watch("watchEditActionsExecuteSummary.watchHistoryItem",function(){if(_this.watchHistoryItem){var actions=_this.watch.actions,actionStatuses=_this.watchHistoryItem.watchStatus.actionStatuses,actionModes=_this.executeDetails.actionModes;_this.actionDetails=actions.map(function(action){return{action:action,actionMode:actionModes[action.id],actionStatus:(0,_lodash.find)(actionStatuses,{id:action.id})}})}})}}})},5736:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">Mode</th>\n      <th scope="col" class="kuiTableHeaderCell">State</th>\n      <th scope="col" class="kuiTableHeaderCell">Reason</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchEditActionsExecuteSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.actionMode}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},5737:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_action_state_icon=__webpack_require__(5738),_action_state_icon2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_action_state_icon),_constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("actionStateIcon",function(){return{restrict:"E",replace:!0,template:_action_state_icon2.default,scope:{actionStatus:"="},bindToController:!0,controllerAs:"actionStateIcon",controller:function ActionStateIconController(){_classCallCheck(this,ActionStateIconController),this.ACTION_STATES=_constants.ACTION_STATES}}})},5738:function(module,exports){module.exports='<div class="kuiIcon">\n  <div\n    class="kuiIcon kuiIcon--success fa-check"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.OK"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-thumbs-up"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ACKNOWLEDGED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-clock-o"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.THROTTLED"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--warning fa-bullhorn"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.FIRING"\n  ></div>\n  <div\n    class="kuiIcon kuiIcon--error fa-exclamation-triangle"\n    ng-if="actionStateIcon.actionStatus.state === actionStateIcon.ACTION_STATES.ERROR"\n  ></div>\n</div>\n'},5739:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5740)},5740:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_edit_watch_execute_summary=__webpack_require__(5741),_watch_edit_watch_execute_summary2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_watch_execute_summary);__webpack_require__(559),_modules.uiModules.get("xpack/watcher").directive("watchEditWatchExecuteSummary",function(){return{restrict:"E",replace:!0,template:_watch_edit_watch_execute_summary2.default,scope:{watchHistoryItem:"="},bindToController:!0,controllerAs:"watchEditWatchExecuteSummary",controller:function WatchEditWatchExecuteSummaryController(){_classCallCheck(this,WatchEditWatchExecuteSummaryController)}}})},5741:function(module,exports){module.exports='<div class="watch-simulation-result">\n  <label>Simulation Status:</label>\n  <watch-state-icon watch-status="watchEditWatchExecuteSummary.watchHistoryItem.watchStatus"></watch-state-icon>\n  <span>{{ watchEditWatchExecuteSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},5742:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5743)},5743:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60);__webpack_require__(1572);var _threshold_watch_edit=__webpack_require__(5744),_threshold_watch_edit2=_interopRequireDefault(_threshold_watch_edit);__webpack_require__(5745),__webpack_require__(5746),__webpack_require__(5763),__webpack_require__(5796),__webpack_require__(5810),__webpack_require__(5837),__webpack_require__(5841),__webpack_require__(232),__webpack_require__(5844),__webpack_require__(418),__webpack_require__(5847),__webpack_require__(5850);var _datemath=__webpack_require__(81),_datemath2=_interopRequireDefault(_datemath),_notify=__webpack_require__(10),_visualize_options=__webpack_require__(5856),_constants=__webpack_require__(35);_modules.uiModules.get("xpack/watcher").directive("thresholdWatchEdit",function($injector){var watchService=$injector.get("xpackWatcherWatchService"),fieldsService=$injector.get("xpackWatcherFieldsService"),timezoneService=$injector.get("xpackWatcherTimezoneService"),licenseService=$injector.get("xpackWatcherLicenseService"),intervalService=$injector.get("xpackWatcherIntervalService"),actionDefaultsService=$injector.get("xpackWatcherActionDefaultsService"),kbnUrl=$injector.get("kbnUrl"),confirmModal=$injector.get("confirmModal"),$interval=$injector.get("$interval");return{restrict:"E",template:_threshold_watch_edit2.default,scope:{watch:"=xpackWatch"},bindToController:!0,controllerAs:"thresholdWatchEdit",controller:function(_InitAfterBindingsWor){function ThresholdWatchEditController(){var _ref,_temp,_this,_ret;_classCallCheck(this,ThresholdWatchEditController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchEditController.__proto__||Object.getPrototypeOf(ThresholdWatchEditController)).call.apply(_ref,[this].concat(args))),_this.loadFields=function(){if(!(0,_lodash.isEqual)(_this.watch.index,_this.index)){if(_this.index=_this.watch.index,!_this.index.length)return void(_this.fields=[]);fieldsService.getFields(_this.index).then(function(fields){_this.fields=fields})}},_this.onChange=function(watch){_this.loadFields(),_this.watch=watch,_this.updateVisualizeTimeWindow(),_this.visualizeWatch()},_this.onActionChange=function(){},_this.onTitlePanelValid=function(){_this.titlePanelValid=!0,_this.visualizeWatch()},_this.onTitlePanelInvalid=function(){_this.titlePanelValid=!1},_this.onConditionPanelValid=function(){_this.conditionPanelValid=!0,_this.visualizeWatch()},_this.onConditionPanelInvalid=function(){_this.conditionPanelValid=!1},_this.onActionsValid=function(){_this.actionsPanelValid=!0},_this.onActionsInvalid=function(){_this.actionsPanelValid=!1},_this.onActionAdd=function(actionType){var defaults=actionDefaultsService.getDefaults(_this.watch.type,actionType);_this.watch.createAction(actionType,defaults)},_this.onActionDelete=function(action){_this.watch.deleteAction(action)},_this.onActionSimulate=function(action){watchService.simulateWatchAction(_this.watch,action).then(function(watchHistoryItem){var actionStatuses=watchHistoryItem.watchStatus.actionStatuses,actionStatus=actionStatuses.find(function(a){return a.id===action.id});if(!1===actionStatus.lastExecutionSuccessful){var message=actionStatus.lastExecutionReason||action.simulateFailMessage;_this.notifier.error(message)}else _notify.toastNotifications.addSuccess(action.simulateMessage)}).catch(function(err){_this.notifier.error(err)})},_this.onClose=function(){kbnUrl.change("/management/elasticsearch/watcher/watches",{})},_this.updateVisualizeTimeWindow=function(){var fromExpression="now-"+5*_this.watch.timeWindowSize+_this.watch.timeWindowUnit,fromMoment=_datemath2.default.parse(fromExpression),toMoment=_datemath2.default.parse("now");_this.visualizeTimeWindowFrom=fromMoment?fromMoment.valueOf():void 0,_this.visualizeTimeWindowTo=toMoment?toMoment.valueOf():void 0},_this.visualizeWatch=(0,_lodash.debounce)(function(){if(_this.titlePanelValid&&_this.conditionPanelValid){var interval=intervalService.getInterval({min:_this.visualizeTimeWindowFrom,max:_this.visualizeTimeWindowTo}).expression,visualizeOptions=new _visualize_options.VisualizeOptions({rangeFrom:_this.visualizeTimeWindowFrom,rangeTo:_this.visualizeTimeWindowTo,interval:interval,timezone:timezoneService.getTimezone()});return watchService.visualizeWatch(_this.watch,visualizeOptions).then(function(_ref2){var visualizeData=_ref2.visualizeData;_this.visualizeData=visualizeData,_this.visualizeDataPageCount=Object.keys(visualizeData).length,_this.setVisualizationPageByKey(_this.visualizeDataKey),_this.restartRefreshWatchVisualizationTimer()}).catch(function(e){_this.notifier.error(e),_this.stopRefreshWatchVisualizationTimer()})}},500),_this.setVisualizationPageByKey=function(key){var newIndex=Object.keys(_this.visualizeData).indexOf(key);-1===newIndex?_this.setVisualizationPage(0):_this.setVisualizationPage(newIndex)},_this.setVisualizationPage=function(index){_this.visualizeDataKey=Object.keys(_this.visualizeData)[index],_this.visualizeDataPageIndex=index,_this.visualizeDataTitle=_this.watch.termField+" ("+(index+1)+" of "+_this.visualizeDataPageCount+"): "+_this.visualizeDataKey,_this.chartSeries=_this.visualizeData[_this.visualizeDataKey]},_this.onVisualizationNextPage=function(){var newIndex=_this.visualizeDataPageIndex+1;newIndex<_this.visualizeDataPageCount?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(0)},_this.onVisualizationPreviousPage=function(){var newIndex=_this.visualizeDataPageIndex-1;newIndex>=0?_this.setVisualizationPage(newIndex):_this.setVisualizationPage(_this.visualizeDataPageCount-1)},_this.restartRefreshWatchVisualizationTimer=function(){_this.stopRefreshWatchVisualizationTimer(),_this.refreshVisualizationWatchInterval=$interval(_this.visualizeWatch,_constants.REFRESH_INTERVALS.WATCH_VISUALIZATION)},_this.stopRefreshWatchVisualizationTimer=function(){Boolean(_this.refreshVisualizationWatchInterval)&&$interval.cancel(_this.refreshVisualizationWatchInterval)},_this.onWatchSave=function(){return _this.watch.isNew?_this.isExistingWatch().then(function(existingWatch){if(!existingWatch)return _this.saveWatch();var confirmModalOptions={onConfirm:_this.saveWatch,confirmButtonText:"Overwrite Watch"},watchNameMessageFragment=existingWatch.name?' (name: "'+existingWatch.name+'")':"",message='Watch with ID "'+_this.watch.id+'"'+watchNameMessageFragment+" already exists. Do you want to overwrite it?";return confirmModal(message,confirmModalOptions)}).catch(function(err){return _this.notifier.error(err)}):_this.saveWatch()},_this.isExistingWatch=function(){return watchService.loadWatch(_this.watch.id).then(function(existingWatch){return existingWatch}).catch(function(err){return licenseService.checkValidity().then(function(){if(404===err.status)return!1;throw err})})},_this.saveWatch=function(){return watchService.saveWatch(_this.watch).then(function(){_this.watch.isNew=!1,_notify.toastNotifications.addSuccess("Saved '"+_this.watch.displayName+"'"),_this.onClose()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ThresholdWatchEditController,_InitAfterBindingsWor),_createClass(ThresholdWatchEditController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.index=void 0,this.notifier=new _notify.Notifier({location:"Watcher"}),this.originalWatch=_extends({},this.watch),this.omitBreadcrumbPages=["new-watch",this.watch.id],this.breadcrumb=this.watch.displayName,$scope.$on("$destroy",function(){_this2.stopRefreshWatchVisualizationTimer()}),this.loadFields()}},{key:"saveDisabled",get:function(){return!(this.titlePanelValid&&this.conditionPanelValid&&this.actionsPanelValid)}}]),ThresholdWatchEditController}(_compat.InitAfterBindingsWorkaround)}})},5744:function(module,exports){module.exports='<kbn-management-app\n  class="thresholdWatchEdit"\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ thresholdWatchEdit.omitBreadcrumbPages }}"\n  page-title="thresholdWatchEdit.breadcrumb"\n>\n  <div class="thresholdWatchEditContent">\n\n    <div class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel">\n      <div class="kuiPanelBody">\n        <watch-edit-title-panel\n          fields="thresholdWatchEdit.fields"\n          xpack-watch="thresholdWatchEdit.watch"\n          on-change="thresholdWatchEdit.onChange"\n          on-valid="thresholdWatchEdit.onTitlePanelValid"\n          on-invalid="thresholdWatchEdit.onTitlePanelInvalid"\n        ></watch-edit-title-panel>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel"\n      ng-show="thresholdWatchEdit.titlePanelValid"\n    >\n      <div class="kuiPanelBody">\n        <section class="kuiVerticalRhythm">\n          <header>\n            <h2 class="kuiSubTitle">\n              Matching the following condition\n            </h2>\n          </header>\n        </section>\n\n        <div class="kuiVerticalRhythm" style="margin-bottom:30px;">\n          <threshold-watch-expression\n            threshold-watch="thresholdWatchEdit.watch"\n            fields="thresholdWatchEdit.fields"\n            on-change="thresholdWatchEdit.onChange"\n            on-valid="thresholdWatchEdit.onConditionPanelValid"\n            on-invalid="thresholdWatchEdit.onConditionPanelInvalid"\n          ></threshold-watch-expression>\n        </div>\n\n\n        <div class="kuiPanel kuiVerticalRhythm">\n          <div\n            class="kuiPanelHeader"\n            ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n          >\n            <div class="kuiPanelHeaderSection">\n              <div class="kuiPanelHeader__title">\n                {{ thresholdWatchEdit.visualizeDataTitle }}\n              </div>\n            </div>\n          </div>\n\n          <div class="kuiPanelBody">\n            <div\n              class="kuiVerticalRhythm kuiWatchVisualization"\n              ng-class="{ kuiWatchVisualizationMulti: thresholdWatchEdit.visualizeDataPageCount > 1 }">\n              <threshold-preview-chart\n                series="thresholdWatchEdit.chartSeries"\n                threshold-value="thresholdWatchEdit.watch.threshold"\n                start-date="thresholdWatchEdit.visualizeTimeWindowFrom"\n                end-date="thresholdWatchEdit.visualizeTimeWindowTo"\n              ></threshold-preview-chart>\n            </div>\n          </div>\n          <panel-pager\n            on-next-page="thresholdWatchEdit.onVisualizationNextPage"\n            on-previous-page="thresholdWatchEdit.onVisualizationPreviousPage"\n            ng-show="thresholdWatchEdit.visualizeDataPageCount > 1"\n          ></panel-pager>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class="kuiPanel kuiVerticalRhythm thresholdWatchEditSectionPanel"\n      ng-show="thresholdWatchEdit.titlePanelValid && thresholdWatchEdit.conditionPanelValid"\n    >\n      <div class="kuiPanelBody">\n\n        <watch-actions\n          actions="thresholdWatchEdit.watch.actions"\n          on-action-add="thresholdWatchEdit.onActionAdd"\n          on-action-change="thresholdWatchEdit.onActionChange"\n          on-action-simulate="thresholdWatchEdit.onActionSimulate"\n          on-action-delete="thresholdWatchEdit.onActionDelete"\n          on-valid="thresholdWatchEdit.onActionsValid"\n          on-invalid="thresholdWatchEdit.onActionsInvalid"\n        ></watch-actions>\n\n      </div>\n    </div>\n\n    <div class="kuiButtonGroup kuiVerticalRhythm thresholdWatchEditSectionPanel thresholdWatchEditButtons">\n\n      <button\n        class="kuiButton kuiButton--primary"\n        ng-disabled="thresholdWatchEdit.saveDisabled"\n        ng-click="thresholdWatchEdit.onWatchSave()">\n        <span class="kuiButton__inner">\n          <span>Save</span>\n        </span>\n      </button>\n\n    </div>\n\n  </div>\n</kbn-management-app>\n'},5745:function(module,exports){},5746:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5747)},5747:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_watch_edit_title_panel=__webpack_require__(5748),_watch_edit_title_panel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_edit_title_panel),_constants=__webpack_require__(35);__webpack_require__(5749),__webpack_require__(5750),__webpack_require__(1575),__webpack_require__(177),__webpack_require__(203);var VALID_NORMALIZED_TYPES=["date"];_modules.uiModules.get("xpack/watcher").directive("watchEditTitlePanel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_edit_title_panel2.default,replace:!0,scope:{watch:"=xpackWatch",fields:"=",onChange:"=",onInvalid:"=",onValid:"="},bindToController:!0,controllerAs:"watchEditTitlePanel",controller:function(_InitAfterBindingsWor){function WatchEditTitlePanelController(){var _ref,_temp,_this,_ret;_classCallCheck(this,WatchEditTitlePanelController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=WatchEditTitlePanelController.__proto__||Object.getPrototypeOf(WatchEditTitlePanelController)).call.apply(_ref,[this].concat(args))),_this.onIndexSelectTouched=function(){_this.indexSelectTouched=!0},_this.onIndexSelection=function(indices){_this.watch.index=indices,_this.indexSelectTouched=!0,_this.updateValidity(),_this.onChange(_this.watch)},_this.updateValidity=function(){_this.form.$valid&&_this.hasAnyValidSelectedIndices()?_this.onValid():_this.onInvalid()},_this.hasAnySelectedIndices=function(){return Array.isArray(_this.watch.index)?_this.watch.index.length>0:Boolean(_this.watch.index)},_this.hasAnyValidSelectedIndices=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&_this.fields.length>0},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!_this.form[fieldName])return!1;var showMessage=(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];return showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=!1),showMessage},_this.showIndexSelectionValidationState=function(){return!_this.hasAnySelectedIndices()||_this.showInvalidIndexValidationMessage()||_this.showNoTimeFieldsValidationMessage()},_this.showRequiredIndexSelectionValidationMessage=function(){return _this.indexSelectTouched&&!_this.hasAnySelectedIndices()},_this.showInvalidIndexValidationMessage=function(){return _this.hasAnySelectedIndices()&&Boolean(_this.fields)&&0===_this.fields.length},_this.showNoTimeFieldsValidationMessage=function(){return _this.hasAnyValidSelectedIndices()&&0===_this.timeFields.length},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(WatchEditTitlePanelController,_InitAfterBindingsWor),_createClass(WatchEditTitlePanelController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create(),this.triggerIntervalSize=this.watch.triggerIntervalSize,this.triggerIntervalUnit=this.watch.triggerIntervalUnit,this.triggerIntervalMinimumUnit=_constants.TIME_UNITS.SECOND,this.triggerIntervalMinimumSize=10,this.timeFields=[],this.indexSelectTouched=!1,$scope.$watch("watchEditTitlePanel.triggerIntervalSize",function(newSize){_this2.watch.triggerIntervalSize=Number(newSize),_this2.onChange(_this2.watch)}),$scope.$watch("watchEditTitlePanel.triggerIntervalUnit",function(newUnit){_this2.watch.triggerIntervalUnit=newUnit,_this2.onChange(_this2.watch)}),$scope.$watchMulti(["watchEditTitlePanel.watch.name","watchEditTitlePanel.watch.timeField"],function(){_this2.onChange(_this2.watch)}),$scope.$watch("watchEditTitlePanel.watch.index",function(newIndex){Boolean(newIndex)&&0!==newIndex.length||(_this2.watch.timeField=void 0,_this2.timeFields=[])}),$scope.$watchMulti(["watchEditTitlePanel.form.$valid","watchEditTitlePanel.watch.index"],this.updateValidity),$scope.$watch("watchEditTitlePanel.fields",function(fields){_this2.timeFields=Boolean(fields)?fields.filter(function(field){return VALID_NORMALIZED_TYPES.includes(field.normalizedType)}):[],_this2.updateValidity()})}},{key:"title",get:function(){return this.watch.isNew?"Create a new "+this.watch.typeName.toLowerCase():this.watch.name}},{key:"description",get:function(){return this.watch.titleDescription}}]),WatchEditTitlePanelController}(_compat.InitAfterBindingsWorkaround)}})},5748:function(module,exports){module.exports='<section>\n  <header>\n    <h1 class="kuiTitle">\n      {{watchEditTitlePanel.title}}\n    </h1>\n    <h2 class="kuiSubText kuiSubduedText">\n      {{watchEditTitlePanel.description}}\n    </h2>\n  </header>\n  <form name="watchEditTitlePanel.form" novalidate>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop watchEditTitlePanelContent">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Name\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <input\n            class="kuiTextInput fullWidth"\n            type="text"\n            name="watchName"\n            id="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            input-focus\n            required\n            ng-model="watchEditTitlePanel.watch.name"\n            placeholder="My Threshold Watch"\n          >\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'watchName\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'watchName\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'watchName\', \'required\')"\n          >\n            Name is required\n          </div>\n          &nbsp;\n        </div>\n      </div>\n    </div>\n    <div class="kuiFieldGroup kuiFieldGroup--alignTop">\n      <div class="kuiFieldGroupSection kuiFieldGroupSection--wide">\n        <label\n          for="indexSelectSearchBox"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Indices to query\n        </label>\n        <div\n          class="kuiVerticalRhythmSmall watchEditTitleIndexSelectContainer"\n          ng-class="{\n            \'ng-invalid\': watchEditTitlePanel.showIndexSelectionValidationState()\n          }"\n        >\n          <index-select\n            index="watchEditTitlePanel.watch.index"\n            on-change="watchEditTitlePanel.onIndexSelection"\n            on-touched="watchEditTitlePanel.onIndexSelectTouched"\n          >\n          </index-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n           <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showRequiredIndexSelectionValidationMessage()"\n          >\n            Enter one or more indices\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'invalid\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showInvalidIndexValidationMessage()"\n          >\n            Your index query does not match any valid indices\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'indexSelectSearchBox\', \'notimefield\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'indexSelectSearchBox\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.showNoTimeFieldsValidationMessage()"\n          >\n            Your index query does not have an associated time field\n          </div>\n          <span>Use * to broaden your search query</span>\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          for="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n          class="kuiLabel kuiVerticalRhythmSmall">\n          Time field\n        </label>\n        <div class="kuiVerticalRhythmSmall">\n          <select\n            class="kuiSelect"\n            name="timeField"\n            id="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            required\n            ng-model="watchEditTitlePanel.watch.timeField"\n            ng-options="timeField.name as timeField.name group by timeField.normalizedType for timeField in watchEditTitlePanel.timeFields"\n          >\n            <option value="">Select a field</option>\n          </select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'timeField\', \'required\'])}}"\n            xpack-aria-describes="{{watchEditTitlePanel.makeId(\'timeField\')}}"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'timeField\', \'required\')"\n          >\n            A time field is required\n          </div>\n          &nbsp;\n        </div>\n      </div>\n\n      <div class="kuiFieldGroupSection">\n        <label\n          id="durationSelectTriggerIntervalSizeLabel"\n          for="durationSelectTriggerIntervalSize"\n          class="kuiLabel kuiVerticalRhythmSmall"\n        >\n          Run watch every\n        </label>\n\n        <div class="kuiVerticalRhythmSmall" id="durationSelectTriggerIntervalSize" role="group">\n          <duration-select\n            duration-id="triggerInterval"\n            minimum-unit="watchEditTitlePanel.triggerIntervalMinimumUnit"\n            minimum-size="watchEditTitlePanel.triggerIntervalMinimumSize"\n            unit="watchEditTitlePanel.triggerIntervalUnit"\n            size="watchEditTitlePanel.triggerIntervalSize"\n            described-by="durationSelectTriggerIntervalSizeLabel"\n          ></duration-select>\n        </div>\n        <div class="kuiSubText kuiSubduedText kuiVerticalRhythmSmall watchEditTitlePanelIntervalValidation">\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'required\')"\n          >\n            Interval size is required\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'min\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'min\')"\n          >\n            Interval size cannot be a negative number\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'number\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'number\')"\n          >\n            Interval size must be a valid number\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalUnit\', \'required\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalUnit\', \'required\')"\n          >\n            An interval size is required\n          </div>\n          <div\n            id="{{watchEditTitlePanel.makeId([\'durationSelectTriggerIntervalSize\', \'minimumDuration\'])}}"\n            xpack-aria-describes="durationSelectTriggerIntervalSize durationSelectTriggerIntervalUnit"\n            class="kuiInputNote kuiInputNote--danger"\n            ng-if="watchEditTitlePanel.isValidationMessageVisible(\'durationSelectTriggerIntervalSize\', \'minimumDuration\', false)"\n          >\n            The miminum duration is {{watchEditTitlePanel.triggerIntervalMinimumSize}}{{watchEditTitlePanel.triggerIntervalMinimumUnit}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</section>\n'},5749:function(module,exports){},5750:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5751)},5751:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function mapIndex(indexName){return{indexName:indexName,isFromIndexPattern:arguments.length>1&&void 0!==arguments[1]&&arguments[1],isUserEntered:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}}function collapseIndices(allIndices,allIndexPatterns){var indices=(0,_lodash.map)(allIndices,function(indexName){return mapIndex(indexName,!1)}),indexPatterns=(0,_lodash.map)(allIndexPatterns,function(indexName){return mapIndex(indexName,!0)});return indices.push.apply(indices,_toConsumableArray(indexPatterns)),indices}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1);__webpack_require__(5752);var _compat=__webpack_require__(60),_modules=__webpack_require__(2),_index_select=__webpack_require__(5755),_index_select2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_index_select);__webpack_require__(5756);_modules.uiModules.get("xpack/watcher").directive("indexSelect",function($injector){var indicesService=$injector.get("xpackWatcherIndicesService"),indexPatternsService=$injector.get("indexPatterns"),$timeout=$injector.get("$timeout");return{restrict:"E",template:_index_select2.default,scope:{index:"=",onChange:"=",onTouched:"="},controllerAs:"indexSelect",bindToController:!0,link:function($scope,$ele){var $searchBox=$ele.find('input[type="search"]');$scope.indexSelect.$searchBox=$searchBox,$searchBox.attr("id","indexSelectSearchBox")},controller:function(_InitAfterBindingsWor){function IndexSelectController(){return _classCallCheck(this,IndexSelectController),_possibleConstructorReturn(this,(IndexSelectController.__proto__||Object.getPrototypeOf(IndexSelectController)).apply(this,arguments))}return _inherits(IndexSelectController,_InitAfterBindingsWor),_createClass(IndexSelectController,[{key:"initAfterBindings",value:function($scope){var _this2=this;if(this.$scope=$scope,this.indexPattern=void 0,this.fetchingWithNoIndices=!0,this.selectedIndices=[],this.fetchedIndices=[],Boolean(this.index))if(Array.isArray(this.index)){var _selectedIndices;(_selectedIndices=this.selectedIndices).push.apply(_selectedIndices,_toConsumableArray(this.index.map(mapIndex)))}else this.selectedIndices.push(mapIndex(this.index));this.onTouched&&($timeout(function(){_this2.$searchBox.on("blur",function(){$scope.$apply(_this2.onTouched)})}),$scope.$on("$destroy",function(){_this2.$searchBox.off("blur")})),$scope.$watch("indexSelect.index",function(){$timeout(function(){$scope.$$childHead.$select.sizeSearchInput()},100)})}},{key:"onIndicesChanged",value:function(){var indexNames=(0,_lodash.pluck)(this.selectedIndices,"indexName");this.onChange(indexNames)}},{key:"onNewItem",value:function(unmatchedIndexPattern){return mapIndex(unmatchedIndexPattern)}},{key:"groupIndices",value:function(index){return index.isFromIndexPattern?"Based on your index patterns":index.isUserEntered?"Choose...":"Based on your indices and aliases"}},{key:"sortGroupedIndices",value:function(grouped){return(0,_lodash.sortBy)(grouped,function(group){return group.name})}},{key:"onDropdownToggled",value:function(isOpen){isOpen||this.reset()}},{key:"reset",value:function(){this.fetchedIndices.length=0,this.indexPattern=void 0}},{key:"fetchIndices",value:function(indexPattern){var _this3=this;if(!Boolean(indexPattern))return void this.reset();this.indexPattern=indexPattern;var pattern=indexPattern;(0,_lodash.endsWith)(pattern,"*")||(pattern+="*"),(0,_lodash.startsWith)(pattern,"*")||(pattern="*"+pattern);var promises=[indicesService.getMatchingIndices(pattern),indexPatternsService.getTitles()];0===this.fetchedIndices.length&&(this.fetchingWithNoIndices=!0),Promise.all(promises).then(function(_ref){var _ref2=_slicedToArray(_ref,2),allIndices=_ref2[0],allIndexPatterns=_ref2[1],indices=collapseIndices(allIndices,allIndexPatterns);_this3.fetchedIndices=(0,_lodash.sortBy)(indices,"indexName"),_this3.fetchedIndices.push(mapIndex(_this3.indexPattern,!1,!0)),_this3.fetchingWithNoIndices=!1,_this3.$scope.$apply()})}},{key:"hasIndexPattern",get:function(){return Boolean(this.indexPattern)}}]),IndexSelectController}(_compat.InitAfterBindingsWorkaround)}})},5752:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5753)},5753:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_indices_service=__webpack_require__(5754);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIndicesService",function($injector){var $http=$injector.get("$http");return new _indices_service.IndicesService($http)})},5754:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndicesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35);exports.IndicesService=function(){function IndicesService($http){_classCallCheck(this,IndicesService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(IndicesService,[{key:"getMatchingIndices",value:function(pattern){return this.$http.post(this.basePath+"/indices",{pattern:pattern}).then(function(response){return response.data.indices})}}]),IndicesService}()},5755:function(module,exports){module.exports='<div\n  class="indexSelect"\n  ng-class="{\n    \'indexSelect--activeSearch\': indexSelect.hasIndexPattern,\n    \'indexSelect--noSearch\': !indexSelect.hasIndexPattern,\n    \'indexSelect--fetchingWithNoIndices\': indexSelect.fetchingWithNoIndices\n  }"\n>\n  <ui-select\n    ng-model="indexSelect.selectedIndices"\n    on-select="indexSelect.onIndicesChanged()"\n    on-remove="indexSelect.onIndicesChanged()"\n    uis-open-close="indexSelect.onDropdownToggled(isOpen)"\n    multiple\n  >\n    <ui-select-match placeholder="Start typing...">\n      {{$item.indexName}}\n    </ui-select-match>\n    <ui-select-choices\n      repeat="index in indexSelect.fetchedIndices | filter: {indexName: $select.search}"\n      refresh="indexSelect.fetchIndices($select.search)"\n      refresh-delay="300"\n      group-by="indexSelect.groupIndices"\n      group-filter="indexSelect.sortGroupedIndices"\n    >\n      <div class="actionTypeChoice">\n        <div class="actionTypeDescription">\n          <div\n            class="indexSelectionName"\n            ng-bind-html="index.indexName | highlight: $select.search"\n          >\n          </div>\n        </div>\n      </div>\n    </ui-select-choices>\n    <ui-select-no-choice>\n      <p class="indexSelectNoChoice">\n        Building list... please wait\n      </p>\n    </ui-select-no-choice>\n  </ui-select>\n</div>\n'},5756:function(module,exports){},5757:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_constants=__webpack_require__(837),_duration_select=__webpack_require__(5758),_duration_select2=_interopRequireDefault(_duration_select);__webpack_require__(5759);var _moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment);__webpack_require__(177),_modules.uiModules.get("xpack/watcher").directive("durationSelect",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{require:"^form",scope:{durationId:"@",minimumUnit:"=",minimumSize:"=",unit:"=",size:"=",describedBy:"@"},template:_duration_select2.default,replace:!0,controllerAs:"durationSelect",bindToController:!0,link:function($scope,$element,$attrs,$ctrl){$scope.durationSelect.form=$ctrl},controller:function(_InitAfterBindingsWor){function DurationSelectController(){var _ref,_temp,_this,_ret;_classCallCheck(this,DurationSelectController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=DurationSelectController.__proto__||Object.getPrototypeOf(DurationSelectController)).call.apply(_ref,[this].concat(args))),_this.checkValidity=function(){var isValid=_this.duration>=_this.minimumDuration,sizeName=_this.makeId("size"),unitName=_this.makeId("unit");_this.form[sizeName]&&(_this.form[sizeName].$setTouched(!0),_this.form[sizeName].$setValidity("minimumDuration",isValid)),_this.form[unitName]&&(_this.form[unitName].$setTouched(!0),_this.form[unitName].$setValidity("minimumDuration",isValid))},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(DurationSelectController,_InitAfterBindingsWor),_createClass(DurationSelectController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.timeUnits=_constants.TIME_UNITS,this.makeId=htmlIdGeneratorFactory.create(["durationSelect",this.durationId]),$scope.$watchMulti(["durationSelect.minimumSize","durationSelect.minimumUnit"],function(_ref2){var _ref3=_slicedToArray(_ref2,2),minimumSize=_ref3[0],minimumUnit=_ref3[1];_this2.minimumDuration=_moment2.default.duration(Number(minimumSize),minimumUnit).asMilliseconds(),_this2.checkValidity()}),$scope.$watchMulti(["durationSelect.size","durationSelect.unit"],function(_ref4){var _ref5=_slicedToArray(_ref4,2),size=_ref5[0],unit=_ref5[1];_this2.duration=_moment2.default.duration(Number(size),unit).asMilliseconds(),_this2.checkValidity()})}}]),DurationSelectController}(_compat.InitAfterBindingsWorkaround)}})},5758:function(module,exports){module.exports='<div class="durationSelect">\n  <input\n    id="{{durationSelect.makeId(\'size\')}}"\n    name="{{durationSelect.makeId(\'size\')}}"\n    type="number"\n    class="durationSelectSize kuiTextInput watcherNumberInput"\n    min="0"\n    required\n    ng-model="durationSelect.size"\n    aria-label="Duration amount"\n    aria-describedby="{{durationSelect.describedBy}}"\n  >\n\n  <select\n    id="{{durationSelect.makeId(\'unit\')}}"\n    name="{{durationSelect.makeId(\'unit\')}}"\n    class="durationSelectUnit kuiSelect"\n    required\n    ng-model="durationSelect.unit"\n    ng-options="commonTimeUnit as timeUnit.labelPlural for (commonTimeUnit, timeUnit) in durationSelect.timeUnits"\n    aria-label="Duration time unit"\n    aria-describedby="{{durationSelect.describedBy}}"\n  ></select>\n<div>\n'},5759:function(module,exports){},5760:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_html_id_generator_service=__webpack_require__(5761);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherHtmlIdGeneratorFactory",function(){return{create:function(){return _html_id_generator_service.createHtmlIdGenerator.apply(void 0,arguments)}}})},5761:function(module,exports,__webpack_require__){"use strict";function createHtmlIdGenerator(){var rootPartOrParts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],rootParts=Array.isArray(rootPartOrParts)?rootPartOrParts:[rootPartOrParts],cache={};return function(parts){var useRootParts=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!cache[parts]){var root=useRootParts?rootParts:[],combined=root.concat(parts),id=(0,_lodash.camelCase)(combined);cache[parts]=id}return cache[parts]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createHtmlIdGenerator=createHtmlIdGenerator;var _lodash=__webpack_require__(1)},5762:function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);__webpack_require__(2).uiModules.get("xpack/watcher").directive("xpackAriaDescribes",function(){return{restrict:"A",link:function($scope,$ele,attr){function updateAriaDescribedBy(elementId,targetIdList,targetLength){var remove=arguments.length>3&&void 0!==arguments[3]&&arguments[3];elementId&&targetIdList&&0!==targetLength&&targetIdList.split(" ").forEach(function(targetId){var $target=(0,_jquery2.default)("#"+targetId),describedby=$target.attr("aria-describedby"),describedByParts=describedby?describedby.split(" "):[],targetIndex=describedByParts.indexOf(elementId);if(remove?-1!==targetIndex&&describedByParts.splice(targetIndex,1):-1===targetIndex&&describedByParts.push(elementId),0===describedByParts.length)$target.removeAttr("aria-describedby");else{var newDescribedBy=describedByParts.join(" ");$target.attr("aria-describedby",newDescribedBy)}})}if(!Object.keys(attr).includes("id"))throw new Error('An element with xpack-aria-describes="'+attr.xpackAriaDescribes+'" does not have an id attribute defined');var selector="";$scope.$watch(function(){return attr.xpackAriaDescribes},function(xpackAriaDescribes){var ids=xpackAriaDescribes.split(" ");selector=ids.map(function(id){return"#"+id}).join(","),$scope.targetIdList=xpackAriaDescribes}),$scope.$watchMulti([function(){return attr.id},"targetIdList",function(){return(0,_jquery2.default)(selector).length}],function(_ref){var _ref2=_slicedToArray(_ref,3);updateAriaDescribedBy(_ref2[0],_ref2[1],_ref2[2])}),$scope.$on("$destroy",function(){updateAriaDescribedBy(attr.id,$scope.targetIdList,(0,_jquery2.default)(selector).length,!0)})}}})},5763:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5764)},5764:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_threshold_watch_expression=__webpack_require__(5765),_threshold_watch_expression2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_expression);__webpack_require__(5766),__webpack_require__(5770),__webpack_require__(5773),__webpack_require__(5776),__webpack_require__(5779),__webpack_require__(5782),__webpack_require__(5792);var _agg_types=__webpack_require__(5793),_comparators=__webpack_require__(5794),_group_by_types=__webpack_require__(5795),_constants=__webpack_require__(837);_modules.uiModules.get("xpack/watcher").directive("thresholdWatchExpression",function(){return{restrict:"E",template:_threshold_watch_expression2.default,scope:{thresholdWatch:"=",fields:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"="},bindToController:!0,controllerAs:"thresholdWatchExpression",controller:function ThresholdWatchExpressionController($scope){var _this=this;_classCallCheck(this,ThresholdWatchExpressionController),this.onAggTypeChange=function(aggType){_this.initialized&&(_this.aggType=aggType,aggType.fieldRequired?(_this.items["agg-field"].isVisible=!0,_this.aggFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(aggType.validNormalizedTypes,field.normalizedType)}),(0,_lodash.includes)(_this.aggFields,_this.aggField)||_this.onAggFieldChange(null)):(_this.items["agg-field"].isVisible=!1,_this.onAggFieldChange(null)),_this.thresholdWatch.aggType=aggType?aggType.value:null,_this.onChange(_this.thresholdWatch))},this.onAggFieldChange=function(aggField){_this.initialized&&(_this.aggField=aggField,_this.thresholdWatch.aggField=aggField?aggField.name:null,_this.onChange(_this.thresholdWatch))},this.onGroupByChange=function(_ref,_ref2){var _ref4=_slicedToArray(_ref,3),groupByType=_ref4[0],termSize=_ref4[1],termField=_ref4[2],_ref3=_slicedToArray(_ref2,1),oldGroupByType=_ref3[0];_this.initialized&&(_this.groupByType=groupByType,_this.termSize=termSize,_this.termField=termField,groupByType!==oldGroupByType&&(_this.termFields=(0,_lodash.filter)(_this.fields,function(field){return(0,_lodash.includes)(_this.groupByType.validNormalizedTypes,field.normalizedType)}),Boolean(oldGroupByType)&&(_this.groupByType===_this.groupByTypes.all?(_this.termSize=null,_this.termField=null):_this.termSize=_this.thresholdWatch.DEFAULT_VALUES.TERM_SIZE)),_this.thresholdWatch.termSize=_this.termSize,_this.thresholdWatch.termField=_this.termField?_this.termField.name:null,_this.onChange(_this.thresholdWatch))},this.onThresholdLevelChange=function(_ref5){var _ref6=_slicedToArray(_ref5,2),thresholdComparator=_ref6[0],threshold=_ref6[1];_this.initialized&&(_this.thresholdComparator=thresholdComparator,_this.threshold=threshold,_this.thresholdWatch.thresholdComparator=_this.thresholdComparator.value,_this.thresholdWatch.threshold=_this.threshold,_this.onChange(_this.thresholdWatch))},this.onTimeWindowChange=function(_ref7){var _ref8=_slicedToArray(_ref7,2),timeWindowSize=_ref8[0],timeWindowUnit=_ref8[1];_this.initialized&&(_this.timeWindowSize=timeWindowSize,_this.timeWindowUnit=timeWindowUnit,_this.thresholdWatch.timeWindowSize=_this.timeWindowSize,_this.thresholdWatch.timeWindowUnit=_this.timeWindowUnit,_this.onChange(_this.thresholdWatch))},this.isItemVisible=function(itemId){return _this.items[itemId].isVisible},this.isItemOpen=function(itemId){return _this.items[itemId].isOpen},this.onItemOpen=function(itemId){(0,_lodash.forEach)(_this.items,function(item,id){item.isOpen=itemId===id})},this.onItemClose=function(itemId){_this.items[itemId].isOpen=!1},this.isExpressionValid=function(){return(0,_lodash.every)(_this.items,function(item){return item.isValid||!item.isVisible})},this.showExpressionValidation=function(){return(0,_lodash.some)(_this.items,function(item){return!item.isValid&&item.isVisible&&item.isDirty})},this.checkValidity=function(){_this.isExpressionValid()?_this.onValid():_this.onInvalid()},this.onItemValid=function(itemId){_this.items[itemId].isValid=!0,_this.checkValidity()},this.onItemInvalid=function(itemId){_this.items[itemId].isValid=!1,_this.checkValidity()},this.onItemDirty=function(itemId){_this.items[itemId].isDirty=!0},this.onItemPristine=function(itemId){_this.items[itemId].isDirty=!1},this.items={"agg-type":{isOpen:!1,isVisible:!0,isValid:!0},"agg-field":{isOpen:!1,isVisible:!1,isValid:!0},"group-by":{isOpen:!1,isVisible:!0,isValid:!0},"threshold-level":{isOpen:!1,isVisible:!0,isValid:!0},"time-window":{isOpen:!1,isVisible:!0,isValid:!0}},this.aggTypes=_agg_types.aggTypes,this.groupByTypes=_group_by_types.groupByTypes,this.comparators=_comparators.comparators,this.timeUnits=_constants.TIME_UNITS,this.initialized=!1,this.dirty=!1,$scope.$watchGroup(["thresholdWatchExpression.thresholdWatch","thresholdWatchExpression.fields"],function(_ref9){var _ref10=_slicedToArray(_ref9,2),thresholdWatch=_ref10[0],fields=_ref10[1];thresholdWatch&&fields&&(_this.aggType=(0,_lodash.find)(_this.aggTypes,{value:_this.thresholdWatch.aggType}),_this.aggField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.aggField}),_this.groupByType=_this.thresholdWatch.termField?_this.groupByTypes.top:_this.groupByTypes.all,_this.termSize=_this.thresholdWatch.termSize,_this.termField=(0,_lodash.find)(_this.fields,{name:_this.thresholdWatch.termField}),_this.threshold=_this.thresholdWatch.threshold,_this.thresholdComparator=(0,_lodash.find)(_this.comparators,{value:_this.thresholdWatch.thresholdComparator}),_this.timeWindowSize=_this.thresholdWatch.timeWindowSize,_this.timeWindowUnit=_this.thresholdWatch.timeWindowUnit,_this.initialized=!0)})}}})},5765:function(module,exports){module.exports='<expression-builder class="thresholdWatchExpression">\n  <div\n    class="kuiInputNote kuiInputNote--danger"\n    ng-show="thresholdWatchExpression.showExpressionValidation()"\n  >\n    Please fix the errors in the expression below.\n  </div>\n\n  <threshold-watch-agg-type\n    item-id="agg-type"\n    agg-types="thresholdWatchExpression.aggTypes"\n    agg-type="thresholdWatchExpression.aggType"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-type\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-type\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggTypeChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-type>\n\n  <threshold-watch-agg-field\n    item-id="agg-field"\n    agg-fields="thresholdWatchExpression.aggFields"\n    agg-field="thresholdWatchExpression.aggField"\n    is-open="thresholdWatchExpression.isItemOpen(\'agg-field\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'agg-field\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onAggFieldChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-agg-field>\n\n  <threshold-watch-group-by\n    item-id="group-by"\n    group-by-types="thresholdWatchExpression.groupByTypes"\n    group-by-type="thresholdWatchExpression.groupByType"\n    term-size="thresholdWatchExpression.termSize"\n    term-fields="thresholdWatchExpression.termFields"\n    term-field="thresholdWatchExpression.termField"\n    is-open="thresholdWatchExpression.isItemOpen(\'group-by\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'group-by\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onGroupByChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-group-by>\n\n  <threshold-watch-threshold-level\n    item-id="threshold-level"\n    comparators="thresholdWatchExpression.comparators"\n    threshold-comparator="thresholdWatchExpression.thresholdComparator"\n    threshold="thresholdWatchExpression.threshold"\n    is-open="thresholdWatchExpression.isItemOpen(\'threshold-level\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'threshold-level\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onThresholdLevelChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-threshold-level>\n\n  <threshold-watch-time-window\n    item-id="time-window"\n    time-window-units="thresholdWatchExpression.timeUnits"\n    time-window-size="thresholdWatchExpression.timeWindowSize"\n    time-window-unit="thresholdWatchExpression.timeWindowUnit"\n    is-open="thresholdWatchExpression.isItemOpen(\'time-window\');"\n    is-visible="thresholdWatchExpression.isItemVisible(\'time-window\');"\n    on-open="thresholdWatchExpression.onItemOpen"\n    on-close="thresholdWatchExpression.onItemClose"\n    on-change="thresholdWatchExpression.onTimeWindowChange"\n    on-valid="thresholdWatchExpression.onItemValid"\n    on-invalid="thresholdWatchExpression.onItemInvalid"\n    on-dirty="thresholdWatchExpression.onItemDirty"\n    on-pristine="thresholdWatchExpression.onItemPristine"\n  ></threshold-watch-time-window>\n\n</expression-builder>\n'},5766:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5767)},5767:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_threshold_watch_agg_type=__webpack_require__(5768),_threshold_watch_agg_type2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_agg_type),_threshold_watch_base=__webpack_require__(419);__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("thresholdWatchAggType",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_type2.default,scope:{itemId:"@",aggTypes:"=",aggType:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:!0,controllerAs:"thresholdWatchAggType",controller:function(_ThresholdWatchBaseCo){function ThresholdWatchAggTypeController(){return _classCallCheck(this,ThresholdWatchAggTypeController),_possibleConstructorReturn(this,(ThresholdWatchAggTypeController.__proto__||Object.getPrototypeOf(ThresholdWatchAggTypeController)).apply(this,arguments))}return _inherits(ThresholdWatchAggTypeController,_ThresholdWatchBaseCo),_createClass(ThresholdWatchAggTypeController,[{key:"initAfterBindings",value:function($scope){this.makeId=htmlIdGeneratorFactory.create(),$scope.$watch("thresholdWatchAggType.aggType",this.onChange),$scope.$watch("thresholdWatchAggType.form.$valid",this.checkValidity),$scope.$watch("thresholdWatchAggType.form.$dirty",this.checkDirty),this.itemDescription="When"}},{key:"itemValue",get:function(){return this.aggType?this.aggType.label:""}}]),ThresholdWatchAggTypeController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5768:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggType.itemId }}"\n  description="thresholdWatchAggType.itemDescription"\n  value="thresholdWatchAggType.itemValue"\n  is-open="thresholdWatchAggType.isOpen"\n  is-visible="thresholdWatchAggType.isVisible"\n  on-open="thresholdWatchAggType.onOpen"\n  on-close="thresholdWatchAggType.onClose"\n  is-valid="thresholdWatchAggType.isValid"\n  is-dirty="thresholdWatchAggType.isDirty"\n  form="thresholdWatchAggType.form"\n>\n  <form name="thresholdWatchAggType.form" novalidate>\n    <div\n      id="{{thresholdWatchAggType.makeId([\'aggType\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggType.isValidationMessageVisible(\'aggType\', \'required\')"\n    >\n      Please select an aggregration type.\n    </div>\n    <select\n      id="{{thresholdWatchAggType.makeId(\'aggType\')}}"\n      class="kuiSelect"\n      name="aggType"\n      required\n      ng-model="thresholdWatchAggType.aggType"\n      ng-options="aggType as aggType.label for aggType in thresholdWatchAggType.aggTypes"\n    ></select>\n  </form>\n</expression-item>\n'},5769:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThresholdWatchBaseController=void 0;var _compat=__webpack_require__(60),_lodash=__webpack_require__(1);exports.ThresholdWatchBaseController=function(_InitAfterBindingsWor){function ThresholdWatchBaseController(){var _ref,_temp,_this,_ret;_classCallCheck(this,ThresholdWatchBaseController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=ThresholdWatchBaseController.__proto__||Object.getPrototypeOf(ThresholdWatchBaseController)).call.apply(_ref,[this].concat(args))),_this.checkValidity=function(){_this.isValid()?_this.onValid(_this.itemId):_this.onInvalid(_this.itemId)},_this.checkDirty=function(){_this.form.$dirty?_this.onDirty(_this.itemId):_this.onPristine(_this.itemId)},_this.resetForm=function(){(0,_lodash.forEach)(_this.form,function(control){Boolean(control)&&"function"==typeof control.$setViewValue&&control.$setViewValue(void 0)}),_this.form.$setPristine(),_this.form.$setUntouched()},_this.isValid=function(){return!_this.form.$invalid},_this.isDirty=function(){return _this.form.$dirty},_this.isValidationMessageVisible=function(fieldName,errorType){var showIfOtherErrors=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],showMessage=_this.form[fieldName]&&(_this.form[fieldName].$touched||_this.form[fieldName].$dirty)&&_this.form[fieldName].$error[errorType];return showMessage&&!showIfOtherErrors&&(0,_lodash.size)(_this.form[fieldName].$error)>1&&(showMessage=!1),showMessage},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(ThresholdWatchBaseController,_InitAfterBindingsWor),ThresholdWatchBaseController}(_compat.InitAfterBindingsWorkaround)},5770:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5771)},5771:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_threshold_watch_agg_field=__webpack_require__(5772),_threshold_watch_agg_field2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_agg_field),_threshold_watch_base=__webpack_require__(419);__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("thresholdWatchAggField",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_agg_field2.default,scope:{itemId:"@",aggFields:"=",aggField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:!0,controllerAs:"thresholdWatchAggField",controller:function(_ThresholdWatchBaseCo){function ThresholdWatchAggFieldController(){return _classCallCheck(this,ThresholdWatchAggFieldController),_possibleConstructorReturn(this,(ThresholdWatchAggFieldController.__proto__||Object.getPrototypeOf(ThresholdWatchAggFieldController)).apply(this,arguments))}return _inherits(ThresholdWatchAggFieldController,_ThresholdWatchBaseCo),_createClass(ThresholdWatchAggFieldController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create(),$scope.$watch("thresholdWatchAggField.aggField",this.onChange),$scope.$watch("thresholdWatchAggField.form.$valid",this.checkValidity),$scope.$watch("thresholdWatchAggField.form.$dirty",this.checkDirty),$scope.$watch("thresholdWatchAggField.isVisible",function(isVisible,wasVisible){_this2.checkValidity(),!isVisible&&wasVisible&&(_this2.resetForm(),_this2.checkDirty())}),this.itemDescription="Of"}},{key:"itemValue",get:function(){return this.aggField?this.aggField.name:"select a field"}}]),ThresholdWatchAggFieldController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5772:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchAggField.itemId }}"\n  description="thresholdWatchAggField.itemDescription"\n  value="thresholdWatchAggField.itemValue"\n  is-open="thresholdWatchAggField.isOpen"\n  is-visible="thresholdWatchAggField.isVisible"\n  on-open="thresholdWatchAggField.onOpen"\n  on-close="thresholdWatchAggField.onClose"\n  is-valid="thresholdWatchAggField.isValid"\n  is-dirty="thresholdWatchAggField.isDirty"\n  form="thresholdWatchAggField.form"\n>\n  <form name="thresholdWatchAggField.form" novalidate>\n    <div\n      id="{{thresholdWatchAggField.makeId([\'aggField\', \'required\'])}}\'"\n      xpack-aria-describes="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchAggField.isValidationMessageVisible(\'aggField\', \'required\')"\n    >\n      Please select a field.\n    </div>\n    <select\n      id="{{thresholdWatchAggField.makeId(\'aggField\')}}"\n      class="kuiSelect"\n      name="aggField"\n      required\n      ng-model="thresholdWatchAggField.aggField"\n      ng-options="aggField as aggField.name group by aggField.normalizedType for aggField in thresholdWatchAggField.aggFields"\n    >\n      <option value="">Select a field...</option>\n    </select>\n  </form>\n</expression-item>\n'},5773:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5774)},5774:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_threshold_watch_group_by=__webpack_require__(5775),_threshold_watch_group_by2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_group_by),_threshold_watch_base=__webpack_require__(419);__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("thresholdWatchGroupBy",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_group_by2.default,scope:{itemId:"@",groupByTypes:"=",groupByType:"=",termSize:"=",termFields:"=",termField:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:!0,controllerAs:"thresholdWatchGroupBy",controller:function(_ThresholdWatchBaseCo){function ThresholdWatchGroupByController(){return _classCallCheck(this,ThresholdWatchGroupByController),_possibleConstructorReturn(this,(ThresholdWatchGroupByController.__proto__||Object.getPrototypeOf(ThresholdWatchGroupByController)).apply(this,arguments))}return _inherits(ThresholdWatchGroupByController,_ThresholdWatchBaseCo),_createClass(ThresholdWatchGroupByController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.makeId=htmlIdGeneratorFactory.create(),$scope.$watchMulti(["thresholdWatchGroupBy.groupByType","thresholdWatchGroupBy.termSize","thresholdWatchGroupBy.termField"],this.onChange),$scope.$watch("thresholdWatchGroupBy.groupByType",function(){_this2.resetForm(),_this2.checkDirty()}),$scope.$watch("thresholdWatchGroupBy.form.$valid",this.checkValidity),$scope.$watch("thresholdWatchGroupBy.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function(){return this.groupByType&&this.groupByType.sizeRequired?"Grouped over":"Over"}},{key:"itemValue",get:function(){if(this.groupByType){var sizeRequired=this.groupByType.sizeRequired;return this.groupByType.label+(sizeRequired&&this.termSize?" "+this.termSize:"")+(sizeRequired&&this.termField?" '"+this.termField.name+"'":"")}}}]),ThresholdWatchGroupByController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5775:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchGroupBy.itemId }}"\n  description="thresholdWatchGroupBy.itemDescription"\n  value="thresholdWatchGroupBy.itemValue"\n  is-open="thresholdWatchGroupBy.isOpen"\n  is-visible="thresholdWatchGroupBy.isVisible"\n  on-open="thresholdWatchGroupBy.onOpen"\n  on-close="thresholdWatchGroupBy.onClose"\n  is-valid="thresholdWatchGroupBy.isValid"\n  is-dirty="thresholdWatchGroupBy.isDirty"\n  form="thresholdWatchGroupBy.form"\n>\n  <form name="thresholdWatchGroupBy.form" novalidate>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'required\')"\n    >\n      A value is required.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'number\')"\n    >\n      Value must be a valid number.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termSize\', \'min\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termSize\', \'min\')"\n    >\n      Value must be greater than 0.\n    </div>\n    <div\n      id="{{thresholdWatchGroupBy.makeId([\'termField\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchGroupBy.isValidationMessageVisible(\'termField\', \'required\')"\n    >\n      Please select a field.\n    </div>\n    <select\n      id="{{thresholdWatchGroupBy.makeId(\'groupByType\')}}"\n      class="kuiSelect"\n      ng-model="thresholdWatchGroupBy.groupByType"\n      ng-options="groupByType as groupByType.label for groupByType in thresholdWatchGroupBy.groupByTypes"\n    ></select>\n    <input\n      id="{{thresholdWatchGroupBy.makeId(\'termSize\')}}"\n      name="termSize"\n      type="number"\n      min="1"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchGroupBy.termSize"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired">\n    <select\n      class="kuiSelect"\n      id="{{thresholdWatchGroupBy.makeId(\'termField\')}}"\n      name="termField"\n      required\n      ng-model="thresholdWatchGroupBy.termField"\n      ng-options="termField as termField.name group by termField.normalizedType for termField in thresholdWatchGroupBy.termFields"\n      ng-if="thresholdWatchGroupBy.groupByType.sizeRequired"\n    >\n      <option value="">Select a field...</option>\n    </select>\n  </form>\n</expression-item>\n'},5776:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5777)},5777:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_threshold_watch_threshold_level=__webpack_require__(5778),_threshold_watch_threshold_level2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_threshold_level),_threshold_watch_base=__webpack_require__(419);__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("thresholdWatchThresholdLevel",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_threshold_level2.default,scope:{itemId:"@",comparators:"=",thresholdComparator:"=",threshold:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:!0,controllerAs:"thresholdWatchThresholdLevel",controller:function(_ThresholdWatchBaseCo){function ThresholdWatchThresholdLevelController(){return _classCallCheck(this,ThresholdWatchThresholdLevelController),_possibleConstructorReturn(this,(ThresholdWatchThresholdLevelController.__proto__||Object.getPrototypeOf(ThresholdWatchThresholdLevelController)).apply(this,arguments))}return _inherits(ThresholdWatchThresholdLevelController,_ThresholdWatchBaseCo),_createClass(ThresholdWatchThresholdLevelController,[{key:"initAfterBindings",value:function($scope){this.makeId=htmlIdGeneratorFactory.create(),$scope.$watchMulti(["thresholdWatchThresholdLevel.thresholdComparator","thresholdWatchThresholdLevel.threshold"],this.onChange),$scope.$watch("thresholdWatchThresholdLevel.form.$valid",this.checkValidity),$scope.$watch("thresholdWatchThresholdLevel.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function(){return this.thresholdComparator?this.thresholdComparator.label:""}},{key:"itemValue",get:function(){return this.threshold}}]),ThresholdWatchThresholdLevelController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5778:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchThresholdLevel.itemId }}"\n  description="thresholdWatchThresholdLevel.itemDescription"\n  value="thresholdWatchThresholdLevel.itemValue"\n  is-open="thresholdWatchThresholdLevel.isOpen"\n  is-visible="thresholdWatchThresholdLevel.isVisible"\n  on-open="thresholdWatchThresholdLevel.onOpen"\n  on-close="thresholdWatchThresholdLevel.onClose"\n  is-valid="thresholdWatchThresholdLevel.isValid"\n  is-dirty="thresholdWatchThresholdLevel.isDirty"\n  form="thresholdWatchThresholdLevel.form"\n>\n  <form name="thresholdWatchThresholdLevel.form" novalidate>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'required\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'required\')"\n    >\n      A value is required.\n    </div>\n    <div\n      id="{{thresholdWatchThresholdLevel.makeId([\'threshold\', \'number\'])}}"\n      xpack-aria-describes="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchThresholdLevel.isValidationMessageVisible(\'threshold\', \'number\')"\n    >\n      Value must be a valid number.\n    </div>\n    <select\n      id="{{thresholdWatchThresholdLevel.makeId(\'thresholdComparator\')}}"\n      name="thresholdComparator"\n      class="kuiSelect"\n      ng-model="thresholdWatchThresholdLevel.thresholdComparator"\n      ng-options="comparator as comparator.label for comparator in thresholdWatchThresholdLevel.comparators"\n    ></select>\n    <input\n      id="{{thresholdWatchThresholdLevel.makeId(\'threshold\')}}"\n      name="threshold"\n      type="number"\n      required\n      class="kuiTextInput watcherNumberInput"\n      ng-model="thresholdWatchThresholdLevel.threshold">\n  </form>\n</expression-item>\n'},5779:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5780)},5780:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_threshold_watch_time_window=__webpack_require__(5781),_threshold_watch_time_window2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_threshold_watch_time_window),_constants=__webpack_require__(35),_get_time_units_label=__webpack_require__(1569),_threshold_watch_base=__webpack_require__(419);__webpack_require__(1575),__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("thresholdWatchTimeWindow",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_threshold_watch_time_window2.default,scope:{itemId:"@",timeWindowUnits:"=",timeWindowSize:"=",timeWindowUnit:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",onChange:"=",onValid:"=",onInvalid:"=",onDirty:"=",onPristine:"="},bindToController:!0,controllerAs:"thresholdWatchTimeWindow",controller:function(_ThresholdWatchBaseCo){function ThresholdWatchTimeWindowController(){return _classCallCheck(this,ThresholdWatchTimeWindowController),_possibleConstructorReturn(this,(ThresholdWatchTimeWindowController.__proto__||Object.getPrototypeOf(ThresholdWatchTimeWindowController)).apply(this,arguments))}return _inherits(ThresholdWatchTimeWindowController,_ThresholdWatchBaseCo),_createClass(ThresholdWatchTimeWindowController,[{key:"initAfterBindings",value:function($scope){this.makeId=htmlIdGeneratorFactory.create(),this.timeWindowMinimumUnit=_constants.TIME_UNITS.SECOND,this.timeWindowMinimumSize=10,$scope.$watchMulti(["thresholdWatchTimeWindow.timeWindowSize","thresholdWatchTimeWindow.timeWindowUnit"],this.onChange),$scope.$watch("thresholdWatchTimeWindow.form.$valid",this.checkValidity),$scope.$watch("thresholdWatchTimeWindow.form.$dirty",this.checkDirty)}},{key:"itemDescription",get:function(){return"For the last"}},{key:"itemValue",get:function(){return(isNaN(this.timeWindowSize)?"0":this.timeWindowSize+" ")+" "+(Boolean(this.timeWindowUnit)?(0,_get_time_units_label.getTimeUnitsLabel)(this.timeWindowUnit,this.timeWindowSize):"")}}]),ThresholdWatchTimeWindowController}(_threshold_watch_base.ThresholdWatchBaseController)}})},5781:function(module,exports){module.exports='<expression-item\n  item-id="{{ thresholdWatchTimeWindow.itemId }}"\n  description="thresholdWatchTimeWindow.itemDescription"\n  value="thresholdWatchTimeWindow.itemValue"\n  is-open="thresholdWatchTimeWindow.isOpen"\n  is-visible="thresholdWatchTimeWindow.isVisible"\n  on-open="thresholdWatchTimeWindow.onOpen"\n  on-close="thresholdWatchTimeWindow.onClose"\n  is-valid="thresholdWatchTimeWindow.isValid"\n  is-dirty="thresholdWatchTimeWindow.isDirty"\n  form="thresholdWatchTimeWindow.form"\n>\n  <form name="thresholdWatchTimeWindow.form" novalidate>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'required\')"\n    >\n      Window duration size is required.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'min\'])}}"\n      aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'min\')"\n    >\n      Window duration size can not be a negative number.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'number\'])}}"\n      xpack-aria-describes="durationSelectWindowSize"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'number\')"\n    >\n      Window duration size must be a valid number.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowUnit\', \'required\'])}}"\n      xpack-aria-describes="durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowUnit\', \'required\')"\n    >\n      Window duration unit is required.\n    </div>\n    <div\n      id="{{thresholdWatchTimeWindow.makeId([\'durationSelectWindowSize\', \'minimumDuration\'])}}"\n      xpack-aria-describes="durationSelectWindowSize durationSelectWindowUnit"\n      class="kuiInputNote kuiInputNote--danger"\n      ng-if="thresholdWatchTimeWindow.isValidationMessageVisible(\'durationSelectWindowSize\', \'minimumDuration\', false)"\n    >\n      Window duration is too short.\n      The miminum allowed is {{thresholdWatchTimeWindow.timeWindowMinimumSize}}{{thresholdWatchTimeWindow.timeWindowMinimumUnit}}.\n    </div>\n    <duration-select\n      duration-id="window"\n      minimum-unit="thresholdWatchTimeWindow.timeWindowMinimumUnit"\n      minimum-size="thresholdWatchTimeWindow.timeWindowMinimumSize"\n      unit="thresholdWatchTimeWindow.timeWindowUnit"\n      size="thresholdWatchTimeWindow.timeWindowSize"\n    ></duration-select>\n  </form>\n</expression-item>\n'},5782:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5783)},5783:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_expression_builder=__webpack_require__(5784),_expression_builder2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_expression_builder);__webpack_require__(5785),__webpack_require__(5788),_modules.uiModules.get("xpack/watcher").directive("expressionBuilder",function(){return{restrict:"E",replace:!0,transclude:!0,template:_expression_builder2.default,scope:{},bindToController:!0,controllerAs:"expressionBuilder",controller:function BuilderController(){_classCallCheck(this,BuilderController)}}})},5784:function(module,exports){module.exports="<div\n  ng-transclude\n></div>\n"},5785:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5786)},5786:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_key_map=__webpack_require__(459),_expression_item=__webpack_require__(5787),_expression_item2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_expression_item);_modules.uiModules.get("xpack/watcher").directive("expressionItem",function($injector){var $document=$injector.get("$document"),$timeout=$injector.get("$timeout");return{restrict:"E",replace:!0,require:"^expressionBuilder",transclude:!0,template:_expression_item2.default,scope:{itemId:"@",description:"=",value:"=",isOpen:"=",isVisible:"=",onOpen:"=",onClose:"=",isValid:"=",isDirty:"=",form:"="},bindToController:!0,controllerAs:"expressionItem",link:function($scope,$el){$scope.expressionItem.$firstInput=$el.find('[data-id="expressionItemPopoverContent"]').find(":input:first");var $button=$el.find('[data-id="expressionItemButton"]'),buttonFocusOrClick=function(){$scope.$apply(function(){$scope.expressionItem.onPopoverOpen()})},documentClick=function(event){0===$el.find(event.originalEvent.target).length&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})},documentKeydown=function(event){$scope.expressionItem.isOpen&&"escape"===_key_map.keyMap[event.keyCode]&&$scope.$apply(function(){$scope.expressionItem.onPopoverClose()})};$button.on("focus",buttonFocusOrClick),$button.on("click",buttonFocusOrClick),$document.on("click",documentClick),$document.on("keydown",documentKeydown),$scope.$on("$destroy",function(){$button.off("focus",buttonFocusOrClick),$button.off("click",buttonFocusOrClick),$document.off("click",documentClick),$document.off("keydown",documentKeydown)})},controller:function ExpressionItemController($scope){var _this=this;_classCallCheck(this,ExpressionItemController),this.onPopoverClose=function(){_this.onClose(_this.itemId)},this.onPopoverOpen=function(){_this.onOpen(_this.itemId)},$scope.$watch("expressionItem.isOpen",function(isOpen,wasOpen){isOpen?$timeout(function(){$scope.expressionItem.$firstInput.focus()}):wasOpen&&(_this.form.$setTouched(!0),_this.form.$setDirty(!0))})}}})},5787:function(module,exports){module.exports='<div\n  class="kuiPopover kuiPopover--withTitle"\n  ng-class="{ \'kuiPopover-isOpen\': expressionItem.isOpen }"\n  ng-show="expressionItem.isVisible"\n>\n  <button\n    data-id="expressionItemButton"\n    class="kuiExpressionButton"\n    ng-class="{\n      \'kuiExpressionButton-isActive\': expressionItem.isOpen,\n      \'kuiExpressionButton-isError\': !expressionItem.isValid() && expressionItem.isDirty()\n    }">\n    <span class="kuiExpressionButton__description">\n      {{ expressionItem.description | uppercase }}\n    </span>\n    <span class="kuiExpressionButton__value">\n      {{ expressionItem.value | lowercase }}\n    </span>\n  </button>\n\n  <expression-popover\n    popover-title="expressionItem.description"\n  >\n    <div ng-transclude></div>\n  </expression-popover>\n</div>\n'},5788:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5789)},5789:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_expression_popover=__webpack_require__(5790),_expression_popover2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_expression_popover);__webpack_require__(5791),_modules.uiModules.get("xpack/watcher").directive("expressionPopover",function(){return{restrict:"E",replace:!0,require:"^expressionItem",transclude:!0,template:_expression_popover2.default,scope:{popoverTitle:"="},bindToController:!0,controllerAs:"expressionPopover",controller:function ExpressionPopoverController(){_classCallCheck(this,ExpressionPopoverController)}}})},5790:function(module,exports){module.exports='<div class="kuiPanelSimple kuiPopover__panel watcherExpressionPopover">\n  <div class="kuiPopoverTitle">\n    {{ expressionPopover.popoverTitle }}\n  </div>\n\n  <div\n    data-id="expressionItemPopoverContent"\n    class="kuiExpression"\n    ng-transclude\n  ></div>\n</div>\n'},5791:function(module,exports){},5792:function(module,exports){},5793:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.aggTypes=void 0;var _constants=__webpack_require__(35);exports.aggTypes={count:{label:"count()",fieldRequired:!1,value:_constants.AGG_TYPES.COUNT},average:{label:"average()",fieldRequired:!0,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.AVERAGE},sum:{label:"sum()",fieldRequired:!0,validNormalizedTypes:["number"],value:_constants.AGG_TYPES.SUM},min:{label:"min()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MIN},max:{label:"max()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:_constants.AGG_TYPES.MAX}}},5794:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.comparators=void 0;var _constants=__webpack_require__(35);exports.comparators={above:{label:"Is above",value:_constants.COMPARATORS.GREATER_THAN},below:{label:"Is below",value:_constants.COMPARATORS.LESS_THAN}}},5795:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.groupByTypes={all:{label:"all documents",sizeRequired:!1,value:"all",validNormalizedTypes:[]},top:{label:"top",sizeRequired:!0,value:"top",validNormalizedTypes:["number","date","keyword"]}}},5796:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5797)},5797:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment);__webpack_require__(257);var _lodash=__webpack_require__(1),_modules=__webpack_require__(2),_time_buckets=__webpack_require__(168);__webpack_require__(5798),__webpack_require__(5803);var _threshold_preview_chart=__webpack_require__(5807),_threshold_preview_chart2=_interopRequireDefault(_threshold_preview_chart);__webpack_require__(5808);var _constants=__webpack_require__(5809);_modules.uiModules.get("xpack/watcher").directive("thresholdPreviewChart",function($injector){var config=$injector.get("config"),Private=$injector.get("Private"),TimeBuckets=Private(_time_buckets.TimeBucketsProvider);return _moment2.default.tz.setDefault(config.get("dateFormat:tz")),{restrict:"E",replace:!0,template:_threshold_preview_chart2.default,scope:{series:"=",startDate:"=",endDate:"=",thresholdValue:"="},controllerAs:"thresholdPreviewChart",bindToController:!0,controller:function(){function ThresholdPreviewChartController($scope){var _this=this;_classCallCheck(this,ThresholdPreviewChartController),this.updateOptions=function(options){var yAxisRange=_this.buildYAxisRange();_this.options=(0,_lodash.merge)({},_this.options,options,yAxisRange)},this.buildYAxisRange=function(){var parsedThreshold=Number.parseFloat(_this.thresholdValue),series=_this.data[0];if(!series||!(0,_lodash.isNumber)(parsedThreshold))return{yaxis:{min:null,max:null}};var options={yaxis:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}};return(0,_lodash.forEach)(series,function(seriesItem){var itemValue=seriesItem[1];null!==itemValue&&(options.yaxis.min=Math.min(options.yaxis.min,itemValue,parsedThreshold),options.yaxis.max=Math.max(options.yaxis.max,itemValue,parsedThreshold))}),options},this.onPlotHover=function(event,pos,item,plot){if(!Boolean(item))return void(_this.dataPointTooltip=void 0);var plotLeft=plot.offset().left-window.pageXOffset,plotTop=plot.offset().top-window.pageYOffset;_this.dataPointTooltip={plotPosition:{left:plotLeft,top:plotTop,right:plotLeft+plot.width(),bottom:plotTop+plot.height()},pointPosition:{left:item.pageX-window.pageXOffset,top:item.pageY-window.pageYOffset},xValue:item.datapoint[0],yValue:item.datapoint[1]}},this.formatAsMoment=function(msSinceEpoch){return(0,_moment2.default)(msSinceEpoch)},this.options={colors:[_constants.COLORS.SERIES_LINE],grid:{aboveData:!0,borderColor:_constants.COLORS.CHART_BORDER,borderWidth:{top:0,right:0,bottom:2,left:2},hoverable:!0,labelMargin:_constants.MARGINS.AXES_LABELS},series:{lines:{show:!0,fill:!0,fillColor:_constants.COLORS.AREA_FILL}},yaxis:{tickLength:0}},$scope.$watch("thresholdPreviewChart.series",function(series){_this.data=[series];var timeBuckets=new TimeBuckets;timeBuckets.setBounds({min:_this.startDate,max:_this.endDate});var momentFormat=timeBuckets.getScaledDateFormat(),options={xaxis:{mode:"time",min:_this.startDate,max:_this.endDate,tickFormatter:function(val){return(0,_moment2.default)(val).format(momentFormat)}}};_this.updateOptions(options)}),$scope.$watch("thresholdPreviewChart.thresholdValue",function(thresholdValue){var parsedThreshold=Number.parseFloat(thresholdValue),options={grid:{markings:[]}};if((0,_lodash.isNumber)(parsedThreshold)){var thresholdLine={yaxis:{from:parsedThreshold,to:parsedThreshold},color:_constants.COLORS.THRESHOLD_LINE,lineWidth:_constants.LINE_WIDTHS.THRESHOLD_LINE};options.grid.markings.push(thresholdLine)}_this.updateOptions(options)})}return _createClass(ThresholdPreviewChartController,[{key:"isDataExists",get:function(){return Boolean(this.series)}}]),ThresholdPreviewChartController}()}})},5798:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5799)},5799:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_flot_chart=__webpack_require__(5800),_flot_chart2=_interopRequireDefault(_flot_chart);__webpack_require__(5801);var _jqueryFlot=__webpack_require__(705),_jqueryFlot2=_interopRequireDefault(_jqueryFlot),_constants=__webpack_require__(5802);_modules.uiModules.get("xpack/watcher").directive("flotChart",function(){return{restrict:"E",replace:!0,template:_flot_chart2.default,scope:{data:"=",options:"=",onPlotHover:"="},controllerAs:"flotChart",bindToController:!0,link:function($scope,element){$scope.flotChart.container=element},controller:function FlotChartController($scope){var _this=this;_classCallCheck(this,FlotChartController),$scope.$watchMulti(["flotChart.data","flotChart.options"],function(_ref){var _ref2=_slicedToArray(_ref,2),data=_ref2[0],options=_ref2[1];_this.plot=_jqueryFlot2.default.plot(_this.container,data,options)}),$scope.$watch("flotChart.onPlotHover",function(onPlotHover){_this.container.unbind("plothover"),(0,_lodash.isFunction)(onPlotHover)&&_this.container.bind("plothover",(0,_lodash.debounce)(function(){for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];$scope.$apply(function(){return onPlotHover.apply(void 0,params.concat([_this.plot]))})},_constants.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS))}),$scope.$on("$destroy",function(){_this.container.unbind("plothover")})}}})},5800:function(module,exports){module.exports='<div class="flotChart"></div>'},5801:function(module,exports){},5802:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.FLOT_EVENT_PLOT_HOVER_DEBOUNCE_MS=20},5803:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5804)},5804:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight){var tooltipPosition={top:(0,_lodash.get)(pointPosition,"top"),left:(0,_lodash.get)(pointPosition,"left")};return pointPosition.top+tooltipHeight>(0,_lodash.get)(plotPosition,"bottom")&&(tooltipPosition.top-=tooltipHeight),pointPosition.left+tooltipWidth>(0,_lodash.get)(plotPosition,"right")&&(tooltipPosition.left-=tooltipWidth),tooltipPosition}var _lodash=__webpack_require__(1),_modules=__webpack_require__(2),_chart_tooltip=__webpack_require__(5805),_chart_tooltip2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chart_tooltip);__webpack_require__(5806),_modules.uiModules.get("xpack/watcher").directive("chartTooltip",function(){return{restrict:"E",replace:!0,transclude:!0,template:_chart_tooltip2.default,scope:{pointPosition:"=",plotPosition:"="},controllerAs:"chartTooltip",bindToController:!0,link:function($scope,element){$scope.$watchGroup(["chartTooltip.pointPosition","chartTooltip.plotPosition"],function(){var pointPosition=$scope.chartTooltip.pointPosition,plotPosition=$scope.chartTooltip.plotPosition,tooltipMargin=parseInt(element.css("margin")),tooltipWidth=element[0].scrollWidth+2*tooltipMargin,tooltipHeight=element[0].scrollHeight+2*tooltipMargin,tooltipPosition=calculateTooltipPosition(pointPosition,plotPosition,tooltipWidth,tooltipHeight);$scope.chartTooltip.style=tooltipPosition})},controller:function ChartTooltipController(){_classCallCheck(this,ChartTooltipController)}}})},5805:function(module,exports){module.exports='<div\n  class="chartTooltip"\n  ng-style="chartTooltip.style"\n  ng-transclude\n></div>\n'},5806:function(module,exports){},5807:function(module,exports){module.exports='<div class="thresholdPreviewChart">\n  <p\n    class="thresholdPreviewChartNoData"\n    ng-if="!thresholdPreviewChart.isDataExists"\n  >\n    Your index and condition did not return any data\n  </p>\n  <flot-chart\n    ng-if="thresholdPreviewChart.isDataExists"\n    data="thresholdPreviewChart.data"\n    options="thresholdPreviewChart.options"\n    on-plot-hover="thresholdPreviewChart.onPlotHover"\n  ></flot-chart>\n  <chart-tooltip\n    ng-if="thresholdPreviewChart.dataPointTooltip"\n    point-position="thresholdPreviewChart.dataPointTooltip.pointPosition"\n    plot-position="thresholdPreviewChart.dataPointTooltip.plotPosition"\n  >\n    <div class="chartTooltip__label">{{ thresholdPreviewChart.dataPointTooltip.yValue }}</div>\n    <div class="chartTooltip__value">{{ thresholdPreviewChart.formatAsMoment(thresholdPreviewChart.dataPointTooltip.xValue) | moment }}</div>\n  </chart-tooltip>\n</div>\n'},5808:function(module,exports){},5809:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.COLORS={AREA_FILL:"#eff6f8",SERIES_LINE:"#25a1d1",THRESHOLD_LINE:"#dd1c74",CHART_BORDER:"#676767"},exports.LINE_WIDTHS={THRESHOLD_LINE:2},exports.MARGINS={AXES_LABELS:10}},5810:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5811)},5811:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _lodash=__webpack_require__(1),_modules=__webpack_require__(2),_watch_actions=__webpack_require__(5812),_watch_actions2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_actions);__webpack_require__(5813),__webpack_require__(5827),__webpack_require__(5828),_modules.uiModules.get("xpack/watcher").directive("watchActions",function(){return{restrict:"E",replace:!0,template:_watch_actions2.default,scope:{actions:"=",onActionAdd:"=",onActionChange:"=",onActionSimulate:"=",onActionDelete:"=",onValid:"=",onInvalid:"="},bindToController:!0,controllerAs:"watchActions",controller:function WatchActionsController($scope){var _this=this;_classCallCheck(this,WatchActionsController),this.onToggle=function(action){var item=(0,_lodash.find)(_this.items,{action:action});item.isCollapsed=!item.isCollapsed},this.onDelete=function(action){_this.onActionDelete(action);var item=(0,_lodash.find)(_this.items,{action:action});(0,_lodash.remove)(_this.items,item),_this.checkValidity()},this.onActionTypeChange=function(type){_this.onActionAdd(type);var oldActions=(0,_lodash.map)(_this.items,function(item){return item.action}),newActions=(0,_lodash.difference)(_this.actions,oldActions);(0,_lodash.forEach)(newActions,function(action){_this.items.push({action:action,isCollapsed:!1})})},this.checkValidity=function(){0===_this.items.length||_this.items.every(function(i){return i.isValid})?_this.onValid(_this.action):_this.onInvalid(_this.action)},this.onActionValid=function(action){(0,_lodash.find)(_this.items,{action:action}).isValid=!0,_this.checkValidity()},this.onActionInvalid=function(action){(0,_lodash.find)(_this.items,{action:action}).isValid=!1,_this.checkValidity()},this.items=[],$scope.$watch("watchActions.actions",function(newVal){Boolean(newVal)&&(_this.items=(0,_lodash.map)(newVal,function(action){return{action:action,isCollapsed:!0,isValid:!0}}),_this.checkValidity())})}}})},5812:function(module,exports){module.exports='<div class="watchActions">\n  <div class="watchActionsHeader">\n    <div class="watchActionsHeaderTitle">\n      Will perform {{watchActions.items.length}} action{{ watchActions.items.length === 1 ? \'\' : \'s\' }} once met\n    </div>\n    <action-type-select\n      class="watchActionsActionType"\n      on-change="watchActions.onActionTypeChange"\n    ></action-type-select>\n  </div>\n\n  <watch-action\n    ng-repeat="item in watchActions.items track by item.action.id"\n    action="item.action"\n    is-collapsed="item.isCollapsed"\n    is-valid="item.isValid"\n    on-toggle="watchActions.onToggle"\n    on-simulate="watchActions.onActionSimulate"\n    on-delete="watchActions.onDelete"\n    on-change="watchActions.onActionChange"\n    on-valid="watchActions.onActionValid"\n    on-invalid="watchActions.onActionInvalid"\n  ></watch-action>\n</div>\n'},5813:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5814)},5814:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_action=__webpack_require__(5815),_watch_action2=_interopRequireDefault(_watch_action);__webpack_require__(5816);var _angular=__webpack_require__(13),_angular2=_interopRequireDefault(_angular);__webpack_require__(5817),__webpack_require__(5821),__webpack_require__(5824),_modules.uiModules.get("xpack/watcher").directive("watchAction",function($injector){var $compile=$injector.get("$compile");return{restrict:"E",template:_watch_action2.default,replace:!0,scope:{action:"=",isCollapsed:"=",isValid:"=",onChange:"=",onToggle:"=",onSimulate:"=",onDelete:"=",onValid:"=",onInvalid:"="},bindToController:!0,controllerAs:"watchAction",link:function($scope,$el){var $container=$el.find(".watchActionDetailsContent");$container.empty();var newScope=$scope.$new();newScope.action=$scope.watchAction.action,newScope.form=$scope.watchAction.form,newScope.onChange=$scope.watchAction.onChange;var $innerEl=_angular2.default.element(newScope.action.constructor.template),postLink=$compile($innerEl);$container.append($innerEl),postLink(newScope)},controller:function WatchActionController($scope){var _this=this;_classCallCheck(this,WatchActionController),this.checkValidity=function(){_this.form.$invalid?_this.onInvalid(_this.action):_this.onValid(_this.action)},$scope.$watch("watchAction.isCollapsed",function(isCollapsed){isCollapsed&&_this.form.$setTouched(!0)}),$scope.$watch("watchAction.form.$valid",function(){_this.checkValidity()})}}})},5815:function(module,exports){module.exports='<div\n  class="watchAction"\n  ng-class="{ watchAction__error: watchAction.isCollapsed && !watchAction.isValid}">\n  <button\n    class="watchActionSummaryButton"\n    ng-click="watchAction.onToggle(watchAction.action)">\n    <span class="watchActionSummaryButton__liner">\n      <span class="watchActionHeader">\n        <span\n          class="kuiIcon watchActionSummaryToggleIcon"\n          ng-class="{\'fa-chevron-down\': !watchAction.isCollapsed, \'fa-chevron-right\': watchAction.isCollapsed}"\n        ></span>\n        <span\n          class="kuiIcon watchActionSummaryTypeIcon"\n          ng-class="watchAction.action.iconClass"\n        ></span>\n        <span class="watchActionSummaryType">{{watchAction.action.typeName}}</span>\n      </span>\n      <span\n        class="watchActionDescription"\n        ng-if="watchAction.isCollapsed && watchAction.isValid">\n        {{watchAction.action.description}}\n      </span>\n      <span\n        class="watchActionErrorMessage"\n        ng-if="watchAction.isCollapsed && !watchAction.isValid">\n        There are errors in this action that need to be addressed before you can save.\n      </span>\n    </span>\n  </button>\n  <div\n    class="watchActionDetails"\n    ng-hide="watchAction.isCollapsed">\n      <div>\n        <form name="watchAction.form" novalidate>\n          <div class="watchActionDetailsContent"></div>\n        </form>\n      </div>\n      <div class="watchActionDetailsButtons">\n        <button\n          class="kuiButton kuiButton--primary kuiButton--iconText watchActionSimulateButton"\n          ng-click="watchAction.onSimulate(watchAction.action)"\n          ng-disabled="!watchAction.isValid"\n        >\n          {{watchAction.action.simulatePrompt}}\n        </button>\n        <button\n          class="kuiButton kuiButton--danger kuiButton--iconText watchActionDeleteButton"\n          ng-click="watchAction.onDelete(watchAction.action)"\n        >\n          Remove {{watchAction.action.typeName}} Action\n        </button>\n      </div>\n  </div>\n</div>\n'},5816:function(module,exports){},5817:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5818)},5818:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _modules=__webpack_require__(2),_watch_action_controller_base=__webpack_require__(839),_watch_email_action=__webpack_require__(5820),_watch_email_action2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_email_action);__webpack_require__(177),__webpack_require__(296),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("watchEmailAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_email_action2.default,bindToController:!0,controllerAs:"watchEmailAction",controller:function(_WatchActionControlle){function WatchEmailActionController($scope){_classCallCheck(this,WatchEmailActionController);var _this=_possibleConstructorReturn(this,(WatchEmailActionController.__proto__||Object.getPrototypeOf(WatchEmailActionController)).call(this,$scope));return _this.makeId=htmlIdGeneratorFactory.create(_this.action.id),_this.to=_this.action.to.join(","),$scope.$watch("watchEmailAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", "),_this.action.to=toArray}),$scope.$watchGroup(["action.to","action.subject","action.body"],function(){_this.onChange(_this.action)}),_this}return _inherits(WatchEmailActionController,_WatchActionControlle),WatchEmailActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5819:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.WatchActionControllerBase=function WatchActionControllerBase($scope){var _this=this;_classCallCheck(this,WatchActionControllerBase),this.isValidationMessageVisible=function(fieldName,errorType){return _this.form[fieldName].$touched&&_this.form[fieldName].$error[errorType]},this.action=$scope.action,this.form=$scope.form,this.onChange=$scope.onChange}},5820:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n  >\n    To e-mail address\n  </label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'to\', \'required\')"\n  >\n    To e-mail address is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiFormLabel"\n  >\n    Subject\n  </label>\n  <input\n    type="text"\n    id="{{watchEmailAction.makeId(\'subject\')}}"\n    name="subject"\n    class="kuiTextInput fullWidth"\n    ng-model="watchEmailAction.action.subject"\n    required\n  >\n  <div\n    id="{{watchEmailAction.makeId([\'subject\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'subject\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'subject\', \'required\')"\n  >\n    Subject is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiFormLabel"\n  >\n    Body\n  </label>\n  <textarea\n    id="{{watchEmailAction.makeId(\'body\')}}"\n    name="body"\n    class="kuiTextArea fullWidth"\n    ng-model="watchEmailAction.action.body"\n    required\n  ></textarea>\n  <div\n    id="{{watchEmailAction.makeId([\'body\', \'required\'])}}"\n    xpack-aria-describes="{{watchEmailAction.makeId(\'body\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchEmailAction.isValidationMessageVisible(\'body\', \'required\')"\n  >\n    Body is required.\n  </div>\n</div>\n'},5821:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5822)},5822:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _modules=__webpack_require__(2),_watch_action_controller_base=__webpack_require__(839),_watch_logging_action=__webpack_require__(5823),_watch_logging_action2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_logging_action);__webpack_require__(296),__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("watchLoggingAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_logging_action2.default,bindToController:!0,controllerAs:"watchLoggingAction",controller:function(_WatchActionControlle){function WatchLoggingActionController($scope){_classCallCheck(this,WatchLoggingActionController);var _this=_possibleConstructorReturn(this,(WatchLoggingActionController.__proto__||Object.getPrototypeOf(WatchLoggingActionController)).call(this,$scope));return _this.makeId=htmlIdGeneratorFactory.create(_this.action.id),$scope.$watch(["action.text"],function(){_this.onChange(_this.action)}),_this}return _inherits(WatchLoggingActionController,_WatchActionControlle),WatchLoggingActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5823:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n  >\n    Log text\n  </label>\n  <input\n    type="text"\n    id="{{watchLoggingAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextInput fullWidth"\n    ng-model="watchLoggingAction.action.text"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchLoggingAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchLoggingAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchLoggingAction.isValidationMessageVisible(\'text\', \'required\')"\n  >\n    Log text is required.\n  </div>\n</div>\n'},5824:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5825)},5825:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _modules=__webpack_require__(2),_watch_action_controller_base=__webpack_require__(839),_watch_slack_action=__webpack_require__(5826),_watch_slack_action2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_slack_action);__webpack_require__(296),__webpack_require__(177),__webpack_require__(203),_modules.uiModules.get("xpack/watcher").directive("watchSlackAction",function($injector){var htmlIdGeneratorFactory=$injector.get("xpackWatcherHtmlIdGeneratorFactory");return{restrict:"E",template:_watch_slack_action2.default,bindToController:!0,controllerAs:"watchSlackAction",controller:function(_WatchActionControlle){function WatchSlackActionController($scope){_classCallCheck(this,WatchSlackActionController);var _this=_possibleConstructorReturn(this,(WatchSlackActionController.__proto__||Object.getPrototypeOf(WatchSlackActionController)).call(this,$scope));return _this.makeId=htmlIdGeneratorFactory.create(_this.action.id),_this.to=_this.action.to.join(", "),$scope.$watch("watchSlackAction.to",function(toList){var toArray=(toList||"").split(",").map(function(to){return to.trim()});_this.to=toArray.join(", "),_this.action.to=toArray}),$scope.$watchGroup(["action.to","action.text"],function(){_this.onChange(_this.action)}),_this}return _inherits(WatchSlackActionController,_WatchActionControlle),WatchSlackActionController}(_watch_action_controller_base.WatchActionControllerBase)}})},5826:function(module,exports){module.exports='<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiFormLabel"\n  >\n    Recipient\n  </label>\n  <input\n    type="text"\n    id="{{watchSlackAction.makeId(\'to\')}}"\n    name="to"\n    class="kuiTextInput fullWidth"\n    ng-model="watchSlackAction.to"\n    required\n    input-focus\n  >\n  <div\n    id="{{watchSlackAction.makeId([\'to\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'to\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'to\', \'required\')"\n  >\n    Recipient is required.\n  </div>\n</div>\n<div class="kuiFormSection">\n  <label\n    for="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiFormLabel"\n  >\n    Message\n  </label>\n  <textarea\n    id="{{watchSlackAction.makeId(\'text\')}}"\n    name="text"\n    class="kuiTextArea fullWidth"\n    ng-model="watchSlackAction.action.text"\n    required\n  ></textarea>\n  <div\n    id="{{watchSlackAction.makeId([\'text\', \'required\'])}}"\n    xpack-aria-describes="{{watchSlackAction.makeId(\'text\')}}"\n    class="kuiInputNote kuiInputNote--danger"\n    ng-if="watchSlackAction.isValidationMessageVisible(\'text\', \'required\')"\n  >\n    Message is required.\n  </div>\n</div>\n'},5827:function(module,exports){},5828:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5829)},5829:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_action_type_select=__webpack_require__(5830),_action_type_select2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_action_type_select);__webpack_require__(298);var _action=__webpack_require__(1568);__webpack_require__(5831),__webpack_require__(5832),_modules.uiModules.get("xpack/watcher").directive("actionTypeSelect",function($injector){var watcherSettingsService=$injector.get("xpackWatcherSettingsService");return{restrict:"E",template:_action_type_select2.default,scope:{onChange:"="},controllerAs:"actionTypeSelect",bindToController:!0,controller:function(){function ActionTypeSelectController(){var _this=this;_classCallCheck(this,ActionTypeSelectController),this.selectedItem={value:null},this.loadActionTypes().then(function(actionTypes){_this.actionTypes=actionTypes})}return _createClass(ActionTypeSelectController,[{key:"loadActionTypes",value:function(){var allActionTypes=_action.Action.getActionTypes();return watcherSettingsService.getSettings().then(function(settings){return(0,_lodash.map)(allActionTypes,function(_ref,type){return{type:type,typeName:_ref.typeName,iconClass:_ref.iconClass,selectMessage:_ref.selectMessage,isEnabled:settings.actionTypes[type].enabled}})})}},{key:"onSelect",value:function(actionType){this.selectedItem={value:null},actionType.isEnabled&&this.onChange(actionType.type)}}]),ActionTypeSelectController}()}})},5830:function(module,exports){module.exports='<ui-select\n  ng-model="actionTypeSelect.selectedItem.value"\n  on-select="actionTypeSelect.onSelect($select.selected)"\n>\n  <ui-select-match placeholder="Add new action">\n    {{$select.selected.typeName}}\n  </ui-select-match>\n  <ui-select-choices repeat="actionType in actionTypeSelect.actionTypes | filter:$select.search">\n    <div\n      class="actionTypeChoice"\n      ng-class="{\n        \'actionTypeChoice--disabled\': !actionType.isEnabled\n      }"\n    >\n      <div class="actionTypeIcon">\n        <span ng-class="actionType.iconClass"></span>\n      </div>\n      <div class="actionTypeDescription">\n        <div\n          ng-bind-html="actionType.typeName | highlight: $select.search"\n        ></div>\n        <div class="action-type-description">\n          <span ng-if="actionType.isEnabled" ng-bind-html="actionType.selectMessage | highlight: $select.search"></span>\n          <span ng-if="!actionType.isEnabled">Disabled. Configure elasticsearch.yml.</span>\n        </div>\n      </div>\n    </div>\n  </ui-select-choices>\n</ui-select>\n'},5831:function(module,exports){},5832:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5833)},5833:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_settings_service=__webpack_require__(5834);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherSettingsService",function($injector){var $http=$injector.get("$http");return new _settings_service.SettingsService($http)})},5834:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35),_settings=__webpack_require__(5835);exports.SettingsService=function(){function SettingsService($http){_classCallCheck(this,SettingsService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(SettingsService,[{key:"getSettings",value:function(){return this.$http.get(this.basePath+"/settings").then(function(response){return _settings.Settings.fromUpstreamJson(response.data)})}}]),SettingsService}()},5835:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _settings=__webpack_require__(5836);Object.defineProperty(exports,"Settings",{enumerable:!0,get:function(){return _settings.Settings}})},5836:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Settings=function(){function Settings(props){_classCallCheck(this,Settings),this.actionTypes=props.actionTypes}return _createClass(Settings,null,[{key:"fromUpstreamJson",value:function(json){return new Settings({actionTypes:json.action_types})}}]),Settings}()},5837:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5838)},5838:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_panel_pager=__webpack_require__(5839),_panel_pager2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_panel_pager);__webpack_require__(5840),_modules.uiModules.get("xpack/watcher").directive("panelPager",function(){return{restrict:"E",replace:!0,template:_panel_pager2.default,scope:{onNextPage:"=",onPreviousPage:"="},bindToController:!0,controllerAs:"panelPager",controller:function PanelPagerController(){_classCallCheck(this,PanelPagerController)}}})},5839:function(module,exports){module.exports='<div class="kuiPanelPager">\n  <button\n    class="kuiButton kuiButton--iconText panelPagerPrevious"\n    ng-click="panelPager.onPreviousPage()"\n    aria-label="Go to previous page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-left panelPagerPrevious__icon"\n      >\n      </span>\n    </span>\n  </button>\n  <button\n    class="kuiButton kuiButton--iconText panelPagerNext"\n    ng-click="panelPager.onNextPage()"\n    aria-label="Go to next page"\n  >\n    <span class="kuiButton__inner">\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-chevron-right panelPagerNext__icon"\n      >\n      </span>\n    </span>\n  </button>\n</div>\n'},5840:function(module,exports){},5841:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5842)},5842:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_fields_service=__webpack_require__(5843);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherFieldsService",function($injector){var $http=$injector.get("$http");return new _fields_service.FieldsService($http)})},5843:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldsService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35);exports.FieldsService=function(){function FieldsService($http){_classCallCheck(this,FieldsService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(FieldsService,[{key:"getFields",value:function(){var indexes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["*"];return this.$http.post(this.basePath+"/fields",{indexes:indexes}).then(function(response){return response.data.fields})}}]),FieldsService}()},5844:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5845)},5845:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_xpack_watcher_timezone_service=__webpack_require__(5846);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherTimezoneService",function($injector){var config=$injector.get("config");return new _xpack_watcher_timezone_service.XpackWatcherTimezoneService(config)})},5846:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.XpackWatcherTimezoneService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_jstimezonedetect=__webpack_require__(680),_moment=__webpack_require__(9),_moment2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_moment);exports.XpackWatcherTimezoneService=function(){function XpackWatcherTimezoneService(config){_classCallCheck(this,XpackWatcherTimezoneService),this.config=config}return _createClass(XpackWatcherTimezoneService,[{key:"getTimezone",value:function(){if(!this.config.isDefault("dateFormat:tz"))return this.config.get("dateFormat:tz");var detectedTimezone=_jstimezonedetect.jstz.determine().name();return detectedTimezone||(0,_moment2.default)().format("Z")}}]),XpackWatcherTimezoneService}()},5847:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5848)},5848:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_xpack_watcher_interval_service=__webpack_require__(5849),_time_buckets=__webpack_require__(168);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherIntervalService",function($injector){var Private=$injector.get("Private"),TimeBuckets=Private(_time_buckets.TimeBucketsProvider),timeBuckets=new TimeBuckets;return new _xpack_watcher_interval_service.XpackWatcherIntervalService(timeBuckets)})},5849:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.XpackWatcherIntervalService=function(){function XpackWatcherIntervalService(timeBuckets){_classCallCheck(this,XpackWatcherIntervalService),this.timeBuckets=timeBuckets}return _createClass(XpackWatcherIntervalService,[{key:"getInterval",value:function(input){return this.timeBuckets.setBounds(input),this.timeBuckets.getInterval()}}]),XpackWatcherIntervalService}()},5850:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5851),__webpack_require__(420)},5851:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_action_defaults_service=__webpack_require__(5852),_registry=__webpack_require__(420);__webpack_require__(5853),__webpack_require__(5854),__webpack_require__(5855),_modules.uiModules.get("xpack/watcher").factory("xpackWatcherActionDefaultsService",function($injector){var config=$injector.get("config"),Private=$injector.get("Private"),registry=Private(_registry.ActionDefaultsRegistryProvider);return new _action_defaults_service.XpackWatcherActionDefaultsService(config,registry)})},5852:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});exports.XpackWatcherActionDefaultsService=function XpackWatcherActionDefaultsService(config,registry){var _this=this;_classCallCheck(this,XpackWatcherActionDefaultsService),this.getDefaults=function(watchType,actionType){var reg=_this.registry,match=reg.find(function(registryEntry){return registryEntry.watchType===watchType&&registryEntry.actionType===actionType});return match?match.getDefaults(_this.config,watchType):{}},this.config=config,this.registry=registry}},5853:function(module,exports,__webpack_require__){"use strict";function getActionDefaults(config){return{to:config.get(DEFAULT_ADMIN_EMAIL_CONFIG_KEY)}}var _lodash=__webpack_require__(1),_constants=__webpack_require__(35),_registry=__webpack_require__(420),DEFAULT_ADMIN_EMAIL_CONFIG_KEY="xPack:defaultAdminEmail",actionType=_constants.ACTION_TYPES.EMAIL;_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function(config){var actionDefaults=getActionDefaults(config),actionWatchComboDefaults={subject:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5854:function(module,exports,__webpack_require__){"use strict";function getActionDefaults(){return{}}var _lodash=__webpack_require__(1),_constants=__webpack_require__(35),_registry=__webpack_require__(420),actionType=_constants.ACTION_TYPES.LOGGING;_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function(config){var actionDefaults=getActionDefaults(),actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5855:function(module,exports,__webpack_require__){"use strict";function getActionDefaults(){return{}}var _lodash=__webpack_require__(1),_constants=__webpack_require__(35),_registry=__webpack_require__(420),actionType=_constants.ACTION_TYPES.SLACK;_registry.ActionDefaultsRegistryProvider.register(function(){return{actionType:actionType,watchType:_constants.WATCH_TYPES.THRESHOLD,getDefaults:function(config){var actionDefaults=getActionDefaults(),actionWatchComboDefaults={text:"Watch [{{ctx.metadata.name}}] has exceeded the threshold"};return(0,_lodash.merge)(actionDefaults,actionWatchComboDefaults)}}})},5856:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _visualize_options=__webpack_require__(5857);Object.defineProperty(exports,"VisualizeOptions",{enumerable:!0,get:function(){return _visualize_options.VisualizeOptions}})},5857:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.VisualizeOptions=function(){function VisualizeOptions(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VisualizeOptions),this.rangeFrom=props.rangeFrom,this.rangeTo=props.rangeTo,this.interval=props.interval,this.timezone=props.timezone}return _createClass(VisualizeOptions,[{key:"upstreamJson",get:function(){return{rangeFrom:this.rangeFrom,rangeTo:this.rangeTo,interval:this.interval,timezone:this.timezone}}}]),VisualizeOptions}()},5858:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5859)},5859:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes);__webpack_require__(105);var _notify=__webpack_require__(10),_watch_history_item_route=__webpack_require__(5860),_watch_history_item_route2=_interopRequireDefault(_watch_history_item_route);__webpack_require__(418),__webpack_require__(5861),__webpack_require__(5864);var _update_management_sections=__webpack_require__(838);_routes2.default.when("/management/elasticsearch/watcher/watches/watch/:watchId/history-item/:watchHistoryItemId",{template:_watch_history_item_route2.default,resolve:{watch:function($injector){var $route=$injector.get("$route"),watchService=$injector.get("xpackWatcherWatchService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"}),watchId=$route.current.params.watchId;return watchService.loadWatch(watchId).catch(function(err){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches"),Promise.reject()})},watchHistoryItem:function($injector){var $route=$injector.get("$route"),$filter=$injector.get("$filter"),moment=$filter("moment"),watchHistoryService=$injector.get("xpackWatcherWatchHistoryService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"}),watchId=$route.current.params.watchId,watchHistoryItemId=$route.current.params.watchHistoryItemId;return watchHistoryService.loadWatchHistoryItem(watchHistoryItemId).then(function(historyItem){var display=moment(historyItem.startTime);return(0,_update_management_sections.updateHistorySection)(display),historyItem}).catch(function(err){return 403!==err.status&&notifier.error(err),kbnUrl.redirect("/management/elasticsearch/watcher/watches/watch/"+watchId+"/status"),Promise.reject()})}},controllerAs:"watchHistoryItemRoute",controller:function WatchHistoryItemRouteController($injector){_classCallCheck(this,WatchHistoryItemRouteController);var $route=$injector.get("$route");this.watch=$route.current.locals.watch,this.watchHistoryItem=$route.current.locals.watchHistoryItem}})},5860:function(module,exports){module.exports='<watch-history-item\n  xpack-watch="watchHistoryItemRoute.watch"\n  watch-history-item="watchHistoryItemRoute.watchHistoryItem"\n></watch-history-item>\n'},5861:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5862)},5862:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_watch_history_service=__webpack_require__(5863);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchHistoryService",function($injector){var $http=$injector.get("$http");return new _watch_history_service.WatchHistoryService($http)})},5863:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchHistoryService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35),_watch_history_item=__webpack_require__(1570);exports.WatchHistoryService=function(){function WatchHistoryService($http){_classCallCheck(this,WatchHistoryService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(WatchHistoryService,[{key:"loadWatchHistoryItem",value:function(watchHistoryItemId){return this.$http.get(this.basePath+"/history/"+watchHistoryItemId).then(function(response){return _watch_history_item.WatchHistoryItem.fromUpstreamJson(response.data.watchHistoryItem)})}}]),WatchHistoryService}()},5864:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5865)},5865:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_watch_history_item=__webpack_require__(5866),_watch_history_item2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_item);__webpack_require__(1573),__webpack_require__(5867),__webpack_require__(5870),_modules.uiModules.get("xpack/watcher").directive("watchHistoryItem",function(){return{restrict:"E",template:_watch_history_item2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:!0,controllerAs:"watchHistoryItem",controller:function(_InitAfterBindingsWor){function WatchHistoryItemController(){return _classCallCheck(this,WatchHistoryItemController),_possibleConstructorReturn(this,(WatchHistoryItemController.__proto__||Object.getPrototypeOf(WatchHistoryItemController)).apply(this,arguments))}return _inherits(WatchHistoryItemController,_InitAfterBindingsWor),_createClass(WatchHistoryItemController,[{key:"initAfterBindings",value:function(){this.omitBreadcrumbPages=["watch","history-item",this.watch.id],this.breadcrumb=this.watch.displayName}}]),WatchHistoryItemController}(_compat.InitAfterBindingsWorkaround)}})},5866:function(module,exports){module.exports='<kbn-management-app\n  section="elasticsearch/watcher/watch"\n  omit-breadcrumb-pages="{{ watchHistoryItem.omitBreadcrumbPages }}"\n  page-title="watchHistoryItem.breadcrumb"\n>\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-watch-summary\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-watch-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <watch-history-item-actions-summary\n        xpack-watch="watchHistoryItem.watch"\n        watch-history-item="watchHistoryItem.watchHistoryItem"\n      ></watch-history-item-actions-summary>\n    </div>\n    <div class="kuiViewContentItem kuiVerticalRhythm">\n      <label>Execution Output:</label>\n      <watch-history-item-detail watch-history-item="watchHistoryItem.watchHistoryItem"></watch-history-item-detail>\n    </div>\n  </div>\n</kbn-management-app>\n'},5867:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5868)},5868:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_watch_history_item_watch_summary=__webpack_require__(5869),_watch_history_item_watch_summary2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_item_watch_summary);__webpack_require__(559),_modules.uiModules.get("xpack/watcher").directive("watchHistoryItemWatchSummary",function(){return{restrict:"E",replace:!0,template:_watch_history_item_watch_summary2.default,scope:{watchHistoryItem:"="},bindToController:!0,controllerAs:"watchHistoryItemWatchSummary",controller:function WatchHistoryItemWatchSummaryController(){_classCallCheck(this,WatchHistoryItemWatchSummaryController)}}})},5869:function(module,exports){module.exports='<div>\n  <label>Execution Status:</label>\n  <watch-state-icon\n    watch-status="watchHistoryItemWatchSummary.watchHistoryItem.watchStatus"\n  ></watch-state-icon>\n  <span>{{ watchHistoryItemWatchSummary.watchHistoryItem.watchStatus.state }}</span>\n</div>\n'},5870:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5871)},5871:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_lodash=__webpack_require__(1),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_watch_history_item_actions_summary=__webpack_require__(5872),_watch_history_item_actions_summary2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_watch_history_item_actions_summary);__webpack_require__(1574),_modules.uiModules.get("xpack/watcher").directive("watchHistoryItemActionsSummary",function(){return{restrict:"E",replace:!0,template:_watch_history_item_actions_summary2.default,scope:{watch:"=xpackWatch",watchHistoryItem:"="},bindToController:!0,controllerAs:"watchHistoryItemActionsSummary",controller:function(_InitAfterBindingsWor){function WatchHistoryItemActionsSummaryController(){return _classCallCheck(this,WatchHistoryItemActionsSummaryController),_possibleConstructorReturn(this,(WatchHistoryItemActionsSummaryController.__proto__||Object.getPrototypeOf(WatchHistoryItemActionsSummaryController)).apply(this,arguments))}return _inherits(WatchHistoryItemActionsSummaryController,_InitAfterBindingsWor),_createClass(WatchHistoryItemActionsSummaryController,[{key:"initAfterBindings",value:function(){var actions=this.watch.actions,actionStatuses=this.watchHistoryItem.watchStatus.actionStatuses;this.actionDetails=actions.map(function(action){return{action:action,actionStatus:(0,_lodash.find)(actionStatuses,{id:action.id})}})}}]),WatchHistoryItemActionsSummaryController}(_compat.InitAfterBindingsWorkaround)}})},5872:function(module,exports){module.exports='<table class="kuiTable kuiTable--fluid kuiVerticalRhythm">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell">Action</th>\n      <th scope="col" class="kuiTableHeaderCell">Type</th>\n      <th scope="col" class="kuiTableHeaderCell">State</th>\n      <th scope="col" class="kuiTableHeaderCell">Reason</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="actionDetail in watchHistoryItemActionsSummary.actionDetails">\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.id}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner ">\n        {{actionDetail.action.type}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        <action-state-icon action-status="actionDetail.actionStatus"></action-state-icon>\n        {{actionDetail.actionStatus.state}}\n      </div>\n    </td>\n    <td class="kuiTableRowCell">\n      <div class="kuiTableRowCell__liner">\n        {{actionDetail.actionStatus.lastExecutionReason}}\n      </div>\n    </td>\n  </tr>\n</table>\n'},5873:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5874),__webpack_require__(5876)},5874:function(module,exports,__webpack_require__){"use strict";var _management=__webpack_require__(95);__webpack_require__(232),__webpack_require__(5875),_management.management.getSection("elasticsearch").register("watcher",{display:"Watcher",order:4,url:"#/management/elasticsearch/watcher/"}),_management.management.getSection("elasticsearch/watcher").register("watches",{display:"Watches",order:1}),_management.management.getSection("elasticsearch/watcher").register("watch",{visible:!1}),_management.management.getSection("elasticsearch/watcher/watch").register("status",{display:"Status",order:1,visible:!1}),_management.management.getSection("elasticsearch/watcher/watch").register("edit",{display:"Edit",order:2,visible:!1}),_management.management.getSection("elasticsearch/watcher/watch").register("new",{display:"New Watch",order:1,visible:!1}),_management.management.getSection("elasticsearch/watcher/watch").register("history-item",{order:1,visible:!1})},5875:function(module,exports){},5876:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _routes=__webpack_require__(11),_routes2=_interopRequireDefault(_routes),_management=__webpack_require__(95),_notify=__webpack_require__(10),_watch_list_route=__webpack_require__(5877),_watch_list_route2=_interopRequireDefault(_watch_list_route);__webpack_require__(5878),__webpack_require__(232),_routes2.default.when("/management/elasticsearch/watcher/",{redirectTo:"/management/elasticsearch/watcher/watches/"}),_routes2.default.when("/management/elasticsearch/watcher/watches/",{template:_watch_list_route2.default,controller:function WatchListRouteController($injector){_classCallCheck(this,WatchListRouteController);var $route=$injector.get("$route");this.watches=$route.current.locals.watches},controllerAs:"watchListRoute",resolve:{watches:function($injector){var watchesService=$injector.get("xpackWatcherWatchesService"),licenseService=$injector.get("xpackWatcherLicenseService"),kbnUrl=$injector.get("kbnUrl"),notifier=new _notify.Notifier({location:"Watcher"});return watchesService.getWatchList().catch(function(err){return licenseService.checkValidity().then(function(){return 403===err.status?null:(notifier.error(err),kbnUrl.redirect("/management"),Promise.reject())})})},checkLicense:function($injector){return $injector.get("xpackWatcherLicenseService").checkValidity()}}}),_routes2.default.defaults(/\/management/,{resolve:{watcherManagementSection:function($injector){var licenseService=$injector.get("xpackWatcherLicenseService"),watchesSection=_management.management.getSection("elasticsearch/watcher");licenseService.showLinks?watchesSection.show():watchesSection.hide(),licenseService.enableLinks?(watchesSection.enable(),watchesSection.tooltip=""):(watchesSection.disable(),watchesSection.tooltip=licenseService.message)}}})},5877:function(module,exports){module.exports='<watch-list watches="watchListRoute.watches"></watch-list>\n'},5878:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5879)},5879:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_pluralize=__webpack_require__(828),_pluralize2=_interopRequireDefault(_pluralize),_modules=__webpack_require__(2),_compat=__webpack_require__(60),_notify=__webpack_require__(10),_watch_list=__webpack_require__(5880),_watch_list2=_interopRequireDefault(_watch_list);__webpack_require__(5881);var _constants=__webpack_require__(35);__webpack_require__(308),__webpack_require__(261),__webpack_require__(658),__webpack_require__(556),__webpack_require__(1571),__webpack_require__(5884),__webpack_require__(5887),__webpack_require__(232),_modules.uiModules.get("xpack/watcher").directive("watchList",function($injector){var pagerFactory=$injector.get("pagerFactory"),watchesService=$injector.get("xpackWatcherWatchesService"),licenseService=$injector.get("xpackWatcherLicenseService"),confirmModal=$injector.get("confirmModal"),$interval=$injector.get("$interval"),kbnUrl=$injector.get("kbnUrl"),$filter=$injector.get("$filter"),filter=$filter("filter"),orderBy=$filter("orderBy"),limitTo=$filter("limitTo");return{restrict:"E",template:_watch_list2.default,scope:{watches:"="},bindToController:!0,controllerAs:"watchList",controller:function(_InitAfterBindingsWor){function WatchListController(){var _ref,_temp,_this,_ret;_classCallCheck(this,WatchListController);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=WatchListController.__proto__||Object.getPrototypeOf(WatchListController)).call.apply(_ref,[this].concat(args))),_this.loadWatches=function(){watchesService.getWatchList().then(function(watches){_this.watches=watches,_this.forbidden=!1}).catch(function(err){return licenseService.checkValidity().then(function(){403===err.status?_this.forbidden=!0:_this.notifier.error(err)})})},_this.onQueryChange=function(query){_this.query=query},_this.onPageNext=function(){_this.pager.nextPage()},_this.onPagePrevious=function(){_this.pager.previousPage()},_this.onSortChange=function(field,reverse){_this.sortField=field,_this.sortReverse=reverse},_this.onSelectedChange=function(selectedWatches){_this.selectedWatches=selectedWatches},_this.onClickCreateThresholdAlert=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.THRESHOLD)},_this.onClickCreateAdvancedWatch=function(){_this.goToWatchWizardForType(_constants.WATCH_TYPES.JSON)},_this.goToWatchWizardForType=function(watchType){var url="management/elasticsearch/watcher/watches/new-watch/"+watchType;kbnUrl.change(url,{})},_this.onSelectedWatchesDelete=function(){var watchesBeingDeleted=_this.selectedWatches,numWatchesToDelete=watchesBeingDeleted.length,watchesStr=(0,_pluralize2.default)("Watch",numWatchesToDelete);return confirmModal("This will permanently delete "+numWatchesToDelete+" "+watchesStr+". Are you sure?",{confirmButtonText:"Delete "+numWatchesToDelete+" "+watchesStr,onConfirm:function(){return _this.deleteSelectedWatches(watchesBeingDeleted)}})},_this.deleteSelectedWatches=function(watchesBeingDeleted){_this.watchesBeingDeleted=watchesBeingDeleted;var numWatchesToDelete=_this.watchesBeingDeleted.length,watchesStr=(0,_pluralize2.default)("Watch",numWatchesToDelete),watchIds=_this.watchesBeingDeleted.map(function(watch){return watch.id});return watchesService.deleteWatches(watchIds).then(function(results){var numSuccesses=results.numSuccesses,numErrors=results.numErrors,numTotal=numWatchesToDelete;numSuccesses>0&&_notify.toastNotifications.addSuccess("Deleted "+numSuccesses+" out of "+numTotal+" selected "+watchesStr),numErrors>0&&_notify.toastNotifications.addError("Couldn't delete "+numErrors+" out of "+numTotal+" selected "+watchesStr),_this.loadWatches()}).catch(function(err){return licenseService.checkValidity().then(function(){return _this.notifier.error(err)})})},_this.applyFilters=function(){var filteredWatches=_this.watches,pageOfWatches=[];filteredWatches=filter(filteredWatches,{searchValue:_this.query}),filteredWatches=orderBy(filteredWatches,_this.sortField,_this.sortReverse),pageOfWatches=limitTo(filteredWatches,_this.pager.pageSize,_this.pager.startIndex),_this.pageOfWatches=pageOfWatches,_this.pager.setTotalItems(filteredWatches.length)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(WatchListController,_InitAfterBindingsWor),_createClass(WatchListController,[{key:"initAfterBindings",value:function($scope){var _this2=this;this.forbidden=!1,null===this.watches&&(this.watches=[],this.forbidden=!0),this.selectedWatches=[],this.pageOfWatches=[],this.sortField="id",this.sortReverse=!1,this.notifier=new _notify.Notifier({location:"Watcher"}),this.pager=pagerFactory.create(this.watches.length,_constants.PAGINATION.PAGE_SIZE,1);var refreshInterval=$interval(function(){return _this2.loadWatches()},_constants.REFRESH_INTERVALS.WATCH_LIST);$scope.$on("$destroy",function(){return $interval.cancel(refreshInterval)}),$scope.$watchMulti(["watchList.watches","watchList.sortField","watchList.sortReverse","watchList.query","watchList.pager.currentPage"],this.applyFilters)}},{key:"hasPageOfWatches",get:function(){return this.pageOfWatches.length>0}},{key:"hasSelectedWatches",get:function(){return this.selectedWatches.length>0}}]),WatchListController}(_compat.InitAfterBindingsWorkaround)}})},5880:function(module,exports){module.exports='<kbn-management-app section="elasticsearch/watcher">\n  <div class="kuiViewContent kuiViewContent--constrainedWidth">\n    <forbidden-message ng-if="watchList.forbidden">\n      You do not have permission to manage watches.\n    </forbidden-message>\n\n    <div\n      ng-if="!watchList.forbidden"\n      class="kuiViewContentItem kuiVerticalRhythm"\n    >\n      <div class="kuiVerticalRhythm">\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateThresholdAlert()"\n          data-test-subj="createThresholdAlertButton"\n          tooltip="Set up a custom watch in raw JSON"\n        >\n          Create threshold alert\n        </button>\n\n        <button\n          class="kuiButton kuiButton--primary"\n          ng-click="watchList.onClickCreateAdvancedWatch()"\n          data-test-subj="createAdvancedWatchButton"\n          tooltip="Send an alert on a specific condition"\n        >\n          Create advanced watch\n        </button>\n      </div>\n\n      <div class="kuiControlledTable kuiVerticalRhythm">\n        <div class="kuiToolBar">\n          <div class="kuiToolBarSearch">\n            <tool-bar-search-box\n              filter="watchList.query"\n              on-filter="watchList.onQueryChange"\n            ></tool-bar-search-box>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <button\n              class="kuiButton kuiButton--danger"\n              ng-disabled="!watchList.hasSelectedWatches"\n              ng-click="watchList.onSelectedWatchesDelete()"\n              data-test-subj="btnDeleteWatches"\n            >\n              Delete\n            </button>\n          </div>\n\n          <div class="kuiToolBarSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n\n        <watch-table\n          watches="watchList.pageOfWatches"\n          watches-being-deleted="watchList.watchesBeingDeleted"\n          sort-field="watchList.sortField"\n          sort-reverse="watchList.sortReverse"\n          on-sort-change="watchList.onSortChange"\n          on-select-change="watchList.onSelectedChange"\n          ng-show="watchList.hasPageOfWatches"\n        >\n        </watch-table>\n\n        <table-info ng-show="!watchList.hasPageOfWatches">\n          No watches found.\n        </table-info>\n\n        <div class="kuiToolBarFooter">\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-selected-count\n              count="watchList.selectedWatches.length"\n              singular-name="watch"\n              plural-name="watches"\n              ng-show="watchList.hasSelectedWatches"\n            ></tool-bar-selected-count>\n          </div>\n\n          <div class="kuiToolBarFooterSection">\n            <tool-bar-pager-text\n              start-item="watchList.pager.startItem"\n              end-item="watchList.pager.endItem"\n              total-items="watchList.pager.totalItems"\n            ></tool-bar-pager-text>\n            <tool-bar-pager-buttons\n              has-previous-page="watchList.pager.hasPreviousPage"\n              has-next-page="watchList.pager.hasNextPage"\n              on-page-next="watchList.onPageNext"\n              on-page-previous="watchList.onPagePrevious"\n            ></tool-bar-pager-buttons>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</kbn-management-app>\n'},5881:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5882)},5882:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _lodash=__webpack_require__(1),_lodash2=_interopRequireDefault(_lodash),_modules=__webpack_require__(2);__webpack_require__(1558),__webpack_require__(690);var _watch_table=__webpack_require__(5883),_watch_table2=_interopRequireDefault(_watch_table);__webpack_require__(559),_modules.uiModules.get("xpack/watcher").directive("watchTable",function(){return{restrict:"E",replace:!0,template:_watch_table2.default,scope:{watches:"=",watchesBeingDeleted:"=",sortField:"=",sortReverse:"=",onSortChange:"=",onSelectChange:"="},controllerAs:"watchTable",bindToController:!0,controller:function WatchTableController($scope){var _this=this;_classCallCheck(this,WatchTableController),this.onAllSelectedChange=function(itemId,allSelected){_lodash2.default.forEach(_this.editableItems,function(item){item.selected=allSelected}),_this.updateSelectedWatches()},this.onWatchSelectedChange=function(watchId,selected){_lodash2.default.find(_this.items,function(item){return item.watch.id===watchId}).selected=selected,_this.updateSelectedWatches()},this.updateSelectedWatches=function(){var selectedItems=_lodash2.default.filter(_this.items,function(item){return item.selected}),selectedWatches=_lodash2.default.map(selectedItems,function(item){return item.watch}),areAllEditableItemsSelected=selectedWatches.length===_this.editableItems.length;_this.allSelected=areAllEditableItemsSelected&&_this.editableItems.length>0,_this.onSelectChange(selectedWatches)},this.isEditable=function(item){return!item.watch.isSystemWatch&&!item.isBeingDeleted},this.areAnyEditable=function(){return 0!==_this.editableItems.length},this.allSelected=!1,$scope.$watch("watchTable.watches",function(watches){var previousItems=_this.items;_this.items=_lodash2.default.map(watches,function(watch){var matchedItem=_lodash2.default.find(previousItems,function(previousItem){return previousItem.watch.id===watch.id}),selected=Boolean(_lodash2.default.get(matchedItem,"selected"));return{watch:watch,selected:selected}}),_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)}),_this.updateSelectedWatches()}),$scope.$watch("watchTable.watchesBeingDeleted",function(watches){_this.items.forEach(function(item){var matchedItem=_lodash2.default.find(watches,function(watch){return watch.id===item.watch.id});item.selected=!1,item.isBeingDeleted=Boolean(matchedItem)}),_this.editableItems=_this.items.filter(function(item){return _this.isEditable(item)}),_this.updateSelectedWatches()})}}})},5883:function(module,exports){module.exports='<table class="kuiTable">\n  <thead>\n    <tr>\n      <th scope="col" class="kuiTableHeaderCell kuiTableHeaderCell--checkBox">\n        <check-box\n          is-selected="watchTable.allSelected"\n          on-select-change="watchTable.onAllSelectedChange"\n          ng-if="watchTable.areAnyEditable()"\n          data-test-subj="selectAllWatchesCheckBox"\n        ></check-box>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="id"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          ID\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="name"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Name\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.state"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          State\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.comment"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Comment\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastFired"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Last Fired\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell">\n        <sortable-column\n          field="watchStatus.lastChecked"\n          on-sort-change="watchTable.onSortChange"\n          sort-field="watchTable.sortField"\n          sort-reverse="watchTable.sortReverse"\n        >\n          Last Triggered\n        </sortable-column>\n      </th>\n      <th scope="col" class="kuiTableHeaderCell"></th>\n    </tr>\n  </thead>\n\n  <tbody>\n    <tr\n      ng-repeat="item in watchTable.items"\n      class="kuiTableRow"\n      ng-class="{ \'kuiTableRow-isBeingDeleted\': item.isBeingDeleted }"\n      data-test-subj="watchRow-{{ item.watch.id }}"\n    >\n      <td class="kuiTableRowCell kuiTableRowCell--checkBox">\n        <div class="kuiTableRowCell__liner">\n          <check-box\n            id="item.watch.id"\n            is-selected="item.selected"\n            on-select-change="watchTable.onWatchSelectedChange"\n            ng-if="watchTable.isEditable(item)"\n          ></check-box>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <a\n            class="kuiLink"\n            ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/status"\n            title="{{item.watch.id}}"\n            ng-if="watchTable.isEditable(item)"\n\n          >\n            {{item.watch.id}}\n          </a>\n          <span\n            title="{{item.watch.id}}"\n            ng-if="!watchTable.isEditable(item)"\n          >\n            {{item.watch.id}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.name}}">\n            {{item.watch.name}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.state}}">\n            <watch-state-icon watch-status="item.watch.watchStatus"></watch-state-icon>\n            {{ item.watch.watchStatus.state }}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.comment}}">\n            {{item.watch.watchStatus.comment}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.lastFired | moment}}">\n            {{item.watch.watchStatus.lastFiredHumanized}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <span title="{{item.watch.watchStatus.lastChecked | moment}}">\n            {{item.watch.watchStatus.lastCheckedHumanized}}\n          </span>\n        </div>\n      </td>\n      <td class="kuiTableRowCell">\n        <div class="kuiTableRowCell__liner">\n          <div class="kuiMenuButtonGroup kuiMenuButtonGroup--alignRight">\n            <a\n              class="kuiMenuButton kuiMenuButton--basic kuiMenuButton--iconText"\n              title="Edit"\n              ng-href="#/management/elasticsearch/watcher/watches/watch/{{item.watch.id}}/edit"\n              ng-if="watchTable.isEditable(item)"\n              data-test-subj="lnkWatchEdit-{{ item.watch.id }}"\n            >\n              <span class="kuiMenuButton__icon kuiIcon fa-pencil"></span>\n              <span>Edit</span>\n            </a>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n'},5884:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5885)},5885:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _modules=__webpack_require__(2),_forbidden_message=__webpack_require__(5886),_forbidden_message2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_forbidden_message);_modules.uiModules.get("xpack/watcher").directive("forbiddenMessage",function(){return{restrict:"E",replace:!0,template:_forbidden_message2.default,transclude:!0,scope:{},controllerAs:"forbiddenMessage",bindToController:!0,controller:function ForbiddenMessageController(){_classCallCheck(this,ForbiddenMessageController)}}})},5886:function(module,exports){module.exports='<div class="kuiInfoPanel kuiInfoPanel--error">\n  <div class="kuiInfoPanelHeader">\n    <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n    <span\n      class="kuiInfoPanelHeader__title"\n      ng-transclude\n    ></span>\n  </div>\n\n  <div class="kuiInfoPanelBody">\n    <div class="kuiInfoPanelBody__message">\n      Please contact your administrator.\n    </div>\n  </div>\n</div>\n'},5887:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5888)},5888:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(2),_watches_service=__webpack_require__(5889);_modules.uiModules.get("xpack/watcher").factory("xpackWatcherWatchesService",function($injector){var $http=$injector.get("$http");return new _watches_service.WatchesService($http)})},5889:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchesService=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_constants=__webpack_require__(35),_watch=__webpack_require__(1567);exports.WatchesService=function(){function WatchesService($http){_classCallCheck(this,WatchesService),this.$http=$http,this.basePath=_chrome2.default.addBasePath(_constants.ROUTES.API_ROOT)}return _createClass(WatchesService,[{key:"getWatchList",value:function(){return this.$http.get(this.basePath+"/watches").then(function(response){return response.data.watches}).then(function(watches){return watches.map(function(watch){return _watch.Watch.fromUpstreamJson(watch)})})}},{key:"deleteWatches",value:function(watchIds){var requestOpts={data:{watchIds:watchIds},headers:{"Content-Type":"application/json"}};return this.$http.delete(this.basePath+"/watches",requestOpts).then(function(response){return response.data.results})}}]),WatchesService}()},5890:function(module,exports,__webpack_require__){"use strict";var _field_format_editors=__webpack_require__(1527),_bytes=__webpack_require__(5891),_color=__webpack_require__(5892),_date=__webpack_require__(5895),_duration=__webpack_require__(5897),_number=__webpack_require__(5900),_percent=__webpack_require__(5901),_string=__webpack_require__(5902),_truncate=__webpack_require__(5904),_url=__webpack_require__(5907);_field_format_editors.RegistryFieldFormatEditorsProvider.register(_bytes.bytesEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_color.colorEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_date.dateEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_duration.durationEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_number.numberEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_percent.percentEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_string.stringEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_truncate.truncateEditor),_field_format_editors.RegistryFieldFormatEditorsProvider.register(_url.urlEditor)},5891:function(module,exports,__webpack_require__){"use strict";function bytesEditor(){return{formatId:"bytes",template:_numeral2.default,controllerAs:"cntrl",controller:function(){this.sampleInputs=[1024,515e4,199e7]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.bytesEditor=bytesEditor;var _numeral=__webpack_require__(840),_numeral2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_numeral)},5892:function(module,exports,__webpack_require__){"use strict";function colorEditor(){return{formatId:"color",template:_color2.default,controller:function($scope){$scope.$watch("editor.field.type",function(type){$scope.editor.formatParams.fieldType=type}),$scope.addColor=function(){$scope.editor.formatParams.colors.push(_extends({},_color_default.DEFAULT_COLOR))},$scope.removeColor=function(index){$scope.editor.formatParams.colors.splice(index,1)},$scope.setColor=function(index,propName,value){$scope.editor.formatParams.colors[index][propName]=value},$scope.getSetBackgroundColor=function(index){return $scope.editor.formatParams.colors[index].setBackgroundColor?$scope.editor.formatParams.colors[index].setBackgroundColor:($scope.editor.formatParams.colors[index].setBackgroundColor=$scope.setColor.bind(null,index,"background"),$scope.editor.formatParams.colors[index].setBackgroundColor)},$scope.getSetTextColor=function(index){return $scope.editor.formatParams.colors[index].setTextColor?$scope.editor.formatParams.colors[index].setTextColor:($scope.editor.formatParams.colors[index].setTextColor=$scope.setColor.bind(null,index,"text"),$scope.editor.formatParams.colors[index].setTextColor)}}}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.colorEditor=colorEditor,__webpack_require__(5893);var _color=__webpack_require__(5894),_color2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_color),_color_default=__webpack_require__(1199)},5893:function(module,exports){},5894:function(module,exports){module.exports='<div class="form-group">\n  <div ng-repeat="color in editor.formatParams.colors">\n    <div class="editor-color">\n      <button\n        ng-if="editor.formatParams.colors.length > 1"\n        aria-label="Remove Color"\n        ng-click="removeColor($index)"\n        tooltip="Remove Color"\n        tooltip-append-to-body="true"\n        type="button"\n        class="kuiButton kuiButton--danger kuiButton--small editor-color-remove"\n      >\n        <span aria-hidden="true" class="kuiIcon fa-times"></span>\n      </button>\n      <div class="form-group" ng-if="editor.formatParams.fieldType === \'number\'">\n        <label for="scriptFieldColorRange">Range <small>(min:max)</small></label>\n        <input\n          id="scriptFieldColorRange"\n          ng-model="color.range"\n          class="form-control"\n        >\n      </div>\n      <div class="form-group" ng-if="editor.formatParams.fieldType === \'string\'">\n        <label for="scriptFieldColorPattern">Pattern <small>(regular expression)</small></label>\n        <input\n          id="scriptFieldColorPattern"\n          ng-model="color.regex"\n          class="form-control"\n        >\n      </div>\n      <div class="form-group">\n        <label for="scriptFieldColorFont">Font Color</label>\n        <color-picker\n          id="scriptFieldColorFont"\n          on-change="getSetTextColor($index)"\n          color="color.text"\n          class="form-control"\n        />\n      </div>\n      <div class="form-group">\n        <label for="scriptFieldColorBackground">Background Color</label>\n        <color-picker\n          id="scriptFieldColorBackground"\n          on-change="getSetBackgroundColor($index)"\n          color="color.background"\n          class="form-control"\n        />\n      </div>\n      <div class="form-group">\n        <label for="scriptFieldColorExample">Example</label>\n        <div\n          id="scriptFieldColorExample"\n          class="form-control"\n          ng-style="{color: color.text, \'background-color\': color.background}"\n          value="formatted"\n        >\n            123456\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  <button\n    aria-label="Add Color"\n    ng-click="addColor()"\n    tooltip="Add Color"\n    tooltip-append-to-body="true"\n    type="button"\n    class="kuiButton kuiButton--primary kuiButton--small kuiButton--iconText"\n  >\n      <span\n        aria-hidden="true"\n        class="kuiButton__icon kuiIcon fa-plus"\n      ></span>\n      <span>Add Color</span>\n  </button>\n\n</div>\n'},5895:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function dateEditor(){return{formatId:"date",template:_date2.default,controllerAs:"cntrl",controller:function($interval,$scope){var _this=this;this.sampleInputs=[Date.now(),(0,_moment2.default)().startOf("year").valueOf(),(0,_moment2.default)().endOf("year").valueOf()];var stop=$interval(function(){_this.sampleInputs[0]=Date.now()},1e3);$scope.$on("$destroy",function(){$interval.cancel(stop)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.dateEditor=dateEditor;var _date=__webpack_require__(5896),_date2=_interopRequireDefault(_date),_moment=__webpack_require__(9),_moment2=_interopRequireDefault(_moment)},5896:function(module,exports){module.exports='<div class="form-group">\n  <small class="pull-right">\n    <a ng-href="http://momentjs.com/" target="_blank" rel="noopener noreferrer">\n      Docs <i class="fa fa-link"></i>\n    </a>\n  </small>\n\n  <label for="scriptFieldDate">\n    moment.js format pattern\n    <small>\n      (Default: "{{ editor.field.format.getParamDefaults().pattern }}")\n    </small>\n  </label>\n\n  <field-format-editor-pattern\n    id="scriptFieldDate"\n    ng-model="editor.formatParams.pattern"\n    inputs="cntrl.sampleInputs"\n  ></field-format-editor-pattern>\n\n</div>\n'},5897:function(module,exports,__webpack_require__){"use strict";function durationEditor(){return{formatId:"duration",template:_duration2.default,controllerAs:"cntrl",controller:function(){this.sampleInputs=[-123,1,12,123,658,1988,3857,123292,923528271]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.durationEditor=durationEditor,__webpack_require__(5898);var _duration=__webpack_require__(5899),_duration2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_duration)},5898:function(module,exports){},5899:function(module,exports){module.exports='<div class="editor-duration">\n  <div class="form-group">\n    <label for="scriptFieldDurationInputFormat">Input Format</label>\n    <select\n      id="scriptFieldDurationInputFormat"\n      ng-model="editor.formatParams.inputFormat"\n      ng-options="inputFormat.kind as inputFormat.text for inputFormat in editor.field.format.type.inputFormats"\n      class="form-control">\n    </select>\n  </div>\n  <div class="form-group">\n    <label for="scriptFieldDurationOutputFormat">Output Format</label>\n    <select\n      id="scriptFieldDurationOutputFormat"\n      ng-model="editor.formatParams.outputFormat"\n      ng-options="outputFormat.method as outputFormat.text for outputFormat in editor.field.format.type.outputFormats"\n      class="form-control">\n    </select>\n  </div>\n  <div class="form-group" ng-hide="editor.field.format.isHuman()">\n    <label for="scriptFieldDurationDecimal">Decimal Places</label>\n    <input\n      type="number"\n      min="0"\n      max="20"\n      id="scriptFieldDurationDecimal"\n      ng-model="editor.formatParams.outputPrecision"\n      class="form-control"\n    />\n  </div>\n</div>\n<div>\n  <field-format-editor-samples\n    ng-model="editor.formatParams"\n    inputs="cntrl.sampleInputs">\n  </field-format-editor-samples>\n</div>\n'},5900:function(module,exports,__webpack_require__){"use strict";function numberEditor(){return{formatId:"number",template:_numeral2.default,controllerAs:"cntrl",controller:function(){this.sampleInputs=[1e4,12.345678,-1,-999,.52]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.numberEditor=numberEditor;var _numeral=__webpack_require__(840),_numeral2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_numeral)},5901:function(module,exports,__webpack_require__){"use strict";function percentEditor(){return{formatId:"percent",template:_numeral2.default,controllerAs:"cntrl",controller:function(){this.sampleInputs=[.1,.99999,1,100,1e3]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.percentEditor=percentEditor;var _numeral=__webpack_require__(840),_numeral2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_numeral)},5902:function(module,exports,__webpack_require__){"use strict";function stringEditor(){return{formatId:"string",template:_string2.default,controllerAs:"cntrl",controller:function(){this.transformOpts=[{id:!1,name:"- none -"},{id:"lower",name:"Lower Case"},{id:"upper",name:"Upper Case"},{id:"title",name:"Title Case"},{id:"short",name:"Short Dots"},{id:"base64",name:"Base64 Decode"}],this.sampleInputs=["A Quick Brown Fox.","STAY CALM!","com.organizations.project.ClassName","hostname.net","SGVsbG8gd29ybGQ="]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.stringEditor=stringEditor;var _string=__webpack_require__(5903),_string2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_string)},5903:function(module,exports){module.exports='<div class="form-group">\n  <label for="scriptFieldTransformString">Transform</label>\n  <select\n    id="scriptFieldTransformString"\n    ng-model="editor.formatParams.transform"\n    ng-options="opt.id as opt.name for opt in cntrl.transformOpts"\n    class="form-control">\n  </select>\n</div>\n\n<field-format-editor-samples inputs="cntrl.sampleInputs"></field-format-editor-samples>\n'},5904:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function truncateEditor(){return{formatId:"truncate",template:_truncate2.default,controllerAs:"cntrl",controller:function(){this.sampleInputs=[_large2.default]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.truncateEditor=truncateEditor;var _truncate=__webpack_require__(5905),_truncate2=_interopRequireDefault(_truncate),_large=__webpack_require__(5906),_large2=_interopRequireDefault(_large)},5905:function(module,exports){module.exports='<div class="form-group">\n  <label for="scriptFieldTruncateLength">Field Length</label>\n  <input\n    id="scriptFieldTruncateLength"\n    ng-model="editor.formatParams.fieldLength"\n    class="form-control"\n  >\n</div>\n\n<field-format-editor-samples inputs="cntrl.sampleInputs"></field-format-editor-samples>\n'},5906:function(module,exports){module.exports="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae sem consequat, sollicitudin enim a, feugiat mi. Curabitur congue laoreet elit, eu dictum nisi commodo ut. Nullam congue sem a blandit commodo. Suspendisse eleifend sodales leo ac hendrerit. Nam fringilla tempor fermentum. Ut tristique pharetra sapien sit amet pharetra. Ut turpis massa, viverra id erat quis, fringilla vehicula risus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus tincidunt gravida gravida. Praesent et ligula viverra, semper lacus in, tristique elit. Cras ac eleifend diam. Nulla facilisi. Morbi id sagittis magna. Sed fringilla, magna in suscipit aliquet."},5907:function(module,exports,__webpack_require__){"use strict";function urlEditor(){return{formatId:"url",template:_url2.default,controllerAs:"url",controller:function($scope,chrome){var iconPattern=chrome.getBasePath()+"/bundles/src/ui/public/field_format_editor/editors/url/icons/{{value}}.png";this.samples={a:["john","/some/pathname/asset.png",1234],img:["go","stop",["de","ne","us","ni"],"cv"]},this.urlTypes=[{id:"a",name:"Link"},{id:"img",name:"Image"},{id:"audio",name:"Audio"}],$scope.$watch("editor.formatParams.type",function(type,prev){var params=$scope.editor.formatParams;"img"!==type||type===prev||params.urlTemplate||(params.urlTemplate=iconPattern)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlEditor=urlEditor;var _url=__webpack_require__(5908),_url2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_url);__webpack_require__(5909)},5908:function(module,exports){module.exports='<div class="form-group">\n  <label for="scriptFieldUrlType">Type</label>\n  <select\n    id="scriptFieldUrlType"\n    ng-model="editor.formatParams.type"\n    ng-options="type.id as type.name for type in url.urlTypes"\n    class="form-control">\n  </select>\n</div>\n\n<div ng-if="editor.formatParams.type == \'a\'">\n  <label class="kuiCheckBoxLabel">\n    <input\n      class="kuiCheckBox"\n      type="checkbox"\n      ng-model="editor.formatParams.openLinkInCurrentTab"\n    ></input>\n\n    <span class="kuiCheckBoxLabel__text">\n      Open link in current tab\n    </span>\n  </label>\n</div>\n\n<div class="form-group">\n  <span class="pull-right text-info hintbox-label" ng-click="editor.showUrlTmplHelp = !editor.showUrlTmplHelp">\n    <i class="fa fa-info"></i> Url Template Help\n  </span>\n\n  <label for="scriptFieldUrlTemplate">Url Template</label>\n  <div class="hintbox" ng-if="editor.showUrlTmplHelp">\n    <h4 class="hintbox-heading">\n      <i class="fa fa-question-circle text-info"></i> Url Template Help\n    </h4>\n\n    <p>\n      If a field only contains part of a url then a "Url Template" can be used to format the value as a complete url. The format is a string which uses double curly brace notation <code ng-non-bindable>{{ }}</code> to inject values. The following values can be accessed:\n    </p>\n\n    <ul>\n      <li>\n        <strong>value</strong> &mdash; The uri-escaped value\n      </li>\n      <li>\n        <strong>rawValue</strong> &mdash; The unescaped value\n      </li>\n    </ul>\n\n    <table class="table table-striped table-bordered">\n      <caption>Examples</caption>\n      <thead>\n        <tr>\n          <th scope="col">Value</th>\n          <th scope="col">Template</th>\n          <th scope="col">Result</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>1234</td>\n          <td ng-non-bindable>http://company.net/profiles?user_id={{value}}</td>\n          <td>http://company.net/profiles?user_id=1234</td>\n        </tr>\n        <tr>\n          <td>users/admin</td>\n          <td ng-non-bindable>http://company.net/groups?id={{value}}</td>\n          <td>http://company.net/groups?id=users%2Fadmin</td>\n        </tr>\n        <tr>\n          <td>/images/favicon.ico</td>\n          <td ng-non-bindable>http://www.site.com{{rawValue}}</td>\n          <td>http://www.site.com/images/favicon.ico</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <input\n    id="scriptFieldUrlTemplate"\n    ng-model="editor.formatParams.urlTemplate"\n    class="form-control"\n  >\n</div>\n\n<div class="form-group">\n  <span class="pull-right text-info hintbox-label" ng-click="editor.showLabelTmplHelp = !editor.showLabelTmplHelp">\n    <i class="fa fa-info"></i> Label Template Help\n  </span>\n\n  <label for="scriptFieldUrlLabelTemplate">Label Template</label>\n  <div class="hintbox" ng-if="editor.showLabelTmplHelp">\n    <h4 class="hintbox-heading">\n      <i class="fa fa-question-circle text-info"></i> Label Template Help\n    </h4>\n\n    <p>\n      If the url in this field is large, it might be useful to provide an alternate template for the text version of the url. This will be displayed instead of the url, but will still link to the url. The format is a string which uses double curly brace notation <code ng-non-bindable>{{ }}</code> to inject values. The following values can be accessed:\n    </p>\n\n    <ul>\n      <li>\n        <strong>value</strong> &mdash; The fields value\n      </li>\n      <li>\n        <strong>url</strong> &mdash; The formatted url\n      </li>\n    </ul>\n\n    <table class="table table-striped table-bordered">\n      <caption>Examples</caption>\n      <thead>\n        <tr>\n          <th scope="col">Value</th>\n          <th scope="col">Url Template</th>\n          <th scope="col">Label Template</th>\n          <th scope="col">Result</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td>1234</td>\n          <td ng-non-bindable>http://company.net/profiles?user_id={{value}}</td>\n          <td ng-non-bindable>User #{{value}}</td>\n          <td>\n            <a href="http://company.net/profiles?user_id=1234">User #1234</a>\n          </td>\n        </tr>\n        <tr>\n          <td>/assets/main.css</td>\n          <td ng-non-bindable>http://site.com{{rawValue}}</td>\n          <td>View Asset</td>\n          <td>\n            <a href="http://site.com/assets/main.css">View Asset</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <input\n    id="scriptFieldUrlLabelTemplate"\n    ng-model="editor.formatParams.labelTemplate"\n    class="form-control"\n  >\n</div>\n\n<field-format-editor-samples inputs="url.samples[editor.formatParams.type]"></field-format-editor-samples>\n'},5909:function(module,exports,__webpack_require__){"use strict";__webpack_require__(5910),__webpack_require__(5911),__webpack_require__(5912),__webpack_require__(5913),__webpack_require__(5914),__webpack_require__(5915),__webpack_require__(5916)},5910:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/go.png"},5911:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/stop.png"},5912:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/de.png"},5913:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/ne.png"},5914:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/us.png"},5915:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/ni.png"},5916:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"src/ui/public/field_format_editor/editors/url/icons/cv.png"},819:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Synopsis(_ref){var description=_ref.description,iconUrl=_ref.iconUrl,iconType=_ref.iconType,title=_ref.title,url=_ref.url,wrapInPanel=_ref.wrapInPanel,optionalImg=void 0;iconUrl?optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement("img",{className:"synopsisIcon",src:iconUrl,alt:""})):iconType&&(optionalImg=_react2.default.createElement(_eui.EuiFlexItem,{grow:!1},_react2.default.createElement(_eui.EuiIcon,{type:iconType,size:"xl"})));var content=_react2.default.createElement(_eui.EuiFlexGroup,null,optionalImg,_react2.default.createElement(_eui.EuiFlexItem,{className:"synopsisContent"},_react2.default.createElement(_eui.EuiTitle,{size:"s",className:"synopsisTitle"},_react2.default.createElement("h4",null,title)),_react2.default.createElement(_eui.EuiText,{className:"synopsisBody"},_react2.default.createElement("p",null,_react2.default.createElement(_eui.EuiTextColor,{color:"subdued"},description))))),synopsisDisplay=content;return wrapInPanel&&(synopsisDisplay=_react2.default.createElement(_eui.EuiPanel,{className:"synopsisPanel"},content)),_react2.default.createElement("a",{href:url,className:"euiLink synopsis","data-test-subj":"homeSynopsisLink"+title.toLowerCase()},synopsisDisplay)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Synopsis=Synopsis,__webpack_require__(5134);var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(3),_propTypes2=_interopRequireDefault(_propTypes),_eui=__webpack_require__(5);Synopsis.propTypes={description:_propTypes2.default.string.isRequired,iconUrl:_propTypes2.default.string,iconType:_propTypes2.default.string,title:_propTypes2.default.string.isRequired,url:_propTypes2.default.string.isRequired}},820:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _can_append_wildcard=__webpack_require__(5229);Object.defineProperty(exports,"canAppendWildcard",{enumerable:!0,get:function(){return _can_append_wildcard.canAppendWildcard}});var _ensure_minimum_time=__webpack_require__(5230);Object.defineProperty(exports,"ensureMinimumTime",{enumerable:!0,get:function(){return _ensure_minimum_time.ensureMinimumTime}});var _get_indices=__webpack_require__(1524);Object.defineProperty(exports,"getIndices",{enumerable:!0,get:function(){return _get_indices.getIndices}});var _get_matched_indices=__webpack_require__(5231);Object.defineProperty(exports,"getMatchedIndices",{enumerable:!0,get:function(){return _get_matched_indices.getMatchedIndices}});var _contains_invalid_characters=__webpack_require__(5232);Object.defineProperty(exports,"containsInvalidCharacters",{enumerable:!0,get:function(){return _contains_invalid_characters.containsInvalidCharacters}});var _extract_time_fields=__webpack_require__(5233);Object.defineProperty(exports,"extractTimeFields",{enumerable:!0,get:function(){return _extract_time_fields.extractTimeFields}})},821:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"},exports.LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"}},822:function(module,exports,__webpack_require__){"use strict";function useResizeChecker($scope,$el){for(var _len=arguments.length,editors=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)editors[_key-2]=arguments[_key];var checker=new _resize_checker.ResizeChecker($el);checker.on("resize",function(){return editors.forEach(function(e){return e.resize()})}),$scope.$on("$destroy",function(){return checker.destroy()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.useResizeChecker=useResizeChecker;var _resize_checker=__webpack_require__(485)},823:function(module,exports,__webpack_require__){"use strict";function getVersion(){return esVersion}function getContentType(body){if(body)return"application/json"}function send(method,path,data){var wrappedDfd=_jquery2.default.Deferred(),isGetRequest=/^get$/i.test(method);data&&isGetRequest&&(method="POST");var options={url:"../api/console/proxy?"+(0,_querystring.stringify)({path:path,method:method}),data:data,contentType:getContentType(data),cache:!1,crossDomain:!0,type:"POST",dataType:"text"};return _jquery2.default.ajax(options).then(function(data,textStatus,jqXHR){wrappedDfd.resolveWith(this,[data,textStatus,jqXHR])},function(jqXHR,textStatus,errorThrown){0==jqXHR.status&&(jqXHR.responseText="\n\nFailed to connect to Console's backend.\nPlease check the Kibana server is up and running"),wrappedDfd.rejectWith(this,[jqXHR,textStatus,errorThrown])}),wrappedDfd}function constructESUrl(baseUri,path){return baseUri=baseUri.replace(/\/+$/,""),path=path.replace(/^\/+/,""),baseUri+"/"+path}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVersion=getVersion,exports.getContentType=getContentType,exports.send=send,exports.constructESUrl=constructESUrl;var _querystring=__webpack_require__(342),_jquery=__webpack_require__(12),_jquery2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery),esVersion=[]},824:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _lodash=__webpack_require__(1),_lodash2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_lodash),utils={};utils.textFromRequest=function(request){var data=request.data;return"string"!=typeof data&&(data=data.join("\n")),request.method+" "+request.url+"\n"+data},utils.jsonToString=function(data,indent){return JSON.stringify(data,null,indent?2:0)},utils.reformatData=function(data,indent){for(var changed=!1,formatted_data=[],i=0;i<data.length;i++){var cur_doc=data[i];try{var new_doc=utils.jsonToString(JSON.parse(utils.collapseLiteralStrings(cur_doc)),indent?2:0);indent&&(new_doc=utils.expandLiteralStrings(new_doc)),changed=changed||new_doc!=cur_doc,formatted_data.push(new_doc)}catch(e){console.log(e),formatted_data.push(cur_doc)}}return{changed:changed,data:formatted_data}},utils.collapseLiteralStrings=function(data){return data.replace(/"""(?:\s*\r?\n)?((?:.|\r?\n)*?)(?:\r?\n\s*)?"""/g,function(match,literal){return JSON.stringify(literal)})},utils.expandLiteralStrings=function(data){return data.replace(/("(?:\\"|[^"])*?")/g,function(match,string){if(string.split(/\\./).length>2){string=JSON.parse(string).replace("^s*\n","").replace("\ns*^","");var append=string.includes("\n")?"\n":"";return'"""'+append+string+append+'"""'}return string})},utils.extractDeprecationMessages=function(warnings){var re=/\d{3} [0-9a-zA-Z!#$%&'*+-.^_`|~]+ \"((?:\t| |!|[\x23-\x5b]|[\x5d-\x7e]|[\x80-\xff]|\\\\|\\")*)\"(?: \"[^"]*\")/;return _lodash2.default.map(utils.splitOnUnquotedCommaSpace(warnings),function(warning){var match=re.exec(warning);return"#! Deprecation: "+(null!==match?utils.unescape(match[1]):warning)})},utils.unescape=function(s){return s.replace(/\\\\/g,"\\").replace(/\\"/g,'"')},utils.splitOnUnquotedCommaSpace=function(s){for(var quoted=!1,arr=[],buffer="",i=0;i<s.length;){var token=s.charAt(i++);if("\\"==token&&i<s.length?token+=s.charAt(i++):","==token&&i<s.length&&" "==s.charAt(i)&&(token+=s.charAt(i++)),'"'==token)quoted=!quoted;else if(!quoted&&", "==token){arr.push(buffer),buffer="";continue}buffer+=token}return arr.push(buffer),arr},exports.default=utils,module.exports=exports.default},825:function(module,exports,__webpack_require__){"use strict";function createInstance($el){var aceEditor=ace.edit($el[0]),CustomSenseEditor=function(){};CustomSenseEditor.prototype={};for(var key in aceEditor)switch(_typeof(aceEditor[key])){case"function":CustomSenseEditor.prototype[key]=_.bindKey(aceEditor,key);break;default:!function(key){Object.defineProperty(CustomSenseEditor.prototype,key,{get:function(){return aceEditor[key]},set:function(val){aceEditor[key]=val}})}(key)}var editor=new CustomSenseEditor;return editor.__ace=aceEditor,editor}function SenseEditor($el){var editor=createInstance($el),CURRENT_REQ_RANGE=null;editor.$el=$el,editor.$actions=null,editor.parser=new RowParser(editor),editor.resize=smartResize(editor);var onceDoneTokenizing=function(func,cancelAlreadyScheduledCalls){var session=editor.getSession(),timer=!1;return function(){var self=this,args=[].slice.call(arguments,0);cancelAlreadyScheduledCalls&&(timer=clearTimeout(timer)),setTimeout(function check(){session.bgTokenizer.running?timer=setTimeout(check,25):func.apply(self,args)})}};editor.setShowPrintMargin(!1),function(session){session.setMode(new InputMode.Mode),session.setFoldStyle("markbeginend"),session.setTabSize(2),session.setUseWrapMode(!0)}(editor.getSession()),editor.prevRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null==rowOrPos?editor.getCursorPosition():rowOrPos;for(var curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos;curRow>0&&!editor.parser.isStartRequestRow(curRow,editor);)curRow--;return{row:curRow,column:0}},editor.nextRequestStart=function(rowOrPos){rowOrPos=_.isUndefined(rowOrPos)||null==rowOrPos?editor.getCursorPosition():rowOrPos;for(var session=editor.getSession(),curRow=_.isObject(rowOrPos)?rowOrPos.row:rowOrPos,maxLines=session.getLength();curRow<maxLines-1&&!editor.parser.isStartRequestRow(curRow,editor);curRow++);return{row:curRow,column:0}},editor.autoIndent=onceDoneTokenizing(function(){editor.getRequestRange(function(req_range){req_range&&editor.getRequest(function(parsed_req){if(parsed_req.data&&parsed_req.data.length>0){var indent=1==parsed_req.data.length,formatted_data=utils.reformatData(parsed_req.data,indent);formatted_data.changed||(indent=!indent,formatted_data=utils.reformatData(parsed_req.data,indent)),parsed_req.data=formatted_data.data,editor.replaceRequestRange(parsed_req,req_range)}})})},!0),editor.update=function(data,callback){callback="function"==typeof callback?callback:null;var session=editor.getSession();session.setValue(data),callback&&setTimeout(function(){var i;for(i=0;i<session.getLength();i++)session.getTokens(i);callback()})},editor.replaceRequestRange=function(newRequest,requestRange){var text=utils.textFromRequest(newRequest);if(requestRange){var pos=editor.getCursorPosition();editor.getSession().replace(requestRange,text);var max_row=Math.max(requestRange.start.row+text.split("\n").length-1,0);pos.row=Math.min(pos.row,max_row),editor.moveCursorToPosition(pos),editor.clearSelection()}else editor.insert(text)},editor.iterForCurrentLoc=function(){var pos=editor.getCursorPosition();return editor.iterForPosition(pos.row,pos.column,editor)},editor.iterForPosition=function(row,column){return new(ace.require("ace/token_iterator").TokenIterator)(editor.getSession(),row,column)},editor.getRequestRange=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)&&(cb=row,row=null),"function"==typeof cb){if(editor.parser.isInBetweenRequestsRow(row))return void cb(null);var reqStart=editor.prevRequestStart(row,editor),reqEnd=editor.nextRequestEnd(reqStart,editor);cb(new(ace.require("ace/range").Range)(reqStart.row,reqStart.column,reqEnd.row,reqEnd.column))}}),editor.getEngulfingRequestsRange=onceDoneTokenizing(function(range,cb){_.isUndefined(cb)&&(cb=range,range=null),range=range||editor.getSelectionRange();var session=editor.getSession(),startRow=range.start.row,endRow=range.end.row,maxLine=Math.max(0,session.getLength()-1);if(editor.parser.isInBetweenRequestsRow(startRow));else for(;startRow>=0&&!editor.parser.isStartRequestRow(startRow);startRow--);if(startRow<0||startRow>endRow)return void cb(null);if(editor.parser.isInBetweenRequestsRow(endRow))for(;endRow>=startRow&&!editor.parser.isEndRequestRow(endRow);endRow--);else for(;endRow<=maxLine&&!editor.parser.isEndRequestRow(endRow);endRow++);if(endRow<startRow||endRow>maxLine)return void cb(null);var endColumn=(session.getLine(endRow)||"").replace(/\s+$/,"").length;cb(new(ace.require("ace/range").Range)(startRow,0,endRow,endColumn))}),editor.getRequestInRange=onceDoneTokenizing(function(range,cb){var request={method:"",data:[],url:null,range:range},pos=range.start,tokenIter=editor.iterForPosition(pos.row,pos.column,editor),t=tokenIter.getCurrentToken();if(editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter)),request.method=t.value,!(t=editor.parser.nextNonEmptyToken(tokenIter))||"method"==t.type)return null;for(request.url="";t&&t.type&&0==t.type.indexOf("url");)request.url+=t.value,t=tokenIter.stepForward();editor.parser.isEmptyToken(t)&&(t=editor.parser.nextNonEmptyToken(tokenIter));for(var dataEndPos,bodyStartRow=(t?0:1)+tokenIter.getCurrentTokenRow();bodyStartRow<range.end.row||bodyStartRow==range.end.row&&0<range.end.column;){dataEndPos=editor.nextDataDocEnd({row:bodyStartRow,column:0});var bodyRange=new(ace.require("ace/range").Range)(bodyStartRow,0,dataEndPos.row,dataEndPos.column),data=editor.getSession().getTextRange(bodyRange);request.data.push(data.trim()),bodyStartRow=dataEndPos.row+1}cb(request)}),editor.getRequestsInRange=function(range,includeNonRequestBlocks,cb){function explicitRangeToRequests(requestsRange,tempCb){if(!requestsRange)return void tempCb([]);for(var startRow=requestsRange.start.row,endRow=requestsRange.end.row,currentRow=startRow;currentRow<=endRow&&!editor.parser.isStartRequestRow(currentRow);currentRow++);var nonRequestPrefixBlock=null;if(includeNonRequestBlocks&&currentRow!=startRow&&(nonRequestPrefixBlock=editor.getSession().getLines(startRow,currentRow-1).join("\n")),currentRow>endRow)return void tempCb(nonRequestPrefixBlock?[nonRequestPrefixBlock]:[]);editor.getRequest(currentRow,function(request){explicitRangeToRequests({start:{row:request.range.end.row+1},end:{row:requestsRange.end.row}},function(rest_of_requests){rest_of_requests.unshift(request),null!=nonRequestPrefixBlock&&rest_of_requests.unshift(nonRequestPrefixBlock),tempCb(rest_of_requests)})})}_.isUndefined(includeNonRequestBlocks)?(includeNonRequestBlocks=!1,cb=range,range=null):_.isUndefined(cb)&&(cb=includeNonRequestBlocks,includeNonRequestBlocks=!1),editor.getEngulfingRequestsRange(range,function(requestRange){explicitRangeToRequests(requestRange,cb)})},editor.getRequest=onceDoneTokenizing(function(row,cb){if(_.isUndefined(cb)&&(cb=row,row=null),"function"==typeof cb)return editor.parser.isInBetweenRequestsRow(row)?void cb(null):void editor.getRequestRange(row,function(range){editor.getRequestInRange(range,cb)})}),editor.moveToPreviousRequestEdge=onceDoneTokenizing(function(){var pos=editor.getCursorPosition();for(pos.row--;pos.row>0&&!editor.parser.isRequestEdge(pos.row);pos.row--);editor.moveCursorTo(pos.row,0)}),editor.moveToNextRequestEdge=onceDoneTokenizing(function(moveOnlyIfNotOnEdge){var pos=editor.getCursorPosition(),maxRow=editor.getSession().getLength();for(moveOnlyIfNotOnEdge||pos.row++;pos.row<maxRow&&!editor.parser.isRequestEdge(pos.row);pos.row++);editor.moveCursorTo(pos.row,0)}),editor.nextRequestEnd=function(pos){pos=pos||editor.getCursorPosition();for(var session=editor.getSession(),curRow=pos.row,maxLines=session.getLength();curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&editor.parser.MODE.REQUEST_END)>0)break;if(curRow!=pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}return{row:curRow,column:(session.getLine(curRow)||"").replace(/\s+$/,"").length}},editor.nextDataDocEnd=function(pos){pos=pos||editor.getCursorPosition();for(var session=editor.getSession(),curRow=pos.row,maxLines=session.getLength();curRow<maxLines-1;curRow++){var curRowMode=editor.parser.getRowParseMode(curRow,editor);if((curRowMode&RowParser.REQUEST_END)>0)break;if((curRowMode&editor.parser.MODE.MULTI_DOC_CUR_DOC_END)>0)break;if(curRow!=pos.row&&(curRowMode&editor.parser.MODE.REQUEST_START)>0)break}return{row:curRow,column:(session.getLine(curRow)||"").length}};var origOnPaste=editor.__ace.onPaste;return editor.__ace.onPaste=function(text){if(text&&curl.detectCURL(text))return void editor.handleCURLPaste(text);origOnPaste.call(this,text)},editor.handleCURLPaste=function(text){var curlInput=curl.parseCURL(text);editor.insert(curlInput)},editor.highlightCurrentRequestsAndUpdateActionBar=onceDoneTokenizing(function(){var session=editor.getSession();editor.getEngulfingRequestsRange(function(new_current_req_range){if(null!=new_current_req_range||null!=CURRENT_REQ_RANGE){if(null!=new_current_req_range&&null!=CURRENT_REQ_RANGE&&new_current_req_range.start.row==CURRENT_REQ_RANGE.start.row&&new_current_req_range.end.row==CURRENT_REQ_RANGE.end.row){return void(editor.getCursorPosition().row==CURRENT_REQ_RANGE.start.row&&editor.updateActionsBar())}CURRENT_REQ_RANGE&&session.removeMarker(CURRENT_REQ_RANGE.marker_id),CURRENT_REQ_RANGE=new_current_req_range,CURRENT_REQ_RANGE&&(CURRENT_REQ_RANGE.marker_id=session.addMarker(CURRENT_REQ_RANGE,"ace_snippet-marker","fullLine")),editor.updateActionsBar()}})},!0),editor.getRequestsAsCURL=function(range,cb){_.isUndefined(cb)&&(cb=range,range=null),_.isUndefined(cb)&&(cb=$.noop),editor.getRequestsInRange(range,!0,function(requests){var result=_.map(requests,function(req){if("string"==typeof req)return req;var es_path=req.url,es_method=req.method,es_data=req.data,elasticsearchBaseUrl=_chrome2.default.getInjected("elasticsearchUrl"),url=es.constructESUrl(elasticsearchBaseUrl,es_path),ret="curl -X"+es_method+' "'+url+'"';if(es_data&&es_data.length){ret+=" -H 'Content-Type: application/json' -d'\n";ret+=utils.collapseLiteralStrings(es_data.join("\n")).replace(/'/g,'\\"'),es_data.length>1&&(ret+="\n"),ret+="'"}return ret});cb(result.join("\n"))})},editor.getSession().on("tokenizerUpdate",function(){editor.highlightCurrentRequestsAndUpdateActionBar()}),editor.getSession().selection.on("changeCursor",function(){editor.highlightCurrentRequestsAndUpdateActionBar()}),editor.updateActionsBar=function(){var set=function(top){null==top?editor.$actions.css("visibility","hidden"):editor.$actions.css({top:top,visibility:"visible"})},hide=function(){set()};return function(){if(editor.$actions){if(CURRENT_REQ_RANGE){var offsetFromPage=editor.$el.offset().top,startRow=CURRENT_REQ_RANGE.start.row,startColumn=CURRENT_REQ_RANGE.start.column,session=editor.session;session.getLine(startRow).length>session.getWrapLimit()-5&&(startRow>0?startRow--:startRow++);var topOfReq=editor.renderer.textToScreenCoordinates(startRow,startColumn).pageY-offsetFromPage;if(topOfReq>=0)return set(topOfReq);if(editor.renderer.textToScreenCoordinates(CURRENT_REQ_RANGE.end.row,CURRENT_REQ_RANGE.end.column).pageY-offsetFromPage>=0)return set(0)}hide()}}}(),editor.getSession().on("changeScrollTop",editor.updateActionsBar),editor}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=SenseEditor;var _chrome=__webpack_require__(8),_chrome2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_chrome),_=__webpack_require__(1),ace=__webpack_require__(124),$=__webpack_require__(12),curl=__webpack_require__(5346),RowParser=__webpack_require__(5347),InputMode=__webpack_require__(5348),utils=__webpack_require__(824),es=__webpack_require__(823),smartResize=__webpack_require__(1539);module.exports=exports.default},826:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var $=__webpack_require__(12),storage=__webpack_require__(415),history={restoreFromHistory:function(){throw new Error("not implemented")},getHistoryKeys:function(){return storage.keys().filter(function(key){return 0===key.indexOf("hist_elem")}).sort().reverse()},getHistory:function(){return history.getHistoryKeys().map(function(key){return storage.get(key)})},addToHistory:function(endpoint,method,data){var keys=history.getHistoryKeys();keys.splice(0,500),$.each(keys,function(i,k){storage.delete(k)});var timestamp=(new Date).getTime(),k="hist_elem_"+timestamp;storage.set(k,{time:timestamp,endpoint:endpoint,method:method,data:data})},updateCurrentState:function(content){var timestamp=(new Date).getTime();storage.set("editor_state",{time:timestamp,content:content})},getSavedEditorState:function(){var saved=storage.get("editor_state");if(saved){return{time:saved.time,content:saved.content}}},clearHistory:function(){history.getHistoryKeys().forEach(function(key){return storage.delete(key)})}};exports.default=history,module.exports=exports.default},827:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _index_actions_context_menu=__webpack_require__(5414);Object.defineProperty(exports,"IndexActionsContextMenu",{enumerable:!0,get:function(){return _index_actions_context_menu.IndexActionsContextMenu}});var _index_list=__webpack_require__(1546);Object.defineProperty(exports,"IndexList",{enumerable:!0,get:function(){return _index_list.IndexList}});var _detail_panel=__webpack_require__(5431);Object.defineProperty(exports,"DetailPanel",{enumerable:!0,get:function(){return _detail_panel.DetailPanel}});var _index_table=__webpack_require__(5448);Object.defineProperty(exports,"IndexTable",{enumerable:!0,get:function(){return _index_table.IndexTable}})},828:function(module,exports,__webpack_require__){!function(root,pluralize){module.exports=pluralize()}(0,function(){function toTitleCase(str){return str.charAt(0).toUpperCase()+str.substr(1).toLowerCase()}function sanitizeRule(rule){return"string"==typeof rule?new RegExp("^"+rule+"$","i"):rule}function restoreCase(word,token){return word===token?token:word===word.toUpperCase()?token.toUpperCase():word[0]===word[0].toUpperCase()?toTitleCase(token):token.toLowerCase()}function interpolate(str,args){return str.replace(/\$(\d{1,2})/g,function(match,index){return args[index]||""})}function sanitizeWord(token,word,collection){if(!token.length||uncountables.hasOwnProperty(token))return word;for(var len=collection.length;len--;){var rule=collection[len];if(rule[0].test(word))return word.replace(rule[0],function(match,index,word){var result=interpolate(rule[1],arguments);return""===match?restoreCase(word[index-1],result):restoreCase(match,result)})}return word}function replaceWord(replaceMap,keepMap,rules){return function(word){var token=word.toLowerCase();return keepMap.hasOwnProperty(token)?restoreCase(word,token):replaceMap.hasOwnProperty(token)?restoreCase(word,replaceMap[token]):sanitizeWord(token,word,rules)}}function pluralize(word,count,inclusive){var pluralized=1===count?pluralize.singular(word):pluralize.plural(word);return(inclusive?count+" ":"")+pluralized}var pluralRules=[],singularRules=[],uncountables={},irregularPlurals={},irregularSingles={};return pluralize.plural=replaceWord(irregularSingles,irregularPlurals,pluralRules),pluralize.singular=replaceWord(irregularPlurals,irregularSingles,singularRules),pluralize.addPluralRule=function(rule,replacement){pluralRules.push([sanitizeRule(rule),replacement])},pluralize.addSingularRule=function(rule,replacement){singularRules.push([sanitizeRule(rule),replacement])},pluralize.addUncountableRule=function(word){if("string"==typeof word)return void(uncountables[word.toLowerCase()]=!0);pluralize.addPluralRule(word,"$0"),pluralize.addSingularRule(word,"$0")},pluralize.addIrregularRule=function(single,plural){plural=plural.toLowerCase(),single=single.toLowerCase(),irregularSingles[single]=plural,irregularPlurals[plural]=single},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(rule){return pluralize.addIrregularRule(rule[0],rule[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(rule){return pluralize.addPluralRule(rule[0],rule[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(rule){return pluralize.addSingularRule(rule[0],rule[1])}),["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(pluralize.addUncountableRule),pluralize})},829:function(module,exports,__webpack_require__){"use strict";function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadIndexData=exports.loadIndexDataSuccess=void 0;var _services=__webpack_require__(97),_reduxActions=__webpack_require__(30),_notify=__webpack_require__(10),loadIndexDataSuccess=exports.loadIndexDataSuccess=(0,_reduxActions.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS");exports.loadIndexData=function(_ref){var indexName=_ref.indexName,dataType=_ref.dataType;return function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(dispatch){var data;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return data=void 0,_context.prev=1,_context.next=4,(0,_services.loadIndexData)(dataType,indexName);case 4:data=_context.sent,_context.next=10;break;case 7:return _context.prev=7,_context.t0=_context.catch(1),_context.abrupt("return",_notify.toastNotifications.addDanger(_context.t0.data.message));case 10:dispatch(loadIndexDataSuccess({data:data,indexName:indexName}));case 11:case"end":return _context.stop()}},_callee,void 0,[[1,7]])}));return function(_x){return _ref2.apply(this,arguments)}}()}},830:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function putLicense(license,acknowledge){var options={url:_chrome2.default.addBasePath("/api/license")+(acknowledge?"?acknowledge=true":""),data:license,contentType:"application/json",cache:!1,crossDomain:!0,type:"PUT"};return _jquery2.default.ajax(options)}function startBasic(acknowledge){var options={url:_chrome2.default.addBasePath("/api/license/start_basic")+(acknowledge?"?acknowledge=true":""),contentType:"application/json",cache:!1,crossDomain:!0,type:"POST"};return _jquery2.default.ajax(options)}function startTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:!1,crossDomain:!0,type:"POST"};return _jquery2.default.ajax(options)}function canStartTrial(){var options={url:_chrome2.default.addBasePath("/api/license/start_trial"),contentType:"application/json",cache:!1,crossDomain:!0,type:"GET"};return _jquery2.default.ajax(options)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.putLicense=putLicense,exports.startBasic=startBasic,exports.startTrial=startTrial,exports.canStartTrial=canStartTrial;var _chrome=__webpack_require__(8),_chrome2=_interopRequireDefault(_chrome),_jquery=__webpack_require__(12),_jquery2=_interopRequireDefault(_jquery)},831:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addUploadErrorMessage=void 0;var _reduxActions=__webpack_require__(30);exports.addUploadErrorMessage=(0,_reduxActions.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE")},832:function(module,exports,__webpack_require__){"use strict";function toggle(collection,item){var i=collection.indexOf(item);i>=0?collection.splice(i,1):collection.push(item)}function toggleSort(sort,orderBy){sort.orderBy===orderBy?sort.reverse=!sort.reverse:(sort.orderBy=orderBy,sort.reverse=!1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggle=toggle,exports.toggleSort=toggleSort},833:function(module,exports,__webpack_require__){"use strict";__webpack_require__(694),__webpack_require__(2).uiModules.get("security",["ngResource"]).service("ShieldRole",function($resource,chrome){return $resource(chrome.addBasePath("/api/security/v1/roles/:name"),{name:"@name"})})},834:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseWatch=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get_search_value=__webpack_require__(5646),_lodash=__webpack_require__(1),_action=__webpack_require__(1568),_watch_status=__webpack_require__(835),_create_action_id=__webpack_require__(5657),_check_action_id_collision=__webpack_require__(5659),BaseWatch=exports.BaseWatch=function(){function BaseWatch(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,BaseWatch),_initialiseProps.call(this),this.id=(0,_lodash.get)(props,"id"),this.type=(0,_lodash.get)(props,"type"),this.isNew=(0,_lodash.get)(props,"isNew",!0),this.name=(0,_lodash.get)(props,"name",""),this.isSystemWatch=Boolean((0,_lodash.get)(props,"isSystemWatch")),this.watchStatus=_watch_status.WatchStatus.fromUpstreamJson((0,_lodash.get)(props,"watchStatus"));var actions=(0,_lodash.get)(props,"actions",[]);this.actions=actions.map(_action.Action.fromUpstreamJson)}return _createClass(BaseWatch,[{key:"displayName",get:function(){return this.isNew?"New Watch":this.name?this.name:this.id}},{key:"searchValue",get:function(){return(0,_get_search_value.getSearchValue)(this,["id","name"])}},{key:"typeName",get:function(){return this.constructor.typeName}},{key:"iconClass",get:function(){return this.constructor.iconClass}},{key:"selectMessage",get:function(){return this.constructor.selectMessage}},{key:"selectSortOrder",get:function(){return this.constructor.selectSortOrder}},{key:"upstreamJson",get:function(){return{id:this.id,name:this.name,type:this.type,actions:(0,_lodash.map)(this.actions,function(action){return action.upstreamJson})}}}]),BaseWatch}();BaseWatch.typeName="Watch",BaseWatch.iconClass="",BaseWatch.selectMessage="Set up a new watch.",BaseWatch.isCreatable=!0,BaseWatch.selectSortOrder=0;var _initialiseProps=function(){var _this=this;this.updateWatchStatus=function(watchStatus){_this.watchStatus=watchStatus},this.createAction=function(type,defaults){var ActionTypes=_action.Action.getActionTypes(),ActionType=ActionTypes[type];if(!Boolean(ActionType))throw new Error("Attempted to create unknown action type "+type+".");var id=(0,_create_action_id.createActionId)(_this.actions,type),props=(0,_lodash.merge)({},defaults,{id:id,type:type}),action=new ActionType(props);_this.addAction(action)},this.addAction=function(action){(0,_check_action_id_collision.checkActionIdCollision)(_this.actions,action)&&(action.id=(0,_create_action_id.createActionId)(_this.actions,action.type)),_this.actions.push(action)},this.deleteAction=function(action){(0,_lodash.remove)(_this.actions,action)},this.isEqualTo=function(otherWatch){var cleanWatch=_extends({},_this),cleanOtherWatch=_extends({},otherWatch);return(0,_lodash.isEqual)(cleanWatch,cleanOtherWatch)}}},835:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _watch_status=__webpack_require__(5653);Object.defineProperty(exports,"WatchStatus",{enumerable:!0,get:function(){return _watch_status.WatchStatus}})},836:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _get_moment=__webpack_require__(5654);Object.defineProperty(exports,"getMoment",{enumerable:!0,get:function(){return _get_moment.getMoment}})},837:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _time_units=__webpack_require__(5664);Object.defineProperty(exports,"TIME_UNITS",{enumerable:!0,get:function(){return _time_units.TIME_UNITS}})},838:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _update_watch_sections=__webpack_require__(5688);Object.defineProperty(exports,"updateWatchSections",{enumerable:!0,get:function(){return _update_watch_sections.updateWatchSections}});var _update_history_section=__webpack_require__(5689);Object.defineProperty(exports,"updateHistorySection",{enumerable:!0,get:function(){return _update_history_section.updateHistorySection}})},839:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _watch_action_controller_base=__webpack_require__(5819);Object.defineProperty(exports,"WatchActionControllerBase",{enumerable:!0,get:function(){return _watch_action_controller_base.WatchActionControllerBase}})},840:function(module,exports){module.exports='<div class="form-group">\n  <small class="pull-right">\n    <a ng-href="https://adamwdraper.github.io/Numeral-js/" target="_blank" rel="noopener noreferrer">\n      Docs <i class="fa fa-link"></i>\n    </a>\n  </small>\n\n  <label for="scriptFieldNumeral">\n    Numeral.js format pattern\n    <small>\n      (Default: "{{ editor.field.format.getParamDefaults().pattern }}")\n    </small>\n  </label>\n</div>\n\n<field-format-editor-pattern\n  id="scriptFieldNumeral"\n  ng-model="editor.formatParams.pattern"\n  placeholder="editor.field.format.getParamDefaults().pattern"\n  inputs="cntrl.sampleInputs">\n</field-format-editor-pattern>\n'},95:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.management=void 0;var _section=__webpack_require__(5215),management=exports.management=new _section.ManagementSection("management",{display:"Management"});management.register("data",{display:"Connect Data",order:0}),management.register("elasticsearch",{display:"Elasticsearch",order:20}),management.register("kibana",{display:"Kibana",order:30}),management.register("logstash",{display:"Logstash",order:30})},96:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _clear_cache_indices=__webpack_require__(5418);Object.keys(_clear_cache_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _clear_cache_indices[key]}})});var _close_indices=__webpack_require__(5422);Object.keys(_close_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _close_indices[key]}})});var _delete_indices=__webpack_require__(1547);Object.keys(_delete_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _delete_indices[key]}})});var _flush_indices=__webpack_require__(5423);Object.keys(_flush_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _flush_indices[key]}})});var _forcemerge_indices=__webpack_require__(5424);Object.keys(_forcemerge_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _forcemerge_indices[key]}})});var _load_indices=__webpack_require__(5425);Object.keys(_load_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _load_indices[key]}})});var _load_index_data=__webpack_require__(829);Object.keys(_load_index_data).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _load_index_data[key]}})});var _open_indices=__webpack_require__(5426);Object.keys(_open_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _open_indices[key]}})});var _refresh_indices=__webpack_require__(5427);Object.keys(_refresh_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _refresh_indices[key]}})});var _reload_indices=__webpack_require__(1548);Object.keys(_reload_indices).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _reload_indices[key]}})});var _table_state=__webpack_require__(5429);Object.keys(_table_state).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _table_state[key]}})});var _edit_index_settings=__webpack_require__(5430);Object.keys(_edit_index_settings).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _edit_index_settings[key]}})});var _update_index_settings=__webpack_require__(1549);Object.keys(_update_index_settings).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _update_index_settings[key]}})});var _detail_panel=__webpack_require__(1550);Object.keys(_detail_panel).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _detail_panel[key]}})})},97:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _api=__webpack_require__(1545);Object.keys(_api).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _api[key]}})});var _sort_table=__webpack_require__(5419);Object.defineProperty(exports,"sortTable",{enumerable:!0,get:function(){return _sort_table.sortTable}});var _filter_items=__webpack_require__(5420);Object.defineProperty(exports,"filterItems",{enumerable:!0,get:function(){return _filter_items.filterItems}});var _health_to_color=__webpack_require__(5421);Object.defineProperty(exports,"healthToColor",{enumerable:!0,get:function(){return _health_to_color.healthToColor}})}},[5127]);